function ___$insertStyle(t){if(t&&"undefined"!=typeof window){var e=document.createElement("style");return e.setAttribute("type","text/css"),e.innerHTML=t,document.head.appendChild(e),t}}import{Input as t,Output as e,EventEmitter as n,InjectionToken as o,ViewChild as r,Component as i,ElementRef as c,Injectable as a,Inject as u,NgModule as s,Optional as p,TemplateRef as l,Injector as g,ComponentFactoryResolver as d,ContentChild as f,ChangeDetectionStrategy as h,ViewEncapsulation as y,Renderer2 as m,RendererFactory2 as b,ChangeDetectorRef as v,NgZone as C,HostListener as _}from"@angular/core";import{CommonModule as S}from"@angular/common";import{Subject as R,isObservable as O,Observable as w,of as P,throwError as j,ReplaySubject as k,combineLatest as A,fromEvent as E}from"rxjs";import{take as D,filter as F,takeUntil as I,map as x,distinctUntilChanged as B,switchMap as T,skip as H,delay as M,throttleTime as L}from"rxjs/operators";import*as z from"element-resize-detector";var G,N,W=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Q=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},V=function(){function GridGateway(){this.source=[],this.columns=[],this.pageChanged=new n,this.pageSizeChanged=new n,this.itemsSelected=new n,this.columnsChanged=new n,this.containerWidthChanged=new n}return GridGateway.prototype.onPageChange=function(t){this.pageChanged.emit(t)},GridGateway.prototype.onPageSizeChange=function(t){this.pageSizeChanged.emit(t)},GridGateway.prototype.onItemSelect=function(t){this.itemsSelected.emit(t)},GridGateway.prototype.onColumnsChange=function(){this.columnsChanged.emit()},GridGateway.prototype.onContainerWidthChange=function(t){this.containerWidthChanged.emit(t)},W([t(),Q("design:type",Boolean)],GridGateway.prototype,"columnHeaderTop",void 0),W([t(),Q("design:type",Boolean)],GridGateway.prototype,"columnHeaderBottom",void 0),W([t(),Q("design:type",Number)],GridGateway.prototype,"height",void 0),W([t(),Q("design:type",Number)],GridGateway.prototype,"width",void 0),W([t(),Q("design:type",Boolean)],GridGateway.prototype,"autoResizeWidth",void 0),W([t(),Q("design:type",Array)],GridGateway.prototype,"source",void 0),W([t(),Q("design:type",Array)],GridGateway.prototype,"columns",void 0),W([t(),Q("design:type",Object)],GridGateway.prototype,"paging",void 0),W([t(),Q("design:type",Boolean)],GridGateway.prototype,"verticalGrid",void 0),W([t(),Q("design:type",Boolean)],GridGateway.prototype,"horizontalGrid",void 0),W([t(),Q("design:type",Object)],GridGateway.prototype,"theme",void 0),W([t(),Q("design:type",Object)],GridGateway.prototype,"rowColoring",void 0),W([t(),Q("design:type",Boolean)],GridGateway.prototype,"loading",void 0),W([t(),Q("design:type",Boolean)],GridGateway.prototype,"virtualScroll",void 0),W([e(),Q("design:type",n)],GridGateway.prototype,"pageChanged",void 0),W([e(),Q("design:type",n)],GridGateway.prototype,"pageSizeChanged",void 0),W([e(),Q("design:type",n)],GridGateway.prototype,"itemsSelected",void 0),W([e(),Q("design:type",n)],GridGateway.prototype,"columnsChanged",void 0),W([e(),Q("design:type",n)],GridGateway.prototype,"containerWidthChanged",void 0),GridGateway}(),$=function(){function GenericBuilder(){}return GenericBuilder.prototype.build=function(){return this.buildObject()},GenericBuilder}(),U=(G=function(t,e){return(G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function __(){this.constructor=t}G(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}),q=function(t){function StructurePagingDefinitionBuilder(e){var n=t.call(this)||this;return n.enabled=e,n}return U(StructurePagingDefinitionBuilder,t),StructurePagingDefinitionBuilder.prototype.buildObject=function(){return new K(this.enabled)},StructurePagingDefinitionBuilder.prototype.withEnabled=function(t){return this.enabled=t,this},StructurePagingDefinitionBuilder}($),Y=function(t){function StructurePagingDefinitionDefaultBuilder(){return t.call(this,StructurePagingDefinitionDefaultBuilder.defaultEnabled)||this}return U(StructurePagingDefinitionDefaultBuilder,t),StructurePagingDefinitionDefaultBuilder.defaultEnabled=!0,StructurePagingDefinitionDefaultBuilder}(q),K=function(){function StructurePagingDefinition(t){this.enabled=t}return StructurePagingDefinition.prototype.isEnabled=function(){return this.enabled},StructurePagingDefinition.Builder=q,StructurePagingDefinition.DefaultBuilder=Y,StructurePagingDefinition}(),X=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Z=function(t){function StructureDefinitionBuilder(e,n,o){var r=t.call(this)||this;return r.headerEnabled=e,r.bottomPaging=n,r.topPaging=o,r.border=!0,r}return X(StructureDefinitionBuilder,t),StructureDefinitionBuilder.prototype.buildObject=function(){return new tt(this.headerEnabled,this.bottomPaging,this.topPaging,this.border)},StructureDefinitionBuilder.prototype.withHeader=function(t){return this.headerEnabled=t,this},StructureDefinitionBuilder.prototype.withBottomPaging=function(t){return this.bottomPaging=t,this},StructureDefinitionBuilder.prototype.withTopPaging=function(t){return this.topPaging=t,this},StructureDefinitionBuilder.prototype.withBorder=function(t){return this.border=t,this},StructureDefinitionBuilder}($),J=function(t){function StructureDefinitionDefaultBuilder(){return t.call(this,StructureDefinitionDefaultBuilder.defaultHeaderEnabled,StructureDefinitionDefaultBuilder.defaultBottomPaging,StructureDefinitionDefaultBuilder.defaultTopPaging)||this}return X(StructureDefinitionDefaultBuilder,t),StructureDefinitionDefaultBuilder.defaultHeaderEnabled=!0,StructureDefinitionDefaultBuilder.defaultBottomPaging=(new K.DefaultBuilder).build(),StructureDefinitionDefaultBuilder.defaultTopPaging=(new K.DefaultBuilder).build(),StructureDefinitionDefaultBuilder}(Z),tt=function(){function StructureDefinition(t,e,n,o){this.headerEnabled=t,this.bottomPaging=e,this.topPaging=n,this.border=o}return StructureDefinition.prototype.isHeaderEnabled=function(){return this.headerEnabled},StructureDefinition.prototype.isBorderEnabled=function(){return this.border},StructureDefinition.prototype.getBottomPaging=function(){return this.bottomPaging},StructureDefinition.prototype.getTopPaging=function(){return this.topPaging},StructureDefinition.Builder=Z,StructureDefinition.DefaultBuilder=J,StructureDefinition}(),et=(new tt.DefaultBuilder).build(),nt=[{provide:tt,useValue:et}],ot=new o("StructureParentComponent"),rt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),it=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},ct=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},at=function(t){function GridComponent(e){var n=t.call(this)||this;return n.elementRef=e,n}var e;return rt(GridComponent,t),e=GridComponent,GridComponent.prototype.getElementRef=function(){return this.elementRef},it([r("structure"),ct("design:type",Object)],GridComponent.prototype,"structureRef",void 0),GridComponent=e=it([i({selector:"gui-grid",template:'<gui-structure\n\t\t\t   [height]="height"\n\t\t\t   [width]="width"\n\t\t\t   [autoResizeWidth]="autoResizeWidth"\n\t\t\t   [columns]="columns"\n\t\t\t   [columnHeaderTop]="columnHeaderTop"\n\t\t\t   [columnHeaderBottom]="columnHeaderBottom"\n\t\t\t   [source]="source"\n\t\t\t   [paging]="paging"\n\t\t\t   [verticalGrid]="verticalGrid"\n\t\t\t   [horizontalGrid]="horizontalGrid"\n\t\t\t   [theme]="theme"\n\t\t\t   [rowColoring]="rowColoring"\n\t\t\t   [loading]="loading"\n\t\t\t   [virtualScroll]="virtualScroll"\n\t\t\t   (pageChanged)="onPageChange($event)"\n\t\t\t   (pageSizeChanged)="onPageSizeChange($event)"\n\t\t\t   (itemsSelected)="onItemSelect($event)"\n\t\t\t   (columnsChanged)="onColumnsChange()"\n\t\t\t   (containerWidthChanged)="onContainerWidthChange($event)"\n\t\t\t   #structure >\n</gui-structure>\n',providers:nt.concat([{provide:ot,useExisting:e}]),host:{"[class]":'"gui-grid"',"[style.height]":"height"}}),ct("design:paramtypes",[c])],GridComponent)}(V),ut="CompositionResizeWidthSetAggregateEvent",st="ColumnsSetAggregateEvent",pt="CompositionContainerWidthSetAggregateEvent",lt="CompositionWidthSetAggregateEvent",gt="CQRS - COMMAND_HANDLERS",dt=(N=function(t,e){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function __(){this.constructor=t}N(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}),ft=function(t){function CommandStream(){return null!==t&&t.apply(this,arguments)||this}return dt(CommandStream,t),CommandStream.prototype.next=function(e){t.prototype.next.call(this,e)},function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c}([a()],CommandStream)}(R),ht=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},yt=function(){function CommandDispatcher(t){this.commandStream=t}return CommandDispatcher.prototype.dispatch=function(t){this.commandStream.next(t)},function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c}([a(),ht("design:paramtypes",[ft])],CommandDispatcher)}();function getRandomFromMathRandom(){for(var t=new Array(16),e=0,n=0;n<16;n++)0==(3&n)&&(e=4294967296*Math.random()),t[n]=e>>>((3&n)<<3)&255;return t}var mt=function(){var t=window.crypto||window.msCrypto;if(t&&t.getRandomValues)try{return function(){var e=new Uint8Array(16);return t.getRandomValues(e),e}}catch(t){}return getRandomFromMathRandom}(),bt=new function(){this.byteToHex=[],this.hexToByte={};for(var t=0;t<256;t++)this.byteToHex[t]=(t+256).toString(16).substr(1),this.hexToByte[this.byteToHex[t]]=t};function getUuidV4String(){return function(t,e){void 0===e&&(e=0);var n=e,o=bt.byteToHex;return o[t[n++]]+o[t[n++]]+o[t[n++]]+o[t[n++]]+"-"+o[t[n++]]+o[t[n++]]+"-"+o[t[n++]]+o[t[n++]]+"-"+o[t[n++]]+o[t[n++]]+"-"+o[t[n++]]+o[t[n++]]+o[t[n++]]+o[t[n++]]+o[t[n++]]+o[t[n++]]}(((t=mt())[6]=15&t[6]|64,t[8]=63&t[8]|128,t));var t}var vt,Ct,_t=function(){function Message(t,e){this.aggregateId=t,this.messageType=e,this.guid=getUuidV4String()}return Message.prototype.getMessageType=function(){return this.messageType},Message.prototype.getAggregateId=function(){return this.aggregateId},Message.prototype.getMessageId=function(){return this.guid},Message.prototype.toString=function(){return this.messageType},Message.prototype.equalsByType=function(t){return this.getMessageType()===t.getMessageType()},Message.prototype.equals=function(t){return this.getMessageType()===t.getMessageType()&&this.guid===t.guid},Message.prototype.ofMessageType=function(t){var e=this;return Array.isArray(t)?!!t.find(function(t){return e.isMessageType(t)}):this.isMessageType(t)},Message.prototype.isMessageType=function(t){return this.getMessageType()===t},Message}(),St=(vt=function(t,e){return(vt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function __(){this.constructor=t}vt(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}),Rt=function(t){function Command(){return null!==t&&t.apply(this,arguments)||this}return St(Command,t),Command}(_t),Ot=function(){function CommandHandler(t,e,n){this.command=t,this.domainEvent=e,this.eventPublisher=n,this.commandType=this.createCommandInstance().constructor.name}return CommandHandler.prototype.forCommand=function(t){return this.commandType===t.constructor.name},CommandHandler.prototype.executeCommand=function(t){var e=this,n=this.execute(t);O(n)?n.pipe(D(1)).subscribe(function(n){e.dispatchEvent(t,n)}):this.dispatchEvent(t,n)},CommandHandler.prototype.dispatchEvent=function(t,e){if(this.domainEvent&&this.eventPublisher){var n=t.aggregateId,o=new this.domainEvent(n);o.setRequestCommand(t),e&&o.setPayload(e),this.eventPublisher.publish(o)}},CommandHandler.prototype.createCommandInstance=function(){var t,e=[],n=this.command.constructor.length;return e.fill(void 0,0,n),new((t=this.command).bind.apply(t,[void 0].concat(e)))},CommandHandler}(),wt=new o("FILTERED_COMMAND_STREAM"),Pt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),jt=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},kt=function(t,e){return function(n,o){e(n,o,t)}},At=function(t){function CommandBus(e){var n=t.call(this)||this;return e&&(n.source=e),n}var e;return Pt(CommandBus,t),e=CommandBus,CommandBus.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},CommandBus.prototype.ofCommand=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.pipe(F(function(e){return t.some(function(t){return e.ofMessageType(t)})}))},CommandBus.prototype.ofHandler=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.pipe(F(function(e){return t.some(function(t){return t.forCommand(e)})}))},CommandBus.prototype.ofNullHandler=function(t){return this.pipe(F(function(e){return!t||!t.some(function(t){return t.forCommand(e)})}))},e=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c}([a(),kt(0,u(wt)),jt("design:paramtypes",[R])],CommandBus)}(w),Et=function(){},Dt=function(){function AggregateEvent(t,e){this.aggregateId=t,this.type=e}return AggregateEvent.prototype.getAggregateId=function(){return this.aggregateId},AggregateEvent.prototype.getType=function(){return this.type},AggregateEvent.prototype.equals=function(t){return this.equalsByType(t)&&this.getAggregateId().equals(t.getAggregateId())},AggregateEvent.prototype.equalsByType=function(t){return this.getType()===t.getType()},AggregateEvent}(),Ft=function(){},It=function(){function AggregateStoreRegister(){this.stores=[]}return AggregateStoreRegister.prototype.register=function(t){this.stores.push(t)},AggregateStoreRegister.prototype.captureAggregatesSnapshot=function(t){if(!t)return{};var e={};return this.stores.forEach(function(n){var o=n.getById(t);if(o){var r=o.constructor.name;e[r]=o}}),this.cloneAggregates(e)},AggregateStoreRegister.prototype.cloneAggregates=function(t){return JSON.parse(JSON.stringify(t))},AggregateStoreRegister}(),xt=function(){function Aggregate(t){this.aggregateId=t,this.events=[]}return Aggregate.prototype.getId=function(){return this.aggregateId},Aggregate.prototype.getEvents=function(){return this.events},Aggregate.prototype.addEvent=function(t){this.events.push(t)},Aggregate}(),Bt=function(){function AggregateId(t){this.uid=t}return AggregateId.prototype.toString=function(){return this.uid},AggregateId.prototype.getId=function(){return this.uid},AggregateId.prototype.equals=function(t){return this.uid===t.getId()},AggregateId}(),Tt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Ht=function(t){function DomainEvent(e,n,o){var r=t.call(this,e,n)||this;return r.payload=o,r}return Tt(DomainEvent,t),DomainEvent.prototype.isSameType=function(t){return this.constructor.name===t.constructor.name},DomainEvent.prototype.setRequestCommand=function(t){this.requestCommandId=t.getMessageId()},DomainEvent.prototype.fromCommand=function(t){return t.getMessageId()===this.requestCommandId},DomainEvent.prototype.setPayload=function(t){this.payload=t},DomainEvent.prototype.getPayload=function(){return this.payload},DomainEvent}(_t),Mt=function(){function DomainEventStore(){this.domainEvents=[],this.domainEvents$=new R}return DomainEventStore.prototype.next=function(t){this.domainEvents.push(t),this.domainEvents$.next(t)},DomainEventStore.prototype.findEventByType=function(t){return this.getEvents().reverse().find(function(e){return e.constructor.name===t})},DomainEventStore.prototype.waitForEvent=function(t){var e=this.findEventByType(t);return e?P(e):this.waitForNextEventOccurrence(t)},DomainEventStore.prototype.waitForNextEventOccurrence=function(t){var e;if(t instanceof Ht)e=t.constructor.name;else{if("string"!=typeof t)return j(new Error("Unsupported argument type."));e=t}return this.domainEvents$.pipe(F(function(t){return t.constructor.name===e}),D(1))},DomainEventStore.prototype.getEvents=function(){return this.domainEvents},function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c}([a()],DomainEventStore)}(),Lt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),zt=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Gt=function(t){function DomainEventStream(e){var n=t.call(this)||this;return n.eventStore=e,n}return Lt(DomainEventStream,t),DomainEventStream.prototype.next=function(e){t.prototype.next.call(this,e),this.eventStore.next(e)},function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c}([a(),zt("design:paramtypes",[Mt])],DomainEventStream)}(R),Nt=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Wt=function(){function DomainEventPublisher(t){this.eventStream=t}return DomainEventPublisher.prototype.publish=function(t){if(Array.isArray(t))for(var e=0,n=t;e<n.length;e++){var o=n[e];this.publishEvent(o)}else t instanceof Ht&&this.publishEvent(t)},DomainEventPublisher.prototype.dispatchAggregateEvent=function(t,e){},DomainEventPublisher.prototype.publishEvent=function(t){this.eventStream.next(t)},function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c}([a(),Nt("design:paramtypes",[Gt])],DomainEventPublisher)}(),Qt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Vt=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},$t=function(t){function DomainEventBus(e){var n=t.call(this)||this;return e&&(n.source=e),n}var e;return Qt(DomainEventBus,t),e=DomainEventBus,DomainEventBus.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},DomainEventBus.prototype.ofEvent=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this.pipe(F(function(n){return e.some(function(e){return t.createEventInstance(e).equalsByType(n)})}))},DomainEventBus.prototype.createEventInstance=function(t){var e,n=[],o=t.constructor.length;return n.fill(void 0,0,o),new((e=t).bind.apply(e,[void 0].concat(n)))},e=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c}([a(),Vt("design:paramtypes",[Gt])],DomainEventBus)}(w),Ut=function(){},qt=function(){},Yt=function(){function ReadModel(t){this.aggregateId=t}return ReadModel.prototype.getId=function(){return this.aggregateId},ReadModel}(),Kt=function(){},Xt=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Zt="cqrsApi",Jt=function(){function CqrsApi(t,e){this.commandLogger=t,this.eventLogger=e,window[Zt]=function(t){return{set loggers(e){e?(t.commandLogger.start(),t.eventLogger.start()):(t.commandLogger.stop(),t.eventLogger.stop())}}}(this)}return function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c}([a(),Xt("design:paramtypes",[Et,qt])],CqrsApi)}(),te=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),ee=(function(t){function PersistReadModelStore(e){var n=t.call(this)||this;return n.stateStore=e,n}te(PersistReadModelStore,t),PersistReadModelStore.prototype.getById=function(t){return this.getValue(t)},PersistReadModelStore.prototype.getAll=function(){return this.getAllValues()},PersistReadModelStore.prototype.getAllValues=function(){var t=this;return this.stateStore.getAll().map(function(e){return t.fromAnemia(e)})},PersistReadModelStore.prototype.getValue=function(t){var e=this.stateStore.get(t);return e?this.fromAnemia(e):null}}(Kt),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}()),ne=(function(t){function PersistAggregateStore(e,n){var o=t.call(this)||this;return o.stateStore=e,o.aggregateStoreRegister=n,o.aggregateStoreRegister.register(o),o}ee(PersistAggregateStore,t),PersistAggregateStore.prototype.save=function(t){this.saveValue(t)},PersistAggregateStore.prototype.getById=function(t){return this.getValue(t)},PersistAggregateStore.prototype.saveValue=function(t){var e=this.toAnemia(t);this.stateStore.set(e)},PersistAggregateStore.prototype.getValue=function(t){var e=this.stateStore.get(t);return e?this.fromAnemia(e):null}}(Ft),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}()),oe=function(t){function InMemoryAggregateStore(e,n){var o=t.call(this)||this;return o.inMemoryStore=e,o.aggregateStoreRegister=n,o.aggregateStoreRegister.register(o),o}return ne(InMemoryAggregateStore,t),InMemoryAggregateStore.prototype.save=function(t){var e=this;if(Array.isArray(t))t.forEach(function(t){e.inMemoryStore.set(t)});else{var n=t;this.inMemoryStore.set(n)}},InMemoryAggregateStore.prototype.getById=function(t){return this.inMemoryStore.get(t)},InMemoryAggregateStore.prototype.getAll=function(){return this.inMemoryStore.getAll()},InMemoryAggregateStore.prototype.remove=function(t){this.inMemoryStore.delete(t)},InMemoryAggregateStore}(Ft),re=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),ie=function(t){function InMemoryReadModelStore(e){var n=t.call(this)||this;return n.inMemoryStore=e,n}return re(InMemoryReadModelStore,t),InMemoryReadModelStore.prototype.getById=function(t){return this.getValue(t)},InMemoryReadModelStore.prototype.getAll=function(){var t=this;return this.inMemoryStore.getAll().map(function(e){return t.toReadModel(e)})},InMemoryReadModelStore.prototype.getValue=function(t){var e=this.inMemoryStore.get(t);return e?this.toReadModel(e):null},InMemoryReadModelStore}(Kt),ce=function(){function InMemoryStore(){this.state=new Map}return InMemoryStore.prototype.set=function(t){this.state.set(t.getId().toString(),t)},InMemoryStore.prototype.setMany=function(t){var e=this;t.forEach(function(t){e.set(t)})},InMemoryStore.prototype.get=function(t){return this.state.get(t.toString())},InMemoryStore.prototype.getAll=function(){return Array.from(this.state.values())},InMemoryStore.prototype.has=function(t){return this.state.has(t.toString())},InMemoryStore.prototype.delete=function(t){this.state.delete(t.toString())},InMemoryStore.prototype.clear=function(){this.state.clear()},InMemoryStore}(),ae=new o("GUI - COMMAND_LOGGER_ENABLED"),ue=new o("GUI - EVENT_LOGGER_ENABLED"),se=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),pe=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},le=function(t){function ConsoleCommandLogger(e){var n=t.call(this)||this;return n.enabled=!1,n.unsubscribe$=new R,e.pipe(F(function(){return n.enabled}),I(n.unsubscribe$)).subscribe(function(t){n.log(t)}),n}return se(ConsoleCommandLogger,t),ConsoleCommandLogger.prototype.ngOnDestroy=function(){this.unsubscribe$.next(),this.unsubscribe$.complete()},ConsoleCommandLogger.prototype.start=function(){this.enabled=!0},ConsoleCommandLogger.prototype.stop=function(){this.enabled=!1},ConsoleCommandLogger.prototype.log=function(t){console.log(t.toString(),t)},function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c}([a(),pe("design:paramtypes",[At])],ConsoleCommandLogger)}(Et),ge=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),de=function(t){function NoopCommandLogger(){return null!==t&&t.apply(this,arguments)||this}return ge(NoopCommandLogger,t),NoopCommandLogger.prototype.start=function(){},NoopCommandLogger.prototype.stop=function(){},NoopCommandLogger.prototype.log=function(t){},NoopCommandLogger}(Et),fe=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),he=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ye=function(t){function ConsoleEventLogger(e,n){var o=t.call(this)||this;return o.aggregateStoreRegister=n,o.enabled=!1,o.unsubscribe$=new R,e.pipe(F(function(){return o.enabled}),I(o.unsubscribe$)).subscribe(function(t){o.log(t)}),o}return fe(ConsoleEventLogger,t),ConsoleEventLogger.prototype.ngOnDestroy=function(){this.unsubscribe$.next(),this.unsubscribe$.complete()},ConsoleEventLogger.prototype.start=function(){this.enabled=!0},ConsoleEventLogger.prototype.stop=function(){this.enabled=!1},ConsoleEventLogger.prototype.log=function(t){var e=t.aggregateId,n=this.aggregateStoreRegister.captureAggregatesSnapshot(e);console.log(t.toString(),t,n)},function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c}([a(),he("design:paramtypes",[$t,It])],ConsoleEventLogger)}(qt),me=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),be=function(t){function NoopEventLogger(){return null!==t&&t.apply(this,arguments)||this}return me(NoopEventLogger,t),NoopEventLogger.prototype.start=function(){},NoopEventLogger.prototype.stop=function(){},NoopEventLogger.prototype.log=function(t){},NoopEventLogger}(qt),ve=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ce=function(t,e){return function(n,o){e(n,o,t)}},_e=[{provide:ue,useValue:!0},{provide:ae,useValue:!0},{provide:Et,useFactory:function(t,e,n){return t?e:n},deps:[ae,le,de]},{provide:qt,useFactory:function(t,e,n){return t?e:n},deps:[ue,ye,be]},le,de,be,ye].concat([{provide:wt,useExisting:ft},At,ft,yt,It,$t,Gt,Wt,Mt,Jt]),Se=function(){function CqrsModule(t,e,n,o,r,i,c){var a=this;this.commandLogger=r,this.eventLogger=i,this.cqrsApi=c,this.unsubscribe$=new R,this.loggersStart(),this.checkNullCommand(n,t),this.checkCommandHandlerIsCollection(t),t&&t.forEach(function(t){n.ofHandler(t).pipe(I(a.unsubscribe$)).subscribe(function(e){t.executeCommand(e)})}),e&&o.pipe(I(this.unsubscribe$)).subscribe(function(t){e.forEach(function(e){e.execute(t)})})}var t;return t=CqrsModule,CqrsModule.withConfig=function(e){return void 0===e&&(e={loggers:!1}),{ngModule:t,providers:_e}},CqrsModule.prototype.ngOnDestroy=function(){this.unsubscribe$.next(),this.unsubscribe$.complete(),this.loggersStop()},CqrsModule.prototype.loggersStart=function(){this.commandLogger.start(),this.eventLogger.start()},CqrsModule.prototype.loggersStop=function(){this.commandLogger.stop(),this.eventLogger.stop()},CqrsModule.prototype.checkNullCommand=function(t,e){t.ofNullHandler(e).pipe(I(this.unsubscribe$)).subscribe(function(t){console.log("Command "+t.toString()+" was not intercepted by any CommandHandler.")})},CqrsModule.prototype.checkCommandHandlerIsCollection=function(t){t&&!Array.isArray(t)&&console.log('You might provided commandHandler without specifying "multi: true".')},t=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c}([s({imports:[S],providers:_e}),Ce(0,p()),Ce(0,u("CQRS - COMMAND_HANDLERS")),Ce(1,p()),Ce(1,u("DOMAIN_EVENT_HANDLERS")),ve("design:paramtypes",[Array,Array,At,$t,Et,qt,Jt])],CqrsModule)}(),Re=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Oe=function(t){function CompositionResizeWidthSetEvent(e){return t.call(this,e,"CompositionResizeWidthSetEvent")||this}return Re(CompositionResizeWidthSetEvent,t),CompositionResizeWidthSetEvent}(Ht),we=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Pe=function(t){function ColumnsSetEvent(e){return t.call(this,e,"ColumnsSetEvent")||this}return we(ColumnsSetEvent,t),ColumnsSetEvent}(Ht),je=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),ke=function(t){function CompositionContainerWidthSetEvent(e,n){return t.call(this,e,"CompositionContainerWidthSetEvent",n)||this}return je(CompositionContainerWidthSetEvent,t),CompositionContainerWidthSetEvent}(Ht),Ae=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Ee=function(t){function CompositionWidthSetEvent(e){return t.call(this,e,"CompositionWidthSetEvent")||this}return Ae(CompositionWidthSetEvent,t),CompositionWidthSetEvent}(Ht),De=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Fe=function(){function CompositionEventConverter(){}return CompositionEventConverter.prototype.convert=function(t){return Array.isArray(t)?this.convertEvents(t):this.convertEvent(t)},CompositionEventConverter.prototype.convertEvents=function(t){var e=this;return t.map(function(t){return e.convertEvent(t)})},CompositionEventConverter.prototype.convertEvent=function(t){switch(t.getType()){case ut:return new Oe(t.getAggregateId());case st:return new Pe(t.getAggregateId());case pt:var e=t.containerWidth;return new ke(t.getAggregateId(),e);case lt:return new Ee(t.getAggregateId())}},CompositionEventConverter=De([a()],CompositionEventConverter)}(),Ie=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),xe=function(t){function InitCompositionCommand(e){var n=t.call(this,e,"InitCompositionCommand")||this;return n.compositionId=e,n}return Ie(InitCompositionCommand,t),InitCompositionCommand}(Rt),Be=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Te=function(t){function SetCompositionResizeWidthCommand(e,n){var o=t.call(this,e,"SetCompositionResizeWidthCommand")||this;return o.structureId=e,o.enabled=n,o}return Be(SetCompositionResizeWidthCommand,t),SetCompositionResizeWidthCommand}(Rt),He=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Me=function(t){function SetCompositionContainerWidthCommand(e,n){var o=t.call(this,e,"SetCompositionContainerWidthCommand")||this;return o.structureId=e,o.width=n,o}return He(SetCompositionContainerWidthCommand,t),SetCompositionContainerWidthCommand}(Rt),Le=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),ze=function(t){function SetCompositionWidthCommand(e,n){var o=t.call(this,e,"SetCompositionWidthCommand")||this;return o.structureId=e,o.width=n,o}return Le(SetCompositionWidthCommand,t),SetCompositionWidthCommand}(Rt),Ge=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Ne=function(t){function SetColumnsCommand(e,n){var o=t.call(this,e,"SetColumnsCommand")||this;return o.structureId=e,o.columns=n,o}return Ge(SetColumnsCommand,t),SetColumnsCommand}(Rt),We=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Qe=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ve=function(){function CompositionDispatcher(t){this.commandDispatcher=t}return CompositionDispatcher.prototype.init=function(t){this.commandDispatcher.dispatch(new xe(t))},CompositionDispatcher.prototype.setColumns=function(t,e){this.commandDispatcher.dispatch(new Ne(t,e))},CompositionDispatcher.prototype.setWidth=function(t,e){this.commandDispatcher.dispatch(new ze(t,e))},CompositionDispatcher.prototype.setContainerWidth=function(t,e){this.commandDispatcher.dispatch(new Me(t,e))},CompositionDispatcher.prototype.setResizeWidth=function(t,e){this.commandDispatcher.dispatch(new Te(t,e))},CompositionDispatcher=We([a(),Qe("design:paramtypes",[yt])],CompositionDispatcher)}(),$e=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Ue=function(t){function FieldsInitedEvent(e,n,o,r){var i=t.call(this,e,"FieldsInitedEvent")||this;return i.compositionId=n,i.columns=o,i.fieldIds=r,i}return $e(FieldsInitedEvent,t),FieldsInitedEvent}(Ht),qe=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Ye=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Ke=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Xe=function(t){function CompositionFieldsInitedEventHandler(e){var n=t.call(this)||this;return n.compositionDispatcher=e,n}return qe(CompositionFieldsInitedEventHandler,t),CompositionFieldsInitedEventHandler.prototype.execute=function(t){t instanceof Ue&&this.compositionDispatcher.setColumns(t.compositionId,t.columns)},CompositionFieldsInitedEventHandler=Ye([a(),Ke("design:paramtypes",[Ve])],CompositionFieldsInitedEventHandler)}(Ut),Ze=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Je=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},tn=function(){function CompositionEventService(t){this.domainEventBus=t}return CompositionEventService.prototype.selectColumnsChanged=function(t){return this.domainEventBus.ofEvent(Pe).pipe(F(function(e){return e.aggregateId.toString()===t.toString()}))},CompositionEventService.prototype.selectWidthChanged=function(t){return this.domainEventBus.ofEvent(Pe).pipe(F(function(e){return e.aggregateId.toString()===t.toString()}))},CompositionEventService.prototype.selectContainerWidthChanged=function(t){return this.domainEventBus.ofEvent(ke).pipe(F(function(e){return e.getAggregateId().equals(t)}),x(function(t){return t.getPayload()}),F(function(t){return!!t}))},CompositionEventService=Ze([a(),Je("design:paramtypes",[$t])],CompositionEventService)}();!function(t){t[t.PERCENTAGE=0]="PERCENTAGE",t[t.NUMBER=1]="NUMBER",t[t.AUTO=2]="AUTO"}(Ct||(Ct={}));var en,nn=function(){function ColumnWidth(t){this.baseWidth=t,this.setWidthAndType(t)}return ColumnWidth.prototype.getWidth=function(){return this.width},ColumnWidth.prototype.getColumnType=function(){return this.columnType},ColumnWidth.prototype.setWidth=function(t){this.width=t},ColumnWidth.prototype.setWidthAndType=function(t){t&&"auto"!==t?this.isPercentage(t)?(this.columnType=Ct.PERCENTAGE,this.setWidth(this.percentageToNumber(""+t))):(this.isStringNumber(t),this.columnType=Ct.NUMBER,this.setWidth(+t)):(this.columnType=Ct.AUTO,this.setWidth(null))},ColumnWidth.prototype.clone=function(){return new ColumnWidth(this.baseWidth)},ColumnWidth.prototype.isPercentage=function(t){return"string"==typeof t&&"%"===t[t.length-1]},ColumnWidth.prototype.percentageToNumber=function(t){return+t.slice(0,-1)},ColumnWidth.prototype.isStringNumber=function(t){var e=+t;return Number.isNaN(e)},ColumnWidth}(),on=function(){function CompositionWidthCalculator(t,e){this.source=t,this.width=e,this.MIN_COLUMN_WIDTH=50,this.columns=this.source.map(function(t){return t.clone()})}return CompositionWidthCalculator.prototype.calculate=function(){return this.adjustMinimalWidth(Ct.NUMBER),this.adjustPercentageWidth(),this.adjustAutoWidth(),this.columns},CompositionWidthCalculator.prototype.adjustMinimalWidth=function(t){var e=this;this.columns.forEach(function(n){n.getColumnType()===t&&n.getWidth()<e.MIN_COLUMN_WIDTH&&n.setWidthAndType(e.MIN_COLUMN_WIDTH)})},CompositionWidthCalculator.prototype.adjustPercentageWidth=function(){for(var t=0,e=this.columns;t<e.length;t++){var n=e[t];n.getColumnType()===Ct.PERCENTAGE&&n.setWidth(this.width*n.getWidth()*.01)}},CompositionWidthCalculator.prototype.adjustAutoWidth=function(){for(var t=this.width,e=[],n=0;n<this.columns.length;n+=1){(c=this.columns[n]).getColumnType()!==Ct.AUTO?t-=c.getWidth():e.push(c)}if(e.length>0)for(var o=t/e.length,r=0,i=e;r<i.length;r++){var c;(c=i[r]).setWidth(o)}},CompositionWidthCalculator}(),rn=function(){function ColumnWidthCollection(t,e){void 0===t&&(t=[]),void 0===e&&(e=100),this.setWidth(e),this.setColumns(t)}return ColumnWidthCollection.prototype.setWidth=function(t){this.width=t,this.calculate()},ColumnWidthCollection.prototype.setColumns=function(t){this.baseColumnWidths=t.map(function(t){return new nn(t.width)}),this.columnWidths=t.map(function(t){return new nn(t.width)}),this.calculate()},ColumnWidthCollection.prototype.getWidths=function(){return this.columnWidths.map(function(t){return t.getWidth()})},ColumnWidthCollection.prototype.calculate=function(){if(this.baseColumnWidths&&this.width){var t=new on(this.baseColumnWidths,this.width);this.columnWidths=t.calculate()}},ColumnWidthCollection}();!function(t){t[t.TEXT=0]="TEXT",t[t.NUMBER=1]="NUMBER",t[t.CHIP=2]="CHIP",t[t.LINK=3]="LINK",t[t.INPUT=4]="INPUT",t[t.IMAGE=5]="IMAGE",t[t.CHECKBOX=6]="CHECKBOX",t[t.BOLD=7]="BOLD",t[t.ITALIC=8]="ITALIC",t[t.CUSTOM=9]="CUSTOM"}(en||(en={}));var cn=function(){return function(t,e,n,o){this.columnType=en.TEXT,this.header=t,this.field=e,this.columnType=n,this.width=o}}(),an=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},un=function(){function ColumnConverter(){}return ColumnConverter.prototype.convert=function(t){return Array.isArray(t)?this.convertColumns(t):this.convertColumn(t)},ColumnConverter.prototype.convertColumn=function(t){var e=new cn;return void 0!==t.header&&(e.header=t.header),void 0!==t.field&&(e.field=t.field),void 0!==t.columnType&&(e.columnType=t.columnType),void 0!==t.width&&(e.width=this.convertWidth(t.width)),e},ColumnConverter.prototype.convertColumns=function(t){var e=this,n=[];return t.forEach(function(t){n.push(e.convertColumn(t))}),n},ColumnConverter.prototype.convertWidth=function(t){return+t},ColumnConverter=an([a()],ColumnConverter)}(),sn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),pn=function(t){function CompositionResizeWidthSetAggregateEvent(e){return t.call(this,e,"CompositionResizeWidthSetAggregateEvent")||this}return sn(CompositionResizeWidthSetAggregateEvent,t),CompositionResizeWidthSetAggregateEvent}(Dt),ln=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),gn=function(t){function ColumnsSetAggregateEvent(e,n){var o=t.call(this,e,"ColumnsSetAggregateEvent")||this;return o.columns=n,o}return ln(ColumnsSetAggregateEvent,t),ColumnsSetAggregateEvent}(Dt),dn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),fn=function(t){function CompositionContainerWidthSetAggregateEvent(e,n){var o=t.call(this,e,"CompositionContainerWidthSetAggregateEvent")||this;return o.containerWidth=n,o}return dn(CompositionContainerWidthSetAggregateEvent,t),CompositionContainerWidthSetAggregateEvent}(Dt),hn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),yn=function(t){function CompositionWidthSetAggregateEvent(e){return t.call(this,e,"CompositionWidthSetAggregateEvent")||this}return hn(CompositionWidthSetAggregateEvent,t),CompositionWidthSetAggregateEvent}(Dt),mn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),bn=function(t){function CompositionAggregate(e,n,o,r){void 0===n&&(n=[]);var i=t.call(this,e)||this;return i.columnWidthCollection=new rn,i.activeColumns=[],i.resizeWidthEnabled=!0,i.columnConverter=new un,i.baseColumns=n,i.width=o,i.activeColumns=i.columnConverter.convert(n),i.columnWidthCollection=new rn(n,o),null!=r&&(i.resizeWidthEnabled=r),i}return mn(CompositionAggregate,t),CompositionAggregate.prototype.clone=function(){var t=this.activeColumns.slice(),e=new CompositionAggregate(this.getId(),this.baseColumns,this.width,this.resizeWidthEnabled);return e.containerWidth=this.containerWidth,e.activeColumns=t,e.columnWidthCollection=this.columnWidthCollection,e},CompositionAggregate.prototype.getColumns=function(){return this.activeColumns},CompositionAggregate.prototype.getWidth=function(){return this.resizeWidthEnabled?this.containerWidth:this.width},CompositionAggregate.prototype.isResizeEnabled=function(){return this.resizeWidthEnabled},CompositionAggregate.prototype.isReady=function(){return!!this.getWidth()&&this.activeColumns.length>0},CompositionAggregate.prototype.setColumns=function(t){this.columnWidthCollection.setColumns(t);var e=this.columnConverter.convert(t),n=this.columnWidthCollection.getWidths();this.updateColumnsWidths(e,n),this.setActiveColumnsWithEvent(e)},CompositionAggregate.prototype.setContainerWidth=function(t){this.setContainerWidthWithEvent(t),this.recalculateColumns()},CompositionAggregate.prototype.setWidth=function(t){this.setWidthWithEvent(t),this.setResizeWidthWithEvent(!1),this.recalculateColumns()},CompositionAggregate.prototype.setResizeWidth=function(t){this.setResizeWidthWithEvent(t)},CompositionAggregate.prototype.recalculateColumns=function(){this.columnWidthCollection.setWidth(this.getWidth());var t=this.activeColumns.slice(),e=this.columnWidthCollection.getWidths();this.updateColumnsWidths(t,e),this.setActiveColumnsWithEvent(t)},CompositionAggregate.prototype.updateColumnsWidths=function(t,e){t.forEach(function(t,n){t.width=e[n]})},CompositionAggregate.prototype.setActiveColumnsWithEvent=function(t){this.activeColumns=t,this.addEvent(new gn(this.getId(),t))},CompositionAggregate.prototype.setWidthWithEvent=function(t){this.width=t,this.addEvent(new yn(this.getId()))},CompositionAggregate.prototype.setContainerWidthWithEvent=function(t){this.containerWidth=t,this.addEvent(new fn(this.getId(),t))},CompositionAggregate.prototype.setResizeWidthWithEvent=function(t){this.resizeWidthEnabled=t,this.addEvent(new pn(this.getId()))},CompositionAggregate}(xt),vn=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Cn=function(){function CompositionAggregateFactory(){}return CompositionAggregateFactory.prototype.create=function(t,e){return void 0===e&&(e=[]),new bn(t,e)},CompositionAggregateFactory=vn([a()],CompositionAggregateFactory)}(),_n=function(){return function(){}}(),Sn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Rn=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},On=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},wn=function(t){function SetCompositionResizeWidthCommandHandler(e,n,o){var r=t.call(this,Te,Oe,o)||this;return r.compositionAggregateRepository=e,r.columnConverter=n,r}return Sn(SetCompositionResizeWidthCommandHandler,t),SetCompositionResizeWidthCommandHandler.prototype.execute=function(t){var e=t.structureId,n=t.enabled,o=this.compositionAggregateRepository.getById(e);o.setResizeWidth(n),this.compositionAggregateRepository.save(o)},SetCompositionResizeWidthCommandHandler=Rn([a(),On("design:paramtypes",[_n,un,Wt])],SetCompositionResizeWidthCommandHandler)}(Ot),Pn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),jn=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},kn=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},An=function(t){function SetCompositionContainerWidthCommandHandler(e,n,o){var r=t.call(this,Me)||this;return r.compositionAggregateRepository=e,r.domainEventPublisher=n,r.compositionEventConverter=o,r}return Pn(SetCompositionContainerWidthCommandHandler,t),SetCompositionContainerWidthCommandHandler.prototype.execute=function(t){var e=t.structureId,n=t.width,o=this.compositionAggregateRepository.getById(e);o.setContainerWidth(n),this.compositionAggregateRepository.save(o),this.publishAggregateEvents(o.getEvents())},SetCompositionContainerWidthCommandHandler.prototype.publishAggregateEvents=function(t){var e=this.compositionEventConverter.convert(t);this.domainEventPublisher.publish(e)},SetCompositionContainerWidthCommandHandler=jn([a(),kn("design:paramtypes",[_n,Wt,Fe])],SetCompositionContainerWidthCommandHandler)}(Ot),En=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Dn=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Fn=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},In=function(t){function SetCompositionWidthCommandHandler(e,n,o){var r=t.call(this,ze,Ee,o)||this;return r.compositionAggregateRepository=e,r.columnConverter=n,r}return En(SetCompositionWidthCommandHandler,t),SetCompositionWidthCommandHandler.prototype.execute=function(t){var e=t.structureId,n=t.width,o=this.compositionAggregateRepository.getById(e);o.setWidth(n),this.compositionAggregateRepository.save(o)},SetCompositionWidthCommandHandler=Dn([a(),Fn("design:paramtypes",[_n,un,Wt])],SetCompositionWidthCommandHandler)}(Ot),xn=function(){return function(){}}(),Bn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Tn=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Hn=function(t){function InMemoryCompositionStore(){return null!==t&&t.apply(this,arguments)||this}return Bn(InMemoryCompositionStore,t),InMemoryCompositionStore=Tn([a()],InMemoryCompositionStore)}(ce),Mn=function(t,e){if("function"!=typeof Object.getPrototypeOf(t)[e])throw new Error('Method "'+e+'" of class "'+t.constructor.name+"\" doesn't override any method of base class.")},Ln=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),zn=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Gn=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Nn=function(t){function InMemoryCompositionAggregateStore(e,n){return t.call(this,e,n)||this}return Ln(InMemoryCompositionAggregateStore,t),InMemoryCompositionAggregateStore.prototype.getById=function(e){var n=t.prototype.getById.call(this,e);return n?n.clone():null},zn([Mn,Gn("design:type",Function),Gn("design:paramtypes",[Bt]),Gn("design:returntype",bn)],InMemoryCompositionAggregateStore.prototype,"getById",null),InMemoryCompositionAggregateStore=zn([a(),Gn("design:paramtypes",[Hn,It])],InMemoryCompositionAggregateStore)}(oe),Wn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Qn=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Vn=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},$n=function(t){function InMemoryCompositionAggregateRepository(e){var n=t.call(this)||this;return n.inMemoryCompositionAggregateStore=e,n}return Wn(InMemoryCompositionAggregateRepository,t),InMemoryCompositionAggregateRepository.prototype.getById=function(t){return this.inMemoryCompositionAggregateStore.getById(t)},InMemoryCompositionAggregateRepository.prototype.save=function(t){this.inMemoryCompositionAggregateStore.save(t)},InMemoryCompositionAggregateRepository=Qn([a(),Vn("design:paramtypes",[Nn])],InMemoryCompositionAggregateRepository)}(_n),Un=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),qn=function(t){function Composition(e,n,o,r,i){var c=t.call(this,e)||this;return c.ready=n,c.columns=o,c.width=r,c.resizeWidth=i,c}return Un(Composition,t),Composition.prototype.getColumns=function(){return this.columns},Composition.prototype.getHeaderColumns=function(){return this.columns.map(function(t,e){return t.getHeaderCellTemplateWithContext(e)})},Composition.prototype.getTemplateColumns=function(){return this.columns.map(function(t){return t.getContentCellTemplateWithAccessor()})},Composition.prototype.getWidth=function(){return this.width},Composition.prototype.getContainerWidth=function(){return+this.width-2},Composition.prototype.isReady=function(){return this.ready},Composition.prototype.isResizeWidthEnabled=function(){return this.resizeWidth},Composition.prototype.equals=function(t){return this.width===t.width&&this.resizeWidth===t.resizeWidth&&this.equalsByColumns(t.columns)},Composition.prototype.equalsByColumns=function(t){return this.columns.length===t.length},Composition}(Yt),Yn=function(){return function(t,e,n){this.template=t,this.context=e,this.width=n}}(),Kn=function(){return function(t){this.element=t}}(),Xn=function(){return function(t,e,n){this.template=t,this.accessor=e,this.width=n}}(),Zn=function(){function ColumnDefinition(){}return ColumnDefinition.prototype.setHeader=function(t){this.header=t},ColumnDefinition.prototype.setField=function(t){this.field=t},ColumnDefinition.prototype.getHeaderCellTemplateWithContext=function(t){var e,n=this.header;return"string"==typeof n?e=new Kn(n):"function"==typeof n&&(e=new Kn(n(t))),new Yn(this.headerTemplate,e,this.width)},ColumnDefinition.prototype.getContentCellTemplateWithAccessor=function(){var t=this.field,e=function(t){return""};return"string"==typeof t?e=function(e){return e[t]}:"function"==typeof t&&(e=t),new Xn(this.cellTemplate,e,this.width)},ColumnDefinition}(),Jn=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},to=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},eo=function(){function CompositionColumnTemplatesComponent(){}return Jn([r("text",{read:l}),to("design:type",l)],CompositionColumnTemplatesComponent.prototype,"textTemplate",void 0),Jn([r("number",{read:l}),to("design:type",l)],CompositionColumnTemplatesComponent.prototype,"numberTemplate",void 0),Jn([r("chip",{read:l}),to("design:type",l)],CompositionColumnTemplatesComponent.prototype,"chipTemplate",void 0),Jn([r("link",{read:l}),to("design:type",l)],CompositionColumnTemplatesComponent.prototype,"linkTemplate",void 0),Jn([r("input",{read:l}),to("design:type",l)],CompositionColumnTemplatesComponent.prototype,"inputTemplate",void 0),Jn([r("image",{read:l}),to("design:type",l)],CompositionColumnTemplatesComponent.prototype,"imageTemplate",void 0),Jn([r("checkbox",{read:l}),to("design:type",l)],CompositionColumnTemplatesComponent.prototype,"checkboxTemplate",void 0),Jn([r("bold",{read:l}),to("design:type",l)],CompositionColumnTemplatesComponent.prototype,"boldTemplate",void 0),Jn([r("italic",{read:l}),to("design:type",l)],CompositionColumnTemplatesComponent.prototype,"italicTemplate",void 0),Jn([r("custom",{read:l}),to("design:type",l)],CompositionColumnTemplatesComponent.prototype,"customTemplate",void 0),CompositionColumnTemplatesComponent=Jn([i({template:'\n\n\t\t<ng-template #text let-element="element">\n\t\t\t{{ element }}\n\t\t</ng-template>\n\n\t\t<ng-template #number let-element="element">\n\t\t\t<span class="gui-cell-number">\n\t\t\t\t{{ element }}\n\t\t\t</span>\n\t\t</ng-template>\n\n\t\t<ng-template #chip let-element="element">\n\t\t\t<gui-chip>\n\t\t\t\t{{ element }}\n\t\t\t</gui-chip>\n\t\t</ng-template>\n\n\t\t<ng-template #link let-element="element">\n\t\t\t<a gui-button link="true" href="{{ element }}">\n\t\t\t\t{{ element }}\n\t\t\t</a>\n\t\t</ng-template>\n\n\t\t<ng-template #input let-element="element">\n\t\t\t<input gui-input value="{{ element }}"/>\n\t\t</ng-template>\n\n\t\t<ng-template #image let-element="element">\n\t\t\t<img src="{{ element }}"/>\n\t\t</ng-template>\n\n\t\t<ng-template #checkbox let-element="element">\n\t\t\t<gui-checkbox [checked]="!!element"></gui-checkbox>\n\t\t</ng-template>\n\n\t\t<ng-template #bold let-element="element">\n\t\t\t<span class="gui-bold">{{ element }}</span>\n\t\t</ng-template>\n\n\t\t<ng-template #italic let-element="element">\n\t\t\t<span class="gui-italic">{{ element }}</span>\n\t\t</ng-template>\n\n\t\t<ng-template #custom let-element="element">\n\t\t\t{{ element }}\n\t\t</ng-template>\n\n\n\t'})],CompositionColumnTemplatesComponent)}(),no=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},oo=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ro=function(){function ColumnTemplateFactory(t){this.componentFactoryResolver=t,this.templates=new Map,this.templatesComponentDefinition=eo,this.templatesComponent=null,this.createTemplatesComponent()}return ColumnTemplateFactory.prototype.getTemplates=function(){return this.templates},ColumnTemplateFactory.prototype.destroy=function(){this.templatesComponent&&(this.templatesComponent.destroy(),this.templatesComponent=null)},ColumnTemplateFactory.prototype.createTemplatesComponent=function(){var t=this.componentFactoryResolver.resolveComponentFactory(this.templatesComponentDefinition),e=g.create({providers:[]});this.templatesComponent=t.create(e),this.generateMap()},ColumnTemplateFactory.prototype.generateMap=function(){this.templates.set(en.TEXT,this.templatesComponent.instance.textTemplate),this.templates.set(en.NUMBER,this.templatesComponent.instance.numberTemplate),this.templates.set(en.CHIP,this.templatesComponent.instance.chipTemplate),this.templates.set(en.LINK,this.templatesComponent.instance.linkTemplate),this.templates.set(en.INPUT,this.templatesComponent.instance.inputTemplate),this.templates.set(en.IMAGE,this.templatesComponent.instance.imageTemplate),this.templates.set(en.CHECKBOX,this.templatesComponent.instance.checkboxTemplate),this.templates.set(en.CUSTOM,this.templatesComponent.instance.customTemplate),this.templates.set(en.BOLD,this.templatesComponent.instance.boldTemplate),this.templates.set(en.ITALIC,this.templatesComponent.instance.italicTemplate)},ColumnTemplateFactory=no([a(),oo("design:paramtypes",[d])],ColumnTemplateFactory)}(),io=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},co=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ao=function(){function ColumnTemplatesRepository(t){this.columnTemplateFactory=t}return ColumnTemplatesRepository.prototype.findTemplate=function(t){return this.columnTemplateFactory.getTemplates().get(t)},ColumnTemplatesRepository=io([a(),co("design:paramtypes",[ro])],ColumnTemplatesRepository)}(),uo=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},so=function(){function ColumnTypeConverter(){}return ColumnTypeConverter.prototype.convert=function(t){return"string"==typeof t?this.convertString(t):t in en?t:en.TEXT},ColumnTypeConverter.prototype.convertString=function(t){var e=Object.keys(en).find(function(e){return t.toUpperCase()===e.toUpperCase()});return e?en[e]:en.TEXT},ColumnTypeConverter=uo([a()],ColumnTypeConverter)}(),po=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},lo=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},go=function(){function ColumnDefinitionFactory(t,e){this.columnTemplatesRepository=t,this.columnTypeConverter=e}return ColumnDefinitionFactory.prototype.create=function(t){var e=new Zn;return e.setHeader(t.header),e.setField(t.field),e.cellTemplate=this.findTemplate(t.columnType),e.headerTemplate=this.findTemplate(en.TEXT),e.width=+t.width,e},ColumnDefinitionFactory.prototype.createColumns=function(t){var e=this;return t.map(function(t){return e.create(t)})},ColumnDefinitionFactory.prototype.findTemplate=function(t){var e=this.columnTypeConverter.convert(t);return this.columnTemplatesRepository.findTemplate(e)},ColumnDefinitionFactory=po([a(),lo("design:paramtypes",[ao,so])],ColumnDefinitionFactory)}(),fo=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},ho=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},yo=function(){function CompositionConverter(t){this.columnDefinitionFactory=t}return CompositionConverter.prototype.convert=function(t){var e=t.isReady(),n=t.getColumns(),o=this.convertColumnsToColumnDef(n),r=t.getWidth(),i=t.isResizeEnabled(),c=t.getId();return new qn(c,e,o,r,i)},CompositionConverter.prototype.convertColumnsToColumnDef=function(t){var e=this,n=[];return t.forEach(function(t){var o=e.columnDefinitionFactory.create({header:t.header,field:t.field,columnType:t.columnType,width:t.width});n.push(o)}),n},CompositionConverter=fo([a(),ho("design:paramtypes",[go])],CompositionConverter)}(),mo=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),bo=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},vo=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Co=function(t){function InMemoryCompositionQueryStore(e,n){var o=t.call(this,e)||this;return o.inMemoryCompositionStore=e,o.compositionConverter=n,o}return mo(InMemoryCompositionQueryStore,t),InMemoryCompositionQueryStore.prototype.toReadModel=function(t){return this.compositionConverter.convert(t)},InMemoryCompositionQueryStore=bo([a(),vo("design:paramtypes",[Hn,yo])],InMemoryCompositionQueryStore)}(ie),_o=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),So=function(t){function CompositionInitedEvent(e){return t.call(this,e,"CompositionInitedEvent")||this}return _o(CompositionInitedEvent,t),CompositionInitedEvent}(Ht),Ro=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Oo=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},wo=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Po=function(t){function InMemoryCompositionRepository(e,n){var o=t.call(this)||this;return o.domainEventBus=e,o.inMemoryCompositionQueryStore=n,o.composition$=new k(1),o.unsubscribe$=new R,o.domainEventBus.ofEvent(So,Oe,Pe,ke,Ee).pipe(I(o.unsubscribe$)).subscribe(function(t){var e=t.aggregateId,n=o.inMemoryCompositionQueryStore.getById(e);o.composition$.next(n)}),o}return Ro(InMemoryCompositionRepository,t),InMemoryCompositionRepository.prototype.ngOnDestroy=function(){this.unsubscribe$.next(),this.unsubscribe$.complete()},InMemoryCompositionRepository.prototype.select=function(t){return this.composition$.asObservable().pipe(F(function(e){return e.getId().toString()===t.toString()}),F(function(t){return t.isReady()}))},InMemoryCompositionRepository=Oo([a(),wo("design:paramtypes",[$t,Co])],InMemoryCompositionRepository)}(xn),jo=[Nn,{provide:_n,useClass:$n}],ko=[Co,{provide:xn,useClass:Po}],Ao=[Hn],Eo=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Do=function(t){function CompositionId(e){return t.call(this,e)||this}return Eo(CompositionId,t),CompositionId}(Bt),Fo=new Do("-1"),Io=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},xo=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Bo=function(){function CompositionCommandService(t){this.compositionDispatcher=t}return CompositionCommandService.prototype.init=function(t){void 0===t&&(t=Fo),this.compositionDispatcher.init(t)},CompositionCommandService.prototype.setColumns=function(t,e){void 0===e&&(e=Fo),this.compositionDispatcher.setColumns(e,t)},CompositionCommandService.prototype.setWidth=function(t,e){void 0===e&&(e=Fo),this.compositionDispatcher.setWidth(e,t)},CompositionCommandService.prototype.setContainerWidth=function(t,e){void 0===e&&(e=Fo),this.compositionDispatcher.setContainerWidth(e,t)},CompositionCommandService.prototype.setResizeWidth=function(t,e){void 0===e&&(e=Fo),this.compositionDispatcher.setResizeWidth(e,t)},CompositionCommandService=Io([a(),xo("design:paramtypes",[Ve])],CompositionCommandService)}(),To=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Ho=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Mo=function(){function CompositionQueryService(t){this.compositionRepository=t}return CompositionQueryService.prototype.selectWidth=function(t){return void 0===t&&(t=Fo),this.compositionRepository.select(t).pipe(x(function(t){return t.getWidth()}))},CompositionQueryService.prototype.selectContainerWidth=function(t){return void 0===t&&(t=Fo),this.compositionRepository.select(t).pipe(x(function(t){return t.getContainerWidth()}))},CompositionQueryService.prototype.selectWidthForEachColumn=function(t){return void 0===t&&(t=Fo),this.compositionRepository.select(t).pipe(x(function(t){return t.getColumns().map(function(t){return t.width})}))},CompositionQueryService.prototype.selectHeaderColumns=function(t){return void 0===t&&(t=Fo),this.compositionRepository.select(t).pipe(x(function(t){return t.getHeaderColumns()}))},CompositionQueryService.prototype.selectTemplateColumns=function(t){return void 0===t&&(t=Fo),this.compositionRepository.select(t).pipe(x(function(t){return t.getTemplateColumns()}))},CompositionQueryService.prototype.selectResizeWidth=function(t){return void 0===t&&(t=Fo),this.compositionRepository.select(t).pipe(x(function(t){return t.isResizeWidthEnabled()}))},CompositionQueryService=To([a(),Ho("design:paramtypes",[xn])],CompositionQueryService)}(),Lo=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),zo=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Go=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},No=function(t){function InitCompositionCommandHandler(e,n,o){var r=t.call(this,xe,So,o)||this;return r.compositionAggregateRepository=e,r.compositionAggregateFactory=n,r}return Lo(InitCompositionCommandHandler,t),InitCompositionCommandHandler.prototype.execute=function(t){var e=t.compositionId,n=this.compositionAggregateFactory.create(e);this.compositionAggregateRepository.save(n)},InitCompositionCommandHandler=zo([a(),Go("design:paramtypes",[_n,Cn,Wt])],InitCompositionCommandHandler)}(Ot),Wo=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Qo=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Vo=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},$o=function(t){function SetColumnsCommandHandler(e,n,o){var r=t.call(this,Ne)||this;return r.compositionAggregateRepository=e,r.domainEventPublisher=n,r.compositionEventConverter=o,r}return Wo(SetColumnsCommandHandler,t),SetColumnsCommandHandler.prototype.execute=function(t){var e=t.structureId,n=t.columns,o=this.compositionAggregateRepository.getById(e);o.setColumns(n),this.compositionAggregateRepository.save(o),this.publishEvents(o,t)},SetColumnsCommandHandler.prototype.publishEvents=function(t,e){var n=t.getEvents(),o=this.compositionEventConverter.convert(n);this.domainEventPublisher.publish(o)},SetColumnsCommandHandler=Qo([a(),Vo("design:paramtypes",[_n,Wt,Fe])],SetColumnsCommandHandler)}(Ot),Uo=jo.concat([Ve,Cn,{provide:gt,useClass:No,multi:!0},{provide:gt,useClass:$o,multi:!0},{provide:gt,useClass:In,multi:!0},{provide:gt,useClass:wn,multi:!0},{provide:gt,useClass:An,multi:!0},un,so,Fe]),qo=ko.concat([{provide:"DOMAIN_EVENT_HANDLERS",useClass:Xe,multi:!0},go,ao,ro]),Yo=Ao.concat(Uo,qo,[yo,Bo,Mo,tn]),Ko=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Xo=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Zo=function(){function ColumnQueryComponent(){}return Ko([f(l),Xo("design:type",l)],ColumnQueryComponent.prototype,"cellTemplate",void 0),Ko([t(),Xo("design:type",String)],ColumnQueryComponent.prototype,"header",void 0),ColumnQueryComponent=Ko([i({selector:"gui-column",template:""})],ColumnQueryComponent)}(),Jo=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},tr=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},er=function(){function Indicator(t,e){this.elementRef=t,this.renderer=e,this.outline=!1,this.PRIMARY_CLASS_NAME="gui-primary",this.SECONDARY_CLASS_NAME="gui-secondary",this.OUTLINE_CLASS_NAME="gui-outline"}return Indicator.prototype.ngOnChanges=function(t){t.primary&&(this.primary?this.addClass(this.PRIMARY_CLASS_NAME):this.removeClass(this.PRIMARY_CLASS_NAME)),t.secondary&&(this.secondary?this.addClass(this.SECONDARY_CLASS_NAME):this.removeClass(this.SECONDARY_CLASS_NAME)),t.outline&&(this.outline?this.addClass(this.OUTLINE_CLASS_NAME):this.removeClass(this.OUTLINE_CLASS_NAME))},Indicator.prototype.addClass=function(t){this.renderer.addClass(this.elementRef.nativeElement,t)},Indicator.prototype.removeClass=function(t){this.renderer.removeClass(this.elementRef.nativeElement,t)},Jo([t(),tr("design:type",Boolean)],Indicator.prototype,"primary",void 0),Jo([t(),tr("design:type",Boolean)],Indicator.prototype,"secondary",void 0),Jo([t(),tr("design:type",Boolean)],Indicator.prototype,"outline",void 0),Indicator}(),nr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),or=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},rr=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ir=function(e){function FabricButtonComponent(t,n){var o=e.call(this,t,n)||this;return o.link=!1,o}return nr(FabricButtonComponent,e),FabricButtonComponent.prototype.ngOnChanges=function(t){e.prototype.ngOnChanges.call(this,t),t.link&&(this.link?this.addClass("gui-link"):this.removeClass("gui-link"))},or([t(),rr("design:type",Boolean)],FabricButtonComponent.prototype,"link",void 0),FabricButtonComponent=or([i({selector:"button[gui-button], a[gui-button]",template:"<ng-content></ng-content>\n",changeDetection:h.OnPush,encapsulation:y.None,host:{"[class.gui-button]":"true"}}),rr("design:paramtypes",[c,m])],FabricButtonComponent)}(er);___$insertStyle("/**\n * Colors\n */\n/**\n * Styles\n */\n/**\n * Colors\n */\n/**\n * Styles\n */\n.gui-button {\n  -webkit-writing-mode: horizontal-tb !important;\n  align-items: flex-start;\n  background: #e6e6e6;\n  box-sizing: border-box;\n  border-style: none;\n  border-radius: 4px;\n  color: #595959;\n  cursor: pointer;\n  display: inline-block;\n  font-family: Arial;\n  font-size: 13.3333px;\n  outline: none;\n  padding: 10px 20px 10px;\n  transition: background 0.2s;\n  text-align: center;\n  text-rendering: auto;\n  text-transform: none;\n  text-indent: 0;\n  text-shadow: none;\n  letter-spacing: normal;\n  margin: 0 4px 0 0;\n  word-spacing: normal;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n.gui-button:hover {\n  background: #cccccc;\n  color: #333;\n}\n.gui-button:active {\n  background: #999;\n  color: #333;\n}\n.gui-button:disabled {\n  color: #cccccc;\n  cursor: default;\n  pointer-events: none;\n}\n.gui-button.gui-outline:focus {\n  box-shadow: 0 0 0 2px #cccccc;\n}\n.gui-button.gui-outline.gui-primary:focus {\n  box-shadow: 0 0 0 2px #439de1;\n}\n.gui-button.gui-outline.gui-secondary:focus {\n  box-shadow: 0 0 0 2px #5ac88b;\n}\n.gui-button.gui-primary {\n  background: #2185d0;\n  color: #fefdfc;\n}\n.gui-button.gui-primary.gui-outline {\n  color: #2185d0;\n}\n.gui-button.gui-primary.gui-button:hover {\n  background: #1e77ba;\n}\n.gui-button.gui-primary.gui-button:active {\n  background: #1a69a4;\n  color: #fefdfc;\n}\n.gui-button.gui-primary.gui-button:disabled {\n  background: #6fb4e8;\n  color: #439de1;\n}\n.gui-button.gui-primary.gui-badge {\n  background: #439de1;\n}\n.gui-button.gui-secondary {\n  background: #3cb371;\n  color: #fefdfc;\n}\n.gui-button.gui-secondary.gui-outline {\n  color: #3cb371;\n}\n.gui-button.gui-secondary.gui-button:hover {\n  background: #36a065;\n}\n.gui-button.gui-secondary.gui-button:active {\n  background: #32945e;\n  color: #fefdfc;\n}\n.gui-button.gui-secondary.gui-button:disabled {\n  background: #80d5a6;\n  color: #5ac88b;\n}\n.gui-button.gui-secondary.gui-badge {\n  background: #5ac88b;\n}\n.gui-button.gui-link {\n  background: transparent;\n  border: 0;\n  color: #2185d0;\n}\n.gui-button.gui-link:hover {\n  background: none;\n  color: #1e77ba;\n  text-decoration: underline;\n}\n.gui-button.gui-link:focus {\n  text-decoration: underline;\n}\n.gui-button.gui-outline {\n  color: #999;\n  background: transparent;\n  border-color: #cccccc;\n  border-style: solid;\n  border-width: 1px;\n}\n.gui-button.gui-outline.gui-button:hover {\n  color: #fefdfc;\n  background: #cccccc;\n}\n.gui-button.gui-outline.gui-button:disabled {\n  border-color: #cccccc;\n  color: #cccccc;\n}\n.gui-button.gui-outline.gui-badge {\n  background: #fefdfc;\n}\n.gui-button.gui-outline.gui-primary {\n  border-color: #439de1;\n}\n.gui-button.gui-outline.gui-primary.gui-button:hover {\n  background: #2185d0;\n  border-color: #2185d0;\n}\n.gui-button.gui-outline.gui-primary.gui-button:disabled {\n  background: transparent;\n  border-color: #6fb4e8;\n  color: #6fb4e8;\n}\n.gui-button.gui-outline.gui-primary.gui-badge {\n  background: #fefdfc;\n  border-color: #439de1;\n  color: #439de1;\n}\n.gui-button.gui-outline.gui-secondary {\n  border-color: #5ac88b;\n}\n.gui-button.gui-outline.gui-secondary.gui-button:hover {\n  background: #3cb371;\n  border-color: #3cb371;\n}\n.gui-button.gui-outline.gui-secondary.gui-button:disabled {\n  background: transparent;\n  border-color: #80d5a6;\n  color: #80d5a6;\n}\n.gui-button.gui-outline.gui-secondary.gui-badge {\n  background: #fefdfc;\n  border-color: #5ac88b;\n  color: #5ac88b;\n}"),___$insertStyle("/**\n * Styles\n */\n/**\n * Styles\n */\n.gui-dark .gui-button {\n  background: #424242;\n  color: #BDBDBD;\n}\n.gui-dark .gui-button:hover {\n  background: #616161;\n}\n.gui-dark .gui-button:active {\n  background: #212121;\n}\n.gui-dark .gui-button:disabled {\n  opacity: 0.36;\n}\n.gui-dark .gui-button.gui-outline:focus {\n  box-shadow: 0 0 0 2px #616161;\n}\n.gui-dark .gui-button.gui-outline.gui-primary:focus {\n  box-shadow: 0 0 0 2px #CE93D8;\n}\n.gui-dark .gui-button.gui-outline.gui-secondary:focus {\n  box-shadow: 0 0 0 2px #80CBC4;\n}\n.gui-dark .gui-button.gui-primary {\n  background: #CE93D8;\n  color: #212121;\n}\n.gui-dark .gui-button.gui-primary.gui-outline {\n  color: #CE93D8;\n}\n.gui-dark .gui-button.gui-primary.gui-button:hover {\n  background: #c680d1;\n}\n.gui-dark .gui-button.gui-primary.gui-button:active {\n  background: #b55bc4;\n  color: #212121;\n}\n.gui-dark .gui-button.gui-primary.gui-button:disabled {\n  background: #CE93D8;\n  opacity: 0.5;\n  color: #212121;\n}\n.gui-dark .gui-button.gui-primary.gui-badge {\n  background: #dfb8e6;\n}\n.gui-dark .gui-button.gui-secondary {\n  background: #80CBC4;\n  color: #212121;\n}\n.gui-dark .gui-button.gui-secondary.gui-outline {\n  color: #80CBC4;\n}\n.gui-dark .gui-button.gui-secondary.gui-button:hover {\n  background: #6ec4bc;\n}\n.gui-dark .gui-button.gui-secondary.gui-button:active {\n  background: #26A69A;\n  color: #212121;\n}\n.gui-dark .gui-button.gui-secondary.gui-button:disabled {\n  background: #80CBC4;\n  opacity: 0.5;\n  color: #212121;\n}\n.gui-dark .gui-button.gui-secondary.gui-badge {\n  background: #a4dad5;\n}\n.gui-dark .gui-button.gui-link {\n  background: transparent;\n  border: 0;\n  color: #2185d0;\n}\n.gui-dark .gui-button.gui-link:hover {\n  background: none;\n  color: #1e77ba;\n  text-decoration: underline;\n}\n.gui-dark .gui-button.gui-link:focus {\n  text-decoration: underline;\n}\n.gui-dark .gui-button.gui-outline {\n  color: #BDBDBD;\n  background: transparent;\n  border-color: #616161;\n  border-style: solid;\n  border-width: 1px;\n}\n.gui-dark .gui-button.gui-outline.gui-button:hover {\n  color: #BDBDBD;\n  background: #616161;\n}\n.gui-dark .gui-button.gui-outline.gui-badge {\n  background: #121212;\n}\n.gui-dark .gui-button.gui-outline.gui-primary {\n  border-color: #CE93D8;\n}\n.gui-dark .gui-button.gui-outline.gui-primary.gui-button:hover {\n  background: #CE93D8;\n  border-color: #CE93D8;\n  color: #212121;\n}\n.gui-dark .gui-button.gui-outline.gui-primary.gui-button:disabled {\n  background: transparent;\n  border-color: #f0def3;\n  color: #f0def3;\n}\n.gui-dark .gui-button.gui-outline.gui-primary.gui-badge {\n  background: #121212;\n  border-color: #CE93D8;\n  color: #dfb8e6;\n}\n.gui-dark .gui-button.gui-outline.gui-secondary {\n  border-color: #80CBC4;\n}\n.gui-dark .gui-button.gui-outline.gui-secondary.gui-button:hover {\n  background: #80CBC4;\n  border-color: #80CBC4;\n  color: #212121;\n}\n.gui-dark .gui-button.gui-outline.gui-secondary.gui-button:disabled {\n  background: transparent;\n  border-color: #B2EBF2;\n  color: #B2EBF2;\n}\n.gui-dark .gui-button.gui-outline.gui-secondary.gui-badge {\n  background: #121212;\n  border-color: #80CBC4;\n  color: #80CBC4;\n}"),___$insertStyle(".gui-light .gui-button {\n  background: #f6f5f4;\n  border-color: #d8d7d6;\n}"),___$insertStyle('/**\n * Colors\n */\n/**\n * Styles\n */\n/**\n * Colors\n */\n/**\n * Styles\n */\n.gui-material .gui-button {\n  background: #3949AB;\n  color: #FFFFFF;\n  font-family: Roboto, "Helvetica Neue", sans-serif;\n  font-weight: 500;\n  padding: 10px 16px 10px;\n}\n.gui-material .gui-button:hover {\n  background: #5262c5;\n}\n.gui-material .gui-button:active {\n  background: #4051bf;\n}\n.gui-material .gui-button:disabled {\n  background: #C5CAE9;\n  color: #7885d2;\n}\n.gui-material .gui-button.gui-outline:focus {\n  box-shadow: 0 0 0 1px #5262c5;\n}\n.gui-material .gui-button.gui-outline.gui-primary:focus {\n  box-shadow: 0 0 0 1px #6200ee;\n}\n.gui-material .gui-button.gui-outline.gui-secondary:focus {\n  box-shadow: 0 0 0 1px #0097A7;\n}\n.gui-material .gui-button.gui-primary {\n  background: #6200ee;\n  color: #FFFFFF;\n}\n.gui-material .gui-button.gui-primary.gui-outline {\n  color: #6200ee;\n}\n.gui-material .gui-button.gui-primary.gui-button:hover {\n  background: #974dff;\n}\n.gui-material .gui-button.gui-primary.gui-button:active {\n  background: #791aff;\n  color: #FFFFFF;\n}\n.gui-material .gui-button.gui-primary.gui-button:disabled {\n  background: #D1C4E9;\n  color: #7d22ff;\n}\n.gui-material .gui-button.gui-primary.gui-badge {\n  background: #6200ee;\n}\n.gui-material .gui-button.gui-secondary {\n  background: #0097A7;\n  color: #FFFFFF;\n}\n.gui-material .gui-button.gui-secondary.gui-outline {\n  color: #0097A7;\n}\n.gui-material .gui-button.gui-secondary.gui-button:hover {\n  background: #00a1b3;\n}\n.gui-material .gui-button.gui-secondary.gui-button:active {\n  background: #00808e;\n  color: #FFFFFF;\n}\n.gui-material .gui-button.gui-secondary.gui-button:disabled {\n  background: #B2EBF2;\n  color: #00c5da;\n}\n.gui-material .gui-button.gui-secondary.gui-badge {\n  background: #0097A7;\n}\n.gui-material .gui-button.gui-link {\n  background: transparent;\n  border: 0;\n  color: #3949AB;\n}\n.gui-material .gui-button.gui-link:hover {\n  color: #4051bf;\n}\n.gui-material .gui-button.gui-outline {\n  color: #3949AB;\n  background: transparent;\n  border-color: #5262c5;\n}\n.gui-material .gui-button.gui-outline.gui-button:hover {\n  background: #E8EAF6;\n  color: #3949AB;\n}\n.gui-material .gui-button.gui-outline.gui-button:active {\n  background: #C5CAE9;\n}\n.gui-material .gui-button.gui-outline.gui-button:disabled {\n  border-color: #C5CAE9;\n  color: #C5CAE9;\n}\n.gui-material .gui-button.gui-outline.gui-badge {\n  background: #FFFFFF;\n}\n.gui-material .gui-button.gui-outline.gui-primary {\n  border-color: #6200ee;\n}\n.gui-material .gui-button.gui-outline.gui-primary.gui-button:hover {\n  background: #EDE7F6;\n  border-color: #6200ee;\n  color: #6200ee;\n}\n.gui-material .gui-button.gui-outline.gui-primary.gui-button:active {\n  background: #D1C4E9;\n}\n.gui-material .gui-button.gui-outline.gui-primary.gui-button:disabled {\n  background: transparent;\n  border-color: #D1C4E9;\n  color: #D1C4E9;\n}\n.gui-material .gui-button.gui-outline.gui-primary.gui-badge {\n  background: #FFFFFF;\n  border-color: #6200ee;\n  color: #7d22ff;\n}\n.gui-material .gui-button.gui-outline.gui-secondary {\n  border-color: #0097A7;\n}\n.gui-material .gui-button.gui-outline.gui-secondary.gui-button:hover {\n  background: #E0F7FA;\n  border-color: #0097A7;\n  color: #0097A7;\n}\n.gui-material .gui-button.gui-outline.gui-secondary.gui-button:active {\n  background: #B2EBF2;\n}\n.gui-material .gui-button.gui-outline.gui-secondary.gui-button:disabled {\n  background: transparent;\n  border-color: #B2EBF2;\n  color: #B2EBF2;\n}\n.gui-material .gui-button.gui-outline.gui-secondary.gui-badge {\n  background: #FFFFFF;\n  border-color: #0097A7;\n  color: #0097A7;\n}');var cr=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},ar=function(){function FabricButtonModule(){}return FabricButtonModule=cr([s({imports:[S],declarations:[ir],exports:[ir]})],FabricButtonModule)}(),ur=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),sr=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},pr=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},lr=function(t){function FabricChipComponent(e,n){return t.call(this,e,n)||this}return ur(FabricChipComponent,t),FabricChipComponent=sr([i({selector:"gui-chip",template:"<ng-content></ng-content>\n",changeDetection:h.OnPush,encapsulation:y.None,host:{"[class.gui-chip]":"true"}}),pr("design:paramtypes",[c,m])],FabricChipComponent)}(er);___$insertStyle("/**\n * Colors\n */\n/**\n * Styles\n */\n/**\n * Colors\n */\n/**\n * Styles\n */\n.gui-chip {\n  background: #e6e6e6;\n  border-radius: 4px;\n  color: #595959;\n  display: inline-block;\n  font-family: Arial;\n  font-size: 14px;\n  font-weight: bold;\n  margin: 0 2px;\n  padding: 9.6px 12px;\n}\n.gui-chip.gui-primary {\n  background: #2185d0;\n  color: #fefdfc;\n}\n.gui-chip.gui-primary.gui-outline {\n  color: #2185d0;\n}\n.gui-chip.gui-primary.gui-button:hover {\n  background: #1e77ba;\n}\n.gui-chip.gui-primary.gui-button:active {\n  background: #1a69a4;\n  color: #fefdfc;\n}\n.gui-chip.gui-primary.gui-button:disabled {\n  background: #6fb4e8;\n  color: #439de1;\n}\n.gui-chip.gui-primary.gui-badge {\n  background: #439de1;\n}\n.gui-chip.gui-secondary {\n  background: #3cb371;\n  color: #fefdfc;\n}\n.gui-chip.gui-secondary.gui-outline {\n  color: #3cb371;\n}\n.gui-chip.gui-secondary.gui-button:hover {\n  background: #36a065;\n}\n.gui-chip.gui-secondary.gui-button:active {\n  background: #32945e;\n  color: #fefdfc;\n}\n.gui-chip.gui-secondary.gui-button:disabled {\n  background: #80d5a6;\n  color: #5ac88b;\n}\n.gui-chip.gui-secondary.gui-badge {\n  background: #5ac88b;\n}\n.gui-chip.gui-outline {\n  color: #999;\n  background: transparent;\n  border-color: #cccccc;\n  border-style: solid;\n  border-width: 1px;\n}\n.gui-chip.gui-outline.gui-button:hover {\n  color: #fefdfc;\n  background: #cccccc;\n}\n.gui-chip.gui-outline.gui-button:disabled {\n  border-color: #cccccc;\n  color: #cccccc;\n}\n.gui-chip.gui-outline.gui-badge {\n  background: #fefdfc;\n}\n.gui-chip.gui-outline.gui-primary {\n  border-color: #439de1;\n}\n.gui-chip.gui-outline.gui-primary.gui-button:hover {\n  background: #2185d0;\n  border-color: #2185d0;\n}\n.gui-chip.gui-outline.gui-primary.gui-button:disabled {\n  background: transparent;\n  border-color: #6fb4e8;\n  color: #6fb4e8;\n}\n.gui-chip.gui-outline.gui-primary.gui-badge {\n  background: #fefdfc;\n  border-color: #439de1;\n  color: #439de1;\n}\n.gui-chip.gui-outline.gui-secondary {\n  border-color: #5ac88b;\n}\n.gui-chip.gui-outline.gui-secondary.gui-button:hover {\n  background: #3cb371;\n  border-color: #3cb371;\n}\n.gui-chip.gui-outline.gui-secondary.gui-button:disabled {\n  background: transparent;\n  border-color: #80d5a6;\n  color: #80d5a6;\n}\n.gui-chip.gui-outline.gui-secondary.gui-badge {\n  background: #fefdfc;\n  border-color: #5ac88b;\n  color: #5ac88b;\n}"),___$insertStyle('/**\n * Colors\n */\n/**\n * Styles\n */\n/**\n * Colors\n */\n/**\n * Styles\n */\n.gui-material .gui-chip {\n  background: #3949AB;\n  color: #FFFFFF;\n  font-family: Roboto, "Helvetica Neue", sans-serif;\n  font-weight: 500;\n  padding: 10px 16px 10px;\n}\n.gui-material .gui-chip.gui-primary {\n  background: #6200ee;\n  color: #FFFFFF;\n}\n.gui-material .gui-chip.gui-primary.gui-outline {\n  color: #6200ee;\n}\n.gui-material .gui-chip.gui-primary.gui-button:hover {\n  background: #974dff;\n}\n.gui-material .gui-chip.gui-primary.gui-button:active {\n  background: #791aff;\n  color: #FFFFFF;\n}\n.gui-material .gui-chip.gui-primary.gui-button:disabled {\n  background: #D1C4E9;\n  color: #7d22ff;\n}\n.gui-material .gui-chip.gui-primary.gui-badge {\n  background: #6200ee;\n}\n.gui-material .gui-chip.gui-secondary {\n  background: #0097A7;\n  color: #FFFFFF;\n}\n.gui-material .gui-chip.gui-secondary.gui-outline {\n  color: #0097A7;\n}\n.gui-material .gui-chip.gui-secondary.gui-button:hover {\n  background: #00a1b3;\n}\n.gui-material .gui-chip.gui-secondary.gui-button:active {\n  background: #00808e;\n  color: #FFFFFF;\n}\n.gui-material .gui-chip.gui-secondary.gui-button:disabled {\n  background: #B2EBF2;\n  color: #00c5da;\n}\n.gui-material .gui-chip.gui-secondary.gui-badge {\n  background: #0097A7;\n}\n.gui-material .gui-chip.gui-outline {\n  color: #3949AB;\n  background: transparent;\n  border-color: #5262c5;\n}\n.gui-material .gui-chip.gui-outline.gui-button:hover {\n  background: #E8EAF6;\n  color: #3949AB;\n}\n.gui-material .gui-chip.gui-outline.gui-button:active {\n  background: #C5CAE9;\n}\n.gui-material .gui-chip.gui-outline.gui-button:disabled {\n  border-color: #C5CAE9;\n  color: #C5CAE9;\n}\n.gui-material .gui-chip.gui-outline.gui-badge {\n  background: #FFFFFF;\n}\n.gui-material .gui-chip.gui-outline.gui-primary {\n  border-color: #6200ee;\n}\n.gui-material .gui-chip.gui-outline.gui-primary.gui-button:hover {\n  background: #EDE7F6;\n  border-color: #6200ee;\n  color: #6200ee;\n}\n.gui-material .gui-chip.gui-outline.gui-primary.gui-button:active {\n  background: #D1C4E9;\n}\n.gui-material .gui-chip.gui-outline.gui-primary.gui-button:disabled {\n  background: transparent;\n  border-color: #D1C4E9;\n  color: #D1C4E9;\n}\n.gui-material .gui-chip.gui-outline.gui-primary.gui-badge {\n  background: #FFFFFF;\n  border-color: #6200ee;\n  color: #7d22ff;\n}\n.gui-material .gui-chip.gui-outline.gui-secondary {\n  border-color: #0097A7;\n}\n.gui-material .gui-chip.gui-outline.gui-secondary.gui-button:hover {\n  background: #E0F7FA;\n  border-color: #0097A7;\n  color: #0097A7;\n}\n.gui-material .gui-chip.gui-outline.gui-secondary.gui-button:active {\n  background: #B2EBF2;\n}\n.gui-material .gui-chip.gui-outline.gui-secondary.gui-button:disabled {\n  background: transparent;\n  border-color: #B2EBF2;\n  color: #B2EBF2;\n}\n.gui-material .gui-chip.gui-outline.gui-secondary.gui-badge {\n  background: #FFFFFF;\n  border-color: #0097A7;\n  color: #0097A7;\n}'),___$insertStyle("/**\n * Styles\n */\n/**\n * Styles\n */\n.gui-dark .gui-chip {\n  background: #000000;\n  color: #BDBDBD;\n}\n.gui-dark .gui-chip.gui-primary {\n  background: #CE93D8;\n  color: #212121;\n}\n.gui-dark .gui-chip.gui-primary.gui-outline {\n  color: #CE93D8;\n}\n.gui-dark .gui-chip.gui-primary.gui-button:hover {\n  background: #c680d1;\n}\n.gui-dark .gui-chip.gui-primary.gui-button:active {\n  background: #b55bc4;\n  color: #212121;\n}\n.gui-dark .gui-chip.gui-primary.gui-button:disabled {\n  background: #CE93D8;\n  opacity: 0.5;\n  color: #212121;\n}\n.gui-dark .gui-chip.gui-primary.gui-badge {\n  background: #dfb8e6;\n}\n.gui-dark .gui-chip.gui-secondary {\n  background: #80CBC4;\n  color: #212121;\n}\n.gui-dark .gui-chip.gui-secondary.gui-outline {\n  color: #80CBC4;\n}\n.gui-dark .gui-chip.gui-secondary.gui-button:hover {\n  background: #6ec4bc;\n}\n.gui-dark .gui-chip.gui-secondary.gui-button:active {\n  background: #26A69A;\n  color: #212121;\n}\n.gui-dark .gui-chip.gui-secondary.gui-button:disabled {\n  background: #80CBC4;\n  opacity: 0.5;\n  color: #212121;\n}\n.gui-dark .gui-chip.gui-secondary.gui-badge {\n  background: #a4dad5;\n}\n.gui-dark .gui-chip.gui-outline {\n  color: #BDBDBD;\n  background: transparent;\n  border-color: #616161;\n  border-style: solid;\n  border-width: 1px;\n}\n.gui-dark .gui-chip.gui-outline.gui-button:hover {\n  color: #BDBDBD;\n  background: #616161;\n}\n.gui-dark .gui-chip.gui-outline.gui-badge {\n  background: #121212;\n}\n.gui-dark .gui-chip.gui-outline.gui-primary {\n  border-color: #CE93D8;\n}\n.gui-dark .gui-chip.gui-outline.gui-primary.gui-button:hover {\n  background: #CE93D8;\n  border-color: #CE93D8;\n  color: #212121;\n}\n.gui-dark .gui-chip.gui-outline.gui-primary.gui-button:disabled {\n  background: transparent;\n  border-color: #f0def3;\n  color: #f0def3;\n}\n.gui-dark .gui-chip.gui-outline.gui-primary.gui-badge {\n  background: #121212;\n  border-color: #CE93D8;\n  color: #dfb8e6;\n}\n.gui-dark .gui-chip.gui-outline.gui-secondary {\n  border-color: #80CBC4;\n}\n.gui-dark .gui-chip.gui-outline.gui-secondary.gui-button:hover {\n  background: #80CBC4;\n  border-color: #80CBC4;\n  color: #212121;\n}\n.gui-dark .gui-chip.gui-outline.gui-secondary.gui-button:disabled {\n  background: transparent;\n  border-color: #B2EBF2;\n  color: #B2EBF2;\n}\n.gui-dark .gui-chip.gui-outline.gui-secondary.gui-badge {\n  background: #121212;\n  border-color: #80CBC4;\n  color: #80CBC4;\n}");var gr=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},dr=function(){function FabricChipModule(){}return FabricChipModule=gr([s({imports:[S],declarations:[lr],exports:[lr]})],FabricChipModule)}(),fr=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},hr=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},yr=function(){function FabricCheckboxComponent(t,e){this.elementRef=t,this.renderer=e,this.checked=!1,this.changed=new n}return FabricCheckboxComponent.prototype.ngOnChanges=function(t){t.disabled&&(this.disabled?this.renderer.addClass(this.elementRef.nativeElement,"gui-disabled"):this.renderer.removeClass(this.elementRef.nativeElement,"gui-disabled"))},FabricCheckboxComponent.prototype.check=function(){this.checked=!this.checked,this.changed.emit(this.checked)},fr([t(),hr("design:type",String)],FabricCheckboxComponent.prototype,"name",void 0),fr([t(),hr("design:type",Boolean)],FabricCheckboxComponent.prototype,"checked",void 0),fr([t(),hr("design:type",Boolean)],FabricCheckboxComponent.prototype,"disabled",void 0),fr([e(),hr("design:type",n)],FabricCheckboxComponent.prototype,"changed",void 0),FabricCheckboxComponent=fr([i({selector:"gui-checkbox",template:'<label>\n\t<input\n\t\t[name]=name\n\t\t[checked]=checked\n\t\t[disabled]=disabled\n\t\ttype="checkbox"\n\t\t(click)=\'check()\'>\n\t<span class="gui-checkmark"></span>\n\t<ng-content></ng-content>\n</label>\n',changeDetection:h.OnPush,encapsulation:y.None,host:{"[class.gui-checkbox]":"true"}}),hr("design:paramtypes",[c,m])],FabricCheckboxComponent)}();___$insertStyle('/**\n * Colors\n */\n/**\n * Styles\n */\n/**\n * Colors\n */\n/**\n * Styles\n */\n.gui-checkbox {\n  display: inline-block;\n  font: 14px Arial;\n  line-height: 18px;\n  padding-left: 32px;\n  position: relative;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n.gui-checkbox label {\n  cursor: pointer;\n}\n.gui-checkbox label:hover .gui-checkmark {\n  border-color: #999;\n}\n.gui-checkbox input {\n  position: absolute;\n  opacity: 0;\n  height: 0;\n  width: 0;\n}\n.gui-checkbox .gui-checkmark {\n  box-sizing: content-box;\n  border-color: #cccccc;\n  border-radius: 4px;\n  border-style: solid;\n  border-width: 1px;\n  position: absolute;\n  left: 0;\n  height: 16px;\n  width: 16px;\n}\n.gui-checkbox input:checked + .gui-checkmark {\n  border-color: #999;\n}\n.gui-checkbox input:focus + .gui-checkmark {\n  border-color: #6fb4e8;\n}\n.gui-checkbox.gui-disabled.gui-checkbox {\n  color: #cccccc;\n  pointer-events: none;\n}\n.gui-checkbox .gui-checkmark:after {\n  content: " ";\n  position: absolute;\n  display: none;\n}\n.gui-checkbox input:checked + .gui-checkmark:after {\n  box-sizing: content-box;\n  display: block;\n}\n.gui-checkbox .gui-checkmark:after {\n  border-color: #333;\n  border-style: solid;\n  border-width: 0 4px 4px 0;\n  width: 4px;\n  height: 8px;\n  -webkit-transform: translateX(50%) translateY(5%) rotate(45deg) scale(0.9);\n          transform: translateX(50%) translateY(5%) rotate(45deg) scale(0.9);\n}'),___$insertStyle('/**\n * Colors\n */\n/**\n * Styles\n */\n.gui-material .gui-checkbox {\n  font-family: Roboto, "Helvetica Neue", sans-serif;\n}'),___$insertStyle("/**\n * Styles\n */\n/**\n * Styles\n */\n.gui-dark .gui-checkbox {\n  color: #BDBDBD;\n}\n.gui-dark .gui-checkbox .gui-checkmark {\n  border-color: #878787;\n}\n.gui-dark .gui-checkbox input:checked + .gui-checkmark {\n  border-color: #878787;\n}\n.gui-dark .gui-checkbox input:focus + .gui-checkmark {\n  border-color: #CE93D8;\n}\n.gui-dark .gui-checkbox .gui-checkmark:after {\n  border-color: #878787;\n}\n.gui-dark .gui-checkbox.gui-disabled.gui-checkbox {\n  opacity: 0.36;\n}");var mr=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},br=function(){function FabricCheckboxModule(){}return FabricCheckboxModule=mr([s({imports:[S],declarations:[yr],exports:[yr]})],FabricCheckboxModule)}(),vr=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Cr=function(){function FabricInputComponent(){}return FabricInputComponent=vr([i({selector:"input[gui-input]",template:"\n",changeDetection:h.OnPush,encapsulation:y.None,host:{"[class.gui-input]":"true"}})],FabricInputComponent)}();___$insertStyle("/**\n * Colors\n */\n/**\n * Styles\n */\n/**\n * Colors\n */\n/**\n * Styles\n */\n.gui-input {\n  background: #fefdfc;\n  border-color: #cccccc;\n  border-style: solid;\n  border-width: 1px;\n  border-radius: 4px;\n  color: #333;\n  font: 14px Arial;\n  margin: 0;\n  max-width: 100%;\n  outline: 0;\n  padding: 8px 12px 8px;\n  text-align: left;\n}\n.gui-input:hover {\n  border-color: #999;\n}\n.gui-input:focus {\n  border-color: #6fb4e8;\n}\n.gui-input:disabled {\n  color: #cccccc;\n  cursor: default;\n  pointer-events: none;\n}\n.gui-input:disabled::-webkit-input-placeholder {\n  color: #cccccc;\n}\n.gui-input:disabled::-moz-placeholder {\n  color: #cccccc;\n}\n.gui-input:disabled:-ms-input-placeholder {\n  color: #cccccc;\n}\n.gui-input:disabled::-ms-input-placeholder {\n  color: #cccccc;\n}\n.gui-input:disabled::placeholder {\n  color: #cccccc;\n}"),___$insertStyle('/**\n * Colors\n */\n/**\n * Styles\n */\n.gui-material .gui-input {\n  font-family: Roboto, "Helvetica Neue", sans-serif;\n}'),___$insertStyle("/**\n * Styles\n */\n.gui-dark .gui-input {\n  background: #424242;\n  border-color: #616161;\n  color: #BDBDBD;\n}\n.gui-dark .gui-input:hover {\n  background: #616161;\n}\n.gui-dark .gui-input:focus {\n  border-color: #CE93D8;\n}\n.gui-dark .gui-input:disabled {\n  opacity: 0.36;\n}");var _r,Sr,Rr=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Or=function(){function FabricInputModule(){}return FabricInputModule=Rr([s({imports:[S],declarations:[Cr],exports:[Cr]})],FabricInputModule)}(),wr=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Pr=[eo,Zo],jr=[eo,Zo,dr,br,ar,Or],kr=function(){function CompositionModule(){}return CompositionModule=wr([s({imports:[S,dr,br,ar,Or],providers:Yo.slice(),declarations:[Pr],exports:jr,entryComponents:[eo,lr,yr,ir,Cr]})],CompositionModule)}(),Ar=function(){function StructureIdGenerator(){this.increment=0}return StructureIdGenerator.prototype.generateId=function(){return this.increment++,this.increment},StructureIdGenerator}(),Er=function(){return function(){}}(),Dr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Fr=function(t){function StructureId(e){return t.call(this,e)||this}return Dr(StructureId,t),StructureId}(Bt),Ir=new Fr("-1"),xr=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Br=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Tr=function(){function StructureQueryService(t){this.structureRepository=t}return StructureQueryService.prototype.select=function(t){return void 0===t&&(t=Ir),this.structureRepository.select(t)},StructureQueryService.prototype.selectVerticalScrollEnabled=function(t){return void 0===t&&(t=Ir),this.structureRepository.select(t).pipe(x(function(t){return t.isVerticalScrollEnabled()}),B())},StructureQueryService=xr([a(),Br("design:paramtypes",[Er])],StructureQueryService)}(),Hr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Mr=function(t){function SelectedRowToggledEvent(e){return t.call(this,e,"SelectedRowToggledEvent")||this}return Hr(SelectedRowToggledEvent,t),SelectedRowToggledEvent}(Ht),Lr=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},zr=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Gr=function(){function FormationEventService(t,e){this.domainEventBus=t,this.structureQueryService=e}return FormationEventService.prototype.selectItemSelected=function(t){var e=this;return this.domainEventBus.ofEvent(Mr).pipe(F(function(e){return e.aggregateId.toString()===t.toString()}),T(function(n){return e.structureQueryService.select(t).pipe(x(function(t){return t.getSelectedEntities()}),x(function(t){return t.map(function(t){return t.getData()})}))}))},FormationEventService=Lr([a(),zr("design:paramtypes",[$t,Tr])],FormationEventService)}(),Nr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Wr=function(t){function SourceSetLoadingCommand(e,n){var o=t.call(this,e,"SourceSetLoadingCommand")||this;return o.structureId=e,o.enabled=n,o}return Nr(SourceSetLoadingCommand,t),SourceSetLoadingCommand}(Rt),Qr=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Vr=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},$r=function(){function SourceDispatcher(t){this.commandDispatcher=t}return SourceDispatcher.prototype.setLoading=function(t,e){this.commandDispatcher.dispatch(new Wr(t,e))},SourceDispatcher=Qr([a(),Vr("design:paramtypes",[yt])],SourceDispatcher)}(),Ur=function(){function Reactive(){this.unsubscribe$=new R}return Reactive.prototype.ngOnDestroy=function(){this.unsubscribe()},Reactive.prototype.unsubscribe=function(){this.unsubscribe$.next(),this.unsubscribe$.complete()},Reactive.prototype.takeUntil=function(){return I(this.unsubscribe$)},Reactive}(),qr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Yr=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Kr=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Xr=function(t){function SourceCommandService(e){var n=t.call(this)||this;return n.sourceDispatcher=e,n}return qr(SourceCommandService,t),SourceCommandService.prototype.setLoading=function(t,e){void 0===e&&(e=Ir),this.sourceDispatcher.setLoading(e,t)},SourceCommandService=Yr([a(),Kr("design:paramtypes",[$r])],SourceCommandService)}(Ur),Zr=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Jr=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ti=function(){function SourceQueryService(t){this.structureRepository=t}return SourceQueryService.prototype.select=function(t){return void 0===t&&(t=Ir),this.structureRepository.select(t).pipe(x(function(t){return t.getEntities()}),B(function(t,e){if(t.length!==e.length)return!1;var n=!0;return t.forEach(function(t,o){t.equals(e[o])||(n=!1)}),n}))},SourceQueryService.prototype.selectOne=function(t){return void 0===t&&(t=Ir),this.select(t).pipe(D(1))},SourceQueryService.prototype.selectLoading=function(t){return void 0===t&&(t=Ir),this.structureRepository.select(t).pipe(x(function(t){return t.getSource().isLoading()}))},SourceQueryService=Zr([a(),Jr("design:paramtypes",[Er])],SourceQueryService)}(),ei=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),ni=function(t){function SmartComponent(){return null!==t&&t.apply(this,arguments)||this}return ei(SmartComponent,t),SmartComponent}(Ur),oi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),ri=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},ii=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ci=function(o){function StructureGateway(t,e,r,i,c,a,u,s,p,l,g){var d=o.call(this)||this;return d.structureId=t,d.compositionId=e,d.structureCommandService=r,d.originCommandService=i,d.pagingCommandService=c,d.pagingEventService=a,d.sourceCommandService=u,d.schemaCommandService=s,d.compositionCommandService=p,d.compositionEventService=l,d.formationEventService=g,d.source=[],d.columns=[],d.pageChanged=new n,d.pageSizeChanged=new n,d.itemsSelected=new n,d.columnsChanged=new n,d.containerWidthChanged=new n,d}return oi(StructureGateway,o),StructureGateway.prototype.ngOnChanges=function(t){if(t.width&&void 0!==t.width.currentValue&&this.compositionCommandService.setWidth(this.width),t.autoResizeWidth&&void 0!==t.autoResizeWidth.currentValue&&this.compositionCommandService.setResizeWidth(this.autoResizeWidth),t.columnHeaderTop&&void 0!==t.columnHeaderTop.currentValue&&this.schemaCommandService.changeTopHeader(this.columnHeaderTop),t.columnHeaderBottom&&void 0!==t.columnHeaderBottom.currentValue&&this.schemaCommandService.changeBottomHeader(this.columnHeaderBottom),t.loading&&void 0!==t.loading.currentValue&&this.sourceCommandService.setLoading(this.loading),t.paging&&void 0!==t.paging.currentValue){var e=void 0;e="boolean"==typeof this.paging?{enabled:this.paging}:this.paging,this.pagingCommandService.setPaging(e)}t.columns&&this.structureCommandService.initFields(this.columns,this.compositionId,this.structureId),t.verticalGrid&&void 0!==t.verticalGrid.currentValue&&this.schemaCommandService.changeVerticalGrid(this.verticalGrid),t.horizontalGrid&&void 0!==t.horizontalGrid.currentValue&&this.schemaCommandService.changeHorizontalGrid(this.horizontalGrid),t.theme&&void 0!==t.theme.currentValue&&this.schemaCommandService.setTheme(this.theme),t.rowColoring&&void 0!==t.rowColoring.currentValue&&this.schemaCommandService.setRowColoring(this.rowColoring),t.height&&this.height&&this.schemaCommandService.setHeight(this.height),t.virtualScroll&&void 0!==t.virtualScroll.currentValue&&(this.virtualScroll?this.structureCommandService.enableVerticalScroll():this.structureCommandService.disableVerticalScroll()),t.height&&this.height&&this.schemaCommandService.setHeight(this.height),t.source&&this.originCommandService.setOrigin(this.source)},StructureGateway.prototype.ngOnInit=function(){var t=this;this.pagingEventService.selectPageChange(this.structureId).pipe(this.takeUntil()).subscribe(function(e){t.pageChanged.emit(e)}),this.pagingEventService.selectPageSizeChange(this.structureId).pipe(this.takeUntil()).subscribe(function(e){t.pageSizeChanged.emit(e)}),this.formationEventService.selectItemSelected(this.structureId).pipe(this.takeUntil()).subscribe(function(e){t.itemsSelected.emit(e)}),this.compositionEventService.selectColumnsChanged(this.compositionId).pipe(H(1),this.takeUntil()).subscribe(function(){t.columnsChanged.emit()}),this.compositionEventService.selectContainerWidthChanged(this.compositionId).pipe(this.takeUntil()).subscribe(function(e){t.containerWidthChanged.emit(e)})},StructureGateway.prototype.onPageChange=function(t){this.pageChanged.emit(t)},ri([t(),ii("design:type",Boolean)],StructureGateway.prototype,"columnHeaderTop",void 0),ri([t(),ii("design:type",Boolean)],StructureGateway.prototype,"columnHeaderBottom",void 0),ri([t(),ii("design:type",Number)],StructureGateway.prototype,"height",void 0),ri([t(),ii("design:type",Number)],StructureGateway.prototype,"width",void 0),ri([t(),ii("design:type",Boolean)],StructureGateway.prototype,"autoResizeWidth",void 0),ri([t(),ii("design:type",Array)],StructureGateway.prototype,"source",void 0),ri([t(),ii("design:type",Array)],StructureGateway.prototype,"columns",void 0),ri([t(),ii("design:type",Object)],StructureGateway.prototype,"paging",void 0),ri([t(),ii("design:type",Boolean)],StructureGateway.prototype,"verticalGrid",void 0),ri([t(),ii("design:type",Boolean)],StructureGateway.prototype,"horizontalGrid",void 0),ri([t(),ii("design:type",String)],StructureGateway.prototype,"theme",void 0),ri([t(),ii("design:type",String)],StructureGateway.prototype,"rowColoring",void 0),ri([t(),ii("design:type",Boolean)],StructureGateway.prototype,"loading",void 0),ri([t(),ii("design:type",Boolean)],StructureGateway.prototype,"virtualScroll",void 0),ri([e(),ii("design:type",n)],StructureGateway.prototype,"pageChanged",void 0),ri([e(),ii("design:type",n)],StructureGateway.prototype,"pageSizeChanged",void 0),ri([e(),ii("design:type",n)],StructureGateway.prototype,"itemsSelected",void 0),ri([e(),ii("design:type",n)],StructureGateway.prototype,"columnsChanged",void 0),ri([e(),ii("design:type",n)],StructureGateway.prototype,"containerWidthChanged",void 0),StructureGateway}(ni),ai=new o("Structure - - css className"),ui=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),si=function(t){function ToggleSelectedRowCommand(e,n){var o=t.call(this,e,"ToggleSelectedRowCommand")||this;return o.structureId=e,o.selectedRow=n,o}return ui(ToggleSelectedRowCommand,t),ToggleSelectedRowCommand}(Rt),pi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),li=function(t){function SetFormationCommand(e,n){var o=t.call(this,e,"SetFormationCommand")||this;return o.structureId=e,o.payload=n,o}return pi(SetFormationCommand,t),SetFormationCommand}(Rt),gi=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},di=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},fi=function(){function FormationDispatcher(t){this.commandDispatcher=t}return FormationDispatcher.prototype.setDefault=function(t){this.commandDispatcher.dispatch(new li(t))},FormationDispatcher.prototype.toggleSelectedRow=function(t,e){this.commandDispatcher.dispatch(new si(t,e))},FormationDispatcher=gi([a(),di("design:paramtypes",[yt])],FormationDispatcher)}(),hi=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},yi=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},mi=function(){function FormationCommandService(t){this.formationDispatcher=t}return FormationCommandService.prototype.setDefaultFormation=function(t){void 0===t&&(t=Ir),this.formationDispatcher.setDefault(t)},FormationCommandService.prototype.toggleSelectedRow=function(t,e){void 0===e&&(e=Ir),this.formationDispatcher.toggleSelectedRow(e,t)},FormationCommandService=hi([a(),yi("design:paramtypes",[fi])],FormationCommandService)}(),bi=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},vi=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ci=function(){function FormationRepository(t){this.structureRepository=t}return FormationRepository.prototype.select=function(t){return this.structureRepository.select(t).pipe(F(function(e){return e.getId().toString()===t.toString()}),x(function(t){return t.getFormation()}))},FormationRepository=bi([a(),vi("design:paramtypes",[Er])],FormationRepository)}(),_i=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Si=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ri=function(){function FormationQueryService(t){this.formationRepository=t}return FormationQueryService.prototype.selectSelectedRows=function(t){return void 0===t&&(t=Ir),this.formationRepository.select(t).pipe(x(function(t){return t.getSelectedRows()}))},FormationQueryService=_i([a(),Si("design:paramtypes",[Ci])],FormationQueryService)}(),Oi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),wi=function(t){function SetRowColoringCommand(e,n){var o=t.call(this,e,"SetRowColoringCommand")||this;return o.structureId=e,o.coloring=n,o}return Oi(SetRowColoringCommand,t),SetRowColoringCommand}(Rt),Pi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),ji=function(t){function SetSchemaCommand(e,n){var o=t.call(this,e,"SetSchemaCommand")||this;return o.structureId=e,o.height=n,o}return Pi(SetSchemaCommand,t),SetSchemaCommand}(Rt),ki=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Ai=function(t){function SetSchemaVerticalGridCommand(e,n){var o=t.call(this,e,"SetSchemaVerticalGridCommand")||this;return o.structureId=e,o.enabled=n,o}return ki(SetSchemaVerticalGridCommand,t),SetSchemaVerticalGridCommand}(Rt),Ei=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Di=function(t){function SetSchemaHorizontalGridCommand(e,n){var o=t.call(this,e,"SetSchemaHorizontalGridCommand")||this;return o.structureId=e,o.enabled=n,o}return Ei(SetSchemaHorizontalGridCommand,t),SetSchemaHorizontalGridCommand}(Rt),Fi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Ii=function(t){function SetSchemaThemeCommand(e,n){var o=t.call(this,e,"SetSchemaThemeCommand")||this;return o.structureId=e,o.theme=n,o}return Fi(SetSchemaThemeCommand,t),SetSchemaThemeCommand}(Rt),xi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Bi=function(t){function ChangeSchemaTopHeaderCommand(e,n){var o=t.call(this,e,"ChangeSchemaTopHeaderCommand")||this;return o.structureId=e,o.enabled=n,o}return xi(ChangeSchemaTopHeaderCommand,t),ChangeSchemaTopHeaderCommand}(Rt),Ti=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Hi=function(t){function ChangeSchemaBottomHeaderCommand(e,n){var o=t.call(this,e,"ChangeSchemaBottomHeaderCommand")||this;return o.structureId=e,o.enabled=n,o}return Ti(ChangeSchemaBottomHeaderCommand,t),ChangeSchemaBottomHeaderCommand}(Rt),Mi=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Li=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},zi=function(){function SchemaDispatcher(t){this.commandDispatcher=t}return SchemaDispatcher.prototype.setSchema=function(t,e){this.commandDispatcher.dispatch(new ji(t,e))},SchemaDispatcher.prototype.changeVerticalGrid=function(t,e){this.commandDispatcher.dispatch(new Ai(t,e))},SchemaDispatcher.prototype.changeHorizontalGrid=function(t,e){this.commandDispatcher.dispatch(new Di(t,e))},SchemaDispatcher.prototype.setTheme=function(t,e){this.commandDispatcher.dispatch(new Ii(t,e))},SchemaDispatcher.prototype.setRowColoring=function(t,e){void 0===t&&(t=Ir),this.commandDispatcher.dispatch(new wi(t,e))},SchemaDispatcher.prototype.changeTopHeader=function(t,e){this.commandDispatcher.dispatch(new Bi(t,e))},SchemaDispatcher.prototype.changeBottomHeader=function(t,e){this.commandDispatcher.dispatch(new Hi(t,e))},SchemaDispatcher=Mi([a(),Li("design:paramtypes",[yt])],SchemaDispatcher)}(),Gi=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Ni=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Wi=function(){function SchemaRepository(t){this.structureRepository=t}return SchemaRepository.prototype.select=function(t){return this.structureRepository.select(t).pipe(F(function(e){return e.getId().toString()===t.toString()}),x(function(t){return t.getSchema()}))},SchemaRepository=Gi([a(),Ni("design:paramtypes",[Er])],SchemaRepository)}(),Qi=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Vi=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},$i=function(){function SchemaQueryService(t){this.schemaRepository=t}return SchemaQueryService.prototype.select=function(t){return void 0===t&&(t=Ir),this.schemaRepository.select(t)},SchemaQueryService.prototype.selectHeight=function(t){return void 0===t&&(t=Ir),this.schemaRepository.select(t).pipe(x(function(t){return t.getHeight()}),F(function(t){return void 0!==t}))},SchemaQueryService.prototype.selectContainerHeight=function(t){return void 0===t&&(t=Ir),this.schemaRepository.select(t).pipe(x(function(t){return t.getContainerHeight()}),F(function(t){return void 0!==t}))},SchemaQueryService.prototype.selectOne=function(t){return void 0===t&&(t=Ir),this.select(t).pipe(D(1))},SchemaQueryService.prototype.selectCssClasses=function(t){return void 0===t&&(t=Ir),this.schemaRepository.select(t).pipe(x(function(t){return t.getCssClasses()}))},SchemaQueryService.prototype.selectColumnHeader=function(t){return void 0===t&&(t=Ir),this.schemaRepository.select(t).pipe(x(function(t){return t.getColumnHeader()}))},SchemaQueryService=Qi([a(),Vi("design:paramtypes",[Wi])],SchemaQueryService)}(),Ui=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},qi=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Yi=function(){function SchemaCommandService(t,e){this.schemaDispatcher=t,this.schemaQueryService=e,this.unsubscribe$=new R}return SchemaCommandService.prototype.ngOnDestroy=function(){this.unsubscribe$.next(),this.unsubscribe$.complete()},SchemaCommandService.prototype.setSchema=function(t,e){void 0===e&&(e=Ir),this.schemaDispatcher.setSchema(e,t)},SchemaCommandService.prototype.setHeight=function(t,e){void 0===e&&(e=Ir),this.schemaDispatcher.setSchema(e,t)},SchemaCommandService.prototype.changeVerticalGrid=function(t,e){void 0===e&&(e=Ir),this.schemaDispatcher.changeVerticalGrid(e,t)},SchemaCommandService.prototype.changeHorizontalGrid=function(t,e){void 0===e&&(e=Ir),this.schemaDispatcher.changeHorizontalGrid(e,t)},SchemaCommandService.prototype.setTheme=function(t,e){void 0===e&&(e=Ir),this.schemaDispatcher.setTheme(e,t)},SchemaCommandService.prototype.setRowColoring=function(t,e){void 0===e&&(e=Ir),this.schemaDispatcher.setRowColoring(e,t)},SchemaCommandService.prototype.changeTopHeader=function(t,e){void 0===e&&(e=Ir),this.schemaDispatcher.changeTopHeader(e,t)},SchemaCommandService.prototype.changeBottomHeader=function(t,e){void 0===e&&(e=Ir),this.schemaDispatcher.changeBottomHeader(e,t)},SchemaCommandService.prototype.toggleVerticalGrid=function(t){var e=this;void 0===t&&(t=Ir),this.schemaQueryService.selectCssClasses(t).pipe(x(function(t){return t.verticalGrid}),F(function(t){return void 0!==t}),D(1),I(this.unsubscribe$)).subscribe(function(n){e.changeVerticalGrid(!n,t)})},SchemaCommandService.prototype.toggleHorizontalGrid=function(t){var e=this;void 0===t&&(t=Ir),this.schemaQueryService.selectCssClasses(t).pipe(x(function(t){return t.horizontalGrid}),F(function(t){return void 0!==t}),D(1),I(this.unsubscribe$)).subscribe(function(n){e.changeHorizontalGrid(!n,t)})},SchemaCommandService.prototype.toggleTopHeader=function(t){var e=this;void 0===t&&(t=Ir),this.schemaQueryService.selectColumnHeader(t).pipe(x(function(t){return t.isTopHeaderEnabled()}),D(1),I(this.unsubscribe$)).subscribe(function(n){e.changeTopHeader(!n,t)})},SchemaCommandService.prototype.toggleBottomHeader=function(t){var e=this;void 0===t&&(t=Ir),this.schemaQueryService.selectColumnHeader(t).pipe(x(function(t){return t.isBottomHeaderEnabled()}),D(1),I(this.unsubscribe$)).subscribe(function(n){e.changeBottomHeader(!n,t)})},SchemaCommandService=Ui([a(),qi("design:paramtypes",[zi,$i])],SchemaCommandService)}(),Ki=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Xi=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Zi=function(){function OriginRepository(t){this.structureRepository=t}return OriginRepository.prototype.select=function(t){return this.structureRepository.select(t).pipe(F(function(e){return e.getId().toString()===t.toString()}),x(function(t){return t.getOrigin()}))},OriginRepository=Ki([a(),Xi("design:paramtypes",[Er])],OriginRepository)}(),Ji=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},tc=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ec=function(){function OriginQueryService(t){this.originRepository=t}return OriginQueryService.prototype.selectAll=function(t){return void 0===t&&(t=Ir),this.originRepository.select(t).pipe(x(function(t){return t.entities}))},OriginQueryService.prototype.selectSize=function(t){return void 0===t&&(t=Ir),this.selectAll(t).pipe(x(function(t){return t.length}))},OriginQueryService=Ji([a(),tc("design:paramtypes",[Zi])],OriginQueryService)}(),nc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),oc=function(t){function SetOriginCommand(e,n){void 0===n&&(n=[]);var o=t.call(this,e,"SetOriginCommand")||this;return o.structureId=e,o.items=n,o}return nc(SetOriginCommand,t),SetOriginCommand}(Rt),rc=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},ic=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},cc=function(){function OriginDispatcher(t){this.commandDispatcher=t}return OriginDispatcher.prototype.setOrigin=function(t,e){this.commandDispatcher.dispatch(new oc(t,e))},OriginDispatcher=rc([a(),ic("design:paramtypes",[yt])],OriginDispatcher)}(),ac=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},uc=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},sc=function(){function OriginCommandService(t){this.originDispatcher=t}return OriginCommandService.prototype.setOrigin=function(t,e){void 0===e&&(e=Ir),this.originDispatcher.setOrigin(e,t)},OriginCommandService=ac([a(),uc("design:paramtypes",[cc])],OriginCommandService)}(),pc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),lc=function(t){function SetPagingCommand(e,n){var o=t.call(this,e,"SetPagingCommand")||this;return o.structureId=e,o.payload=n,o}return pc(SetPagingCommand,t),SetPagingCommand}(Rt),gc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),dc=function(t){function ChangePagesizeCommand(e,n){var o=t.call(this,e,"ChangePagesizeCommand")||this;return o.structureId=e,o.pageSize=n,o}return gc(ChangePagesizeCommand,t),ChangePagesizeCommand}(Rt),fc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),hc=function(t){function NextPageCommand(e){var n=t.call(this,e,"NextPageCommand")||this;return n.structureId=e,n}return fc(NextPageCommand,t),NextPageCommand}(Rt),yc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),mc=function(t){function PrevPageCommand(e){var n=t.call(this,e,"PrevPageCommand")||this;return n.structureId=e,n}return yc(PrevPageCommand,t),PrevPageCommand}(Rt),bc=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},vc=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Cc=function(){function PagingDispatcher(t){this.commandDispatcher=t}return PagingDispatcher.prototype.setPaging=function(t,e){this.commandDispatcher.dispatch(new lc(t,e))},PagingDispatcher.prototype.changePageSize=function(t,e){this.commandDispatcher.dispatch(new dc(t,e))},PagingDispatcher.prototype.nextPage=function(t){this.commandDispatcher.dispatch(new hc(t))},PagingDispatcher.prototype.prevPage=function(t){this.commandDispatcher.dispatch(new mc(t))},PagingDispatcher=bc([a(),vc("design:paramtypes",[yt])],PagingDispatcher)}(),_c=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Sc=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Rc=function(){function PagingCommandService(t){this.pagingDispatcher=t}return PagingCommandService.prototype.enable=function(t){void 0===t&&(t=Ir),this.pagingDispatcher.setPaging(t,{enabled:!0})},PagingCommandService.prototype.disable=function(t){void 0===t&&(t=Ir),this.pagingDispatcher.setPaging(t,{enabled:!1})},PagingCommandService.prototype.setPaging=function(t,e){void 0===e&&(e=Ir),this.pagingDispatcher.setPaging(e,t)},PagingCommandService.prototype.changePageSize=function(t,e){void 0===e&&(e=Ir),this.pagingDispatcher.changePageSize(e,t)},PagingCommandService.prototype.nextPage=function(t){void 0===t&&(t=Ir),this.pagingDispatcher.nextPage(t)},PagingCommandService.prototype.prevPage=function(t){void 0===t&&(t=Ir),this.pagingDispatcher.prevPage(t)},PagingCommandService.prototype.changePagerTop=function(t,e){void 0===e&&(e=Ir),this.pagingDispatcher.setPaging(e,{pagerTop:t})},PagingCommandService.prototype.changePagerBottom=function(t,e){void 0===e&&(e=Ir),this.pagingDispatcher.setPaging(e,{pagerBottom:t})},PagingCommandService=_c([a(),Sc("design:paramtypes",[Cc])],PagingCommandService)}(),Oc=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},wc=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Pc=function(){function PagingRepository(t){this.structureRepository=t}return PagingRepository.prototype.select=function(t){return this.structureRepository.select(t).pipe(F(function(e){return e.getId().toString()===t.toString()}),x(function(t){return t.getPaging()}))},PagingRepository=Oc([a(),wc("design:paramtypes",[Er])],PagingRepository)}(),jc=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},kc=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ac=function(){function PagingQueryService(t){this.pagingRepository=t}return PagingQueryService.prototype.select=function(t){return void 0===t&&(t=Ir),this.pagingRepository.select(t)},PagingQueryService.prototype.selectOne=function(t){return void 0===t&&(t=Ir),this.select(t).pipe(D(1))},PagingQueryService=jc([a(),kc("design:paramtypes",[Pc])],PagingQueryService)}(),Ec=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Dc=function(t){function InitFieldsCommand(e,n,o){var r=t.call(this,e,"InitFieldsCommand")||this;return r.structureId=e,r.compositionId=n,r.columns=o,r}return Ec(InitFieldsCommand,t),InitFieldsCommand}(Rt),Fc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Ic=function(t){function InitStructureCommand(e){var n=t.call(this,e,"InitStructureCommand")||this;return n.structureId=e,n}return Fc(InitStructureCommand,t),InitStructureCommand}(Rt),xc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Bc=function(t){function SetScrollPositionCommand(e,n){var o=t.call(this,e,"SetScrollPositionCommand")||this;return o.structureId=e,o.position=n,o}return xc(SetScrollPositionCommand,t),SetScrollPositionCommand}(Rt),Tc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Hc=function(t){function SetVerticalScrollEnabledCommand(e,n){var o=t.call(this,e,"SetVerticalScrollEnabledCommand")||this;return o.structureId=e,o.enabled=n,o}return Tc(SetVerticalScrollEnabledCommand,t),SetVerticalScrollEnabledCommand}(Rt),Mc=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Lc=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},zc=function(){function StructureCommandService(t,e){this.commandDispatcher=t,this.originDispatcher=e}return StructureCommandService.prototype.init=function(t){void 0===t&&(t=Ir),this.commandDispatcher.dispatch(new Ic(t))},StructureCommandService.prototype.enableVerticalScroll=function(t){void 0===t&&(t=Ir),this.commandDispatcher.dispatch(new Hc(t,!0))},StructureCommandService.prototype.disableVerticalScroll=function(t){void 0===t&&(t=Ir),this.commandDispatcher.dispatch(new Hc(t,!1))},StructureCommandService.prototype.setScrollPosition=function(t,e){void 0===e&&(e=Ir),this.commandDispatcher.dispatch(new Bc(e,t))},StructureCommandService.prototype.setOrigin=function(t,e){void 0===e&&(e=Ir),this.originDispatcher.setOrigin(e,t)},StructureCommandService.prototype.toggleSort=function(t,e){void 0===e&&(e=Ir)},StructureCommandService.prototype.initFields=function(t,e,n){void 0===n&&(n=Ir),this.commandDispatcher.dispatch(new Dc(n,e,t))},StructureCommandService=Mc([a(),Lc("design:paramtypes",[yt,cc])],StructureCommandService)}(),Gc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Nc=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Wc=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Qc=function(t){function LocalCompositionCommandService(e,n){var o=t.call(this,n)||this;return o.compositionId=e,o}return Gc(LocalCompositionCommandService,t),LocalCompositionCommandService.prototype.init=function(e){void 0===e&&(e=Fo),t.prototype.init.call(this,this.compositionId)},LocalCompositionCommandService.prototype.setColumns=function(e){t.prototype.setColumns.call(this,e,this.compositionId)},LocalCompositionCommandService.prototype.setWidth=function(e,n){void 0===n&&(n=Fo),t.prototype.setWidth.call(this,e,this.compositionId)},LocalCompositionCommandService.prototype.setContainerWidth=function(e,n){void 0===n&&(n=Fo),t.prototype.setContainerWidth.call(this,e,this.compositionId)},LocalCompositionCommandService.prototype.setResizeWidth=function(e,n){void 0===n&&(n=Fo),t.prototype.setResizeWidth.call(this,e,this.compositionId)},Nc([Mn,Wc("design:type",Function),Wc("design:paramtypes",[Do]),Wc("design:returntype",void 0)],LocalCompositionCommandService.prototype,"init",null),Nc([Mn,Wc("design:type",Function),Wc("design:paramtypes",[Array]),Wc("design:returntype",void 0)],LocalCompositionCommandService.prototype,"setColumns",null),Nc([Mn,Wc("design:type",Function),Wc("design:paramtypes",[Number,Do]),Wc("design:returntype",void 0)],LocalCompositionCommandService.prototype,"setWidth",null),Nc([Mn,Wc("design:type",Function),Wc("design:paramtypes",[Number,Do]),Wc("design:returntype",void 0)],LocalCompositionCommandService.prototype,"setContainerWidth",null),Nc([Mn,Wc("design:type",Function),Wc("design:paramtypes",[Boolean,Do]),Wc("design:returntype",void 0)],LocalCompositionCommandService.prototype,"setResizeWidth",null),LocalCompositionCommandService=Nc([a(),Wc("design:paramtypes",[Do,Ve])],LocalCompositionCommandService)}(Bo),Vc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),$c=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Uc=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},qc=function(t){function LocalCompositionQueryService(e,n){var o=t.call(this,n)||this;return o.compositionId=e,o}return Vc(LocalCompositionQueryService,t),LocalCompositionQueryService.prototype.selectHeaderColumns=function(){return t.prototype.selectHeaderColumns.call(this,this.compositionId)},LocalCompositionQueryService.prototype.selectTemplateColumns=function(){return t.prototype.selectTemplateColumns.call(this,this.compositionId)},LocalCompositionQueryService.prototype.selectWidthForEachColumn=function(){return t.prototype.selectWidthForEachColumn.call(this,this.compositionId)},LocalCompositionQueryService.prototype.selectWidth=function(){return t.prototype.selectWidth.call(this,this.compositionId)},LocalCompositionQueryService.prototype.selectContainerWidth=function(e){return void 0===e&&(e=Fo),t.prototype.selectContainerWidth.call(this,this.compositionId)},LocalCompositionQueryService.prototype.selectResizeWidth=function(){return t.prototype.selectResizeWidth.call(this,this.compositionId)},$c([Mn,Uc("design:type",Function),Uc("design:paramtypes",[]),Uc("design:returntype",w)],LocalCompositionQueryService.prototype,"selectHeaderColumns",null),$c([Mn,Uc("design:type",Function),Uc("design:paramtypes",[]),Uc("design:returntype",w)],LocalCompositionQueryService.prototype,"selectTemplateColumns",null),$c([Mn,Uc("design:type",Function),Uc("design:paramtypes",[]),Uc("design:returntype",w)],LocalCompositionQueryService.prototype,"selectWidthForEachColumn",null),$c([Mn,Uc("design:type",Function),Uc("design:paramtypes",[]),Uc("design:returntype",w)],LocalCompositionQueryService.prototype,"selectWidth",null),$c([Mn,Uc("design:type",Function),Uc("design:paramtypes",[Do]),Uc("design:returntype",w)],LocalCompositionQueryService.prototype,"selectContainerWidth",null),$c([Mn,Uc("design:type",Function),Uc("design:paramtypes",[]),Uc("design:returntype",w)],LocalCompositionQueryService.prototype,"selectResizeWidth",null),LocalCompositionQueryService=$c([a(),Uc("design:paramtypes",[Do,xn])],LocalCompositionQueryService)}(Mo),Yc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Kc=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Xc=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Zc=function(t){function LocalFormationCommandService(e,n){var o=t.call(this,n)||this;return o.structureId=e,o}return Yc(LocalFormationCommandService,t),LocalFormationCommandService.prototype.setDefault=function(){t.prototype.setDefaultFormation.call(this,this.structureId)},LocalFormationCommandService.prototype.toggleSelectedRow=function(e){t.prototype.toggleSelectedRow.call(this,e,this.structureId)},Kc([Mn,Xc("design:type",Function),Xc("design:paramtypes",[String]),Xc("design:returntype",void 0)],LocalFormationCommandService.prototype,"toggleSelectedRow",null),LocalFormationCommandService=Kc([a(),Xc("design:paramtypes",[Fr,fi])],LocalFormationCommandService)}(mi),Jc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),ta=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},ea=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},na=function(t){function LocalFormationQueryService(e,n){var o=t.call(this,n)||this;return o.structureId=e,o}return Jc(LocalFormationQueryService,t),LocalFormationQueryService.prototype.selectSelectedRows=function(){return t.prototype.selectSelectedRows.call(this,this.structureId)},ta([Mn,ea("design:type",Function),ea("design:paramtypes",[]),ea("design:returntype",w)],LocalFormationQueryService.prototype,"selectSelectedRows",null),LocalFormationQueryService=ta([a(),ea("design:paramtypes",[Fr,Ci])],LocalFormationQueryService)}(Ri),oa=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),ra=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},ia=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ca=function(t){function LocalOriginCommandService(e,n){var o=t.call(this,n)||this;return o.structureId=e,o}return oa(LocalOriginCommandService,t),LocalOriginCommandService.prototype.setOrigin=function(e){t.prototype.setOrigin.call(this,e,this.structureId)},ra([Mn,ia("design:type",Function),ia("design:paramtypes",[Array]),ia("design:returntype",void 0)],LocalOriginCommandService.prototype,"setOrigin",null),LocalOriginCommandService=ra([a(),ia("design:paramtypes",[Fr,cc])],LocalOriginCommandService)}(sc),aa=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),ua=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},sa=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},pa=function(t){function LocalOriginQueryService(e,n){var o=t.call(this,n)||this;return o.structureId=e,o}return aa(LocalOriginQueryService,t),LocalOriginQueryService.prototype.selectAll=function(){return t.prototype.selectAll.call(this,this.structureId)},LocalOriginQueryService.prototype.selectOne=function(){return t.prototype.selectAll.call(this,this.structureId).pipe(D(1))},ua([Mn,sa("design:type",Function),sa("design:paramtypes",[]),sa("design:returntype",w)],LocalOriginQueryService.prototype,"selectAll",null),LocalOriginQueryService=ua([a(),sa("design:paramtypes",[Fr,Zi])],LocalOriginQueryService)}(ec),la=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),ga=function(t){function PageChangedAggregateEvent(e){return t.call(this,e,"PageChangedAggregateEvent")||this}return la(PageChangedAggregateEvent,t),PageChangedAggregateEvent}(Dt),da=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),fa=function(t){function PagesizeChangedAggregateEvent(e){return t.call(this,e,"PagesizeChangedAggregateEvent")||this}return da(PagesizeChangedAggregateEvent,t),PagesizeChangedAggregateEvent}(Dt),ha=function(){function PagingAggregate(t,e,n,o,r,i,c){this.enabled=t,this.page=e,this.pageSize=n,this.pageSizes=o,this.pagerTop=r,this.pagerBottom=i,this.events=[],this.logger=c}return PagingAggregate.default=function(t){return new PagingAggregate(!1,1,25,[10,25,50,100],!1,!0,t)},PagingAggregate.fromConfig=function(t,e){var n=PagingAggregate.default(e);return new PagingAggregate(t.enabled||n.isEnabled(),t.page||n.getPage(),t.pageSize||n.getPageSize(),t.pageSizes||n.getPageSizes(),t.pagerTop||n.isPagerTop(),t.pagerBottom||n.isPagerBottom(),e)},PagingAggregate.prototype.isEnabled=function(){return this.enabled},PagingAggregate.prototype.isDisabled=function(){return!this.enabled},PagingAggregate.prototype.getPage=function(){return this.page},PagingAggregate.prototype.getPageSize=function(){return this.pageSize},PagingAggregate.prototype.getPageSizes=function(){return this.pageSizes},PagingAggregate.prototype.isPagerTop=function(){return!this.isDisabled()&&this.pagerTop},PagingAggregate.prototype.isPagerBottom=function(){return!this.isDisabled()&&this.pagerBottom},PagingAggregate.prototype.change=function(t){void 0!==t.enabled&&(this.enabled=t.enabled),void 0!==t.page&&(this.page=t.page,void 0===t.enabled&&(this.enabled=!0)),void 0!==t.pageSize&&(this.pageSize=t.pageSize,void 0===t.enabled&&(this.enabled=!0)),void 0!==t.pageSizes&&(this.pageSizes=t.pageSizes,void 0===t.enabled&&(this.enabled=!0)),void 0!==t.pagerTop&&(this.pagerTop=t.pagerTop,void 0===t.enabled&&(this.enabled=!0)),void 0!==t.pagerBottom&&(this.pagerBottom=t.pagerBottom,void 0===t.enabled&&(this.enabled=!0)),!0===this.enabled&&!1===t.pagerTop&&!1===t.pagerBottom&&(this.pagerBottom=!0,this.logger.warn("Pagers cannot be turn of when paging is enabled."))},PagingAggregate.prototype.nextPage=function(t){var e=this.page;this.isNextPageDisabled(t)||(e+=1),this.page=e},PagingAggregate.prototype.prevPage=function(){var t=this.page;this.isPrevPageDisabled()||(t-=1),this.page=t},PagingAggregate.prototype.changePageSize=function(t){return this.pageSizes.find(function(e){return e===t})&&(this.setPage(1),this.setPageSize(t)),this.events},PagingAggregate.prototype.isNextPageDisabled=function(t){return this.page===Math.ceil(t/this.pageSize)},PagingAggregate.prototype.isPrevPageDisabled=function(){return 1===this.page},PagingAggregate.prototype.calculateStart=function(t){var e=1+(this.page-1)*this.pageSize;return t<e?0:e},PagingAggregate.prototype.calculateEnd=function(t){var e=this.page*this.pageSize;return t<e?t:e},PagingAggregate.prototype.sample=function(t){if(this.isDisabled())return t;var e=t.length,n=this.calculateStart(e);return 0!==n&&(n-=1),t.slice(n,this.calculateEnd(e))},PagingAggregate.prototype.setPage=function(t){this.page=t,this.events.push(new ga(new Fr("TODO need to be changed")))},PagingAggregate.prototype.setPageSize=function(t){this.pageSize=t,this.events.push(new fa(new Fr("TODO need to be changed")))},PagingAggregate}(),ya=function(){return function(){}}(),ma=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},ba=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},va=function(){function PagingAggregateFactory(t){this.logger=t}return PagingAggregateFactory.prototype.createDefault=function(){return ha.default(this.logger)},PagingAggregateFactory.prototype.createFromConfig=function(t){return ha.fromConfig(t,this.logger)},PagingAggregateFactory=ma([a(),ba("design:paramtypes",[ya])],PagingAggregateFactory)}(),Ca=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),_a=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Sa=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ra=function(t){function LocalPagingCommandService(e,n,o){var r=t.call(this,o)||this;return r.structureId=e,r.aggregateFactory=n,r}return Ca(LocalPagingCommandService,t),LocalPagingCommandService.prototype.setDefaultPaging=function(){var e=this.aggregateFactory.createDefault();t.prototype.setPaging.call(this,{page:e.getPage(),pageSize:e.getPageSize(),pageSizes:e.getPageSizes()},this.structureId)},LocalPagingCommandService.prototype.setPaging=function(e){t.prototype.setPaging.call(this,e,this.structureId)},LocalPagingCommandService.prototype.changePageSize=function(e){t.prototype.changePageSize.call(this,e,this.structureId)},LocalPagingCommandService.prototype.nextPage=function(){t.prototype.nextPage.call(this,this.structureId)},LocalPagingCommandService.prototype.prevPage=function(){t.prototype.prevPage.call(this,this.structureId)},_a([Mn,Sa("design:type",Function),Sa("design:paramtypes",[Object]),Sa("design:returntype",void 0)],LocalPagingCommandService.prototype,"setPaging",null),_a([Mn,Sa("design:type",Function),Sa("design:paramtypes",[Number]),Sa("design:returntype",void 0)],LocalPagingCommandService.prototype,"changePageSize",null),_a([Mn,Sa("design:type",Function),Sa("design:paramtypes",[]),Sa("design:returntype",void 0)],LocalPagingCommandService.prototype,"nextPage",null),_a([Mn,Sa("design:type",Function),Sa("design:paramtypes",[]),Sa("design:returntype",void 0)],LocalPagingCommandService.prototype,"prevPage",null),LocalPagingCommandService=_a([a(),Sa("design:paramtypes",[Fr,va,Cc])],LocalPagingCommandService)}(Rc),Oa=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),wa=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Pa=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ja=function(t){function LocalPagingQueryService(e,n){var o=t.call(this,n)||this;return o.structureId=e,o}return Oa(LocalPagingQueryService,t),LocalPagingQueryService.prototype.select=function(){return t.prototype.select.call(this,this.structureId)},LocalPagingQueryService.prototype.selectOne=function(){return t.prototype.select.call(this,this.structureId).pipe(D(1))},wa([Mn,Pa("design:type",Function),Pa("design:paramtypes",[]),Pa("design:returntype",w)],LocalPagingQueryService.prototype,"select",null),wa([Mn,Pa("design:type",Function),Pa("design:paramtypes",[]),Pa("design:returntype",w)],LocalPagingQueryService.prototype,"selectOne",null),LocalPagingQueryService=wa([a(),Pa("design:paramtypes",[Fr,Pc])],LocalPagingQueryService)}(Ac);!function(t){t[t.NONE=0]="NONE",t[t.EVEN=1]="EVEN",t[t.ODD=2]="ODD"}(_r||(_r={})),function(t){t[t.FABRIC=0]="FABRIC",t[t.MATERIAL=1]="MATERIAL",t[t.LIGHT=2]="LIGHT",t[t.DARK=3]="DARK"}(Sr||(Sr={}));var ka=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Aa=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Ea=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Da=function(t){function LocalSchemaCommandService(e,n,o){var r=t.call(this,o,n)||this;return r.structureId=e,r}return ka(LocalSchemaCommandService,t),LocalSchemaCommandService.prototype.setDefaultSchema=function(){t.prototype.setSchema.call(this,Number.MAX_SAFE_INTEGER,this.structureId)},LocalSchemaCommandService.prototype.setSchema=function(e,n){void 0===n&&(n=Ir),t.prototype.setSchema.call(this,e,this.structureId)},LocalSchemaCommandService.prototype.setHeight=function(e){t.prototype.setHeight.call(this,e,this.structureId)},LocalSchemaCommandService.prototype.changeVerticalGrid=function(e){t.prototype.changeVerticalGrid.call(this,e,this.structureId)},LocalSchemaCommandService.prototype.changeHorizontalGrid=function(e){t.prototype.changeHorizontalGrid.call(this,e,this.structureId)},LocalSchemaCommandService.prototype.toggleVerticalGrid=function(){t.prototype.toggleVerticalGrid.call(this,this.structureId)},LocalSchemaCommandService.prototype.toggleHorizontalGrid=function(){t.prototype.toggleHorizontalGrid.call(this,this.structureId)},LocalSchemaCommandService.prototype.setTheme=function(e){t.prototype.setTheme.call(this,e,this.structureId)},LocalSchemaCommandService.prototype.setRowColoring=function(e,n){void 0===n&&(n=Ir),t.prototype.setRowColoring.call(this,e,this.structureId)},LocalSchemaCommandService.prototype.changeTopHeader=function(e,n){void 0===n&&(n=Ir),t.prototype.changeTopHeader.call(this,e,this.structureId)},LocalSchemaCommandService.prototype.changeBottomHeader=function(e,n){void 0===n&&(n=Ir),t.prototype.changeBottomHeader.call(this,e,this.structureId)},LocalSchemaCommandService.prototype.toggleTopHeader=function(){t.prototype.toggleTopHeader.call(this,this.structureId)},LocalSchemaCommandService.prototype.toggleBottomHeader=function(){t.prototype.toggleBottomHeader.call(this,this.structureId)},Aa([Mn,Ea("design:type",Function),Ea("design:paramtypes",[Number,Fr]),Ea("design:returntype",void 0)],LocalSchemaCommandService.prototype,"setSchema",null),Aa([Mn,Ea("design:type",Function),Ea("design:paramtypes",[Number]),Ea("design:returntype",void 0)],LocalSchemaCommandService.prototype,"setHeight",null),Aa([Mn,Ea("design:type",Function),Ea("design:paramtypes",[Boolean]),Ea("design:returntype",void 0)],LocalSchemaCommandService.prototype,"changeVerticalGrid",null),Aa([Mn,Ea("design:type",Function),Ea("design:paramtypes",[Boolean]),Ea("design:returntype",void 0)],LocalSchemaCommandService.prototype,"changeHorizontalGrid",null),Aa([Mn,Ea("design:type",Function),Ea("design:paramtypes",[]),Ea("design:returntype",void 0)],LocalSchemaCommandService.prototype,"toggleVerticalGrid",null),Aa([Mn,Ea("design:type",Function),Ea("design:paramtypes",[]),Ea("design:returntype",void 0)],LocalSchemaCommandService.prototype,"toggleHorizontalGrid",null),Aa([Mn,Ea("design:type",Function),Ea("design:paramtypes",[Number]),Ea("design:returntype",void 0)],LocalSchemaCommandService.prototype,"setTheme",null),Aa([Mn,Ea("design:type",Function),Ea("design:paramtypes",[Number,Fr]),Ea("design:returntype",void 0)],LocalSchemaCommandService.prototype,"setRowColoring",null),Aa([Mn,Ea("design:type",Function),Ea("design:paramtypes",[Boolean,Fr]),Ea("design:returntype",void 0)],LocalSchemaCommandService.prototype,"changeTopHeader",null),Aa([Mn,Ea("design:type",Function),Ea("design:paramtypes",[Boolean,Fr]),Ea("design:returntype",void 0)],LocalSchemaCommandService.prototype,"changeBottomHeader",null),Aa([Mn,Ea("design:type",Function),Ea("design:paramtypes",[]),Ea("design:returntype",void 0)],LocalSchemaCommandService.prototype,"toggleTopHeader",null),Aa([Mn,Ea("design:type",Function),Ea("design:paramtypes",[]),Ea("design:returntype",void 0)],LocalSchemaCommandService.prototype,"toggleBottomHeader",null),LocalSchemaCommandService=Aa([a(),Ea("design:paramtypes",[Fr,$i,zi])],LocalSchemaCommandService)}(Yi),Fa=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Ia=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},xa=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ba=function(t){function LocalSchemaQueryService(e,n){var o=t.call(this,n)||this;return o.structureId=e,o}return Fa(LocalSchemaQueryService,t),LocalSchemaQueryService.prototype.select=function(){return t.prototype.select.call(this,this.structureId)},LocalSchemaQueryService.prototype.selectHeight=function(){return t.prototype.selectHeight.call(this,this.structureId)},LocalSchemaQueryService.prototype.selectContainerHeight=function(){return t.prototype.selectContainerHeight.call(this,this.structureId)},LocalSchemaQueryService.prototype.selectOne=function(){return t.prototype.selectOne.call(this,this.structureId)},LocalSchemaQueryService.prototype.selectCssClasses=function(){return t.prototype.selectCssClasses.call(this,this.structureId)},LocalSchemaQueryService.prototype.selectColumnHeader=function(e){return void 0===e&&(e=Ir),t.prototype.selectColumnHeader.call(this,this.structureId)},Ia([Mn,xa("design:type",Function),xa("design:paramtypes",[]),xa("design:returntype",w)],LocalSchemaQueryService.prototype,"select",null),Ia([Mn,xa("design:type",Function),xa("design:paramtypes",[]),xa("design:returntype",w)],LocalSchemaQueryService.prototype,"selectHeight",null),Ia([Mn,xa("design:type",Function),xa("design:paramtypes",[]),xa("design:returntype",w)],LocalSchemaQueryService.prototype,"selectContainerHeight",null),Ia([Mn,xa("design:type",Function),xa("design:paramtypes",[]),xa("design:returntype",w)],LocalSchemaQueryService.prototype,"selectOne",null),Ia([Mn,xa("design:type",Function),xa("design:paramtypes",[]),xa("design:returntype",w)],LocalSchemaQueryService.prototype,"selectCssClasses",null),Ia([Mn,xa("design:type",Function),xa("design:paramtypes",[Fr]),xa("design:returntype",w)],LocalSchemaQueryService.prototype,"selectColumnHeader",null),LocalSchemaQueryService=Ia([a(),xa("design:paramtypes",[Fr,Wi])],LocalSchemaQueryService)}($i),Ta=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Ha=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Ma=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},La=function(t){function LocalSourceCommandService(e,n){var o=t.call(this,n)||this;return o.structureId=e,o}return Ta(LocalSourceCommandService,t),LocalSourceCommandService.prototype.setLoading=function(e){t.prototype.setLoading.call(this,e,this.structureId)},Ha([Mn,Ma("design:type",Function),Ma("design:paramtypes",[Boolean]),Ma("design:returntype",void 0)],LocalSourceCommandService.prototype,"setLoading",null),LocalSourceCommandService=Ha([a(),Ma("design:paramtypes",[Fr,$r])],LocalSourceCommandService)}(Xr),za=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Ga=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Na=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Wa=function(t){function LocalSourceQueryService(e,n){var o=t.call(this,n)||this;return o.structureId=e,o}return za(LocalSourceQueryService,t),LocalSourceQueryService.prototype.select=function(){return t.prototype.select.call(this,this.structureId)},LocalSourceQueryService.prototype.selectOne=function(){return t.prototype.selectOne.call(this,this.structureId)},LocalSourceQueryService.prototype.selectLoading=function(){return t.prototype.selectLoading.call(this,this.structureId)},Ga([Mn,Na("design:type",Function),Na("design:paramtypes",[]),Na("design:returntype",w)],LocalSourceQueryService.prototype,"select",null),Ga([Mn,Na("design:type",Function),Na("design:paramtypes",[]),Na("design:returntype",w)],LocalSourceQueryService.prototype,"selectOne",null),Ga([Mn,Na("design:type",Function),Na("design:paramtypes",[]),Na("design:returntype",w)],LocalSourceQueryService.prototype,"selectLoading",null),LocalSourceQueryService=Ga([a(),Na("design:paramtypes",[Fr,Er])],LocalSourceQueryService)}(ti),Qa=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Va=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},$a=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ua=function(t){function LocalStructureCommandService(e,n,o,r){var i=t.call(this,o,r)||this;return i.structureId=e,i.compositionId=n,i}return Qa(LocalStructureCommandService,t),LocalStructureCommandService.prototype.init=function(){t.prototype.init.call(this,this.structureId)},LocalStructureCommandService.prototype.enableVerticalScroll=function(){t.prototype.enableVerticalScroll.call(this,this.structureId)},LocalStructureCommandService.prototype.disableVerticalScroll=function(){t.prototype.disableVerticalScroll.call(this,this.structureId)},LocalStructureCommandService.prototype.setOrigin=function(e){t.prototype.setOrigin.call(this,e,this.structureId)},LocalStructureCommandService.prototype.setScrollPosition=function(e){t.prototype.setScrollPosition.call(this,e,this.structureId)},LocalStructureCommandService.prototype.toggleSort=function(e){t.prototype.toggleSort.call(this,e,this.structureId)},LocalStructureCommandService.prototype.initFields=function(e){t.prototype.initFields.call(this,e,this.compositionId,this.structureId)},Va([Mn,$a("design:type",Function),$a("design:paramtypes",[]),$a("design:returntype",void 0)],LocalStructureCommandService.prototype,"init",null),Va([Mn,$a("design:type",Function),$a("design:paramtypes",[]),$a("design:returntype",void 0)],LocalStructureCommandService.prototype,"enableVerticalScroll",null),Va([Mn,$a("design:type",Function),$a("design:paramtypes",[]),$a("design:returntype",void 0)],LocalStructureCommandService.prototype,"disableVerticalScroll",null),Va([Mn,$a("design:type",Function),$a("design:paramtypes",[Array]),$a("design:returntype",void 0)],LocalStructureCommandService.prototype,"setOrigin",null),Va([Mn,$a("design:type",Function),$a("design:paramtypes",[Number]),$a("design:returntype",void 0)],LocalStructureCommandService.prototype,"setScrollPosition",null),Va([Mn,$a("design:type",Function),$a("design:paramtypes",[String]),$a("design:returntype",void 0)],LocalStructureCommandService.prototype,"toggleSort",null),Va([Mn,$a("design:type",Function),$a("design:paramtypes",[Array]),$a("design:returntype",void 0)],LocalStructureCommandService.prototype,"initFields",null),LocalStructureCommandService=Va([a(),$a("design:paramtypes",[Fr,Do,yt,cc])],LocalStructureCommandService)}(zc),qa=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Ya=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Ka=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Xa=function(t){function LocalStructureQueryService(e,n){var o=t.call(this,n)||this;return o.structureId=e,o}return qa(LocalStructureQueryService,t),LocalStructureQueryService.prototype.select=function(){return t.prototype.select.call(this,this.structureId)},LocalStructureQueryService.prototype.selectVerticalScrollEnabled=function(){return t.prototype.selectVerticalScrollEnabled.call(this,this.structureId)},Ya([Mn,Ka("design:type",Function),Ka("design:paramtypes",[]),Ka("design:returntype",w)],LocalStructureQueryService.prototype,"select",null),Ya([Mn,Ka("design:type",Function),Ka("design:paramtypes",[]),Ka("design:returntype",w)],LocalStructureQueryService.prototype,"selectVerticalScrollEnabled",null),LocalStructureQueryService=Ya([a(),Ka("design:paramtypes",[Fr,Er])],LocalStructureQueryService)}(Tr),Za=[{provide:Rc,useClass:Ra},{provide:Ac,useClass:ja},{provide:sc,useClass:ca},{provide:ec,useClass:pa},{provide:Yi,useClass:Da},{provide:$i,useClass:Ba},{provide:mi,useClass:Zc},{provide:Ri,useClass:na},{provide:zc,useClass:Ua},{provide:Tr,useClass:Xa},{provide:Xr,useClass:La},{provide:ti,useClass:Wa},{provide:Bo,useClass:Qc},{provide:Mo,useClass:qc}],Ja=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},tu=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},eu=function(){function SchemaCssClassManager(t,e){this.rendererFactory2=t,this.schemaQueryService=e,this.VERTICAL_GRID_CLASS_NAME="gui-vertical-grid",this.HORIZONTAL_GRID_CLASS_NAME="gui-horizontal-grid",this.THEME_FABRIC_CLASS_NAME="gui-fabric",this.THEME_MATERIAL_CLASS_NAME="gui-material",this.THEME_LIGHT_CLASS_NAME="gui-light",this.THEME_DARK_CLASS_NAME="gui-dark",this.ROW_COLORING_ODD="gui-rows-odd",this.ROW_COLORING_EVEN="gui-rows-even",this.cssClass=null,this.unsubscribe$=new R,this.renderer=this.rendererFactory2.createRenderer(null,null)}return SchemaCssClassManager.prototype.ngOnDestroy=function(){this.unsubscribe$.next(),this.unsubscribe$.complete()},SchemaCssClassManager.prototype.init=function(t,e){var n=this;this.cssHostRef=t,this.schemaQueryService.selectCssClasses(e).pipe(I(this.unsubscribe$)).subscribe(function(t){var e=n.updateState(t);n.renderCssClasses(e)})},SchemaCssClassManager.prototype.updateState=function(t){var e=this;if(this.cssClass){var n={};return Object.keys(this.cssClass).forEach(function(o){t[o]!==e.cssClass[o]&&(n[o]=t[o])}),this.cssClass=t,n}return this.cssClass=t,this.cssClass},SchemaCssClassManager.prototype.renderCssClasses=function(t){t.hasOwnProperty("verticalGrid")&&this.toggleCssClass(t.verticalGrid,this.VERTICAL_GRID_CLASS_NAME),t.hasOwnProperty("horizontalGrid")&&this.toggleCssClass(t.horizontalGrid,this.HORIZONTAL_GRID_CLASS_NAME),t.hasOwnProperty("theme")&&(this.removeThemeCssClasses(),this.addClass(this.resolveThemeClassName(t.theme))),t.hasOwnProperty("rowColoring")&&(this.removeRowColoringClasses(),this.addClass(this.resolveRowColoringClassName(t.rowColoring)))},SchemaCssClassManager.prototype.toggleCssClass=function(t,e){t?this.addClass(e):this.removeClass(e)},SchemaCssClassManager.prototype.removeThemeCssClasses=function(){var t=this;Object.keys(Sr).map(function(t){return Sr[t]}).map(function(e){return t.resolveThemeClassName(e)}).filter(function(t){return!!t}).forEach(function(e){t.removeClass(e)})},SchemaCssClassManager.prototype.resolveThemeClassName=function(t){switch(t){case Sr.FABRIC:case Sr[Sr.FABRIC]:return this.THEME_FABRIC_CLASS_NAME;case Sr.MATERIAL:case Sr[Sr.MATERIAL]:return this.THEME_MATERIAL_CLASS_NAME;case Sr.LIGHT:case Sr[Sr.LIGHT]:return this.THEME_LIGHT_CLASS_NAME;case Sr.DARK:case Sr[Sr.DARK]:return this.THEME_DARK_CLASS_NAME;default:return this.THEME_FABRIC_CLASS_NAME}},SchemaCssClassManager.prototype.resolveRowColoringClassName=function(t){switch(t){case _r.ODD:case _r[_r.ODD]:return this.ROW_COLORING_ODD;case _r.EVEN:case _r[_r.EVEN]:return this.ROW_COLORING_EVEN;default:return null}},SchemaCssClassManager.prototype.removeRowColoringClasses=function(){var t=this;Object.keys(_r).map(function(t){return _r[t]}).map(function(e){return t.resolveRowColoringClassName(e)}).filter(function(t){return!!t}).forEach(function(e){t.removeClass(e)})},SchemaCssClassManager.prototype.addClass=function(t){t&&this.renderer.addClass(this.cssHostRef.nativeElement,t)},SchemaCssClassManager.prototype.removeClass=function(t){t&&this.renderer.removeClass(this.cssHostRef.nativeElement,t)},SchemaCssClassManager=Ja([a(),tu("design:paramtypes",[b,$i])],SchemaCssClassManager)}(),nu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),ou=function(t){function PagesizeChangedEvent(e){return t.call(this,e,"PagesizeChangedEvent")||this}return nu(PagesizeChangedEvent,t),PagesizeChangedEvent}(Ht),ru=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),iu=function(t){function NextPageEvent(e){return t.call(this,e,"NextPageEvent")||this}return ru(NextPageEvent,t),NextPageEvent}(Ht),cu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),au=function(t){function PageChangedEvent(e){return t.call(this,e,"PageChangedEvent")||this}return cu(PageChangedEvent,t),PageChangedEvent}(Ht),uu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),su=function(t){function PrevPageEvent(e){return t.call(this,e,"PrevPageEvent")||this}return uu(PrevPageEvent,t),PrevPageEvent}(Ht),pu=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},lu=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},gu=function(){function PagingEventService(t,e){this.domainEventBus=t,this.pagingQueryService=e}return PagingEventService.prototype.selectPageChange=function(t){var e=this;return this.domainEventBus.ofEvent(iu,su,au).pipe(F(function(e){return e.aggregateId.toString()===t.toString()}),T(function(n){return e.pagingQueryService.select(t).pipe(x(function(t){return t.getPage()}),D(1))}))},PagingEventService.prototype.selectPageSizeChange=function(t){var e=this;return this.domainEventBus.ofEvent(ou).pipe(F(function(e){return e.aggregateId.toString()===t.toString()}),T(function(n){return e.pagingQueryService.select(t).pipe(x(function(t){return t.getPageSize()}),D(1))}))},PagingEventService=pu([a(),lu("design:paramtypes",[$t,Ac])],PagingEventService)}(),du=new o("StructureComponentToken"),fu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),hu=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},yu=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},mu=function(t,e){return function(n,o){e(n,o,t)}};var bu=[{provide:Fr,useFactory:function(t){return new Fr("gui-"+t.generateId())},deps:[Ar]},{provide:Do,useFactory:function(t){return new Do("gui-"+t.generateId())},deps:[Ar]}].concat(Za,[eu]),vu=function(t){function StructureComponent(e,n,o,r,i,c,a,u,s,p,l,g,d,f,h,y,m,b,v,C,_,S,R){var O=t.call(this,e,n,l,o,r,i,c,a,u,s,p)||this;return O.elementRef=g,O.changeDetectorRef=d,O.renderer=f,O.structureDefinition=h,O.structureQueryService=y,O.compositionQueryService=m,O.pagingQueryService=b,O.sourceQueryService=v,O.schemaQueryService=C,O.formationCommandService=_,O.schemaStylesManager=S,O.className=R,O.loaderEnabled=!1,O.circleLoaderEnabled=!0,O.initialLoaderAnimation=!1,O.headerCssClass="gui-"+O.className+"-header",O.contentCssClass="gui-"+O.className+"-content",O.structureCommandService.init(),u.init(),O}var e;return fu(StructureComponent,t),e=StructureComponent,StructureComponent.prototype.ngOnChanges=function(e){t.prototype.ngOnChanges.call(this,e)},StructureComponent.prototype.ngOnInit=function(){var e=this;t.prototype.ngOnInit.call(this),this.schemaQueryService.selectHeight().pipe(this.takeUntil()).subscribe(function(t){e.structureHeight=t}),this.schemaQueryService.selectColumnHeader().pipe(this.takeUntil()).subscribe(function(t){e.columnHeader=t}),this.pagingQueryService.select(this.structureId).pipe(this.takeUntil()).subscribe(function(t){e.pagingReadModel=t}),this.structureQueryService.select().pipe(this.takeUntil()).subscribe(function(t){e.structure=t,e.loaderEnabled=t.getSource().isLoading(),e.circleLoaderEnabled=t.isLoaderVisible(),e.loaderEnabled&&!e.initialLoaderAnimation&&(e.initialLoaderAnimation=!0)})},StructureComponent.prototype.ngAfterViewInit=function(){var t=this,e=this.elementRef.nativeElement.offsetWidth;e>0?this.compositionCommandService.setContainerWidth(e):P(null).pipe(M(0),this.takeUntil()).subscribe(function(){(e=t.elementRef.nativeElement.offsetWidth)>0&&t.compositionCommandService.setContainerWidth(e)}),this.schemaStylesManager.init(this.elementRef,this.structureId),this.compositionQueryService.selectWidth().pipe(this.takeUntil()).subscribe(function(e){t.renderer.setStyle(t.elementRef.nativeElement,"width",e+"px")})},StructureComponent.prototype.getHeaderTopClasses=function(){return this.headerCssClass+" gui-header-top"},StructureComponent.prototype.getHeaderBottomClasses=function(){return this.headerCssClass+" gui-header-bottom"},StructureComponent.prototype.isColumnHeaderTopEnabled=function(){return this.structureDefinition.isHeaderEnabled()&&this.structure.isTopHeaderEnabled()},StructureComponent.prototype.isColumnHeaderBottomEnabled=function(){return this.structureDefinition.isHeaderEnabled()&&this.structure.isBottomHeaderEnabled()},StructureComponent.prototype.isPagingTopEnabled=function(){return this.structureDefinition.getTopPaging().isEnabled()&&this.pagingReadModel.isPagerTop()},StructureComponent.prototype.isPagingBottomEnabled=function(){return this.structureDefinition.getBottomPaging().isEnabled()&&this.pagingReadModel.isPagerBottom()},StructureComponent.prototype.isBorderEnabled=function(){return this.structureDefinition.isBorderEnabled()&&this.structure.isReadyToDisplay()},StructureComponent=e=hu([i({selector:"gui-structure",template:'\x3c!---------- TOP ----------\x3e\n<gui-structure-paging *ngIf="isPagingTopEnabled()"\n\t\t\t\t\t  class="gui-structure-paging-top">\n</gui-structure-paging>\n\n<gui-structure-header *ngIf="isColumnHeaderTopEnabled()"\n\t\t\t\t\t  [ngClass]="getHeaderTopClasses()">\n</gui-structure-header>\n\n\n\x3c!---------- MAIN ----------\x3e\n<gui-structure-container [ngClass]="contentCssClass">\n</gui-structure-container>\n\n\n\x3c!---------- BOTTOM ----------\x3e\n<gui-structure-header *ngIf="isColumnHeaderBottomEnabled()"\n\t\t\t\t\t  [ngClass]="getHeaderBottomClasses()">\n</gui-structure-header>\n\n<gui-structure-paging *ngIf="isPagingBottomEnabled()"\n\t\t\t\t\t  class="gui-structure-paging-bottom">\n</gui-structure-paging>\n\n\x3c!---------- LOADING ----------\x3e\n<div [ngClass]="{\'gui-loader-visible\': loaderEnabled, \'gui-loader-hidden\': !loaderEnabled && initialLoaderAnimation}"\n\t class="gui-loading">\n\t<gui-spinner *ngIf="circleLoaderEnabled"\n\t\t\t\t [primary]="true"\n\t\t\t\t [diameter]="120">\n\t</gui-spinner>\n</div>\n',changeDetection:h.OnPush,encapsulation:y.None,host:{"[class]":'"gui-structure"',"[style.min-height.px]":"structureHeight","[class.gui-structure-border]":"isBorderEnabled()","[id]":"structureId.toString()"},providers:bu.concat([{provide:du,useExisting:e}])}),mu(22,u(ai)),yu("design:paramtypes",[Fr,Do,sc,Rc,gu,Xr,Yi,Bo,tn,Gr,zc,c,v,m,tt,Tr,Mo,Ac,ti,$i,mi,eu,String])],StructureComponent)}(ci),Cu=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},_u=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Su=function(){function StructureHeaderColumnsComponent(){}return Cu([t(),_u("design:type",Array)],StructureHeaderColumnsComponent.prototype,"columns",void 0),StructureHeaderColumnsComponent=Cu([i({selector:"gui-structure-header-columns",template:'<div *ngFor="let cell of columns"\n\t [style.width.px]="cell.width"\n\t class="gui-header-cell">\n\n\t<ng-container\n\t\t*ngTemplateOutlet="cell.template;\n\t\t\t\t\t\t\t   context: cell.context">\n\t</ng-container>\n\n</div>\n',changeDetection:h.OnPush,encapsulation:y.None})],StructureHeaderColumnsComponent)}(),Ru=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Ou=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},wu=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Pu=function(t){function StructureHeaderComponent(e,n,o){var r=t.call(this)||this;return r.changeDetectorRef=e,r.renderer=n,r.compositionQueryService=o,r.headerColumns=[],r}return Ru(StructureHeaderComponent,t),StructureHeaderComponent.prototype.ngOnInit=function(){var t=this;this.compositionQueryService.selectHeaderColumns().pipe(this.takeUntil()).subscribe(function(e){t.headerColumns=e,t.changeDetectorRef.detectChanges()}),this.compositionQueryService.selectContainerWidth().pipe(this.takeUntil()).subscribe(function(e){t.renderer.setStyle(t.containerRef.nativeElement,"width",e+"px")})},Ou([r(Su,{read:c}),wu("design:type",c)],StructureHeaderComponent.prototype,"containerRef",void 0),StructureHeaderComponent=Ou([i({selector:"gui-structure-header",template:'<gui-structure-header-columns\n\t[columns]="headerColumns"\n\tclass="gui-header">\n</gui-structure-header-columns>\n',changeDetection:h.OnPush,encapsulation:y.None}),wu("design:paramtypes",[v,m,Mo])],StructureHeaderComponent)}(ni),ju=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),ku=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Au=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Eu=function(e){function StructureContentComponent(t,n,o,r){var i=e.call(this)||this;return i.renderer=t,i.elementRef=n,i.formationCommandService=o,i.formationQueryService=r,i}return ju(StructureContentComponent,e),StructureContentComponent.prototype.ngOnInit=function(){var t=this;this.formationQueryService.selectSelectedRows().subscribe(function(e){t.clearSelectedRows(),e.getIds().forEach(function(e){var n="gui"+e.replace(/-/g,""),o=t.elementRef.nativeElement.querySelector("#"+n);o&&t.renderer.addClass(o,"selected")})})},StructureContentComponent.prototype.trackByFn=function(){return 0},StructureContentComponent.prototype.translateY=function(t){return"translateY("+26*t+"px)"},StructureContentComponent.prototype.toggleSelectedRow=function(t){this.formationCommandService.toggleSelectedRow(t.id)},StructureContentComponent.prototype.clearSelectedRows=function(){var t=this;this.elementRef.nativeElement.querySelectorAll(".selected").forEach(function(e){t.renderer.removeClass(e,"selected")})},ku([t(),Au("design:type",Array)],StructureContentComponent.prototype,"source",void 0),ku([t(),Au("design:type",Array)],StructureContentComponent.prototype,"columns",void 0),StructureContentComponent=ku([i({selector:"gui-structure-content",template:'<div class="gui-content">\n\n\t<gui-structure-row *ngFor="let entity of source; let index = index; trackBy: trackByFn"\n\t\t\t\t\t   [entity]="entity"\n\t\t\t\t\t   [columns]="columns"\n\t\t\t\t\t   [ngStyle]="{\'transform\': translateY(index)}"\n\t\t\t\t\t   [id]="entity.getId()"\n\t\t\t\t\t   (click)="toggleSelectedRow(entity)"\n\t\t\t\t\t   class="gui-row">\n\t</gui-structure-row>\n\n</div>\n',changeDetection:h.OnPush,encapsulation:y.None}),Au("design:paramtypes",[m,c,mi,Ri])],StructureContentComponent)}(ni),Du=function(){function Entity(t,e){this.data=t,this.id=e||getUuidV4String()}return Entity.prototype.getData=function(){return this.data},Entity.prototype.getId=function(){return"gui"+this.id.replace(/-/g,"")},Entity.prototype.equals=function(t){return this.id===t.id},Entity.prototype.equalsById=function(t){return this.id===t},Entity}(),Fu=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Iu=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},xu=function(){function StructureRowComponent(){}return StructureRowComponent.prototype.ngOnInit=function(){},StructureRowComponent.prototype.ngAfterContentInit=function(){},StructureRowComponent.prototype.ngAfterViewInit=function(){},StructureRowComponent.prototype.trackByFn=function(){return 0},Fu([t(),Iu("design:type",Du)],StructureRowComponent.prototype,"entity",void 0),Fu([t(),Iu("design:type",Array)],StructureRowComponent.prototype,"columns",void 0),StructureRowComponent=Fu([i({selector:"gui-structure-row",template:'<div *ngFor="let contentTemplate of columns; trackBy: trackByFn"\n\t [style.width.px]="contentTemplate.width"\n\t class="gui-cell">\n\n\t<ng-container\n\t\t*ngTemplateOutlet="contentTemplate.template;\n\t\t\t\t\t\t\t   context: { element: contentTemplate.accessor(entity.getData()) }">\n\t</ng-container>\n\n</div>\n',changeDetection:h.OnPush,encapsulation:y.None})],StructureRowComponent)}(),Bu=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Tu=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Hu=z,Mu=function(){function ResizeDetector(){this.throttleTime=25,this.unsubscribe$=new R,this.elementResizeDetector=Hu({strategy:"scroll"})}return ResizeDetector.prototype.observe=function(t){var e=this;return new w(function(n){e.elementResizeDetector.listenTo(t,function(t){n.next(t)})}).pipe(L(this.throttleTime),F(function(t){return void 0!==t}),I(this.unsubscribe$))},ResizeDetector.prototype.destroy=function(t){this.unsubscribe$.next(),this.unsubscribe$.complete(),this.elementResizeDetector.uninstall(t)},ResizeDetector=Bu([a(),Tu("design:paramtypes",[])],ResizeDetector)}(),Lu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),zu=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Gu=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Nu=function(t,e){return function(n,o){e(n,o,t)}},Wu=function(t){function StructureContainerComponent(e,n,o,r,i,c,a,u,s,p,l,g,d,f){var h=t.call(this)||this;return h.elementRef=e,h.renderer=n,h.changeDetectorRef=o,h.ngZone=r,h.structureId=i,h.structureCommandService=c,h.structureQueryService=a,h.sourceQueryService=u,h.schemaQueryService=s,h.compositionCommandService=p,h.compositionQueryService=l,h.formationQueryService=g,h.resizeDetector=d,h.structureParent=f,h.columns=[],h.source=[],h.autoResizeWidthEnabled=!1,h.scrollObservation$=new R,h}return Lu(StructureContainerComponent,t),StructureContainerComponent.prototype.ngOnInit=function(){var t=this;this.sourceQueryService.select().pipe(this.takeUntil()).subscribe(function(e){t.source=e,t.setHeight(26*e.length),t.changeDetectorRef.detectChanges()}),this.compositionQueryService.selectTemplateColumns().pipe(this.takeUntil()).subscribe(function(e){t.columns=e,t.changeDetectorRef.detectChanges()}),this.compositionQueryService.selectResizeWidth().pipe(this.takeUntil()).subscribe(function(e){t.autoResizeWidthEnabled=e}),A(this.sourceQueryService.select(),this.schemaQueryService.selectContainerHeight()).pipe(this.takeUntil()).subscribe(function(e){var n=e[0],o=e[1],r=27*n.length;r>o?t.setHeight(o):t.setHeight(r),t.changeDetectorRef.detectChanges()})},StructureContainerComponent.prototype.ngAfterViewInit=function(){var t=this;this.structureParent&&this.resizeDetector.observe(this.structureParent.getElementRef().nativeElement).pipe(F(function(){return t.autoResizeWidthEnabled}),x(function(t){return t.offsetWidth}),B(),this.takeUntil()).subscribe(function(e){t.recalculateContainer(e)}),this.compositionQueryService.selectContainerWidth().pipe(this.takeUntil()).subscribe(function(e){t.renderer.setStyle(t.containerRef.nativeElement,"width",e+"px")}),this.structureQueryService.selectVerticalScrollEnabled().pipe(this.takeUntil()).subscribe(function(e){e?t.enableScrollObservation():t.disableScrollObservation()}),this.structureQueryService.select().pipe(F(function(t){return t.isVerticalScrollEnabled()}),this.takeUntil()).subscribe(function(e){var n=e.getContainerHeight(),o=e.getTopMargin();t.renderer.setStyle(t.containerRef.nativeElement,"padding-top",o+"px"),t.renderer.setStyle(t.containerRef.nativeElement,"height",n+"px")})},StructureContainerComponent.prototype.ngOnDestroy=function(){t.prototype.ngOnDestroy.call(this),this.resizeDetector.destroy(this.elementRef.nativeElement)},StructureContainerComponent.prototype.setHeight=function(t){this.height=t,this.renderer.setStyle(this.elementRef.nativeElement,"height",this.height+"px")},StructureContainerComponent.prototype.recalculateContainer=function(t){this.autoResizeWidthEnabled&&this.compositionCommandService.setContainerWidth(t)},StructureContainerComponent.prototype.enableScrollObservation=function(){var t=this;this.ngZone.runOutsideAngular(function(){E(t.elementRef.nativeElement,"scroll").pipe(I(t.scrollObservation$),t.takeUntil()).subscribe(function(e){var n=e.target.scrollTop;t.structureCommandService.setScrollPosition(n)})})},StructureContainerComponent.prototype.disableScrollObservation=function(){this.scrollObservation$.next(),this.scrollObservation$.complete()},zu([r("container"),Gu("design:type",c)],StructureContainerComponent.prototype,"containerRef",void 0),StructureContainerComponent=zu([i({selector:"gui-structure-container",template:'<div #container\n\t class="gui-structure-container">\n\n\t<gui-structure-content [source]="source"\n\t\t\t\t\t\t   [columns]="columns">\n\t</gui-structure-content>\n\n</div>\n',changeDetection:h.OnPush,encapsulation:y.None}),Nu(13,p()),Nu(13,u(ot)),Gu("design:paramtypes",[c,m,v,C,Fr,zc,Tr,ti,$i,Bo,Mo,Ri,Mu,Object])],StructureContainerComponent)}(ni),Qu=function(){function Paging(t,e,n,o,r,i){this.enabled=t,this.page=e,this.pageSize=n,this.pageSizes=o,this.pagerTop=r,this.pagerBottom=i}return Paging.prototype.isEnabled=function(){return this.enabled},Paging.prototype.getPage=function(){return this.page},Paging.prototype.getPageSize=function(){return this.pageSize},Paging.prototype.getPageSizes=function(){return this.pageSizes},Paging.prototype.isPagerTop=function(){return this.pagerTop},Paging.prototype.isPagerBottom=function(){return this.pagerBottom},Paging.prototype.isNextPageDisabled=function(t){return 0===t||this.page===Math.ceil(t/this.pageSize)},Paging.prototype.isPrevPageDisabled=function(){return 1===this.page},Paging.prototype.calculateStart=function(t){var e=1+(this.page-1)*this.pageSize;return t<e?0:e},Paging.prototype.calculateEnd=function(t){var e=this.page*this.pageSize;return t<e?t:e},Paging.prototype.sample=function(t){var e=t.length,n=this.calculateStart(e);return 0!==n&&(n-=1),t.slice(n,this.calculateEnd(e))},Paging}(),Vu=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},$u=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Uu=function(){function StructurePagingNavigatorComponent(){this.nextPageChanged=new n,this.prevPageChanged=new n,this.prevDisabled=!1,this.nextDisabled=!1}return StructurePagingNavigatorComponent.prototype.ngOnChanges=function(){this.calculatePrev(),this.calculateNext()},StructurePagingNavigatorComponent.prototype.prevPage=function(){this.prevPageChanged.emit()},StructurePagingNavigatorComponent.prototype.nextPage=function(){this.nextPageChanged.emit()},StructurePagingNavigatorComponent.prototype.calculatePrev=function(){this.paging&&(this.prevDisabled=this.paging.isPrevPageDisabled())},StructurePagingNavigatorComponent.prototype.calculateNext=function(){(this.paging||this.sourceSize)&&(this.nextDisabled=this.paging.isNextPageDisabled(this.sourceSize))},Vu([t(),$u("design:type",Qu)],StructurePagingNavigatorComponent.prototype,"paging",void 0),Vu([t(),$u("design:type",Number)],StructurePagingNavigatorComponent.prototype,"sourceSize",void 0),Vu([e(),$u("design:type",Object)],StructurePagingNavigatorComponent.prototype,"nextPageChanged",void 0),Vu([e(),$u("design:type",Object)],StructurePagingNavigatorComponent.prototype,"prevPageChanged",void 0),StructurePagingNavigatorComponent=Vu([i({selector:"gui-structure-paging-navigator",template:'<gui-button-group>\n\t<button gui-button\n\t\t\t[disabled]="prevDisabled"\n\t\t\t(click)="prevPage()"\n\t\t\tclass="gui-structure-paging-navigator-prev">\n\t\tPrev\n\t</button>\n\n\t<button gui-button\n\t\t\t[disabled]="nextDisabled"\n\t\t\t(click)="nextPage()"\n\t\t\tclass="gui-structure-paging-navigator-next">\n\t\tNext\n\t</button>\n</gui-button-group>\n',changeDetection:h.OnPush})],StructurePagingNavigatorComponent)}(),qu=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Yu=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ku=function(){function StructurePagingStatsComponent(){this.sourceSize=0}return StructurePagingStatsComponent.prototype.ngOnChanges=function(t){this.calculate()},StructurePagingStatsComponent.prototype.calculate=function(){this.paging&&this.sourceSize&&(this.firstItemIndex=this.paging.calculateStart(this.sourceSize),this.lastItemIndex=this.paging.calculateEnd(this.sourceSize))},StructurePagingStatsComponent.prototype.isSourceNotEmpty=function(){return this.sourceSize>0},qu([t(),Yu("design:type",Qu)],StructurePagingStatsComponent.prototype,"paging",void 0),qu([t(),Yu("design:type",Number)],StructurePagingStatsComponent.prototype,"sourceSize",void 0),StructurePagingStatsComponent=qu([i({selector:"gui-structure-paging-stats",template:'<ng-container *ngIf="isSourceNotEmpty(); else noSource;">\n\t<span class="gui-structure-paging-source-stats">\n\t\t<span>{{firstItemIndex}}</span>\n\t\t-\n\t\t<span>{{lastItemIndex}}</span>\n\t</span>\n\t\t<span>\n\t\tof\n\t</span>\n\t\t<span class="gui-structure-paging-source-size">\n\t\t{{sourceSize}}\n\t</span>\n</ng-container>\n\n<ng-template #noSource>\n\t<span class="gui-structure-paging-source-stats gui-structure-paging-no-items">\n\t\tThere is no items.\n\t</span>\n</ng-template>\n',changeDetection:h.OnPush})],StructurePagingStatsComponent)}(),Xu=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Zu=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ju=function(){function StructurePagingSelectComponent(){this.pageSizeChanged=new n}return StructurePagingSelectComponent.prototype.changePageSize=function(t){this.pageSizeChanged.emit(t)},Xu([t(),Zu("design:type",Qu)],StructurePagingSelectComponent.prototype,"paging",void 0),Xu([e(),Zu("design:type",Object)],StructurePagingSelectComponent.prototype,"pageSizeChanged",void 0),StructurePagingSelectComponent=Xu([i({selector:"gui-structure-paging-select",template:'<span>Items per page:</span>\n<gui-select [options]="paging.getPageSizes()"\n\t\t\t[selected]="paging.getPageSize()"\n\t\t\t(optionChanged)="changePageSize($event)">\n</gui-select>\n',changeDetection:h.OnPush})],StructurePagingSelectComponent)}(),ts=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),es=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},ns=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},os=function(t){function StructurePagingComponent(e,n,o,r){var i=t.call(this)||this;return i.changeDetectorRef=e,i.pagingQueryService=n,i.pagingCommandService=o,i.originQueryService=r,i}return ts(StructurePagingComponent,t),StructurePagingComponent.prototype.ngOnInit=function(){var t=this;this.pagingQueryService.select().pipe(this.takeUntil()).subscribe(function(e){t.paging=e,t.changeDetectorRef.detectChanges()}),this.originQueryService.selectAll().pipe(this.takeUntil()).subscribe(function(e){t.sourceSize=e.length,t.changeDetectorRef.detectChanges()})},StructurePagingComponent.prototype.changePageSize=function(t){this.pagingCommandService.changePageSize(t)},StructurePagingComponent.prototype.nextPage=function(){this.sourceSize&&this.pagingCommandService.nextPage()},StructurePagingComponent.prototype.prevPage=function(){this.pagingCommandService.prevPage()},StructurePagingComponent=es([i({selector:"gui-structure-paging",template:'<ng-container *ngIf="paging">\n\n\t<gui-structure-paging-select\n\t\t[paging]="paging"\n\t\t(pageSizeChanged)="changePageSize($event)">\n\t</gui-structure-paging-select>\n\n\t<gui-structure-paging-stats\n\t\t[paging]="paging"\n\t\t[sourceSize]="sourceSize">\n\t</gui-structure-paging-stats>\n\n\t<gui-structure-paging-navigator\n\t\t[paging]="paging"\n\t\t[sourceSize]="sourceSize"\n\t\t(prevPageChanged)="prevPage()"\n\t\t(nextPageChanged)="nextPage()">\n\t</gui-structure-paging-navigator>\n\n</ng-container>\n',changeDetection:h.OnPush}),ns("design:paramtypes",[v,Ac,Rc,ec])],StructurePagingComponent)}(ni),rs=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),is=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},cs=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},as=function(t){function FabricBadgeComponent(e,n){return t.call(this,e,n)||this}return rs(FabricBadgeComponent,t),FabricBadgeComponent=is([i({selector:"gui-badge",template:"<ng-content></ng-content>\n",changeDetection:h.OnPush,encapsulation:y.None,host:{"[class.gui-badge]":"true"}}),cs("design:paramtypes",[c,m])],FabricBadgeComponent)}(er);___$insertStyle("/**\n * Colors\n */\n/**\n * Styles\n */\n/**\n * Colors\n */\n/**\n * Styles\n */\n.gui-badge {\n  background: #e6e6e6;\n  border-radius: 4px;\n  color: #595959;\n  display: inline-block;\n  font-family: Arial;\n  font-size: 12px;\n  font-weight: bold;\n  margin: 0 0 0 2px;\n  padding: 4px 9.6px;\n  position: relative;\n  -webkit-transform: translateX(-70%) translateY(-80%);\n          transform: translateX(-70%) translateY(-80%);\n  z-index: 1;\n}\n.gui-badge.gui-primary {\n  background: #2185d0;\n  color: #fefdfc;\n}\n.gui-badge.gui-primary.gui-outline {\n  color: #2185d0;\n}\n.gui-badge.gui-primary.gui-button:hover {\n  background: #1e77ba;\n}\n.gui-badge.gui-primary.gui-button:active {\n  background: #1a69a4;\n  color: #fefdfc;\n}\n.gui-badge.gui-primary.gui-button:disabled {\n  background: #6fb4e8;\n  color: #439de1;\n}\n.gui-badge.gui-primary.gui-badge {\n  background: #439de1;\n}\n.gui-badge.gui-secondary {\n  background: #3cb371;\n  color: #fefdfc;\n}\n.gui-badge.gui-secondary.gui-outline {\n  color: #3cb371;\n}\n.gui-badge.gui-secondary.gui-button:hover {\n  background: #36a065;\n}\n.gui-badge.gui-secondary.gui-button:active {\n  background: #32945e;\n  color: #fefdfc;\n}\n.gui-badge.gui-secondary.gui-button:disabled {\n  background: #80d5a6;\n  color: #5ac88b;\n}\n.gui-badge.gui-secondary.gui-badge {\n  background: #5ac88b;\n}\n.gui-badge.gui-outline {\n  color: #999;\n  background: transparent;\n  border-color: #cccccc;\n  border-style: solid;\n  border-width: 1px;\n}\n.gui-badge.gui-outline.gui-button:hover {\n  color: #fefdfc;\n  background: #cccccc;\n}\n.gui-badge.gui-outline.gui-button:disabled {\n  border-color: #cccccc;\n  color: #cccccc;\n}\n.gui-badge.gui-outline.gui-badge {\n  background: #fefdfc;\n}\n.gui-badge.gui-outline.gui-primary {\n  border-color: #439de1;\n}\n.gui-badge.gui-outline.gui-primary.gui-button:hover {\n  background: #2185d0;\n  border-color: #2185d0;\n}\n.gui-badge.gui-outline.gui-primary.gui-button:disabled {\n  background: transparent;\n  border-color: #6fb4e8;\n  color: #6fb4e8;\n}\n.gui-badge.gui-outline.gui-primary.gui-badge {\n  background: #fefdfc;\n  border-color: #439de1;\n  color: #439de1;\n}\n.gui-badge.gui-outline.gui-secondary {\n  border-color: #5ac88b;\n}\n.gui-badge.gui-outline.gui-secondary.gui-button:hover {\n  background: #3cb371;\n  border-color: #3cb371;\n}\n.gui-badge.gui-outline.gui-secondary.gui-button:disabled {\n  background: transparent;\n  border-color: #80d5a6;\n  color: #80d5a6;\n}\n.gui-badge.gui-outline.gui-secondary.gui-badge {\n  background: #fefdfc;\n  border-color: #5ac88b;\n  color: #5ac88b;\n}"),___$insertStyle('/**\n * Colors\n */\n/**\n * Styles\n */\n/**\n * Colors\n */\n/**\n * Styles\n */\n.gui-material .gui-badge {\n  background: #3949AB;\n  color: #FFFFFF;\n  font-family: Roboto, "Helvetica Neue", sans-serif;\n  font-weight: 500;\n}\n.gui-material .gui-badge.gui-primary {\n  background: #6200ee;\n  color: #FFFFFF;\n}\n.gui-material .gui-badge.gui-primary.gui-outline {\n  color: #6200ee;\n}\n.gui-material .gui-badge.gui-primary.gui-button:hover {\n  background: #974dff;\n}\n.gui-material .gui-badge.gui-primary.gui-button:active {\n  background: #791aff;\n  color: #FFFFFF;\n}\n.gui-material .gui-badge.gui-primary.gui-button:disabled {\n  background: #D1C4E9;\n  color: #7d22ff;\n}\n.gui-material .gui-badge.gui-primary.gui-badge {\n  background: #6200ee;\n}\n.gui-material .gui-badge.gui-secondary {\n  background: #0097A7;\n  color: #FFFFFF;\n}\n.gui-material .gui-badge.gui-secondary.gui-outline {\n  color: #0097A7;\n}\n.gui-material .gui-badge.gui-secondary.gui-button:hover {\n  background: #00a1b3;\n}\n.gui-material .gui-badge.gui-secondary.gui-button:active {\n  background: #00808e;\n  color: #FFFFFF;\n}\n.gui-material .gui-badge.gui-secondary.gui-button:disabled {\n  background: #B2EBF2;\n  color: #00c5da;\n}\n.gui-material .gui-badge.gui-secondary.gui-badge {\n  background: #0097A7;\n}\n.gui-material .gui-badge.gui-outline {\n  color: #3949AB;\n  background: transparent;\n  border-color: #5262c5;\n}\n.gui-material .gui-badge.gui-outline.gui-button:hover {\n  background: #E8EAF6;\n  color: #3949AB;\n}\n.gui-material .gui-badge.gui-outline.gui-button:active {\n  background: #C5CAE9;\n}\n.gui-material .gui-badge.gui-outline.gui-button:disabled {\n  border-color: #C5CAE9;\n  color: #C5CAE9;\n}\n.gui-material .gui-badge.gui-outline.gui-badge {\n  background: #FFFFFF;\n}\n.gui-material .gui-badge.gui-outline.gui-primary {\n  border-color: #6200ee;\n}\n.gui-material .gui-badge.gui-outline.gui-primary.gui-button:hover {\n  background: #EDE7F6;\n  border-color: #6200ee;\n  color: #6200ee;\n}\n.gui-material .gui-badge.gui-outline.gui-primary.gui-button:active {\n  background: #D1C4E9;\n}\n.gui-material .gui-badge.gui-outline.gui-primary.gui-button:disabled {\n  background: transparent;\n  border-color: #D1C4E9;\n  color: #D1C4E9;\n}\n.gui-material .gui-badge.gui-outline.gui-primary.gui-badge {\n  background: #FFFFFF;\n  border-color: #6200ee;\n  color: #7d22ff;\n}\n.gui-material .gui-badge.gui-outline.gui-secondary {\n  border-color: #0097A7;\n}\n.gui-material .gui-badge.gui-outline.gui-secondary.gui-button:hover {\n  background: #E0F7FA;\n  border-color: #0097A7;\n  color: #0097A7;\n}\n.gui-material .gui-badge.gui-outline.gui-secondary.gui-button:active {\n  background: #B2EBF2;\n}\n.gui-material .gui-badge.gui-outline.gui-secondary.gui-button:disabled {\n  background: transparent;\n  border-color: #B2EBF2;\n  color: #B2EBF2;\n}\n.gui-material .gui-badge.gui-outline.gui-secondary.gui-badge {\n  background: #FFFFFF;\n  border-color: #0097A7;\n  color: #0097A7;\n}'),___$insertStyle("/**\n * Styles\n */\n/**\n * Styles\n */\n.gui-dark .gui-badge {\n  background: #000000;\n  color: #BDBDBD;\n}\n.gui-dark .gui-badge.gui-primary {\n  background: #CE93D8;\n  color: #212121;\n}\n.gui-dark .gui-badge.gui-primary.gui-outline {\n  color: #CE93D8;\n}\n.gui-dark .gui-badge.gui-primary.gui-button:hover {\n  background: #c680d1;\n}\n.gui-dark .gui-badge.gui-primary.gui-button:active {\n  background: #b55bc4;\n  color: #212121;\n}\n.gui-dark .gui-badge.gui-primary.gui-button:disabled {\n  background: #CE93D8;\n  opacity: 0.5;\n  color: #212121;\n}\n.gui-dark .gui-badge.gui-primary.gui-badge {\n  background: #dfb8e6;\n}\n.gui-dark .gui-badge.gui-secondary {\n  background: #80CBC4;\n  color: #212121;\n}\n.gui-dark .gui-badge.gui-secondary.gui-outline {\n  color: #80CBC4;\n}\n.gui-dark .gui-badge.gui-secondary.gui-button:hover {\n  background: #6ec4bc;\n}\n.gui-dark .gui-badge.gui-secondary.gui-button:active {\n  background: #26A69A;\n  color: #212121;\n}\n.gui-dark .gui-badge.gui-secondary.gui-button:disabled {\n  background: #80CBC4;\n  opacity: 0.5;\n  color: #212121;\n}\n.gui-dark .gui-badge.gui-secondary.gui-badge {\n  background: #a4dad5;\n}\n.gui-dark .gui-badge.gui-outline {\n  color: #BDBDBD;\n  background: transparent;\n  border-color: #616161;\n  border-style: solid;\n  border-width: 1px;\n}\n.gui-dark .gui-badge.gui-outline.gui-button:hover {\n  color: #BDBDBD;\n  background: #616161;\n}\n.gui-dark .gui-badge.gui-outline.gui-badge {\n  background: #121212;\n}\n.gui-dark .gui-badge.gui-outline.gui-primary {\n  border-color: #CE93D8;\n}\n.gui-dark .gui-badge.gui-outline.gui-primary.gui-button:hover {\n  background: #CE93D8;\n  border-color: #CE93D8;\n  color: #212121;\n}\n.gui-dark .gui-badge.gui-outline.gui-primary.gui-button:disabled {\n  background: transparent;\n  border-color: #f0def3;\n  color: #f0def3;\n}\n.gui-dark .gui-badge.gui-outline.gui-primary.gui-badge {\n  background: #121212;\n  border-color: #CE93D8;\n  color: #dfb8e6;\n}\n.gui-dark .gui-badge.gui-outline.gui-secondary {\n  border-color: #80CBC4;\n}\n.gui-dark .gui-badge.gui-outline.gui-secondary.gui-button:hover {\n  background: #80CBC4;\n  border-color: #80CBC4;\n  color: #212121;\n}\n.gui-dark .gui-badge.gui-outline.gui-secondary.gui-button:disabled {\n  background: transparent;\n  border-color: #B2EBF2;\n  color: #B2EBF2;\n}\n.gui-dark .gui-badge.gui-outline.gui-secondary.gui-badge {\n  background: #121212;\n  border-color: #80CBC4;\n  color: #80CBC4;\n}");var us=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},ss=function(){function FabricBadgeModule(){}return FabricBadgeModule=us([s({imports:[S],declarations:[as],exports:[as]})],FabricBadgeModule)}(),ps=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},ls=function(){function FabricButtonGroupComponent(){}return FabricButtonGroupComponent=ps([i({selector:"gui-button-group",template:"<ng-content></ng-content>\n",changeDetection:h.OnPush,encapsulation:y.None,host:{"[class.gui-button-group]":"true"}})],FabricButtonGroupComponent)}();___$insertStyle("/**\n * Colors\n */\n/**\n * Styles\n */\n/**\n * Colors\n */\n/**\n * Styles\n */\n.gui-button-group {\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n.gui-button-group .gui-button {\n  border-radius: 0;\n}\n.gui-button-group .gui-button:not(:last-child) {\n  border-right: none;\n  margin: 0;\n}\n.gui-button-group .gui-button:last-child {\n  border-radius: 0 4px 4px 0;\n}\n.gui-button-group .gui-button:first-child {\n  border-radius: 4px 0 0 4px;\n}\n.gui-button-group .gui-button-toggle .gui-button {\n  border-radius: 0;\n}\n.gui-button-group .gui-button-toggle:not(:last-child) .gui-button {\n  border-right: none;\n  margin: 0;\n}\n.gui-button-group .gui-button-toggle:last-child .gui-button {\n  border-radius: 0 4px 4px 0;\n}\n.gui-button-group .gui-button-toggle:first-child .gui-button {\n  border-radius: 4px 0 0 4px;\n}");var gs=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},ds=function(){function FabricButtonGroupModule(){}return FabricButtonGroupModule=gs([s({imports:[S],declarations:[ls],exports:[ls]})],FabricButtonGroupModule)}(),fs=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},hs=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ys=function(){function FabricCardComponent(){this.contentBlock=[]}return FabricCardComponent.prototype.isTitleEnabled=function(){return!!this.title},FabricCardComponent.prototype.isImgEnabled=function(){return!!this.image},FabricCardComponent.prototype.isContentBlockEnabled=function(){return!!this.contentBlock},FabricCardComponent.prototype.isOnlyContentBlockEnabled=function(){return!this.title&&!this.image&&!!this.contentBlock},fs([t(),hs("design:type",String)],FabricCardComponent.prototype,"title",void 0),fs([t(),hs("design:type",String)],FabricCardComponent.prototype,"image",void 0),fs([t(),hs("design:type",Array)],FabricCardComponent.prototype,"contentBlock",void 0),FabricCardComponent=fs([i({selector:"gui-card",template:'<div class="gui-card-body"\n\t [ngClass]="{\'gui-content-block\': isOnlyContentBlockEnabled()}">\n\n\t<img [ngClass]="{\'gui-card-img\': isImgEnabled()}"\n\t\t src="{{image}}"/>\n\n\t<div [ngClass]="{\'gui-card-title\': isTitleEnabled()}">\n\t\t{{title}}\n\t</div>\n\n\t<div [ngClass]="{\'gui-card-content-block\': isContentBlockEnabled()}">\n\t\t<div\n\t\t\t*ngFor="let block of contentBlock"\n\t\t\t[ngClass]="{\'gui-card-content-block-item\': isContentBlockEnabled()}">\n\t\t\t{{block}}\n\t\t</div>\n\t</div>\n\n\t<div class="gui-content">\n\t\t<ng-content></ng-content>\n\t</div>\n</div>\n',changeDetection:h.OnPush,encapsulation:y.None,host:{"[class.gui-card]":"true"}})],FabricCardComponent)}();___$insertStyle('/**\n * Colors\n */\n/**\n * Styles\n */\n/**\n * Colors\n */\n/**\n * Styles\n */\n.gui-card .gui-card-img {\n  margin: 0 0 12px 0;\n  border-radius: 4px 4px 0 0;\n  width: 350px;\n  height: auto;\n}\n.gui-card .gui-card-body {\n  background: #fefdfc;\n  border-color: #cccccc;\n  border-style: solid;\n  border-width: 1px;\n  border-radius: 4px;\n  width: 352px;\n  margin: 0;\n  padding: 0 0 20px 0;\n  font-family: Roboto, "Helvetica Neue", sans-serif;\n  font-size: 14px;\n}\n.gui-card .gui-card-body .gui-card-title {\n  font-size: 20px;\n  font-weight: bold;\n  margin: 0 0 12px 0;\n  padding: 0 20px;\n}\n.gui-card .gui-card-body .gui-card-content-block {\n  margin: 0 0 12px 0;\n}\n.gui-card .gui-card-body .gui-card-content-block .gui-card-content-block-item {\n  border-top-color: #cccccc;\n  border-top-style: solid;\n  border-top-width: 1px;\n  padding: 12px 20px;\n}\n.gui-card .gui-card-body .gui-card-content-block .gui-card-content-block-item:last-child {\n  border-bottom-color: #cccccc;\n  border-bottom-style: solid;\n  border-bottom-width: 1px;\n}\n.gui-card .gui-card-body .gui-content {\n  padding: 0 20px 0 20px;\n}\n\n.gui-content-block.gui-card-body {\n  padding: 0;\n  border: none;\n}\n.gui-content-block .gui-card-content-block {\n  border-color: #cccccc;\n  border-style: solid;\n  border-width: 0 1px 0 1px;\n}'),___$insertStyle('/**\n * Colors\n */\n/**\n * Styles\n */\n.gui-material .gui-card .gui-card-body {\n  font-family: Roboto, "Helvetica Neue", sans-serif;\n}'),___$insertStyle("/**\n * Styles\n */\n.gui-dark .gui-card .gui-card-body {\n  background: #121212;\n  color: #BDBDBD;\n  border-color: #616161;\n}\n.gui-dark .gui-card .gui-card-body .gui-card-content-block .gui-card-content-block-item {\n  border-top-color: #616161;\n}\n.gui-dark .gui-card .gui-card-body .gui-card-content-block .gui-card-content-block-item:last-child {\n  border-bottom-color: #616161;\n}\n.gui-dark .gui-content-block .gui-card-content-block {\n  border-color: #616161;\n}");var ms,bs=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},vs=function(){function FabricCardModule(){}return FabricCardModule=bs([s({imports:[S],declarations:[ys],exports:[ys]})],FabricCardModule)}(),Cs=function(){function Geometry(t,e,n){this.container=t,this.menu=e,this.windowSize=n,this.calculate(this.menu,this.windowSize)}return Geometry.prototype.getContainerHeight=function(){return this.containerHeight},Geometry.prototype.getContainerWidth=function(){return this.containerWidth},Geometry.prototype.canOpenDownward=function(){return this.availableBottomSpace>0},Geometry.prototype.canOpenUpward=function(){return this.availableTopSpace>0},Geometry.prototype.calculate=function(t,e){var n=this.container.nativeElement,o=t.nativeElement.offsetHeight,r=n.getBoundingClientRect().bottom;this.containerHeight=n.offsetHeight,this.containerWidth=n.offsetWidth,this.availableBottomSpace=e-r-o,this.availableTopSpace=r-o-this.containerHeight},Geometry}(),_s=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Ss=function(){function GeometryService(){this.geometryResults$=new R}return GeometryService.prototype.watchGeometry=function(){return this.geometryResults$.asObservable()},GeometryService.prototype.changeGeometry=function(t,e,n){var o=new Cs(t,e,n);this.geometryResults$.next(o)},GeometryService=_s([a()],GeometryService)}();!function(t){t[t.Right=0]="Right",t[t.Left=1]="Left"}(ms||(ms={}));var Rs=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Os=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ws=function(){function FabricDropdownComponent(t,e,n,o){this.elementRef=t,this.renderer=e,this.changeDetectorRef=n,this.geometryService=o,this.disabled=!1,this.dropdownText="Dropdown",this.arrow=!0,this.isArrowEnabled=this.arrow,this.open=!1,this.onResize()}return FabricDropdownComponent.prototype.onResize=function(){this.windowSize=window.innerHeight},FabricDropdownComponent.prototype.ngOnChanges=function(t){t.placement&&this.changePlacement()},FabricDropdownComponent.prototype.ngOnInit=function(){this.observeGeometry()},FabricDropdownComponent.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},FabricDropdownComponent.prototype.tryToOpen=function(t){this.isContainerDisabled(t)?t.stopPropagation():(this.openMenu(!this.open),this.changeDetectorRef.detectChanges())},FabricDropdownComponent.prototype.clickOutside=function(t){this.isContainerClicked(t)&&this.openMenu(!1)},FabricDropdownComponent.prototype.openMenu=function(t){this.open=t,this.open?this.showItems():this.hideItems()},FabricDropdownComponent.prototype.showItems=function(){this.addClass(this.elementRef.nativeElement,"gui-menu-opened"),this.geometryService.changeGeometry(this.containerRef,this.dropdownMenuRef,this.windowSize),this.canOpenDownward||!this.canOpenUpward?this.openDownward():this.openUpward(),this.placement===ms.Right&&this.openRight(),this.placement===ms.Left&&this.openLeft()},FabricDropdownComponent.prototype.observeGeometry=function(){var t=this;this.subscription=this.geometryService.watchGeometry().subscribe(function(e){t.containerHeight=e.getContainerHeight(),t.containerWidth=e.getContainerWidth(),t.canOpenUpward=e.canOpenUpward(),t.canOpenDownward=e.canOpenDownward()})},FabricDropdownComponent.prototype.openDownward=function(){this.topPosition=null,this.bottomPosition=this.containerHeight},FabricDropdownComponent.prototype.openUpward=function(){this.bottomPosition=null,this.topPosition=this.containerHeight},FabricDropdownComponent.prototype.openRight=function(){this.bottomPosition=0,this.topPosition=null,this.horizontalPosition=this.containerWidth},FabricDropdownComponent.prototype.openLeft=function(){this.bottomPosition=0,this.topPosition=null,this.horizontalPosition=-(this.containerWidth+1)},FabricDropdownComponent.prototype.changePlacement=function(){this.placement===ms.Right?(this.removeClass(this.dropdownMenuRef.nativeElement,"gui-dropdown-left"),this.addClass(this.dropdownMenuRef.nativeElement,"gui-dropdown-right")):(this.removeClass(this.dropdownMenuRef.nativeElement,"gui-dropdown-right"),this.addClass(this.dropdownMenuRef.nativeElement,"gui-dropdown-left"))},FabricDropdownComponent.prototype.hideItems=function(){this.elementRef.nativeElement.classList.contains("gui-menu-opened")&&this.removeClass(this.elementRef.nativeElement,"gui-menu-opened")},FabricDropdownComponent.prototype.isContainerClicked=function(t){return!this.elementRef.nativeElement.contains(t.target)},FabricDropdownComponent.prototype.isContainerDisabled=function(t){return t.target.classList.contains("gui-disabled")},FabricDropdownComponent.prototype.addClass=function(t,e){this.renderer.addClass(t,e)},FabricDropdownComponent.prototype.removeClass=function(t,e){this.renderer.removeClass(t,e)},Rs([r("dropdownMenu"),Os("design:type",c)],FabricDropdownComponent.prototype,"dropdownMenuRef",void 0),Rs([r("container"),Os("design:type",c)],FabricDropdownComponent.prototype,"containerRef",void 0),Rs([_("window:resize"),Os("design:type",Function),Os("design:paramtypes",[]),Os("design:returntype",void 0)],FabricDropdownComponent.prototype,"onResize",null),Rs([t(),Os("design:type",Boolean)],FabricDropdownComponent.prototype,"disabled",void 0),Rs([t(),Os("design:type",String)],FabricDropdownComponent.prototype,"dropdownText",void 0),Rs([t(),Os("design:type",Boolean)],FabricDropdownComponent.prototype,"arrow",void 0),Rs([t(),Os("design:type",Number)],FabricDropdownComponent.prototype,"placement",void 0),FabricDropdownComponent=Rs([i({selector:"gui-dropdown",template:'<div #container\n\t (click)="tryToOpen($event)"\n\t (document:click)="clickOutside($event)"\n\t [ngClass]="{\'gui-disabled\': disabled}"\n\t class="gui-dropdown-container">\n\t<div>{{dropdownText}}</div>\n\t<span [ngClass]="{\'gui-dropdown-arrow\': isArrowEnabled}"></span>\n\t<div #dropdownMenu\n\t\t [style.left.px]="horizontalPosition"\n\t\t [style.top.px]="bottomPosition"\n\t\t [style.bottom.px]="topPosition"\n\t\t class="gui-dropdown-menu">\n\t\t<ng-content></ng-content>\n\t</div>\n</div>\n',changeDetection:h.OnPush,encapsulation:y.None,host:{"[class.gui-dropdown]":"true"},providers:[Ss]}),Os("design:paramtypes",[c,m,v,Ss])],FabricDropdownComponent)}(),Ps=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},js=function(){function DropdownItemComponent(){}return DropdownItemComponent=Ps([i({selector:"gui-dropdown-item",template:'<div class="gui-item">\n\t<ng-content></ng-content>\n</div>\n',changeDetection:h.OnPush,encapsulation:y.None})],DropdownItemComponent)}();___$insertStyle("/**\n * Colors\n */\n/**\n * Styles\n */\n/**\n * Colors\n */\n/**\n * Styles\n */\n.gui-dropdown .gui-dropdown-container {\n  background: #fefdfc;\n  box-sizing: content-box;\n  border-color: #cccccc;\n  border-style: solid;\n  border-width: 1px;\n  border-radius: 4px;\n  cursor: pointer;\n  color: #333;\n  display: inline-block;\n  font: 14px Arial;\n  padding: 8px 32px 8px 12px;\n  position: relative;\n  width: 70px;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n.gui-dropdown .gui-dropdown-container:hover {\n  border-color: #999;\n}\n.gui-dropdown .gui-dropdown-container .gui-dropdown-arrow {\n  border: 4px solid transparent;\n  border-color: #595959 transparent transparent transparent;\n  position: absolute;\n  top: 5px;\n  right: 10px;\n  margin: 8px;\n  width: 0;\n  height: 0;\n}\n.gui-dropdown .gui-dropdown-container .gui-dropdown-right.gui-dropdown-menu {\n  margin: 0;\n}\n.gui-dropdown .gui-dropdown-container .gui-dropdown-left.gui-dropdown-menu {\n  margin: 0;\n}\n.gui-dropdown .gui-dropdown-container .gui-dropdown-menu {\n  background: inherit;\n  display: none;\n  left: -1px;\n  overflow: hidden;\n  position: absolute;\n  z-index: 2;\n  border-color: #cccccc;\n  border-style: solid;\n  border-width: 1px;\n  border-radius: 4px;\n}\n.gui-dropdown .gui-dropdown-container .gui-dropdown-menu .gui-item {\n  padding: 8px 32px 8px 12px;\n  width: 70px;\n  list-style-type: none;\n}\n.gui-dropdown .gui-dropdown-container .gui-dropdown-menu .gui-item:hover {\n  background: #DCDCDC;\n}\n.gui-dropdown.gui-menu-opened .gui-dropdown-container {\n  border-color: #999;\n}\n.gui-dropdown.gui-menu-opened .gui-dropdown-menu {\n  display: block;\n}\n.gui-dropdown .gui-disabled {\n  color: #cccccc;\n  pointer-events: none;\n}"),___$insertStyle('/**\n * Colors\n */\n/**\n * Styles\n */\n.gui-material .gui-dropdown .gui-dropdown-container {\n  font-family: Roboto, "Helvetica Neue", sans-serif;\n}'),___$insertStyle("/**\n * Styles\n */\n.gui-dark .gui-dropdown .gui-dropdown-container {\n  background: #424242;\n  border-color: #616161;\n  color: #BDBDBD;\n}\n.gui-dark .gui-dropdown .gui-dropdown-container:hover {\n  border-color: #CE93D8;\n}\n.gui-dark .gui-dropdown .gui-dropdown-container .gui-dropdown-arrow {\n  border-color: #CE93D8 transparent transparent transparent;\n}\n.gui-dark .gui-dropdown .gui-dropdown-container .gui-dropdown-menu {\n  border-color: #CE93D8;\n}\n.gui-dark .gui-dropdown .gui-dropdown-container .gui-dropdown-menu .gui-item {\n  border-top-color: #757575;\n}\n.gui-dark .gui-dropdown .gui-dropdown-container .gui-dropdown-menu .gui-item:hover {\n  background: #616161;\n}\n.gui-dark .gui-dropdown.gui-options-opened .gui-dropdown-container {\n  border-color: #CE93D8;\n}\n.gui-dark .gui-dropdown.gui-options-opened .gui-dropdown-arrow {\n  border-color: transparent transparent #CE93D8 transparent;\n}\n.gui-dark .gui-dropdown .gui-disabled {\n  opacity: 0.36;\n}");var ks=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},As=function(){function FabricDropdownModule(){}return FabricDropdownModule=ks([s({imports:[S],declarations:[ws,js],exports:[ws,js]})],FabricDropdownModule)}(),Es=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Ds=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Fs=function(){function FabricProgressBarComponent(t,e){this.elementRef=t,this.renderer=e}return FabricProgressBarComponent.prototype.ngOnChanges=function(t){t.primary&&(this.primary?this.addClass("gui-primary"):this.removeClass("gui-primary")),t.secondary&&(this.secondary?this.addClass("gui-secondary"):this.removeClass("gui-secondary"))},FabricProgressBarComponent.prototype.addClass=function(t){this.renderer.addClass(this.elementRef.nativeElement,t)},FabricProgressBarComponent.prototype.removeClass=function(t){this.renderer.removeClass(this.elementRef.nativeElement,t)},Es([t(),Ds("design:type",Number)],FabricProgressBarComponent.prototype,"progress",void 0),Es([t(),Ds("design:type",String)],FabricProgressBarComponent.prototype,"color",void 0),Es([t(),Ds("design:type",Number)],FabricProgressBarComponent.prototype,"height",void 0),Es([t(),Ds("design:type",Number)],FabricProgressBarComponent.prototype,"width",void 0),Es([t(),Ds("design:type",String)],FabricProgressBarComponent.prototype,"textTop",void 0),Es([t(),Ds("design:type",String)],FabricProgressBarComponent.prototype,"textAlign",void 0),Es([t(),Ds("design:type",Boolean)],FabricProgressBarComponent.prototype,"primary",void 0),Es([t(),Ds("design:type",Boolean)],FabricProgressBarComponent.prototype,"secondary",void 0),FabricProgressBarComponent=Es([i({selector:"gui-progress-bar",template:'<div\n\t[style.height.px]="height"\n\t[style.width.px]="width"\n\t[style.text-align]="textAlign"\n\tclass="gui-progress-bar">\n\t<div\n\t\t[style.background]="color"\n\t\t[style.width.%]="progress"\n\t\tclass="gui-progress">\n        <span\n\t\t\t[style.top]="textTop"\n\t\t\tclass="gui-progress-text">\n        <ng-content></ng-content>\n        </span>\n\t</div>\n</div>\n',changeDetection:h.OnPush,encapsulation:y.None,host:{"[class.gui-progress]":"true"}}),Ds("design:paramtypes",[c,m])],FabricProgressBarComponent)}();___$insertStyle("/**\n * Colors\n */\n/**\n * Styles\n */\n/**\n * Colors\n */\n/**\n * Styles\n */\n.gui-progress-bar {\n  border-color: #cccccc;\n  border-style: solid;\n  border-width: 1px;\n  display: block;\n  font-family: Arial;\n  height: 18px;\n  margin-bottom: 10px;\n  text-align: center;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n.gui-progress-bar .gui-progress {\n  background: #999;\n  border-bottom: inherit;\n  height: inherit;\n  width: 0;\n}\n.gui-primary .gui-progress-bar .gui-progress.gui-progress {\n  background: #2185d0;\n}\n.gui-secondary .gui-progress-bar .gui-progress.gui-progress {\n  background: #3cb371;\n}\n.gui-progress-bar .gui-progress-text {\n  position: relative;\n}"),___$insertStyle('/**\n * Colors\n */\n/**\n * Styles\n */\n.gui-material .gui-progress-bar {\n  border-color: #5262c5;\n  color: #FFFFFF;\n  font-family: Roboto, "Helvetica Neue", sans-serif;\n}\n.gui-material .gui-progress {\n  background: #3949AB;\n}\n.gui-material .gui-progress.gui-primary .gui-progress {\n  background: #6200ee;\n}\n.gui-material .gui-progress.gui-primary .gui-progress-bar {\n  border-color: #6200ee;\n}\n.gui-material .gui-progress.gui-secondary .gui-progress {\n  background: #0097A7;\n}\n.gui-material .gui-progress.gui-secondary .gui-progress-bar {\n  border-color: #0097A7;\n}'),___$insertStyle("/**\n * Styles\n */\n.gui-dark .gui-progress-bar {\n  border-color: #616161;\n  color: #BDBDBD;\n}\n.gui-dark .gui-progress {\n  background: #424242;\n}\n.gui-dark .gui-progress.gui-primary .gui-progress {\n  background: #CE93D8;\n}\n.gui-dark .gui-progress.gui-primary .gui-progress-bar {\n  border-color: #CE93D8;\n  color: #212121;\n}\n.gui-dark .gui-progress.gui-secondary .gui-progress {\n  background: #80CBC4;\n}\n.gui-dark .gui-progress.gui-secondary .gui-progress-bar {\n  border-color: #80CBC4;\n  color: #212121;\n}");var Is,xs=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Bs=function(){function FabricProgressBarModule(){}return FabricProgressBarModule=xs([s({imports:[S],declarations:[Fs],exports:[Fs]})],FabricProgressBarModule)}(),Ts=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Hs=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ms=function(){function AbstractSpinner(t,e){this.elementRef=t,this.renderer=e,this.width=5,this.diameter=90}return AbstractSpinner.prototype.ngOnChanges=function(t){this.calculateCircle(),t.primary&&(this.primary?this.addClass("gui-primary"):this.removeClass("gui-primary")),t.secondary&&(this.secondary?this.addClass("gui-secondary"):this.removeClass("gui-secondary"))},AbstractSpinner.prototype.ngOnInit=function(){this.calculateCircle()},AbstractSpinner.prototype.calculateCircle=function(){this.circumference=this.calculateCircumference(this.diameter),this.r=this.calculateR(this.diameter),this.croppedCircle=this.calculateDashes(this.circumference),this.circleSize=this.calculateSize(this.diameter,this.width)},AbstractSpinner.prototype.calculateCircumference=function(t){return t*Math.PI},AbstractSpinner.prototype.calculateR=function(t){return t/2},AbstractSpinner.prototype.calculateDashes=function(t){return.25*t},AbstractSpinner.prototype.calculateSize=function(t,e){return t+e},AbstractSpinner.prototype.addClass=function(t){this.renderer.addClass(this.elementRef.nativeElement,t)},AbstractSpinner.prototype.removeClass=function(t){this.renderer.removeClass(this.elementRef.nativeElement,t)},Ts([t(),Hs("design:type",Number)],AbstractSpinner.prototype,"width",void 0),Ts([t(),Hs("design:type",Number)],AbstractSpinner.prototype,"diameter",void 0),Ts([t(),Hs("design:type",Boolean)],AbstractSpinner.prototype,"primary",void 0),Ts([t(),Hs("design:type",Boolean)],AbstractSpinner.prototype,"secondary",void 0),AbstractSpinner}();!function(t){t[t.Spin=0]="Spin"}(Is||(Is={}));var Ls=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),zs=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Gs=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ns=function(e){function FabricProgressSpinnerComponent(t,n){var o=e.call(this,t,n)||this;return o.value=0,o.animationsDisabled=!0,o.secondCircleDisabled=!0,o}return Ls(FabricProgressSpinnerComponent,e),FabricProgressSpinnerComponent.prototype.ngOnChanges=function(t){e.prototype.ngOnChanges.call(this,t),this.calculateValuePercentage(this.circumference,this.value),this.mode===Is.Spin&&(this.animationsDisabled=!1,this.secondCircleDisabled=!1,this.value=0,this.circumference=this.croppedCircle),this.animationsDisabled?this.addClass("gui-animations-disabled"):this.removeClass("gui-animations-disabled"),this.secondCircleDisabled?this.addClass("gui-second-circle-disabled"):this.removeClass("gui-second-circle-disabled")},FabricProgressSpinnerComponent.prototype.ngOnInit=function(){this.calculateValuePercentage(this.circumference,this.value)},FabricProgressSpinnerComponent.prototype.calculateValuePercentage=function(t,e){this.valuePercentage=t-e*t/100},zs([t(),Gs("design:type",Number)],FabricProgressSpinnerComponent.prototype,"value",void 0),zs([t(),Gs("design:type",Number)],FabricProgressSpinnerComponent.prototype,"mode",void 0),zs([t(),Gs("design:type",String)],FabricProgressSpinnerComponent.prototype,"color",void 0),FabricProgressSpinnerComponent=zs([i({selector:"gui-progress-spinner",template:'<div\n\t[style.width.px]="circleSize"\n\t[style.height.px]="circleSize"\n\tclass="gui-progress-spinner">\n\t<svg\n\t\t[style.width.px]="circleSize"\n\t\t[style.height.px]="circleSize"\n\t\tclass="circle-outer">\n\t\t<circle\n\t\t\t[style.stroke-dashoffset]="valuePercentage"\n\t\t\t[style.stroke-dasharray]="circumference"\n\t\t\t[style.stroke-width]="width"\n\t\t\t[style.stroke]="color"\n\t\t\t[attr.r]="r"\n\t\t\tcx="50%"\n\t\t\tcy="50%">\n\t\t</circle>\n\t</svg>\n\t<svg\n\t\t[style.width.px]="circleSize"\n\t\t[style.height.px]="circleSize"\n\t\tclass="circle-inner">\n\t\t<circle\n\t\t\t[style.stroke-dashoffset]="circumference"\n\t\t\t[style.stroke-dasharray]="croppedCircle"\n\t\t\t[style.stroke-width]="width"\n\t\t\t[style.stroke]="color"\n\t\t\t[attr.r]="r"\n\t\t\tcx="50%"\n\t\t\tcy="50%">\n\t\t</circle>\n\t</svg>\n</div>\n',changeDetection:h.OnPush,encapsulation:y.None}),Gs("design:paramtypes",[c,m])],FabricProgressSpinnerComponent)}(Ms);___$insertStyle("/**\n * Colors\n */\n/**\n * Styles\n */\n/**\n * Colors\n */\n/**\n * Styles\n */\n.gui-progress-spinner {\n  display: inline-block;\n  position: relative;\n  margin: 4px;\n  -webkit-transform: rotate(-90deg);\n          transform: rotate(-90deg);\n}\n.gui-progress-spinner circle {\n  fill: transparent;\n  stroke: #999;\n}\n.gui-progress-spinner svg {\n  position: absolute;\n}\n.gui-progress-spinner .circle-inner {\n  animation: gui-spin-reverse 2s infinite linear forwards reverse;\n}\n.gui-progress-spinner .circle-outer {\n  -webkit-animation: gui-spin 2s infinite linear forwards;\n          animation: gui-spin 2s infinite linear forwards;\n}\n.gui-animations-disabled .gui-progress-spinner.gui-progress-spinner .circle-outer {\n  -webkit-animation: none;\n          animation: none;\n}\n.gui-animations-disabled .gui-progress-spinner.gui-progress-spinner.gui-progress-spinner {\n  -webkit-animation: none;\n          animation: none;\n}\n.gui-second-circle-disabled .gui-progress-spinner.gui-progress-spinner .circle-inner {\n  opacity: 0;\n}\n.gui-primary .gui-progress-spinner.gui-progress-spinner circle {\n  stroke: #2185d0;\n}\n.gui-secondary .gui-progress-spinner.gui-progress-spinner circle {\n  stroke: #3cb371;\n}"),___$insertStyle("/**\n * Colors\n */\n/**\n * Styles\n */\n.gui-material .gui-progress-spinner circle {\n  stroke: #3949AB;\n}\n.gui-material .gui-primary .gui-progress-spinner circle {\n  stroke: #6200ee;\n}\n.gui-material .gui-secondary .gui-progress-spinner circle {\n  stroke: #0097A7;\n}"),___$insertStyle("/**\n * Styles\n */\n.gui-dark .gui-progress-spinner circle {\n  stroke: #424242;\n}\n.gui-dark .gui-primary .gui-progress-spinner circle {\n  stroke: #CE93D8;\n}\n.gui-dark .gui-secondary .gui-progress-spinner circle {\n  stroke: #80CBC4;\n}");var Ws=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Qs=function(){function FabricProgressSpinnerModule(){}return FabricProgressSpinnerModule=Ws([s({imports:[S],declarations:[Ns],exports:[Ns]})],FabricProgressSpinnerModule)}(),Vs=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},$s=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Us=function(){function FabricRadioButtonComponent(t,e){this.elementRef=t,this.renderer=e,this.checked=!1,this.changed=new n}return FabricRadioButtonComponent.prototype.ngOnChanges=function(){this.disabled?this.renderer.addClass(this.elementRef.nativeElement,"gui-disabled"):this.renderer.removeClass(this.elementRef.nativeElement,"gui-disabled")},FabricRadioButtonComponent.prototype.check=function(){this.checked=!0,this.changed.emit(this.checked)},Vs([t(),$s("design:type",String)],FabricRadioButtonComponent.prototype,"name",void 0),Vs([t(),$s("design:type",Boolean)],FabricRadioButtonComponent.prototype,"checked",void 0),Vs([t(),$s("design:type",Boolean)],FabricRadioButtonComponent.prototype,"disabled",void 0),Vs([e(),$s("design:type",n)],FabricRadioButtonComponent.prototype,"changed",void 0),FabricRadioButtonComponent=Vs([i({selector:"gui-radio-button",template:'<label>\n\t<input\n\t\t[name]=name\n\t\t[checked]=checked\n\t\t[disabled]=disabled\n\t\ttype="radio"\n\t\t(click)="check()">\n\t<span class="gui-radio-checkmark"></span>\n\t<ng-content></ng-content>\n</label>\n',changeDetection:h.OnPush,encapsulation:y.None,host:{"[class.gui-radio-button]":"true"}}),$s("design:paramtypes",[c,m])],FabricRadioButtonComponent)}();___$insertStyle('/**\n * Colors\n */\n/**\n * Styles\n */\n/**\n * Colors\n */\n/**\n * Styles\n */\n.gui-radio-button {\n  display: inline-block;\n  font: 14px Arial;\n  line-height: 18px;\n  padding-left: 32px;\n  position: relative;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n.gui-radio-button label {\n  cursor: pointer;\n}\n.gui-radio-button label:hover .gui-radio-checkmark {\n  border-color: #999;\n}\n.gui-radio-button input {\n  position: absolute;\n  opacity: 0;\n  height: 0;\n  width: 0;\n}\n.gui-radio-button .gui-radio-checkmark {\n  box-sizing: content-box;\n  border-color: #cccccc;\n  border-radius: 50%;\n  border-style: solid;\n  border-width: 1px;\n  position: absolute;\n  left: 0;\n  height: 16px;\n  width: 16px;\n}\n.gui-radio-button input:checked + .gui-radio-checkmark {\n  border-color: #999;\n}\n.gui-radio-button input:focus + .gui-radio-checkmark {\n  border-color: #6fb4e8;\n}\n.gui-radio-button.gui-disabled.gui-radio-button {\n  color: #cccccc;\n  pointer-events: none;\n}\n.gui-radio-button .gui-radio-checkmark:after {\n  content: "";\n  position: absolute;\n  display: none;\n}\n.gui-radio-button input:checked + .gui-radio-checkmark:after {\n  box-sizing: content-box;\n  display: block;\n}\n.gui-radio-button .gui-radio-checkmark:after {\n  background: #333;\n  border-radius: 50%;\n  width: 16px;\n  height: 16px;\n  -webkit-transform: scale(0.5);\n          transform: scale(0.5);\n}'),___$insertStyle('/**\n * Colors\n */\n/**\n * Styles\n */\n.gui-material .gui-radio-button {\n  font-family: Roboto, "Helvetica Neue", sans-serif;\n}'),___$insertStyle("/**\n * Styles\n */\n/**\n * Styles\n */\n.gui-dark .gui-radio-button {\n  color: #BDBDBD;\n}\n.gui-dark .gui-radio-button .gui-radio-checkmark {\n  border-color: #878787;\n}\n.gui-dark .gui-radio-button input:checked + .gui-radio-checkmark {\n  border-color: #878787;\n}\n.gui-dark .gui-radio-button input:focus + .gui-radio-checkmark {\n  border-color: #CE93D8;\n}\n.gui-dark .gui-radio-button .gui-radio-checkmark:after {\n  background: #878787;\n}\n.gui-dark .gui-radio-button.gui-disabled.gui-radio-button {\n  opacity: 0.36;\n}");var qs=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Ys=function(){function FabricRadioButtonModule(){}return FabricRadioButtonModule=qs([s({imports:[S],declarations:[Us],exports:[Us]})],FabricRadioButtonModule)}(),Ks=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Xs=function(){function FabricRadioGroupComponent(){}return FabricRadioGroupComponent=Ks([i({selector:"gui-radio-group",template:"<ng-content></ng-content>\n",changeDetection:h.OnPush,encapsulation:y.None,host:{"[class.gui-radio-group]":"true"}})],FabricRadioGroupComponent)}();___$insertStyle(".gui-radio-group .gui-radio-button {\n  margin-bottom: 10px;\n  display: block;\n}");var Zs=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Js=function(){function FabricRadioGroupModule(){}return FabricRadioGroupModule=Zs([s({imports:[S],declarations:[Xs],exports:[Xs]})],FabricRadioGroupModule)}(),tp=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},ep=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},np=function(){function FabricTabComponent(t){this.renderer=t,this.ACTIVE_TAB_CLASS_NAME="gui-active"}return FabricTabComponent.prototype.ngAfterViewInit=function(){this.toggleTab(this.active)},FabricTabComponent.prototype.toggleTab=function(t){this.removeActive(),this.setActive(t)},FabricTabComponent.prototype.setActive=function(t){var e=this.navTabRef.nativeElement.querySelector('[data-tab="'+t,'"]'),n=this.navTabItemRef.nativeElement.querySelector('[data-tab="'+t,'"]');this.addClass(e,this.ACTIVE_TAB_CLASS_NAME),this.addClass(n,this.ACTIVE_TAB_CLASS_NAME)},FabricTabComponent.prototype.removeActive=function(){var t=this.navTabRef.nativeElement.querySelector("."+this.ACTIVE_TAB_CLASS_NAME),e=this.navTabItemRef.nativeElement.querySelector("."+this.ACTIVE_TAB_CLASS_NAME);t&&this.removeClass(t,this.ACTIVE_TAB_CLASS_NAME),e&&this.removeClass(e,this.ACTIVE_TAB_CLASS_NAME)},FabricTabComponent.prototype.addClass=function(t,e){this.renderer.addClass(t,e)},FabricTabComponent.prototype.removeClass=function(t,e){this.renderer.removeClass(t,e)},tp([r("tab"),ep("design:type",c)],FabricTabComponent.prototype,"navTabRef",void 0),tp([r("tabitem"),ep("design:type",c)],FabricTabComponent.prototype,"navTabItemRef",void 0),tp([t(),ep("design:type",Array)],FabricTabComponent.prototype,"menu",void 0),tp([t(),ep("design:type",String)],FabricTabComponent.prototype,"active",void 0),FabricTabComponent=tp([i({selector:"gui-tab",template:'<div #tab\n\t class="gui-tab-menu">\n\t<div\n\t\t*ngFor="let tab of menu"\n\t\t(click)="toggleTab(tab)"\n\t\t[attr.data-tab]="tab"\n\t\tclass="gui-tab-menu-item">\n\t\t{{tab}}\n\t</div>\n\t<div #tabitem\n\t\t class="gui-tab-content">\n\t\t<ng-content></ng-content>\n\t</div>\n</div>\n\n',changeDetection:h.OnPush,encapsulation:y.None,host:{"[class.gui-tab]":"true"}}),ep("design:paramtypes",[m])],FabricTabComponent)}(),op=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},rp=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ip=function(){function TabItemComponent(){}return op([t(),rp("design:type",String)],TabItemComponent.prototype,"tab",void 0),TabItemComponent=op([i({selector:"gui-tab-item",template:'<div [attr.data-tab]="tab"\n\t class="gui-tab-item">\n\t<ng-content></ng-content>\n</div>\n',changeDetection:h.OnPush,encapsulation:y.None})],TabItemComponent)}();___$insertStyle("/**\n * Colors\n */\n/**\n * Styles\n */\n/**\n * Colors\n */\n/**\n * Styles\n */\n.gui-tab {\n  font: 14px Arial;\n  background: #fefdfc;\n}\n.gui-tab .gui-tab-content {\n  background: transparent;\n  border-style: solid;\n  border-width: 1px;\n  border-radius: 0 0 4px 4px;\n  border-color: #cccccc;\n  padding: 12px;\n}\n.gui-tab .gui-tab-menu-item {\n  position: relative;\n  bottom: -1px;\n  cursor: pointer;\n  display: inline-block;\n  padding: 8px 16px;\n  text-align: center;\n  z-index: 1;\n}\n.gui-tab .gui-tab-item {\n  display: none;\n}\n.gui-tab .gui-active.gui-tab-menu-item {\n  background: #fefdfc;\n  border-color: #cccccc #cccccc #fefdfc #cccccc;\n  border-style: solid;\n  border-width: 1px;\n  border-radius: 4px 4px 0 0;\n}\n.gui-tab .gui-active.gui-tab-item {\n  display: block;\n}"),___$insertStyle('/**\n * Colors\n */\n/**\n * Styles\n */\n.gui-material .gui-tab {\n  font: 14px Roboto, "Helvetica Neue", sans-serif;\n}'),___$insertStyle("/**\n * Styles\n */\n.gui-dark .gui-tab {\n  color: #BDBDBD;\n}\n.gui-dark .gui-tab .gui-tab-content {\n  background: #424242;\n  border-color: #616161;\n}\n.gui-dark .gui-tab .gui-tab-menu-item {\n  border-color: #616161 #616161 #424242 #616161;\n}\n.gui-dark .gui-tab .gui-active.gui-tab-menu-item {\n  background: #424242;\n}");var cp=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},ap=function(){function FabricTabModule(){}return FabricTabModule=cp([s({imports:[S],declarations:[np,ip],exports:[np,ip]})],FabricTabModule)}(),up=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},sp=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},pp=function(){function FabricSelectComponent(t,e,o){this.elementRef=t,this.renderer=e,this.changeDetectorRef=o,this.options=[],this.width=100,this.disabled=!1,this.optionChanged=new n,this.initAnimationDisabled=!0,this.open=!1,this.SELECTED_OPTION_CLASS_NAME="gui-selected-option",this.onResize()}return FabricSelectComponent.prototype.onResize=function(){this.windowSize=window.innerHeight},FabricSelectComponent.prototype.ngOnChanges=function(t){t.placeholder?this.selectedOption=this.placeholder:void 0===this.placeholder&&(this.selectedOption="Select ..."),t.selected&&this.tryToSelect(this.selected)},FabricSelectComponent.prototype.calculateDirection=function(){var t=this.containerRef.nativeElement,e=t.offsetHeight,n=t.getBoundingClientRect().bottom,o=e*this.options.length,r=this.windowSize-n-o,i=n-o-e;this.canOpenUpward=i>0,this.canOpenDownward=r>0},FabricSelectComponent.prototype.tryToOpen=function(t){this.isContainerDisabled(t)?t.stopPropagation():(this.toggleOptions(!this.open),this.initAnimationDisabled=!1,this.changeDetectorRef.detectChanges())},FabricSelectComponent.prototype.clickOutside=function(t){this.isContainerClicked(t)&&this.toggleOptions(!1)},FabricSelectComponent.prototype.toggleOptions=function(t){this.open=t,this.open?this.openOptions():this.closeOptions()},FabricSelectComponent.prototype.isOptionSelected=function(t){return t===this.selectedOption},FabricSelectComponent.prototype.onSelect=function(t,e){this.emitSelectedOption(t),this.selectedOption=t,this.removeSelectedOption(),this.setSelectedOption(e)},FabricSelectComponent.prototype.tryToSelect=function(t){-1!==this.options.indexOf(t)&&(this.selectedOption=t)},FabricSelectComponent.prototype.emitSelectedOption=function(t){this.isOptionSelected(t)||this.optionChanged.emit(t)},FabricSelectComponent.prototype.openOptions=function(){this.calculateDirection(),this.canOpenDownward||!this.canOpenUpward?this.openDownward():this.openUpward()},FabricSelectComponent.prototype.openDownward=function(){this.addClass("gui-options-opened"),this.addClass("gui-downward"),this.removeClass("gui-upward")},FabricSelectComponent.prototype.openUpward=function(){this.addClass("gui-options-opened"),this.addClass("gui-upward"),this.removeClass("gui-downward")},FabricSelectComponent.prototype.closeOptions=function(){var t=this.elementRef.nativeElement.classList.contains("gui-options-opened");t&&this.removeClass("gui-options-opened"),t||(this.initAnimationDisabled=!0)},FabricSelectComponent.prototype.isContainerClicked=function(t){return!this.elementRef.nativeElement.contains(t.target)},FabricSelectComponent.prototype.isContainerDisabled=function(t){return t.target.classList.contains("gui-disabled")},FabricSelectComponent.prototype.setSelectedOption=function(t){var e=this.optionListRef.nativeElement.querySelector('[data-option-index="'+t,'"]');this.renderer.addClass(e,this.SELECTED_OPTION_CLASS_NAME)},FabricSelectComponent.prototype.removeSelectedOption=function(){var t=this.optionListRef.nativeElement.querySelector("."+this.SELECTED_OPTION_CLASS_NAME);t&&this.renderer.removeClass(t,this.SELECTED_OPTION_CLASS_NAME)},FabricSelectComponent.prototype.addClass=function(t){this.renderer.addClass(this.elementRef.nativeElement,t)},FabricSelectComponent.prototype.removeClass=function(t){this.renderer.removeClass(this.elementRef.nativeElement,t)},up([r("optionlist"),sp("design:type",c)],FabricSelectComponent.prototype,"optionListRef",void 0),up([r("container"),sp("design:type",c)],FabricSelectComponent.prototype,"containerRef",void 0),up([_("window:resize"),sp("design:type",Function),sp("design:paramtypes",[]),sp("design:returntype",void 0)],FabricSelectComponent.prototype,"onResize",null),up([t(),sp("design:type",Array)],FabricSelectComponent.prototype,"options",void 0),up([t(),sp("design:type",String)],FabricSelectComponent.prototype,"placeholder",void 0),up([t(),sp("design:type",String)],FabricSelectComponent.prototype,"selected",void 0),up([t(),sp("design:type",Number)],FabricSelectComponent.prototype,"width",void 0),up([t(),sp("design:type",Boolean)],FabricSelectComponent.prototype,"disabled",void 0),up([e(),sp("design:type",Object)],FabricSelectComponent.prototype,"optionChanged",void 0),FabricSelectComponent=up([i({selector:"gui-select",template:'<div #container\n\t (click)="tryToOpen($event)"\n\t (document:click)="clickOutside($event)"\n\t [style.width.px]="width"\n\t [ngClass]="{\'gui-disabled\': disabled}"\n\t class="gui-select-container">\n\n\t<div class="gui-select-value">\n\t\t{{selectedOption}}\n\t</div>\n\n\t<span class="gui-select-arrow"></span>\n\n\t<div #optionlist\n\t\t [ngClass]="{initAnimationDisabled: initAnimationDisabled}"\n\t\t class="gui-options">\n\n\t\t<div *ngFor="let option of options; let optionIndex=index"\n\t\t\t (click)="onSelect(option, optionIndex)"\n\t\t\t [style.width.px]="width"\n\t\t\t [class.gui-selected-option]="isOptionSelected(option)"\n\t\t\t [attr.data-option-index]="optionIndex"\n\t\t\t class="gui-option">\n\t\t\t{{option}}\n\t\t</div>\n\t</div>\n</div>\n',changeDetection:h.OnPush,encapsulation:y.None,host:{"[class.gui-select]":"true"}}),sp("design:paramtypes",[c,m,v])],FabricSelectComponent)}();___$insertStyle("/**\n * Colors\n */\n/**\n * Styles\n */\n/**\n * Colors\n */\n/**\n * Styles\n */\n.gui-select .gui-select-container {\n  box-sizing: content-box;\n  background: #fefdfc;\n  border-color: #cccccc;\n  border-style: solid;\n  border-width: 1px;\n  border-radius: 4px;\n  cursor: pointer;\n  color: #333;\n  display: inline-block;\n  font: 14px Arial;\n  padding: 8px 32px 8px 12px;\n  position: relative;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n.gui-select .gui-select-container:hover {\n  border-color: #999;\n}\n.gui-select .gui-select-container .gui-select-arrow {\n  border: 4px solid transparent;\n  border-color: #595959 transparent transparent transparent;\n  position: absolute;\n  top: 5px;\n  right: 10px;\n  margin: 8px;\n  width: 0;\n  height: 0;\n}\n.gui-select .gui-select-container .gui-options {\n  background: inherit;\n  left: -1px;\n  margin: 8px 0 0 0;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  z-index: 2;\n  -webkit-animation: close 0.1s forwards;\n          animation: close 0.1s forwards;\n}\n.gui-select .gui-select-container .gui-options .gui-option {\n  padding: 8px 32px 8px 12px;\n  list-style-type: none;\n}\n.gui-select .gui-select-container .gui-options .gui-option:hover {\n  background: #DCDCDC;\n}\n.gui-select.gui-options-opened .gui-select-container {\n  border-color: #6fb4e8;\n  border-radius: 4px 4px 0 0;\n}\n.gui-select.gui-options-opened .gui-options {\n  -webkit-animation: load 0.2s forwards;\n          animation: load 0.2s forwards;\n}\n.gui-select.gui-downward .gui-options {\n  border-color: #6fb4e8;\n  border-style: solid;\n  border-width: 1px;\n  border-top: none;\n  border-radius: 0 0 4px 4px;\n}\n.gui-select.gui-downward .gui-option {\n  border-style: solid;\n  border-width: 1px 0 0 0;\n  border-color: #e6e6e6;\n}\n.gui-select.gui-upward .gui-select-container {\n  padding: 8px 12px 8px 32px;\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n.gui-select.gui-upward .gui-select-container .gui-select-value {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n.gui-select.gui-upward .gui-select-container .gui-select-arrow {\n  border: 4px solid transparent;\n  border-color: transparent transparent #595959 transparent;\n  top: auto;\n  left: 10px;\n  bottom: 5px;\n}\n.gui-select.gui-upward .gui-options {\n  border-color: #6fb4e8;\n  border-style: solid;\n  border-width: 1px;\n  border-top: none;\n  border-radius: 0 0 4px 4px;\n}\n.gui-select.gui-upward .gui-option {\n  border-style: solid;\n  border-width: 0 0 1px 0;\n  border-color: #e6e6e6;\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n.gui-select .gui-selected-option {\n  background: #e6e6e6;\n  font-weight: bold;\n}\n.gui-select .gui-disabled {\n  color: #cccccc;\n  pointer-events: none;\n}\n.gui-select .gui-disabled .gui-select-arrow {\n  border-color: #cccccc transparent transparent transparent;\n}\n.gui-select .initAnimationDisabled.gui-options {\n  display: none;\n}\n@-webkit-keyframes load {\n  0% {\n    -webkit-transform: translateY(-50%) scaleY(0);\n            transform: translateY(-50%) scaleY(0);\n  }\n  100% {\n    -webkit-transform: translateY(0%) scaleY(1);\n            transform: translateY(0%) scaleY(1);\n  }\n}\n@keyframes load {\n  0% {\n    -webkit-transform: translateY(-50%) scaleY(0);\n            transform: translateY(-50%) scaleY(0);\n  }\n  100% {\n    -webkit-transform: translateY(0%) scaleY(1);\n            transform: translateY(0%) scaleY(1);\n  }\n}\n@-webkit-keyframes close {\n  0% {\n    -webkit-transform: translateY(0%) scaleY(1);\n            transform: translateY(0%) scaleY(1);\n  }\n  100% {\n    -webkit-transform: translateY(-50%) scaleY(0);\n            transform: translateY(-50%) scaleY(0);\n  }\n}\n@keyframes close {\n  0% {\n    -webkit-transform: translateY(0%) scaleY(1);\n            transform: translateY(0%) scaleY(1);\n  }\n  100% {\n    -webkit-transform: translateY(-50%) scaleY(0);\n            transform: translateY(-50%) scaleY(0);\n  }\n}"),___$insertStyle('/**\n * Colors\n */\n/**\n * Styles\n */\n.gui-material .gui-select .gui-select-container {\n  font-family: Roboto, "Helvetica Neue", sans-serif;\n}'),___$insertStyle("/**\n * Styles\n */\n.gui-dark .gui-select .gui-select-container {\n  background: #424242;\n  border-color: #616161;\n  color: #BDBDBD;\n}\n.gui-dark .gui-select .gui-select-container:hover {\n  border-color: #CE93D8;\n}\n.gui-dark .gui-select .gui-select-container .gui-select-arrow {\n  border-color: #CE93D8 transparent transparent transparent;\n}\n.gui-dark .gui-select .gui-select-container .gui-options {\n  border-color: #CE93D8;\n}\n.gui-dark .gui-select .gui-select-container .gui-options .gui-option {\n  border-color: #757575;\n}\n.gui-dark .gui-select .gui-select-container .gui-options .gui-option:hover {\n  background: #616161;\n}\n.gui-dark .gui-select.gui-options-opened .gui-select-container {\n  border-color: #CE93D8;\n}\n.gui-dark .gui-select.gui-upward .gui-select-container .gui-select-arrow {\n  border-color: transparent transparent #CE93D8 transparent;\n}\n.gui-dark .gui-select .gui-selected-option {\n  background: #757575;\n}\n.gui-dark .gui-select .gui-disabled {\n  opacity: 0.36;\n}");var lp=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},gp=function(){function FabricSelectModule(){}return FabricSelectModule=lp([s({imports:[S],declarations:[pp],exports:[pp]})],FabricSelectModule)}(),dp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),fp=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},hp=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},yp=function(e){function FabricSpinnerComponent(t,n){return e.call(this,t,n)||this}return dp(FabricSpinnerComponent,e),FabricSpinnerComponent.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this)},fp([t(),hp("design:type",String)],FabricSpinnerComponent.prototype,"color",void 0),FabricSpinnerComponent=fp([i({selector:"gui-spinner",template:'<div\n\t[style.width.px]="circleSize"\n\t[style.height.px]="circleSize"\n\tclass="gui-spinner">\n\t<svg\n\t\t[style.width.px]="circleSize"\n\t\t[style.height.px]="circleSize"\n\t\tclass="circle-outer">\n\t\t<circle\n\t\t\t[style.stroke-dashoffset]="circumference"\n\t\t\t[style.stroke-dasharray]="croppedCircle"\n\t\t\t[style.stroke-width]="width"\n\t\t\t[style.stroke]="color"\n\t\t\t[attr.r]="r"\n\t\t\tcx="50%"\n\t\t\tcy="50%">\n\t\t</circle>\n\t</svg>\n\t<svg\n\t\t[style.width.px]="circleSize"\n\t\t[style.height.px]="circleSize"\n\t\tclass="circle-inner">\n\t\t<circle\n\t\t\t[style.stroke-dashoffset]="circumference"\n\t\t\t[style.stroke-dasharray]="croppedCircle"\n\t\t\t[style.stroke-width]="width"\n\t\t\t[style.stroke]="color"\n\t\t\t[attr.r]="r"\n\t\t\tcx="50%"\n\t\t\tcy="50%">\n\t\t</circle>\n\t</svg>\n</div>\n',changeDetection:h.OnPush,encapsulation:y.None}),hp("design:paramtypes",[c,m])],FabricSpinnerComponent)}(Ms);___$insertStyle("/**\n * Colors\n */\n/**\n * Styles\n */\n/**\n * Colors\n */\n/**\n * Styles\n */\n@-webkit-keyframes gui-spin {\n  from {\n    -webkit-transform: rotate(-90deg);\n            transform: rotate(-90deg);\n  }\n  to {\n    -webkit-transform: rotate(270deg);\n            transform: rotate(270deg);\n  }\n}\n@keyframes gui-spin {\n  from {\n    -webkit-transform: rotate(-90deg);\n            transform: rotate(-90deg);\n  }\n  to {\n    -webkit-transform: rotate(270deg);\n            transform: rotate(270deg);\n  }\n}\n@-webkit-keyframes gui-spin-reverse {\n  from {\n    -webkit-transform: rotate(-90deg) scale(0.8);\n            transform: rotate(-90deg) scale(0.8);\n  }\n  to {\n    -webkit-transform: rotate(270deg) scale(0.8);\n            transform: rotate(270deg) scale(0.8);\n  }\n}\n@keyframes gui-spin-reverse {\n  from {\n    -webkit-transform: rotate(-90deg) scale(0.8);\n            transform: rotate(-90deg) scale(0.8);\n  }\n  to {\n    -webkit-transform: rotate(270deg) scale(0.8);\n            transform: rotate(270deg) scale(0.8);\n  }\n}\n.gui-spinner {\n  display: inline-block;\n  position: relative;\n  margin: 4px;\n  -webkit-transform: rotate(-90deg);\n          transform: rotate(-90deg);\n}\n.gui-spinner circle {\n  fill: transparent;\n  stroke: #999;\n}\n.gui-spinner svg {\n  position: absolute;\n}\n.gui-spinner .circle-inner {\n  animation: gui-spin-reverse 2s infinite linear forwards reverse;\n}\n.gui-spinner .circle-outer {\n  -webkit-animation: gui-spin 2s infinite linear forwards;\n          animation: gui-spin 2s infinite linear forwards;\n}\n.gui-primary .gui-spinner.gui-spinner circle {\n  stroke: #2185d0;\n}\n.gui-secondary .gui-spinner.gui-spinner circle {\n  stroke: #3cb371;\n}"),___$insertStyle("/**\n * Colors\n */\n/**\n * Styles\n */\n.gui-material .gui-spinner circle {\n  stroke: #3949AB;\n}\n.gui-material .gui-primary .gui-spinner circle {\n  stroke: #6200ee;\n}\n.gui-material .gui-secondary .gui-spinner circle {\n  stroke: #0097A7;\n}"),___$insertStyle("/**\n * Styles\n */\n.gui-dark .gui-spinner circle {\n  stroke: #424242;\n}\n.gui-dark .gui-primary .gui-spinner circle {\n  stroke: #CE93D8;\n}\n.gui-dark .gui-secondary .gui-spinner circle {\n  stroke: #80CBC4;\n}");var mp=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},bp=function(){function FabricSpinnerModule(){}return FabricSpinnerModule=mp([s({imports:[S],declarations:[yp],exports:[yp]})],FabricSpinnerModule)}(),vp=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Cp=function(){function ToggleButtonGroupService(){this.toggleButtonId$=new R}return ToggleButtonGroupService.prototype.ngOnDestroy=function(){this.toggleButtonId$.next(),this.toggleButtonId$.complete()},ToggleButtonGroupService.prototype.observeToggledButton=function(){return this.toggleButtonId$.asObservable()},ToggleButtonGroupService.prototype.toggleButton=function(t){this.toggleButtonId$.next(t)},ToggleButtonGroupService=vp([a()],ToggleButtonGroupService)}(),_p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Sp=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Rp=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Op=function(t,e){return function(n,o){e(n,o,t)}},wp=function(o){function FabricToggleButtonComponent(t,e,r){var i=o.call(this,t,e)||this;return i.toggleButtonGroupService=r,i.checked=!1,i.disabled=!1,i.changed=new n,i.buttonChecked=!1,i.buttonId=Math.floor(1e6*Math.random()),i.generateButtonId(),i}return _p(FabricToggleButtonComponent,o),FabricToggleButtonComponent.prototype.ngOnChanges=function(t){t.checked&&this.setButtonChecked(this.checked),t.disabled&&this.toggleDisabledCssClass()},FabricToggleButtonComponent.prototype.ngOnInit=function(){this.observeToggleButtonGroup()},FabricToggleButtonComponent.prototype.tryToToggle=function(t){t.target.disabled?t.stopPropagation():this.toggle()},FabricToggleButtonComponent.prototype.toggle=function(){this.toggleButtonChecked(),this.changed.emit(this.buttonChecked)},FabricToggleButtonComponent.prototype.toggleButtonChecked=function(){this.setButtonChecked(!this.buttonChecked)},FabricToggleButtonComponent.prototype.setButtonChecked=function(t){this.buttonChecked=t,null!==this.toggleButtonGroupService&&this.toggleButtonGroupService.toggleButton(this.buttonId),this.buttonChecked?this.addClass("gui-checked"):this.removeClass("gui-checked")},FabricToggleButtonComponent.prototype.observeToggleButtonGroup=function(){var t=this;null!==this.toggleButtonGroupService&&this.toggleButtonGroupService.observeToggledButton().subscribe(function(e){e!=t.buttonId?(t.buttonChecked=!t.buttonChecked,t.removeClass("gui-checked")):t.buttonChecked=!0,t.changed.emit(t.buttonChecked)})},FabricToggleButtonComponent.prototype.generateButtonId=function(){return this.buttonId},FabricToggleButtonComponent.prototype.toggleDisabledCssClass=function(){this.disabled?this.addClass("gui-disabled"):this.removeClass("gui-disabled")},Sp([t(),Rp("design:type",Boolean)],FabricToggleButtonComponent.prototype,"checked",void 0),Sp([t(),Rp("design:type",Boolean)],FabricToggleButtonComponent.prototype,"disabled",void 0),Sp([e(),Rp("design:type",n)],FabricToggleButtonComponent.prototype,"changed",void 0),FabricToggleButtonComponent=Sp([i({selector:"gui-button-toggle",template:'<button gui-button\n\t\t[primary]="primary"\n\t\t[secondary]="secondary"\n\t\t[outline]="outline"\n\t\t[disabled]="disabled"\n\t\t(click)="tryToToggle($event)">\n\t<ng-content></ng-content>\n</button>\n',changeDetection:h.OnPush,encapsulation:y.None,host:{"[class.gui-button-toggle]":"true"}}),Op(2,p()),Rp("design:paramtypes",[c,m,Cp])],FabricToggleButtonComponent)}(er);___$insertStyle("/**\n * Colors\n */\n/**\n * Styles\n */\n.gui-checked .gui-button {\n  background: #e6e6e6;\n  box-shadow: inset 0 10px 0 -5px #999;\n  color: #333;\n}\n.gui-checked .gui-button:hover {\n  background: #cccccc;\n}\n.gui-checked .gui-button:active {\n  background: #999;\n}\n.gui-checked .gui-button.gui-outline {\n  background: transparent;\n  box-shadow: 0 0 0 2px #cccccc;\n}\n.gui-checked .gui-button.gui-outline.gui-primary {\n  background: transparent;\n  box-shadow: 0 0 0 2px #439de1;\n  color: #2185d0;\n}\n.gui-checked .gui-button.gui-outline.gui-primary:hover {\n  color: #fefdfc;\n}\n.gui-checked .gui-button.gui-outline.gui-secondary {\n  background: transparent;\n  box-shadow: 0 0 0 2px #5ac88b;\n  color: #3cb371;\n}\n.gui-checked .gui-button.gui-outline.gui-secondary:hover {\n  color: #fefdfc;\n}\n.gui-checked .gui-button.gui-primary {\n  background: #2185d0;\n  box-shadow: inset 0 10px 0 -5px #175b8e;\n  color: #fefdfc;\n}\n.gui-checked .gui-button.gui-secondary {\n  background: #3cb371;\n  box-shadow: inset 0 10px 0 -5px #2b8152;\n  color: #fefdfc;\n}\n\n.gui-disabled {\n  pointer-events: none;\n}"),___$insertStyle("/**\n * Colors\n */\n/**\n * Styles\n */\n.gui-material .gui-button {\n  background: #3949AB;\n  color: #FFFFFF;\n}\n.gui-material .gui-checked .gui-button {\n  background: #3949AB;\n  box-shadow: inset 0 10px 0 -5px #7885d2;\n  color: #FFFFFF;\n}\n.gui-material .gui-checked .gui-button:hover {\n  background: #5262c5;\n}\n.gui-material .gui-checked .gui-button:active {\n  background: #4051bf;\n}\n.gui-material .gui-checked .gui-button.gui-outline {\n  background: #C5CAE9;\n  box-shadow: 0 0 0 1px #5262c5;\n  color: #3949AB;\n}\n.gui-material .gui-checked .gui-button.gui-outline.gui-primary {\n  background: #D1C4E9;\n  box-shadow: 0 0 0 1px #6200ee;\n  color: #6200ee;\n}\n.gui-material .gui-checked .gui-button.gui-outline.gui-secondary {\n  background: #B2EBF2;\n  box-shadow: 0 0 0 1px #0097A7;\n  color: #0097A7;\n}\n.gui-material .gui-checked .gui-button.gui-primary {\n  background: #6200ee;\n  box-shadow: inset 0 10px 0 -5px #D1C4E9;\n  color: #FFFFFF;\n}\n.gui-material .gui-checked .gui-button.gui-secondary {\n  background: #0097A7;\n  box-shadow: inset 0 10px 0 -5px #B2EBF2;\n  color: #FFFFFF;\n}"),___$insertStyle("/**\n * Styles\n */\n.gui-dark .gui-button {\n  background: #424242;\n  color: #BDBDBD;\n}\n.gui-dark .gui-checked .gui-button {\n  color: #BDBDBD;\n}\n.gui-dark .gui-checked .gui-button:hover {\n  background: #616161;\n}\n.gui-dark .gui-checked .gui-button:active {\n  background: #212121;\n}\n.gui-dark .gui-checked .gui-button.gui-outline {\n  background: #212121;\n  box-shadow: 0 0 0 1px #616161;\n  color: #BDBDBD;\n}\n.gui-dark .gui-checked .gui-button.gui-outline.gui-primary {\n  background: #b55bc4;\n  box-shadow: 0 0 0 1px #CE93D8;\n  color: #212121;\n}\n.gui-dark .gui-checked .gui-button.gui-outline.gui-secondary {\n  background: #26A69A;\n  box-shadow: 0 0 0 1px #80CBC4;\n  color: #212121;\n}\n.gui-dark .gui-checked .gui-button.gui-primary {\n  background: #CE93D8;\n  box-shadow: inset 0 10px 0 -5px #b55bc4;\n  color: #212121;\n}\n.gui-dark .gui-checked .gui-button.gui-secondary {\n  background: #80CBC4;\n  box-shadow: inset 0 10px 0 -5px #26A69A;\n  color: #212121;\n}");var Pp=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},jp=function(){function FabricToggleButtonModule(){}return FabricToggleButtonModule=Pp([s({imports:[S,ar],declarations:[wp],exports:[wp,ar]})],FabricToggleButtonModule)}(),kp=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Ap=function(){function FabricToggleButtonGroupComponent(){}return FabricToggleButtonGroupComponent=kp([i({selector:"gui-toggle-button-group",template:"<ng-content></ng-content>\n",changeDetection:h.OnPush,encapsulation:y.None,host:{"[class.gui-toggle-button-group]":"true"},providers:[Cp]})],FabricToggleButtonGroupComponent)}();___$insertStyle("/**\n * Colors\n */\n/**\n * Styles\n */\n/**\n * Colors\n */\n/**\n * Styles\n */\n.gui-toggle-button-group {\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n.gui-toggle-button-group .gui-button-toggle .gui-button {\n  border-radius: 0;\n}\n.gui-toggle-button-group .gui-button-toggle:not(:last-child) .gui-button {\n  border-right: none;\n  margin: 0;\n}\n.gui-toggle-button-group .gui-button-toggle:last-child .gui-button {\n  border-radius: 0 4px 4px 0;\n}\n.gui-toggle-button-group .gui-button-toggle:first-child .gui-button {\n  border-radius: 4px 0 0 4px;\n}");var Ep,Dp=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Fp=function(){function FabricToggleButtonGroupModule(){}return FabricToggleButtonGroupModule=Dp([s({imports:[S],declarations:[Ap],exports:[Ap]})],FabricToggleButtonGroupModule)}(),Ip=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},xp=[ss,ar,ds,vs,br,dr,As,Ys,Js,ap,Bs,Qs,gp,bp,jp,Fp,Or],Bp=function(){function FabricModule(){}return FabricModule=Ip([s({imports:[S].concat(xp),exports:xp.slice(),providers:[Mu]})],FabricModule)}(),Tp=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Hp=function(){function StructurePagingModule(){}return StructurePagingModule=Tp([s({imports:[S,Bp],declarations:[os,Uu,Ju,Ku],exports:[os,Uu,Ju,Ku]})],StructurePagingModule)}(),Mp=function(){function OriginItemEntity(t,e){this.id=t,this.rawData=e}return OriginItemEntity.prototype.getData=function(){return this.rawData},OriginItemEntity}(),Lp=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},zp=function(){function EntityFactory(){}return EntityFactory.prototype.create=function(t){return Array.isArray(t)?this.createEntities(t):this.createEntity(t)},EntityFactory.prototype.createEntities=function(t){var e=this;return t.map(function(t){return e.createEntity(t)})},EntityFactory.prototype.createEntity=function(t){return new Du(t instanceof Mp?t.rawData:t)},EntityFactory=Lp([a()],EntityFactory)}(),Gp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Np=function(t){function SetSourceLoadingEvent(e){return t.call(this,e,"SetSourceLoadingEvent")||this}return Gp(SetSourceLoadingEvent,t),SetSourceLoadingEvent}(Ht),Wp=function(){return function(){}}(),Qp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Vp=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},$p=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Up=function(t){function SetSchemaCommandHandler(e,n){var o=t.call(this,Wr,Np,n)||this;return o.structureAggregateRepository=e,o}return Qp(SetSchemaCommandHandler,t),SetSchemaCommandHandler.prototype.execute=function(t){var e=t.enabled,n=t.structureId,o=this.structureAggregateRepository.getById(n);o.getSource().setLoading(e),this.structureAggregateRepository.save(o)},SetSchemaCommandHandler=Vp([a(),$p("design:paramtypes",[Wp,Wt])],SetSchemaCommandHandler)}(Ot),qp=function(){function SourceAggregate(){this.loading=!1,this.fetched=!1,this.origin=[],this.source=[]}return SourceAggregate.prototype.isLoading=function(){return this.loading},SourceAggregate.prototype.isFetched=function(){return this.fetched},SourceAggregate.prototype.getSource=function(){return this.source},SourceAggregate.prototype.setLoading=function(t){this.loading=t},SourceAggregate}(),Yp=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Kp=function(){function SourceAggregateFactory(){}return SourceAggregateFactory.prototype.createDefault=function(){return new qp},SourceAggregateFactory.prototype.create=function(){return new qp},SourceAggregateFactory=Yp([a()],SourceAggregateFactory)}(),Xp=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Zp=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Jp=function(){function SourceRepository(t){this.structureRepository=t}return SourceRepository.prototype.select=function(t){return this.structureRepository.select(t).pipe(F(function(e){return e.getId().toString()===t.toString()}),x(function(t){return t.getSchema()}))},SourceRepository=Xp([a(),Zp("design:paramtypes",[Er])],SourceRepository)}(),tl=function(){function Source(t){this.loading=t}return Source.prototype.isLoading=function(){return this.loading},Source}(),el=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},nl=function(){function SourceConverter(){}return SourceConverter.prototype.convert=function(t){return new tl(t.isLoading())},SourceConverter=el([a()],SourceConverter)}(),ol=[$r,Kp,{provide:gt,useClass:Up,multi:!0}].concat([Jp],[nl,Xr,ti]);!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NUMBER=1]="NUMBER",t[t.STRING=2]="STRING",t[t.BOOLEAN=3]="BOOLEAN"}(Ep||(Ep={}));var rl=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},il=function(){function DataTypeConverter(){}return DataTypeConverter.prototype.convert=function(t){return t===en.CHECKBOX?Ep.BOOLEAN:t===en.NUMBER?Ep.NUMBER:t===en.TEXT||t===en.ITALIC||t===en.BOLD?Ep.STRING:Ep.UNKNOWN},DataTypeConverter=rl([a()],DataTypeConverter)}(),cl=function(){function FieldId(t){this.id=t}return FieldId.prototype.getId=function(){return this.id},FieldId}(),al=function(){function FieldIdGenerator(){}return FieldIdGenerator.prototype.generateId=function(){return new cl(getUuidV4String())},FieldIdGenerator}(),ul=function(){function Field(t,e,n){this.id=t,this.accessor=e,this.dataType=n}return Field.prototype.getId=function(){return this.id},Field.prototype.getDataType=function(){return this.dataType},Field.prototype.getAccessor=function(){return this.accessor},Field}(),sl=function(){function FieldContainer(t,e){this.fieldIdGenerator=t,this.dataTypeConverter=e,this.fields=new Map}return FieldContainer.prototype.getField=function(t){return this.fields.get(t)},FieldContainer.prototype.getAllFieldIds=function(){return Array.from(this.fields.keys())},FieldContainer.prototype.getAllFields=function(){return Array.from(this.fields.values())},FieldContainer.prototype.initFields=function(t){var e=this;t.forEach(function(t){var n=new ul(e.fieldIdGenerator.generateId(),t.field,e.dataTypeConverter.convert(t.columnType));e.addField(n)})},FieldContainer.prototype.addField=function(t){this.fields.set(t.getId(),t)},FieldContainer}(),pl=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},ll=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},gl=function(){function FieldContainerFactory(t,e){this.fieldIdGenerator=t,this.dataTypeConverter=e}return FieldContainerFactory.prototype.create=function(){return new sl(this.fieldIdGenerator,this.dataTypeConverter)},FieldContainerFactory=pl([a(),ll("design:paramtypes",[al,il])],FieldContainerFactory)}(),dl=function(){function SorterId(t){this.sorterId=t}return SorterId.prototype.getId=function(){return this.sorterId},SorterId}(),fl=function(){function StructureSorter(t,e,n){this.rank=1,this.direction=!0,this.sorterId=t,this.field=e,this.direction=n}return StructureSorter.prototype.getRank=function(){return this.rank},StructureSorter.prototype.getId=function(){return this.sorterId},StructureSorter.prototype.sort=function(t){var e=this;if(0===t.length)return t;var n=t[0].getData()[this.field];return"number"==typeof n?t.sort(function(t,n){return e.sortNumber(t.getData()[e.field],n.getData()[e.field])}):t.sort(function(t,n){return e.sortString(t.getData()[e.field],n.getData()[e.field])})},StructureSorter.prototype.sortString=function(t,e){return t.localeCompare(e)},StructureSorter.prototype.sortNumber=function(t,e){return t-e},StructureSorter}(),hl=function(){function SorterContainer(){this.sorters=new Map}return SorterContainer.prototype.add=function(t){this.addSorter(new fl(new dl(getUuidV4String()),t))},SorterContainer.prototype.addSorter=function(t){this.sorters.set(t.getId(),t)},SorterContainer.prototype.delete=function(t){this.sorters.delete(t)},SorterContainer.prototype.update=function(){},SorterContainer.prototype.sort=function(t){for(var e=this.getAll(),n=t.slice(),o=0,r=e;o<r.length;o++){n=r[o].sort(n)}return n},SorterContainer.prototype.getAll=function(){return Array.from(this.sorters).map(function(t){return t[1]}).sort(function(t,e){return t.getRank()-e.getRank()}).reverse()},SorterContainer}(),yl=function(){function OriginAggregate(t){void 0===t&&(t=[]),this.entities=this.convertItems(t)}return OriginAggregate.default=function(){return new OriginAggregate([])},OriginAggregate.prototype.getEntities=function(){return this.entities},OriginAggregate.prototype.getSize=function(){return this.entities.length},OriginAggregate.prototype.convertItems=function(t){return t.map(function(t){return new Mp(getUuidV4String(),t)})},OriginAggregate}(),ml=function(){function FormationAggregate(t){this.selectedRows=t}return FormationAggregate.default=function(){return new FormationAggregate([])},FormationAggregate.prototype.getSelectedRows=function(){return this.selectedRows},FormationAggregate.prototype.toggleRow=function(t){this.selectedRows.length>0&&this.selectedRows[0]===t?this.selectedRows=[]:this.selectedRows=[t]},FormationAggregate}(),bl=function(){function ColumnHeaderEntity(t,e){this.top=t,this.bottom=e}return ColumnHeaderEntity.prototype.setHeaderTop=function(t){this.top=t},ColumnHeaderEntity.prototype.setHeaderBottom=function(t){this.bottom=t},ColumnHeaderEntity.prototype.isHeaderOnTop=function(){return this.top},ColumnHeaderEntity.prototype.isHeaderOnBottom=function(){return this.bottom},ColumnHeaderEntity}(),vl=function(){function SchemaAggregate(t,e){this.width=t,this.height=e,this.headerHeight=28,this.pagerHeight=35,this.active=!1,this.horizontalGrid=!0,this.verticalGrid=!0,this.columnHeader=new bl(!0,!1),this.theme=Sr.FABRIC,this.rowColoring=_r.EVEN,this.calculateContainerHeight()}return SchemaAggregate.default=function(){return new SchemaAggregate},SchemaAggregate.prototype.getRowColoring=function(){return this.rowColoring},SchemaAggregate.prototype.setHeight=function(t){this.height=t,this.calculateContainerHeight()},SchemaAggregate.prototype.setTheme=function(t){this.theme=t},SchemaAggregate.prototype.setRowColoring=function(t){this.rowColoring=t},SchemaAggregate.prototype.getTheme=function(){return this.theme},SchemaAggregate.prototype.getWidth=function(){return this.width},SchemaAggregate.prototype.getHeight=function(){return this.height},SchemaAggregate.prototype.getContainerHeight=function(){return this.containerHeight},SchemaAggregate.prototype.getColumnHeader=function(){return this.columnHeader},SchemaAggregate.prototype.setHeaderTop=function(t){this.getColumnHeader().setHeaderTop(t)},SchemaAggregate.prototype.setHeaderBottom=function(t){this.getColumnHeader().setHeaderBottom(t)},SchemaAggregate.prototype.setVerticalGrid=function(t){this.verticalGrid=t},SchemaAggregate.prototype.setHorizontalGrid=function(t){this.horizontalGrid=t},SchemaAggregate.prototype.isVerticalGridEnabled=function(){return this.verticalGrid},SchemaAggregate.prototype.isHorizontalGridEnabled=function(){return this.horizontalGrid},SchemaAggregate.prototype.getHeaderHeight=function(){return this.headerHeight},SchemaAggregate.prototype.getPagerHeight=function(){return this.pagerHeight},SchemaAggregate.prototype.calculateContainerHeight=function(){this.height?(this.active=!0,this.containerHeight=this.height-this.getHeaderHeight()-this.getPagerHeight()):this.active=!1},SchemaAggregate}(),Cl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),_l=function(t){function StructureAggregate(e,n,o,r,i,c){var a=t.call(this,e)||this;return a.origin=yl.default(),a.formation=ml.default(),a.schema=vl.default(),a.entities=[],a.paging=n,a.source=o,a.verticalFormation=r,a.sorterContainer=i,a.fieldContainer=c,a}return Cl(StructureAggregate,t),StructureAggregate.default=function(t,e,n,o,r,i){return new StructureAggregate(t,e,n,o,r,i)},StructureAggregate.prototype.getVerticalFormation=function(){return this.verticalFormation},StructureAggregate.prototype.getOrigin=function(){return this.origin},StructureAggregate.prototype.setOrigin=function(t){this.origin=t instanceof yl?t:new yl(t),this.calculateSource()},StructureAggregate.prototype.setHeight=function(t){this.getSchema().setHeight(t);var e=this.getSchema().getContainerHeight();this.verticalFormation.setViewportHeight(e)},StructureAggregate.prototype.setFormation=function(t){this.formation=t},StructureAggregate.prototype.setScrollPosition=function(t){this.verticalFormation.setScrollPosition(t),this.calculateSource()},StructureAggregate.prototype.getFormation=function(){return this.formation},StructureAggregate.prototype.setSchema=function(t){this.schema=t},StructureAggregate.prototype.getSchema=function(){return this.schema},StructureAggregate.prototype.getPaging=function(){return this.paging},StructureAggregate.prototype.changePaging=function(t){this.paging.change(t),this.calculateSource()},StructureAggregate.prototype.setPaging=function(t){this.paging=t,this.calculateSource()},StructureAggregate.prototype.nextPage=function(){var t=this.origin.getSize();this.paging.nextPage(t),this.calculateSource()},StructureAggregate.prototype.prevPage=function(){this.paging.prevPage(),this.calculateSource()},StructureAggregate.prototype.changePageSize=function(t){var e=this;return this.paging.changePageSize(t).forEach(function(t){e.addEvent(t)}),this.calculateSource(),this.getEvents()},StructureAggregate.prototype.getEntities=function(){return this.entities},StructureAggregate.prototype.getSource=function(){return this.source},StructureAggregate.prototype.createFields=function(t){return this.fieldContainer.initFields(t),this.fieldContainer.getAllFieldIds()},StructureAggregate.prototype.calculateSource=function(){this.origin&&this.paging&&(this.entities=this.origin.getEntities(),this.entities=this.sorterContainer.sort(this.entities),this.entities=this.paging.sample(this.entities),this.verticalFormation.setSourceSize(this.entities.length),this.calculateSourceBasedOnVirtualScroll())},StructureAggregate.prototype.calculateSourceBasedOnVirtualScroll=function(){if(this.verticalFormation.isEnabled()){var t=this.verticalFormation.getRange();this.entities=this.entities.slice(t.getStart(),t.getEnd())}},StructureAggregate}(xt),Sl=function(){function VerticalRange(t,e){this.start=t,this.end=e}return VerticalRange.prototype.getStart=function(){return this.start},VerticalRange.prototype.getEnd=function(){return this.end},VerticalRange}(),Rl=function(){function VerticalFormation(t,e,n,o,r,i,c){void 0===t&&(t=!1),void 0===e&&(e=0),void 0===n&&(n=0),void 0===o&&(o=0),this.enabled=t,this.rowHeight=26,this.hiddenItemsTop=0,this.hiddenItemsBottom=0,this.viewportHeight=e,this.sourceSize=n,this.scrollPosition=o,Number.isInteger(r)&&(this.rowHeight=r),Number.isInteger(i)&&(this.hiddenItemsTop=i),Number.isInteger(c)&&(this.hiddenItemsBottom=c),this.calculateRange()}return VerticalFormation.prototype.isEnabled=function(){return this.enabled&&this.viewportHeight>0&&this.sourceSize>0},VerticalFormation.prototype.getRange=function(){return this.range},VerticalFormation.prototype.getTopMargin=function(){return this.range.getStart()*this.rowHeight},VerticalFormation.prototype.calculateRange=function(){if(!(this.calcFullHeight()<=this.viewportHeight)){var t=Math.floor(this.viewportHeight/this.rowHeight),e=Math.floor(this.scrollPosition/this.rowHeight),n=Math.abs(e-this.hiddenItemsTop)*this.rowHeight,o=e-this.hiddenItemsTop,r=o+Math.ceil(this.viewportHeight/this.rowHeight)+this.hiddenItemsBottom;return r>this.sourceSize&&(o=(r=this.sourceSize)-t),this.range=new Sl(o,r),{start:o,end:r,topMargin:n}}this.range=new Sl(0,this.sourceSize)},VerticalFormation.prototype.setEnabled=function(t){this.enabled=t,this.enabled&&0===this.viewportHeight&&this.logger.warn("Height needs to be specified in order for virtual scroll to work."),this.calculateRange()},VerticalFormation.prototype.setSourceSize=function(t){void 0===t&&(t=0),this.sourceSize=t,this.calculateRange()},VerticalFormation.prototype.setTopHiddenItemsCount=function(t){this.hiddenItemsTop=t,this.calculateRange()},VerticalFormation.prototype.setBottomHiddenItemsCount=function(t){this.hiddenItemsBottom=t,this.calculateRange()},VerticalFormation.prototype.setScrollPosition=function(t){this.scrollPosition=t,this.calculateRange()},VerticalFormation.prototype.setViewportHeight=function(t){this.viewportHeight=t,this.calculateRange()},VerticalFormation.prototype.setRowHeight=function(t){this.rowHeight=t},VerticalFormation.prototype.setLogger=function(t){this.logger=t},VerticalFormation.prototype.calcFullHeight=function(){return this.sourceSize*this.rowHeight},VerticalFormation}(),Ol=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},wl=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Pl=function(){function VerticalFormationFactory(t){this.logger=t}return VerticalFormationFactory.prototype.create=function(t,e,n,o,r,i,c){void 0===t&&(t=!1),void 0===e&&(e=0),void 0===n&&(n=0),void 0===o&&(o=0);var a=new Rl(t,e,n,o,r,i,c);return a.setLogger(this.logger),a},VerticalFormationFactory=Ol([a(),wl("design:paramtypes",[ya])],VerticalFormationFactory)}(),jl=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},kl=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Al=function(){function StructureAggregateFactory(t,e,n,o){this.pagingAggregateFactory=t,this.sourceAggregateFactory=e,this.verticalFormationFactory=n,this.fieldContainerFactory=o}return StructureAggregateFactory.prototype.create=function(t){var e=this.pagingAggregateFactory.createDefault(),n=this.sourceAggregateFactory.createDefault(),o=this.verticalFormationFactory.create(),r=new hl,i=this.fieldContainerFactory.create();return new _l(t,e,n,o,r,i)},StructureAggregateFactory=jl([a(),kl("design:paramtypes",[va,Kp,Pl,gl])],StructureAggregateFactory)}(),El=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Dl=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Fl=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Il=function(t){function InitFieldsCommandHandler(e,n,o){var r=t.call(this,Dc)||this;return r.structureAggregateRepository=e,r.structureAggregateFactory=n,r.domainEventPublisher=o,r}return El(InitFieldsCommandHandler,t),InitFieldsCommandHandler.prototype.execute=function(t){var e=t.structureId,n=t.compositionId,o=t.columns,r=this.structureAggregateRepository.getById(e),i=r.createFields(o);this.structureAggregateRepository.save(r),this.domainEventPublisher.publish(new Ue(e,n,o,i))},InitFieldsCommandHandler=Dl([a(),Fl("design:paramtypes",[Wp,Al,Wt])],InitFieldsCommandHandler)}(Ot),xl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Bl=function(t){function StructureInitedEvent(e){return t.call(this,e,"StructureInitedEvent")||this}return xl(StructureInitedEvent,t),StructureInitedEvent}(Ht),Tl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Hl=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Ml=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ll=function(t){function InitStructureCommandHandler(e,n,o){var r=t.call(this,Ic,Bl,o)||this;return r.structureAggregateRepository=e,r.structureAggregateFactory=n,r}return Tl(InitStructureCommandHandler,t),InitStructureCommandHandler.prototype.execute=function(t){var e=t.structureId,n=this.structureAggregateFactory.create(e);this.structureAggregateRepository.save(n)},InitStructureCommandHandler=Hl([a(),Ml("design:paramtypes",[Wp,Al,Wt])],InitStructureCommandHandler)}(Ot),zl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Gl=function(t){function ScrollPositionSetEvent(e){return t.call(this,e,"ScrollPositionSetEvent")||this}return zl(ScrollPositionSetEvent,t),ScrollPositionSetEvent}(Ht),Nl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Wl=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Ql=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Vl=function(t){function SetScrollPositionCommandHandler(e,n){var o=t.call(this,Bc)||this;return o.structureAggregateRepository=e,o.domainEventPublisher=n,o}return Nl(SetScrollPositionCommandHandler,t),SetScrollPositionCommandHandler.prototype.execute=function(t){var e=t.structureId,n=t.position,o=this.structureAggregateRepository.getById(e);o.setScrollPosition(n),this.structureAggregateRepository.save(o),this.domainEventPublisher.publish(new Gl(e))},SetScrollPositionCommandHandler=Wl([a(),Ql("design:paramtypes",[Wp,Wt])],SetScrollPositionCommandHandler)}(Ot),$l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Ul=function(t){function VerticalScrollEnabledSetEvent(e){return t.call(this,e,"VerticalScrollEnabledSetEvent")||this}return $l(VerticalScrollEnabledSetEvent,t),VerticalScrollEnabledSetEvent}(Ht),ql=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Yl=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Kl=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Xl=function(t){function SetVerticalScrollEnabledCommandHandler(e,n){var o=t.call(this,Hc)||this;return o.structureAggregateRepository=e,o.domainEventPublisher=n,o}return ql(SetVerticalScrollEnabledCommandHandler,t),SetVerticalScrollEnabledCommandHandler.prototype.execute=function(t){var e=t.structureId,n=t.enabled,o=this.structureAggregateRepository.getById(e);o.getVerticalFormation().setEnabled(n),this.structureAggregateRepository.save(o),this.domainEventPublisher.publish(new Ul(e))},SetVerticalScrollEnabledCommandHandler=Yl([a(),Kl("design:paramtypes",[Wp,Wt])],SetVerticalScrollEnabledCommandHandler)}(Ot),Zl=function(){function VerticalFormationReadModel(t,e,n){this.enabled=t,this.topMargin=e,this.containerHeight=n}return VerticalFormationReadModel.prototype.isEnabled=function(){return this.enabled},VerticalFormationReadModel.prototype.getTopMargin=function(){return this.topMargin},VerticalFormationReadModel.prototype.getContainerHeight=function(){return this.containerHeight},VerticalFormationReadModel}(),Jl=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},tg=function(){function VerticalFormationConverter(){}return VerticalFormationConverter.prototype.convert=function(t){var e=t.isEnabled(),n=t.getTopMargin(),o=t.calcFullHeight();return new Zl(e,n,o)},VerticalFormationConverter=Jl([a()],VerticalFormationConverter)}(),eg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),ng=function(t){function Structure(e,n,o,r,i,c,a,u){var s=t.call(this,e)||this;return s.origin=n,s.formation=o,s.schema=r,s.paging=i,s.entities=c,s.source=a,s.verticalFormation=u,s}return eg(Structure,t),Structure.prototype.getOrigin=function(){return this.origin},Structure.prototype.getFormation=function(){return this.formation},Structure.prototype.getSchema=function(){return this.schema},Structure.prototype.getPaging=function(){return this.paging},Structure.prototype.getEntities=function(){return this.entities},Structure.prototype.getSource=function(){return this.source},Structure.prototype.getSelectedEntities=function(){var t=this.formation.getSelectedRows().getIds();return this.entities.filter(function(e){return t.some(function(t){return e.equalsById(t)})})},Structure.prototype.getTopMargin=function(){return this.verticalFormation.getTopMargin()},Structure.prototype.getContainerHeight=function(){return this.verticalFormation.getContainerHeight()},Structure.prototype.isLoaderVisible=function(){return this.getSchema().getHeight()>150&&this.getSource().isLoading()},Structure.prototype.isTopHeaderEnabled=function(){return this.schema.getColumnHeader().isTopHeaderEnabled()},Structure.prototype.isBottomHeaderEnabled=function(){return this.schema.getColumnHeader().isBottomHeaderEnabled()},Structure.prototype.isReadyToDisplay=function(){return this.entities.length>0},Structure.prototype.isVerticalScrollEnabled=function(){return this.verticalFormation.isEnabled()},Structure}(Yt),og=function(){return function(t){this.entities=t}}(),rg=function(){return function(t){this.data=null,this.data=t}}(),ig=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},cg=function(){function OriginConverter(){}return OriginConverter.prototype.convert=function(t){var e=this.convertEntities(t.getEntities());return new og(e)},OriginConverter.prototype.convertEntities=function(t){return t.map(function(t){return new rg(t.rawData)})},OriginConverter=ig([a()],OriginConverter)}(),ag=function(){function SelectedRowsList(t){this.rowIds=t}return SelectedRowsList.prototype.isRowSelected=function(t){return!!this.rowIds.find(function(e){return t.equalsById(e)})},SelectedRowsList.prototype.getIds=function(){return this.rowIds},SelectedRowsList}(),ug=function(){function Formation(t){this.selectedRowsList=new ag(t)}return Formation.prototype.getSelectedRows=function(){return this.selectedRowsList},Formation}(),sg=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},pg=function(){function FormationConverter(){}return FormationConverter.prototype.convert=function(t){var e=t.getSelectedRows();return new ug(e)},FormationConverter=sg([a()],FormationConverter)}(),lg=function(){function SchemaCssClass(t,e,n,o){this.verticalGrid=t,this.horizontalGrid=e,this.theme=n,this.rowColoring=o}return SchemaCssClass.prototype.getRowColoring=function(){return this.rowColoring},SchemaCssClass}(),gg=function(){function Schema(t,e,n,o,r,i,c,a){this.width=t,this.height=e,this.containerHeight=n,this.verticalGridEnabled=o,this.horizontalGridEnabled=r,this.theme=i,this.columnHeader=c,this.rowColoring=a}return Schema.prototype.getRowColoring=function(){return this.rowColoring},Schema.prototype.getTheme=function(){return this.theme},Schema.prototype.getHeight=function(){return this.height},Schema.prototype.getContainerHeight=function(){return this.containerHeight},Schema.prototype.getWidth=function(){return this.width},Schema.prototype.isVerticalGridEnabled=function(){return this.verticalGridEnabled},Schema.prototype.isHorizontalGridEnabled=function(){return this.horizontalGridEnabled},Schema.prototype.getColumnHeader=function(){return this.columnHeader},Schema.prototype.getCssClasses=function(){return new lg(this.isVerticalGridEnabled(),this.isHorizontalGridEnabled(),this.getTheme(),this.getRowColoring())},Schema}(),dg=function(){function SchemaColumnHeader(t,e){this.top=t,this.bottom=e}return SchemaColumnHeader.prototype.isTopHeaderEnabled=function(){return this.top},SchemaColumnHeader.prototype.isBottomHeaderEnabled=function(){return this.bottom},SchemaColumnHeader}(),fg=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},hg=function(){function SchemaConverter(){}return SchemaConverter.prototype.convert=function(t){var e=t.getColumnHeader();return new gg(t.getWidth(),t.getHeight(),t.getContainerHeight(),t.isVerticalGridEnabled(),t.isHorizontalGridEnabled(),t.getTheme(),this.convertColumnHeader(e),t.getRowColoring())},SchemaConverter.prototype.convertColumnHeader=function(t){return new dg(t.isHeaderOnTop(),t.isHeaderOnBottom())},SchemaConverter=fg([a()],SchemaConverter)}(),yg=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},mg=function(){function PagingConverter(){}return PagingConverter.prototype.convert=function(t){return new Qu(t.isEnabled(),t.getPage(),t.getPageSize(),t.getPageSizes(),t.isPagerTop(),t.isPagerBottom())},PagingConverter=yg([a()],PagingConverter)}(),bg=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},vg=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Cg=function(){function StructureConverter(t,e,n,o,r,i){this.originConverter=t,this.formationConverter=e,this.schemaConverter=n,this.pagingConverter=o,this.sourceConverter=r,this.verticalFormationConverter=i}return StructureConverter.prototype.convert=function(t){var e=t.getOrigin(),n=t.getFormation(),o=t.getSchema(),r=t.getPaging(),i=t.getEntities(),c=t.getSource(),a=t.getVerticalFormation();return new ng(t.getId(),this.originConverter.convert(e),this.formationConverter.convert(n),this.schemaConverter.convert(o),this.pagingConverter.convert(r),this.convertSource(i),this.sourceConverter.convert(c),this.verticalFormationConverter.convert(a))},StructureConverter.prototype.convertSource=function(t){return t.map(function(t){return new Du(t.rawData,t.id)})},StructureConverter=bg([a(),vg("design:paramtypes",[cg,pg,hg,mg,nl,tg])],StructureConverter)}(),_g=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Sg=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Rg=function(t){function InMemoryStructureStore(){return null!==t&&t.apply(this,arguments)||this}return _g(InMemoryStructureStore,t),InMemoryStructureStore=Sg([a()],InMemoryStructureStore)}(ce),Og=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),wg=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Pg=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},jg=function(t){function InMemoryStructureAggregateStore(e,n){return t.call(this,e,n)||this}return Og(InMemoryStructureAggregateStore,t),InMemoryStructureAggregateStore=wg([a(),Pg("design:paramtypes",[Rg,It])],InMemoryStructureAggregateStore)}(oe),kg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Ag=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Eg=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Dg=function(t){function InMemoryStructureAggregateRepository(e){var n=t.call(this)||this;return n.inMemoryStructureAggregateStore=e,n}return kg(InMemoryStructureAggregateRepository,t),InMemoryStructureAggregateRepository.prototype.getById=function(t){return this.inMemoryStructureAggregateStore.getById(t)},InMemoryStructureAggregateRepository.prototype.save=function(t){this.inMemoryStructureAggregateStore.save(t)},InMemoryStructureAggregateRepository=Ag([a(),Eg("design:paramtypes",[jg])],InMemoryStructureAggregateRepository)}(Wp),Fg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Ig=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},xg=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Bg=function(t){function InMemoryStructureQueryStore(e,n){var o=t.call(this,e)||this;return o.inMemoryProjectStore=e,o.structureConverter=n,o}return Fg(InMemoryStructureQueryStore,t),InMemoryStructureQueryStore.prototype.toReadModel=function(t){return this.structureConverter.convert(t)},InMemoryStructureQueryStore=Ig([a(),xg("design:paramtypes",[Rg,Cg])],InMemoryStructureQueryStore)}(ie),Tg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Hg=function(t){function FormationSetEvent(e){return t.call(this,e,"FormationSetEvent")||this}return Tg(FormationSetEvent,t),FormationSetEvent}(Ht),Mg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Lg=function(t){function OriginSetEvent(e){return t.call(this,e,"OriginSetEvent")||this}return Mg(OriginSetEvent,t),OriginSetEvent}(Ht),zg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Gg=function(t){function PagingSetEvent(e){return t.call(this,e,"PagingSetEvent")||this}return zg(PagingSetEvent,t),PagingSetEvent}(Ht),Ng=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Wg=function(t){function RowColoringSetEvent(e){return t.call(this,e,"RowColoringSetEvent")||this}return Ng(RowColoringSetEvent,t),RowColoringSetEvent}(Ht),Qg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Vg=function(t){function SchemaBottomHeaderChangedEvent(e){return t.call(this,e,"SchemaBottomHeaderChangedEvent")||this}return Qg(SchemaBottomHeaderChangedEvent,t),SchemaBottomHeaderChangedEvent}(Ht),$g=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Ug=function(t){function SchemaTopHeaderChangedEvent(e){return t.call(this,e,"SchemaTopHeaderChangedEvent")||this}return $g(SchemaTopHeaderChangedEvent,t),SchemaTopHeaderChangedEvent}(Ht),qg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Yg=function(t){function SchemaHorizontalGridSetEvent(e){return t.call(this,e,"SchemaHorizontalGridSetEvent")||this}return qg(SchemaHorizontalGridSetEvent,t),SchemaHorizontalGridSetEvent}(Ht),Kg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Xg=function(t){function SchemaVerticalGridSetEvent(e){return t.call(this,e,"SchemaVerticalGridSetEvent")||this}return Kg(SchemaVerticalGridSetEvent,t),SchemaVerticalGridSetEvent}(Ht),Zg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Jg=function(t){function SchemaSetEvent(e){return t.call(this,e,"SchemaSetEvent")||this}return Zg(SchemaSetEvent,t),SchemaSetEvent}(Ht),td=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),ed=function(t){function SchemaThemeSetEvent(e){return t.call(this,e,"SchemaThemeSetEvent")||this}return td(SchemaThemeSetEvent,t),SchemaThemeSetEvent}(Ht),nd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),od=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},rd=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},id=function(t){function InMemoryStructureRepository(e,n){var o=t.call(this)||this;return o.domainEventBus=e,o.inMemoryStructureQueryStore=n,o.structureIdToStructure=new Map,o.structure$=new k(1),o.unsubscribe$=new R,o.domainEventBus.ofEvent(Bl,Np,Jg,ed,Yg,Xg,Ug,Vg,Wg,Gg,su,iu,ou,Lg,Hg,Mr,Ul,Gl).pipe(I(o.unsubscribe$)).subscribe(function(t){var e=t.aggregateId,n=o.inMemoryStructureQueryStore.getById(e),r=n.getId().toString();o.structureIdToStructure.set(r,n),o.structure$.next(o.structureIdToStructure)}),o}return nd(InMemoryStructureRepository,t),InMemoryStructureRepository.prototype.select=function(t){return this.structure$.asObservable().pipe(F(function(e){var n=t.getId();return e.has(n)}),x(function(e){return e.get(t.getId())}))},InMemoryStructureRepository.prototype.ngOnDestroy=function(){this.unsubscribe$.next(),this.unsubscribe$.complete()},InMemoryStructureRepository=od([a(),rd("design:paramtypes",[$t,Bg])],InMemoryStructureRepository)}(Er),cd=[jg,{provide:Wp,useClass:Dg}],ad=[Bg,{provide:Er,useClass:id}],ud=[Rg],sd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),pd=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},ld=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},gd=function(t){function SetOriginCommandHandler(e,n){var o=t.call(this,oc,Lg,n)||this;return o.structureAggregateRepository=e,o}return sd(SetOriginCommandHandler,t),SetOriginCommandHandler.prototype.execute=function(t){var e=t.structureId,n=t.items,o=this.structureAggregateRepository.getById(e);o?(o.setOrigin(n),this.structureAggregateRepository.save(o)):console.error("There is no aggregate 'Structure' for aggregateId: "+e)},SetOriginCommandHandler=pd([a(),ld("design:paramtypes",[Wp,Wt])],SetOriginCommandHandler)}(Ot),dd=[cc,{provide:gt,useClass:gd,multi:!0}].concat([Zi],[sc,ec,cg]),fd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),hd=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},yd=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},md=function(t){function SetPagingCommandHandler(e,n){var o=t.call(this,lc,Gg,n)||this;return o.structureAggregateRepository=e,o}return fd(SetPagingCommandHandler,t),SetPagingCommandHandler.prototype.execute=function(t){var e=t.payload,n=t.structureId,o=this.structureAggregateRepository.getById(n);o.changePaging(e),this.structureAggregateRepository.save(o)},SetPagingCommandHandler=hd([a(),yd("design:paramtypes",[Wp,Wt])],SetPagingCommandHandler)}(Ot),bd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),vd=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Cd=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},_d=function(t){function NextPageCommandHandler(e,n){var o=t.call(this,hc,iu,n)||this;return o.structureAggregateRepository=e,o}return bd(NextPageCommandHandler,t),NextPageCommandHandler.prototype.execute=function(t){var e=t.structureId,n=this.structureAggregateRepository.getById(e);n.nextPage(),this.structureAggregateRepository.save(n)},NextPageCommandHandler=vd([a(),Cd("design:paramtypes",[Wp,Wt])],NextPageCommandHandler)}(Ot),Sd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Rd=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Od=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},wd=function(t){function PrevPageCommandHandler(e,n){var o=t.call(this,mc,su,n)||this;return o.structureAggregateRepository=e,o}return Sd(PrevPageCommandHandler,t),PrevPageCommandHandler.prototype.execute=function(t){var e=t.structureId,n=this.structureAggregateRepository.getById(e);n.prevPage(),this.structureAggregateRepository.save(n)},PrevPageCommandHandler=Rd([a(),Od("design:paramtypes",[Wp,Wt])],PrevPageCommandHandler)}(Ot),Pd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),jd=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},kd=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ad=function(t){function ChangePagesizeCommandHandler(e,n){var o=t.call(this,dc)||this;return o.structureAggregateRepository=e,o.domainEventPublisher=n,o}return Pd(ChangePagesizeCommandHandler,t),ChangePagesizeCommandHandler.prototype.execute=function(t){var e=t.pageSize,n=t.structureId,o=this.structureAggregateRepository.getById(n),r=o.changePageSize(e);this.structureAggregateRepository.save(o),r.forEach(function(t){t.aggregateId=n}),this.publishAggregateEvents(r,t)},ChangePagesizeCommandHandler.prototype.publishAggregateEvents=function(t,e){for(var n=0,o=t;n<o.length;n++){var r=o[n];this.publishAggregateEvent(r,e)}},ChangePagesizeCommandHandler.prototype.publishAggregateEvent=function(t,e){switch(t.getType()){case"PageChangedAggregateEvent":var n=new au(e.getAggregateId());this.domainEventPublisher.publish(n);break;case"PagesizeChangedAggregateEvent":var o=new ou(e.getAggregateId());this.domainEventPublisher.publish(o)}},ChangePagesizeCommandHandler=jd([a(),kd("design:paramtypes",[Wp,Wt])],ChangePagesizeCommandHandler)}(Ot),Ed=[Cc,{provide:gt,useClass:md,multi:!0},{provide:gt,useClass:_d,multi:!0},{provide:gt,useClass:wd,multi:!0},{provide:gt,useClass:Ad,multi:!0}].concat([Pc],[va,mg,Rc,Ac,gu]),Dd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Fd=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Id=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},xd=function(t){function SetRowColoringCommandHandler(e,n){var o=t.call(this,wi,Wg,n)||this;return o.structureAggregateRepository=e,o}return Dd(SetRowColoringCommandHandler,t),SetRowColoringCommandHandler.prototype.execute=function(t){var e=t.coloring,n=t.structureId,o=this.structureAggregateRepository.getById(n);o.getSchema().setRowColoring(e),this.structureAggregateRepository.save(o)},SetRowColoringCommandHandler=Fd([a(),Id("design:paramtypes",[Wp,Wt])],SetRowColoringCommandHandler)}(Ot),Bd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Td=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Hd=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Md=function(t){function SetSchemaCommandHandler(e,n){var o=t.call(this,ji,Jg,n)||this;return o.structureAggregateRepository=e,o}return Bd(SetSchemaCommandHandler,t),SetSchemaCommandHandler.prototype.execute=function(t){var e=t.height,n=t.structureId,o=this.structureAggregateRepository.getById(n);o.setHeight(e),this.structureAggregateRepository.save(o)},SetSchemaCommandHandler=Td([a(),Hd("design:paramtypes",[Wp,Wt])],SetSchemaCommandHandler)}(Ot),Ld=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),zd=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Gd=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Nd=function(t){function SetSchemaVerticalGridCommandHandler(e,n){var o=t.call(this,Ai,Xg,n)||this;return o.structureAggregateRepository=e,o}return Ld(SetSchemaVerticalGridCommandHandler,t),SetSchemaVerticalGridCommandHandler.prototype.execute=function(t){var e=t.enabled,n=t.structureId,o=this.structureAggregateRepository.getById(n);o.getSchema().setVerticalGrid(e),this.structureAggregateRepository.save(o)},SetSchemaVerticalGridCommandHandler=zd([a(),Gd("design:paramtypes",[Wp,Wt])],SetSchemaVerticalGridCommandHandler)}(Ot),Wd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Qd=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Vd=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},$d=function(t){function SetSchemaHorizontalGridCommandHandler(e,n){var o=t.call(this,Di,Yg,n)||this;return o.structureAggregateRepository=e,o}return Wd(SetSchemaHorizontalGridCommandHandler,t),SetSchemaHorizontalGridCommandHandler.prototype.execute=function(t){var e=t.enabled,n=t.structureId,o=this.structureAggregateRepository.getById(n);o.getSchema().setHorizontalGrid(e),this.structureAggregateRepository.save(o)},SetSchemaHorizontalGridCommandHandler=Qd([a(),Vd("design:paramtypes",[Wp,Wt])],SetSchemaHorizontalGridCommandHandler)}(Ot),Ud=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),qd=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Yd=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Kd=function(t){function SetSchemaThemeCommandHandler(e,n){var o=t.call(this,Ii,ed,n)||this;return o.structureAggregateRepository=e,o}return Ud(SetSchemaThemeCommandHandler,t),SetSchemaThemeCommandHandler.prototype.execute=function(t){var e=t.theme,n=t.structureId,o=this.structureAggregateRepository.getById(n);o.getSchema().setTheme(e),this.structureAggregateRepository.save(o)},SetSchemaThemeCommandHandler=qd([a(),Yd("design:paramtypes",[Wp,Wt])],SetSchemaThemeCommandHandler)}(Ot),Xd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),Zd=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Jd=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},tf=function(t){function ChangeSchemaBottomHeaderCommandHandler(e,n){var o=t.call(this,Hi,Vg,n)||this;return o.structureAggregateRepository=e,o}return Xd(ChangeSchemaBottomHeaderCommandHandler,t),ChangeSchemaBottomHeaderCommandHandler.prototype.execute=function(t){var e=t.enabled,n=t.structureId,o=this.structureAggregateRepository.getById(n);o.getSchema().setHeaderBottom(e),this.structureAggregateRepository.save(o)},ChangeSchemaBottomHeaderCommandHandler=Zd([a(),Jd("design:paramtypes",[Wp,Wt])],ChangeSchemaBottomHeaderCommandHandler)}(Ot),ef=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),nf=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},of=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},rf=function(t){function ChangeSchemaTopHeaderCommandHandler(e,n){var o=t.call(this,Bi,Ug,n)||this;return o.structureAggregateRepository=e,o}return ef(ChangeSchemaTopHeaderCommandHandler,t),ChangeSchemaTopHeaderCommandHandler.prototype.execute=function(t){var e=t.enabled,n=t.structureId,o=this.structureAggregateRepository.getById(n);o.getSchema().setHeaderTop(e),this.structureAggregateRepository.save(o)},ChangeSchemaTopHeaderCommandHandler=nf([a(),of("design:paramtypes",[Wp,Wt])],ChangeSchemaTopHeaderCommandHandler)}(Ot),cf=[zi,{provide:gt,useClass:Md,multi:!0},{provide:gt,useClass:Nd,multi:!0},{provide:gt,useClass:$d,multi:!0},{provide:gt,useClass:Kd,multi:!0},{provide:gt,useClass:tf,multi:!0},{provide:gt,useClass:rf,multi:!0},{provide:gt,useClass:xd,multi:!0}].concat([Wi],[hg,Yi,$i]),af=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),uf=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},sf=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},pf=function(t){function ToggleSelectedRowCommandHandler(e,n){var o=t.call(this,si,Mr,n)||this;return o.structureAggregateRepository=e,o}return af(ToggleSelectedRowCommandHandler,t),ToggleSelectedRowCommandHandler.prototype.execute=function(t){var e=t.selectedRow,n=t.structureId,o=this.structureAggregateRepository.getById(n);o?(o.getFormation().toggleRow(e),this.structureAggregateRepository.save(o)):console.error("There is no aggregate 'Structure' for aggregateId: "+n)},ToggleSelectedRowCommandHandler=uf([a(),sf("design:paramtypes",[Wp,Wt])],ToggleSelectedRowCommandHandler)}(Ot),lf=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),gf=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},df=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ff=function(t){function SetFormationCommandHandler(e,n){var o=t.call(this,li,Hg,n)||this;return o.structureAggregateRepository=e,o}return lf(SetFormationCommandHandler,t),SetFormationCommandHandler.prototype.execute=function(t){t.payload;var e=t.structureId,n=this.structureAggregateRepository.getById(e);this.structureAggregateRepository.save(n)},SetFormationCommandHandler=gf([a(),df("design:paramtypes",[Wp,Wt])],SetFormationCommandHandler)}(Ot),hf=[fi,{provide:gt,useClass:ff,multi:!0},{provide:gt,useClass:pf,multi:!0}].concat([Ci],[Gr,pg,mi,Ri]),yf=cd.concat([{provide:gt,useClass:Ll,multi:!0},{provide:gt,useClass:Xl,multi:!0},{provide:gt,useClass:Vl,multi:!0},{provide:gt,useClass:Il,multi:!0},Pl,gl,al,il]),mf=ad.concat([tg]),bf=ud.concat(yf,mf,[Al,Cg,Tr,zc],dd,Ed,cf,hf,ol),vf=[ss,ar,ds,br,dr,Ys,Js,Bs,Qs,gp,bp,jp,Or],Cf=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function __(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),_f=function(t){function ConsoleLogger(){return null!==t&&t.apply(this,arguments)||this}return Cf(ConsoleLogger,t),ConsoleLogger.prototype.warn=function(t){console.warn(t)},ConsoleLogger.prototype.error=function(t){console.error(t)},ConsoleLogger}(ya),Sf=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Rf=function(){function LoggerModule(){}return LoggerModule=Sf([s({providers:[{provide:ya,useClass:_f}]})],LoggerModule)}();___$insertStyle(".gui-bold {\n  font-weight: bold;\n}\n\n.gui-italic {\n  font-style: italic;\n}"),___$insertStyle(".gui-header {\n  background: #f4f5f6;\n  border-bottom: 1px solid #ccc;\n  height: 26px;\n}\n.gui-header .gui-header-cell {\n  border-right: 1px solid #ccc;\n  box-sizing: border-box;\n  overflow: hidden;\n  padding: 6px 6px;\n  white-space: nowrap;\n}\n.gui-header .gui-header-cell:last-of-type {\n  border-right: 0;\n}\n\n.gui-header-bottom .gui-header {\n  border-bottom: 0;\n  border-top: 1px solid #ccc;\n}\n\ngui-structure {\n  background: #fff;\n  box-sizing: border-box;\n  color: #333;\n  display: block;\n  font-family: Arial;\n  font-size: 13px;\n  position: relative;\n}\ngui-structure gui-structure-header {\n  display: block;\n  height: 100%;\n  width: 100%;\n}\n\ngui-structure-container {\n  display: block;\n  height: 100%;\n  overflow: auto;\n  overflow-x: hidden;\n  position: relative;\n  width: 100%;\n}\ngui-structure-container .gui-structure-container {\n  box-sizing: border-box;\n  height: 100%;\n  position: absolute;\n  width: 100%;\n}\ngui-structure-container .gui-structure-container .gui-content {\n  height: 100%;\n  position: relative;\n}\ngui-structure-container .gui-structure-container .gui-content .gui-row {\n  height: 26px;\n  position: absolute;\n  width: 100%;\n}\ngui-structure-container .gui-structure-container .gui-content .gui-row:hover {\n  background: #f7f8f9;\n}\ngui-structure-container .gui-structure-container .gui-content .gui-row.selected {\n  background: #7cb9f652;\n}\ngui-structure-container .gui-structure-container .gui-content .gui-row .gui-cell {\n  border-right: 1px solid transparent;\n  box-sizing: border-box;\n  overflow: hidden;\n  padding: 6px 6px;\n  white-space: nowrap;\n}\ngui-structure-container .gui-structure-container .gui-content .gui-row .gui-cell .gui-button {\n  padding: 0;\n}\ngui-structure-container .gui-structure-container .gui-content .gui-row .gui-cell .gui-checkbox {\n  position: absolute;\n  top: 4px;\n  line-height: 0;\n}\ngui-structure-container .gui-structure-container .gui-content .gui-row .gui-cell .gui-chip {\n  box-sizing: border-box;\n  position: absolute;\n  top: 3px;\n  font-size: 13px;\n  line-height: 16px;\n}\ngui-structure-container .gui-structure-container .gui-content .gui-row .gui-cell .gui-badge {\n  padding: 0;\n}\ngui-structure-container .gui-structure-container .gui-content .gui-row .gui-cell .gui-input {\n  background: transparent;\n  font-size: 13px;\n  border-style: none;\n  border-radius: 0;\n  padding: 0;\n}\n\n.gui-vertical-grid gui-structure-container .gui-content .gui-row .gui-cell {\n  border-right: 1px solid #ccc;\n}\n.gui-vertical-grid gui-structure-container .gui-content .gui-row .gui-cell:last-of-type {\n  border-right: 0;\n}\n\n.gui-horizontal-grid gui-structure-container .gui-row .gui-cell {\n  border-bottom: 1px solid #ccc;\n}\n.gui-horizontal-grid gui-structure-container .gui-row:last-of-type .gui-cell {\n  border-bottom: 0;\n}\n\n.gui-rows-odd .gui-row:nth-child(odd) {\n  background: #f5f6f7;\n}\n\n.gui-rows-even .gui-row:nth-child(even) {\n  background: #f5f6f7;\n}\n\ngui-structure-paging {\n  display: flex;\n  justify-content: flex-end;\n  padding: 4px;\n}\ngui-structure-paging > * {\n  padding-left: 16px;\n}\ngui-structure-paging gui-structure-paging-select span {\n  display: inline-block;\n  margin: 2px 6px 0 0;\n}\ngui-structure-paging gui-structure-paging-navigator button {\n  margin-right: 6px;\n}\ngui-structure-paging gui-structure-paging-navigator button:last-of-type {\n  margin-right: 0;\n}\ngui-structure-paging gui-structure-paging-stats {\n  padding: 9.6px 0 9.6px 16px;\n}\ngui-structure-paging gui-structure-paging-stats span {\n  display: inline-block;\n  margin: 0 2px 0 0;\n}\ngui-structure-paging.gui-structure-paging-bottom {\n  border-top: 1px solid #ccc;\n}\ngui-structure-paging.gui-structure-paging-top {\n  border-bottom: 1px solid #ccc;\n}\n\n.gui-structure-border {\n  border: 1px solid #ccc;\n}\n\n@-webkit-keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n@-webkit-keyframes fadeOut {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n@keyframes fadeOut {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n.gui-loading {\n  -webkit-animation-duration: 0.2s;\n          animation-duration: 0.2s;\n  align-content: center;\n  background: rgba(255, 255, 255, 0.8);\n  border: 1px solid transparent;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  left: 0;\n  opacity: 0;\n  position: absolute;\n  top: 0;\n  width: 100%;\n  visibility: hidden;\n}\n.gui-loading gui-spinner {\n  align-self: center;\n}\n.gui-loading.gui-loader-hidden {\n  -webkit-animation-name: fadeOut;\n          animation-name: fadeOut;\n  opacity: 0;\n  visibility: visible;\n  z-index: -1;\n}\n.gui-loading.gui-loader-visible {\n  -webkit-animation-name: fadeIn;\n          animation-name: fadeIn;\n  opacity: 1;\n  visibility: visible;\n  z-index: 1;\n}"),___$insertStyle(".gui-header {\n  display: flex;\n}\n.gui-header .gui-header-cell {\n  display: inline-block;\n}\n\n.gui-content {\n  display: flex;\n  flex-direction: column;\n}\n.gui-content .gui-row {\n  display: flex;\n}\n.gui-content .gui-row .gui-cell {\n  display: inline-block;\n}"),___$insertStyle(".gui-cell .gui-checkbox {\n  display: block;\n}\n.gui-cell .gui-chip {\n  margin: 0;\n  padding: 2px 8px;\n}\n.gui-cell .gui-input {\n  font-size: 11px;\n  display: block;\n  padding: 2px 4px;\n  width: 86%;\n}\n.gui-cell .gui-button {\n  padding: 2px 8px;\n}\n.gui-cell .gui-cell-number {\n  display: block;\n  text-align: right;\n}"),___$insertStyle('.gui-material.gui-structure,\n.gui-material .gui-header {\n  font-family: Roboto, "Helvetica Neue", sans-serif;\n}\n.gui-material .gui-header {\n  font-weight: bold;\n  color: gray;\n}\n.gui-material.gui-structure-border {\n  border: 1px solid #ccc;\n}\n.gui-material .gui-header .gui-header-cell {\n  border-right: 1px solid transparent;\n}\n.gui-material .gui-cell .gui-button {\n  padding: 0;\n}\n.gui-material .gui-cell .gui-chip {\n  padding: 0;\n}\n.gui-material .gui-cell .gui-badge {\n  padding: 0;\n}\n.gui-material.gui-vertical-grid gui-structure-container .gui-row .gui-cell {\n  border-right: 1px solid transparent;\n}'),___$insertStyle(".gui-dark.gui-structure,\n.gui-dark .gui-header {\n  background: #383838;\n  color: #cccccc;\n}\n.gui-dark .gui-structure-border {\n  border: none;\n  box-shadow: 5px 5px 10px 2px #1f1f1f;\n}\n.gui-dark .gui-header {\n  color: #BDBDBD;\n  border-bottom-color: #666666;\n}\n.gui-dark .gui-header .gui-header-cell {\n  border-right: 1px solid transparent;\n}\n.gui-dark gui-structure-container .gui-structure-container .gui-content .gui-row:hover {\n  background: #525252;\n}\n.gui-dark gui-structure-container .gui-structure-container .gui-content .gui-row.selected {\n  background: #7cb9f652;\n}\n.gui-dark.gui-rows-odd .gui-row:nth-child(odd) {\n  background: #2c2c2c;\n}\n.gui-dark.gui-rows-even .gui-row:nth-child(even) {\n  background: #2c2c2c;\n}\n.gui-dark .gui-horizontal-grid gui-structure-container .gui-row .gui-cell {\n  border-bottom-color: #666666;\n}\n.gui-dark.gui-vertical-grid gui-structure-container .gui-row .gui-cell {\n  border-right: 1px solid transparent;\n}\n.gui-dark gui-structure-paging.gui-structure-paging-bottom {\n  border-top-color: #666666;\n}\n.gui-dark gui-structure-paging.gui-structure-paging-top {\n  border-bottom-color: #666666;\n}");var Of=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},wf=[S,Se].concat(vf,[Hp,kr,Rf]),Pf=[vu,Pu,Su,Eu,xu,Wu],jf=(new tt.DefaultBuilder).build(),kf=[{provide:ai,useValue:"structure"},{provide:tt,useValue:jf},zp,ti,Ar].concat(bf),Af=[Bp,vu,Pu,Eu,xu,Wu].concat(vf,[Hp]),Ef=function(){function StructureModule(){}var t;return t=StructureModule,StructureModule.withConfig=function(e){return void 0===e&&(e={cssClassName:"",cqrsModuleConfig:{loggers:!1}}),{ngModule:t,providers:[{provide:ai,useValue:e.cssClassName},{provide:ae,useValue:e.cqrsModuleConfig.loggers},{provide:ue,useValue:e.cqrsModuleConfig.loggers}].concat(kf)}},StructureModule.exportDeclarations=Af.slice(),StructureModule=t=Of([s({imports:wf,declarations:Pf,exports:Af})],StructureModule)}();___$insertStyle(".gui-grid {\n  display: block;\n  width: 100%;\n}");var Df,Ff,If,xf=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Bf=[Ef.withConfig({cssClassName:"grid",cqrsModuleConfig:{loggers:!0}})],Tf=[at],Hf=[],Mf=[at],Lf=[],zf=[at],Gf=function(){function GridModule(){}return GridModule.entryComponents=Lf.slice(),GridModule.exportDeclarations=Mf.slice(),GridModule.elementComponents=zf.slice(),GridModule=xf([s({imports:Bf,declarations:Tf,providers:Hf,exports:Mf,entryComponents:Lf})],GridModule)}();!function(t){t[t.TEXT=0]="TEXT",t[t.NUMBER=1]="NUMBER",t[t.CHIP=2]="CHIP",t[t.LINK=3]="LINK",t[t.INPUT=4]="INPUT",t[t.IMAGE=5]="IMAGE",t[t.CHECKBOX=6]="CHECKBOX",t[t.BOLD=7]="BOLD",t[t.ITALIC=8]="ITALIC",t[t.CUSTOM=9]="CUSTOM"}(Df||(Df={})),function(t){t[t.FABRIC=0]="FABRIC",t[t.MATERIAL=1]="MATERIAL",t[t.LIGHT=2]="LIGHT",t[t.DARK=3]="DARK"}(Ff||(Ff={})),function(t){t[t.NONE=0]="NONE",t[t.EVEN=1]="EVEN",t[t.ODD=2]="ODD"}(If||(If={}));export{at as GridComponent,Gf as GridModule,Df as GuiColumnType,If as GuiRowColoring,Ff as GuiTheme};
