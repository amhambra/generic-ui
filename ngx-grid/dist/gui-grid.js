import{Input as t,Output as e,EventEmitter as n,InjectionToken as o,Injectable as r,ViewChild as i,Component as c,ViewEncapsulation as u,ElementRef as a,ChangeDetectorRef as s,Inject as p,NgModule as f,Optional as l,ChangeDetectionStrategy as g,Pipe as d,TemplateRef as h,ContentChild as y,Injector as v,ComponentFactoryResolver as m,RendererFactory2 as b,Renderer2 as O,NgZone as _}from"@angular/core";import{CommonModule as R}from"@angular/common";import{FormBuilder as w,ReactiveFormsModule as C}from"@angular/forms";import{FabricDialogService as P,FabricBadgeModule as A,FabricButtonModule as j,FabricButtonGroupModule as E,FabricCheckboxModule as S,FabricChipModule as I,FabricRadioButtonModule as D,FabricRadioGroupModule as T,FabricProgressBarModule as F,FabricProgressSpinnerModule as B,FabricSelectModule as N,FabricSpinnerModule as x,FabricToggleButtonModule as M,FabricInputModule as H,FabricDialogModule as k,FabricModule as W,FabricChipComponent as z,FabricCheckboxComponent as L,FabricButtonComponent as U,FabricInputComponent as V,ResizeDetector as G}from"@generic-ui/fabric";import{__extends as Q,__spread as $,__values as K}from"tslib";import{Subject as q,isObservable as X,Observable as Y,of as J,throwError as Z,ReplaySubject as tt,BehaviorSubject as et,fromEvent as nt,zip as ot,timer as rt,combineLatest as it}from"rxjs";import{take as ct,filter as ut,map as at,distinctUntilChanged as st,takeUntil as pt,debounceTime as ft,skip as lt,switchMap as gt}from"rxjs/operators";import{DomSanitizer as dt}from"@angular/platform-browser";var ht,yt,vt,mt,bt,Ot,_t,Rt,wt;!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NUMBER=1]="NUMBER",t[t.STRING=2]="STRING",t[t.BOOLEAN=3]="BOOLEAN",t[t.DATE=4]="DATE",t[t.CUSTOM=5]="CUSTOM"}(ht||(ht={})),function(t){t[t.TEXT=0]="TEXT",t[t.CHIP=1]="CHIP",t[t.LINK=2]="LINK",t[t.IMAGE=3]="IMAGE",t[t.BOLD=4]="BOLD",t[t.ITALIC=5]="ITALIC",t[t.CHECKBOX=6]="CHECKBOX",t[t.CUSTOM=7]="CUSTOM"}(yt||(yt={})),function(t){t[t.TEXT=0]="TEXT",t[t.BOLD=1]="BOLD",t[t.ITALIC=2]="ITALIC",t[t.CHIP=3]="CHIP"}(vt||(vt={})),function(t){t[t.TEXT=0]="TEXT",t[t.BOLD=1]="BOLD",t[t.ITALIC=2]="ITALIC",t[t.CHIP=3]="CHIP"}(mt||(mt={})),function(t){t[t.TEXT=0]="TEXT",t[t.BOLD=1]="BOLD",t[t.ITALIC=2]="ITALIC",t[t.CHIP=3]="CHIP",t[t.CHECKBOX=4]="CHECKBOX"}(bt||(bt={})),function(t){t[t.TEXT=0]="TEXT",t[t.BOLD=1]="BOLD",t[t.ITALIC=2]="ITALIC",t[t.CHIP=3]="CHIP"}(Ot||(Ot={})),function(t){t[t.FABRIC=0]="FABRIC",t[t.MATERIAL=1]="MATERIAL",t[t.LIGHT=2]="LIGHT",t[t.DARK=3]="DARK"}(_t||(_t={})),function(t){t[t.NONE=0]="NONE",t[t.EVEN=1]="EVEN",t[t.ODD=2]="ODD"}(Rt||(Rt={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NUMBER=1]="NUMBER",t[t.STRING=2]="STRING",t[t.BOOLEAN=3]="BOOLEAN",t[t.DATE=4]="DATE",t[t.CUSTOM=5]="CUSTOM"}(wt||(wt={}));var Ct,Pt=function(){function t(){}return t.prototype.convertType=function(t){return"string"==typeof t?this.convertTypeString(t):this.convertTypeEnum(t)},t.prototype.convertTypeEnum=function(t){switch(t){case ht.STRING:return wt.STRING;case ht.NUMBER:return wt.NUMBER;case ht.BOOLEAN:return wt.BOOLEAN;case ht.DATE:return wt.DATE;case ht.UNKNOWN:return wt.UNKNOWN;case ht.CUSTOM:return wt.CUSTOM;default:return wt.STRING}},t.prototype.convertTypeString=function(t){switch(t.toLocaleLowerCase()){case"string":return wt.STRING;case"number":return wt.NUMBER;case"boolean":return wt.BOOLEAN;case"date":return wt.DATE;case"unknown":return wt.UNKNOWN;case"custom":return wt.CUSTOM;default:return wt.STRING}},t}();!function(t){t[t.COUNT=1024]="COUNT",t[t.DISTINCT=1]="DISTINCT",t[t.SUM=2]="SUM",t[t.AVERAGE=4]="AVERAGE",t[t.MIN=8]="MIN",t[t.MAX=16]="MAX",t[t.MEDIAN=32]="MEDIAN",t[t.TRUTHY=64]="TRUTHY",t[t.FALSY=128]="FALSY",t[t.EARLIEST=256]="EARLIEST",t[t.LATEST=512]="LATEST"}(Ct||(Ct={}));var At,jt=function(){function t(){}return t.prototype.convert=function(t){var e={};return void 0!==t.enabled&&null!==t.enabled&&(e.enabled=t.enabled),void 0!==t.aggregationTypes&&null!==t.aggregationTypes&&(e.aggregationTypes=this.convertAggregationTypes(t.aggregationTypes)),e},t.prototype.convertAggregationTypes=function(t){var e=this,n=[];return t.forEach(function(t){var o=e.convertAggregationType(t);null!=o&&n.push(o)}),n},t.prototype.convertAggregationType=function(t){switch(t.toLocaleLowerCase()){case"count":return Ct.COUNT;case"distinct":return Ct.DISTINCT;case"sum":return Ct.SUM;case"average":return Ct.AVERAGE;case"min":return Ct.MIN;case"max":return Ct.MAX;case"median":return Ct.MEDIAN;case"truthy":return Ct.TRUTHY;case"falsy":return Ct.FALSY;case"earliest":return Ct.EARLIEST;case"latest":return Ct.LATEST;default:return null}},t}();!function(t){t[t.TEXT=0]="TEXT",t[t.CHIP=1]="CHIP",t[t.LINK=2]="LINK",t[t.IMAGE=3]="IMAGE",t[t.BOLD=4]="BOLD",t[t.ITALIC=5]="ITALIC",t[t.CHECKBOX=6]="CHECKBOX",t[t.CUSTOM=7]="CUSTOM",t[t.FUNCTION=8]="FUNCTION"}(At||(At={}));var Et,St=function(){function t(){}return t.prototype.convert=function(t){return"string"==typeof t?this.convertString(t):"function"==typeof t?t:this.convertEnum(t)},t.prototype.convertString=function(t){switch(t.toLocaleLowerCase()){case"text":return At.TEXT;case"chip":return At.CHIP;case"link":return At.LINK;case"image":return At.IMAGE;case"bold":return At.BOLD;case"italic":return At.ITALIC;case"checkbox":return At.CHECKBOX;case"custom":return At.CUSTOM;default:return At.TEXT}},t.prototype.convertEnum=function(t){switch(t){case yt.TEXT:return At.TEXT;case yt.CHIP:return At.CHIP;case yt.LINK:return At.LINK;case yt.IMAGE:return At.IMAGE;case yt.BOLD:return At.BOLD;case yt.ITALIC:return At.ITALIC;case yt.CHECKBOX:return At.CHECKBOX;case yt.CUSTOM:return At.CUSTOM;default:return At.TEXT}},t}(),It=function(){function t(){this.columnTypeConverter=new Pt,this.columnAggregationConverter=new jt,this.columnViewConverter=new St}return t.prototype.convert=function(t){var e=this;return t.map(function(t){return e.convertColumn(t)})},t.prototype.convertColumn=function(t){var e={};return void 0!==t.type&&null!==t.type&&(e.type=this.columnTypeConverter.convertType(t.type)),void 0!==t.header&&null!==t.header&&(e.header=t.header),void 0!==t.field&&null!==t.field&&(e.field=t.field),void 0!==t.width&&null!==t.width&&(e.width=t.width),void 0!==t.view&&null!==t.view&&(e.view=this.columnViewConverter.convert(t.view)),void 0!==t.aggregation&&null!==t.aggregation&&(e.aggregation=this.columnAggregationConverter.convert(t.aggregation)),e},t}();!function(t){t[t.FABRIC=0]="FABRIC",t[t.MATERIAL=1]="MATERIAL",t[t.LIGHT=2]="LIGHT",t[t.DARK=3]="DARK"}(Et||(Et={}));var Dt,Tt=function(){function t(){}return t.prototype.convert=function(t){return"string"==typeof t?this.convertString(t):this.convertEnum(t)},t.prototype.convertString=function(t){switch(t.toLocaleLowerCase()){case"material":return Et.MATERIAL;case"fabric":return Et.FABRIC;case"light":return Et.LIGHT;case"dark":return Et.DARK;default:return Et.FABRIC}},t.prototype.convertEnum=function(t){switch(t){case _t.MATERIAL:return Et.MATERIAL;case _t.FABRIC:return Et.FABRIC;case _t.LIGHT:return Et.LIGHT;case _t.DARK:return Et.DARK;default:return Et.FABRIC}},t}();!function(t){t[t.NONE=0]="NONE",t[t.EVEN=1]="EVEN",t[t.ODD=2]="ODD"}(Dt||(Dt={}));var Ft,Bt=function(){function t(){}return t.prototype.convert=function(t){return"string"==typeof t?this.convertString(t):this.convertEnum(t)},t.prototype.convertString=function(t){switch(t.toLocaleLowerCase()){case"none":return Dt.NONE;case"even":return Dt.EVEN;case"odd":return Dt.ODD;default:return Dt.EVEN}},t.prototype.convertEnum=function(t){switch(t){case Rt.NONE:return Dt.NONE;case Rt.EVEN:return Dt.EVEN;case Rt.ODD:return Dt.ODD;default:return Dt.EVEN}},t}(),Nt=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},xt=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Mt=function(){function o(){this.source=[],this.columns=[],this.pageChanged=new n,this.pageSizeChanged=new n,this.itemsSelected=new n,this.columnsChanged=new n,this.containerWidthChanged=new n,this.sourceEdited=new n,this.cellEditEntered=new n,this.cellEditCanceled=new n,this.cellEditSubmitted=new n,this.gridColumnConverter=new It,this.gridThemeConverter=new Tt,this.gridRowColoringConverter=new Bt}return o.prototype.ngOnChanges=function(t){void 0!==t.columns&&void 0!==t.columns.currentValue&&(this.columnsConfig=this.gridColumnConverter.convert(this.columns)),void 0!==t.theme&&void 0!==t.theme.currentValue&&(this.themeConfig=this.gridThemeConverter.convert(this.theme)),void 0!==t.rowColoring&&void 0!==t.rowColoring.currentValue&&(this.rowColoringConfig=this.gridRowColoringConverter.convert(this.rowColoring))},o.prototype.onPageChange=function(t){this.pageChanged.emit(t)},o.prototype.onPageSizeChange=function(t){this.pageSizeChanged.emit(t)},o.prototype.onItemSelect=function(t){this.itemsSelected.emit(t)},o.prototype.onColumnsChange=function(){this.columnsChanged.emit()},o.prototype.onContainerWidthChange=function(t){this.containerWidthChanged.emit(t)},o.prototype.onSourceEdit=function(t){this.sourceEdited.emit(t)},o.prototype.onCellEditEnter=function(){this.cellEditEntered.emit()},o.prototype.onCellEditSubmit=function(){this.cellEditSubmitted.emit()},o.prototype.onCellEditCancel=function(){this.cellEditCanceled.emit()},Nt([t(),xt("design:type",Boolean)],o.prototype,"columnHeaderTop",void 0),Nt([t(),xt("design:type",Boolean)],o.prototype,"columnHeaderBottom",void 0),Nt([t(),xt("design:type",Number)],o.prototype,"height",void 0),Nt([t(),xt("design:type",Number)],o.prototype,"width",void 0),Nt([t(),xt("design:type",Boolean)],o.prototype,"autoResizeWidth",void 0),Nt([t(),xt("design:type",Array)],o.prototype,"source",void 0),Nt([t(),xt("design:type",Array)],o.prototype,"columns",void 0),Nt([t(),xt("design:type",Object)],o.prototype,"paging",void 0),Nt([t(),xt("design:type",Boolean)],o.prototype,"verticalGrid",void 0),Nt([t(),xt("design:type",Boolean)],o.prototype,"horizontalGrid",void 0),Nt([t(),xt("design:type",Object)],o.prototype,"theme",void 0),Nt([t(),xt("design:type",Object)],o.prototype,"rowColoring",void 0),Nt([t(),xt("design:type",Boolean)],o.prototype,"loading",void 0),Nt([t(),xt("design:type",Boolean)],o.prototype,"virtualScroll",void 0),Nt([t(),xt("design:type",Object)],o.prototype,"sorting",void 0),Nt([t(),xt("design:type",Object)],o.prototype,"filtering",void 0),Nt([t(),xt("design:type",Object)],o.prototype,"quickFilters",void 0),Nt([t(),xt("design:type",Object)],o.prototype,"searching",void 0),Nt([t(),xt("design:type",Boolean)],o.prototype,"editMode",void 0),Nt([t(),xt("design:type",Boolean)],o.prototype,"cellEditing",void 0),Nt([t(),xt("design:type",Boolean)],o.prototype,"summaryPanel",void 0),Nt([t(),xt("design:type",Object)],o.prototype,"aggregation",void 0),Nt([e(),xt("design:type",n)],o.prototype,"pageChanged",void 0),Nt([e(),xt("design:type",n)],o.prototype,"pageSizeChanged",void 0),Nt([e(),xt("design:type",n)],o.prototype,"itemsSelected",void 0),Nt([e(),xt("design:type",n)],o.prototype,"columnsChanged",void 0),Nt([e(),xt("design:type",n)],o.prototype,"containerWidthChanged",void 0),Nt([e(),xt("design:type",n)],o.prototype,"sourceEdited",void 0),Nt([e(),xt("design:type",n)],o.prototype,"cellEditEntered",void 0),Nt([e(),xt("design:type",n)],o.prototype,"cellEditCanceled",void 0),Nt([e(),xt("design:type",n)],o.prototype,"cellEditSubmitted",void 0),o}(),Ht=function(){function t(){}return t.prototype.build=function(){return this.buildObject()},t}(),kt=(Ft=function(t,e){return(Ft=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ft(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Wt=function(t){function e(e){var n=t.call(this)||this;return n.enabled=e,n}return kt(e,t),e.prototype.buildObject=function(){return new Lt(this.enabled)},e.prototype.withEnabled=function(t){return this.enabled=t,this},e}(Ht),zt=function(t){function e(){return t.call(this,e.defaultEnabled)||this}return kt(e,t),e.defaultEnabled=!0,e}(Wt),Lt=function(){function t(t){this.enabled=t}return t.prototype.isEnabled=function(){return this.enabled},t.Builder=Wt,t.DefaultBuilder=zt,t}(),Ut=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Vt=function(t){function e(e,n,o){var r=t.call(this)||this;return r.headerEnabled=e,r.bottomPaging=n,r.topPaging=o,r.border=!0,r}return Ut(e,t),e.prototype.buildObject=function(){return new Qt(this.headerEnabled,this.bottomPaging,this.topPaging,this.border)},e.prototype.withHeader=function(t){return this.headerEnabled=t,this},e.prototype.withBottomPaging=function(t){return this.bottomPaging=t,this},e.prototype.withTopPaging=function(t){return this.topPaging=t,this},e.prototype.withBorder=function(t){return this.border=t,this},e}(Ht),Gt=function(t){function e(){return t.call(this,e.defaultHeaderEnabled,e.defaultBottomPaging,e.defaultTopPaging)||this}return Ut(e,t),e.defaultHeaderEnabled=!0,e.defaultBottomPaging=(new Lt.DefaultBuilder).build(),e.defaultTopPaging=(new Lt.DefaultBuilder).build(),e}(Vt),Qt=function(){function t(t,e,n,o){this.headerEnabled=t,this.bottomPaging=e,this.topPaging=n,this.border=o}return t.prototype.isHeaderEnabled=function(){return this.headerEnabled},t.prototype.isBorderEnabled=function(){return this.border},t.prototype.getBottomPaging=function(){return this.bottomPaging},t.prototype.getTopPaging=function(){return this.topPaging},t.Builder=Vt,t.DefaultBuilder=Gt,t}(),$t=(new Qt.DefaultBuilder).build(),Kt=[{provide:Qt,useValue:$t}],qt=new o("StructureParentComponent"),Xt=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Yt=function(){function t(){}var e;return e=t,t.prototype.generateId=function(){return e.index++,e.PREFIX+e.index},t.PREFIX="gui-grid-",t.index=0,t=e=Xt([r()],t)}(),Jt=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Zt=function(){function t(){this.gridMap=new Map}return t.prototype.register=function(t,e,n){this.gridMap.set(t,{component:e,structureId:n})},t.prototype.unregister=function(t){this.gridMap.delete(t)},t.prototype.getValues=function(t){return this.gridMap.get(t)},t=Jt([r()],t)}(),te=function(){function t(t,e){this.gridComponent=t,this.structureId=e}return t.prototype.provide=function(){var t=this.gridComponent;return{changeColumnHeaderTop:function(e){t.columnHeaderTop=e,t.detectChanges()}}},t}(),ee=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ne=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},oe=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},re=function(e){function n(t,n,o,r){var i=e.call(this)||this;return i.elementRef=t,i.changeDetectorRef=n,i.gridRegister=o,i.gridIdGenerator=r,i}var o;return ee(n,e),o=n,n.prototype.ngOnInit=function(){var t=this,e=this.gridId;void 0===e&&(e=this.gridIdGenerator.generateId()),this.localGridId=e,this.exposeGridId(),this.gridRegister.register(e,this,this.structureRef.getStructureId()),window.getGuiGrid=function(e){var n=t.gridRegister.getValues(e);return n?new te(n.component,n.structureId).provide():void 0}},n.prototype.ngOnDestroy=function(){this.gridRegister.unregister(this.localGridId)},n.prototype.getElementRef=function(){return this.elementRef},n.prototype.getGridId=function(){return""},n.prototype.detectChanges=function(){this.changeDetectorRef.detectChanges()},n.prototype.exposeGridId=function(){this.elementRef.nativeElement.setAttribute("gui-grid-id",this.localGridId)},ne([i("structure",{static:!0}),oe("design:type",Object)],n.prototype,"structureRef",void 0),ne([t(),oe("design:type",String)],n.prototype,"gridId",void 0),n=o=ne([c({selector:"gui-grid",template:'<gui-structure\n\t\t\t   [height]="height"\n\t\t\t   [width]="width"\n\t\t\t   [autoResizeWidth]="autoResizeWidth"\n\t\t\t   [columns]="columnsConfig"\n\t\t\t   [columnHeaderTop]="columnHeaderTop"\n\t\t\t   [columnHeaderBottom]="columnHeaderBottom"\n\t\t\t   [source]="source"\n\t\t\t   [paging]="paging"\n\t\t\t   [verticalGrid]="verticalGrid"\n\t\t\t   [horizontalGrid]="horizontalGrid"\n\t\t\t   [theme]="themeConfig"\n\t\t\t   [rowColoring]="rowColoringConfig"\n\t\t\t   [loading]="loading"\n\t\t\t   [virtualScroll]="virtualScroll"\n\t\t\t   [sorting]="sorting"\n\t\t\t   [filtering]="filtering"\n\t\t\t   [quickFilters]="quickFilters"\n\t\t\t   [searching]="searching"\n\t\t\t   [editMode]="editMode"\n\t\t\t   [cellEditing]="cellEditing"\n\t\t\t   [summaryPanel]="summaryPanel"\n\t\t\t   [aggregation]="aggregation"\n\t\t\t   (pageChanged)="onPageChange($event)"\n\t\t\t   (pageSizeChanged)="onPageSizeChange($event)"\n\t\t\t   (itemsSelected)="onItemSelect($event)"\n\t\t\t   (columnsChanged)="onColumnsChange()"\n\t\t\t   (containerWidthChanged)="onContainerWidthChange($event)"\n\t\t\t   (sourceEdited)="onSourceEdit($event)"\n\t\t\t   (cellEditEntered)="onCellEditEnter()"\n\t\t\t   (cellEditSubmitted)="onCellEditSubmit()"\n\t\t\t   (cellEditCanceled)="onCellEditCancel()"\n\t\t\t   #structure >\n</gui-structure>\n',providers:Kt.concat([{provide:qt,useExisting:o}]),host:{"[class]":'"gui-grid"',"[style.height]":"height"},encapsulation:u.None,styles:["@import '../../mixins.scss';\n\n.gui-grid {\n\tdisplay: block;\n\twidth: 100%;\n}\n"]}),oe("design:paramtypes",[a,s,Zt,Yt])],n)}(Mt),ie="HERMES - COMMAND_HANDLERS",ce=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Q(e,t),e.prototype.next=function(e){t.prototype.next.call(this,e)},e.decorators=[{type:r}],e}(q),ue=function(){function t(t){this.commandStream=t}return t.prototype.dispatch=function(t){this.commandStream.next(t)},t.decorators=[{type:r}],t.ctorParameters=function(){return[{type:ce}]},t}();function ae(){for(var t=new Array(16),e=0,n=0;n<16;n++)0==(3&n)&&(e=4294967296*Math.random()),t[n]=e>>>((3&n)<<3)&255;return t}var se=function(){var t=window.crypto||window.msCrypto;if(t&&t.getRandomValues)try{return function(){var e=new Uint8Array(16);return t.getRandomValues(e),e}}catch(t){}return ae}(),pe=new(function(){return function(){this.byteToHex=[],this.hexToByte={};for(var t=0;t<256;t++)this.byteToHex[t]=(t+256).toString(16).substr(1),this.hexToByte[this.byteToHex[t]]=t}}());function fe(){return function(t,e){void 0===e&&(e=0);var n=e,o=pe.byteToHex;return o[t[n++]]+o[t[n++]]+o[t[n++]]+o[t[n++]]+"-"+o[t[n++]]+o[t[n++]]+"-"+o[t[n++]]+o[t[n++]]+"-"+o[t[n++]]+o[t[n++]]+"-"+o[t[n++]]+o[t[n++]]+o[t[n++]]+o[t[n++]]+o[t[n++]]+o[t[n++]]}(((t=se())[6]=15&t[6]|64,t[8]=63&t[8]|128,t));var t}var le=function(){function t(t,e){this.aggregateId=t,this.messageType=e,this.messageId=fe()}return t.prototype.getMessageType=function(){return this.messageType},t.prototype.getAggregateId=function(){return this.aggregateId},t.prototype.getMessageId=function(){return this.messageId},t.prototype.toString=function(){return this.messageType},t.prototype.equalsByType=function(t){return this.getMessageType()===t.getMessageType()},t.prototype.equals=function(t){return this.getMessageType()===t.getMessageType()&&this.messageId===t.messageId},t.prototype.ofMessageType=function(t){var e=this;return Array.isArray(t)?!!t.find(function(t){return e.isMessageType(t)}):this.isMessageType(t)},t.prototype.isMessageType=function(t){return this.getMessageType()===t},t}(),ge=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Q(e,t),e}(le),de=function(){function t(t,e,n){this.command=t,this.domainEvent=e,this.eventPublisher=n,this.commandType=this.createCommandInstance().getMessageType()}return t.prototype.forCommand=function(t){return this.commandType===t.getMessageType()},t.prototype.handleCommand=function(t){var e=this,n=this.handle(t);X(n)?n.pipe(ct(1)).subscribe(function(n){e.dispatchEvent(t,n)}):this.dispatchEvent(t,n)},t.prototype.dispatchEvent=function(t,e){if(this.domainEvent&&this.eventPublisher){var n=t.aggregateId,o=new this.domainEvent(n);o.setRequestCommand(t),e&&o.setPayload(e),this.eventPublisher.publish(o)}},t.prototype.createCommandInstance=function(){var t,e=[],n=this.command.constructor.length;return e.fill(void 0,0,n),new((t=this.command).bind.apply(t,$([void 0],e)))},t}(),he=new o("FILTERED_COMMAND_STREAM"),ye=function(t){function e(e){var n=t.call(this)||this;return e&&(n.source=e),n}return Q(e,t),e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.ofCommand=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.pipe(ut(function(e){return t.some(function(t){return e.ofMessageType(t)})}))},e.prototype.ofHandler=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.pipe(ut(function(e){return t.some(function(t){return t.forCommand(e)})}))},e.prototype.ofNullHandler=function(t){return this.pipe(ut(function(e){return!t||!t.some(function(t){return t.forCommand(e)})}))},e.decorators=[{type:r}],e.ctorParameters=function(){return[{type:q,decorators:[{type:p,args:[he]}]}]},e}(Y),ve=function(){return function(){}}(),me=function(){function t(t,e){this.aggregateId=t,this.type=e}return t.prototype.getAggregateId=function(){return this.aggregateId},t.prototype.getType=function(){return this.type},t.prototype.equals=function(t){return this.equalsByType(t)&&this.getAggregateId().equals(t.getAggregateId())},t.prototype.equalsByType=function(t){return this.getType()===t.getType()},t}(),be=function(){return function(){}}(),Oe=function(){function t(){this.stores=[]}return t.prototype.register=function(t){this.stores.push(t)},t.prototype.captureAggregatesSnapshot=function(t){if(!t)return{};var e={};return this.stores.forEach(function(n){var o=n.getById(t);if(o){var r=o.constructor.name;e[r]=o}}),this.cloneAggregates(e)},t.prototype.cloneAggregates=function(t){return JSON.parse(JSON.stringify(t))},t}(),_e=function(){function t(t){this.aggregateId=t,this.events=[]}return t.prototype.getId=function(){return this.aggregateId},t.prototype.getEvents=function(){return this.events},t.prototype.addEvent=function(t){this.events.push(t)},t.prototype.clearEvents=function(){this.events.length=0},t}(),Re=function(){function t(t){this.uid=t}return t.prototype.toString=function(){return this.uid},t.prototype.getId=function(){return this.uid},t.prototype.equals=function(t){return this.uid===t.getId()},t}(),we=function(t){function e(e,n,o){var r=t.call(this,e,n)||this;return r.payload=o,r}return Q(e,t),e.prototype.isSameType=function(t){return this.constructor.name===t.constructor.name},e.prototype.setRequestCommand=function(t){this.requestCommandId=t.getMessageId()},e.prototype.fromCommand=function(t){return t.getMessageId()===this.requestCommandId},e.prototype.setPayload=function(t){this.payload=t},e.prototype.getPayload=function(){return this.payload},e}(le),Ce=function(){function t(){this.domainEvents=[],this.domainEvents$=new q}return t.prototype.next=function(t){this.domainEvents.push(t),this.domainEvents$.next(t)},t.prototype.findEventByType=function(t){return this.getEvents().reverse().find(function(e){return e.constructor.name===t})},t.prototype.waitForEvent=function(t){var e=this.findEventByType(t);return e?J(e):this.waitForNextEventOccurrence(t)},t.prototype.waitForNextEventOccurrence=function(t){var e;if(t instanceof we)e=t.constructor.name;else{if("string"!=typeof t)return Z(new Error("Unsupported argument type."));e=t}return this.domainEvents$.pipe(ut(function(t){return t.constructor.name===e}),ct(1))},t.prototype.getEvents=function(){return this.domainEvents},t.decorators=[{type:r}],t}(),Pe=function(t){function e(e){var n=t.call(this)||this;return n.eventStore=e,n}return Q(e,t),e.prototype.next=function(e){t.prototype.next.call(this,e),this.eventStore.next(e)},e.decorators=[{type:r}],e.ctorParameters=function(){return[{type:Ce}]},e}(q),Ae=function(){function t(t){this.eventStream=t}return t.prototype.publish=function(t){var e,n;if(Array.isArray(t))try{for(var o=K(t),r=o.next();!r.done;r=o.next()){var i=r.value;this.publishEvent(i)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}else t instanceof we&&this.publishEvent(t)},t.prototype.dispatchAggregateEvent=function(t,e){},t.prototype.publishEvent=function(t){this.eventStream.next(t)},t.decorators=[{type:r}],t.ctorParameters=function(){return[{type:Pe}]},t}(),je=function(t){function e(e){var n=t.call(this)||this;return e&&(n.source=e),n}return Q(e,t),e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.ofEvent=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this.pipe(ut(function(n){return e.some(function(e){return t.createEventInstance(e).equalsByType(n)})}))},e.prototype.createEventInstance=function(t){var e=[],n=t.constructor.length;return e.fill(void 0,0,n),new(t.bind.apply(t,$([void 0],e)))},e.decorators=[{type:r}],e.ctorParameters=function(){return[{type:Pe}]},e}(Y),Ee=function(){return function(){}}(),Se=function(){return function(){}}(),Ie="DOMAIN_EVENT_HANDLERS",De=function(){function t(t){this.aggregateId=t}return t.prototype.getId=function(){return this.aggregateId},t}(),Te=function(){return function(){}}(),Fe=function(){function t(){this.archive=new Map,this.archive$=new tt}return t.prototype.set=function(t,e){this.archive.set(t.toString(),e),this.archive$.next(this.archive)},t.prototype.select=function(t){return this.archive$.asObservable().pipe(at(function(e){return e.get(t.toString())}),st())},t}(),Be="hermesApi",Ne=function(){function t(t,e){this.commandLogger=t,this.eventLogger=e;window[Be]=function(t){return{set loggers(e){e?(t.commandLogger.start(),t.eventLogger.start()):(t.commandLogger.stop(),t.eventLogger.stop())}}}(this),window[Be].loggers=!1}return t.decorators=[{type:r}],t.ctorParameters=function(){return[{type:ve},{type:Se}]},t}(),xe=(function(t){function e(e){var n=t.call(this)||this;return n.stateStore=e,n}Q(e,t),e.prototype.getById=function(t){return this.getValue(t)},e.prototype.getAll=function(){return this.getAllValues()},e.prototype.getAllValues=function(){var t=this;return this.stateStore.getAll().map(function(e){return t.fromAnemia(e)})},e.prototype.getValue=function(t){var e=this.stateStore.get(t);return e?this.fromAnemia(e):null}}(Te),function(t){function e(e,n){var o=t.call(this)||this;return o.stateStore=e,o.aggregateStoreRegister=n,o.aggregateStoreRegister.register(o),o}Q(e,t),e.prototype.save=function(t){this.saveValue(t)},e.prototype.getById=function(t){return this.getValue(t)},e.prototype.saveValue=function(t){var e=this.toAnemia(t);this.stateStore.set(e)},e.prototype.getValue=function(t){var e=this.stateStore.get(t);return e?this.fromAnemia(e):null}}(be),function(t){function e(e,n){var o=t.call(this)||this;return o.inMemoryStore=e,o.aggregateStoreRegister=n,o.aggregateStoreRegister.register(o),o}return Q(e,t),e.prototype.save=function(t){var e=this;if(Array.isArray(t))t.forEach(function(t){e.inMemoryStore.set(t)});else{var n=t;this.inMemoryStore.set(n)}},e.prototype.getById=function(t){return this.inMemoryStore.get(t)},e.prototype.getAll=function(){return this.inMemoryStore.getAll()},e.prototype.remove=function(t){this.inMemoryStore.delete(t)},e}(be)),Me=function(t){function e(e){var n=t.call(this)||this;return n.inMemoryStore=e,n}return Q(e,t),e.prototype.getById=function(t){return this.getValue(t)},e.prototype.getAll=function(){var t=this;return this.inMemoryStore.getAll().map(function(e){return t.toReadModel(e)})},e.prototype.getValue=function(t){var e=this.inMemoryStore.get(t);return e?this.toReadModel(e):null},e}(Te),He=function(){function t(){this.state=new Map}return t.prototype.set=function(t){this.state.set(t.getId().toString(),t)},t.prototype.setMany=function(t){var e=this;t.forEach(function(t){e.set(t)})},t.prototype.get=function(t){return this.state.get(t.toString())},t.prototype.getAll=function(){return Array.from(this.state.values())},t.prototype.has=function(t){return this.state.has(t.toString())},t.prototype.delete=function(t){this.state.delete(t.toString())},t.prototype.clear=function(){this.state.clear()},t}(),ke="GUI - COMMAND_LOGGER_ENABLED",We="GUI - EVENT_LOGGER_ENABLED",ze=function(t){function e(e){var n=t.call(this)||this;return n.enabled=!1,n.unsubscribe$=new q,e.pipe(ut(function(){return n.enabled}),pt(n.unsubscribe$)).subscribe(function(t){n.log(t)}),n}return Q(e,t),e.prototype.ngOnDestroy=function(){this.unsubscribe$.next(),this.unsubscribe$.complete()},e.prototype.start=function(){this.enabled=!0},e.prototype.stop=function(){this.enabled=!1},e.prototype.log=function(t){console.log(t.toString(),t)},e.decorators=[{type:r}],e.ctorParameters=function(){return[{type:ye}]},e}(ve),Le=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Q(e,t),e.prototype.start=function(){},e.prototype.stop=function(){},e.prototype.log=function(t){},e}(ve),Ue=function(t){function e(e,n){var o=t.call(this)||this;return o.aggregateStoreRegister=n,o.enabled=!1,o.unsubscribe$=new q,e.pipe(ut(function(){return o.enabled}),pt(o.unsubscribe$)).subscribe(function(t){o.log(t)}),o}return Q(e,t),e.prototype.ngOnDestroy=function(){this.unsubscribe$.next(),this.unsubscribe$.complete()},e.prototype.start=function(){this.enabled=!0},e.prototype.stop=function(){this.enabled=!1},e.prototype.log=function(t){var e=t.aggregateId,n=this.aggregateStoreRegister.captureAggregatesSnapshot(e);console.log(t.toString(),t,n)},e.decorators=[{type:r}],e.ctorParameters=function(){return[{type:je},{type:Oe}]},e}(Se),Ve=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Q(e,t),e.prototype.start=function(){},e.prototype.stop=function(){},e.prototype.log=function(t){},e}(Se),Ge=$([{provide:We,useValue:!0},{provide:ke,useValue:!0},{provide:ve,useFactory:function(t,e,n){return t?e:n},deps:[ke,ze,Le]},{provide:Se,useFactory:function(t,e,n){return t?e:n},deps:[We,Ue,Ve]},ze,Le,Ve,Ue],[{provide:he,useExisting:ce},ye,ce,ue,Oe,je,Pe,Ae,Ce,Ne]);var Qe,$e=function(){function t(t,e,n,o,r,i,c){var u=this;this.commandLogger=r,this.eventLogger=i,this.hermesApi=c,this.unsubscribe$=new q,this.loggersStart(),this.checkNullCommand(n,t),this.checkCommandHandlerIsCollection(t),t&&t.forEach(function(t){n.ofHandler(t).pipe(pt(u.unsubscribe$)).subscribe(function(e){t.handleCommand(e)})}),e&&o.pipe(pt(this.unsubscribe$)).subscribe(function(t){e.forEach(function(e){e.handle(t)})})}return t.withConfig=function(e){return void 0===e&&(e={loggers:!1}),{ngModule:t,providers:Ge}},t.prototype.ngOnDestroy=function(){this.unsubscribe$.next(),this.unsubscribe$.complete(),this.loggersStop()},t.prototype.loggersStart=function(){this.commandLogger.start(),this.eventLogger.start()},t.prototype.loggersStop=function(){this.commandLogger.stop(),this.eventLogger.stop()},t.prototype.checkNullCommand=function(t,e){t.ofNullHandler(e).pipe(pt(this.unsubscribe$)).subscribe(function(t){console.log("Command "+t.toString()+" was not intercepted by any CommandHandler.")})},t.prototype.checkCommandHandlerIsCollection=function(t){t&&!Array.isArray(t)&&console.log('You might provided commandHandler without specifying "multi: true".')},t.decorators=[{type:f,args:[{imports:[R],providers:Ge}]}],t.ctorParameters=function(){return[{type:Array,decorators:[{type:l},{type:p,args:[ie]}]},{type:Array,decorators:[{type:l},{type:p,args:[Ie]}]},{type:ye},{type:je},{type:ve},{type:Se},{type:Ne}]},t}(),Ke=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},qe=function(){function t(){}return t=Ke([c({selector:"",template:"\n\t\n\t\tCOLUMN CONFIG !!!\n\t\n\t"})],t)}(),Xe=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Ye=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Je=function(){function t(t){this.dialogService=t}return t.prototype.open=function(){this.dialogService.open(qe)},t.prototype.close=function(){this.dialogService.close()},t=Xe([r(),Ye("design:paramtypes",[P])],t)}(),Ze=[A,j,E,S,I,D,T,F,B,N,x,M,H,k],tn=function(){function t(){this.unsubscribe$=new q}return t.prototype.ngOnDestroy=function(){this.unsubscribe()},t.prototype.unsubscribe=function(){this.unsubscribe$.next(),this.unsubscribe$.complete()},t.prototype.takeUntil=function(){return pt(this.unsubscribe$)},t}(),en=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),nn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return en(e,t),e}(tn),on=function(){return function(){}}(),rn=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},cn=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},un=function(){function t(t){this.structureRepository=t}return t.prototype.select=function(t){return this.structureRepository.select(t).pipe(ut(function(e){return e.getId().toString()===t.toString()}),at(function(t){return t.getPaging()}))},t=rn([r(),cn("design:paramtypes",[on])],t)}(),an=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),sn=function(t){function e(e){return t.call(this,e)||this}return an(e,t),e}(Re),pn=new sn("-1"),fn=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},ln=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},gn=function(){function t(t){this.pagingRepository=t}return t.prototype.select=function(t){return void 0===t&&(t=pn),this.pagingRepository.select(t)},t.prototype.selectOne=function(t){return void 0===t&&(t=pn),this.select(t).pipe(ct(1))},t=fn([r(),ln("design:paramtypes",[un])],t)}(),dn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),hn=function(t){function e(e,n){var o=t.call(this,e,"SetPagingCommand")||this;return o.structureId=e,o.payload=n,o}return dn(e,t),e}(ge),yn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),vn=function(t){function e(e,n){var o=t.call(this,e,"ChangePagesizeCommand")||this;return o.structureId=e,o.pageSize=n,o}return yn(e,t),e}(ge),mn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),bn=function(t){function e(e){var n=t.call(this,e,"NextPageCommand")||this;return n.structureId=e,n}return mn(e,t),e}(ge),On=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),_n=function(t){function e(e){var n=t.call(this,e,"PrevPageCommand")||this;return n.structureId=e,n}return On(e,t),e}(ge),Rn=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},wn=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Cn=function(){function t(t){this.commandDispatcher=t}return t.prototype.setPaging=function(t,e){this.commandDispatcher.dispatch(new hn(t,e))},t.prototype.changePageSize=function(t,e){this.commandDispatcher.dispatch(new vn(t,e))},t.prototype.nextPage=function(t){this.commandDispatcher.dispatch(new bn(t))},t.prototype.prevPage=function(t){this.commandDispatcher.dispatch(new _n(t))},t=Rn([r(),wn("design:paramtypes",[ue])],t)}(),Pn=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},An=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},jn=function(){function t(t){this.pagingDispatcher=t}return t.prototype.enable=function(t){void 0===t&&(t=pn),this.pagingDispatcher.setPaging(t,{enabled:!0})},t.prototype.disable=function(t){void 0===t&&(t=pn),this.pagingDispatcher.setPaging(t,{enabled:!1})},t.prototype.setPaging=function(t,e){void 0===e&&(e=pn),this.pagingDispatcher.setPaging(e,t)},t.prototype.changePageSize=function(t,e){void 0===e&&(e=pn),this.pagingDispatcher.changePageSize(e,t)},t.prototype.nextPage=function(t){void 0===t&&(t=pn),this.pagingDispatcher.nextPage(t)},t.prototype.prevPage=function(t){void 0===t&&(t=pn),this.pagingDispatcher.prevPage(t)},t.prototype.goToPage=function(t,e){if(e<t)for(;e!==t;)this.nextPage(),e+=1;else for(;e!==t;)this.prevPage(),e-=1},t.prototype.changePagerTop=function(t,e){void 0===e&&(e=pn),this.pagingDispatcher.setPaging(e,{pagerTop:t})},t.prototype.changePagerBottom=function(t,e){void 0===e&&(e=pn),this.pagingDispatcher.setPaging(e,{pagerBottom:t})},t=Pn([r(),An("design:paramtypes",[Cn])],t)}(),En=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Sn=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},In=function(){function t(){this.origin=new Map,this.origin$=new tt}return t.prototype.setOrigin=function(t,e){this.origin.set(e.toString(),t),this.origin$.next(this.origin)},t.prototype.selectOrigin=function(t){return this.origin$.asObservable().pipe(at(function(e){return e.get(t.toString())}),st())},t=En([r(),Sn("design:paramtypes",[])],t)}(),Dn=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Tn=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Fn=function(){function t(t,e){this.structureRepository=t,this.structureSourceOriginRepository=e}return t.prototype.select=function(t){return void 0===t&&(t=pn),this.structureRepository.select(t).pipe(at(function(t){return t.getEntities()}),st(function(t,e){if(t.length!==e.length)return!1;var n=!0;return t.forEach(function(t,o){t.equals(e[o])||(n=!1)}),n}))},t.prototype.selectOriginSize=function(t){return void 0===t&&(t=pn),this.structureSourceOriginRepository.selectOrigin(t).pipe(at(function(t){return t.length}))},t.prototype.selectOne=function(t){return void 0===t&&(t=pn),this.select(t).pipe(ct(1))},t.prototype.selectLoading=function(t){return void 0===t&&(t=pn),this.structureRepository.select(t).pipe(at(function(t){return t.getSource().isLoading()}))},t=Dn([r(),Tn("design:paramtypes",[on,In])],t)}(),Bn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Nn=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},xn=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Mn=function(t){function e(e,n,o,r){var i=t.call(this)||this;return i.changeDetectorRef=e,i.pagingQueryService=n,i.pagingCommandService=o,i.sourceQueryService=r,i.alternativeDisplay=!1,i}return Bn(e,t),e.prototype.ngOnInit=function(){var t=this;this.pagingQueryService.select().pipe(this.takeUntil()).subscribe(function(e){t.paging=e,t.changeDetectorRef.detectChanges()}),this.sourceQueryService.selectOriginSize().pipe(this.takeUntil()).subscribe(function(e){t.sourceSize=e,t.changeDetectorRef.detectChanges()})},e.prototype.changePageSize=function(t){this.pagingCommandService.changePageSize(t)},e.prototype.nextPage=function(){this.sourceSize&&this.pagingCommandService.nextPage()},e.prototype.prevPage=function(){this.pagingCommandService.prevPage()},e=Nn([c({selector:"gui-structure-paging",template:'<ng-container *ngIf="paging && !alternativeDisplay">\n\n\t<gui-structure-paging-select\n\t\t[paging]="paging"\n\t\t(pageSizeChanged)="changePageSize($event)">\n\t</gui-structure-paging-select>\n\n\t<gui-structure-paging-stats\n\t\t[paging]="paging"\n\t\t[sourceSize]="sourceSize">\n\t</gui-structure-paging-stats>\n\n\t<gui-structure-paging-navigator\n\t\t[paging]="paging"\n\t\t[sourceSize]="sourceSize"\n\t\t(prevPageChanged)="prevPage()"\n\t\t(nextPageChanged)="nextPage()">\n\t</gui-structure-paging-navigator>\n\n</ng-container>\n\n<ng-container *ngIf="paging && alternativeDisplay">\n\n\t\t<gui-structure-paging-select\n\t\t\t[paging]="paging"\n\t\t\t(pageSizeChanged)="changePageSize($event)">\n\t\t</gui-structure-paging-select>\n\n\t\t<gui-structure-alternative-paging-navigator\n\t\t\t[paging]="paging"\n\t\t\t[sourceSize]="sourceSize"\n\t\t\t(prevPageChanged)="prevPage()"\n\t\t\t(nextPageChanged)="nextPage()">\n\n\t\t\t<gui-structure-alternative-paging-pages\n\t\t\t\t[paging]="paging"\n\t\t\t\t[sourceSize]="sourceSize">\n\t\t\t</gui-structure-alternative-paging-pages>\n\n\t\t</gui-structure-alternative-paging-navigator>\n\n</ng-container>\n',changeDetection:g.OnPush}),xn("design:paramtypes",[s,gn,jn,Fn])],e)}(nn),Hn=function(){function t(t,e,n,o,r,i){this.enabled=t,this.page=e,this.pageSize=n,this.pageSizes=o,this.pagerTop=r,this.pagerBottom=i}return t.prototype.isEnabled=function(){return this.enabled},t.prototype.getPage=function(){return this.page},t.prototype.getPageSize=function(){return this.pageSize},t.prototype.getPageSizes=function(){return this.pageSizes},t.prototype.isPagerTop=function(){return this.pagerTop},t.prototype.isPagerBottom=function(){return this.pagerBottom},t.prototype.isNextPageDisabled=function(t){return 0===t||this.page===Math.ceil(t/this.pageSize)},t.prototype.isPrevPageDisabled=function(){return 1===this.page},t.prototype.calculateStart=function(t){var e=1+(this.page-1)*this.pageSize;return t<e?0:e},t.prototype.calculateEnd=function(t){var e=this.page*this.pageSize;return t<e?t:e},t.prototype.calculateVisiblePages=function(t,e,n){return t-e<n&&n<t+e},t.prototype.sample=function(t){var e=t.length,n=this.calculateStart(e);return 0!==n&&(n-=1),t.slice(n,this.calculateEnd(e))},t}(),kn=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Wn=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},zn=function(){function o(){this.nextPageChanged=new n,this.prevPageChanged=new n,this.prevDisabled=!1,this.nextDisabled=!1}return o.prototype.ngOnChanges=function(){this.calculatePrev(),this.calculateNext()},o.prototype.prevPage=function(){this.prevPageChanged.emit()},o.prototype.nextPage=function(){this.nextPageChanged.emit()},o.prototype.calculatePrev=function(){this.paging&&(this.prevDisabled=this.paging.isPrevPageDisabled())},o.prototype.calculateNext=function(){(this.paging||this.sourceSize)&&(this.nextDisabled=this.paging.isNextPageDisabled(this.sourceSize))},kn([t(),Wn("design:type",Hn)],o.prototype,"paging",void 0),kn([t(),Wn("design:type",Number)],o.prototype,"sourceSize",void 0),kn([e(),Wn("design:type",Object)],o.prototype,"nextPageChanged",void 0),kn([e(),Wn("design:type",Object)],o.prototype,"prevPageChanged",void 0),o=kn([c({selector:"gui-structure-paging-navigator",template:'<gui-button-group>\n\t<button gui-button\n\t\t\t[disabled]="prevDisabled"\n\t\t\t(click)="prevPage()"\n\t\t\tclass="gui-structure-paging-navigator-prev">\n\t\tPrev\n\t</button>\n\n\t<button gui-button\n\t\t\t[disabled]="nextDisabled"\n\t\t\t(click)="nextPage()"\n\t\t\tclass="gui-structure-paging-navigator-next">\n\t\tNext\n\t</button>\n</gui-button-group>\n',changeDetection:g.OnPush})],o)}(),Ln=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Un=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Vn=function(){function o(){this.pageSizeChanged=new n}return o.prototype.changePageSize=function(t){this.pageSizeChanged.emit(t)},Ln([t(),Un("design:type",Hn)],o.prototype,"paging",void 0),Ln([e(),Un("design:type",Object)],o.prototype,"pageSizeChanged",void 0),o=Ln([c({selector:"gui-structure-paging-select",template:'<span>Items per page:</span>\n<gui-select [options]="paging.getPageSizes()"\n\t\t\t[selected]="paging.getPageSize()"\n\t\t\t[width]="25"\n\t\t\t(optionChanged)="changePageSize($event)">\n</gui-select>\n',changeDetection:g.OnPush})],o)}(),Gn=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Qn=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},$n=function(){function e(){this.sourceSize=0}return e.prototype.ngOnChanges=function(t){this.calculate()},e.prototype.calculate=function(){this.paging&&this.sourceSize&&(this.firstItemIndex=this.paging.calculateStart(this.sourceSize),this.lastItemIndex=this.paging.calculateEnd(this.sourceSize))},e.prototype.isSourceNotEmpty=function(){return this.sourceSize>0},Gn([t(),Qn("design:type",Hn)],e.prototype,"paging",void 0),Gn([t(),Qn("design:type",Number)],e.prototype,"sourceSize",void 0),e=Gn([c({selector:"gui-structure-paging-stats",template:'<ng-container *ngIf="isSourceNotEmpty(); else noSource;">\n\t<span class="gui-structure-paging-source-stats">\n\t\t<span>{{firstItemIndex}}</span>\n\t\t-\n\t\t<span>{{lastItemIndex}}</span>\n\t</span>\n\t<span>\n\t\tof\n\t</span>\n\t<span class="gui-structure-paging-source-size">\n\t\t{{sourceSize}}\n\t</span>\n</ng-container>\n\n<ng-template #noSource>\n\t<span class="gui-structure-paging-source-stats gui-structure-paging-no-items">\n\t\tThere is no items.\n\t</span>\n</ng-template>\n',changeDetection:g.OnPush})],e)}(),Kn=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},qn=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Xn=function(){function o(t){this.pagingCommandService=t,this.nextPageChanged=new n,this.prevPageChanged=new n,this.prevDisabled=!1,this.nextDisabled=!1}return o.prototype.ngOnChanges=function(){this.calculatePrev(),this.calculateNext()},o.prototype.prevPage=function(){this.prevPageChanged.emit()},o.prototype.nextPage=function(){this.nextPageChanged.emit()},o.prototype.firstPage=function(){this.pagingCommandService.goToPage(1,this.paging.getPage())},o.prototype.lastPage=function(){var t=Math.ceil(this.sourceSize/this.paging.getPageSize());this.pagingCommandService.goToPage(t,this.paging.getPage())},o.prototype.calculatePrev=function(){this.paging&&(this.prevDisabled=this.paging.isPrevPageDisabled())},o.prototype.calculateNext=function(){(this.paging||this.sourceSize)&&(this.nextDisabled=this.paging.isNextPageDisabled(this.sourceSize))},Kn([t(),qn("design:type",Hn)],o.prototype,"paging",void 0),Kn([t(),qn("design:type",Number)],o.prototype,"sourceSize",void 0),Kn([e(),qn("design:type",Object)],o.prototype,"nextPageChanged",void 0),Kn([e(),qn("design:type",Object)],o.prototype,"prevPageChanged",void 0),o=Kn([c({selector:"gui-structure-alternative-paging-navigator",template:'<button gui-button\n\t\t[disabled]="prevDisabled"\n\t\t(click)="firstPage()">\n\t<<\n</button>\n\n<button gui-button\n\t\t[disabled]="prevDisabled"\n\t\t(click)="prevPage()"\n\t\tclass="gui-structure-paging-navigator-prev">\n\t< Prev\n</button>\n\n<ng-content></ng-content>\n\n<button gui-button\n\t\t[disabled]="nextDisabled"\n\t\t(click)="nextPage()"\n\t\tclass="gui-structure-paging-navigator-next">\n\tNext >\n</button>\n\n<button gui-button\n\t\t[disabled]="nextDisabled"\n\t\t(click)="lastPage()">\n\t>>\n</button>\n',changeDetection:g.OnPush}),qn("design:paramtypes",[jn])],o)}(),Yn=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Jn=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Zn=function(){function e(t){this.pagingCommandService=t,this.sourceSize=0,this.numberOfVisiblePages=3}return e.prototype.ngOnChanges=function(t){this.calculate()},e.prototype.calculate=function(){if(this.paging&&this.sourceSize){var t=Math.ceil(this.sourceSize/this.paging.getPageSize());if(this.currentPage=this.paging.getPage(),this.pages=[],this.pages.length<=t)for(var e=1;e<=t;e++)this.pages.push(e)}},e.prototype.isSourceNotEmpty=function(){return this.sourceSize>0},e.prototype.goToPage=function(t){var e=this.paging.getPage();this.pagingCommandService.goToPage(t,e)},e.prototype.calculateVisiblePages=function(t){return this.paging.calculateVisiblePages(this.currentPage,this.numberOfVisiblePages,t)},e.prototype.activePage=function(t){return this.currentPage===t},Yn([t(),Jn("design:type",Hn)],e.prototype,"paging",void 0),Yn([t(),Jn("design:type",Number)],e.prototype,"sourceSize",void 0),e=Yn([c({selector:"gui-structure-alternative-paging-pages",template:'<ng-container *ngIf="isSourceNotEmpty(); else noSource;">\n\n\t\t<div *ngFor="let page of pages">\n\t\t\t<div [class.gui-paging-visible-page]="calculateVisiblePages(page)" >\n\t\t\t\t<div\n\t\t\t\t\t[class.gui-paging-active-page]="activePage(page)"\n\t\t\t\t\t(click)="goToPage(page)" class="gui-paging-page">\n\t\t\t\t\t{{page}}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n</ng-container>\n\n<ng-template #noSource>\n\t<span class="gui-structure-paging-source-stats gui-structure-paging-no-items">\n\t\tThere is no items.\n\t</span>\n</ng-template>\n',changeDetection:g.OnPush}),Jn("design:paramtypes",[jn])],e)}(),to=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},eo=function(){function t(){}return t=to([f({imports:[R,W],declarations:[Mn,zn,Vn,$n,Xn,Zn],exports:[Mn,zn,Vn,$n,Xn,Zn]})],t)}(),no=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},oo=function(){function t(){}return t.prototype.transform=function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")},t=no([d({name:"numberFormatter"})],t)}(),ro=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},io=function(){function t(){}return t=ro([f({declarations:[oo],exports:[oo]})],t)}(),co=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},uo=function(){function t(){}return t=co([c({template:'\n\t\t<div class="gui-structure-info-panel">\n\t\t\t<p>Generic UI Grid</p>\n\t\t\t<p>version 0.4.3</p>\n\n\t\t\t<p>Links:</p>\n\t\t\t<ul>\n\n\t\t\t\t<li>\n\t\t\t\t\t<a href="http://generic-ui.com/">Website</a>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<a href="http://generic-ui.com/guide/">Documentation</a>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<a href="https://github.com/generic-ui/generic-ui/tree/master/ngx-grid">Github</a>\n\t\t\t\t</li>\n\t\t\t</ul>\n\n\t\t\t<p>Feedback:</p>\n\t\t\t<ul>\n\n\t\t\t\t<li>\n\t\t\t\t\t<a href="https://github.com/generic-ui/generic-ui/issues">Report a bug</a>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<a href="https://github.com/generic-ui/generic-ui/issues">Suggest an idea</a>\n\t\t\t\t</li>\n\n\t\t\t</ul>\n\t\t</div>\n\t',changeDetection:g.OnPush})],t)}(),ao=function(){function t(t){this.archive$=t?new et(t):new tt(1)}return t.prototype.set=function(t){this.archive$.next(t)},t.prototype.select=function(){return this.archive$.asObservable()},t}(),so=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),po=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},fo=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},lo=function(t){function e(){return t.call(this,!1)||this}return so(e,t),e=po([r(),fo("design:paramtypes",[])],e)}(ao),go=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ho=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},yo=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},vo=function(t){function e(e,n,o,r){var i=t.call(this)||this;return i.structureSummaryEnabledArchive=e,i.sourceQueryService=n,i.dialog=o,i.changeDetectorRef=r,i.infoPanel=uo,i}return go(e,t),e.prototype.ngOnInit=function(){var t=this;this.sourceQueryService.selectOriginSize().pipe(this.takeUntil()).subscribe(function(e){t.originSize=e,t.changeDetectorRef.detectChanges()})},e.prototype.openInfo=function(){this.dialog.open(this.infoPanel)},e=ho([c({selector:"gui-structure-summary",template:'\n\n\t\t<p>\n\t\t\tShowing <b>{{originSize | numberFormatter}}</b> items\n\t\t</p>\n\t\t<div>\n\t\t\t<p (click)="openInfo()">\n\t\t\t\t<button>i</button>\n\t\t\t\tInfo\n\t\t\t</p>\n\t\t</div>\n\n\t',changeDetection:g.OnPush,encapsulation:u.None}),yo("design:paramtypes",[lo,Fn,P,s])],e)}(nn),mo=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},bo=function(){function t(){}return t=mo([f({imports:[R,io],declarations:[vo,uo],exports:[uo,vo],entryComponents:[uo]})],t)}(),Oo=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},_o=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ro=function(){function t(){}return t.prototype.getTemplate=function(t){switch(t){case At.TEXT:return this.textTemplate;case At.CHIP:return this.chipTemplate;case At.LINK:return this.linkTemplate;case At.IMAGE:return this.imageTemplate;case At.CHECKBOX:return this.checkboxTemplate;case At.BOLD:return this.boldTemplate;case At.ITALIC:return this.italicTemplate;case At.CUSTOM:return this.customTemplate;case At.FUNCTION:return this.functionTemplate;default:return this.textTemplate}},Oo([i("text",{read:h,static:!0}),_o("design:type",h)],t.prototype,"textTemplate",void 0),Oo([i("number",{read:h,static:!0}),_o("design:type",h)],t.prototype,"numberTemplate",void 0),Oo([i("chip",{read:h,static:!0}),_o("design:type",h)],t.prototype,"chipTemplate",void 0),Oo([i("link",{read:h,static:!0}),_o("design:type",h)],t.prototype,"linkTemplate",void 0),Oo([i("image",{read:h,static:!0}),_o("design:type",h)],t.prototype,"imageTemplate",void 0),Oo([i("checkbox",{read:h,static:!0}),_o("design:type",h)],t.prototype,"checkboxTemplate",void 0),Oo([i("bold",{read:h,static:!0}),_o("design:type",h)],t.prototype,"boldTemplate",void 0),Oo([i("italic",{read:h,static:!0}),_o("design:type",h)],t.prototype,"italicTemplate",void 0),Oo([i("custom",{read:h,static:!0}),_o("design:type",h)],t.prototype,"customTemplate",void 0),Oo([i("function",{read:h,static:!0}),_o("design:type",h)],t.prototype,"functionTemplate",void 0),t=Oo([c({template:'\n\n\t\t<ng-template #text let-element="element">\n\t\t\t{{ element }}\n\t\t</ng-template>\n\n\t\t<ng-template #number let-element="element">\n\t\t\t<span class="gui-cell-number">\n\t\t\t\t{{ element }}\n\t\t\t</span>\n\t\t</ng-template>\n\n\t\t<ng-template #chip let-element="element">\n\t\t\t<gui-chip>\n\t\t\t\t{{ element }}\n\t\t\t</gui-chip>\n\t\t</ng-template>\n\n\t\t<ng-template #link let-element="element">\n\t\t\t<a gui-button link="true" href="{{ element }}">\n\t\t\t\t{{ element }}\n\t\t\t</a>\n\t\t</ng-template>\n\n\t\t<ng-template #image let-element="element">\n\t\t\t<img src="{{ element }}"/>\n\t\t</ng-template>\n\n\t\t<ng-template #checkbox let-element="element">\n\t\t\t<span class="gui-cell-boolean">\n\t\t\t\t<gui-checkbox [checked]="!!element" [disabled]="true"></gui-checkbox>\n\t\t\t</span>\n\t\t</ng-template>\n\n\t\t<ng-template #bold let-element="element">\n\t\t\t<span class="gui-bold">{{ element }}</span>\n\t\t</ng-template>\n\n\t\t<ng-template #italic let-element="element">\n\t\t\t<span class="gui-italic">{{ element }}</span>\n\t\t</ng-template>\n\n\t\t<ng-template #custom let-element="element" >\n\t\t\t{{ element }}\n\t\t</ng-template>\n\n\t\t<ng-template #function let-element="element" >\n\t\t\t<gui-function-view [element]="element" ></gui-function-view>\n\t\t</ng-template>\n\n\t'})],t)}(),wo=function(){function t(){this.subject$=new tt(1)}return t.prototype.emit=function(t){this.subject$.next(t)},t.prototype.select=function(){return this.subject$.asObservable()},t}();!function(t){t[t.SUBMIT=0]="SUBMIT",t[t.BLUR=1]="BLUR",t[t.CANCEL=2]="CANCEL"}(Qe||(Qe={}));var Co=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Po=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Ao=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},jo=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.ENTER_KEY_CODE=13,t.ESC_KEY_CODE=27,t}return Co(n,e),n.prototype.submit=function(){this.emitStatus(Qe.SUBMIT)},n.prototype.cancel=function(){this.emitStatus(Qe.CANCEL)},n.prototype.emitStatus=function(t){this.status&&this.status.emit(t)},Po([t(),Ao("design:type",Object)],n.prototype,"value",void 0),Po([t(),Ao("design:type",wo)],n.prototype,"valueChanges",void 0),Po([t(),Ao("design:type",wo)],n.prototype,"status",void 0),Po([t(),Ao("design:type",Boolean)],n.prototype,"focus",void 0),n}(nn),Eo=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),So=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Io=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Do=function(t){function e(e){var n,o=t.call(this)||this;return o.formBuilder=e,o.filterFieldName="phrase",o.filterForm=o.formBuilder.group(((n={})[o.filterFieldName]=[""],n)),o}return Eo(e,t),e.prototype.ngOnChanges=function(t){void 0!==t.value&&this.filterForm.get(this.filterFieldName).setValue(this.value)},e.prototype.ngOnInit=function(){this.observeChanges()},e.prototype.ngAfterViewInit=function(){var t=this,e=this.inputRef.nativeElement;this.focusField(e),this.emitValueChange(e.value),nt(e,"blur").pipe(this.takeUntil()).subscribe(function(){t.unsubscribe(),t.submit()});var n=nt(e,"keyup");n.pipe(ut(function(e){return e.keyCode===t.ENTER_KEY_CODE}),this.takeUntil()).subscribe(function(){t.unsubscribe(),t.submit()}),n.pipe(ut(function(e){return e.keyCode===t.ESC_KEY_CODE}),this.takeUntil()).subscribe(function(){t.unsubscribe(),t.cancel()})},e.prototype.focusField=function(t){this.focus&&t.focus()},e.prototype.observeChanges=function(){var t=this;this.filterForm.controls[this.filterFieldName].valueChanges.pipe(this.takeUntil()).subscribe(function(e){t.emitValueChange(e)})},e.prototype.emitValueChange=function(t){this.valueChanges&&this.valueChanges.emit(t)},So([i("input",{static:!0}),Io("design:type",a)],e.prototype,"inputRef",void 0),e}(jo),To=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Fo=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Bo=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},No=function(t){function e(e){return t.call(this,e)||this}return To(e,t),e=Fo([c({selector:"gui-number-edit",template:'\n\n\t\t<form [formGroup]="filterForm" >\n\t\t\t<input #input [formControlName]="filterFieldName" type="number" class="gui-input" />\n\t\t</form>\n\n\t',changeDetection:g.OnPush,encapsulation:u.None}),Bo("design:paramtypes",[w])],e)}(Do);function xo(t,e){if("function"!=typeof Object.getPrototypeOf(t)[e])throw new Error('Method "'+e+'" of class "'+t.constructor.name+"\" doesn't override any method of base class.")}var Mo,Ho=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ko=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Wo=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},zo=function(t){function e(e){return t.call(this,e)||this}return Ho(e,t),e.prototype.focusField=function(t){this.focus&&(t.focus(),t.setSelectionRange(0,t.value.length))},ko([xo,Wo("design:type",Function),Wo("design:paramtypes",[Object]),Wo("design:returntype",void 0)],e.prototype,"focusField",null),e=ko([c({selector:"gui-string-edit",template:'\n\n\t\t<form [formGroup]="filterForm" >\n\t\t\t<input #input [formControlName]="filterFieldName" type="type" class="gui-input" />\n\t\t</form>\n\n\t',changeDetection:g.OnPush,encapsulation:u.None}),Wo("design:paramtypes",[w])],e)}(Do),Lo=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Uo=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Vo=function(){function t(){}return t.prototype.getTemplate=function(t){switch(t){case wt.STRING:return this.stringTemplate;case wt.NUMBER:return this.numberTemplate;case wt.BOOLEAN:return this.booleanTemplate;default:return this.emptyTemplate}},Lo([i("string",{read:h,static:!0}),Uo("design:type",h)],t.prototype,"stringTemplate",void 0),Lo([i("number",{read:h,static:!0}),Uo("design:type",h)],t.prototype,"numberTemplate",void 0),Lo([i("boolean",{read:h,static:!0}),Uo("design:type",h)],t.prototype,"booleanTemplate",void 0),Lo([i("empty",{read:h,static:!0}),Uo("design:type",h)],t.prototype,"emptyTemplate",void 0),t=Lo([c({template:'\n\n\t\t<ng-template #string let-valueChanges="valueChanges" let-value="value" let-status="status" let-focus="focus" >\n\t\t\t<gui-string-edit [valueChanges]="valueChanges" [value]="value" [status]="status" [focus]="focus">\n\t\t\t</gui-string-edit>\n\t\t</ng-template>\n\n\t\t<ng-template #number let-valueChanges="valueChanges" let-value="value" let-status="status" let-focus="focus" >\n\t\t\t<gui-number-edit [valueChanges]="valueChanges" [value]="value" [status]="status" [focus]="focus">\n\t\t\t</gui-number-edit>\n\t\t</ng-template>\n\n\t\t<ng-template #boolean let-valueChanges="valueChanges" let-value="value" let-status="status" let-focus="focus" >\n\t\t\t<gui-boolean-edit [valueChanges]="valueChanges" [value]="value" [status]="status" [focus]="focus">\n\t\t\t</gui-boolean-edit>\n\t\t</ng-template>\n\n\t\t<ng-template #empty>\n\n\t\t</ng-template>\n\n\t'})],t)}(),Go=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Qo=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},$o=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ko=function(t){function e(){var e=t.call(this)||this;return e.filterFieldName="booleanEdit",e}return Go(e,t),e.prototype.ngAfterViewInit=function(){var t=this,e=this.checkboxRef.nativeElement.querySelector('input[type="checkbox"]');e.focus(),nt(e,"blur").pipe(ft(400),this.takeUntil()).subscribe(function(){t.unsubscribe(),t.submit()})},e.prototype.toggle=function(t){this.valueChanges.emit(t)},Qo([i("checkbox",{read:a,static:!0}),$o("design:type",a)],e.prototype,"checkboxRef",void 0),e=Qo([c({selector:"gui-boolean-edit",template:'\n\n\t\t<gui-checkbox #checkbox\n\t\t\t\t\t  [checked]="value"\n\t\t\t\t\t  [name]="filterFieldName"\n\t\t\t\t\t  (changed)="toggle($event)"></gui-checkbox>\n\n\t',changeDetection:g.OnPush,encapsulation:u.None}),$o("design:paramtypes",[])],e)}(jo),qo=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Xo=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Yo=function(){function e(){}return qo([y(h,{static:!1}),Xo("design:type",h)],e.prototype,"cellTemplate",void 0),qo([t(),Xo("design:type",String)],e.prototype,"header",void 0),e=qo([c({selector:"gui-column",template:""})],e)}(),Jo=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Zo=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},tr=function(){function e(t){this.sanitizer=t}return e.prototype.ngOnChanges=function(){this.safeHTML=this.sanitizer.bypassSecurityTrustHtml(this.element)},Jo([t(),Zo("design:type",Object)],e.prototype,"element",void 0),e=Jo([c({selector:"gui-function-view",template:'\n\n\t\t<div [innerHTML]="safeHTML"></div>\n\n\t'}),Zo("design:paramtypes",[dt])],e)}();!function(t){t[t.PERCENTAGE=0]="PERCENTAGE",t[t.NUMBER=1]="NUMBER",t[t.AUTO=2]="AUTO"}(Mo||(Mo={}));var er,nr=function(){function t(t){this.baseWidth=t,this.setWidthAndType(t)}return t.prototype.getWidth=function(){return this.width},t.prototype.getColumnType=function(){return this.template},t.prototype.isTypePercentage=function(){return this.template===Mo.PERCENTAGE},t.prototype.isTypeAuto=function(){return this.template===Mo.AUTO},t.prototype.isTypeNumber=function(){return this.template===Mo.NUMBER},t.prototype.setWidth=function(t){this.width=t},t.prototype.setWidthAndType=function(t){null==t||"auto"===t?(this.template=Mo.AUTO,this.setWidth(null)):this.isPercentage(t)?(this.template=Mo.PERCENTAGE,this.setWidth(this.percentageToNumber(""+t))):(this.isStringNumber(t),this.template=Mo.NUMBER,this.setWidth(+t))},t.prototype.clone=function(){return new t(this.baseWidth)},t.prototype.isPercentage=function(t){return"string"==typeof t&&"%"===t[t.length-1]},t.prototype.percentageToNumber=function(t){return+t.slice(0,-1)},t.prototype.isStringNumber=function(t){var e=+t;return Number.isNaN(e)},t}(),or=function(){function t(t){this.MIN_COLUMN_WIDTH=t}return t.prototype.calculateMinWidth=function(t){var e=this.segregateColumns(t),n=e.staticColumns,o=e.fluidColumns,r=0;return n.forEach(function(t){r+=t.getWidth()}),r+=o.length*this.MIN_COLUMN_WIDTH},t.prototype.segregateColumns=function(t){var e=this;return{staticColumns:t.filter(function(t){return t.isTypeNumber()&&t.getWidth()>e.MIN_COLUMN_WIDTH}),fluidColumns:t.filter(function(t){return t.isTypeAuto()||t.isTypePercentage()||t.isTypeNumber()&&t.getWidth()<=e.MIN_COLUMN_WIDTH})}},t}(),rr=function(){function t(t,e,n){this.source=t,this.width=e,this.MIN_COLUMN_WIDTH=n,this.columns=this.source.map(function(t){return t.clone()})}return t.prototype.calculate=function(){var t=this.width,e=this.columns.slice();this.adjustMinimalWidth(e);var n=[];if(e.forEach(function(e,o){e.isTypeNumber()?t-=e.getWidth():n.push(e)}),0!==(e=n).length){var o=t/e.length;e.forEach(function(t,e){t.setWidth(o)})}return this.columns},t.prototype.adjustMinimalWidth=function(t){var e=this;t.forEach(function(t){t.isTypeNumber()&&t.getWidth()<e.MIN_COLUMN_WIDTH&&t.setWidthAndType(e.MIN_COLUMN_WIDTH)})},t.prototype.adjustPercentageWidth=function(){this.columns.filter(function(t){return t.isTypePercentage()});for(var t=0,e=this.columns;t<e.length;t++){var n=e[t];n.getColumnType()===Mo.PERCENTAGE&&n.setWidth(this.width*n.getWidth()*.01)}},t.prototype.adjustAutoWidth=function(){for(var t=this.width,e=[],n=0;n<this.columns.length;n+=1){(c=this.columns[n]).getColumnType()!==Mo.AUTO?t-=c.getWidth():e.push(c)}if(e.length>0)for(var o=t/e.length,r=0,i=e;r<i.length;r++){var c;(c=i[r]).setWidth(o)}},t}(),ir=function(){function t(t,e,n){void 0===e&&(e=[]),void 0===n&&(n=100),this.MIN_COLUMN_WIDTH=t,this.baseColumnWidths=e.map(function(t){return new nr(t.width)}),this.columnWidths=e.map(function(t){return new nr(t.width)}),this.setContainerWidth(n),this.calculate()}return t.prototype.getColumns=function(){return this.baseColumnWidths},t.prototype.getColumnsWidth=function(){return this.width},t.prototype.getWidths=function(){return this.columnWidths.map(function(t){return t.getWidth()})},t.prototype.getMinWidth=function(){return new or(this.MIN_COLUMN_WIDTH).calculateMinWidth(this.columnWidths)},t.prototype.setWidth=function(t){this.setContainerWidth(t),this.calculate()},t.prototype.setColumns=function(t){this.baseColumnWidths=t.map(function(t){return new nr(t.width)}),this.columnWidths=t.map(function(t){return new nr(t.width)}),this.calculate()},t.prototype.calculate=function(){if(this.baseColumnWidths&&this.width){var t=new rr(this.baseColumnWidths,this.width,this.MIN_COLUMN_WIDTH);this.columnWidths=t.calculate()}},t.prototype.setContainerWidth=function(t){this.getMinWidth()>t?this.width=this.getMinWidth():this.width=t,this.calculate()},t}();!function(t){t[t.ASC=0]="ASC",t[t.DESC=1]="DESC",t[t.NONE=2]="NONE"}(er||(er={}));var cr,ur=function(){function t(t){this.templateFunction=function(t){return t},"function"==typeof t?(this.view=At.FUNCTION,this.templateFunction=t):this.view=t}return t.prototype.getCellView=function(){return this.view},t.prototype.getTemplateFunction=function(){return this.templateFunction},t}(),ar=function(){function t(t,e,n,o){this.sortStatus=er.NONE,this.view=new ur(At.TEXT),this.columnField=t,e&&(this.header=e),n&&(this.view=n),o&&(this.width=o)}return t.prototype.getField=function(){return this.columnField},t.prototype.getHeader=function(){return this.header},t.prototype.getDataType=function(){return this.columnField.getDataType()},t.prototype.getCellView=function(){return this.view.getCellView()},t.prototype.getTemplateFunction=function(){return this.view.getTemplateFunction()},t.prototype.setSortStatus=function(t){this.sortStatus=t},t.prototype.setView=function(t){this.view=t},t}(),sr=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},pr=function(){function t(){}return t.prototype.create=function(t){return Array.isArray(t)?this.createColumns(t):this.createColumn(t)},t.prototype.createColumn=function(t){var e=t.getColumn(),n=t.getField(),o=new ar(n);return void 0!==e.header&&(o.header=e.header),void 0!==e.view&&o.setView(new ur(e.view)),void 0!==e.width&&(o.width=this.convertWidth(e.width)),o},t.prototype.createColumns=function(t){var e=this,n=[];return t.forEach(function(t){n.push(e.createColumn(t))}),n},t.prototype.convertWidth=function(t){return+t},t=sr([r()],t)}(),fr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),lr=function(t){function e(e,n){var o=t.call(this,e,"ColumnsSetAggregateEvent")||this;return o.columns=n,o}return fr(e,t),e}(me),gr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),dr=function(t){function e(e){return t.call(this,e,"CompositionWidthSetAggregateEvent")||this}return gr(e,t),e}(me),hr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),yr=function(t){function e(e,n){var o=t.call(this,e,"CompositionContainerWidthSetAggregateEvent")||this;return o.containerWidth=n,o}return hr(e,t),e}(me),vr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),mr=function(t){function e(e){return t.call(this,e,"CompositionResizeWidthSetAggregateEvent")||this}return vr(e,t),e}(me),br=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Or=function(t){function e(e,n,o,r){void 0===n&&(n=[]);var i=t.call(this,e)||this;i.MIN_COLUMN_WIDTH=50,i.columnWidthCollection=new ir(i.MIN_COLUMN_WIDTH),i.activeColumns=[],i.resizeWidthEnabled=!0,i.columnFactory=new pr;var c=n.map(function(t){return t.getColumn()});return i.baseParams=n,i.baseColumns=c,i.width=o,i.activeColumns=i.columnFactory.create(n),i.columnWidthCollection=new ir(i.MIN_COLUMN_WIDTH,c,o),null!=r&&(i.resizeWidthEnabled=r),i}return br(e,t),e.prototype.getColumns=function(){return this.activeColumns},e.prototype.getWidth=function(){return this.resizeWidthEnabled?this.containerWidth:this.width},e.prototype.isResizeEnabled=function(){return this.resizeWidthEnabled},e.prototype.isReady=function(){return!!this.getWidth()&&this.activeColumns.length>0},e.prototype.clone=function(){var t=this.activeColumns.slice(),n=new e(this.getId(),this.baseParams,this.width,this.resizeWidthEnabled);return n.containerWidth=this.containerWidth,n.activeColumns=t,n.columnWidthCollection=this.columnWidthCollection,n},e.prototype.setColumns=function(t){var e=t.map(function(t){return t.getColumn()});this.columnWidthCollection.setColumns(e);var n=this.columnFactory.create(t),o=this.columnWidthCollection.getWidths();this.updateColumnsWidths(n,o),this.setActiveColumnsWithEvent(n)},e.prototype.setContainerWidth=function(t){this.setContainerWidthWithEvent(t),this.recalculateColumns()},e.prototype.setWidth=function(t){this.setWidthWithEvent(t),this.setResizeWidthWithEvent(!1),this.recalculateColumns()},e.prototype.setResizeWidth=function(t){this.setResizeWidthWithEvent(t)},e.prototype.changeSort=function(t){this.activeColumns.forEach(function(t){t.setSortStatus(er.NONE)});for(var e=function(t){var e=t.fieldId,o=t.direction?er.ASC:er.DESC,r=n.activeColumns.filter(function(t){return t.getField().getId().getId()===e.getId()});r.length>0&&r.forEach(function(t){t.setSortStatus(o)})},n=this,o=0,r=t;o<r.length;o++){e(r[o])}},e.prototype.recalculateColumns=function(){this.columnWidthCollection.setWidth(this.getWidth());var t=this.activeColumns.slice(),e=this.columnWidthCollection.getWidths();this.updateColumnsWidths(t,e),this.setActiveColumnsWithEvent(t)},e.prototype.updateColumnsWidths=function(t,e){t.forEach(function(t,n){t.width=e[n]})},e.prototype.setActiveColumnsWithEvent=function(t){this.activeColumns=t,this.addEvent(new lr(this.getId(),t))},e.prototype.setWidthWithEvent=function(t){var e=new or(this.MIN_COLUMN_WIDTH).calculateMinWidth(this.columnWidthCollection.getColumns());this.width=e>t?e:t,this.addEvent(new dr(this.getId()))},e.prototype.setContainerWidthWithEvent=function(t){var e=new or(this.MIN_COLUMN_WIDTH).calculateMinWidth(this.columnWidthCollection.getColumns());this.containerWidth=e>t?e:t,this.addEvent(new yr(this.getId(),t))},e.prototype.setResizeWidthWithEvent=function(t){this.resizeWidthEnabled=t,this.addEvent(new mr(this.getId()))},e}(_e),_r=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Rr=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},wr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _r(e,t),e=Rr([r()],e)}(He),Cr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Pr=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Ar=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},jr=function(t){function e(e,n){return t.call(this,e,n)||this}return Cr(e,t),e.prototype.getById=function(e){var n=t.prototype.getById.call(this,e);return n?n.clone():null},Pr([xo,Ar("design:type",Function),Ar("design:paramtypes",[Re]),Ar("design:returntype",Or)],e.prototype,"getById",null),e=Pr([r(),Ar("design:paramtypes",[wr,Oe])],e)}(xe),Er=function(){return function(){}}(),Sr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ir=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Dr=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Tr=function(t){function e(e){var n=t.call(this)||this;return n.inMemoryCompositionAggregateStore=e,n}return Sr(e,t),e.prototype.getById=function(t){return this.inMemoryCompositionAggregateStore.getById(t)},e.prototype.save=function(t){this.inMemoryCompositionAggregateStore.save(t)},e=Ir([r(),Dr("design:paramtypes",[jr])],e)}(Er),Fr=function(){function t(t,e){this.templatesComponentDefinition=t,this.componentFactoryResolver=e,this.templates=new Map,this.templatesComponent=null,this.createTemplatesComponent()}return t.prototype.getTemplates=function(){return this.templates},t.prototype.destroy=function(){this.templatesComponent&&(this.templatesComponent.destroy(),this.templatesComponent=null)},t.prototype.createTemplatesComponent=function(){var t=this.componentFactoryResolver.resolveComponentFactory(this.templatesComponentDefinition),e=v.create({providers:[]});this.templatesComponent=t.create(e),this.generateMap()},t.prototype.generateMap=function(){var t=this;this.generateMapKeys().forEach(function(e){t.findAndSetTemplate(e)})},t.prototype.findAndSetTemplate=function(t){var e=this.templatesComponent.instance.getTemplate(t);this.templates.set(t,e)},t}(),Br=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Nr=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},xr=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Mr=function(t){function e(e){return t.call(this,Ro,e)||this}return Br(e,t),e.prototype.generateMapKeys=function(){return Object.keys(At).map(function(t){return At[t]})},e=Nr([r(),xr("design:paramtypes",[m])],e)}(Fr),Hr=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},kr=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Wr=function(){function t(t){this.columnTemplateFactory=t}return t.prototype.findTemplate=function(t){return this.columnTemplateFactory.getTemplates().get(t)},t=Hr([r(),kr("design:paramtypes",[Mr])],t)}(),zr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Lr=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Ur=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Vr=function(t){function e(e){return t.call(this,Vo,e)||this}return zr(e,t),e.prototype.generateMapKeys=function(){return Object.keys(wt).map(function(t){return wt[t]})},e=Lr([r(),Ur("design:paramtypes",[m])],e)}(Fr),Gr=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Qr=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},$r=function(){function t(t){this.editTemplateFactory=t}return t.prototype.findTemplate=function(t){return this.editTemplateFactory.getTemplates().get(t)},t=Gr([r(),Qr("design:paramtypes",[Vr])],t)}(),Kr=function(){function t(t,e,n,o,r,i){this.viewTemplate=t,this.editTemplate=e,this.context=n,this.width=o,this.fieldId=r,this.sortStatus=i}return t.prototype.getFieldId=function(){return this.fieldId},t.prototype.getSortStatus=function(){return this.sortStatus},t}(),qr=function(){return function(t){this.element=t}}(),Xr=function(){function t(t){this.id=t}return t.prototype.getId=function(){return this.id},t.prototype.toString=function(){return this.id},t.prototype.equals=function(t){return t.getId()===this.id},t}(),Yr=function(){return function(t,e,n,o,r,i){this.template=t,this.editTemplate=e,this.editable=n,this.accessor=o,this.width=r,this.columnFieldId=i}}(),Jr=function(){function t(t,e,n){void 0===n&&(n=er.NONE),this.field=t,this.header=e,this.sortStatus=n}return t.prototype.setHeader=function(t){this.header=t},t.prototype.setField=function(t){this.field=t},t.prototype.getHeaderCellTemplateWithContext=function(t){var e,n=this.header;"string"==typeof n?e=new qr(n):"function"==typeof n&&(e=new qr(n(t)));var o=new Xr(this.field.getId().getId());return new Kr(this.headerTemplate,this.editTemplate,e,this.width,o,this.sortStatus)},t.prototype.getContentCellTemplateWithAccessor=function(){var t=this;return new Yr(this.cellTemplate,this.editTemplate,!0,function(e){return t.templateFunction(t.field.getAccessor()(e))},this.width,this.field.getId())},t}(),Zr=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},ti=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ei=function(){function t(t,e){this.viewTemplateRepository=t,this.editTemplateRepository=e}return t.prototype.create=function(t){var e=new Jr(t.getField(),t.getHeader(),t.sortStatus);return e.cellTemplate=this.findViewTemplate(t.getCellView()),e.headerTemplate=this.findViewTemplate(At.TEXT),e.templateFunction=t.getTemplateFunction(),e.editTemplate=this.findEditTemplate(t.getDataType()),e.width=+t.width,e},t.prototype.createColumns=function(t){var e=this;return t.map(function(t){return e.create(t)})},t.prototype.findViewTemplate=function(t){return t===At.FUNCTION?this.viewTemplateRepository.findTemplate(At.FUNCTION):this.viewTemplateRepository.findTemplate(t)},t.prototype.findEditTemplate=function(t){return this.editTemplateRepository.findTemplate(t)},t=Zr([r(),ti("design:paramtypes",[Wr,$r])],t)}(),ni=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),oi=function(t){function e(e,n,o,r,i){var c=t.call(this,e)||this;return c.ready=n,c.columns=o,c.width=r,c.resizeWidth=i,c}return ni(e,t),e.prototype.getColumns=function(){return this.columns},e.prototype.getHeaderColumns=function(){return this.columns.map(function(t,e){return t.getHeaderCellTemplateWithContext(e)})},e.prototype.getTemplateColumns=function(){return this.columns.map(function(t){return t.getContentCellTemplateWithAccessor()})},e.prototype.getWidth=function(){return this.width},e.prototype.getContainerWidth=function(){return+this.width-2},e.prototype.isReady=function(){return this.ready},e.prototype.isResizeWidthEnabled=function(){return this.resizeWidth},e.prototype.equals=function(t){return this.width===t.width&&this.resizeWidth===t.resizeWidth&&this.equalsByColumns(t.columns)},e.prototype.equalsByColumns=function(t){return this.columns.length===t.length},e}(De),ri=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},ii=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ci=function(){function t(t){this.columnDefinitionFactory=t}return t.prototype.convert=function(t){var e=t.isReady(),n=t.getColumns(),o=this.convertColumnsToColumnDef(n),r=t.getWidth(),i=t.isResizeEnabled(),c=t.getId();return new oi(c,e,o,r,i)},t.prototype.convertColumnsToColumnDef=function(t){var e=this,n=[];return t.forEach(function(t){var o=e.columnDefinitionFactory.create(t);n.push(o)}),n},t=ri([r(),ii("design:paramtypes",[ei])],t)}(),ui=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ai=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},si=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},pi=function(t){function e(e,n){var o=t.call(this,e)||this;return o.inMemoryCompositionStore=e,o.compositionConverter=n,o}return ui(e,t),e.prototype.toReadModel=function(t){return this.compositionConverter.convert(t)},e=ai([r(),si("design:paramtypes",[wr,ci])],e)}(Me),fi=function(){return function(){}}(),li=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),gi=function(t){function e(e){return t.call(this,e,"CompositionInitedEvent")||this}return li(e,t),e}(we),di=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),hi=function(t){function e(e){return t.call(this,e,"CompositionResizeWidthSetEvent")||this}return di(e,t),e}(we),yi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),vi=function(t){function e(e){return t.call(this,e,"ColumnsSetEvent")||this}return yi(e,t),e}(we),mi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),bi=function(t){function e(e,n){return t.call(this,e,"CompositionContainerWidthSetEvent",n)||this}return mi(e,t),e}(we),Oi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),_i=function(t){function e(e){return t.call(this,e,"CompositionWidthSetEvent")||this}return Oi(e,t),e}(we),Ri=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),wi=function(t){function e(e,n){var o=t.call(this,e,"CompositionChangeSortStatusEvent")||this;return o.columns=n,o}return Ri(e,t),e.prototype.getCompositionId=function(){return this.aggregateId},e.prototype.getColumns=function(){return this.columns},e}(we),Ci=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Pi=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Ai=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ji=function(t){function e(e,n){var o=t.call(this)||this;return o.domainEventBus=e,o.inMemoryCompositionQueryStore=n,o.composition$=new tt(1),o.unsubscribe$=new q,o.domainEventBus.ofEvent(gi,hi,vi,bi,_i,wi).pipe(pt(o.unsubscribe$)).subscribe(function(t){var e=t.aggregateId,n=o.inMemoryCompositionQueryStore.getById(e);o.composition$.next(n)}),o}return Ci(e,t),e.prototype.ngOnDestroy=function(){this.unsubscribe$.next(),this.unsubscribe$.complete()},e.prototype.select=function(t){return this.composition$.asObservable().pipe(ut(function(e){return e.getId().toString()===t.toString()}),ut(function(t){return t.isReady()}))},e=Pi([r(),Ai("design:paramtypes",[je,pi])],e)}(fi),Ei=[jr,{provide:Er,useClass:Tr}],Si=[pi,{provide:fi,useClass:ji}],Ii=[wr],Di=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Ti=function(){function t(){}return t.prototype.create=function(t){return new Or(t)},t=Di([r()],t)}(),Fi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Bi=function(t){function e(e){var n=t.call(this,e,"InitCompositionCommand")||this;return n.compositionId=e,n}return Fi(e,t),e}(ge),Ni=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),xi=function(t){function e(e,n){var o=t.call(this,e,"SetColumnsCommand")||this;return o.compositionId=e,o.columns=n,o}return Ni(e,t),e.prototype.getParams=function(){return this.columns},e}(ge),Mi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Hi=function(t){function e(e,n){var o=t.call(this,e,"SetCompositionWidthCommand")||this;return o.structureId=e,o.width=n,o}return Mi(e,t),e}(ge),ki=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Wi=function(t){function e(e,n){var o=t.call(this,e,"SetCompositionContainerWidthCommand")||this;return o.structureId=e,o.width=n,o}return ki(e,t),e}(ge),zi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Li=function(t){function e(e,n){var o=t.call(this,e,"SetCompositionResizeWidthCommand")||this;return o.structureId=e,o.enabled=n,o}return zi(e,t),e}(ge),Ui=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Vi=function(t){function e(e,n){var o=t.call(this,e,"CompositionChangeSortStatusCommand")||this;return o.compositionId=e,o.sortParams=n,o}return Ui(e,t),e.prototype.getCompositionId=function(){return this.compositionId},e.prototype.getSortParams=function(){return this.sortParams},e}(ge),Gi=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Qi=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},$i=function(){function t(t){this.commandDispatcher=t}return t.prototype.init=function(t){this.commandDispatcher.dispatch(new Bi(t))},t.prototype.setColumns=function(t,e){this.commandDispatcher.dispatch(new xi(t,e))},t.prototype.setWidth=function(t,e){this.commandDispatcher.dispatch(new Hi(t,e))},t.prototype.setContainerWidth=function(t,e){this.commandDispatcher.dispatch(new Wi(t,e))},t.prototype.setResizeWidth=function(t,e){this.commandDispatcher.dispatch(new Li(t,e))},t.prototype.changeSort=function(t,e){this.commandDispatcher.dispatch(new Vi(t,e))},t=Gi([r(),Qi("design:paramtypes",[ue])],t)}(),Ki=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),qi=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Xi=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Yi=function(t){function e(e,n,o){var r=t.call(this,Bi,gi,o)||this;return r.compositionAggregateRepository=e,r.compositionAggregateFactory=n,r}return Ki(e,t),e.prototype.handle=function(t){var e=t.compositionId,n=this.compositionAggregateFactory.create(e);this.compositionAggregateRepository.save(n)},e=qi([r(),Xi("design:paramtypes",[Er,Ti,Ae])],e)}(de),Ji="CompositionResizeWidthSetAggregateEvent",Zi="ColumnsSetAggregateEvent",tc="CompositionContainerWidthSetAggregateEvent",ec="CompositionWidthSetAggregateEvent",nc=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},oc=function(){function t(){}return t.prototype.convert=function(t){return Array.isArray(t)?this.convertEvents(t):this.convertEvent(t)},t.prototype.convertEvents=function(t){var e=this;return t.map(function(t){return e.convertEvent(t)})},t.prototype.convertEvent=function(t){switch(t.getType()){case Ji:return new hi(t.getAggregateId());case Zi:return new vi(t.getAggregateId());case tc:var e=t.containerWidth;return new bi(t.getAggregateId(),e);case ec:return new _i(t.getAggregateId())}},t=nc([r()],t)}(),rc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ic=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},cc=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},uc=function(t){function e(e,n,o){var r=t.call(this,xi)||this;return r.compositionAggregateRepository=e,r.domainEventPublisher=n,r.compositionEventConverter=o,r}return rc(e,t),e.prototype.handle=function(t){var e=t.getAggregateId(),n=t.getParams(),o=this.compositionAggregateRepository.getById(e);o.setColumns(n),this.compositionAggregateRepository.save(o),this.publishEvents(o,t)},e.prototype.publishEvents=function(t,e){var n=t.getEvents(),o=this.compositionEventConverter.convert(n);this.domainEventPublisher.publish(o)},e=ic([r(),cc("design:paramtypes",[Er,Ae,oc])],e)}(de),ac=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),sc=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},pc=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},fc=function(t){function e(e,n,o){var r=t.call(this,Hi,_i,o)||this;return r.compositionAggregateRepository=e,r.columnConverter=n,r}return ac(e,t),e.prototype.handle=function(t){var e=t.structureId,n=t.width,o=this.compositionAggregateRepository.getById(e);o.setWidth(n),this.compositionAggregateRepository.save(o)},e=sc([r(),pc("design:paramtypes",[Er,pr,Ae])],e)}(de),lc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),gc=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},dc=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},hc=function(t){function e(e,n,o){var r=t.call(this,Li,hi,o)||this;return r.compositionAggregateRepository=e,r.columnConverter=n,r}return lc(e,t),e.prototype.handle=function(t){var e=t.structureId,n=t.enabled,o=this.compositionAggregateRepository.getById(e);o.setResizeWidth(n),this.compositionAggregateRepository.save(o)},e=gc([r(),dc("design:paramtypes",[Er,pr,Ae])],e)}(de),yc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),vc=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},mc=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},bc=function(t){function e(e,n,o){var r=t.call(this,Wi)||this;return r.compositionAggregateRepository=e,r.domainEventPublisher=n,r.compositionEventConverter=o,r}return yc(e,t),e.prototype.handle=function(t){var e=t.structureId,n=t.width,o=this.compositionAggregateRepository.getById(e);o.setContainerWidth(n),this.compositionAggregateRepository.save(o),this.publishAggregateEvents(o.getEvents())},e.prototype.publishAggregateEvents=function(t){var e=this.compositionEventConverter.convert(t);this.domainEventPublisher.publish(e)},e=vc([r(),mc("design:paramtypes",[Er,Ae,oc])],e)}(de),Oc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),_c=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Rc=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},wc=function(t){function e(e,n,o){var r=t.call(this,Vi)||this;return r.compositionAggregateRepository=e,r.domainEventPublisher=n,r.compositionEventConverter=o,r}return Oc(e,t),e.prototype.handle=function(t){var e=t.getCompositionId(),n=t.getSortParams(),o=this.compositionAggregateRepository.getById(e);o.changeSort(n),this.compositionAggregateRepository.save(o);var r=o.getColumns();this.domainEventPublisher.publish(new wi(e,r))},e=_c([r(),Rc("design:paramtypes",[Er,Ae,oc])],e)}(de),Cc=function(){function t(t,e,n){this.fieldId=t,this.accessor=e,this.dataType=n}return t.prototype.getId=function(){return this.fieldId},t.prototype.getValue=function(t){return this.accessor(t)},t.prototype.getAccessor=function(){return this.accessor},t.prototype.getDataType=function(){return this.dataType},t}(),Pc=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Ac=function(){function t(){}return t.prototype.create=function(t,e,n){return new Cc(t,e,n)},t=Pc([r()],t)}(),jc=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Ec=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Sc=function(){function t(t){this.domainEventBus=t}return t.prototype.selectColumnsChanged=function(t){return this.domainEventBus.ofEvent(vi).pipe(ut(function(e){return e.aggregateId.toString()===t.toString()}))},t.prototype.selectWidthChanged=function(t){return this.domainEventBus.ofEvent(vi).pipe(ut(function(e){return e.aggregateId.toString()===t.toString()}))},t.prototype.selectContainerWidthChanged=function(t){return this.domainEventBus.ofEvent(bi).pipe(ut(function(e){return e.getAggregateId().equals(t)}),at(function(t){return t.getPayload()}),ut(function(t){return!!t}))},t=jc([r(),Ec("design:paramtypes",[je])],t)}(),Ic=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Dc=function(t){function e(e){return t.call(this,e)||this}return Ic(e,t),e}(Re),Tc=new Dc("-1"),Fc=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Bc=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Nc=function(){function t(t){this.compositionRepository=t}return t.prototype.selectWidth=function(t){return void 0===t&&(t=Tc),this.compositionRepository.select(t).pipe(at(function(t){return t.getWidth()}))},t.prototype.selectContainerWidth=function(t){return void 0===t&&(t=Tc),this.compositionRepository.select(t).pipe(at(function(t){return t.getContainerWidth()}))},t.prototype.selectWidthForEachColumn=function(t){return void 0===t&&(t=Tc),this.compositionRepository.select(t).pipe(at(function(t){return t.getColumns().map(function(t){return t.width})}))},t.prototype.selectHeaderColumns=function(t){return void 0===t&&(t=Tc),this.compositionRepository.select(t).pipe(at(function(t){return t.getHeaderColumns()}))},t.prototype.selectTemplateColumns=function(t){return void 0===t&&(t=Tc),this.compositionRepository.select(t).pipe(at(function(t){return t.getTemplateColumns()}))},t.prototype.selectResizeWidth=function(t){return void 0===t&&(t=Tc),this.compositionRepository.select(t).pipe(at(function(t){return t.isResizeWidthEnabled()}))},t=Fc([r(),Bc("design:paramtypes",[fi])],t)}(),xc=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Mc=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Hc=function(){function t(t){this.compositionDispatcher=t}return t.prototype.init=function(t){void 0===t&&(t=Tc),this.compositionDispatcher.init(t)},t.prototype.setColumns=function(t,e){void 0===e&&(e=Tc),this.compositionDispatcher.setColumns(e,t)},t.prototype.setWidth=function(t,e){void 0===e&&(e=Tc),this.compositionDispatcher.setWidth(e,t)},t.prototype.setContainerWidth=function(t,e){void 0===e&&(e=Tc),this.compositionDispatcher.setContainerWidth(e,t)},t.prototype.setResizeWidth=function(t,e){void 0===e&&(e=Tc),this.compositionDispatcher.setResizeWidth(e,t)},t=xc([r(),Mc("design:paramtypes",[$i])],t)}(),kc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Wc=function(t){function e(e,n,o){var r=t.call(this,e,"ToggleSortEvent")||this;return r.compositionId=n,r.directions=o,r}return kc(e,t),e.prototype.getCompositionId=function(){return this.compositionId},e.prototype.getDirections=function(){return this.directions},e}(we),zc=function(){function t(t){this.id=t}return t.prototype.getId=function(){return this.id},t}(),Lc=function(){return function(t,e){this.fieldId=t,this.direction=e}}(),Uc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Vc=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Gc=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Qc=function(t){function e(e){var n=t.call(this)||this;return n.compositionDispatcher=e,n}return Uc(e,t),e.prototype.handle=function(t){if(t instanceof Wc){var e=t.getCompositionId(),n=t.getDirections().map(function(t){var e=new zc(t.fieldId.getId());return new Lc(e,t.direction)});this.compositionDispatcher.changeSort(e,n)}},e=Vc([r(),Gc("design:paramtypes",[$i])],e)}(Ee),$c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Kc=function(t){function e(e,n,o,r){var i=t.call(this,e,"FieldsInitedEvent")||this;return i.compositionId=n,i.columns=o,i.fields=r,i}return $c(e,t),e.prototype.getFields=function(){return this.fields},e}(we),qc=function(){function t(t,e){this.column=t,this.field=e}return t.prototype.getColumn=function(){return this.column},t.prototype.getField=function(){return this.field},t}(),Xc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Yc=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Jc=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Zc=function(t){function e(e,n){var o=t.call(this)||this;return o.compositionDispatcher=e,o.columnFieldFactory=n,o}return Xc(e,t),e.prototype.handle=function(t){var e=this;if(t instanceof Kc){var n=t.getFields(),o=n.map(function(t){return new zc(t.getId().getId())}),r=t.columns.map(function(t,r){var i=o[r],c=n[r],u=e.columnFieldFactory.create(i,c.getAccessorMethod(),c.getDataType());return new qc(t,u)});this.compositionDispatcher.setColumns(t.compositionId,r)}},e=Yc([r(),Jc("design:paramtypes",[$i,Ac])],e)}(Ee),tu=Ei.concat([$i,Ti,{provide:ie,useClass:Yi,multi:!0},{provide:ie,useClass:uc,multi:!0},{provide:ie,useClass:fc,multi:!0},{provide:ie,useClass:hc,multi:!0},{provide:ie,useClass:bc,multi:!0},{provide:ie,useClass:wc,multi:!0},pr,oc,Ac]),eu=Si.concat([{provide:Ie,useClass:Zc,multi:!0},{provide:Ie,useClass:Qc,multi:!0},ei,Wr,Mr,Vr,$r]),nu=Ii.concat(tu,eu,[ci,Hc,Nc,Sc]),ou=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},ru=[Ro,Vo,zo,No,Ko,Yo,tr],iu=[Ro,Vo,Yo,I,S,j,H,tr],cu=function(){function t(){}return t=ou([f({imports:[R,C,I,S,j,H],providers:nu.slice(),declarations:[ru],exports:iu,entryComponents:[Ro,Vo,z,L,U,V]})],t)}(),uu=function(){function t(){this.increment=0}return t.prototype.generateId=function(){return this.increment++,this.increment},t}(),au=function(){return function(){}}(),su=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),pu=function(t){function e(e){return t.call(this,e,"PageChangedAggregateEvent")||this}return su(e,t),e}(me),fu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),lu=function(t){function e(e){return t.call(this,e,"PagesizeChangedAggregateEvent")||this}return fu(e,t),e}(me),gu=function(){function t(t,e,n,o,r,i,c){this.enabled=t,this.page=e,this.pageSize=n,this.pageSizes=o,this.pagerTop=r,this.pagerBottom=i,this.events=[],this.logger=c}return t.default=function(e){return new t(!1,1,25,[10,25,50,100],!1,!0,e)},t.fromConfig=function(e,n){var o=t.default(n);return new t(e.enabled||o.isEnabled(),e.page||o.getPage(),e.pageSize||o.getPageSize(),e.pageSizes||o.getPageSizes(),e.pagerTop||o.isPagerTop(),e.pagerBottom||o.isPagerBottom(),n)},t.prototype.isEnabled=function(){return this.enabled},t.prototype.isDisabled=function(){return!this.enabled},t.prototype.getPage=function(){return this.page},t.prototype.getPageSize=function(){return this.pageSize},t.prototype.getPageSizes=function(){return this.pageSizes},t.prototype.isPagerTop=function(){return!this.isDisabled()&&this.pagerTop},t.prototype.isPagerBottom=function(){return!this.isDisabled()&&this.pagerBottom},t.prototype.change=function(t){void 0!==t.enabled&&(this.enabled=t.enabled),void 0!==t.page&&(this.page=t.page,void 0===t.enabled&&(this.enabled=!0)),void 0!==t.pageSize&&(this.pageSize=t.pageSize,void 0===t.enabled&&(this.enabled=!0)),void 0!==t.pageSizes&&(this.pageSizes=t.pageSizes,void 0===t.enabled&&(this.enabled=!0)),void 0!==t.pagerTop&&(this.pagerTop=t.pagerTop,void 0===t.enabled&&(this.enabled=!0)),void 0!==t.pagerBottom&&(this.pagerBottom=t.pagerBottom,void 0===t.enabled&&(this.enabled=!0)),!0===this.enabled&&!1===t.pagerTop&&!1===t.pagerBottom&&(this.pagerBottom=!0,this.logger.warn("Pagers cannot be turn of when paging is enabled."))},t.prototype.nextPage=function(t){var e=this.page;this.isNextPageDisabled(t)||(e+=1),this.page=e},t.prototype.prevPage=function(){var t=this.page;this.isPrevPageDisabled()||(t-=1),this.page=t},t.prototype.changePageSize=function(t){return this.pageSizes.find(function(e){return e===t})&&(this.setPage(1),this.setPageSize(t)),this.events},t.prototype.isNextPageDisabled=function(t){return this.page===Math.ceil(t/this.pageSize)},t.prototype.isPrevPageDisabled=function(){return 1===this.page},t.prototype.calculateStart=function(t){var e=1+(this.page-1)*this.pageSize;return t<e?0:e},t.prototype.calculateEnd=function(t){var e=this.page*this.pageSize;return t<e?t:e},t.prototype.sample=function(t){if(this.isDisabled())return t;var e=t.length,n=this.calculateStart(e);return 0!==n&&(n-=1),t.slice(n,this.calculateEnd(e))},t.prototype.setPage=function(t){this.page=t,this.events.push(new pu(new sn("TODO need to be changed")))},t.prototype.setPageSize=function(t){this.pageSize=t,this.events.push(new lu(new sn("TODO need to be changed")))},t}(),du=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},hu=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},yu=function(){function t(t){this.logger=t}return t.prototype.createDefault=function(){return gu.default(this.logger)},t.prototype.createFromConfig=function(t){return gu.fromConfig(t,this.logger)},t=du([r(),hu("design:paramtypes",[au])],t)}(),vu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),mu=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},bu=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ou=function(t){function e(e,n,o){var r=t.call(this,o)||this;return r.structureId=e,r.aggregateFactory=n,r}return vu(e,t),e.prototype.setDefaultPaging=function(){var e=this.aggregateFactory.createDefault();t.prototype.setPaging.call(this,{page:e.getPage(),pageSize:e.getPageSize(),pageSizes:e.getPageSizes()},this.structureId)},e.prototype.setPaging=function(e){t.prototype.setPaging.call(this,e,this.structureId)},e.prototype.changePageSize=function(e){t.prototype.changePageSize.call(this,e,this.structureId)},e.prototype.nextPage=function(){t.prototype.nextPage.call(this,this.structureId)},e.prototype.prevPage=function(){t.prototype.prevPage.call(this,this.structureId)},mu([xo,bu("design:type",Function),bu("design:paramtypes",[Object]),bu("design:returntype",void 0)],e.prototype,"setPaging",null),mu([xo,bu("design:type",Function),bu("design:paramtypes",[Number]),bu("design:returntype",void 0)],e.prototype,"changePageSize",null),mu([xo,bu("design:type",Function),bu("design:paramtypes",[]),bu("design:returntype",void 0)],e.prototype,"nextPage",null),mu([xo,bu("design:type",Function),bu("design:paramtypes",[]),bu("design:returntype",void 0)],e.prototype,"prevPage",null),e=mu([r(),bu("design:paramtypes",[sn,yu,Cn])],e)}(jn),_u=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ru=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},wu=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Cu=function(t){function e(e,n){var o=t.call(this,n)||this;return o.structureId=e,o}return _u(e,t),e.prototype.select=function(){return t.prototype.select.call(this,this.structureId)},e.prototype.selectOne=function(){return t.prototype.select.call(this,this.structureId).pipe(ct(1))},Ru([xo,wu("design:type",Function),wu("design:paramtypes",[]),wu("design:returntype",Y)],e.prototype,"select",null),Ru([xo,wu("design:type",Function),wu("design:paramtypes",[]),wu("design:returntype",Y)],e.prototype,"selectOne",null),e=Ru([r(),wu("design:paramtypes",[sn,un])],e)}(gn),Pu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Au=function(t){function e(e,n){var o=t.call(this,e,"SetSchemaCommand")||this;return o.structureId=e,o.height=n,o}return Pu(e,t),e}(ge),ju=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Eu=function(t){function e(e,n){var o=t.call(this,e,"SetSchemaVerticalGridCommand")||this;return o.structureId=e,o.enabled=n,o}return ju(e,t),e}(ge),Su=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Iu=function(t){function e(e,n){var o=t.call(this,e,"SetSchemaHorizontalGridCommand")||this;return o.structureId=e,o.enabled=n,o}return Su(e,t),e}(ge),Du=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Tu=function(t){function e(e,n){var o=t.call(this,e,"SetSchemaThemeCommand")||this;return o.structureId=e,o.theme=n,o}return Du(e,t),e}(ge),Fu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Bu=function(t){function e(e,n){var o=t.call(this,e,"SetRowColoringCommand")||this;return o.structureId=e,o.coloring=n,o}return Fu(e,t),e}(ge),Nu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),xu=function(t){function e(e,n){var o=t.call(this,e,"ChangeSchemaTopHeaderCommand")||this;return o.structureId=e,o.enabled=n,o}return Nu(e,t),e}(ge),Mu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Hu=function(t){function e(e,n){var o=t.call(this,e,"ChangeSchemaBottomHeaderCommand")||this;return o.structureId=e,o.enabled=n,o}return Mu(e,t),e}(ge),ku=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Wu=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},zu=function(){function t(t){this.commandDispatcher=t}return t.prototype.setSchema=function(t,e){this.commandDispatcher.dispatch(new Au(t,e))},t.prototype.changeVerticalGrid=function(t,e){this.commandDispatcher.dispatch(new Eu(t,e))},t.prototype.changeHorizontalGrid=function(t,e){this.commandDispatcher.dispatch(new Iu(t,e))},t.prototype.setTheme=function(t,e){this.commandDispatcher.dispatch(new Tu(t,e))},t.prototype.setRowColoring=function(t,e){void 0===t&&(t=pn),this.commandDispatcher.dispatch(new Bu(t,e))},t.prototype.changeTopHeader=function(t,e){this.commandDispatcher.dispatch(new xu(t,e))},t.prototype.changeBottomHeader=function(t,e){this.commandDispatcher.dispatch(new Hu(t,e))},t=ku([r(),Wu("design:paramtypes",[ue])],t)}(),Lu=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Uu=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Vu=function(){function t(t){this.structureRepository=t}return t.prototype.select=function(t){return this.structureRepository.select(t).pipe(ut(function(e){return e.getId().toString()===t.toString()}),at(function(t){return t.getSchema()}))},t=Lu([r(),Uu("design:paramtypes",[on])],t)}(),Gu=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Qu=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},$u=function(){function t(t){this.schemaRepository=t}return t.prototype.select=function(t){return void 0===t&&(t=pn),this.schemaRepository.select(t)},t.prototype.selectHeight=function(t){return void 0===t&&(t=pn),this.schemaRepository.select(t).pipe(at(function(t){return t.getHeight()}),ut(function(t){return void 0!==t}))},t.prototype.selectContainerHeight=function(t){return void 0===t&&(t=pn),this.schemaRepository.select(t).pipe(at(function(t){return t.getContainerHeight()}),ut(function(t){return void 0!==t}))},t.prototype.selectOne=function(t){return void 0===t&&(t=pn),this.select(t).pipe(ct(1))},t.prototype.selectCssClasses=function(t){return void 0===t&&(t=pn),this.schemaRepository.select(t).pipe(at(function(t){return t.getCssClasses()}))},t.prototype.selectColumnHeader=function(t){return void 0===t&&(t=pn),this.schemaRepository.select(t).pipe(at(function(t){return t.getColumnHeader()}))},t=Gu([r(),Qu("design:paramtypes",[Vu])],t)}(),Ku=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},qu=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Xu=function(){function t(t,e){this.schemaDispatcher=t,this.schemaQueryService=e,this.unsubscribe$=new q}return t.prototype.ngOnDestroy=function(){this.unsubscribe$.next(),this.unsubscribe$.complete()},t.prototype.setSchema=function(t,e){void 0===e&&(e=pn),this.schemaDispatcher.setSchema(e,t)},t.prototype.setHeight=function(t,e){void 0===e&&(e=pn),this.schemaDispatcher.setSchema(e,t)},t.prototype.changeVerticalGrid=function(t,e){void 0===e&&(e=pn),this.schemaDispatcher.changeVerticalGrid(e,t)},t.prototype.changeHorizontalGrid=function(t,e){void 0===e&&(e=pn),this.schemaDispatcher.changeHorizontalGrid(e,t)},t.prototype.setTheme=function(t,e){void 0===e&&(e=pn),this.schemaDispatcher.setTheme(e,t)},t.prototype.setRowColoring=function(t,e){void 0===e&&(e=pn),this.schemaDispatcher.setRowColoring(e,t)},t.prototype.changeTopHeader=function(t,e){void 0===e&&(e=pn),this.schemaDispatcher.changeTopHeader(e,t)},t.prototype.changeBottomHeader=function(t,e){void 0===e&&(e=pn),this.schemaDispatcher.changeBottomHeader(e,t)},t.prototype.toggleVerticalGrid=function(t){var e=this;void 0===t&&(t=pn),this.schemaQueryService.selectCssClasses(t).pipe(at(function(t){return t.verticalGrid}),ut(function(t){return void 0!==t}),ct(1),pt(this.unsubscribe$)).subscribe(function(n){e.changeVerticalGrid(!n,t)})},t.prototype.toggleHorizontalGrid=function(t){var e=this;void 0===t&&(t=pn),this.schemaQueryService.selectCssClasses(t).pipe(at(function(t){return t.horizontalGrid}),ut(function(t){return void 0!==t}),ct(1),pt(this.unsubscribe$)).subscribe(function(n){e.changeHorizontalGrid(!n,t)})},t.prototype.toggleTopHeader=function(t){var e=this;void 0===t&&(t=pn),this.schemaQueryService.selectColumnHeader(t).pipe(at(function(t){return t.isTopHeaderEnabled()}),ct(1),pt(this.unsubscribe$)).subscribe(function(n){e.changeTopHeader(!n,t)})},t.prototype.toggleBottomHeader=function(t){var e=this;void 0===t&&(t=pn),this.schemaQueryService.selectColumnHeader(t).pipe(at(function(t){return t.isBottomHeaderEnabled()}),ct(1),pt(this.unsubscribe$)).subscribe(function(n){e.changeBottomHeader(!n,t)})},t=Ku([r(),qu("design:paramtypes",[zu,$u])],t)}();!function(t){t[t.NONE=0]="NONE",t[t.EVEN=1]="EVEN",t[t.ODD=2]="ODD"}(cr||(cr={}));var Yu,Ju=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Zu=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},ta=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ea=function(t){function e(e,n,o){var r=t.call(this,o,n)||this;return r.structureId=e,r}return Ju(e,t),e.prototype.setDefaultSchema=function(){t.prototype.setSchema.call(this,Number.MAX_SAFE_INTEGER,this.structureId)},e.prototype.setSchema=function(e,n){void 0===n&&(n=pn),t.prototype.setSchema.call(this,e,this.structureId)},e.prototype.setHeight=function(e){t.prototype.setHeight.call(this,e,this.structureId)},e.prototype.changeVerticalGrid=function(e){t.prototype.changeVerticalGrid.call(this,e,this.structureId)},e.prototype.changeHorizontalGrid=function(e){t.prototype.changeHorizontalGrid.call(this,e,this.structureId)},e.prototype.toggleVerticalGrid=function(){t.prototype.toggleVerticalGrid.call(this,this.structureId)},e.prototype.toggleHorizontalGrid=function(){t.prototype.toggleHorizontalGrid.call(this,this.structureId)},e.prototype.setTheme=function(e){t.prototype.setTheme.call(this,e,this.structureId)},e.prototype.setRowColoring=function(e,n){void 0===n&&(n=pn),t.prototype.setRowColoring.call(this,e,this.structureId)},e.prototype.changeTopHeader=function(e,n){void 0===n&&(n=pn),t.prototype.changeTopHeader.call(this,e,this.structureId)},e.prototype.changeBottomHeader=function(e,n){void 0===n&&(n=pn),t.prototype.changeBottomHeader.call(this,e,this.structureId)},e.prototype.toggleTopHeader=function(){t.prototype.toggleTopHeader.call(this,this.structureId)},e.prototype.toggleBottomHeader=function(){t.prototype.toggleBottomHeader.call(this,this.structureId)},Zu([xo,ta("design:type",Function),ta("design:paramtypes",[Number,sn]),ta("design:returntype",void 0)],e.prototype,"setSchema",null),Zu([xo,ta("design:type",Function),ta("design:paramtypes",[Number]),ta("design:returntype",void 0)],e.prototype,"setHeight",null),Zu([xo,ta("design:type",Function),ta("design:paramtypes",[Boolean]),ta("design:returntype",void 0)],e.prototype,"changeVerticalGrid",null),Zu([xo,ta("design:type",Function),ta("design:paramtypes",[Boolean]),ta("design:returntype",void 0)],e.prototype,"changeHorizontalGrid",null),Zu([xo,ta("design:type",Function),ta("design:paramtypes",[]),ta("design:returntype",void 0)],e.prototype,"toggleVerticalGrid",null),Zu([xo,ta("design:type",Function),ta("design:paramtypes",[]),ta("design:returntype",void 0)],e.prototype,"toggleHorizontalGrid",null),Zu([xo,ta("design:type",Function),ta("design:paramtypes",[Number]),ta("design:returntype",void 0)],e.prototype,"setTheme",null),Zu([xo,ta("design:type",Function),ta("design:paramtypes",[Number,sn]),ta("design:returntype",void 0)],e.prototype,"setRowColoring",null),Zu([xo,ta("design:type",Function),ta("design:paramtypes",[Boolean,sn]),ta("design:returntype",void 0)],e.prototype,"changeTopHeader",null),Zu([xo,ta("design:type",Function),ta("design:paramtypes",[Boolean,sn]),ta("design:returntype",void 0)],e.prototype,"changeBottomHeader",null),Zu([xo,ta("design:type",Function),ta("design:paramtypes",[]),ta("design:returntype",void 0)],e.prototype,"toggleTopHeader",null),Zu([xo,ta("design:type",Function),ta("design:paramtypes",[]),ta("design:returntype",void 0)],e.prototype,"toggleBottomHeader",null),e=Zu([r(),ta("design:paramtypes",[sn,$u,zu])],e)}(Xu),na=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),oa=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},ra=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ia=function(t){function e(e,n){var o=t.call(this,n)||this;return o.structureId=e,o}return na(e,t),e.prototype.select=function(){return t.prototype.select.call(this,this.structureId)},e.prototype.selectHeight=function(){return t.prototype.selectHeight.call(this,this.structureId)},e.prototype.selectContainerHeight=function(){return t.prototype.selectContainerHeight.call(this,this.structureId)},e.prototype.selectOne=function(){return t.prototype.selectOne.call(this,this.structureId)},e.prototype.selectCssClasses=function(){return t.prototype.selectCssClasses.call(this,this.structureId)},e.prototype.selectColumnHeader=function(e){return void 0===e&&(e=pn),t.prototype.selectColumnHeader.call(this,this.structureId)},oa([xo,ra("design:type",Function),ra("design:paramtypes",[]),ra("design:returntype",Y)],e.prototype,"select",null),oa([xo,ra("design:type",Function),ra("design:paramtypes",[]),ra("design:returntype",Y)],e.prototype,"selectHeight",null),oa([xo,ra("design:type",Function),ra("design:paramtypes",[]),ra("design:returntype",Y)],e.prototype,"selectContainerHeight",null),oa([xo,ra("design:type",Function),ra("design:paramtypes",[]),ra("design:returntype",Y)],e.prototype,"selectOne",null),oa([xo,ra("design:type",Function),ra("design:paramtypes",[]),ra("design:returntype",Y)],e.prototype,"selectCssClasses",null),oa([xo,ra("design:type",Function),ra("design:paramtypes",[sn]),ra("design:returntype",Y)],e.prototype,"selectColumnHeader",null),e=oa([r(),ra("design:paramtypes",[sn,Vu])],e)}($u),ca=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ua=function(t){function e(e,n){var o=t.call(this,e,"SetFormationCommand")||this;return o.structureId=e,o.payload=n,o}return ca(e,t),e}(ge),aa=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),sa=function(t){function e(e,n){var o=t.call(this,e,"ToggleSelectedRowCommand")||this;return o.structureId=e,o.selectedRow=n,o}return aa(e,t),e}(ge),pa=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},fa=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},la=function(){function t(t){this.commandDispatcher=t}return t.prototype.setDefault=function(t){this.commandDispatcher.dispatch(new ua(t))},t.prototype.toggleSelectedRow=function(t,e){this.commandDispatcher.dispatch(new sa(t,e))},t=pa([r(),fa("design:paramtypes",[ue])],t)}(),ga=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},da=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ha=function(){function t(t){this.formationDispatcher=t}return t.prototype.setDefaultFormation=function(t){void 0===t&&(t=pn),this.formationDispatcher.setDefault(t)},t.prototype.toggleSelectedRow=function(t,e){void 0===e&&(e=pn),this.formationDispatcher.toggleSelectedRow(e,t)},t=ga([r(),da("design:paramtypes",[la])],t)}(),ya=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),va=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},ma=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ba=function(t){function e(e,n){var o=t.call(this,n)||this;return o.structureId=e,o}return ya(e,t),e.prototype.setDefault=function(){t.prototype.setDefaultFormation.call(this,this.structureId)},e.prototype.toggleSelectedRow=function(e){t.prototype.toggleSelectedRow.call(this,e,this.structureId)},va([xo,ma("design:type",Function),ma("design:paramtypes",[String]),ma("design:returntype",void 0)],e.prototype,"toggleSelectedRow",null),e=va([r(),ma("design:paramtypes",[sn,la])],e)}(ha),Oa=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},_a=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ra=function(){function t(t){this.structureRepository=t}return t.prototype.select=function(t){return this.structureRepository.select(t).pipe(ut(function(e){return e.getId().toString()===t.toString()}),at(function(t){return t.getFormation()}))},t=Oa([r(),_a("design:paramtypes",[on])],t)}(),wa=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Ca=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Pa=function(){function t(t){this.formationRepository=t}return t.prototype.selectSelectedRows=function(t){return void 0===t&&(t=pn),this.formationRepository.select(t).pipe(at(function(t){return t.getSelectedRows()}))},t=wa([r(),Ca("design:paramtypes",[Ra])],t)}(),Aa=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ja=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Ea=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Sa=function(t){function e(e,n){var o=t.call(this,n)||this;return o.structureId=e,o}return Aa(e,t),e.prototype.selectSelectedRows=function(){return t.prototype.selectSelectedRows.call(this,this.structureId)},ja([xo,Ea("design:type",Function),Ea("design:paramtypes",[]),Ea("design:returntype",Y)],e.prototype,"selectSelectedRows",null),e=ja([r(),Ea("design:paramtypes",[sn,Ra])],e)}(Pa),Ia=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Da=function(t){function e(e,n){var o=t.call(this,e,"StructureSetConfigFilterCommand")||this;return o.structureId=e,o.filterConfig=n,o}return Ia(e,t),e.prototype.getConfig=function(){return this.filterConfig},e}(ge),Ta=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Fa=function(t){function e(e,n,o,r){var i=t.call(this,e,"StructureToggleFilterCommand")||this;return i.structureId=e,i.fieldId=n,i.externalFilterId=o,i.filterValue=r,i}return Ta(e,t),e}(ge),Ba=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Na=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},xa=function(){function t(t){this.commandDispatcher=t}return t.prototype.setFilteringEnabled=function(t,e){this.commandDispatcher.dispatch(new Da(e,t))},t.prototype.addFilter=function(t,e,n,o){this.commandDispatcher.dispatch(new Fa(o,t,e,n))},t=Ba([r(),Na("design:paramtypes",[ue])],t)}(),Ma=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ha=function(t){function e(e,n){var o=t.call(this,e,"SourceSetLoadingCommand")||this;return o.structureId=e,o.enabled=n,o}return Ma(e,t),e}(ge),ka=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Wa=function(t){function e(e,n){void 0===n&&(n=[]);var o=t.call(this,e,"SetOriginCommand")||this;return o.structureId=e,o.items=n,o}return ka(e,t),e}(ge),za=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),La=function(t){function e(e,n){var o=t.call(this,e,"StructureEditSourceItemCommand")||this;return o.structureId=e,o.params=n,o}return za(e,t),e.prototype.getParams=function(){return this.params},e}(ge),Ua=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Va=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ga=function(){function t(t){this.commandDispatcher=t}return t.prototype.setLoading=function(t,e){this.commandDispatcher.dispatch(new Ha(t,e))},t.prototype.setOrigin=function(t,e){this.commandDispatcher.dispatch(new Wa(t,e))},t.prototype.editItem=function(t,e){this.commandDispatcher.dispatch(new La(t,e))},t=Ua([r(),Va("design:paramtypes",[ue])],t)}(),Qa=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),$a=function(t){function e(e){var n=t.call(this,e,"InitStructureCommand")||this;return n.structureId=e,n}return Qa(e,t),e}(ge),Ka=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),qa=function(t){function e(e,n){var o=t.call(this,e,"SetVerticalScrollEnabledCommand")||this;return o.structureId=e,o.enabled=n,o}return Ka(e,t),e}(ge),Xa=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ya=function(t){function e(e,n){var o=t.call(this,e,"SetScrollPositionCommand")||this;return o.structureId=e,o.position=n,o}return Xa(e,t),e}(ge),Ja=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Za=function(t){function e(e,n){var o=t.call(this,e,"SetSortingCommand")||this;return o.structureId=e,o.sortingConfig=n,o}return Ja(e,t),e.prototype.getSortingConfig=function(){return this.sortingConfig},e}(ge),ts=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),es=function(t){function e(e,n,o){var r=t.call(this,e,"ToggleSortCommand")||this;return r.structureId=e,r.compositionId=n,r.fieldId=o,r}return ts(e,t),e.prototype.getCompositionId=function(){return this.compositionId},e.prototype.getFieldId=function(){return this.fieldId},e}(ge),ns=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),os=function(t){function e(e,n){var o=t.call(this,e,"StructureSetConfigQuickFilterCommand")||this;return o.structureId=e,o.quickFiltersConfig=n,o}return ns(e,t),e.prototype.getConfig=function(){return this.quickFiltersConfig},e}(ge),rs=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),is=function(t){function e(e,n){var o=t.call(this,e,"StructureSetConfigSearchingCommand")||this;return o.structureId=e,o.searchConfig=n,o}return rs(e,t),e.prototype.getConfig=function(){return this.searchConfig},e}(ge),cs=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),us=function(t){function e(e,n,o){var r=t.call(this,e,"InitFieldsCommand")||this;return r.structureId=e,r.compositionId=n,r.columns=o,r}return cs(e,t),e}(ge),as=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},ss=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ps=function(){function t(t,e,n){this.commandDispatcher=t,this.structureFilterCommandService=e,this.sourceDispatcher=n}return t.prototype.init=function(t){void 0===t&&(t=pn),this.commandDispatcher.dispatch(new $a(t))},t.prototype.enableVerticalScroll=function(t){void 0===t&&(t=pn),this.commandDispatcher.dispatch(new qa(t,!0))},t.prototype.disableVerticalScroll=function(t){void 0===t&&(t=pn),this.commandDispatcher.dispatch(new qa(t,!1))},t.prototype.setScrollPosition=function(t,e){void 0===e&&(e=pn),this.commandDispatcher.dispatch(new Ya(e,t))},t.prototype.setOrigin=function(t,e){void 0===e&&(e=pn),this.sourceDispatcher.setOrigin(e,t)},t.prototype.setSortingConfig=function(t,e){void 0===e&&(e=pn),this.commandDispatcher.dispatch(new Za(e,t))},t.prototype.toggleSort=function(t,e,n){void 0===n&&(n=pn),this.commandDispatcher.dispatch(new es(n,e,t))},t.prototype.setFilterConfig=function(t,e){void 0===e&&(e=pn),this.structureFilterCommandService.setFilteringEnabled(t,e)},t.prototype.setQuickFiltersConfig=function(t,e){void 0===e&&(e=pn),this.commandDispatcher.dispatch(new os(e,t))},t.prototype.setSearchingConfig=function(t,e){void 0===e&&(e=pn),this.commandDispatcher.dispatch(new is(e,t))},t.prototype.initFields=function(t,e,n){void 0===n&&(n=pn),this.commandDispatcher.dispatch(new us(n,e,t))},t=as([r(),ss("design:paramtypes",[ue,xa,Ga])],t)}(),fs=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ls=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},gs=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ds=function(t){function e(e,n,o,r,i){var c=t.call(this,o,r,i)||this;return c.structureId=e,c.compositionId=n,c}return fs(e,t),e.prototype.init=function(){t.prototype.init.call(this,this.structureId)},e.prototype.enableVerticalScroll=function(){t.prototype.enableVerticalScroll.call(this,this.structureId)},e.prototype.disableVerticalScroll=function(){t.prototype.disableVerticalScroll.call(this,this.structureId)},e.prototype.setOrigin=function(e){t.prototype.setOrigin.call(this,e,this.structureId)},e.prototype.setScrollPosition=function(e){t.prototype.setScrollPosition.call(this,e,this.structureId)},e.prototype.setSortingConfig=function(e,n){void 0===n&&(n=pn),t.prototype.setSortingConfig.call(this,e,this.structureId)},e.prototype.toggleSort=function(e){t.prototype.toggleSort.call(this,e,this.compositionId,this.structureId)},e.prototype.setFilterConfig=function(e,n){void 0===n&&(n=pn),t.prototype.setFilterConfig.call(this,e,this.structureId)},e.prototype.setQuickFiltersConfig=function(e,n){void 0===n&&(n=pn),t.prototype.setQuickFiltersConfig.call(this,e,this.structureId)},e.prototype.setSearchingConfig=function(e,n){void 0===n&&(n=pn),t.prototype.setSearchingConfig.call(this,e,this.structureId)},e.prototype.initFields=function(e){t.prototype.initFields.call(this,e,this.compositionId,this.structureId)},ls([xo,gs("design:type",Function),gs("design:paramtypes",[]),gs("design:returntype",void 0)],e.prototype,"init",null),ls([xo,gs("design:type",Function),gs("design:paramtypes",[]),gs("design:returntype",void 0)],e.prototype,"enableVerticalScroll",null),ls([xo,gs("design:type",Function),gs("design:paramtypes",[]),gs("design:returntype",void 0)],e.prototype,"disableVerticalScroll",null),ls([xo,gs("design:type",Function),gs("design:paramtypes",[Array]),gs("design:returntype",void 0)],e.prototype,"setOrigin",null),ls([xo,gs("design:type",Function),gs("design:paramtypes",[Number]),gs("design:returntype",void 0)],e.prototype,"setScrollPosition",null),ls([xo,gs("design:type",Function),gs("design:paramtypes",[Object,sn]),gs("design:returntype",void 0)],e.prototype,"setSortingConfig",null),ls([xo,gs("design:type",Function),gs("design:paramtypes",[Xr]),gs("design:returntype",void 0)],e.prototype,"toggleSort",null),ls([xo,gs("design:type",Function),gs("design:paramtypes",[Object,sn]),gs("design:returntype",void 0)],e.prototype,"setFilterConfig",null),ls([xo,gs("design:type",Function),gs("design:paramtypes",[Object,sn]),gs("design:returntype",void 0)],e.prototype,"setQuickFiltersConfig",null),ls([xo,gs("design:type",Function),gs("design:paramtypes",[Object,sn]),gs("design:returntype",void 0)],e.prototype,"setSearchingConfig",null),ls([xo,gs("design:type",Function),gs("design:paramtypes",[Array]),gs("design:returntype",void 0)],e.prototype,"initFields",null),e=ls([r(),gs("design:paramtypes",[sn,Dc,ue,xa,Ga])],e)}(ps),hs=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},ys=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},vs=function(){function t(t){this.structureRepository=t}return t.prototype.select=function(t){return void 0===t&&(t=pn),this.structureRepository.select(t)},t.prototype.selectVerticalScrollEnabled=function(t){return void 0===t&&(t=pn),this.structureRepository.select(t).pipe(at(function(t){return t.isVerticalScrollEnabled()}),st())},t=hs([r(),ys("design:paramtypes",[on])],t)}(),ms=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),bs=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Os=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},_s=function(t){function e(e,n){var o=t.call(this,n)||this;return o.structureId=e,o}return ms(e,t),e.prototype.select=function(){return t.prototype.select.call(this,this.structureId)},e.prototype.selectVerticalScrollEnabled=function(){return t.prototype.selectVerticalScrollEnabled.call(this,this.structureId)},bs([xo,Os("design:type",Function),Os("design:paramtypes",[]),Os("design:returntype",Y)],e.prototype,"select",null),bs([xo,Os("design:type",Function),Os("design:paramtypes",[]),Os("design:returntype",Y)],e.prototype,"selectVerticalScrollEnabled",null),e=bs([r(),Os("design:paramtypes",[sn,on])],e)}(vs),Rs=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ws=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Cs=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ps=function(t){function e(){return t.call(this)||this}return Rs(e,t),e=ws([r(),Cs("design:paramtypes",[])],e)}(Fe),As=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},js=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Es=function(){function t(t){this.structureFieldUiArchive=t}return t.prototype.selectFields=function(t){return this.structureFieldUiArchive.select(t)},t=As([r(),js("design:paramtypes",[Ps])],t)}(),Ss=function(){function t(t,e,n){this.itemId=t,this.columnFieldId=e,this.value=n}return t.prototype.getItemId=function(){return this.itemId},t.prototype.getColumnFieldId=function(){return this.columnFieldId},t.prototype.getValue=function(){return this.value},t}(),Is=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ds=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Ts=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Fs=function(t){function e(e,n,o){var r=t.call(this)||this;return r.sourceDispatcher=e,r.structureFieldUiRepository=n,r.sourceQueryService=o,r}return Is(e,t),e.prototype.setOrigin=function(t,e){void 0===e&&(e=pn),this.sourceDispatcher.setOrigin(e,t)},e.prototype.setLoading=function(t,e){void 0===e&&(e=pn),this.sourceDispatcher.setLoading(e,t)},e.prototype.editItem=function(t,e){void 0===e&&(e=pn),this.sourceDispatcher.editItem(e,t)},e.prototype.editItemByIndex=function(t,e,n,o){var r=this;void 0===o&&(o=pn);var i=this.sourceQueryService.selectOne().pipe(at(function(e){return e[t].getId()})),c=this.structureFieldUiRepository.selectFields(o);ot(i,c).pipe(ct(1),this.takeUntil()).subscribe(function(t){var i=t[0],c=t[1];r.editItem(new Ss(i,c[e],n),o)})},e=Ds([r(),Ts("design:paramtypes",[Ga,Es,Fn])],e)}(tn),Bs=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ns=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},xs=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ms=function(t){function e(e,n,o,r){var i=t.call(this,n,o,r)||this;return i.structureId=e,i}return Bs(e,t),e.prototype.setOrigin=function(e){t.prototype.setOrigin.call(this,e,this.structureId)},e.prototype.setLoading=function(e){t.prototype.setLoading.call(this,e,this.structureId)},e.prototype.editItem=function(e){t.prototype.editItem.call(this,e,this.structureId)},e.prototype.editItemByIndex=function(e,n,o){t.prototype.editItemByIndex.call(this,e,n,o,this.structureId)},Ns([xo,xs("design:type",Function),xs("design:paramtypes",[Array]),xs("design:returntype",void 0)],e.prototype,"setOrigin",null),Ns([xo,xs("design:type",Function),xs("design:paramtypes",[Boolean]),xs("design:returntype",void 0)],e.prototype,"setLoading",null),Ns([xo,xs("design:type",Function),xs("design:paramtypes",[Ss]),xs("design:returntype",void 0)],e.prototype,"editItem",null),Ns([xo,xs("design:type",Function),xs("design:paramtypes",[Number,Number,Object]),xs("design:returntype",void 0)],e.prototype,"editItemByIndex",null),e=Ns([r(),xs("design:paramtypes",[sn,Ga,Es,Fn])],e)}(Fs),Hs=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ks=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Ws=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},zs=function(t){function e(e,n,o){var r=t.call(this,n,o)||this;return r.structureId=e,r}return Hs(e,t),e.prototype.select=function(){return t.prototype.select.call(this,this.structureId)},e.prototype.selectOriginSize=function(){return t.prototype.selectOriginSize.call(this,this.structureId)},e.prototype.selectOne=function(){return t.prototype.selectOne.call(this,this.structureId)},e.prototype.selectLoading=function(){return t.prototype.selectLoading.call(this,this.structureId)},ks([xo,Ws("design:type",Function),Ws("design:paramtypes",[]),Ws("design:returntype",Y)],e.prototype,"select",null),ks([xo,Ws("design:type",Function),Ws("design:paramtypes",[]),Ws("design:returntype",Y)],e.prototype,"selectOriginSize",null),ks([xo,Ws("design:type",Function),Ws("design:paramtypes",[]),Ws("design:returntype",Y)],e.prototype,"selectOne",null),ks([xo,Ws("design:type",Function),Ws("design:paramtypes",[]),Ws("design:returntype",Y)],e.prototype,"selectLoading",null),e=ks([r(),Ws("design:paramtypes",[sn,on,In])],e)}(Fn),Ls=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Us=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Vs=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Gs=function(t){function e(e,n){var o=t.call(this,n)||this;return o.compositionId=e,o}return Ls(e,t),e.prototype.init=function(e){void 0===e&&(e=Tc),t.prototype.init.call(this,this.compositionId)},e.prototype.setColumns=function(e){t.prototype.setColumns.call(this,e,this.compositionId)},e.prototype.setWidth=function(e,n){void 0===n&&(n=Tc),t.prototype.setWidth.call(this,e,this.compositionId)},e.prototype.setContainerWidth=function(e,n){void 0===n&&(n=Tc),t.prototype.setContainerWidth.call(this,e,this.compositionId)},e.prototype.setResizeWidth=function(e,n){void 0===n&&(n=Tc),t.prototype.setResizeWidth.call(this,e,this.compositionId)},Us([xo,Vs("design:type",Function),Vs("design:paramtypes",[Dc]),Vs("design:returntype",void 0)],e.prototype,"init",null),Us([xo,Vs("design:type",Function),Vs("design:paramtypes",[Array]),Vs("design:returntype",void 0)],e.prototype,"setColumns",null),Us([xo,Vs("design:type",Function),Vs("design:paramtypes",[Number,Dc]),Vs("design:returntype",void 0)],e.prototype,"setWidth",null),Us([xo,Vs("design:type",Function),Vs("design:paramtypes",[Number,Dc]),Vs("design:returntype",void 0)],e.prototype,"setContainerWidth",null),Us([xo,Vs("design:type",Function),Vs("design:paramtypes",[Boolean,Dc]),Vs("design:returntype",void 0)],e.prototype,"setResizeWidth",null),e=Us([r(),Vs("design:paramtypes",[Dc,$i])],e)}(Hc),Qs=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),$s=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Ks=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},qs=function(t){function e(e,n){var o=t.call(this,n)||this;return o.compositionId=e,o}return Qs(e,t),e.prototype.selectHeaderColumns=function(){return t.prototype.selectHeaderColumns.call(this,this.compositionId)},e.prototype.selectTemplateColumns=function(){return t.prototype.selectTemplateColumns.call(this,this.compositionId)},e.prototype.selectWidthForEachColumn=function(){return t.prototype.selectWidthForEachColumn.call(this,this.compositionId)},e.prototype.selectWidth=function(){return t.prototype.selectWidth.call(this,this.compositionId)},e.prototype.selectContainerWidth=function(e){return void 0===e&&(e=Tc),t.prototype.selectContainerWidth.call(this,this.compositionId)},e.prototype.selectResizeWidth=function(){return t.prototype.selectResizeWidth.call(this,this.compositionId)},$s([xo,Ks("design:type",Function),Ks("design:paramtypes",[]),Ks("design:returntype",Y)],e.prototype,"selectHeaderColumns",null),$s([xo,Ks("design:type",Function),Ks("design:paramtypes",[]),Ks("design:returntype",Y)],e.prototype,"selectTemplateColumns",null),$s([xo,Ks("design:type",Function),Ks("design:paramtypes",[]),Ks("design:returntype",Y)],e.prototype,"selectWidthForEachColumn",null),$s([xo,Ks("design:type",Function),Ks("design:paramtypes",[]),Ks("design:returntype",Y)],e.prototype,"selectWidth",null),$s([xo,Ks("design:type",Function),Ks("design:paramtypes",[Dc]),Ks("design:returntype",Y)],e.prototype,"selectContainerWidth",null),$s([xo,Ks("design:type",Function),Ks("design:paramtypes",[]),Ks("design:returntype",Y)],e.prototype,"selectResizeWidth",null),e=$s([r(),Ks("design:paramtypes",[Dc,fi])],e)}(Nc),Xs=[{provide:jn,useClass:Ou},{provide:gn,useClass:Cu},{provide:Xu,useClass:ea},{provide:$u,useClass:ia},{provide:ha,useClass:ba},{provide:Pa,useClass:Sa},{provide:ps,useClass:ds},{provide:vs,useClass:_s},{provide:Fs,useClass:Ms},{provide:Fn,useClass:zs},{provide:Hc,useClass:Gs},{provide:Nc,useClass:qs}],Ys=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Js=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Zs=function(){function t(t,e){this.rendererFactory2=t,this.schemaQueryService=e,this.VERTICAL_GRID_CLASS_NAME="gui-vertical-grid",this.HORIZONTAL_GRID_CLASS_NAME="gui-horizontal-grid",this.THEME_FABRIC_CLASS_NAME="gui-fabric",this.THEME_MATERIAL_CLASS_NAME="gui-material",this.THEME_LIGHT_CLASS_NAME="gui-light",this.THEME_DARK_CLASS_NAME="gui-dark",this.ROW_COLORING_ODD="gui-rows-odd",this.ROW_COLORING_EVEN="gui-rows-even",this.cssClass=null,this.unsubscribe$=new q,this.renderer=this.rendererFactory2.createRenderer(null,null)}return t.prototype.ngOnDestroy=function(){this.unsubscribe$.next(),this.unsubscribe$.complete()},t.prototype.init=function(t,e){var n=this;this.cssHostRef=t,this.schemaQueryService.selectCssClasses(e).pipe(pt(this.unsubscribe$)).subscribe(function(t){var e=n.updateState(t);n.renderCssClasses(e)})},t.prototype.updateState=function(t){var e=this;if(this.cssClass){var n={};return Object.keys(this.cssClass).forEach(function(o){t[o]!==e.cssClass[o]&&(n[o]=t[o])}),this.cssClass=t,n}return this.cssClass=t,this.cssClass},t.prototype.renderCssClasses=function(t){t.hasOwnProperty("verticalGrid")&&this.toggleCssClass(t.verticalGrid,this.VERTICAL_GRID_CLASS_NAME),t.hasOwnProperty("horizontalGrid")&&this.toggleCssClass(t.horizontalGrid,this.HORIZONTAL_GRID_CLASS_NAME),t.hasOwnProperty("theme")&&(this.removeThemeCssClasses(),this.addClass(this.resolveThemeClassName(t.theme))),t.hasOwnProperty("rowColoring")&&(this.removeRowColoringClasses(),this.addClass(this.resolveRowColoringClassName(t.rowColoring)))},t.prototype.toggleCssClass=function(t,e){t?this.addClass(e):this.removeClass(e)},t.prototype.removeThemeCssClasses=function(){var t=this;Object.keys(Et).map(function(t){return Et[t]}).map(function(e){return t.resolveThemeClassName(e)}).filter(function(t){return!!t}).forEach(function(e){t.removeClass(e)})},t.prototype.resolveThemeClassName=function(t){switch(t){case Et.FABRIC:case Et[Et.FABRIC]:return this.THEME_FABRIC_CLASS_NAME;case Et.MATERIAL:case Et[Et.MATERIAL]:return this.THEME_MATERIAL_CLASS_NAME;case Et.LIGHT:case Et[Et.LIGHT]:return this.THEME_LIGHT_CLASS_NAME;case Et.DARK:case Et[Et.DARK]:return this.THEME_DARK_CLASS_NAME;default:return this.THEME_FABRIC_CLASS_NAME}},t.prototype.resolveRowColoringClassName=function(t){switch(t){case cr.ODD:case cr[cr.ODD]:return this.ROW_COLORING_ODD;case cr.EVEN:case cr[cr.EVEN]:return this.ROW_COLORING_EVEN;default:return null}},t.prototype.removeRowColoringClasses=function(){var t=this;Object.keys(cr).map(function(t){return cr[t]}).map(function(e){return t.resolveRowColoringClassName(e)}).filter(function(t){return!!t}).forEach(function(e){t.removeClass(e)})},t.prototype.addClass=function(t){t&&this.renderer.addClass(this.cssHostRef.nativeElement,t)},t.prototype.removeClass=function(t){t&&this.renderer.removeClass(this.cssHostRef.nativeElement,t)},t=Ys([r(),Js("design:paramtypes",[b,$u])],t)}(),tp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ep=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},np=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},op=function(t){function e(){return t.call(this)||this}return tp(e,t),e=ep([r(),np("design:paramtypes",[])],e)}(ao),rp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ip=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},cp=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},up=function(t){function e(){return t.call(this)||this}return rp(e,t),e=ip([r(),cp("design:paramtypes",[])],e)}(ao),ap=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),sp=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},pp=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},fp=function(t){function e(){return t.call(this)||this}return ap(e,t),e=sp([r(),pp("design:paramtypes",[])],e)}(ao),lp=function(){function t(t,e){this.top=!1,this.bottom=!0,null!=t&&(this.top=t),null!=e&&(this.bottom=e)}return t.prototype.itTopEnabled=function(){return this.top},t.prototype.itBottomEnabled=function(){return this.bottom},t}(),gp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),dp=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},hp=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},yp=function(t){function e(){return t.call(this,new lp)||this}return gp(e,t),e=dp([r(),hp("design:paramtypes",[])],e)}(ao),vp=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},mp=function(){function t(){}return t.prototype.convert=function(t){return t.enabled?new lp(t.top,t.bottom):new lp(!1,!1)},t=vp([r()],t)}(),bp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Op=function(t){function e(e,n){var o=t.call(this,e,"StructureSetAggregationEnabledCommand")||this;return o.structureId=e,o.enabled=n,o}return bp(e,t),e}(ge),_p=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Rp=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},wp=function(){function t(t){this.commandDispatcher=t}return t.prototype.setAggregationEnabled=function(t,e){this.commandDispatcher.dispatch(new Op(e,t))},t=_p([r(),Rp("design:paramtypes",[ue])],t)}(),Cp=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Pp=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ap=function(){function t(t,e,n,o){this.structureAggregationPanelConfigConverter=t,this.structureAggregationArchive=e,this.structureAggregationCommandService=n,this.structureId=o}return t.prototype.set=function(t){var e=this.structureAggregationPanelConfigConverter.convert(t);this.structureAggregationArchive.set(e),this.structureAggregationCommandService.setAggregationEnabled(t.enabled,this.structureId)},t=Cp([r(),Pp("design:paramtypes",[mp,yp,wp,sn])],t)}(),jp=new o("StructureComponentToken");!function(t){t[t.ENTER=0]="ENTER",t[t.SUBMIT=1]="SUBMIT",t[t.CANCEL=2]="CANCEL"}(Yu||(Yu={}));var Ep=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Sp=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Ip=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Dp=function(o){function r(t,e,r,i,c,u,a,s,p,f,l,g,d,h,y,v){var m=o.call(this)||this;return m.structureId=t,m.compositionId=e,m.structureCommandService=r,m.pagingCommandService=i,m.pagingEventService=c,m.sourceCommandService=u,m.sourceEventService=a,m.schemaCommandService=s,m.compositionCommandService=p,m.compositionEventService=f,m.formationEventService=l,m.structureEditModeArchive=g,m.structureCellEditArchive=d,m.structureSummaryEnabledArchive=h,m.structureAggregationConfigService=y,m.structureCellEditStore=v,m.source=[],m.columns=[],m.pageChanged=new n,m.pageSizeChanged=new n,m.itemsSelected=new n,m.columnsChanged=new n,m.containerWidthChanged=new n,m.sourceEdited=new n,m.cellEditEntered=new n,m.cellEditCanceled=new n,m.cellEditSubmitted=new n,m}return Ep(r,o),r.prototype.ngOnChanges=function(t){if(void 0!==t.summaryPanel&&void 0!==t.summaryPanel.currentValue&&this.structureSummaryEnabledArchive.set(this.summaryPanel),void 0!==t.aggregation&&void 0!==t.aggregation.currentValue&&this.structureAggregationConfigService.set(this.aggregation),void 0!==t.editMode&&void 0!==t.editMode.currentValue&&this.structureEditModeArchive.set(this.editMode),void 0!==t.cellEditing&&void 0!==t.cellEditing.currentValue&&this.structureCellEditArchive.set(this.cellEditing),void 0!==t.width&&void 0!==t.width.currentValue&&this.compositionCommandService.setWidth(this.width),void 0!==t.autoResizeWidth&&void 0!==t.autoResizeWidth.currentValue&&this.compositionCommandService.setResizeWidth(this.autoResizeWidth),void 0!==t.columnHeaderTop&&void 0!==t.columnHeaderTop.currentValue&&this.schemaCommandService.changeTopHeader(this.columnHeaderTop),void 0!==t.columnHeaderBottom&&void 0!==t.columnHeaderBottom.currentValue&&this.schemaCommandService.changeBottomHeader(this.columnHeaderBottom),void 0!==t.loading&&void 0!==t.loading.currentValue&&this.sourceCommandService.setLoading(this.loading),void 0!==t.paging&&void 0!==t.paging.currentValue){var e=void 0;e="boolean"==typeof this.paging?{enabled:this.paging}:this.paging,this.pagingCommandService.setPaging(e)}if(t.columns&&this.structureCommandService.initFields(this.columns,this.compositionId,this.structureId),void 0!==t.verticalGrid&&void 0!==t.verticalGrid.currentValue&&this.schemaCommandService.changeVerticalGrid(this.verticalGrid),void 0!==t.horizontalGrid&&void 0!==t.horizontalGrid.currentValue&&this.schemaCommandService.changeHorizontalGrid(this.horizontalGrid),void 0!==t.theme&&void 0!==t.theme.currentValue&&this.schemaCommandService.setTheme(this.theme),void 0!==t.rowColoring&&void 0!==t.rowColoring.currentValue&&this.schemaCommandService.setRowColoring(this.rowColoring),t.height&&this.height&&this.schemaCommandService.setHeight(this.height),void 0!==t.virtualScroll&&void 0!==t.virtualScroll.currentValue&&(this.virtualScroll?this.structureCommandService.enableVerticalScroll():this.structureCommandService.disableVerticalScroll()),void 0!==t.sorting&&void 0!==t.sorting.currentValue){var n=void 0;n="boolean"==typeof this.sorting?{enabled:this.sorting}:this.sorting,this.structureCommandService.setSortingConfig(n)}if(void 0!==t.filtering&&void 0!==t.filtering.currentValue){var o=void 0;o="boolean"==typeof this.filtering?{enabled:this.filtering}:this.filtering,this.structureCommandService.setFilterConfig(o)}if(void 0!==t.quickFilters&&void 0!==t.quickFilters.currentValue){var r=void 0;r="boolean"==typeof this.quickFilters?{enabled:this.quickFilters}:this.quickFilters,this.structureCommandService.setQuickFiltersConfig(r)}if(void 0!==t.searching&&void 0!==t.searching.currentValue){var i=void 0;i="boolean"==typeof this.searching?{enabled:this.searching}:this.searching,this.structureCommandService.setSearchingConfig(i)}t.source&&this.sourceCommandService.setOrigin(this.source)},r.prototype.ngOnInit=function(){var t=this;this.pagingEventService.selectPageChange(this.structureId).pipe(this.takeUntil()).subscribe(function(e){t.pageChanged.emit(e)}),this.pagingEventService.selectPageSizeChange(this.structureId).pipe(this.takeUntil()).subscribe(function(e){t.pageSizeChanged.emit(e)}),this.formationEventService.selectItemSelected(this.structureId).pipe(this.takeUntil()).subscribe(function(e){t.itemsSelected.emit(e)}),this.compositionEventService.selectColumnsChanged(this.compositionId).pipe(lt(1),this.takeUntil()).subscribe(function(){t.columnsChanged.emit()}),this.compositionEventService.selectContainerWidthChanged(this.compositionId).pipe(this.takeUntil()).subscribe(function(e){t.containerWidthChanged.emit(e)}),this.sourceEventService.selectSourceEdited(this.structureId).pipe().subscribe(function(e){t.sourceEdited.emit(e)}),this.structureCellEditStore.select().pipe(this.takeUntil()).subscribe(function(e){switch(e){case Yu.ENTER:t.cellEditEntered.emit();break;case Yu.SUBMIT:t.cellEditSubmitted.emit();break;case Yu.CANCEL:t.cellEditCanceled.emit()}})},r.prototype.onPageChange=function(t){this.pageChanged.emit(t)},Sp([t(),Ip("design:type",Boolean)],r.prototype,"columnHeaderTop",void 0),Sp([t(),Ip("design:type",Boolean)],r.prototype,"columnHeaderBottom",void 0),Sp([t(),Ip("design:type",Number)],r.prototype,"height",void 0),Sp([t(),Ip("design:type",Number)],r.prototype,"width",void 0),Sp([t(),Ip("design:type",Boolean)],r.prototype,"autoResizeWidth",void 0),Sp([t(),Ip("design:type",Array)],r.prototype,"source",void 0),Sp([t(),Ip("design:type",Array)],r.prototype,"columns",void 0),Sp([t(),Ip("design:type",Object)],r.prototype,"paging",void 0),Sp([t(),Ip("design:type",Boolean)],r.prototype,"verticalGrid",void 0),Sp([t(),Ip("design:type",Boolean)],r.prototype,"horizontalGrid",void 0),Sp([t(),Ip("design:type",Number)],r.prototype,"theme",void 0),Sp([t(),Ip("design:type",Number)],r.prototype,"rowColoring",void 0),Sp([t(),Ip("design:type",Boolean)],r.prototype,"loading",void 0),Sp([t(),Ip("design:type",Boolean)],r.prototype,"virtualScroll",void 0),Sp([t(),Ip("design:type",Object)],r.prototype,"sorting",void 0),Sp([t(),Ip("design:type",Object)],r.prototype,"filtering",void 0),Sp([t(),Ip("design:type",Object)],r.prototype,"quickFilters",void 0),Sp([t(),Ip("design:type",Object)],r.prototype,"searching",void 0),Sp([t(),Ip("design:type",Boolean)],r.prototype,"editMode",void 0),Sp([t(),Ip("design:type",Boolean)],r.prototype,"cellEditing",void 0),Sp([t(),Ip("design:type",Boolean)],r.prototype,"summaryPanel",void 0),Sp([t(),Ip("design:type",Object)],r.prototype,"aggregation",void 0),Sp([e(),Ip("design:type",n)],r.prototype,"pageChanged",void 0),Sp([e(),Ip("design:type",n)],r.prototype,"pageSizeChanged",void 0),Sp([e(),Ip("design:type",n)],r.prototype,"itemsSelected",void 0),Sp([e(),Ip("design:type",n)],r.prototype,"columnsChanged",void 0),Sp([e(),Ip("design:type",n)],r.prototype,"containerWidthChanged",void 0),Sp([e(),Ip("design:type",n)],r.prototype,"sourceEdited",void 0),Sp([e(),Ip("design:type",n)],r.prototype,"cellEditEntered",void 0),Sp([e(),Ip("design:type",n)],r.prototype,"cellEditCanceled",void 0),Sp([e(),Ip("design:type",n)],r.prototype,"cellEditSubmitted",void 0),r}(nn),Tp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Fp=function(t){function e(e){return t.call(this,e,"NextPageEvent")||this}return Tp(e,t),e}(we),Bp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Np=function(t){function e(e){return t.call(this,e,"PrevPageEvent")||this}return Bp(e,t),e}(we),xp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Mp=function(t){function e(e){return t.call(this,e,"PageChangedEvent")||this}return xp(e,t),e}(we),Hp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),kp=function(t){function e(e){return t.call(this,e,"PagesizeChangedEvent")||this}return Hp(e,t),e}(we),Wp=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},zp=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Lp=function(){function t(t,e){this.domainEventBus=t,this.pagingQueryService=e}return t.prototype.selectPageChange=function(t){var e=this;return this.domainEventBus.ofEvent(Fp,Np,Mp).pipe(ut(function(e){return e.aggregateId.toString()===t.toString()}),gt(function(n){return e.pagingQueryService.select(t).pipe(at(function(t){return t.getPage()}),ct(1))}))},t.prototype.selectPageSizeChange=function(t){var e=this;return this.domainEventBus.ofEvent(kp).pipe(ut(function(e){return e.aggregateId.toString()===t.toString()}),gt(function(n){return e.pagingQueryService.select(t).pipe(at(function(t){return t.getPageSize()}),ct(1))}))},t=Wp([r(),zp("design:paramtypes",[je,gn])],t)}(),Up=function(){return function(t,e){this.after=t,this.before=e}}(),Vp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Gp=function(t){function e(e,n,o){var r=t.call(this,e,"StructureSourceItemEditedEvent")||this;return r.beforeItem=n,r.afterItem=o,r}return Vp(e,t),e.prototype.getBeforeItem=function(){return this.beforeItem},e.prototype.getAfterItem=function(){return this.afterItem},e}(we),Qp=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},$p=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Kp=function(){function t(t){this.domainEventBus=t}return t.prototype.selectSourceEdited=function(t){return this.domainEventBus.ofEvent(Gp).pipe(ut(function(e){return e.aggregateId.toString()===t.toString()}),at(function(t){var e=t.getAfterItem().getData(),n=t.getBeforeItem().getData();return new Up(e,n)}))},t=Qp([r(),$p("design:paramtypes",[je])],t)}(),qp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Xp=function(t){function e(e){return t.call(this,e,"SelectedRowToggledEvent")||this}return qp(e,t),e}(we),Yp=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Jp=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Zp=function(){function t(t,e){this.domainEventBus=t,this.structureQueryService=e}return t.prototype.selectItemSelected=function(t){var e=this;return this.domainEventBus.ofEvent(Xp).pipe(ut(function(e){return e.aggregateId.toString()===t.toString()}),gt(function(n){return e.structureQueryService.select(t).pipe(at(function(t){return t.getSelectedEntities()}),at(function(t){return t.map(function(t){return t.getData()})}))}))},t=Yp([r(),Jp("design:paramtypes",[je,vs])],t)}(),tf=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ef=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},nf=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};var of=[{provide:sn,useFactory:function(t){return new sn("gui-"+t.generateId())},deps:[uu]},{provide:Dc,useFactory:function(t){return new Dc("gui-"+t.generateId())},deps:[uu]}].concat(Xs,[Zs,op,up,fp,lo,yp,Ap]),rf=function(t){function e(e,n,o,r,i,c,u,a,s,p,f,l,g,d,h,y,v,m,b,O,_,R,w,C){var P=t.call(this,e,n,f,o,r,i,c,u,a,s,p,l,g,d,h,y)||this;return P.elementRef=v,P.changeDetectorRef=m,P.renderer=b,P.structureDefinition=O,P.structureQueryService=_,P.compositionQueryService=R,P.schemaQueryService=w,P.schemaStylesManager=C,P.loaderEnabled=!1,P.circleLoaderEnabled=!0,P.initialLoaderAnimation=!1,P.structureCommandService.init(),a.init(),P}var n;return tf(e,t),n=e,e.prototype.ngOnChanges=function(e){t.prototype.ngOnChanges.call(this,e)},e.prototype.ngOnInit=function(){var e=this;t.prototype.ngOnInit.call(this),this.schemaQueryService.selectHeight().pipe(this.takeUntil()).subscribe(function(t){e.structureHeight=t}),this.schemaQueryService.selectColumnHeader().pipe(this.takeUntil()).subscribe(function(t){e.columnHeader=t}),this.structureQueryService.select().pipe(this.takeUntil()).subscribe(function(t){e.structure=t,e.loaderEnabled=t.getSource().isLoading(),e.circleLoaderEnabled=t.isLoaderVisible(),e.loaderEnabled&&!e.initialLoaderAnimation&&(e.initialLoaderAnimation=!0)})},e.prototype.ngAfterViewInit=function(){var t=this,e=this.elementRef.nativeElement.offsetWidth;e>0?this.compositionCommandService.setContainerWidth(e):rt(0).pipe(this.takeUntil()).subscribe(function(){(e=t.elementRef.nativeElement.offsetWidth)>0&&t.compositionCommandService.setContainerWidth(e)}),this.schemaStylesManager.init(this.elementRef,this.structureId),this.compositionQueryService.selectWidth().pipe(this.takeUntil()).subscribe(function(e){t.renderer.setStyle(t.elementRef.nativeElement,"width",e+"px")})},e.prototype.isBorderEnabled=function(){return this.structureDefinition.isBorderEnabled()&&this.structure.isReadyToDisplay()},e.prototype.getStructureId=function(){return this.structureId},e=n=ef([c({selector:"gui-structure",template:'<gui-structure-blueprint></gui-structure-blueprint>\n\n\x3c!---------- LOADING ----------\x3e\n<div [ngClass]="{\'gui-loader-visible\': loaderEnabled, \'gui-loader-hidden\': !loaderEnabled && initialLoaderAnimation}"\n\t class="gui-loading">\n\t<gui-spinner *ngIf="circleLoaderEnabled"\n\t\t\t\t [primary]="true"\n\t\t\t\t [diameter]="120">\n\t</gui-spinner>\n</div>\n',changeDetection:g.OnPush,encapsulation:u.None,host:{"[class]":'"gui-structure"',"[style.min-height.px]":"structureHeight","[class.gui-structure-border]":"isBorderEnabled()","[id]":"structureId.toString()"},providers:of.concat([{provide:jp,useExisting:n}]),styles:[".gui-bold {\n\tfont-weight: bold;\n}\n\n.gui-italic {\n\tfont-style: italic;\n}\n","@import 'variables';\n\n\n.gui-header {\n\tbackground: $header-background;\n\tborder-bottom: 1px solid $border-color;\n\theight: $row-height + 2;\n\n\t.gui-header-cell {\n\t\tborder-right: 1px solid transparent;\n\t\tbox-sizing: border-box;\n\t\tcursor: pointer;\n\t\tline-height: 1em;\n\t\toverflow: hidden;\n\t\tpadding: 0 8px;\n\t\tpadding-right: 16px;\n\t\tposition: relative;\n\t\twhite-space: nowrap;\n\t\ttext-overflow: ellipsis;\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\n\t\t&:last-of-type {\n\t\t\tborder-right: 0;\n\t\t}\n\n\t\t.gui-header-menu {\n\t\t\tdisplay: flex;\n\n\t\t\t.gui-header-menu-icon {\n\t\t\t\tdisplay: none;\n\t\t\t\tbackground: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABj0lEQVQ4ja2T261UMQxFV2znxdwvyqASOpgzf0jUQC1UQSkUgUQFCHHPnCQOPzeH+R8sRZHysLaXt8O2bT9ijC8hBFFVQgiUUmitcblcXFUZYwCQc8bMfIxBjJHW2m8D3o8xXswMgDknvXfM7PwoIsw5AWitEWNcd8mAz6pqIQTcnRgjMUYA3J0QwrkASimIyErQeTbC7Xb7JCICYGaICCklzIw5JyKCqhJjRFXJOTPnJKVECMHN3b+KSBERROSU6u6oKiklFshHLsdxMOfczcx+ikgBGGOQUmLOSQgBVT3BvolkjIGI0HtHRPanGTwdYdu272ZWgBNUjBEzo9bKvu/knFHVs81rb63tBnwAirufta94fX0lpQT849B7J+dM7x13383dv4wxLMZ4gltGWQ5cHZlzYmYcx0FKCXf/D0a6Xq8fxxip1irLsrXW1UJXVWqt9N65XC7s++5Lbe+925zzWynlHcCaxiXdzFBVWmuICPf7nfXurcRfpqp/eu/ySPdxCtf5mtaU0gKIiBx/ARsJ0yTj9LIKAAAAAElFTkSuQmCC');\n\t\t\t\theight: 16px;\n\t\t\t\twidth: 16px;\n\t\t\t\tmargin-right: 8px;\n\t\t\t}\n\n\t\t\t.gui-sort {\n\t\t\t\tdisplay: none;\n\t\t\t\theight: 16px;\n\t\t\t\twidth: 16px;\n\t\t\t}\n\n\t\t\t.gui-sort-asc {\n\t\t\t\tbackground: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAFnElEQVR4Xu2dO6slRRSFvxF8gIiZiI9ERgMFB00MTNRf4DMTTUxEMBcRFRFzUTMDxUwZnD8wGoggqIyCBiomPjFTUHyAypY+eBjuub27q6qratfq7HJ3n+5a6+u9uoruc06gbWgFTgw9eg0eATA4BAJAAAyuwODDVwcQAIMrMPjw1QEEwOAKDD58dQABMKwCVwG3wn9rIR8CP4yoxIgd4ErgFeDuyXzz/R/gDPAo8ONIIIwGwEngLHDtAZO/Ae4CvhoFgpEAMPPfBa6eMfdb4M5RIBgFAK/5OzaGgWAEAJaaPxQE0QFYa/4wEEQGINX8ISCICkAu88NDEBGA3OaHhiAaAKXMDwtBJACuB95xzPNT13i+A+6Isk4QBYCtzN/BEwaCCABsbX4oCHoHoJb5YSDoGYDa5oeAoFcAWjG/ewh6BKA187uGoDcAUsy3hz68411Suz+t7G524BUkde6cY/8U878HXgaed57Ik8BjgD02tnTrCoJeAEg13x7wuBl40+nmA8Cn08JSaAh6AMDMtyd51hhhV76Z/wVw/0IA3gJuSITAjv2lE7oqZa0DkMt8E3cNALZfaAhaBiCn+SkAhIagVQBym58KQFgIWgSghPk5AAgJQWsAlDI/FwDhIGgJgJLm5wQgFAStAFDa/NwAhIGgBQC2ML8EACEgqA1Ayhx7f5HHs4iydh1g7rNTx2CPl1VbLKoJQKpwuxW+OYN2/y8FQGonMJCrQVALgK3NLxUB+/CljqkKBDUASBVq6ZW/RQfYHSN1bJtDsDUAqQKtNX+LDtAlBFsCUNP8LQHo6p5gKwBqm781AN1AsAUALZhfA4AuICgNQCvm1wKgeQhKAtCS+TUByAFBys3vseskpQC4GPgIuMm7SrNXt3SFz3uIkgtBnnNIuSA+m77T8E/PgZbUlALgGeDpJScy1ZYyv3YHyDFFNE2fXaFplQ5wDji18GRLmt8KAClxYJreslDT2fISHeAC4Hfgwtmj/19Q2vyWAFgLwV/AJcDfC3SdLS0BgB3UXo7wPsa9hfmtAbAGAtP0mllHFxaUAuA0cI/jXLYyv0UAlkJgmt7n0HRRSSkA7O7fZgE2Gzi0bWl+qwB4IfhjmgV8vshdR3EpAOzQjwAvHYDApjX3Tm/sOE4zS0ntaeBxg7Apol3hR02bzXx7T/HVLCqc9yElAbBD3Qg8B9wGXAGY8W8DLwDZ57QzArUMgJ36RcAT09fYGwg/AR8ATwHZr/ydVqUB2PfEZgdZ72AXXhGtA1BFqy0BWOhX9vKeAMg++EMfKACOVsZeD7e3g8NvAkAAhId8N0BFwBFWqwOoA6gDHKGA7gECYqEIUAQs+pIozQKCdQF1AHUAdYDzGdAsQLOAYI3+8HAUAYoARYAiwNfwtA7g06mrKkWAIkARoAjwNS1FgE+nrqoUAYoARYAiwNe0FAE+nbqqUgQoAhQBigBf01IE+HTqqkoRoAhQBCgCfE1LEeDTqasqRYAiQBGgCPA1LUWAT6euqhQBigBFgCLA17QUAT6duqpSBCgCFAGKAF/TUgT4dOqqShGgCFAEKAJ8TUsR4NOpqypFgCJAEaAI8DUtRYBPp66qFAGKAEWAIsDXtBQBPp26qlIEKAIUAYoAX9NSBPh06qpKEaAIUAQoAnxNSxHg06mrKkWAIkARMHIE3A685+xZVvu+s7brspG+KvZS4BfAfr3suM1+2ewy4LeunXWe/EgAmCSvAQ/NaPM68LBTv+7LRgPgcuBj4LoDzn09/UTrz9076xzAaACYLAbBi8CDe3Fgbf8N4HFgGPNNjBEB2F0bdk9wavrjE+BX50UTqmxkAEIZuXYwAmCtckH2EwBBjFw7DAGwVrkg+wmAIEauHYYAWKtckP0EQBAj1w5DAKxVLsh+AiCIkWuHIQDWKhdkv38BCBOikK5+TTcAAAAASUVORK5CYII=');\n\t\t\t\tbackground-size: contain;\n\t\t\t\tbackground-repeat: no-repeat;\n\t\t\t\tbackground-position: center;\n\t\t\t\tdisplay: block;\n\t\t\t}\n\n\t\t\t.gui-sort-desc {\n\t\t\t\tbackground: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAFcElEQVR4Xu2dPatcVRSGnwhRQUIqwc8mqIVC/ECwsFH/gEk0nWhjpZJeFFREf4AoNjaKnSL+Ak0hgo2EgBZGbJKIYJWA4gcksmAGhuvcO+t87H322us97aw7s9f7PrPec/acO3MIHakVOJS6ezWPAEgOgQAQAMkVSN6+JoAASK5A8vY1AQRAcgWSt68JIADSKnAL8NCq+3PAHxmVyDgBjgLvAc8BN6xMvwZ8CpwBrmQCIRsAZv73wLF9TP4FeCQTBNkA+Bh4fsc7/BPghSxTIBMAlvlXN8b+fh5bHBwB/swAQSYAHge+cZpqtd86a0OXZQLgWeAzp1ungc+dtaHLBMB2+wRAaKy3L14TYIsumgCaAB2+1zUB3KZqAmgCuGGJXqhzAJ0D6DJwLwOKAEVA9MnuXr8iQBGgCFAE+AaGdgJ9OoWqUgQoAhQBigDf0FIE+HQKVaUIUAQoAhQBvqGlCPDpFKpKEaAIUAQoAnxDSxHg0ylUlSJAEaAIUAT4hpYiwKdTqCpFgCJAEaAI8A0tRYBPp1BVigBFgCJAEeAbWooAn06hqhQBigBFgCLAN7QUAT6dQlUpAhQBigBFgG9oKQJ8OoWqUgQoAhQBigDf0FIE+HQKVaUIUAQoAhQBvqGlCPDpFKpKEaAIUAQoAnxDSxHg0ylUlSJAEaAIUAT4hpYiwKdTqCpFgCJAEaAI8A0tRYBPp1BVioCFI8B+pNF+kWupIxIA1bQq/WXRDwBvA48BtwI/Al8C7wL/VCahdQBuAl4FTgD3A78D3wGvr3QrIldJAF4E3gessb3HD8Ap4KciXW1/0pYBuA/4ArA3zN7jb+AV4KMSWpUCwBqxn2i98YBF/wo8WRGCVgEw878G7jhAK4PAftLWJuisRykAjOaTjpXWhKBFADzmr2U0TZ9xaDqopBQAl3cQvbnIWhC0BsAQ800v0/SuQe46iksAYGewfwGHHa+/LqkBQUsADDXfdPoXuHnuK6kSANhizwEPDgDASktD0AoAY8xfa/rwQE13lpcC4E3gjZ2v/v+CkhC0AMBY800p0/StEZoe+CelALCzf7sK2HZZs6uHUhAsDcAU8+2y2a4CZt87KQWAmTyl4RIQLAnAVC2eAC7seueMebwkAK1BsBQAzZpvBpUGoCUIlgCgafNrAdAKBLUBaN78mgC0AEFNAEKYXxuApSGoBUAY85cAYEkIagAQyvylAFgKgtIAhDN/SQCWgKAkACHNXxqA2hCUAmCK+fYJn90TUWSTx7MxVGMfYNc67gXODvj4ePP5huwYlgAgtPktTIC1mTUgmBuA8Oa3BICtpTQEcwLQhfmtAVAagrkA6Mb8FgEoCcEcAHRlfqsAlIJgKgDdmd8yACUgmAJAl+a3DsDcEIwFoFvzIwCwhsD+ceLOXRsKWx7f3CcYA8BU8+1Onp9HrLvan7SwEeRp1i4Rp0JwHAZ9P8B5x3/s7Ld22+Fr3vwoE2Bzs2gKBB8A73hoA14DXh65OxnG/GgATI2D6wNugRtSu8lUKPMjAjAVAucAGFUWzvyoALQIQUjzIwPQEgRhzY8OQAsQhDa/BwCWhCC8+b0AsAQEXZjfEwDWyz2rO4vG7BgOOe2/tLqNq+kdPm9DUXYCvf2UhqAr83ubAGtISkHQnfm9AlAiDro0v2cA5oSgW/N7B2AOCLo2PwMAUyDo3vwsAIyBIIX5mQAYAkEa87MBsIbgK+DufTYWLgJPtX4bl3dTxFPX20aQp+fbgA+BpzduELEbQOxr7F8CfvM8SS81GQFYe3c78Chg5tt3GtoNpOmOzACkM3tbwwIgOQYCQAAkVyB5+5oAAiC5Asnb1wQQAMkVSN6+JoAASK5A8vb/A4djo5Dd1KQLAAAAAElFTkSuQmCC');\n\t\t\t\tbackground-size: contain;\n\t\t\t\tbackground-repeat: no-repeat;\n\t\t\t\tbackground-position: center;\n\t\t\t\tdisplay: block;\n\t\t\t}\n\t\t}\n\n\t\t&:hover {\n\t\t\tbackground: $header-background-hover;\n\n\t\t\t.gui-header-menu {\n\t\t\t\t.gui-header-menu-icon {\n\t\t\t\t\tdisplay: block;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n}\n\n.gui-header-bottom {\n\n\t.gui-header {\n\t\tborder-bottom: 0;\n\t\tborder-top: 1px solid $border-color;\n\t}\n\n}\n\ngui-structure {\n\tbackground: $background-color;\n\tbox-sizing: border-box;\n\tcolor: $text-color;\n\tdisplay: block;\n\tfont-family: $font-family;\n\tfont-size: $font-size;\n\tposition: relative;\n\n\t* {\n\t\tbox-sizing: border-box;\n\t}\n\n\tgui-structure-search-bar {\n\n\t\tform {\n\t\t\tdisplay: flex;\n\t\t\tbackground: $white;\n\t\t\theight: $row-height;\n\t\t\tborder-bottom: 1px solid $border-color;\n\n\t\t\t.gui-search-icon {\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 5px;\n\t\t\t\tleft: 10px;\n\t\t\t\tbackground-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAACSSURBVDhPtZKLEUAwEAWD4lSgLYXQhxI0oAMNcM/cmUQuHwk78+bkczsizB8MlIVycCaey2akbBS7Cc+Yw1oS2RziKVdJvTbWcMwoOH+K4J6WaxUd156yU9Zr5CNHnbmqfPJhQeyK5b/JAk24KWnCjWBOxqqo4ZqDLXD63kiAKnorAZ6oRAIcUakE3KIaCSCRMSdEbCXGTdhJLAAAAABJRU5ErkJggg==');\n\t\t\t\twidth: 17px;\n\t\t\t\theight: 17px;\n\t\t\t}\n\n\t\t\tinput {\n\t\t\t\tborder: none;\n\t\t\t\tpadding: $net-half-width $net-half-width $net-half-width 38px;\n\t\t\t\theight: 100%;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t}\n\t}\n\n\tgui-structure-header {\n\t\tdisplay: block;\n\t\theight: 100%;\n\t\twidth: 100%;\n\n\t\tgui-structure-header-filters.gui-header {\n\t\t\theight: 32px;\n\n\t\t\t.gui-header-cell {\n\t\t\t\tpadding: 4px;\n\n\t\t\t\tinput {\n\t\t\t\t\tposition: relative;\n\t\t\t\t\tbox-sizing: border-box;\n\t\t\t\t\tborder: {\n\t\t\t\t\t\tstyle: solid;\n\t\t\t\t\t\twidth: 1px;\n\t\t\t\t\t\tcolor: $border-color;\n\t\t\t\t\t}\n\t\t\t\t\tfont: {\n\t\t\t\t\t\tsize: 13px;\n\t\t\t\t\t}\n\t\t\t\t\tpadding: 2px;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\ngui-structure-container {\n\tdisplay: block;\n\theight: 100%;\n\toverflow: auto;\n\toverflow-x: hidden;\n\tposition: relative;\n\twidth: 100%;\n\n\t.gui-structure-container {\n\t\tbox-sizing: border-box;\n\t\theight: 100%;\n\t\tposition: absolute;\n\t\twidth: 100%;\n\n\t\t.gui-content {\n\t\t\theight: 100%;\n\t\t\tposition: relative;\n\n\t\t\t.gui-row {\n\t\t\t\theight: $row-height;\n\t\t\t\tposition: absolute;\n\t\t\t\twidth: 100%;\n\n\t\t\t\t&:hover {\n\t\t\t\t\tbackground: $row-hover-background;\n\t\t\t\t}\n\n\t\t\t\t&.selected {\n\t\t\t\t\tbackground: $row-selected-background;\n\t\t\t\t}\n\n\t\t\t\t.gui-cell {\n\t\t\t\t\tborder-right: 1px solid transparent;\n\t\t\t\t\tbox-sizing: border-box;\n\t\t\t\t\tline-height: 1em;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t\tpadding: 0;\n\t\t\t\t\twhite-space: nowrap;\n\n\t\t\t\t\t.gui-button {\n\t\t\t\t\t\tpadding: 0;\n\t\t\t\t\t}\n\n\t\t\t\t\t.gui-cell-boolean {\n\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t}\n\n\t\t\t\t\t.gui-checkbox {\n\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\ttop: 4px;\n\t\t\t\t\t\tpadding-left: 22px;\n\t\t\t\t\t\tline-height: 0;\n\t\t\t\t\t}\n\n\t\t\t\t\t.gui-chip {\n\t\t\t\t\t\tmargin: 0;\n\t\t\t\t\t\tpadding: 2px 8px;\n\t\t\t\t\t}\n\n\t\t\t\t\t.gui-badge {\n\t\t\t\t\t\tpadding: 0;\n\t\t\t\t\t}\n\n\t\t\t\t\t.gui-input {\n\t\t\t\t\t\tbackground: transparent;\n\t\t\t\t\t\tfont-size: $font-size;\n\t\t\t\t\t\tborder: {\n\t\t\t\t\t\t\tstyle: none;\n\t\t\t\t\t\t\tradius: 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tpadding: 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tgui-structure-cell {\n\t\tdisplay: inline-block;\n\n\t\t> span {\n\t\t\talign-items: center;\n\t\t\tdisplay: flex;\n\t\t\tpadding: 0 8px;\n\t\t\theight: 100%;\n\t\t\twidth: 100%;\n\t\t}\n\n\t\t.gui-cell-edit-mode {\n\t\t\tborder: 2px solid #2185d0;\n\t\t\theight: 100%;\n\t\t\tpadding: 6px;\n\n\t\t\tgui-boolean-edit {\n\t\t\t\tmargin-left: calc(50% - 11px);\n\t\t\t}\n\t\t}\n\n\t}\n}\n\n.gui-vertical-grid {\n\n\t.gui-structure-aggregation-cell,\n\tgui-structure-container .gui-content .gui-row .gui-cell,\n\tgui-structure-header .gui-header .gui-header-cell {\n\t\tborder-right: 1px solid $border-color;\n\n\t\t&:last-of-type {\n\t\t\tborder-right: 0;\n\t\t}\n\t}\n\n}\n\n.gui-horizontal-grid gui-structure-container {\n\n\t.gui-row {\n\n\t\t.gui-cell {\n\t\t\tborder-bottom: 1px solid $border-color;\n\t\t}\n\n\t\t&:last-of-type {\n\t\t\t.gui-cell {\n\t\t\t\tborder-bottom: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n\n.gui-rows-odd {\n\t.gui-row:nth-child(odd) {\n\t\tbackground: $row-colored-background;\n\t}\n}\n\n.gui-rows-even {\n\t.gui-row:nth-child(even) {\n\t\tbackground: $row-colored-background;\n\t}\n}\n\ngui-structure-summary {\n\tbox-sizing: border-box;\n\tbackground: $header-background;\n\tborder-top: {\n\t\tstyle: solid;\n\t\twidth: 1px;\n\t\tcolor: $border-color;\n\t}\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tpadding: 0 6px;\n\twidth: 100%;\n\tline-height: $row-height;\n\n\tp {\n\t\tmargin: 0;\n\n\t\tb {\n\t\t\tfont-weight: bold;\n\t\t}\n\t}\n\n\tdiv {\n\t\tcolor: $text-color;\n\t\tcursor: pointer;\n\n\t\tbutton {\n\t\t\tbackground: $gray;\n\t\t\tborder: {\n\t\t\t\tstyle: solid;\n\t\t\t\twidth: 1px;\n\t\t\t\tcolor: transparent;\n\t\t\t\tradius: 50%;\n\t\t\t};\n\t\t\tcolor: $white;\n\t\t\tcursor: pointer;\n\t\t\tfont-weight: bold;\n\t\t\tfont-family: \"Comic Sans MS\", cursive, sans-serif;\n\t\t\twidth: 16px;\n\t\t\theight: 16px;\n\t\t\tline-height: 14px;\n\t\t\tpadding: 0;\n\n\t\t\t&:focus {\n\t\t\t\toutline: none;\n\t\t\t\tbox-shadow: 0 0 4px $gray\n\t\t\t}\n\t\t}\n\t}\n}\n\n.gui-structure-info-panel {\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\tflex-direction: column;\n\twidth: 160px;\n\tpadding: 16px;\n\tfont-family: Roboto, sans-serif;\n\n\tul {\n\t\tlist-style: none;\n\t\tmargin: 0;\n\t\tpadding-left: 10px;\n\t}\n\n\tp {\n\t\tfont-weight: bold;\n\t\tmargin: 0 0 0 0;\n\t\tcolor: $text-color;\n\t}\n\n\tp:nth-child(2) {\n\t\tmargin: 0 0 12px 0;\n\t}\n\n\tp:nth-child(5) {\n\t\tmargin: 8px 0 0 0;\n\t}\n\n\ta {\n\t\ttext-decoration: none;\n\t\tcolor: $blue;\n\t\tmargin: 0 0 8px 0;\n\t}\n\n\ta:hover {\n\t\tcolor: $blue-lighter;\n\t}\n}\n\n.gui-structure-border {\n\tborder: 1px solid $border-color;\n}\n\ngui-structure-aggregation-panel {\n\tbackground: $header-background;\n\tdisplay: flex;\n\n\t&.gui-structure-aggregation-panel-bottom .gui-structure-aggregation-cell {\n\t\tborder-top: 1px solid $border-color;\n\t}\n\n\t&.gui-structure-aggregation-panel-top .gui-structure-aggregation-cell {\n\t\tborder-bottom: 1px solid $border-color;\n\t}\n\n\t.gui-structure-aggregation-cell {\n\t\tfont-size: 14px;\n\t}\n\n\t.gui-structure-aggregation-value {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\tline-height: 1em;\n\t\theight: 30px;\n\t\tpadding: 8px 6px;\n\t\toverflow: hidden;\n\n\t\tdiv {\n\n\t\t\t.gui-math-symbol {\n\t\t\t\tposition: relative;\n\t\t\t\ttop: -1px;\n\t\t\t}\n\t\t}\n\n\t\t.gui-mean,\n\t\t.gui-median {\n\t\t\tposition: relative;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t}\n\n\t\t.gui-mean {\n\t\t\tspan:nth-child(1) {\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: -15px;\n\t\t\t\tleft: 1px;\n\t\t\t}\n\t\t}\n\n\t\t.gui-median {\n\t\t\tspan:nth-child(1) {\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: -8px;\n\t\t\t\tleft: 1px;\n\t\t\t}\n\t\t}\n\n\t}\n\n}\n\n@keyframes fadeIn {\n\tfrom {\n\t\topacity: 0;\n\t}\n\n\tto {\n\t\topacity: 1;\n\t}\n}\n\n@keyframes fadeOut {\n\tfrom {\n\t\topacity: 1;\n\t}\n\n\tto {\n\t\topacity: 0;\n\t}\n}\n\n.gui-loading {\n\tanimation-duration: 0.2s;\n\talign-content: center;\n\tbackground: rgba(255, 255, 255, 0.8);\n\tborder: 1px solid transparent;\n\theight: 100%;\n\tdisplay: flex;\n\tjustify-content: center;\n\tleft: 0;\n\topacity: 0;\n\tposition: absolute;\n\ttop: 0;\n\twidth: 100%;\n\tvisibility: hidden;\n\n\tgui-spinner {\n\t\talign-self: center;\n\t}\n\n\t&.gui-loader-hidden {\n\t\tanimation-name: fadeOut;\n\t\topacity: 0;\n\t\tvisibility: visible;\n\t\tz-index: -1;\n\t}\n\n\t&.gui-loader-visible {\n\t\tanimation-name: fadeIn;\n\t\topacity: 1;\n\t\tvisibility: visible;\n\t\tz-index: 1;\n\t}\n}\n","@import 'variables';\n\ngui-structure-paging {\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\talign-items: center;\n\tpadding: #{$net-size / 2}px;\n\n\t> * {\n\t\tpadding-left: #{$net-size * 2}px;\n\t}\n\n\tgui-structure-paging-select {\n\n\t\tspan {\n\t\t\tdisplay: inline-block;\n\t\t\tmargin: 0 $net-half-width 0 0;\n\t\t}\n\t}\n\n\tgui-structure-paging-navigator {\n\n\t\tbutton {\n\t\t\tmargin-right: $net-half-width;\n\n\t\t\t&:last-of-type {\n\t\t\t\tmargin-right: 0;\n\t\t\t}\n\t\t}\n\t}\n\n\tgui-structure-paging-stats {\n\n\t\tspan {\n\t\t\tdisplay: inline-block;\n\t\t\tmargin: 0 2px 0 0;\n\t\t}\n\t}\n\n\tgui-structure-alternative-paging-navigator {\n\t\tdisplay: flex;\n\t\tpadding: 0 8px;\n\t\tline-height: 34px;\n\n\t\tgui-structure-alternative-paging-pages {\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: center;\n\n\t\t\t.gui-paging-page {\n\t\t\t\tdisplay: none;\n\t\t\t\tuser-select: none;\n\t\t\t}\n\n\t\t\t.gui-paging-visible-page {\n\n\t\t\t\t.gui-paging-page {\n\t\t\t\t\tdisplay: block;\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t\tpadding: 0 8px;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.gui-paging-active-page {\n\t\t\t\tfont-weight: bold;\n\t\t\t\tcolor: black;\n\t\t\t\tbox-shadow: 0 1px 0 0 black;\n\t\t\t}\n\t\t}\n\n\t\t.gui-button {\n\t\t\tmargin: 0 4px;\n\t\t\tbackground: transparent;\n\t\t\tpadding: 0;\n\n\t\t\t&:hover {\n\t\t\t\tbackground: transparent;\n\t\t\t}\n\t\t}\n\t}\n\n\t&.gui-structure-paging-bottom {\n\t\tborder-top: 1px solid $border-color;\n\t}\n\n\t&.gui-structure-paging-top {\n\t\tborder-bottom: 1px solid $border-color;\n\t}\n\n}\n","@media (max-width: 500px) {\n\n\tgui-structure-paging {\n\n\t\t> * {\n\t\t\tpadding-left: 4px;\n\t\t}\n\n\t\tgui-structure-paging-stats {\n\t\t\tpadding-left: 4px;\n\t\t}\n\t}\n}\n",".gui-header {\n\tdisplay: flex;\n\n\t.gui-header-cell {\n\t\talign-items: center;\n\t\tdisplay: flex;\n\t}\n}\n\n.gui-content {\n\tdisplay: flex;\n\tflex-direction: column;\n\n\t.gui-row {\n\t\tdisplay: flex;\n\n\t\t.gui-cell {\n\t\t\tdisplay: inline-block;\n\t\t}\n\t}\n}\n\n",".gui-cell {\n\n\t.gui-checkbox {\n\t\tdisplay: block;\n\t}\n\n\t.gui-chip {\n\t\tmargin: 0;\n\t\tpadding: 2px 8px;\n\t}\n\n\t.gui-input {\n\t\tfont-size: 11px;\n\t\tdisplay: block;\n\t\tpadding: 2px 4px;\n\t\twidth: 86%;\n\t}\n\n\t.gui-button {\n\t\tpadding: 2px 8px;\n\t}\n\n\t.gui-cell-number {\n\t\tdisplay: block;\n\t\ttext-align: right;\n\t\twidth: 100%;\n\t}\n\n\t.gui-cell-boolean {\n\t\talign-items: center;\n\t\tdisplay: flex;\n\t\theight: 100%;\n\t\ttext-align: center;\n\t\twidth: 100%;\n\t}\n}\n",'$font-family: Roboto, "Helvetica Neue", sans-serif;\n$gray: #808080;\n\n.gui-material {\n\n\t&.gui-structure,\n\t.gui-header {\n\t\tfont-family: $font-family;\n\t}\n\n\t.gui-structure-header .gui-header {\n\t\tfont-weight: bold;\n\t\tcolor: $gray;\n\n\t\t.gui-header-cell {\n\t\t\tborder-right: 1px solid transparent;\n\t\t}\n\t}\n\n\t.gui-cell {\n\n\t\t.gui-button {\n\t\t\tpadding: 0;\n\t\t}\n\n\t\t.gui-badge {\n\t\t\tpadding: 0;\n\t\t}\n\n\t}\n\n\t&.gui-vertical-grid gui-structure-container {\n\n\t\t.gui-row {\n\n\t\t\t.gui-cell {\n\t\t\t\tborder-right: 1px solid transparent;\n\t\t\t}\n\t\t}\n\t}\n\n}\n',"$black: #121212;\n$gray: #424242;\n$gray-light: #616161;\n$gray-dark: #212121;\n\n$background: lighten($black, 15);\n$header-text: #BDBDBD;\n$dark-text: #cccccc;\n$background-hover: lighten($background, 10);\n$row-colored-background: lighten($black, 10);\n$row-selected-background: #7cb9f652;\n$horizontal-grid-color: #666666;\n$box-shadow: 5px 5px 10px 2px lighten($black, 5);\n\n\n.gui-dark {\n\n\t&.gui-structure,\n\t.gui-header {\n\t\tbackground: $background;\n\t\tcolor: $dark-text;\n\t}\n\n\t.gui-structure-border {\n\t\tborder: none;\n\t\tbox-shadow: $box-shadow;\n\t}\n\n\t.gui-structure-header {\n\n\t\t.gui-header {\n\t\t\tcolor: $header-text;\n\t\t\tborder-bottom-color: $horizontal-grid-color;\n\n\t\t\t.gui-header-cell {\n\t\t\t\tborder-right: 1px solid transparent;\n\n\t\t\t\t&:hover {\n\t\t\t\t\tbackground: $background-hover;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tgui-structure-container {\n\n\t\t.gui-structure-container {\n\n\t\t\t.gui-content {\n\n\t\t\t\t.gui-row {\n\n\t\t\t\t\t&:hover {\n\t\t\t\t\t\tbackground: $background-hover;\n\t\t\t\t\t}\n\n\t\t\t\t\t&.selected {\n\t\t\t\t\t\tbackground: $row-selected-background;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t&.gui-rows-odd {\n\n\t\t.gui-row:nth-child(odd) {\n\t\t\tbackground: $row-colored-background\n\t\t}\n\t}\n\n\t&.gui-rows-even {\n\n\t\t.gui-row:nth-child(even) {\n\t\t\tbackground: $row-colored-background\n\t\t}\n\t}\n\n\t.gui-horizontal-grid gui-structure-container {\n\t\t.gui-row {\n\t\t\t.gui-cell {\n\t\t\t\tborder-bottom-color: $horizontal-grid-color;\n\t\t\t}\n\t\t}\n\n\t}\n\n\t&.gui-vertical-grid gui-structure-container {\n\n\t\t.gui-row {\n\n\t\t\t.gui-cell {\n\t\t\t\tborder-right: 1px solid transparent;\n\t\t\t}\n\t\t}\n\t}\n\n\tgui-structure-paging {\n\t\t&.gui-structure-paging-bottom {\n\t\t\tborder-top-color: $horizontal-grid-color;\n\t\t}\n\n\t\t&.gui-structure-paging-top {\n\t\t\tborder-bottom-color: $horizontal-grid-color;\n\t\t}\n\t}\n\n\t::-webkit-scrollbar {\n\t\twidth: 15px;\n\t}\n\n\t::-webkit-scrollbar-track {\n\t\tbackground: $gray-light;\n\t}\n\n\t::-webkit-scrollbar-thumb {\n\t\tbackground: $gray;\n\t}\n\n\t::-webkit-scrollbar-thumb:hover {\n\t\tbackground: $gray-dark;\n\t}\n\n}\n",'$font-family: Roboto, "Helvetica Neue", sans-serif;\n$white: #ffffff;\n$black: #333;\n\n$border-color: #ccc;\n$background: $white;\n$light-text: $black;\n$background-hover: darken($background, 6);\n$row-colored-background: darken($white, 3);\n$row-selected-background: #7cb9f652;\n\n.gui-light {\n\n\t&.gui-structure,\n\t.gui-header {\n\t\tbackground: $background;\n\t\tcolor: $light-text;\n\t\tfont-family: $font-family;\n\t}\n\n\t&.gui-structure-border {\n\t\tborder-color: $border-color transparent;\n\t}\n\n\t.gui-structure-header {\n\n\t\t.gui-header {\n\t\t\tcolor: $black;\n\t\t\tfont-weight: bold;\n\n\t\t\t.gui-header-cell {\n\t\t\t\tborder-right: 1px solid transparent;\n\n\t\t\t\t&:hover {\n\t\t\t\t\tbackground: $background-hover;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tgui-structure-container {\n\n\t\t.gui-structure-container {\n\n\t\t\t.gui-content {\n\n\t\t\t\t.gui-row {\n\n\t\t\t\t\t&:hover {\n\t\t\t\t\t\tbackground: $background-hover;\n\t\t\t\t\t}\n\n\t\t\t\t\t&.selected {\n\t\t\t\t\t\tbackground: $row-selected-background;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t&.gui-rows-odd {\n\n\t\t.gui-row:nth-child(odd) {\n\t\t\tbackground: $row-colored-background\n\t\t}\n\t}\n\n\t&.gui-rows-even {\n\n\t\t.gui-row:nth-child(even) {\n\t\t\tbackground: $row-colored-background\n\t\t}\n\t}\n\n\t&.gui-vertical-grid gui-structure-container {\n\n\t\t.gui-row {\n\n\t\t\t.gui-cell {\n\t\t\t\tborder-right: 1px solid transparent;\n\t\t\t}\n\t\t}\n\t}\n\n}\n']}),nf("design:paramtypes",[sn,Dc,jn,Lp,Fs,Kp,Xu,Hc,Sc,Zp,ps,fp,op,lo,Ap,up,a,s,O,Qt,vs,Nc,$u,Zs])],e)}(Dp),cf=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},uf=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},af=function(){function e(t,e){this.structureCommandService=t,this.structureColumnConfigService=e}return e.prototype.toggleSort=function(t){this.structureCommandService.toggleSort(t.getFieldId())},e.prototype.isSortAsc=function(t){return t.getSortStatus()===er.ASC},e.prototype.isSortDesc=function(t){return t.getSortStatus()===er.DESC},e.prototype.openConfigDialog=function(){this.structureColumnConfigService.open()},e.prototype.closeConfigDialog=function(){this.structureColumnConfigService.close()},cf([t(),uf("design:type",Array)],e.prototype,"columns",void 0),e=cf([c({selector:"gui-structure-header-columns",template:'<div *ngFor="let cell of columns"\n\t [style.width.px]="cell.width"\n\t (click)="toggleSort(cell)"\n\t class="gui-header-cell">\n\n\t<span>\n\t\t<ng-container\n\t\t\t*ngTemplateOutlet="cell.viewTemplate;\n\t\t\t\t\t\t\t\t   context: cell.context">\n\t\t</ng-container>\n\t</span>\n\n\t<div class="gui-header-menu">\n\x3c!--\t\t<div class="gui-header-menu-icon"--\x3e\n\x3c!--\t\t\t (click)="openConfigDialog()">--\x3e\n\x3c!--\t\t</div>--\x3e\n\n\t\t<div [ngClass]="{\'gui-sort-asc\': isSortAsc(cell), \'gui-sort-desc\':  isSortDesc(cell)}"\n\t\t\t class="gui-sort">\n\t\t</div>\n\t</div>\n</div>\n',changeDetection:g.OnPush,encapsulation:u.None}),uf("design:paramtypes",[ps,Je])],e)}(),sf=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},pf=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ff=function(){function t(){this.enabled=new Map,this.enabled$=new tt}return t.prototype.setEnabled=function(t,e){this.enabled.set(e.toString(),t),this.enabled$.next(this.enabled)},t.prototype.selectFilterEnabled=function(t){return this.enabled$.asObservable().pipe(at(function(e){return e.get(t.toString())}),st())},t=sf([r(),pf("design:paramtypes",[])],t)}(),lf=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},gf=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},df=function(){function t(){this.enabled=new Map,this.enabled$=new tt}return t.prototype.setEnabled=function(t,e){this.enabled.set(e.toString(),t),this.enabled$.next(this.enabled)},t.prototype.selectQuickFilterEnabled=function(t){return this.enabled$.asObservable().pipe(at(function(e){return e.get(t.toString())}),st())},t=lf([r(),gf("design:paramtypes",[])],t)}(),hf=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},yf=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},vf=function(){function t(t,e){this.structureFilterRepository=t,this.structureQuickFilterRepository=e}return t.prototype.selectFilteringEnabled=function(t){return this.structureFilterRepository.selectFilterEnabled(t)},t.prototype.selectQuickFiltersEnabled=function(t){return this.structureQuickFilterRepository.selectQuickFilterEnabled(t)},t=hf([r(),yf("design:paramtypes",[ff,df])],t)}(),mf=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),bf=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Of=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},_f=function(t){function e(e,n,o,r,i,c){var u=t.call(this)||this;return u.changeDetectorRef=e,u.renderer=n,u.eventBus=o,u.structureId=r,u.structureFilterReadModelRepository=i,u.compositionQueryService=c,u.headerColumns=[],u.filterRowEnabled=!1,u}return mf(e,t),e.prototype.ngOnInit=function(){var t=this;this.compositionQueryService.selectHeaderColumns().pipe(this.takeUntil()).subscribe(function(e){t.headerColumns=e,t.changeDetectorRef.detectChanges()}),this.compositionQueryService.selectContainerWidth().pipe(this.takeUntil()).subscribe(function(e){t.renderer.setStyle(t.containerRef.nativeElement,"width",e+"px")}),this.structureFilterReadModelRepository.selectFilteringEnabled(this.structureId).pipe(this.takeUntil()).subscribe(function(e){t.filterRowEnabled=e,t.changeDetectorRef.detectChanges()})},bf([i(af,{read:a,static:!0}),Of("design:type",a)],e.prototype,"containerRef",void 0),e=bf([c({selector:"gui-structure-header",template:'<gui-structure-header-columns\n\t[columns]="headerColumns"\n\tclass="gui-header">\n</gui-structure-header-columns>\n\n<gui-structure-header-filters\n\t*ngIf="filterRowEnabled"\n\t[columns]="headerColumns"\n\tclass="gui-header">\n</gui-structure-header-filters>\n',changeDetection:g.OnPush,encapsulation:u.None}),Of("design:paramtypes",[s,O,je,sn,vf,Nc])],e)}(nn),Rf=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},wf=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Cf=function(){function o(t,e,o,r){var i;this.structureFilterCommandService=t,this.formBuilder=e,this.cd=o,this.structureId=r,this.closed=new n,this.filterFieldName="phrase",this.filterMode=!1,this.filterForm=this.formBuilder.group(((i={})[this.filterFieldName]=[""],i))}return o.prototype.ngOnInit=function(){var t=this;this.filterForm.valueChanges.subscribe(function(e){t.filter(e[t.filterFieldName])})},o.prototype.filter=function(t){null==t&&(t=""),this.structureFilterCommandService.addFilter(this.columns[0].getFieldId(),"1",t,this.structureId)},o.prototype.clearFilters=function(){this.filterForm.reset()},o.prototype.turnOnFilterMode=function(){this.filterMode=!0,this.cd.detectChanges()},o.prototype.turnOffFilterMode=function(){this.filterMode=!1,this.cd.detectChanges()},Rf([t(),wf("design:type",Array)],o.prototype,"columns",void 0),Rf([e(),wf("design:type",Object)],o.prototype,"closed",void 0),o=Rf([c({selector:"gui-structure-header-filters",template:'\n\t\t\n\t\t<ng-container *ngIf="!filterMode">\n\n\t\t\t<div *ngFor="let cell of columns"\n\t\t\t\t [style.width.px]="cell.width"\n\t\t\t\t class="gui-header-cell">\n\n\t\t\t\t\x3c!--\t\t\t\t<gui-structure-header-filter [column]="cell">--\x3e\n\t\t\t\t\x3c!--\t\t\t\t</gui-structure-header-filter>--\x3e\n\n\t\t\t\t<button (click)="turnOnFilterMode()">Add Filter</button>\n\n\t\t\t</div>\n\n\t\t</ng-container>\n\n\t\t<ng-container *ngIf="filterMode">\n\n\t\t\t<gui-select [options]="[\'has value\', \'is the same as\', \'starts with\', \'ends with\']" [selected]="\'has value\'" >\n\n\t\t\t</gui-select>\n\n\t\t\t<form [formGroup]="filterForm">\n\t\t\t\t<input type="text" [formControlName]="filterFieldName" gui-input/>\n\t\t\t</form>\n\n\t\t\t<button gui-button (click)="clearFilters()">Clear All</button>\n\t\t\t<button gui-button (click)="turnOffFilterMode()">Close</button>\n\n\t\t</ng-container>\n\n\t',changeDetection:g.OnPush,encapsulation:u.None}),wf("design:paramtypes",[xa,w,s,sn])],o)}(),Pf=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Af=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},jf=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ef=function(e){function n(t,n){var o=e.call(this)||this;return o.structureFilterCommandService=t,o.structureId=n,o.sub=new wo,o.editContext={changes:o.sub},o}return Pf(n,e),n.prototype.ngOnInit=function(){var t=this;this.sub.select().subscribe(function(e){return t.filter(e)})},n.prototype.filter=function(t){this.structureFilterCommandService.addFilter(this.column.getFieldId(),"1",t,this.structureId)},Af([t(),jf("design:type",Kr)],n.prototype,"column",void 0),n=Af([c({selector:"gui-structure-header-filter",template:'\n\t\t\n\x3c!--\t\t<ng-container--\x3e\n\x3c!--\t\t\t\t*ngTemplateOutlet="column.editTemplate; context: editContext">--\x3e\n\x3c!--\t\t</ng-container>--\x3e\n\t\t\n\t\t<button gui-button [primary]="true" >Add Filter</button>\n\n\t',changeDetection:g.OnPush,encapsulation:u.None}),jf("design:paramtypes",[xa,sn])],n)}(nn),Sf=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),If=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Df=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Tf=function(e){function n(t,n,o,r,i,c,u){var a=e.call(this)||this;return a.renderer=t,a.elementRef=n,a.changeDetectorRef=o,a.formationCommandService=r,a.structureCellEditArchive=i,a.structureEditModeArchive=c,a.formationQueryService=u,a.editMode=!1,a.cellEditing=!1,a}return Sf(n,e),n.prototype.ngOnInit=function(){var t=this;this.formationQueryService.selectSelectedRows().subscribe(function(e){t.clearSelectedRows(),e.getIds().forEach(function(e){var n="gui"+e.replace(/-/g,""),o=t.elementRef.nativeElement.querySelector("#"+n);o&&t.renderer.addClass(o,"selected")})}),this.structureEditModeArchive.select().pipe(this.takeUntil()).subscribe(function(e){t.editMode=e,t.changeDetectorRef.detectChanges()}),this.structureCellEditArchive.select().pipe(this.takeUntil()).subscribe(function(e){t.cellEditing=e,t.changeDetectorRef.detectChanges()})},n.prototype.trackByFn=function(){return 0},n.prototype.translateY=function(t){return"translateY("+30*t+"px)"},n.prototype.toggleSelectedRow=function(t){this.formationCommandService.toggleSelectedRow(t.id)},n.prototype.clearSelectedRows=function(){var t=this;this.elementRef.nativeElement.querySelectorAll(".selected").forEach(function(e){t.renderer.removeClass(e,"selected")})},If([t(),Df("design:type",Array)],n.prototype,"source",void 0),If([t(),Df("design:type",Array)],n.prototype,"columns",void 0),n=If([c({selector:"gui-structure-content",template:'<div class="gui-content">\n\n\t<gui-structure-row *ngFor="let entity of source; let index = index; trackBy: trackByFn"\n\t\t\t\t\t   [entity]="entity"\n\t\t\t\t\t   [columns]="columns"\n\t\t\t\t\t   [editMode]="editMode"\n\t\t\t\t\t   [cellEditing]="cellEditing"\n\t\t\t\t\t   [ngStyle]="{\'transform\': translateY(index)}"\n\t\t\t\t\t   [id]="entity.getUiId()"\n\t\t\t\t\t   (click)="toggleSelectedRow(entity)"\n\t\t\t\t\t   class="gui-row">\n\t</gui-structure-row>\n\n</div>\n',changeDetection:g.OnPush,encapsulation:u.None}),Df("design:paramtypes",[O,a,s,ha,op,fp,Pa])],n)}(nn),Ff=function(){function t(t,e,n){void 0===n&&(n=0),this.version=0,this.data=t,this.version=n,this.id=e||fe()}return t.prototype.getData=function(){return this.data},t.prototype.getUiId=function(){return"gui"+this.id.replace(/-/g,"")},t.prototype.getId=function(){return this.id},t.prototype.getVersion=function(){return this.version},t.prototype.equals=function(t){return this.id===t.id&&this.getVersion()===t.getVersion()},t.prototype.equalsById=function(t){return this.id===t},t}(),Bf=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Nf=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},xf=function(){function e(){}return e.prototype.trackByFn=function(){return 0},Bf([t(),Nf("design:type",Ff)],e.prototype,"entity",void 0),Bf([t(),Nf("design:type",Array)],e.prototype,"columns",void 0),Bf([t(),Nf("design:type",Boolean)],e.prototype,"editMode",void 0),Bf([t(),Nf("design:type",Boolean)],e.prototype,"cellEditing",void 0),e=Bf([c({selector:"gui-structure-row",template:'<gui-structure-cell *ngFor="let column of columns; trackBy: trackByFn"\n\t\t\t\t\t[entity]="entity"\n\t\t\t\t\t[cell]="column"\n\t\t\t\t\t[cellEditingEnabled]="cellEditing"\n\t\t\t\t\t[editMode]="editMode"\n\t\t\t\t\t[style.width.px]="column.width"\n\t\t\t\t\tclass="gui-cell">\n</gui-structure-cell>\n',changeDetection:g.OnPush,encapsulation:u.None})],e)}(),Mf=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Hf=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},kf=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Wf=function(e){function n(t,n,o,r){var i=e.call(this)||this;return i.changeDetectorRef=t,i.structureCellEditArchive=n,i.structureCellEditStore=o,i.sourceCommandService=r,i.inEditMode=!1,i}return Mf(n,e),n.prototype.ngOnChanges=function(t){void 0!==t.editMode&&(this.editMode?(this.cellEditingEnabled=!0,this.enterEditMode(!1)):this.editMode||this.exitEditMode())},n.prototype.enterEditMode=function(t){void 0===t&&(t=!0),this.cellEditingEnabled&&(this.inEditMode=!0,this.valueChanges$=new wo,this.status$=new wo,this.editContext={status:this.status$,valueChanges:this.valueChanges$,value:this.cell.accessor(this.entity),focus:t},this.observeFieldStatus(),this.observeValueChanges(),this.publishEditEnter(),t?this.changeDetectorRef.detectChanges():this.changeDetectorRef.markForCheck())},n.prototype.exitEditMode=function(){this.inEditMode=!1,this.changeDetectorRef.detectChanges()},n.prototype.submitChangesAndExit=function(){var t=this.entity.getId(),e=this.actualValue,n=this.cell.columnFieldId;this.sourceCommandService.editItem(new Ss(t,n,e)),this.exitEditMode()},n.prototype.observeFieldStatus=function(){var t=this;this.status$.select().pipe(this.takeUntil()).subscribe(function(e){switch(e){case Qe.SUBMIT:t.submitChangesAndExit(),t.publishEditSubmit();break;case Qe.CANCEL:t.exitEditMode(),t.publishEditCancel()}})},n.prototype.observeValueChanges=function(){var t=this;this.valueChanges$.select().pipe(this.takeUntil()).subscribe(function(e){t.actualValue=e})},n.prototype.publishEditState=function(t){this.structureCellEditStore.set(t)},n.prototype.publishEditEnter=function(){this.publishEditState(Yu.ENTER)},n.prototype.publishEditCancel=function(){this.publishEditState(Yu.CANCEL)},n.prototype.publishEditSubmit=function(){this.publishEditState(Yu.SUBMIT)},Hf([t(),kf("design:type",Ff)],n.prototype,"entity",void 0),Hf([t(),kf("design:type",Yr)],n.prototype,"cell",void 0),Hf([t(),kf("design:type",Boolean)],n.prototype,"editMode",void 0),Hf([t(),kf("design:type",Boolean)],n.prototype,"cellEditingEnabled",void 0),n=Hf([c({selector:"gui-structure-cell",template:'\n\n\t\t<span *ngIf="!inEditMode"\n\t\t\t  (click)="enterEditMode()">\n\t\t\t<ng-container\n\t\t\t\t\t*ngTemplateOutlet="cell.template;\n\t\t\t\t\tcontext: { element: cell.accessor(entity) }">\n\t\t\t</ng-container>\n\t\t</span>\n\t\t\n\t\t<span *ngIf="inEditMode" class="gui-cell-edit-mode">\n\t\t\t<ng-container\n\t\t\t\t\t*ngTemplateOutlet="cell.editTemplate;\n\t\t\t\t\tcontext: editContext">\n\t\t\t</ng-container>\n\t\t</span>\n\n\t',changeDetection:g.OnPush,encapsulation:u.None}),kf("design:paramtypes",[s,op,up,Fs])],n)}(nn),zf=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Lf=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Uf=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Vf=function(t,e){return function(n,o){e(n,o,t)}},Gf=function(t){function e(e,n,o,r,i,c,u,a,s,p,f,l,g,d){var h=t.call(this)||this;return h.elementRef=e,h.renderer=n,h.changeDetectorRef=o,h.ngZone=r,h.structureId=i,h.structureCommandService=c,h.structureQueryService=u,h.sourceQueryService=a,h.schemaQueryService=s,h.compositionCommandService=p,h.compositionQueryService=f,h.formationQueryService=l,h.resizeDetector=g,h.structureParent=d,h.columns=[],h.source=[],h.autoResizeWidthEnabled=!1,h.scrollObservation$=new q,h}return zf(e,t),e.prototype.ngOnInit=function(){var t=this;this.sourceQueryService.select().pipe(this.takeUntil()).subscribe(function(e){t.source=e,t.setHeight(30*e.length),t.changeDetectorRef.detectChanges()}),this.compositionQueryService.selectTemplateColumns().pipe(this.takeUntil()).subscribe(function(e){t.columns=e,t.changeDetectorRef.detectChanges()}),this.compositionQueryService.selectResizeWidth().pipe(this.takeUntil()).subscribe(function(e){t.autoResizeWidthEnabled=e}),it(this.sourceQueryService.select(),this.schemaQueryService.selectContainerHeight()).pipe(this.takeUntil()).subscribe(function(e){var n=e[0],o=e[1],r=27*n.length;r>o?t.setHeight(o):t.setHeight(r),t.changeDetectorRef.detectChanges()})},e.prototype.ngAfterViewInit=function(){var t=this;this.structureParent&&this.resizeDetector.observe(this.structureParent.getElementRef().nativeElement).pipe(ut(function(){return t.autoResizeWidthEnabled}),at(function(t){return t.offsetWidth}),st(),this.takeUntil()).subscribe(function(e){t.recalculateContainer(e)}),this.compositionQueryService.selectContainerWidth().pipe(this.takeUntil()).subscribe(function(e){t.renderer.setStyle(t.containerRef.nativeElement,"width",e+"px")}),this.structureQueryService.selectVerticalScrollEnabled().pipe(this.takeUntil()).subscribe(function(e){e?t.enableScrollObservation():t.disableScrollObservation()}),this.structureQueryService.select().pipe(ut(function(t){return t.isVerticalScrollEnabled()}),this.takeUntil()).subscribe(function(e){var n=e.getContainerHeight(),o=e.getTopMargin();t.renderer.setStyle(t.containerRef.nativeElement,"padding-top",o+"px"),t.renderer.setStyle(t.containerRef.nativeElement,"height",n+"px")})},e.prototype.ngOnDestroy=function(){t.prototype.ngOnDestroy.call(this),this.resizeDetector.destroy(this.elementRef.nativeElement)},e.prototype.setHeight=function(t){this.height=t,this.renderer.setStyle(this.elementRef.nativeElement,"height",this.height+"px")},e.prototype.recalculateContainer=function(t){this.autoResizeWidthEnabled&&this.compositionCommandService.setContainerWidth(t)},e.prototype.enableScrollObservation=function(){var t=this;this.ngZone.runOutsideAngular(function(){nt(t.elementRef.nativeElement,"scroll").pipe(pt(t.scrollObservation$),t.takeUntil()).subscribe(function(e){var n=e.target.scrollTop;t.structureCommandService.setScrollPosition(n)})})},e.prototype.disableScrollObservation=function(){this.scrollObservation$.next(),this.scrollObservation$.complete()},Lf([i("container",{static:!1}),Uf("design:type",a)],e.prototype,"containerRef",void 0),e=Lf([c({selector:"gui-structure-container",template:'<div #container\n\t class="gui-structure-container">\n\n\t<gui-structure-content [source]="source"\n\t\t\t\t\t\t   [columns]="columns">\n\t</gui-structure-content>\n\n</div>\n',changeDetection:g.OnPush,encapsulation:u.None}),Vf(13,l()),Vf(13,p(qt)),Uf("design:paramtypes",[a,O,s,_,sn,ps,vs,Fn,$u,Hc,Nc,Pa,G,Object])],e)}(nn),Qf=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),$f=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Kf=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},qf=function(t){function e(e){var n=t.call(this)||this;return n.formBuilder=e,n.searchForm=n.formBuilder.group({searchPhrase:""}),n}return Qf(e,t),e.prototype.ngOnInit=function(){this.observeChanges()},e.prototype.observeChanges=function(){this.searchForm.controls.searchPhrase.valueChanges.pipe(this.takeUntil()).subscribe(function(t){return console.log(t)})},e=$f([c({selector:"gui-structure-search-bar",template:'\n\t\t<form [formGroup]="searchForm">\n\t\t\t<div class="gui-search-icon"></div>\n\t\t\t<input formControlName="searchPhrase" [placeholder]="\'Search ...\'">\n\t\t</form>\n\t',changeDetection:g.OnPush,encapsulation:u.None}),Kf("design:paramtypes",[w])],e)}(nn),Xf=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Yf=function(){function t(){}return t=Xf([c({selector:"gui-structure-quick-fitlers",template:"\n\t\n\t\tQuickFilters\n\t\t\n\t"})],t)}(),Jf=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Zf=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},tl=function(){function t(){this.enabled=new Map,this.enabled$=new tt}return t.prototype.setEnabled=function(t,e){this.enabled.set(e.toString(),t),this.enabled$.next(this.enabled)},t.prototype.selectSearchingEnabled=function(t){return this.enabled$.asObservable().pipe(at(function(e){return e.get(t.toString())}),st())},t=Jf([r(),Zf("design:paramtypes",[])],t)}(),el=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},nl=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ol=function(){function t(t){this.structureSearchingRepository=t}return t.prototype.selectSearchEnabled=function(t){return this.structureSearchingRepository.selectSearchingEnabled(t)},t=el([r(),nl("design:paramtypes",[tl])],t)}(),rl=new o("Structure - - css className"),il=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),cl=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},ul=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},al=function(t,e){return function(n,o){e(n,o,t)}},sl=function(t){function e(e,n,o,r,i,c,u,a,s,p){var f=t.call(this)||this;return f.changeDetectorRef=e,f.structureDefinition=n,f.structureId=o,f.structureQueryService=r,f.pagingQueryService=i,f.structureSummaryEnabledArchive=c,f.structureAggregationArchive=u,f.structureFilterReadModelRepository=a,f.structureSearchReadModelRepository=s,f.className=p,f.searchEnabled=!1,f.topAggregationPanelEnabled=!1,f.bottomAggregationPanelEnabled=!1,f.quickFiltersEnabled=!1,f.summaryPanelEnabled=!1,f.headerCssClass="gui-"+f.className+"-header",f.contentCssClass="gui-"+f.className+"-content",f}return il(e,t),e.prototype.ngOnInit=function(){var t=this;this.structureQueryService.select().pipe(this.takeUntil()).subscribe(function(e){t.structure=e,t.changeDetectorRef.detectChanges()}),this.pagingQueryService.select().pipe(this.takeUntil()).subscribe(function(e){t.pagingReadModel=e,t.changeDetectorRef.detectChanges()}),this.structureSearchReadModelRepository.selectSearchEnabled(this.structureId).pipe(this.takeUntil()).subscribe(function(e){t.searchEnabled=e,t.changeDetectorRef.detectChanges()}),this.structureFilterReadModelRepository.selectQuickFiltersEnabled(this.structureId).pipe(this.takeUntil()).subscribe(function(e){t.quickFiltersEnabled=e,t.changeDetectorRef.detectChanges()}),this.structureAggregationArchive.select().pipe(this.takeUntil()).subscribe(function(e){t.topAggregationPanelEnabled=e.itTopEnabled(),t.bottomAggregationPanelEnabled=e.itBottomEnabled(),t.changeDetectorRef.detectChanges()}),this.structureSummaryEnabledArchive.select().pipe(this.takeUntil()).subscribe(function(e){t.summaryPanelEnabled=e,t.changeDetectorRef.detectChanges()})},e.prototype.getHeaderTopClasses=function(){return this.headerCssClass+" gui-header-top"},e.prototype.getHeaderBottomClasses=function(){return this.headerCssClass+" gui-header-bottom"},e.prototype.isColumnHeaderTopEnabled=function(){return this.structureDefinition.isHeaderEnabled()&&this.structure&&this.structure.isTopHeaderEnabled()},e.prototype.isColumnHeaderBottomEnabled=function(){return this.structureDefinition.isHeaderEnabled()&&this.structure&&this.structure.isBottomHeaderEnabled()},e.prototype.isPagingTopEnabled=function(){return this.structureDefinition.getTopPaging().isEnabled()&&this.pagingReadModel&&this.pagingReadModel.isPagerTop()},e.prototype.isPagingBottomEnabled=function(){return this.structureDefinition.getBottomPaging().isEnabled()&&this.pagingReadModel&&this.pagingReadModel.isPagerBottom()},e=cl([c({selector:"gui-structure-blueprint",template:'\x3c!---------- TOP ----------\x3e\n<gui-structure-search-bar *ngIf="searchEnabled">\n\n</gui-structure-search-bar>\n\n<gui-structure-quick-fitlers *ngIf="quickFiltersEnabled">\n\n</gui-structure-quick-fitlers>\n\n<gui-structure-paging *ngIf="isPagingTopEnabled()"\n\t\t\t\t\t  class="gui-structure-paging-top">\n</gui-structure-paging>\n\n<gui-structure-aggregation-panel [enabled]="topAggregationPanelEnabled"\n\t\t\t\t\t\t\t\t class="gui-structure-aggregation-panel-top">\n</gui-structure-aggregation-panel>\n\n<gui-structure-header *ngIf="isColumnHeaderTopEnabled()"\n\t\t\t\t\t  [ngClass]="getHeaderTopClasses()">\n</gui-structure-header>\n\n\n\x3c!---------- MAIN ----------\x3e\n<gui-structure-container [ngClass]="contentCssClass">\n</gui-structure-container>\n\n\n\x3c!---------- BOTTOM ----------\x3e\n<gui-structure-header *ngIf="isColumnHeaderBottomEnabled()"\n\t\t\t\t\t  [ngClass]="getHeaderBottomClasses()">\n</gui-structure-header>\n\n<gui-structure-aggregation-panel [enabled]="bottomAggregationPanelEnabled"\n\t\t\t\t\t\t\t\t class="gui-structure-aggregation-panel-bottom">\n</gui-structure-aggregation-panel>\n\n<gui-structure-paging *ngIf="isPagingBottomEnabled()"\n\t\t\t\t\t  class="gui-structure-paging-bottom">\n</gui-structure-paging>\n\n<gui-structure-summary *ngIf="summaryPanelEnabled"></gui-structure-summary>\n',changeDetection:g.OnPush,encapsulation:u.None}),al(9,p(rl)),ul("design:paramtypes",[s,Qt,sn,vs,gn,lo,yp,vf,ol,String])],e)}(nn),pl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),fl=function(t){function e(e,n){var o=t.call(this,e,"StructureAggregationsChangedEvent")||this;return o.values=n,o}return pl(e,t),e.prototype.getAggregations=function(){return this.values},e}(we),ll=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},gl=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},dl=function(){function t(t){this.domainEventBus=t}return t.prototype.selectAggregationsChanged=function(t){return this.domainEventBus.pipe(ut(function(t){return t instanceof fl}),ut(function(e){return e.aggregateId.toString()===t.toString()}))},t=ll([r(),gl("design:paramtypes",[je])],t)}(),hl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),yl=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},vl=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ml=function(e){function n(t,n,o,r){var i=e.call(this)||this;return i.changeDetectorRef=t,i.structureId=n,i.structureAggregationUiEventsRepository=o,i.compositionQueryService=r,i.structureAggregationUiEventsRepository.selectAggregationsChanged(i.structureId).pipe(i.takeUntil()).subscribe(function(t){i.aggregations=t.getAggregations(),i.changeDetectorRef.detectChanges()}),i}return hl(n,e),n.prototype.ngOnInit=function(){var t=this;this.compositionQueryService.selectHeaderColumns().pipe(this.takeUntil()).subscribe(function(e){t.headerColumns=e,t.changeDetectorRef.detectChanges()})},n.prototype.isAggregateTypePresent=function(t){return null!=t},yl([t(),vl("design:type",Boolean)],n.prototype,"enabled",void 0),n=yl([c({selector:"gui-structure-aggregation-panel",template:'\n\n\t\t<ng-container *ngIf="enabled && aggregations">\n\n\t\t\t<div *ngFor="let column of headerColumns"\n\t\t\t\t [style.width.px]="column.width"\n\t\t\t\t class="gui-header-cell gui-structure-aggregation-cell">\n\n\t\t\t\t<ng-container *ngIf="aggregations && !!aggregations.get(column.getFieldId().getId())">\n\n\t\t\t\t\t<div *ngIf="isAggregateTypePresent(aggregations.get(column.getFieldId().getId()).count)" class="gui-structure-aggregation-value">\n\t\t\t\t\t\tCount: <span>{{ aggregations.get(column.getFieldId().getId()).count }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf="isAggregateTypePresent(aggregations.get(column.getFieldId().getId()).distinct)" class="gui-structure-aggregation-value">\n\t\t\t\t\t\tDistinct: <span>{{ aggregations.get(column.getFieldId().getId()).distinct }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf=" isAggregateTypePresent(aggregations.get(column.getFieldId().getId()).sum)" class="gui-structure-aggregation-value">\n\n\t\t\t\t\t\t<div><span class="gui-math-symbol">&sum;</span> Sum</div>\n\t\t\t\t\t\t<span>{{ aggregations.get(column.getFieldId().getId()).sum }}</span></div>\n\n\t\t\t\t\t<div *ngIf="isAggregateTypePresent(aggregations.get(column.getFieldId().getId()).average)" class="gui-structure-aggregation-value">\n\n\t\t\t\t\t\t<div class="gui-mean"><span>_</span><span>X Average</span></div>\n\t\t\t\t\t\t<span>{{ aggregations.get(column.getFieldId().getId()).average }}</span></div>\n\n\t\t\t\t\t<div *ngIf=" isAggregateTypePresent(aggregations.get(column.getFieldId().getId()).min)" class="gui-structure-aggregation-value">\n\n\t\t\t\t\t\t<div><span class="gui-math-symbol">&and;</span> Min</div>\n\t\t\t\t\t\t<span>{{ aggregations.get(column.getFieldId().getId()).min }}</span></div>\n\n\t\t\t\t\t<div *ngIf=" isAggregateTypePresent(aggregations.get(column.getFieldId().getId()).max)" class="gui-structure-aggregation-value">\n\n\t\t\t\t\t\t<div><span class="gui-math-symbol">&or;</span> Max</div>\n\t\t\t\t\t\t<span>{{ aggregations.get(column.getFieldId().getId()).max }}</span></div>\n\n\t\t\t\t\t<div *ngIf="isAggregateTypePresent(aggregations.get(column.getFieldId().getId()).median)" class="gui-structure-aggregation-value">\n\n\t\t\t\t\t\t<div class="gui-median"><span>~</span><span>X Median</span></div>\n\t\t\t\t\t\t<span>{{ aggregations.get(column.getFieldId().getId()).median }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf="isAggregateTypePresent(aggregations.get(column.getFieldId().getId()).truthy)" class="gui-structure-aggregation-value">\n\t\t\t\t\t\tTruthy: <span>{{ aggregations.get(column.getFieldId().getId()).truthy }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf="isAggregateTypePresent(aggregations.get(column.getFieldId().getId()).falsy)" class="gui-structure-aggregation-value">\n\t\t\t\t\t\tFalsy: <span>{{ aggregations.get(column.getFieldId().getId()).falsy }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t</ng-container>\n\t\t\t</div>\n\n\t\t</ng-container>\n\n\t',changeDetection:g.OnPush,encapsulation:u.None}),vl("design:paramtypes",[s,sn,dl,Nc])],n)}(nn),bl=function(){return(bl=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Ol=function(){function t(t,e,n){void 0===n&&(n=0),this.id=t,this.rawData=e,this.version=n}return t.prototype.getData=function(){return this.rawData},t.prototype.getVersion=function(){return this.version},t.prototype.bumpVersion=function(){this.version+=1},t.prototype.clone=function(){var e=bl({},this.rawData);return new t(this.id,e,this.version)},t}(),_l=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Rl=function(){function t(){}return t.prototype.create=function(t){return Array.isArray(t)?this.createEntities(t):this.createEntity(t)},t.prototype.createEntities=function(t){var e=this;return t.map(function(t){return e.createEntity(t)})},t.prototype.createEntity=function(t){return t instanceof Ol?new Ff(t.rawData,t.id,t.getVersion()):new Ff(t)},t=_l([r()],t)}(),wl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Cl=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Pl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return wl(e,t),e=Cl([r()],e)}(He),Al=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),jl=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},El=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Sl=function(t){function e(e,n){return t.call(this,e,n)||this}return Al(e,t),e=jl([r(),El("design:paramtypes",[Pl,Oe])],e)}(xe),Il=function(){return function(){}}(),Dl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Tl=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Fl=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Bl=function(t){function e(e){var n=t.call(this)||this;return n.inMemoryStructureAggregateStore=e,n}return Dl(e,t),e.prototype.getById=function(t){var e=this.inMemoryStructureAggregateStore.getById(t);return e.clearEvents(),e},e.prototype.save=function(t){this.inMemoryStructureAggregateStore.save(t)},e=Tl([r(),Fl("design:paramtypes",[Sl])],e)}(Il),Nl=function(){function t(t){this.rowIds=t}return t.prototype.isRowSelected=function(t){return!!this.rowIds.find(function(e){return t.equalsById(e)})},t.prototype.getIds=function(){return this.rowIds},t}(),xl=function(){function t(t){this.selectedRowsList=new Nl(t)}return t.prototype.getSelectedRows=function(){return this.selectedRowsList},t}(),Ml=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Hl=function(){function t(){}return t.prototype.convert=function(t){var e=t.getSelectedRows();return new xl(e)},t=Ml([r()],t)}(),kl=function(){function t(t,e,n,o){this.verticalGrid=t,this.horizontalGrid=e,this.theme=n,this.rowColoring=o}return t.prototype.getRowColoring=function(){return this.rowColoring},t}(),Wl=function(){function t(t,e,n,o,r,i,c,u){this.width=t,this.height=e,this.containerHeight=n,this.verticalGridEnabled=o,this.horizontalGridEnabled=r,this.theme=i,this.columnHeader=c,this.rowColoring=u}return t.prototype.getRowColoring=function(){return this.rowColoring},t.prototype.getTheme=function(){return this.theme},t.prototype.getHeight=function(){return this.height},t.prototype.getContainerHeight=function(){return this.containerHeight},t.prototype.getWidth=function(){return this.width},t.prototype.isVerticalGridEnabled=function(){return this.verticalGridEnabled},t.prototype.isHorizontalGridEnabled=function(){return this.horizontalGridEnabled},t.prototype.getColumnHeader=function(){return this.columnHeader},t.prototype.getCssClasses=function(){return new kl(this.isVerticalGridEnabled(),this.isHorizontalGridEnabled(),this.getTheme(),this.getRowColoring())},t}(),zl=function(){function t(t,e){this.top=t,this.bottom=e}return t.prototype.isTopHeaderEnabled=function(){return this.top},t.prototype.isBottomHeaderEnabled=function(){return this.bottom},t}(),Ll=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Ul=function(){function t(){}return t.prototype.convert=function(t){var e=t.getColumnHeader();return new Wl(t.getWidth(),t.getHeight(),t.getContainerHeight(),t.isVerticalGridEnabled(),t.isHorizontalGridEnabled(),t.getTheme(),this.convertColumnHeader(e),t.getRowColoring())},t.prototype.convertColumnHeader=function(t){return new zl(t.isHeaderOnTop(),t.isHeaderOnBottom())},t=Ll([r()],t)}(),Vl=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Gl=function(){function t(){}return t.prototype.convert=function(t){return new Hn(t.isEnabled(),t.getPage(),t.getPageSize(),t.getPageSizes(),t.isPagerTop(),t.isPagerBottom())},t=Vl([r()],t)}(),Ql=function(){function t(t){this.loading=t}return t.prototype.isLoading=function(){return this.loading},t}(),$l=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Kl=function(){function t(){}return t.prototype.convert=function(t){return new Ql(t.isLoading())},t=$l([r()],t)}(),ql=function(){function t(t,e,n,o){this.enabled=t,this.topMargin=e,this.containerHeight=n,this.viewportHeight=o}return t.prototype.isEnabled=function(){return this.enabled},t.prototype.getTopMargin=function(){return this.topMargin},t.prototype.getContainerHeight=function(){return this.containerHeight},t.prototype.getViewPortHeight=function(){return this.viewportHeight},t}(),Xl=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Yl=function(){function t(){}return t.prototype.convert=function(t){var e=t.isEnabled(),n=t.getTopMargin(),o=t.calcFullHeight(),r=t.getViewPortHeight();return new ql(e,n,o,r)},t=Xl([r()],t)}(),Jl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Zl=function(t){function e(e,n,o,r,i,c,u){var a=t.call(this,e)||this;return a.formation=n,a.schema=o,a.paging=r,a.entities=i,a.source=c,a.verticalFormation=u,a}return Jl(e,t),e.prototype.getFormation=function(){return this.formation},e.prototype.getSchema=function(){return this.schema},e.prototype.getPaging=function(){return this.paging},e.prototype.getEntities=function(){return this.entities},e.prototype.getSource=function(){return this.source},e.prototype.getSelectedEntities=function(){var t=this.formation.getSelectedRows().getIds();return this.entities.filter(function(e){return t.some(function(t){return e.equalsById(t)})})},e.prototype.getTopMargin=function(){return this.verticalFormation.getTopMargin()},e.prototype.getContainerHeight=function(){return this.verticalFormation.getContainerHeight()},e.prototype.isLoaderVisible=function(){return this.getSchema().getHeight()>150&&this.getSource().isLoading()},e.prototype.isTopHeaderEnabled=function(){return this.schema.getColumnHeader().isTopHeaderEnabled()},e.prototype.isBottomHeaderEnabled=function(){return this.schema.getColumnHeader().isBottomHeaderEnabled()},e.prototype.isReadyToDisplay=function(){return this.entities.length>0},e.prototype.isVerticalScrollEnabled=function(){return this.verticalFormation.isEnabled()},e}(De),tg=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},eg=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ng=function(){function t(t,e,n,o,r){this.formationConverter=t,this.schemaConverter=e,this.pagingConverter=n,this.sourceConverter=o,this.verticalFormationConverter=r}return t.prototype.convert=function(t){var e=t.getFormation(),n=t.getSchema(),o=t.getPaging(),r=t.getEntities(),i=t.getSource(),c=t.getVerticalFormation();return new Zl(t.getId(),this.formationConverter.convert(e),this.schemaConverter.convert(n),this.pagingConverter.convert(o),this.convertSource(r),this.sourceConverter.convert(i),this.verticalFormationConverter.convert(c))},t.prototype.convertSource=function(t){return t.map(function(t){return new Ff(t.rawData,t.id,t.getVersion())})},t=tg([r(),eg("design:paramtypes",[Hl,Ul,Gl,Kl,Yl])],t)}(),og=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),rg=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},ig=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},cg=function(t){function e(e,n){var o=t.call(this,e)||this;return o.inMemoryProjectStore=e,o.structureConverter=n,o}return og(e,t),e.prototype.toReadModel=function(t){return this.structureConverter.convert(t)},e=rg([r(),ig("design:paramtypes",[Pl,ng])],e)}(Me),ug=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ag=function(t){function e(e){return t.call(this,e,"StructureInitedEvent")||this}return ug(e,t),e}(we),sg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),pg=function(t){function e(e){return t.call(this,e,"SetSourceLoadingEvent")||this}return sg(e,t),e}(we),fg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),lg=function(t){function e(e){return t.call(this,e,"SchemaSetEvent")||this}return fg(e,t),e}(we),gg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),dg=function(t){function e(e){return t.call(this,e,"SchemaThemeSetEvent")||this}return gg(e,t),e}(we),hg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),yg=function(t){function e(e){return t.call(this,e,"SchemaHorizontalGridSetEvent")||this}return hg(e,t),e}(we),vg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),mg=function(t){function e(e){return t.call(this,e,"SchemaVerticalGridSetEvent")||this}return vg(e,t),e}(we),bg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Og=function(t){function e(e){return t.call(this,e,"SchemaTopHeaderChangedEvent")||this}return bg(e,t),e}(we),_g=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Rg=function(t){function e(e){return t.call(this,e,"SchemaBottomHeaderChangedEvent")||this}return _g(e,t),e}(we),wg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Cg=function(t){function e(e){return t.call(this,e,"RowColoringSetEvent")||this}return wg(e,t),e}(we),Pg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ag=function(t){function e(e){return t.call(this,e,"PagingSetEvent")||this}return Pg(e,t),e}(we),jg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Eg=function(t){function e(e){return t.call(this,e,"FormationSetEvent")||this}return jg(e,t),e}(we),Sg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ig=function(t){function e(e){return t.call(this,e,"VerticalScrollEnabledSetEvent")||this}return Sg(e,t),e}(we),Dg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Tg=function(t){function e(e){return t.call(this,e,"ScrollPositionSetEvent")||this}return Dg(e,t),e}(we),Fg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Bg=function(t){function e(e,n){var o=t.call(this,e,"OriginSetEvent")||this;return o.origin=n,o}return Fg(e,t),e.prototype.getOrigin=function(){return this.origin},e}(we),Ng=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),xg=function(t){function e(e){return t.call(this,e,"StructureFilterToggledEvent")||this}return Ng(e,t),e}(we),Mg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Hg=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},kg=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Wg=function(t){function e(e,n){var o=t.call(this)||this;return o.domainEventBus=e,o.inMemoryStructureQueryStore=n,o.structureIdToStructure=new Map,o.structure$=new tt(1),o.unsubscribe$=new q,o.domainEventBus.ofEvent(ag,pg,lg,dg,yg,mg,Og,Rg,Cg,Ag,Np,Fp,kp,Eg,Xp,Ig,Tg,Wc,xg,Bg).pipe(pt(o.unsubscribe$)).subscribe(function(t){var e=t.aggregateId,n=o.inMemoryStructureQueryStore.getById(e),r=n.getId().toString();o.structureIdToStructure.set(r,n),o.structure$.next(o.structureIdToStructure)}),o}return Mg(e,t),e.prototype.select=function(t){return this.structure$.asObservable().pipe(ut(function(e){var n=t.getId();return e.has(n)}),at(function(e){return e.get(t.getId())}))},e.prototype.ngOnDestroy=function(){this.unsubscribe$.next(),this.unsubscribe$.complete()},e=Hg([r(),kg("design:paramtypes",[je,cg])],e)}(on),zg=[Sl,{provide:Il,useClass:Bl}],Lg=[cg,{provide:on,useClass:Wg}],Ug=[Pl],Vg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Gg=function(t){function e(e,n,o){var r=t.call(this,e,"StructureSourceItemEditedAggregateEvent")||this;return r.beforeItem=n,r.afterItem=o,r}return Vg(e,t),e.prototype.getBeforeItem=function(){return this.beforeItem},e.prototype.getAfterItem=function(){return this.afterItem},e}(me),Qg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),$g=function(t){function e(e,n){var o=t.call(this,e,"StructureOriginChangedAggregateEvent")||this;return o.origin=n,o}return Qg(e,t),e.prototype.getOrigin=function(){return this.origin},e}(me),Kg=function(){function t(){this.loading=!1,this.fetched=!1,this.entities=[],this.slicedEntities=[]}return t.prototype.isLoading=function(){return this.loading},t.prototype.isFetched=function(){return this.fetched},t.prototype.setLoading=function(t){this.loading=t},t.prototype.setEntities=function(t){this.entities=t},t.prototype.getEntities=function(){return this.entities},t.prototype.setSlicedEntities=function(t){this.slicedEntities=t},t.prototype.getSlicedEntities=function(){return this.slicedEntities},t.prototype.setOrigin=function(t,e){return void 0===t&&(t=[]),this.origin=this.convertItems(t),this.createOriginChangedEvent(e)},t.prototype.setConvertedOrigin=function(t,e){return void 0===t&&(t=[]),this.origin=t,this.createOriginChangedEvent(e)},t.prototype.getOrigin=function(){return this.origin},t.prototype.getOriginSize=function(){return this.origin.length},t.prototype.editOriginItem=function(t,e,n,o){var r=this.findOriginItem(t),i=r.clone();return r&&(r.rawData[n.getAccessor()]=e,r.bumpVersion()),[new Gg(o,i,r.clone()),this.createOriginChangedEvent(o)]},t.prototype.removeOriginItem=function(t,e){var n=this.findOriginItemIndex(t);return n>-1?(this.origin.splice(n,1),[this.createOriginChangedEvent(e)]):[]},t.prototype.convertItems=function(t){return t.map(function(t){return new Ol(fe(),t)})},t.prototype.createOriginChangedEvent=function(t){return new $g(t,this.origin)},t.prototype.findOriginItem=function(t){return this.origin.find(function(e){return e.id===t})},t.prototype.findOriginItemIndex=function(t){return this.origin.findIndex(function(e){return e.id===t})},t}(),qg=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Xg=function(){function t(){}return t.prototype.createDefault=function(){return new Kg},t.prototype.create=function(){return new Kg},t=qg([r()],t)}(),Yg=function(){function t(t,e){this.start=t,this.end=e}return t.prototype.getStart=function(){return this.start},t.prototype.getEnd=function(){return this.end},t}(),Jg=function(){function t(t,e,n,o,r,i,c){void 0===t&&(t=!1),void 0===e&&(e=0),void 0===n&&(n=0),void 0===o&&(o=0),this.enabled=t,this.rowHeight=30,this.hiddenItemsTop=0,this.hiddenItemsBottom=0,this.viewportHeight=e,this.sourceSize=n,this.scrollPosition=o,Number.isInteger(r)&&(this.rowHeight=r),Number.isInteger(i)&&(this.hiddenItemsTop=i),Number.isInteger(c)&&(this.hiddenItemsBottom=c),this.calculateRange()}return t.prototype.isEnabled=function(){return this.enabled&&this.viewportHeight>0&&this.sourceSize>0},t.prototype.getRange=function(){return this.range},t.prototype.getTopMargin=function(){return this.range.getStart()*this.rowHeight},t.prototype.calculateRange=function(){if(!(this.calcFullHeight()<=this.viewportHeight)){var t=Math.floor(this.viewportHeight/this.rowHeight),e=Math.floor(this.scrollPosition/this.rowHeight),n=Math.abs(e-this.hiddenItemsTop)*this.rowHeight,o=e-this.hiddenItemsTop,r=o+Math.ceil(this.viewportHeight/this.rowHeight)+this.hiddenItemsBottom;return r>this.sourceSize&&(o=(r=this.sourceSize)-t),this.range=new Yg(o,r),{start:o,end:r,topMargin:n}}this.range=new Yg(0,this.sourceSize)},t.prototype.setEnabled=function(t){this.enabled=t,this.enabled&&0===this.viewportHeight&&this.logger.warn("Height needs to be specified in order for virtual scroll to work."),this.calculateRange()},t.prototype.setSourceSize=function(t){void 0===t&&(t=0),this.sourceSize=t,this.calculateRange()},t.prototype.setTopHiddenItemsCount=function(t){this.hiddenItemsTop=t,this.calculateRange()},t.prototype.setBottomHiddenItemsCount=function(t){this.hiddenItemsBottom=t,this.calculateRange()},t.prototype.setScrollPosition=function(t){this.scrollPosition=t,this.calculateRange()},t.prototype.setViewportHeight=function(t){this.viewportHeight=t,this.calculateRange()},t.prototype.setRowHeight=function(t){this.rowHeight=t},t.prototype.setLogger=function(t){this.logger=t},t.prototype.calcFullHeight=function(){return this.sourceSize*this.rowHeight},t.prototype.getViewPortHeight=function(){return this.viewportHeight},t}(),Zg=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},td=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ed=function(){function t(t){this.logger=t}return t.prototype.create=function(t,e,n,o,r,i,c){void 0===t&&(t=!1),void 0===e&&(e=0),void 0===n&&(n=0),void 0===o&&(o=0);var u=new Jg(t,e,n,o,r,i,c);return u.setLogger(this.logger),u},t=Zg([r(),td("design:paramtypes",[au])],t)}(),nd="GUI - Aggregation Calculators",od=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),rd=function(t){function e(e,n){var o=t.call(this,e,"StructureAggregationsChangedAggregateEvent")||this;return o.aggregatedValues=n,o}return od(e,t),e.prototype.getAggregations=function(){return this.aggregatedValues},e}(me),id=function(){function t(t,e){this.calculators=e,this.enabled=!1,this.values=new Map,this.structureId=t}return t.prototype.calculate=function(t,e){if(!this.enabled)return[];var n=new Map;return this.calculators.forEach(function(o){var r=o.calculate(t,e);r&&Array.from(r.keys()).forEach(function(t){n.set(t,r.get(t))})}),n.size>0?[new rd(this.structureId,n)]:[]},t.prototype.setEnabled=function(t){this.enabled=t},t.prototype.add=function(){},t.prototype.remove=function(){},t.prototype.update=function(){},t}(),cd=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},ud=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ad=function(t,e){return function(n,o){e(n,o,t)}},sd=function(){function t(t){this.calculators=t}return t.prototype.create=function(t){return new id(t,this.calculators)},t=cd([r(),ad(0,p(nd)),ud("design:paramtypes",[Array])],t)}(),pd=function(){function t(t,e,n){this.filterId=t,this.field=e,this.filterValue=n}return t.prototype.getFieldId=function(){return this.field.getId()},t.prototype.getFilterValue=function(){return this.filterValue},t.prototype.setFilterValue=function(t){this.filterValue=t},t.prototype.filter=function(t){var e=this;return 0===t.length?t:t.filter(function(t){return e.field.getDataType()===wt.STRING?e.filterString(t):e.field.getDataType()===wt.NUMBER?e.filterNumber(t):e.field.getDataType()!==wt.BOOLEAN||e.filterBoolean(t)})},t.prototype.filterString=function(t){return this.field.getValue(t).toLowerCase().indexOf(this.filterValue.toLowerCase())>-1},t.prototype.filterNumber=function(t){return this.field.getValue(t)>this.filterValue},t.prototype.filterBoolean=function(t){return this.field.getValue(t)===this.filterValue},t}(),fd=function(){function t(t,e){var n=t.getId().toString();this.id=n+"@"+e}return t.prototype.getId=function(){return this.id},t}(),ld=function(){function t(t){void 0===t&&(t=!1),this.filters=new Map,this.enabled=t}return t.prototype.setConfig=function(t){t&&void 0!==t.enabled&&null!==t.enabled&&(this.enabled=t.enabled)},t.prototype.addFilter=function(t,e,n){var o=new fd(t,e),r=new pd(o,t,n);""===n?this.filters.delete(o.getId()):this.filters.set(o.getId(),r)},t.prototype.filter=function(t){for(var e=this.getAll(),n=t.slice(),o=0,r=e;o<r.length;o++){n=r[o].filter(n)}return n},t.prototype.getAll=function(){return this.enabled?Array.from(this.filters).map(function(t){return t[1]}):[]},t}(),gd=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},dd=function(){function t(){}return t.prototype.create=function(t){return void 0===t&&(t=!1),new ld(t)},t=gd([r()],t)}(),hd=function(){function t(){}return t.prototype.generateId=function(){return new Xr(fe())},t}(),yd=function(){function t(t,e,n,o){this.aggregationEnabled=!0,this.id=t,this.accessor=e,this.dataType=n,"string"==typeof e?this.accessorMethod=function(t){return t.getData()[e]}:"function"==typeof e&&(this.accessorMethod=function(t){return e(t.getData())}),this.possibleAggregations=this.assignPossibleAggregations(),this.assignAggregations(o)}return t.prototype.getId=function(){return this.id},t.prototype.getKey=function(){return this.getId().getId()},t.prototype.getDataType=function(){return this.dataType},t.prototype.getAccessor=function(){return this.accessor},t.prototype.getAccessorMethod=function(){return this.accessorMethod},t.prototype.getValue=function(t){return this.accessorMethod(t)},t.prototype.isAggregation=function(t){return!!this.isAggregationEnabled()&&!!(this.aggregations&t)},t.prototype.isAggregationEnabled=function(){return this.aggregationEnabled},t.prototype.setAggregationEnabled=function(t){this.aggregationEnabled=t},t.prototype.assignAggregations=function(t){var e=this;t&&0!==Object.keys(t).length?(t.enabled&&(this.aggregationEnabled=!!t.enabled),t.aggregationTypes?(this.aggregations=0,t.aggregationTypes.forEach(function(t){e.aggregations|=t})):this.aggregations=this.assignDefaultAggregations()):this.aggregations=this.assignDefaultAggregations()},t}(),vd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),md=function(t){function e(e,n,o){return t.call(this,e,n,wt.UNKNOWN,o)||this}return vd(e,t),e.prototype.assignDefaultAggregations=function(){return 0},e.prototype.assignPossibleAggregations=function(){return Ct.COUNT|Ct.DISTINCT},e}(yd),bd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Od=function(t){function e(e,n,o){return t.call(this,e,n,wt.NUMBER,o)||this}return bd(e,t),e.prototype.assignDefaultAggregations=function(){return 0},e.prototype.assignPossibleAggregations=function(){return Ct.COUNT|Ct.DISTINCT|Ct.SUM|Ct.MIN|Ct.MAX|Ct.AVERAGE|Ct.MEDIAN},e}(yd),_d=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Rd=function(t){function e(e,n,o){return t.call(this,e,n,wt.STRING,o)||this}return _d(e,t),e.prototype.assignDefaultAggregations=function(){return 0},e.prototype.assignPossibleAggregations=function(){return Ct.COUNT|Ct.DISTINCT},e}(yd),wd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Cd=function(t){function e(e,n,o){return t.call(this,e,n,wt.BOOLEAN,o)||this}return wd(e,t),e.prototype.assignDefaultAggregations=function(){return 0},e.prototype.assignPossibleAggregations=function(){return Ct.COUNT|Ct.DISTINCT|Ct.TRUTHY|Ct.FALSY},e}(yd),Pd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ad=function(t){function e(e,n,o){return t.call(this,e,n,wt.DATE,o)||this}return Pd(e,t),e.prototype.assignDefaultAggregations=function(){return 0},e.prototype.assignPossibleAggregations=function(){return Ct.COUNT|Ct.DISTINCT},e}(yd),jd=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Ed=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Sd=function(){function t(t){this.fieldIdGenerator=t}return t.prototype.create=function(t){var e=t.type;return void 0===e&&(e=wt.STRING),e===wt.UNKNOWN?new md(this.fieldIdGenerator.generateId(),t.field,t.aggregation):e===wt.NUMBER?new Od(this.fieldIdGenerator.generateId(),t.field,t.aggregation):e===wt.STRING?new Rd(this.fieldIdGenerator.generateId(),t.field):e===wt.BOOLEAN?new Cd(this.fieldIdGenerator.generateId(),t.field):e===wt.DATE?new Ad(this.fieldIdGenerator.generateId(),t.field):void 0},t=jd([r(),Ed("design:paramtypes",[hd])],t)}(),Id=function(){function t(t){this.fieldFactory=t,this.fields=new Map}return t.prototype.getField=function(t){return null===t?this.getAllFields()[0]:this.fields.get(t.getId())},t.prototype.getAllFieldIds=function(){return Array.from(this.fields.keys())},t.prototype.getAllFields=function(){return Array.from(this.fields.values())},t.prototype.initFields=function(t){var e=this;t&&t.forEach(function(t){var n=e.fieldFactory.create(t);e.addField(n)})},t.prototype.addFields=function(t){for(var e=0,n=t;e<n.length;e++){var o=n[e];this.addField(o)}},t.prototype.addField=function(t){this.fields.set(t.getId().toString(),t)},t}(),Dd=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Td=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Fd=function(){function t(t){this.fieldFactory=t}return t.prototype.create=function(){return new Id(this.fieldFactory)},t=Dd([r(),Td("design:paramtypes",[Sd])],t)}(),Bd=function(){function t(t){this.selectedRows=t}return t.default=function(){return new t([])},t.prototype.getSelectedRows=function(){return this.selectedRows},t.prototype.toggleRow=function(t){this.selectedRows.length>0&&this.selectedRows[0]===t?this.selectedRows=[]:this.selectedRows=[t]},t}(),Nd=function(){function t(t,e){this.top=t,this.bottom=e}return t.prototype.setHeaderTop=function(t){this.top=t},t.prototype.setHeaderBottom=function(t){this.bottom=t},t.prototype.isHeaderOnTop=function(){return this.top},t.prototype.isHeaderOnBottom=function(){return this.bottom},t}(),xd=function(){function t(t,e){this.width=t,this.height=e,this.headerHeight=28,this.pagerHeight=35,this.active=!1,this.horizontalGrid=!0,this.verticalGrid=!0,this.columnHeader=new Nd(!0,!1),this.theme=Et.FABRIC,this.rowColoring=cr.EVEN,this.calculateContainerHeight()}return t.default=function(){return new t},t.prototype.getRowColoring=function(){return this.rowColoring},t.prototype.setHeight=function(t){this.height=t,this.calculateContainerHeight()},t.prototype.setTheme=function(t){this.theme=t},t.prototype.setRowColoring=function(t){this.rowColoring=t},t.prototype.getTheme=function(){return this.theme},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getContainerHeight=function(){return this.height},t.prototype.getColumnHeader=function(){return this.columnHeader},t.prototype.setHeaderTop=function(t){this.getColumnHeader().setHeaderTop(t)},t.prototype.setHeaderBottom=function(t){this.getColumnHeader().setHeaderBottom(t)},t.prototype.setVerticalGrid=function(t){this.verticalGrid=t},t.prototype.setHorizontalGrid=function(t){this.horizontalGrid=t},t.prototype.isVerticalGridEnabled=function(){return this.verticalGrid},t.prototype.isHorizontalGridEnabled=function(){return this.horizontalGrid},t.prototype.getHeaderHeight=function(){return this.headerHeight},t.prototype.getPagerHeight=function(){return this.pagerHeight},t.prototype.calculateContainerHeight=function(){this.height?(this.active=!0,this.containerHeight=this.height-this.getHeaderHeight()-this.getPagerHeight()):this.active=!1},t}(),Md=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Hd=function(t){function e(e,n,o,r,i,c,u,a){var s=t.call(this,e)||this;return s.formation=Bd.default(),s.schema=xd.default(),s.search=!1,s.quickFilters=!1,s.paging=n,s.sourceCoordinator=o,s.verticalFormation=r,s.aggregationManager=i,s.sorterContainer=c,s.filterContainer=u,s.fieldContainer=a,s}return Md(e,t),e.default=function(t,n,o,r,i,c,u,a){return new e(t,n,o,r,i,c,u,a)},e.prototype.getVerticalFormation=function(){return this.verticalFormation},e.prototype.setAggregationEnabled=function(t){return this.aggregationManager.setEnabled(t),this.calculateSource(),this.getEvents()},e.prototype.setOrigin=function(t){return this.addEvent(this.sourceCoordinator.setOrigin(t,this.getId())),this.calculateSource(),this.getEvents()},e.prototype.editItem=function(t){var e=this,n=t.getItemId(),o=t.getColumnFieldId(),r=this.fieldContainer.getField(o),i=t.getValue();return this.sourceCoordinator.editOriginItem(n,i,r,this.getId()).forEach(function(t){return e.addEvent(t)}),this.calculateSource(),this.getEvents()},e.prototype.setHeight=function(t){this.getSchema().setHeight(t);var e=this.getSchema().getContainerHeight();this.verticalFormation.setViewportHeight(e),this.calculateSourceBasedOnVirtualScroll()},e.prototype.setFormation=function(t){this.formation=t},e.prototype.setScrollPosition=function(t){this.verticalFormation.setScrollPosition(t),this.calculateSourceBasedOnVirtualScroll()},e.prototype.getFormation=function(){return this.formation},e.prototype.setSchema=function(t){this.schema=t},e.prototype.getSchema=function(){return this.schema},e.prototype.getPaging=function(){return this.paging},e.prototype.changePaging=function(t){this.paging.change(t),this.calculateSource()},e.prototype.setPaging=function(t){this.paging=t,this.calculateSource()},e.prototype.nextPage=function(){var t=this.sourceCoordinator.getOriginSize();this.paging.nextPage(t),this.calculateSource()},e.prototype.prevPage=function(){this.paging.prevPage(),this.calculateSource()},e.prototype.changePageSize=function(t){var e=this;return this.paging.changePageSize(t).forEach(function(t){e.addEvent(t)}),this.calculateSource(),this.getEvents()},e.prototype.getEntities=function(){return this.sourceCoordinator.getSlicedEntities()},e.prototype.getSource=function(){return this.sourceCoordinator},e.prototype.createFields=function(t){return this.fieldContainer.initFields(t),this.fieldContainer.getAllFields()},e.prototype.setSortingConfig=function(t){this.sorterContainer.setConfig(t)},e.prototype.toggleSort=function(t){var e=this.fieldContainer.getField(t);return this.sorterContainer.toggle(e),this.calculateSource(),this.sorterContainer.getAll()},e.prototype.setFilterConfig=function(t){this.filterContainer.setConfig(t)},e.prototype.setQuickFiltersConfig=function(t){this.quickFilters=t.enabled},e.prototype.setSearchingConfig=function(t){this.search=t.enabled},e.prototype.toggleFilter=function(t,e,n){var o=this.fieldContainer.getField(t);return void 0===o?[]:(this.filterContainer.addFilter(o,e,n),this.calculateSource(),[])},e.prototype.calculateSource=function(){var t=this;this.sourceCoordinator.getOrigin()&&this.paging&&(this.sourceCoordinator.setEntities(this.sourceCoordinator.getOrigin()),this.aggregationManager.calculate(this.fieldContainer.getAllFields(),this.sourceCoordinator.getEntities()).forEach(function(e){t.addEvent(e)}),this.sourceCoordinator.setEntities(this.filterContainer.filter(this.sourceCoordinator.getEntities())),this.sourceCoordinator.setEntities(this.sorterContainer.sort(this.sourceCoordinator.getEntities())),this.sourceCoordinator.setEntities(this.paging.sample(this.sourceCoordinator.getEntities())),this.verticalFormation.setSourceSize(this.sourceCoordinator.getEntities().length),this.calculateSourceBasedOnVirtualScroll())},e.prototype.calculateSourceBasedOnVirtualScroll=function(){if(this.verticalFormation.isEnabled()){var t=this.verticalFormation.getRange();this.sourceCoordinator.setSlicedEntities(this.sourceCoordinator.getEntities().slice(t.getStart(),t.getEnd()))}else this.sourceCoordinator.setSlicedEntities(this.sourceCoordinator.getEntities())},e}(_e),kd=function(){function t(t,e,n){void 0===n&&(n=!0),this.rank=1,this.sorterId=t,this.field=e,this.direction=n}return t.prototype.getId=function(){return this.sorterId},t.prototype.getRank=function(){return this.rank},t.prototype.getField=function(){return this.field},t.prototype.getDirection=function(){return this.direction},t.prototype.changeDirection=function(){this.direction=!this.direction},t.prototype.sort=function(t){var e=this;return 0===t.length?t:t.sort(function(t,n){var o=e.direction?e.field.getValue(t):e.field.getValue(n),r=e.direction?e.field.getValue(n):e.field.getValue(t);return e.field.getDataType()===wt.NUMBER?e.sortNumber(o,r):e.field.getDataType()===wt.BOOLEAN?e.sortBoolean(o,r):e.field.getDataType()===wt.STRING?e.sortString(o,r):e.sortUnknown(o,r)})},t.prototype.sortString=function(t,e){return(""+t).localeCompare(""+e)},t.prototype.sortNumber=function(t,e){return+t-+e},t.prototype.sortBoolean=function(t,e){var n=!!e;return!!t===n?0:n?-1:1},t.prototype.sortUnknown=function(t,e){return 0},t}(),Wd=function(){function t(t){this.sorterId=t}return t.prototype.getId=function(){return this.sorterId},t}(),zd=function(){function t(t,e){void 0===t&&(t=!1),void 0===e&&(e=!1),this.sorters=new Map,this.enabled=t,this.multi=e}return t.prototype.setConfig=function(t){t&&void 0!==t.enabled&&null!==t.enabled&&(this.enabled=t.enabled),t&&void 0!==t.multiSorting&&null!==t.multiSorting&&(this.multi=t.multiSorting,this.sorters.clear())},t.prototype.toggle=function(t){var e=t.getId(),n=this.sorters.get(e.getId());n?n.getDirection()?n.changeDirection():this.delete(e):this.add(t)},t.prototype.add=function(t){this.addSorter(t.getId(),new kd(new Wd(fe()),t))},t.prototype.addSorter=function(t,e){this.multi||this.sorters.clear(),this.sorters.set(t.getId(),e)},t.prototype.delete=function(t){this.sorters.delete(t.getId())},t.prototype.update=function(){},t.prototype.sort=function(t){for(var e=this.getAll(),n=t.slice(),o=0,r=e;o<r.length;o++){n=r[o].sort(n)}return n},t.prototype.getAll=function(){return this.enabled?Array.from(this.sorters).map(function(t){return t[1]}).sort(function(t,e){return t.getRank()-e.getRank()}).reverse():[]},t}(),Ld=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Ud=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Vd=function(){function t(t,e,n,o,r,i){this.pagingAggregateFactory=t,this.sourceCoordinatorFactory=e,this.verticalFormationFactory=n,this.aggregationManagerFactory=o,this.filterContainerFactory=r,this.fieldContainerFactory=i}return t.prototype.create=function(t){var e=this.pagingAggregateFactory.createDefault(),n=this.sourceCoordinatorFactory.createDefault(),o=this.verticalFormationFactory.create(),r=new zd,i=this.filterContainerFactory.create(!1),c=this.fieldContainerFactory.create(),u=this.aggregationManagerFactory.create(t);return new Hd(t,e,n,o,u,r,i,c)},t=Ld([r(),Ud("design:paramtypes",[yu,Xg,ed,sd,dd,Fd])],t)}(),Gd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Qd=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},$d=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Kd=function(t){function e(e,n,o){var r=t.call(this,$a,ag,o)||this;return r.structureAggregateRepository=e,r.structureAggregateFactory=n,r}return Gd(e,t),e.prototype.handle=function(t){var e=t.structureId,n=this.structureAggregateFactory.create(e);this.structureAggregateRepository.save(n)},e=Qd([r(),$d("design:paramtypes",[Il,Vd,Ae])],e)}(de),qd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Xd=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Yd=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Jd=function(t){function e(e,n){var o=t.call(this,qa)||this;return o.structureAggregateRepository=e,o.domainEventPublisher=n,o}return qd(e,t),e.prototype.handle=function(t){var e=t.structureId,n=t.enabled,o=this.structureAggregateRepository.getById(e);o.getVerticalFormation().setEnabled(n),this.structureAggregateRepository.save(o),this.domainEventPublisher.publish(new Ig(e))},e=Xd([r(),Yd("design:paramtypes",[Il,Ae])],e)}(de),Zd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),th=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},eh=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},nh=function(t){function e(e,n){var o=t.call(this,Ya)||this;return o.structureAggregateRepository=e,o.domainEventPublisher=n,o}return Zd(e,t),e.prototype.handle=function(t){var e=t.structureId,n=t.position,o=this.structureAggregateRepository.getById(e);o.setScrollPosition(n),this.structureAggregateRepository.save(o),this.domainEventPublisher.publish(new Tg(e))},e=th([r(),eh("design:paramtypes",[Il,Ae])],e)}(de),oh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),rh=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},ih=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ch=function(t){function e(e,n,o){var r=t.call(this,us)||this;return r.structureAggregateRepository=e,r.structureAggregateFactory=n,r.domainEventPublisher=o,r}return oh(e,t),e.prototype.handle=function(t){var e=t.structureId,n=t.compositionId,o=t.columns,r=this.structureAggregateRepository.getById(e),i=r.createFields(o);this.structureAggregateRepository.save(r),this.domainEventPublisher.publish(new Kc(e,n,o,i))},e=rh([r(),ih("design:paramtypes",[Il,Vd,Ae])],e)}(de),uh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ah=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},sh=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ph=function(t){function e(e,n){var o=t.call(this,es)||this;return o.structureAggregateRepository=e,o.domainEventPublisher=n,o}return uh(e,t),e.prototype.handle=function(t){var e=t.structureId,n=t.getCompositionId(),o=t.getFieldId(),r=this.structureAggregateRepository.getById(e),i=r.toggleSort(o);this.structureAggregateRepository.save(r),this.publishSortEvent(e,n,o,i)},e.prototype.publishSortEvent=function(t,e,n,o){var r=o.map(function(t){return{direction:t.getDirection(),fieldId:t.getField().getId()}});this.domainEventPublisher.publish(new Wc(t,e,r))},e=ah([r(),sh("design:paramtypes",[Il,Ae])],e)}(de),fh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),lh=function(t){function e(e){return t.call(this,e,"SortingSetEvent")||this}return fh(e,t),e}(we),gh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),dh=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},hh=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},yh=function(t){function e(e,n){var o=t.call(this,Za)||this;return o.structureAggregateRepository=e,o.domainEventPublisher=n,o}return gh(e,t),e.prototype.handle=function(t){var e=t.structureId,n=t.getSortingConfig(),o=this.structureAggregateRepository.getById(e);o.setSortingConfig(n),this.structureAggregateRepository.save(o),this.domainEventPublisher.publish(new lh(e))},e=dh([r(),hh("design:paramtypes",[Il,Ae])],e)}(de),vh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),mh=function(t){function e(e,n){var o=t.call(this,e,"StructureConfigFilterSetEvent")||this;return o.enabled=n,o}return vh(e,t),e.prototype.getEnabled=function(){return this.enabled},e}(we),bh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Oh=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},_h=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Rh=function(t){function e(e,n){var o=t.call(this,Da)||this;return o.structureAggregateRepository=e,o.domainEventPublisher=n,o}return bh(e,t),e.prototype.handle=function(t){var e=t.structureId,n=t.getConfig(),o=this.structureAggregateRepository.getById(e);o.setFilterConfig(n),this.structureAggregateRepository.save(o),this.domainEventPublisher.publish(new mh(e,n.enabled))},e=Oh([r(),_h("design:paramtypes",[Il,Ae])],e)}(de),wh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ch=function(t){function e(e,n){var o=t.call(this,e,"StructureConfigSearchingSetEvent")||this;return o.enabled=n,o}return wh(e,t),e.prototype.getEnabled=function(){return this.enabled},e}(we),Ph=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ah=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},jh=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Eh=function(t){function e(e,n){var o=t.call(this,is)||this;return o.structureAggregateRepository=e,o.domainEventPublisher=n,o}return Ph(e,t),e.prototype.handle=function(t){var e=t.structureId,n=t.getConfig(),o=this.structureAggregateRepository.getById(e);o.setSearchingConfig(n),this.structureAggregateRepository.save(o),this.domainEventPublisher.publish(new Ch(e,n.enabled))},e=Ah([r(),jh("design:paramtypes",[Il,Ae])],e)}(de),Sh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ih=function(t){function e(e,n){var o=t.call(this,e,"StructureConfigQuickFilterSetEvent")||this;return o.enabled=n,o}return Sh(e,t),e.prototype.getEnabled=function(){return this.enabled},e}(we),Dh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Th=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Fh=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Bh=function(t){function e(e,n){var o=t.call(this,os)||this;return o.structureAggregateRepository=e,o.domainEventPublisher=n,o}return Dh(e,t),e.prototype.handle=function(t){var e=t.structureId,n=t.getConfig(),o=this.structureAggregateRepository.getById(e);o.setQuickFiltersConfig(n),this.structureAggregateRepository.save(o),this.domainEventPublisher.publish(new Ih(e,n.enabled))},e=Th([r(),Fh("design:paramtypes",[Il,Ae])],e)}(de),Nh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),xh=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Mh=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Hh=function(t){function e(e,n){var o=t.call(this,Fa)||this;return o.structureAggregateRepository=e,o.domainEventPublisher=n,o}return Nh(e,t),e.prototype.handle=function(t){var e=t.structureId,n=t.fieldId,o=t.externalFilterId,r=t.filterValue,i=this.structureAggregateRepository.getById(e);i.toggleFilter(n,o,r),this.structureAggregateRepository.save(i),this.domainEventPublisher.publish(new xg(e))},e=xh([r(),Mh("design:paramtypes",[Il,Ae])],e)}(de),kh=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Wh=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},zh=function(){function t(t){this.domainEventPublisher=t}return t.prototype.publish=function(t){var e=this;t.forEach(function(t){e.publishEvent(t)})},t.prototype.publishEvent=function(t){if("StructureOriginChangedAggregateEvent"===t.getType()){var e=t,n=new Bg(e.getAggregateId(),e.getOrigin());this.domainEventPublisher.publish(n)}if("StructureSourceItemEditedAggregateEvent"===t.getType()){var o=t;n=new Gp(o.getAggregateId(),o.getBeforeItem(),o.getAfterItem());this.domainEventPublisher.publish(n)}if("StructureAggregationsChangedAggregateEvent"===t.getType()){var r=t;n=new fl(r.getAggregateId(),r.getAggregations());this.domainEventPublisher.publish(n)}},t=kh([r(),Wh("design:paramtypes",[Ae])],t)}(),Lh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Uh=function(t){function e(e,n){var o=t.call(this,e,"StructureAggregationEnabledSetEvent")||this;return o.enabled=n,o}return Lh(e,t),e}(we),Vh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Gh=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Qh=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},$h=function(t){function e(e,n,o,r){var i=t.call(this,Op)||this;return i.structureAggregateRepository=e,i.structureAggregateFactory=n,i.structureSourceDomainEventPublisher=o,i.domainEventPublisher=r,i}return Vh(e,t),e.prototype.handle=function(t){var e=t.structureId,n=t.enabled,o=this.structureAggregateRepository.getById(e),r=o.setAggregationEnabled(n);this.structureAggregateRepository.save(o),this.domainEventPublisher.publish(new Uh(e,n)),this.structureSourceDomainEventPublisher.publish(r)},e=Gh([r(),Qh("design:paramtypes",[Il,Vd,zh,Ae])],e)}(de),Kh=function(){function t(){}return t.prototype.calculate=function(t,e){var n=this,o=t.filter(function(t){return n.forDataType(t.getDataType())});if(!o||0===o.length||0===e.length)return null;var r=new Map,i=new Map;o.forEach(function(t){var e=t.getKey();r.set(e,0),i.set(e,new Set),n.prepare(t)}),e.forEach(function(t){o.forEach(function(e){var o=e.getKey(),c=e.getValue(t);if(null!==c||void 0!==c||""!==c){if(e.isAggregation(Ct.COUNT)){var u=r.get(o);r.set(o,u+1)}if(e.isAggregation(Ct.DISTINCT))i.get(o).add(c)}n.aggregate(e,c)})}),o.forEach(function(t){n.postCalculate(t,e)});var c=new Map;return o.forEach(function(t){var e=t.getId().getId(),o=n.generateAggregatedValues(t);t.isAggregation(Ct.COUNT)&&o.setCount(r.get(e)),t.isAggregation(Ct.DISTINCT)&&o.setDistinct(i.get(e).size),c.set(e,o)}),c},t}(),qh=function(){function t(){}return t.prototype.setCount=function(t){this.count=t},t.prototype.setDistinct=function(t){this.distinct=t},t}(),Xh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Yh=function(t){function e(e,n){var o=t.call(this)||this;return o.truthy=e,o.falsy=n,o}return Xh(e,t),e}(qh),Jh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Zh=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},ty=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ey=function(t){function e(){var e=t.call(this)||this;return e.truthy=new Map,e.falsy=new Map,e}return Jh(e,t),e.prototype.forDataType=function(t){return t===wt.BOOLEAN},e.prototype.aggregate=function(t,e){var n=e,o=t.getKey(),r=this.truthy.get(o),i=this.falsy.get(o);n?t.isAggregation(Ct.TRUTHY)&&this.truthy.set(o,r+1):t.isAggregation(Ct.FALSY)&&this.falsy.set(o,i+1)},e.prototype.generateAggregatedValues=function(t){var e=t.getKey();return new Yh(this.truthy.get(e),this.falsy.get(e))},e.prototype.prepare=function(t){var e=t.getKey();t.isAggregation(Ct.TRUTHY)&&this.truthy.set(e,0),t.isAggregation(Ct.FALSY)&&this.falsy.set(e,0)},e.prototype.postCalculate=function(t,e){},e=Zh([r(),ty("design:paramtypes",[])],e)}(Kh),ny=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),oy=function(t){function e(){return t.call(this)||this}return ny(e,t),e}(qh),ry=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),iy=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},cy=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},uy=function(t){function e(){return t.call(this)||this}return ry(e,t),e.prototype.forDataType=function(t){return t===wt.DATE},e.prototype.aggregate=function(t,e){},e.prototype.generateAggregatedValues=function(t){return new oy},e.prototype.prepare=function(t){},e.prototype.postCalculate=function(t,e){},e=iy([r(),cy("design:paramtypes",[])],e)}(Kh),ay=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),sy=function(t){function e(e,n,o,r,i){var c=t.call(this)||this;return c.sum=c.setValueWithPrecision(e),c.min=c.setValueWithPrecision(n),c.max=c.setValueWithPrecision(o),c.average=c.setValueWithPrecision(r),c.median=c.setValueWithPrecision(i),c}return ay(e,t),e.prototype.setValueWithPrecision=function(t){return t||0===t?0===t?0:+t.toFixed(2):null},e}(qh),py=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),fy=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},ly=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},gy=function(t){function e(){var e=t.call(this)||this;return e.sum=new Map,e.min=new Map,e.max=new Map,e.average=new Map,e.median=new Map,e}return py(e,t),e.prototype.forDataType=function(t){return t===wt.NUMBER},e.prototype.aggregate=function(t,e){var n=+e,o=t.getKey(),r=this.sum.get(o),i=this.min.get(o),c=this.max.get(o);(t.isAggregation(Ct.SUM)||t.isAggregation(Ct.AVERAGE))&&this.sum.set(o,r+n),t.isAggregation(Ct.MIN)&&i>n&&this.min.set(o,n),t.isAggregation(Ct.MAX)&&c<n&&this.max.set(o,n)},e.prototype.generateAggregatedValues=function(t){var e=t.getKey(),n=t.isAggregation(Ct.SUM)?this.sum.get(e):void 0,o=t.isAggregation(Ct.MIN)?this.min.get(e):void 0,r=t.isAggregation(Ct.MAX)?this.max.get(e):void 0,i=t.isAggregation(Ct.AVERAGE)?this.average.get(e):void 0,c=t.isAggregation(Ct.MEDIAN)?this.median.get(e):void 0;return new sy(n,o,r,i,c)},e.prototype.prepare=function(t){var e=t.getKey();this.sum.set(e,0),this.min.set(e,Number.MAX_SAFE_INTEGER),this.max.set(e,0)},e.prototype.postCalculate=function(t,e){var n=t.getKey();t.isAggregation(Ct.AVERAGE)&&this.average.set(n,this.sum.get(n)/e.length),t.isAggregation(Ct.MEDIAN)&&this.median.set(n,t.getValue(e[Math.floor(e.length/2)]))},e=fy([r(),ly("design:paramtypes",[])],e)}(Kh),dy=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),hy=function(t){function e(){return t.call(this)||this}return dy(e,t),e}(qh),yy=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),vy=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},my=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},by=function(t){function e(){return t.call(this)||this}return yy(e,t),e.prototype.forDataType=function(t){return t===wt.STRING},e.prototype.aggregate=function(t,e){},e.prototype.generateAggregatedValues=function(t){return new hy},e.prototype.prepare=function(t){},e.prototype.postCalculate=function(t,e){},e=vy([r(),my("design:paramtypes",[])],e)}(Kh),Oy=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),_y=function(t){function e(){return t.call(this)||this}return Oy(e,t),e}(qh),Ry=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),wy=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Cy=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Py=function(t){function e(){return t.call(this)||this}return Ry(e,t),e.prototype.forDataType=function(t){return t===wt.UNKNOWN},e.prototype.aggregate=function(t,e){},e.prototype.generateAggregatedValues=function(t){return new _y},e.prototype.prepare=function(t){},e.prototype.postCalculate=function(t,e){},e=wy([r(),Cy("design:paramtypes",[])],e)}(Kh);function Ay(t){return{provide:nd,useClass:t,multi:!0}}var jy=[Ay(ey),Ay(uy),Ay(gy),Ay(by),Ay(Py),sd],Ey=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Sy=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Iy=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Dy=function(t){function e(e){var n=t.call(this)||this;return n.structureFilterRepository=e,n}return Ey(e,t),e.prototype.handle=function(t){t instanceof mh&&this.structureFilterRepository.setEnabled(t.getEnabled(),t.getAggregateId())},e=Sy([r(),Iy("design:paramtypes",[ff])],e)}(Ee),Ty=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Fy=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},By=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ny=function(t){function e(e){var n=t.call(this)||this;return n.structureSearchingRepository=e,n}return Ty(e,t),e.prototype.handle=function(t){t instanceof Ch&&this.structureSearchingRepository.setEnabled(t.getEnabled(),t.getAggregateId())},e=Fy([r(),By("design:paramtypes",[tl])],e)}(Ee),xy=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),My=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Hy=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ky=function(t){function e(e){var n=t.call(this)||this;return n.structureQuickFilterRepository=e,n}return xy(e,t),e.prototype.handle=function(t){t instanceof Ih&&this.structureQuickFilterRepository.setEnabled(t.getEnabled(),t.getAggregateId())},e=My([r(),Hy("design:paramtypes",[df])],e)}(Ee),Wy=function(){function t(t,e){this.id=t,this.dataType=e}return t.prototype.getId=function(){return this.id.getId()},t.prototype.getDataType=function(){return this.dataType},t}(),zy=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Ly=function(){function t(){}return t.prototype.convert=function(t){var e=this;return t.map(function(t){return e.convertOne(t)})},t.prototype.convertOne=function(t){return new Wy(t.getId(),t.getDataType())},t=zy([r()],t)}(),Uy=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Vy=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Gy=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Qy=function(t){function e(e,n){var o=t.call(this)||this;return o.structureFieldsRepository=e,o.structureFieldUiConverter=n,o}return Uy(e,t),e.prototype.handle=function(t){if(t instanceof Kc){var e=this.structureFieldUiConverter.convert(t.getFields());this.structureFieldsRepository.set(t.getAggregateId(),e)}},e=Vy([r(),Gy("design:paramtypes",[Ps,Ly])],e)}(Ee),$y=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ky=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},qy=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Xy=function(t){function e(e,n){var o=t.call(this,hn,Ag,n)||this;return o.structureAggregateRepository=e,o}return $y(e,t),e.prototype.handle=function(t){var e=t.payload,n=t.structureId,o=this.structureAggregateRepository.getById(n);o.changePaging(e),this.structureAggregateRepository.save(o)},e=Ky([r(),qy("design:paramtypes",[Il,Ae])],e)}(de),Yy=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Jy=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Zy=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},tv=function(t){function e(e,n){var o=t.call(this,bn,Fp,n)||this;return o.structureAggregateRepository=e,o}return Yy(e,t),e.prototype.handle=function(t){var e=t.structureId,n=this.structureAggregateRepository.getById(e);n.nextPage(),this.structureAggregateRepository.save(n)},e=Jy([r(),Zy("design:paramtypes",[Il,Ae])],e)}(de),ev=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),nv=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},ov=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},rv=function(t){function e(e,n){var o=t.call(this,_n,Np,n)||this;return o.structureAggregateRepository=e,o}return ev(e,t),e.prototype.handle=function(t){var e=t.structureId,n=this.structureAggregateRepository.getById(e);n.prevPage(),this.structureAggregateRepository.save(n)},e=nv([r(),ov("design:paramtypes",[Il,Ae])],e)}(de),iv=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),cv=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},uv=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},av=function(t){function e(e,n){var o=t.call(this,vn)||this;return o.structureAggregateRepository=e,o.domainEventPublisher=n,o}return iv(e,t),e.prototype.handle=function(t){var e=t.pageSize,n=t.structureId,o=this.structureAggregateRepository.getById(n),r=o.changePageSize(e);this.structureAggregateRepository.save(o),r.forEach(function(t){t.aggregateId=n}),this.publishAggregateEvents(r,t)},e.prototype.publishAggregateEvents=function(t,e){for(var n=0,o=t;n<o.length;n++){var r=o[n];this.publishAggregateEvent(r,e)}},e.prototype.publishAggregateEvent=function(t,e){switch(t.getType()){case"PageChangedAggregateEvent":var n=new Mp(e.getAggregateId());this.domainEventPublisher.publish(n);break;case"PagesizeChangedAggregateEvent":var o=new kp(e.getAggregateId());this.domainEventPublisher.publish(o)}},e=cv([r(),uv("design:paramtypes",[Il,Ae])],e)}(de),sv=[Cn,{provide:ie,useClass:Xy,multi:!0},{provide:ie,useClass:tv,multi:!0},{provide:ie,useClass:rv,multi:!0},{provide:ie,useClass:av,multi:!0}].concat([un],[yu,Gl,jn,gn,Lp]),pv=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),fv=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},lv=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},gv=function(t){function e(e,n){var o=t.call(this,Eu,mg,n)||this;return o.structureAggregateRepository=e,o}return pv(e,t),e.prototype.handle=function(t){var e=t.enabled,n=t.structureId,o=this.structureAggregateRepository.getById(n);o.getSchema().setVerticalGrid(e),this.structureAggregateRepository.save(o)},e=fv([r(),lv("design:paramtypes",[Il,Ae])],e)}(de),dv=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),hv=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},yv=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},vv=function(t){function e(e,n){var o=t.call(this,Iu,yg,n)||this;return o.structureAggregateRepository=e,o}return dv(e,t),e.prototype.handle=function(t){var e=t.enabled,n=t.structureId,o=this.structureAggregateRepository.getById(n);o.getSchema().setHorizontalGrid(e),this.structureAggregateRepository.save(o)},e=hv([r(),yv("design:paramtypes",[Il,Ae])],e)}(de),mv=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),bv=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Ov=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},_v=function(t){function e(e,n){var o=t.call(this,Tu,dg,n)||this;return o.structureAggregateRepository=e,o}return mv(e,t),e.prototype.handle=function(t){var e=t.theme,n=t.structureId,o=this.structureAggregateRepository.getById(n);o.getSchema().setTheme(e),this.structureAggregateRepository.save(o)},e=bv([r(),Ov("design:paramtypes",[Il,Ae])],e)}(de),Rv=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),wv=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Cv=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Pv=function(t){function e(e,n){var o=t.call(this,Hu,Rg,n)||this;return o.structureAggregateRepository=e,o}return Rv(e,t),e.prototype.handle=function(t){var e=t.enabled,n=t.structureId,o=this.structureAggregateRepository.getById(n);o.getSchema().setHeaderBottom(e),this.structureAggregateRepository.save(o)},e=wv([r(),Cv("design:paramtypes",[Il,Ae])],e)}(de),Av=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),jv=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Ev=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Sv=function(t){function e(e,n){var o=t.call(this,xu,Og,n)||this;return o.structureAggregateRepository=e,o}return Av(e,t),e.prototype.handle=function(t){var e=t.enabled,n=t.structureId,o=this.structureAggregateRepository.getById(n);o.getSchema().setHeaderTop(e),this.structureAggregateRepository.save(o)},e=jv([r(),Ev("design:paramtypes",[Il,Ae])],e)}(de),Iv=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Dv=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Tv=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Fv=function(t){function e(e,n){var o=t.call(this,Bu,Cg,n)||this;return o.structureAggregateRepository=e,o}return Iv(e,t),e.prototype.handle=function(t){var e=t.coloring,n=t.structureId,o=this.structureAggregateRepository.getById(n);o.getSchema().setRowColoring(e),this.structureAggregateRepository.save(o)},e=Dv([r(),Tv("design:paramtypes",[Il,Ae])],e)}(de),Bv=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Nv=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},xv=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Mv=function(t){function e(e,n){var o=t.call(this,Au,lg,n)||this;return o.structureAggregateRepository=e,o}return Bv(e,t),e.prototype.handle=function(t){var e=t.height,n=t.structureId,o=this.structureAggregateRepository.getById(n);o.setHeight(e),this.structureAggregateRepository.save(o)},e=Nv([r(),xv("design:paramtypes",[Il,Ae])],e)}(de),Hv=[zu,{provide:ie,useClass:Mv,multi:!0},{provide:ie,useClass:gv,multi:!0},{provide:ie,useClass:vv,multi:!0},{provide:ie,useClass:_v,multi:!0},{provide:ie,useClass:Pv,multi:!0},{provide:ie,useClass:Sv,multi:!0},{provide:ie,useClass:Fv,multi:!0}].concat([Vu],[Ul,Xu,$u]),kv=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Wv=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},zv=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Lv=function(t){function e(e,n){var o=t.call(this,ua,Eg,n)||this;return o.structureAggregateRepository=e,o}return kv(e,t),e.prototype.handle=function(t){t.payload;var e=t.structureId,n=this.structureAggregateRepository.getById(e);this.structureAggregateRepository.save(n)},e=Wv([r(),zv("design:paramtypes",[Il,Ae])],e)}(de),Uv=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Vv=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Gv=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Qv=function(t){function e(e,n){var o=t.call(this,sa,Xp,n)||this;return o.structureAggregateRepository=e,o}return Uv(e,t),e.prototype.handle=function(t){var e=t.selectedRow,n=t.structureId,o=this.structureAggregateRepository.getById(n);o?(o.getFormation().toggleRow(e),this.structureAggregateRepository.save(o)):console.error("There is no aggregate 'Structure' for aggregateId: "+n)},e=Vv([r(),Gv("design:paramtypes",[Il,Ae])],e)}(de),$v=[la,{provide:ie,useClass:Lv,multi:!0},{provide:ie,useClass:Qv,multi:!0}].concat([Ra],[Zp,Hl,ha,Pa]),Kv=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),qv=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Xv=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Yv=function(t){function e(e,n){var o=t.call(this,Wa)||this;return o.structureAggregateRepository=e,o.structureSourceDomainEventPublisher=n,o}return Kv(e,t),e.prototype.handle=function(t){var e=t.structureId,n=t.items,o=this.structureAggregateRepository.getById(e);if(o){var r=o.setOrigin(n);this.structureAggregateRepository.save(o),this.structureSourceDomainEventPublisher.publish(r)}else console.error("There is no aggregate 'Structure' for aggregateId: "+e)},e=qv([r(),Xv("design:paramtypes",[Il,zh])],e)}(de),Jv=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Zv=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},tm=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},em=function(t){function e(e,n,o){var r=t.call(this,La)||this;return r.structureAggregateRepository=e,r.domainEventPublisher=n,r.structureSourceDomainEventPublisher=o,r}return Jv(e,t),e.prototype.handle=function(t){var e=t.getAggregateId(),n=t.getParams(),o=this.structureAggregateRepository.getById(e),r=o.editItem(n);this.structureAggregateRepository.save(o),this.structureSourceDomainEventPublisher.publish(r)},e=Zv([r(),tm("design:paramtypes",[Il,Ae,zh])],e)}(de),nm=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),om=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},rm=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},im=function(t){function e(e){var n=t.call(this)||this;return n.structureSourceOriginRepository=e,n}return nm(e,t),e.prototype.handle=function(t){if(t instanceof Bg){var e=t.getOrigin();this.structureSourceOriginRepository.setOrigin(e,t.getAggregateId())}},e=om([r(),rm("design:paramtypes",[In])],e)}(Ee),cm=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},um=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},am=function(){function t(t){this.structureRepository=t}return t.prototype.select=function(t){return this.structureRepository.select(t).pipe(ut(function(e){return e.getId().toString()===t.toString()}),at(function(t){return t.getSchema()}))},t=cm([r(),um("design:paramtypes",[on])],t)}(),sm=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),pm=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},fm=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},lm=function(t){function e(e,n){var o=t.call(this,Ha,pg,n)||this;return o.structureAggregateRepository=e,o}return sm(e,t),e.prototype.handle=function(t){var e=t.enabled,n=t.structureId,o=this.structureAggregateRepository.getById(n);o.getSource().setLoading(e),this.structureAggregateRepository.save(o)},e=pm([r(),fm("design:paramtypes",[Il,Ae])],e)}(de),gm=[Ga,Xg,{provide:ie,useClass:lm,multi:!0},{provide:ie,useClass:Yv,multi:!0},{provide:ie,useClass:em,multi:!0},zh].concat([am,{provide:Ie,useClass:im,multi:!0},In],[Kl,Fs,Fn,Kp]),dm=zg.concat([{provide:ie,useClass:Kd,multi:!0},{provide:ie,useClass:Jd,multi:!0},{provide:ie,useClass:nh,multi:!0},{provide:ie,useClass:ch,multi:!0},{provide:ie,useClass:ph,multi:!0},{provide:ie,useClass:yh,multi:!0},{provide:ie,useClass:Rh,multi:!0},{provide:ie,useClass:Eh,multi:!0},{provide:ie,useClass:Bh,multi:!0},{provide:ie,useClass:Hh,multi:!0},{provide:ie,useClass:$h,multi:!0},ed,Fd,dd,hd,xa,Sd],jy),hm=[{provide:Ie,useClass:Dy,multi:!0},{provide:Ie,useClass:Ny,multi:!0},{provide:Ie,useClass:ky,multi:!0},{provide:Ie,useClass:Qy,multi:!0}].concat(Lg,[Yl,vf,ff,df,tl,ol,Ps,Ly,Es]),ym=Ug.concat(dm,hm,[wp,dl,Vd,ng,vs,ps],sv,Hv,$v,gm),vm=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),mm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return vm(e,t),e.prototype.warn=function(t){console.warn(t)},e.prototype.error=function(t){console.error(t)},e}(au),bm=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Om=function(){function t(){}return t=bm([f({providers:[{provide:au,useClass:mm}]})],t)}(),_m=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Rm=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};var wm=[R,C,$e].concat(Ze,[eo,bo,cu,Om]),Cm=[rf,_f,af,Cf,Ef,Tf,xf,Wf,Gf,qf,Yf,sl,ml,qe],Pm=[qe],Am=[{provide:rl,useValue:"structure"},{provide:Qt,useFactory:function(){return(new Qt.DefaultBuilder).build()}},Rl,Fn,uu,mp,Je].concat(ym),jm=[W,rf,_f,Tf,xf,Gf,qf].concat(Ze,[eo]),Em=function(){function t(){window.hermesApi.loggers=!1}var e;return e=t,t.withConfig=function(t){return void 0===t&&(t={cssClassName:"",hermesModuleConfig:{loggers:!1}}),{ngModule:e,providers:[{provide:rl,useValue:t.cssClassName},{provide:ke,useValue:t.hermesModuleConfig.loggers},{provide:We,useValue:t.hermesModuleConfig.loggers}].concat(Am)}},t.exportDeclarations=jm.slice(),t=e=_m([f({imports:wm,declarations:Cm,exports:jm,entryComponents:Pm}),Rm("design:paramtypes",[])],t)}(),Sm=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},Im=[Em.withConfig({cssClassName:"grid",hermesModuleConfig:{loggers:!0}})],Dm=[re],Tm=[Yt,Zt],Fm=[re],Bm=[],Nm=[re],xm=function(){function t(){}return t.entryComponents=Bm.slice(),t.exportDeclarations=Fm.slice(),t.elementComponents=Nm.slice(),t=Sm([f({imports:Im,declarations:Dm,providers:Tm,exports:Fm,entryComponents:Bm})],t)}();export{re as GridComponent,xm as GridModule,yt as GuiCellView,ht as GuiDataType,Rt as GuiRowColoring,_t as GuiTheme};
