!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("@angular/forms"),require("@generic-ui/fabric"),require("tslib"),require("rxjs"),require("rxjs/operators"),require("@angular/platform-browser")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/common","@angular/forms","@generic-ui/fabric","tslib","rxjs","rxjs/operators","@angular/platform-browser"],e):e((t=t||self)["@generic-ui/ngx-grid"]={},t.ng.core,t.ng.common,t.forms,t.fabric,t.tslib,t.rxjs,t.rxjs.operators,t.platformBrowser)}(this,function(e,b,n,o,r,c,y,a,i){"use strict";var t,u,s,p,f,l,g,d,h,m,v,O,R,_;(t=e.GuiDataType||(e.GuiDataType={}))[t.UNKNOWN=0]="UNKNOWN",t[t.NUMBER=1]="NUMBER",t[t.STRING=2]="STRING",t[t.BOOLEAN=3]="BOOLEAN",t[t.DATE=4]="DATE",t[t.CUSTOM=5]="CUSTOM",(u=e.GuiCellView||(e.GuiCellView={}))[u.TEXT=0]="TEXT",u[u.CHIP=1]="CHIP",u[u.LINK=2]="LINK",u[u.IMAGE=3]="IMAGE",u[u.BOLD=4]="BOLD",u[u.ITALIC=5]="ITALIC",u[u.CHECKBOX=6]="CHECKBOX",u[u.CUSTOM=7]="CUSTOM",(p=s||(s={}))[p.TEXT=0]="TEXT",p[p.BOLD=1]="BOLD",p[p.ITALIC=2]="ITALIC",p[p.CHIP=3]="CHIP",(l=f||(f={}))[l.TEXT=0]="TEXT",l[l.BOLD=1]="BOLD",l[l.ITALIC=2]="ITALIC",l[l.CHIP=3]="CHIP",(d=g||(g={}))[d.TEXT=0]="TEXT",d[d.BOLD=1]="BOLD",d[d.ITALIC=2]="ITALIC",d[d.CHIP=3]="CHIP",d[d.CHECKBOX=4]="CHECKBOX",(m=h||(h={}))[m.TEXT=0]="TEXT",m[m.BOLD=1]="BOLD",m[m.ITALIC=2]="ITALIC",m[m.CHIP=3]="CHIP",(v=e.GuiTheme||(e.GuiTheme={}))[v.FABRIC=0]="FABRIC",v[v.MATERIAL=1]="MATERIAL",v[v.LIGHT=2]="LIGHT",v[v.DARK=3]="DARK",(O=e.GuiRowColoring||(e.GuiRowColoring={}))[O.NONE=0]="NONE",O[O.EVEN=1]="EVEN",O[O.ODD=2]="ODD",(_=R||(R={}))[_.UNKNOWN=0]="UNKNOWN",_[_.NUMBER=1]="NUMBER",_[_.STRING=2]="STRING",_[_.BOOLEAN=3]="BOOLEAN",_[_.DATE=4]="DATE",_[_.CUSTOM=5]="CUSTOM";var j,w,C=function(){function t(){}return t.prototype.convertType=function(t){return"string"==typeof t?this.convertTypeString(t):this.convertTypeEnum(t)},t.prototype.convertTypeEnum=function(t){switch(t){case e.GuiDataType.STRING:return R.STRING;case e.GuiDataType.NUMBER:return R.NUMBER;case e.GuiDataType.BOOLEAN:return R.BOOLEAN;case e.GuiDataType.DATE:return R.DATE;case e.GuiDataType.UNKNOWN:return R.UNKNOWN;case e.GuiDataType.CUSTOM:return R.CUSTOM;default:return R.STRING}},t.prototype.convertTypeString=function(t){switch(t.toLocaleLowerCase()){case"string":return R.STRING;case"number":return R.NUMBER;case"boolean":return R.BOOLEAN;case"date":return R.DATE;case"unknown":return R.UNKNOWN;case"custom":return R.CUSTOM;default:return R.STRING}},t}();(w=j||(j={}))[w.COUNT=1024]="COUNT",w[w.DISTINCT=1]="DISTINCT",w[w.SUM=2]="SUM",w[w.AVERAGE=4]="AVERAGE",w[w.MIN=8]="MIN",w[w.MAX=16]="MAX",w[w.MEDIAN=32]="MEDIAN",w[w.TRUTHY=64]="TRUTHY",w[w.FALSY=128]="FALSY",w[w.EARLIEST=256]="EARLIEST",w[w.LATEST=512]="LATEST";var P,A,I=function(){function t(){}return t.prototype.convert=function(t){var e={};return void 0!==t.enabled&&null!==t.enabled&&(e.enabled=t.enabled),void 0!==t.aggregationTypes&&null!==t.aggregationTypes&&(e.aggregationTypes=this.convertAggregationTypes(t.aggregationTypes)),e},t.prototype.convertAggregationTypes=function(t){var n=this,o=[];return t.forEach(function(t){var e=n.convertAggregationType(t);null!=e&&o.push(e)}),o},t.prototype.convertAggregationType=function(t){switch(t.toLocaleLowerCase()){case"count":return j.COUNT;case"distinct":return j.DISTINCT;case"sum":return j.SUM;case"average":return j.AVERAGE;case"min":return j.MIN;case"max":return j.MAX;case"median":return j.MEDIAN;case"truthy":return j.TRUTHY;case"falsy":return j.FALSY;case"earliest":return j.EARLIEST;case"latest":return j.LATEST;default:return null}},t}();(A=P||(P={}))[A.TEXT=0]="TEXT",A[A.CHIP=1]="CHIP",A[A.LINK=2]="LINK",A[A.IMAGE=3]="IMAGE",A[A.BOLD=4]="BOLD",A[A.ITALIC=5]="ITALIC",A[A.CHECKBOX=6]="CHECKBOX",A[A.CUSTOM=7]="CUSTOM",A[A.FUNCTION=8]="FUNCTION";var E,S,D=function(){function t(){}return t.prototype.convert=function(t){return"string"==typeof t?this.convertString(t):"function"==typeof t?t:this.convertEnum(t)},t.prototype.convertString=function(t){switch(t.toLocaleLowerCase()){case"text":return P.TEXT;case"chip":return P.CHIP;case"link":return P.LINK;case"image":return P.IMAGE;case"bold":return P.BOLD;case"italic":return P.ITALIC;case"checkbox":return P.CHECKBOX;case"custom":return P.CUSTOM;default:return P.TEXT}},t.prototype.convertEnum=function(t){switch(t){case e.GuiCellView.TEXT:return P.TEXT;case e.GuiCellView.CHIP:return P.CHIP;case e.GuiCellView.LINK:return P.LINK;case e.GuiCellView.IMAGE:return P.IMAGE;case e.GuiCellView.BOLD:return P.BOLD;case e.GuiCellView.ITALIC:return P.ITALIC;case e.GuiCellView.CHECKBOX:return P.CHECKBOX;case e.GuiCellView.CUSTOM:return P.CUSTOM;default:return P.TEXT}},t}(),T=function(){function t(){this.columnTypeConverter=new C,this.columnAggregationConverter=new I,this.columnViewConverter=new D}return t.prototype.convert=function(t){var e=this;return t.map(function(t){return e.convertColumn(t)})},t.prototype.convertColumn=function(t){var e={};return void 0!==t.type&&null!==t.type&&(e.type=this.columnTypeConverter.convertType(t.type)),void 0!==t.header&&null!==t.header&&(e.header=t.header),void 0!==t.field&&null!==t.field&&(e.field=t.field),void 0!==t.width&&null!==t.width&&(e.width=t.width),void 0!==t.view&&null!==t.view&&(e.view=this.columnViewConverter.convert(t.view)),void 0!==t.aggregation&&null!==t.aggregation&&(e.aggregation=this.columnAggregationConverter.convert(t.aggregation)),e},t}();(S=E||(E={}))[S.FABRIC=0]="FABRIC",S[S.MATERIAL=1]="MATERIAL",S[S.LIGHT=2]="LIGHT",S[S.DARK=3]="DARK";var F,B,x=function(){function t(){}return t.prototype.convert=function(t){return"string"==typeof t?this.convertString(t):this.convertEnum(t)},t.prototype.convertString=function(t){switch(t.toLocaleLowerCase()){case"material":return E.MATERIAL;case"fabric":return E.FABRIC;case"light":return E.LIGHT;case"dark":return E.DARK;default:return E.FABRIC}},t.prototype.convertEnum=function(t){switch(t){case e.GuiTheme.MATERIAL:return E.MATERIAL;case e.GuiTheme.FABRIC:return E.FABRIC;case e.GuiTheme.LIGHT:return E.LIGHT;case e.GuiTheme.DARK:return E.DARK;default:return E.FABRIC}},t}();(B=F||(F={}))[B.NONE=0]="NONE",B[B.EVEN=1]="EVEN",B[B.ODD=2]="ODD";var N,M,H,k=function(){function t(){}return t.prototype.convert=function(t){return"string"==typeof t?this.convertString(t):this.convertEnum(t)},t.prototype.convertString=function(t){switch(t.toLocaleLowerCase()){case"none":return F.NONE;case"even":return F.EVEN;case"odd":return F.ODD;default:return F.EVEN}},t.prototype.convertEnum=function(t){switch(t){case e.GuiRowColoring.NONE:return F.NONE;case e.GuiRowColoring.EVEN:return F.EVEN;case e.GuiRowColoring.ODD:return F.ODD;default:return F.EVEN}},t}(),z=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},W=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},V=function(){function t(){this.source=[],this.columns=[],this.pageChanged=new b.EventEmitter,this.pageSizeChanged=new b.EventEmitter,this.itemsSelected=new b.EventEmitter,this.columnsChanged=new b.EventEmitter,this.containerWidthChanged=new b.EventEmitter,this.sourceEdited=new b.EventEmitter,this.cellEditEntered=new b.EventEmitter,this.cellEditCanceled=new b.EventEmitter,this.cellEditSubmitted=new b.EventEmitter,this.gridColumnConverter=new T,this.gridThemeConverter=new x,this.gridRowColoringConverter=new k}return t.prototype.ngOnChanges=function(t){void 0!==t.columns&&void 0!==t.columns.currentValue&&(this.columnsConfig=this.gridColumnConverter.convert(this.columns)),void 0!==t.theme&&void 0!==t.theme.currentValue&&(this.themeConfig=this.gridThemeConverter.convert(this.theme)),void 0!==t.rowColoring&&void 0!==t.rowColoring.currentValue&&(this.rowColoringConfig=this.gridRowColoringConverter.convert(this.rowColoring))},t.prototype.onPageChange=function(t){this.pageChanged.emit(t)},t.prototype.onPageSizeChange=function(t){this.pageSizeChanged.emit(t)},t.prototype.onItemSelect=function(t){this.itemsSelected.emit(t)},t.prototype.onColumnsChange=function(){this.columnsChanged.emit()},t.prototype.onContainerWidthChange=function(t){this.containerWidthChanged.emit(t)},t.prototype.onSourceEdit=function(t){this.sourceEdited.emit(t)},t.prototype.onCellEditEnter=function(){this.cellEditEntered.emit()},t.prototype.onCellEditSubmit=function(){this.cellEditSubmitted.emit()},t.prototype.onCellEditCancel=function(){this.cellEditCanceled.emit()},z([b.Input(),W("design:type",Boolean)],t.prototype,"columnHeaderTop",void 0),z([b.Input(),W("design:type",Boolean)],t.prototype,"columnHeaderBottom",void 0),z([b.Input(),W("design:type",Number)],t.prototype,"height",void 0),z([b.Input(),W("design:type",Number)],t.prototype,"width",void 0),z([b.Input(),W("design:type",Boolean)],t.prototype,"autoResizeWidth",void 0),z([b.Input(),W("design:type",Array)],t.prototype,"source",void 0),z([b.Input(),W("design:type",Array)],t.prototype,"columns",void 0),z([b.Input(),W("design:type",Object)],t.prototype,"paging",void 0),z([b.Input(),W("design:type",Boolean)],t.prototype,"verticalGrid",void 0),z([b.Input(),W("design:type",Boolean)],t.prototype,"horizontalGrid",void 0),z([b.Input(),W("design:type",Object)],t.prototype,"theme",void 0),z([b.Input(),W("design:type",Object)],t.prototype,"rowColoring",void 0),z([b.Input(),W("design:type",Boolean)],t.prototype,"loading",void 0),z([b.Input(),W("design:type",Boolean)],t.prototype,"virtualScroll",void 0),z([b.Input(),W("design:type",Object)],t.prototype,"sorting",void 0),z([b.Input(),W("design:type",Object)],t.prototype,"filtering",void 0),z([b.Input(),W("design:type",Object)],t.prototype,"quickFilters",void 0),z([b.Input(),W("design:type",Object)],t.prototype,"searching",void 0),z([b.Input(),W("design:type",Boolean)],t.prototype,"editMode",void 0),z([b.Input(),W("design:type",Boolean)],t.prototype,"cellEditing",void 0),z([b.Input(),W("design:type",Boolean)],t.prototype,"summaryPanel",void 0),z([b.Input(),W("design:type",Object)],t.prototype,"aggregation",void 0),z([b.Output(),W("design:type",b.EventEmitter)],t.prototype,"pageChanged",void 0),z([b.Output(),W("design:type",b.EventEmitter)],t.prototype,"pageSizeChanged",void 0),z([b.Output(),W("design:type",b.EventEmitter)],t.prototype,"itemsSelected",void 0),z([b.Output(),W("design:type",b.EventEmitter)],t.prototype,"columnsChanged",void 0),z([b.Output(),W("design:type",b.EventEmitter)],t.prototype,"containerWidthChanged",void 0),z([b.Output(),W("design:type",b.EventEmitter)],t.prototype,"sourceEdited",void 0),z([b.Output(),W("design:type",b.EventEmitter)],t.prototype,"cellEditEntered",void 0),z([b.Output(),W("design:type",b.EventEmitter)],t.prototype,"cellEditCanceled",void 0),z([b.Output(),W("design:type",b.EventEmitter)],t.prototype,"cellEditSubmitted",void 0),t}(),U=function(){function t(){}return t.prototype.build=function(){return this.buildObject()},t}(),L=(N=function(t,e){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}N(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),G=function(n){function t(t){var e=n.call(this)||this;return e.enabled=t,e}return L(t,n),t.prototype.buildObject=function(){return new $(this.enabled)},t.prototype.withEnabled=function(t){return this.enabled=t,this},t}(U),Q=function(t){function e(){return t.call(this,e.defaultEnabled)||this}return L(e,t),e.defaultEnabled=!0,e}(G),$=function(){function t(t){this.enabled=t}return t.prototype.isEnabled=function(){return this.enabled},t.Builder=G,t.DefaultBuilder=Q,t}(),K=(M=function(t,e){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}M(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),q=function(r){function t(t,e,n){var o=r.call(this)||this;return o.headerEnabled=t,o.bottomPaging=e,o.topPaging=n,o.border=!0,o}return K(t,r),t.prototype.buildObject=function(){return new Y(this.headerEnabled,this.bottomPaging,this.topPaging,this.border)},t.prototype.withHeader=function(t){return this.headerEnabled=t,this},t.prototype.withBottomPaging=function(t){return this.bottomPaging=t,this},t.prototype.withTopPaging=function(t){return this.topPaging=t,this},t.prototype.withBorder=function(t){return this.border=t,this},t}(U),X=function(t){function e(){return t.call(this,e.defaultHeaderEnabled,e.defaultBottomPaging,e.defaultTopPaging)||this}return K(e,t),e.defaultHeaderEnabled=!0,e.defaultBottomPaging=(new $.DefaultBuilder).build(),e.defaultTopPaging=(new $.DefaultBuilder).build(),e}(q),Y=function(){function t(t,e,n,o){this.headerEnabled=t,this.bottomPaging=e,this.topPaging=n,this.border=o}return t.prototype.isHeaderEnabled=function(){return this.headerEnabled},t.prototype.isBorderEnabled=function(){return this.border},t.prototype.getBottomPaging=function(){return this.bottomPaging},t.prototype.getTopPaging=function(){return this.topPaging},t.Builder=q,t.DefaultBuilder=X,t}(),J=(new Y.DefaultBuilder).build(),Z=[{provide:Y,useValue:J}],tt=new b.InjectionToken("StructureParentComponent"),et=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},nt=function(){function t(){}var e;return(e=t).prototype.generateId=function(){return e.index++,e.PREFIX+e.index},t.PREFIX="gui-grid-",t.index=0,t=e=et([b.Injectable()],t)}(),ot=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},rt=function(){function t(){this.gridMap=new Map}return t.prototype.register=function(t,e,n){this.gridMap.set(t,{component:e,structureId:n})},t.prototype.unregister=function(t){this.gridMap.delete(t)},t.prototype.getValues=function(t){return this.gridMap.get(t)},t=ot([b.Injectable()],t)}(),it=function(){function t(t,e){this.gridComponent=t,this.structureId=e}return t.prototype.provide=function(){var e=this.gridComponent;return{changeColumnHeaderTop:function(t){e.columnHeaderTop=t,e.detectChanges()}}},t}(),ct=(H=function(t,e){return(H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}H(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ut=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},at=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},st="gui-grid",pt=function(i){function t(t,e,n,o){var r=i.call(this)||this;return r.elementRef=t,r.changeDetectorRef=e,r.gridRegister=n,r.gridIdGenerator=o,r}var e;return ct(t,i),(e=t).prototype.ngOnInit=function(){var n=this,t=this.gridId;void 0===t&&(t=this.gridIdGenerator.generateId()),this.localGridId=t,this.exposeGridId(),this.gridRegister.register(t,this,this.structureRef.getStructureId()),window.getGuiGrid=function(t){var e=n.gridRegister.getValues(t);return e?new it(e.component,e.structureId).provide():void 0}},t.prototype.ngOnDestroy=function(){this.gridRegister.unregister(this.localGridId)},t.prototype.getElementRef=function(){return this.elementRef},t.prototype.getGridId=function(){return""},t.prototype.detectChanges=function(){this.changeDetectorRef.detectChanges()},t.prototype.exposeGridId=function(){this.elementRef.nativeElement.setAttribute("gui-grid-id",this.localGridId)},ut([b.ViewChild("structure",{static:!0}),at("design:type",Object)],t.prototype,"structureRef",void 0),ut([b.Input(),at("design:type",String)],t.prototype,"gridId",void 0),t=e=ut([b.Component({selector:st,template:'<gui-structure\n\t\t\t   [height]="height"\n\t\t\t   [width]="width"\n\t\t\t   [autoResizeWidth]="autoResizeWidth"\n\t\t\t   [columns]="columnsConfig"\n\t\t\t   [columnHeaderTop]="columnHeaderTop"\n\t\t\t   [columnHeaderBottom]="columnHeaderBottom"\n\t\t\t   [source]="source"\n\t\t\t   [paging]="paging"\n\t\t\t   [verticalGrid]="verticalGrid"\n\t\t\t   [horizontalGrid]="horizontalGrid"\n\t\t\t   [theme]="themeConfig"\n\t\t\t   [rowColoring]="rowColoringConfig"\n\t\t\t   [loading]="loading"\n\t\t\t   [virtualScroll]="virtualScroll"\n\t\t\t   [sorting]="sorting"\n\t\t\t   [filtering]="filtering"\n\t\t\t   [quickFilters]="quickFilters"\n\t\t\t   [searching]="searching"\n\t\t\t   [editMode]="editMode"\n\t\t\t   [cellEditing]="cellEditing"\n\t\t\t   [summaryPanel]="summaryPanel"\n\t\t\t   [aggregation]="aggregation"\n\t\t\t   (pageChanged)="onPageChange($event)"\n\t\t\t   (pageSizeChanged)="onPageSizeChange($event)"\n\t\t\t   (itemsSelected)="onItemSelect($event)"\n\t\t\t   (columnsChanged)="onColumnsChange()"\n\t\t\t   (containerWidthChanged)="onContainerWidthChange($event)"\n\t\t\t   (sourceEdited)="onSourceEdit($event)"\n\t\t\t   (cellEditEntered)="onCellEditEnter()"\n\t\t\t   (cellEditSubmitted)="onCellEditSubmit()"\n\t\t\t   (cellEditCanceled)="onCellEditCancel()"\n\t\t\t   #structure >\n</gui-structure>\n',providers:Z.concat([{provide:tt,useExisting:e}]),host:{"[class]":'"'+st+'"',"[style.height]":"height"},encapsulation:b.ViewEncapsulation.None,styles:["@import '../../mixins.scss';\n\n.gui-grid {\n\tdisplay: block;\n\twidth: 100%;\n}\n"]}),at("design:paramtypes",[b.ElementRef,b.ChangeDetectorRef,rt,nt])],t)}(V),ft="HERMES - COMMAND_HANDLERS",lt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c.__extends(t,e),t.prototype.next=function(t){e.prototype.next.call(this,t)},t.decorators=[{type:b.Injectable}],t}(y.Subject),gt=function(){function t(t){this.commandStream=t}return t.prototype.dispatch=function(t){this.commandStream.next(t)},t.decorators=[{type:b.Injectable}],t.ctorParameters=function(){return[{type:lt}]},t}();function dt(){for(var t=new Array(16),e=0,n=0;n<16;n++)0==(3&n)&&(e=4294967296*Math.random()),t[n]=e>>>((3&n)<<3)&255;return t}var ht=function(){var e=window.crypto||window.msCrypto;if(e&&e.getRandomValues)try{return function(){var t=new Uint8Array(16);return e.getRandomValues(t),t}}catch(t){}return dt}(),yt=new function(){this.byteToHex=[],this.hexToByte={};for(var t=0;t<256;t++)this.byteToHex[t]=(t+256).toString(16).substr(1),this.hexToByte[this.byteToHex[t]]=t};function mt(){return function(t,e){void 0===e&&(e=0);var n=e,o=yt.byteToHex;return o[t[n++]]+o[t[n++]]+o[t[n++]]+o[t[n++]]+"-"+o[t[n++]]+o[t[n++]]+"-"+o[t[n++]]+o[t[n++]]+"-"+o[t[n++]]+o[t[n++]]+"-"+o[t[n++]]+o[t[n++]]+o[t[n++]]+o[t[n++]]+o[t[n++]]+o[t[n++]]}(function(){var t=ht();return t[6]=15&t[6]|64,t[8]=63&t[8]|128,t}())}function bt(){}function vt(){}function Ot(){}function Rt(){}function _t(){}var jt=function(){function t(t,e){this.aggregateId=t,this.messageType=e,this.messageId=mt()}return t.prototype.getMessageType=function(){return this.messageType},t.prototype.getAggregateId=function(){return this.aggregateId},t.prototype.getMessageId=function(){return this.messageId},t.prototype.toString=function(){return this.messageType},t.prototype.equalsByType=function(t){return this.getMessageType()===t.getMessageType()},t.prototype.equals=function(t){return this.getMessageType()===t.getMessageType()&&this.messageId===t.messageId},t.prototype.ofMessageType=function(t){var e=this;return Array.isArray(t)?!!t.find(function(t){return e.isMessageType(t)}):this.isMessageType(t)},t.prototype.isMessageType=function(t){return this.getMessageType()===t},t}(),wt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c.__extends(e,t),e}(jt),Ct=function(){function t(t,e,n){this.command=t,this.domainEvent=e,this.eventPublisher=n,this.commandType=this.createCommandInstance().getMessageType()}return t.prototype.forCommand=function(t){return this.commandType===t.getMessageType()},t.prototype.handleCommand=function(e){var n=this,t=this.handle(e);y.isObservable(t)?t.pipe(a.take(1)).subscribe(function(t){n.dispatchEvent(e,t)}):this.dispatchEvent(e,t)},t.prototype.dispatchEvent=function(t,e){if(this.domainEvent&&this.eventPublisher){var n=t.aggregateId,o=new this.domainEvent(n);o.setRequestCommand(t),e&&o.setPayload(e),this.eventPublisher.publish(o)}},t.prototype.createCommandInstance=function(){var t,e=[],n=this.command.constructor.length;return e.fill(void 0,0,n),new((t=this.command).bind.apply(t,c.__spread([void 0],e)))},t}(),Pt=new b.InjectionToken("FILTERED_COMMAND_STREAM"),At=function(n){function o(t){var e=n.call(this)||this;return t&&(e.source=t),e}return c.__extends(o,n),o.prototype.lift=function(t){var e=new o;return e.source=this,e.operator=t,e},o.prototype.ofCommand=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.pipe(a.filter(function(e){return t.some(function(t){return e.ofMessageType(t)})}))},o.prototype.ofHandler=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.pipe(a.filter(function(e){return t.some(function(t){return t.forCommand(e)})}))},o.prototype.ofNullHandler=function(t){return this.pipe(a.filter(function(e){return!t||!t.some(function(t){return t.forCommand(e)})}))},o.decorators=[{type:b.Injectable}],o.ctorParameters=function(){return[{type:y.Subject,decorators:[{type:b.Inject,args:[Pt]}]}]},o}(y.Observable),It=function(){function t(t,e){this.aggregateId=t,this.type=e}return t.prototype.getAggregateId=function(){return this.aggregateId},t.prototype.getType=function(){return this.type},t.prototype.equals=function(t){return this.equalsByType(t)&&this.getAggregateId().equals(t.getAggregateId())},t.prototype.equalsByType=function(t){return this.getType()===t.getType()},t}(),Et=function(){function t(){this.stores=[]}return t.prototype.register=function(t){this.stores.push(t)},t.prototype.captureAggregatesSnapshot=function(o){if(!o)return{};var r={};return this.stores.forEach(function(t){var e=t.getById(o);if(e){var n=e.constructor.name;r[n]=e}}),this.cloneAggregates(r)},t.prototype.cloneAggregates=function(t){return JSON.parse(JSON.stringify(t))},t}(),St=function(){function t(t){this.aggregateId=t,this.events=[]}return t.prototype.getId=function(){return this.aggregateId},t.prototype.getEvents=function(){return this.events},t.prototype.addEvent=function(t){this.events.push(t)},t.prototype.clearEvents=function(){this.events.length=0},t}(),Dt=function(){function t(t){this.uid=t}return t.prototype.toString=function(){return this.uid},t.prototype.getId=function(){return this.uid},t.prototype.equals=function(t){return this.uid===t.getId()},t}(),Tt=function(r){function t(t,e,n){var o=r.call(this,t,e)||this;return o.payload=n,o}return c.__extends(t,r),t.prototype.isSameType=function(t){return this.constructor.name===t.constructor.name},t.prototype.setRequestCommand=function(t){this.requestCommandId=t.getMessageId()},t.prototype.fromCommand=function(t){return t.getMessageId()===this.requestCommandId},t.prototype.setPayload=function(t){this.payload=t},t.prototype.getPayload=function(){return this.payload},t}(jt),Ft=function(){function t(){this.domainEvents=[],this.domainEvents$=new y.Subject}return t.prototype.next=function(t){this.domainEvents.push(t),this.domainEvents$.next(t)},t.prototype.findEventByType=function(e){return this.getEvents().reverse().find(function(t){return t.constructor.name===e})},t.prototype.waitForEvent=function(t){var e=this.findEventByType(t);return e?y.of(e):this.waitForNextEventOccurrence(t)},t.prototype.waitForNextEventOccurrence=function(t){var e;if(t instanceof Tt)e=t.constructor.name;else{if("string"!=typeof t)return y.throwError(new Error("Unsupported argument type."));e=t}return this.domainEvents$.pipe(a.filter(function(t){return t.constructor.name===e}),a.take(1))},t.prototype.getEvents=function(){return this.domainEvents},t.decorators=[{type:b.Injectable}],t}(),Bt=function(n){function t(t){var e=n.call(this)||this;return e.eventStore=t,e}return c.__extends(t,n),t.prototype.next=function(t){n.prototype.next.call(this,t),this.eventStore.next(t)},t.decorators=[{type:b.Injectable}],t.ctorParameters=function(){return[{type:Ft}]},t}(y.Subject),xt=function(){function t(t){this.eventStream=t}return t.prototype.publish=function(t){var e,n;if(Array.isArray(t))try{for(var o=c.__values(t),r=o.next();!r.done;r=o.next()){var i=r.value;this.publishEvent(i)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}else t instanceof Tt&&this.publishEvent(t)},t.prototype.dispatchAggregateEvent=function(t,e){},t.prototype.publishEvent=function(t){this.eventStream.next(t)},t.decorators=[{type:b.Injectable}],t.ctorParameters=function(){return[{type:Bt}]},t}(),Nt=function(n){function o(t){var e=n.call(this)||this;return t&&(e.source=t),e}return c.__extends(o,n),o.prototype.lift=function(t){var e=new o;return e.source=this,e.operator=t,e},o.prototype.ofEvent=function(){for(var n=this,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.pipe(a.filter(function(e){return t.some(function(t){return n.createEventInstance(t).equalsByType(e)})}))},o.prototype.createEventInstance=function(t){var e=[],n=t.constructor.length;return e.fill(void 0,0,n),new(t.bind.apply(t,c.__spread([void 0],e)))},o.decorators=[{type:b.Injectable}],o.ctorParameters=function(){return[{type:Bt}]},o}(y.Observable),Mt="DOMAIN_EVENT_HANDLERS",Ht=function(){function t(t){this.aggregateId=t}return t.prototype.getId=function(){return this.aggregateId},t}(),kt=function(){function t(){this.archive=new Map,this.archive$=new y.ReplaySubject}return t.prototype.set=function(t,e){this.archive.set(t.toString(),e),this.archive$.next(this.archive)},t.prototype.select=function(e){return this.archive$.asObservable().pipe(a.map(function(t){return t.get(e.toString())}),a.distinctUntilChanged())},t}(),zt="hermesApi",Wt=function(){function t(t,e){this.commandLogger=t,this.eventLogger=e;var n;window[zt]=(n=this,{set loggers(t){t?(n.commandLogger.start(),n.eventLogger.start()):(n.commandLogger.stop(),n.eventLogger.stop())}}),window[zt].loggers=!1}return t.decorators=[{type:b.Injectable}],t.ctorParameters=function(){return[{type:bt},{type:Rt}]},t}(),Vt=(function(n){function t(t){var e=n.call(this)||this;return e.stateStore=t,e}c.__extends(t,n),t.prototype.getById=function(t){return this.getValue(t)},t.prototype.getAll=function(){return this.getAllValues()},t.prototype.getAllValues=function(){var e=this;return this.stateStore.getAll().map(function(t){return e.fromAnemia(t)})},t.prototype.getValue=function(t){var e=this.stateStore.get(t);return e?this.fromAnemia(e):null}}(_t),function(o){function t(t,e){var n=o.call(this)||this;return n.stateStore=t,n.aggregateStoreRegister=e,n.aggregateStoreRegister.register(n),n}c.__extends(t,o),t.prototype.save=function(t){this.saveValue(t)},t.prototype.getById=function(t){return this.getValue(t)},t.prototype.saveValue=function(t){var e=this.toAnemia(t);this.stateStore.set(e)},t.prototype.getValue=function(t){var e=this.stateStore.get(t);return e?this.fromAnemia(e):null}}(vt),function(o){function t(t,e){var n=o.call(this)||this;return n.inMemoryStore=t,n.aggregateStoreRegister=e,n.aggregateStoreRegister.register(n),n}return c.__extends(t,o),t.prototype.save=function(t){var e=this;if(Array.isArray(t))t.forEach(function(t){e.inMemoryStore.set(t)});else{var n=t;this.inMemoryStore.set(n)}},t.prototype.getById=function(t){return this.inMemoryStore.get(t)},t.prototype.getAll=function(){return this.inMemoryStore.getAll()},t.prototype.remove=function(t){this.inMemoryStore.delete(t)},t}(vt)),Ut=function(n){function t(t){var e=n.call(this)||this;return e.inMemoryStore=t,e}return c.__extends(t,n),t.prototype.getById=function(t){return this.getValue(t)},t.prototype.getAll=function(){var e=this;return this.inMemoryStore.getAll().map(function(t){return e.toReadModel(t)})},t.prototype.getValue=function(t){var e=this.inMemoryStore.get(t);return e?this.toReadModel(e):null},t}(_t),Lt=function(){function t(){this.state=new Map}return t.prototype.set=function(t){this.state.set(t.getId().toString(),t)},t.prototype.setMany=function(t){var e=this;t.forEach(function(t){e.set(t)})},t.prototype.get=function(t){return this.state.get(t.toString())},t.prototype.getAll=function(){return Array.from(this.state.values())},t.prototype.has=function(t){return this.state.has(t.toString())},t.prototype.delete=function(t){this.state.delete(t.toString())},t.prototype.clear=function(){this.state.clear()},t}(),Gt="GUI - COMMAND_LOGGER_ENABLED",Qt="GUI - EVENT_LOGGER_ENABLED",$t=function(n){function t(t){var e=n.call(this)||this;return e.enabled=!1,e.unsubscribe$=new y.Subject,t.pipe(a.filter(function(){return e.enabled}),a.takeUntil(e.unsubscribe$)).subscribe(function(t){e.log(t)}),e}return c.__extends(t,n),t.prototype.ngOnDestroy=function(){this.unsubscribe$.next(),this.unsubscribe$.complete()},t.prototype.start=function(){this.enabled=!0},t.prototype.stop=function(){this.enabled=!1},t.prototype.log=function(t){console.log(t.toString(),t)},t.decorators=[{type:b.Injectable}],t.ctorParameters=function(){return[{type:At}]},t}(bt),Kt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c.__extends(e,t),e.prototype.start=function(){},e.prototype.stop=function(){},e.prototype.log=function(t){},e}(bt),qt=function(o){function t(t,e){var n=o.call(this)||this;return n.aggregateStoreRegister=e,n.enabled=!1,n.unsubscribe$=new y.Subject,t.pipe(a.filter(function(){return n.enabled}),a.takeUntil(n.unsubscribe$)).subscribe(function(t){n.log(t)}),n}return c.__extends(t,o),t.prototype.ngOnDestroy=function(){this.unsubscribe$.next(),this.unsubscribe$.complete()},t.prototype.start=function(){this.enabled=!0},t.prototype.stop=function(){this.enabled=!1},t.prototype.log=function(t){var e=t.aggregateId,n=this.aggregateStoreRegister.captureAggregatesSnapshot(e);console.log(t.toString(),t,n)},t.decorators=[{type:b.Injectable}],t.ctorParameters=function(){return[{type:Nt},{type:Et}]},t}(Rt),Xt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c.__extends(e,t),e.prototype.start=function(){},e.prototype.stop=function(){},e.prototype.log=function(t){},e}(Rt),Yt=[{provide:Pt,useExisting:lt},At,lt,gt,Et,Nt,Bt,xt,Ft,Wt],Jt=c.__spread([{provide:Qt,useValue:!0},{provide:Gt,useValue:!0},{provide:bt,useFactory:function(t,e,n){return t?e:n},deps:[Gt,$t,Kt]},{provide:Rt,useFactory:function(t,e,n){return t?e:n},deps:[Qt,qt,Xt]},$t,Kt,Xt,qt],Yt);function Zt(){}var te,ee,ne,oe,re,ie,ce,ue,ae,se,pe,fe=function(){function e(t,n,o,e,r,i,c){var u=this;this.commandLogger=r,this.eventLogger=i,this.hermesApi=c,this.unsubscribe$=new y.Subject,this.loggersStart(),this.checkNullCommand(o,t),this.checkCommandHandlerIsCollection(t),t&&t.forEach(function(e){o.ofHandler(e).pipe(a.takeUntil(u.unsubscribe$)).subscribe(function(t){e.handleCommand(t)})}),n&&e.pipe(a.takeUntil(this.unsubscribe$)).subscribe(function(e){n.forEach(function(t){t.handle(e)})})}return e.withConfig=function(t){return void 0===t&&(t={loggers:!1}),{ngModule:e,providers:Jt}},e.prototype.ngOnDestroy=function(){this.unsubscribe$.next(),this.unsubscribe$.complete(),this.loggersStop()},e.prototype.loggersStart=function(){this.commandLogger.start(),this.eventLogger.start()},e.prototype.loggersStop=function(){this.commandLogger.stop(),this.eventLogger.stop()},e.prototype.checkNullCommand=function(t,e){t.ofNullHandler(e).pipe(a.takeUntil(this.unsubscribe$)).subscribe(function(t){console.log("Command "+t.toString()+" was not intercepted by any CommandHandler.")})},e.prototype.checkCommandHandlerIsCollection=function(t){t&&!Array.isArray(t)&&console.log('You might provided commandHandler without specifying "multi: true".')},e.decorators=[{type:b.NgModule,args:[{imports:[n.CommonModule],providers:Jt}]}],e.ctorParameters=function(){return[{type:Array,decorators:[{type:b.Optional},{type:b.Inject,args:[ft]}]},{type:Array,decorators:[{type:b.Optional},{type:b.Inject,args:[Mt]}]},{type:At},{type:Nt},{type:bt},{type:Rt},{type:Wt}]},e}(),le=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},ge=function(){function t(){}return t=le([b.Component({selector:"",template:"\n\t\n\t\tCOLUMN CONFIG !!!\n\t\n\t"})],t)}(),de=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},he=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ye=function(){function t(t){this.dialogService=t}return t.prototype.open=function(){this.dialogService.open(ge)},t.prototype.close=function(){this.dialogService.close()},t=de([b.Injectable(),he("design:paramtypes",[r.FabricDialogService])],t)}(),me=[r.FabricBadgeModule,r.FabricButtonModule,r.FabricButtonGroupModule,r.FabricCheckboxModule,r.FabricChipModule,r.FabricRadioButtonModule,r.FabricRadioGroupModule,r.FabricProgressBarModule,r.FabricProgressSpinnerModule,r.FabricSelectModule,r.FabricSpinnerModule,r.FabricToggleButtonModule,r.FabricInputModule,r.FabricDialogModule],be=function(){function t(){this.unsubscribe$=new y.Subject}return t.prototype.ngOnDestroy=function(){this.unsubscribe()},t.prototype.unsubscribe=function(){this.unsubscribe$.next(),this.unsubscribe$.complete()},t.prototype.takeUntil=function(){return a.takeUntil(this.unsubscribe$)},t}(),ve=(te=function(t,e){return(te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}te(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Oe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ve(e,t),e}(be),Re=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},_e=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},je=function(){function t(t){this.structureRepository=t}return t.prototype.select=function(e){return this.structureRepository.select(e).pipe(a.filter(function(t){return t.getId().toString()===e.toString()}),a.map(function(t){return t.getPaging()}))},t=Re([b.Injectable(),_e("design:paramtypes",[Zt])],t)}(),we=(ee=function(t,e){return(ee=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ee(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ce=function(e){function t(t){return e.call(this,t)||this}return we(t,e),t}(Dt),Pe=new Ce("-1"),Ae=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Ie=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ee=function(){function t(t){this.pagingRepository=t}return t.prototype.select=function(t){return void 0===t&&(t=Pe),this.pagingRepository.select(t)},t.prototype.selectOne=function(t){return void 0===t&&(t=Pe),this.select(t).pipe(a.take(1))},t=Ae([b.Injectable(),Ie("design:paramtypes",[je])],t)}(),Se=(ne=function(t,e){return(ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ne(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),De=function(o){function t(t,e){var n=o.call(this,t,"SetPagingCommand")||this;return n.structureId=t,n.payload=e,n}return Se(t,o),t}(wt),Te=(oe=function(t,e){return(oe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}oe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Fe=function(o){function t(t,e){var n=o.call(this,t,"ChangePagesizeCommand")||this;return n.structureId=t,n.pageSize=e,n}return Te(t,o),t}(wt),Be=(re=function(t,e){return(re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}re(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),xe=function(n){function t(t){var e=n.call(this,t,"NextPageCommand")||this;return e.structureId=t,e}return Be(t,n),t}(wt),Ne=(ie=function(t,e){return(ie=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ie(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Me=function(n){function t(t){var e=n.call(this,t,"PrevPageCommand")||this;return e.structureId=t,e}return Ne(t,n),t}(wt),He=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},ke=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ze=function(){function t(t){this.commandDispatcher=t}return t.prototype.setPaging=function(t,e){this.commandDispatcher.dispatch(new De(t,e))},t.prototype.changePageSize=function(t,e){this.commandDispatcher.dispatch(new Fe(t,e))},t.prototype.nextPage=function(t){this.commandDispatcher.dispatch(new xe(t))},t.prototype.prevPage=function(t){this.commandDispatcher.dispatch(new Me(t))},t=He([b.Injectable(),ke("design:paramtypes",[gt])],t)}(),We=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Ve=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ue=function(){function t(t){this.pagingDispatcher=t}return t.prototype.enable=function(t){void 0===t&&(t=Pe),this.pagingDispatcher.setPaging(t,{enabled:!0})},t.prototype.disable=function(t){void 0===t&&(t=Pe),this.pagingDispatcher.setPaging(t,{enabled:!1})},t.prototype.setPaging=function(t,e){void 0===e&&(e=Pe),this.pagingDispatcher.setPaging(e,t)},t.prototype.changePageSize=function(t,e){void 0===e&&(e=Pe),this.pagingDispatcher.changePageSize(e,t)},t.prototype.nextPage=function(t){void 0===t&&(t=Pe),this.pagingDispatcher.nextPage(t)},t.prototype.prevPage=function(t){void 0===t&&(t=Pe),this.pagingDispatcher.prevPage(t)},t.prototype.goToPage=function(t,e){if(e<t)for(;e!==t;)this.nextPage(),e+=1;else for(;e!==t;)this.prevPage(),e-=1},t.prototype.changePagerTop=function(t,e){void 0===e&&(e=Pe),this.pagingDispatcher.setPaging(e,{pagerTop:t})},t.prototype.changePagerBottom=function(t,e){void 0===e&&(e=Pe),this.pagingDispatcher.setPaging(e,{pagerBottom:t})},t=We([b.Injectable(),Ve("design:paramtypes",[ze])],t)}(),Le=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Ge=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Qe=function(){function t(){this.origin=new Map,this.origin$=new y.ReplaySubject}return t.prototype.setOrigin=function(t,e){this.origin.set(e.toString(),t),this.origin$.next(this.origin)},t.prototype.selectOrigin=function(e){return this.origin$.asObservable().pipe(a.map(function(t){return t.get(e.toString())}),a.distinctUntilChanged())},t=Le([b.Injectable(),Ge("design:paramtypes",[])],t)}(),$e=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Ke=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},qe=function(){function t(t,e){this.structureRepository=t,this.structureSourceOriginRepository=e}return t.prototype.select=function(t){return void 0===t&&(t=Pe),this.structureRepository.select(t).pipe(a.map(function(t){return t.getEntities()}),a.distinctUntilChanged(function(t,n){if(t.length!==n.length)return!1;var o=!0;return t.forEach(function(t,e){t.equals(n[e])||(o=!1)}),o}))},t.prototype.selectOriginSize=function(t){return void 0===t&&(t=Pe),this.structureSourceOriginRepository.selectOrigin(t).pipe(a.map(function(t){return t.length}))},t.prototype.selectOne=function(t){return void 0===t&&(t=Pe),this.select(t).pipe(a.take(1))},t.prototype.selectLoading=function(t){return void 0===t&&(t=Pe),this.structureRepository.select(t).pipe(a.map(function(t){return t.getSource().isLoading()}))},t=$e([b.Injectable(),Ke("design:paramtypes",[Zt,Qe])],t)}(),Xe=(ce=function(t,e){return(ce=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ce(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ye=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Je=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ze=function(i){function t(t,e,n,o){var r=i.call(this)||this;return r.changeDetectorRef=t,r.pagingQueryService=e,r.pagingCommandService=n,r.sourceQueryService=o,r.alternativeDisplay=!1,r}return Xe(t,i),t.prototype.ngOnInit=function(){var e=this;this.pagingQueryService.select().pipe(this.takeUntil()).subscribe(function(t){e.paging=t,e.changeDetectorRef.detectChanges()}),this.sourceQueryService.selectOriginSize().pipe(this.takeUntil()).subscribe(function(t){e.sourceSize=t,e.changeDetectorRef.detectChanges()})},t.prototype.changePageSize=function(t){this.pagingCommandService.changePageSize(t)},t.prototype.nextPage=function(){this.sourceSize&&this.pagingCommandService.nextPage()},t.prototype.prevPage=function(){this.pagingCommandService.prevPage()},t=Ye([b.Component({selector:"gui-structure-paging",template:'<ng-container *ngIf="paging && !alternativeDisplay">\n\n\t<gui-structure-paging-select\n\t\t[paging]="paging"\n\t\t(pageSizeChanged)="changePageSize($event)">\n\t</gui-structure-paging-select>\n\n\t<gui-structure-paging-stats\n\t\t[paging]="paging"\n\t\t[sourceSize]="sourceSize">\n\t</gui-structure-paging-stats>\n\n\t<gui-structure-paging-navigator\n\t\t[paging]="paging"\n\t\t[sourceSize]="sourceSize"\n\t\t(prevPageChanged)="prevPage()"\n\t\t(nextPageChanged)="nextPage()">\n\t</gui-structure-paging-navigator>\n\n</ng-container>\n\n<ng-container *ngIf="paging && alternativeDisplay">\n\n\t\t<gui-structure-paging-select\n\t\t\t[paging]="paging"\n\t\t\t(pageSizeChanged)="changePageSize($event)">\n\t\t</gui-structure-paging-select>\n\n\t\t<gui-structure-alternative-paging-navigator\n\t\t\t[paging]="paging"\n\t\t\t[sourceSize]="sourceSize"\n\t\t\t(prevPageChanged)="prevPage()"\n\t\t\t(nextPageChanged)="nextPage()">\n\n\t\t\t<gui-structure-alternative-paging-pages\n\t\t\t\t[paging]="paging"\n\t\t\t\t[sourceSize]="sourceSize">\n\t\t\t</gui-structure-alternative-paging-pages>\n\n\t\t</gui-structure-alternative-paging-navigator>\n\n</ng-container>\n',changeDetection:b.ChangeDetectionStrategy.OnPush}),Je("design:paramtypes",[b.ChangeDetectorRef,Ee,Ue,qe])],t)}(Oe),tn=function(){function t(t,e,n,o,r,i){this.enabled=t,this.page=e,this.pageSize=n,this.pageSizes=o,this.pagerTop=r,this.pagerBottom=i}return t.prototype.isEnabled=function(){return this.enabled},t.prototype.getPage=function(){return this.page},t.prototype.getPageSize=function(){return this.pageSize},t.prototype.getPageSizes=function(){return this.pageSizes},t.prototype.isPagerTop=function(){return this.pagerTop},t.prototype.isPagerBottom=function(){return this.pagerBottom},t.prototype.isNextPageDisabled=function(t){return 0===t||this.page===Math.ceil(t/this.pageSize)},t.prototype.isPrevPageDisabled=function(){return 1===this.page},t.prototype.calculateStart=function(t){var e=1+(this.page-1)*this.pageSize;return t<e?0:e},t.prototype.calculateEnd=function(t){var e=this.page*this.pageSize;return t<e?t:e},t.prototype.calculateVisiblePages=function(t,e,n){return t-e<n&&n<t+e},t.prototype.sample=function(t){var e=t.length,n=this.calculateStart(e);return 0!==n&&(n-=1),t.slice(n,this.calculateEnd(e))},t}(),en=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},nn=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},on=function(){function t(){this.nextPageChanged=new b.EventEmitter,this.prevPageChanged=new b.EventEmitter,this.prevDisabled=!1,this.nextDisabled=!1}return t.prototype.ngOnChanges=function(){this.calculatePrev(),this.calculateNext()},t.prototype.prevPage=function(){this.prevPageChanged.emit()},t.prototype.nextPage=function(){this.nextPageChanged.emit()},t.prototype.calculatePrev=function(){this.paging&&(this.prevDisabled=this.paging.isPrevPageDisabled())},t.prototype.calculateNext=function(){(this.paging||this.sourceSize)&&(this.nextDisabled=this.paging.isNextPageDisabled(this.sourceSize))},en([b.Input(),nn("design:type",tn)],t.prototype,"paging",void 0),en([b.Input(),nn("design:type",Number)],t.prototype,"sourceSize",void 0),en([b.Output(),nn("design:type",Object)],t.prototype,"nextPageChanged",void 0),en([b.Output(),nn("design:type",Object)],t.prototype,"prevPageChanged",void 0),t=en([b.Component({selector:"gui-structure-paging-navigator",template:'<gui-button-group>\n\t<button gui-button\n\t\t\t[disabled]="prevDisabled"\n\t\t\t(click)="prevPage()"\n\t\t\tclass="gui-structure-paging-navigator-prev">\n\t\tPrev\n\t</button>\n\n\t<button gui-button\n\t\t\t[disabled]="nextDisabled"\n\t\t\t(click)="nextPage()"\n\t\t\tclass="gui-structure-paging-navigator-next">\n\t\tNext\n\t</button>\n</gui-button-group>\n',changeDetection:b.ChangeDetectionStrategy.OnPush})],t)}(),rn=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},cn=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},un=function(){function t(){this.pageSizeChanged=new b.EventEmitter}return t.prototype.changePageSize=function(t){this.pageSizeChanged.emit(t)},rn([b.Input(),cn("design:type",tn)],t.prototype,"paging",void 0),rn([b.Output(),cn("design:type",Object)],t.prototype,"pageSizeChanged",void 0),t=rn([b.Component({selector:"gui-structure-paging-select",template:'<span>Items per page:</span>\n<gui-select [options]="paging.getPageSizes()"\n\t\t\t[selected]="paging.getPageSize()"\n\t\t\t[width]="25"\n\t\t\t(optionChanged)="changePageSize($event)">\n</gui-select>\n',changeDetection:b.ChangeDetectionStrategy.OnPush})],t)}(),an=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},sn=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},pn=function(){function t(){this.sourceSize=0}return t.prototype.ngOnChanges=function(t){this.calculate()},t.prototype.calculate=function(){this.paging&&this.sourceSize&&(this.firstItemIndex=this.paging.calculateStart(this.sourceSize),this.lastItemIndex=this.paging.calculateEnd(this.sourceSize))},t.prototype.isSourceNotEmpty=function(){return 0<this.sourceSize},an([b.Input(),sn("design:type",tn)],t.prototype,"paging",void 0),an([b.Input(),sn("design:type",Number)],t.prototype,"sourceSize",void 0),t=an([b.Component({selector:"gui-structure-paging-stats",template:'<ng-container *ngIf="isSourceNotEmpty(); else noSource;">\n\t<span class="gui-structure-paging-source-stats">\n\t\t<span>{{firstItemIndex}}</span>\n\t\t-\n\t\t<span>{{lastItemIndex}}</span>\n\t</span>\n\t<span>\n\t\tof\n\t</span>\n\t<span class="gui-structure-paging-source-size">\n\t\t{{sourceSize}}\n\t</span>\n</ng-container>\n\n<ng-template #noSource>\n\t<span class="gui-structure-paging-source-stats gui-structure-paging-no-items">\n\t\tThere is no items.\n\t</span>\n</ng-template>\n',changeDetection:b.ChangeDetectionStrategy.OnPush})],t)}(),fn=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},ln=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},gn=function(){function t(t){this.pagingCommandService=t,this.nextPageChanged=new b.EventEmitter,this.prevPageChanged=new b.EventEmitter,this.prevDisabled=!1,this.nextDisabled=!1}return t.prototype.ngOnChanges=function(){this.calculatePrev(),this.calculateNext()},t.prototype.prevPage=function(){this.prevPageChanged.emit()},t.prototype.nextPage=function(){this.nextPageChanged.emit()},t.prototype.firstPage=function(){this.pagingCommandService.goToPage(1,this.paging.getPage())},t.prototype.lastPage=function(){var t=Math.ceil(this.sourceSize/this.paging.getPageSize());this.pagingCommandService.goToPage(t,this.paging.getPage())},t.prototype.calculatePrev=function(){this.paging&&(this.prevDisabled=this.paging.isPrevPageDisabled())},t.prototype.calculateNext=function(){(this.paging||this.sourceSize)&&(this.nextDisabled=this.paging.isNextPageDisabled(this.sourceSize))},fn([b.Input(),ln("design:type",tn)],t.prototype,"paging",void 0),fn([b.Input(),ln("design:type",Number)],t.prototype,"sourceSize",void 0),fn([b.Output(),ln("design:type",Object)],t.prototype,"nextPageChanged",void 0),fn([b.Output(),ln("design:type",Object)],t.prototype,"prevPageChanged",void 0),t=fn([b.Component({selector:"gui-structure-alternative-paging-navigator",template:'<button gui-button\n\t\t[disabled]="prevDisabled"\n\t\t(click)="firstPage()">\n\t<<\n</button>\n\n<button gui-button\n\t\t[disabled]="prevDisabled"\n\t\t(click)="prevPage()"\n\t\tclass="gui-structure-paging-navigator-prev">\n\t< Prev\n</button>\n\n<ng-content></ng-content>\n\n<button gui-button\n\t\t[disabled]="nextDisabled"\n\t\t(click)="nextPage()"\n\t\tclass="gui-structure-paging-navigator-next">\n\tNext >\n</button>\n\n<button gui-button\n\t\t[disabled]="nextDisabled"\n\t\t(click)="lastPage()">\n\t>>\n</button>\n',changeDetection:b.ChangeDetectionStrategy.OnPush}),ln("design:paramtypes",[Ue])],t)}(),dn=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},hn=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},yn=function(){function t(t){this.pagingCommandService=t,this.sourceSize=0,this.numberOfVisiblePages=3}return t.prototype.ngOnChanges=function(t){this.calculate()},t.prototype.calculate=function(){if(this.paging&&this.sourceSize){var t=Math.ceil(this.sourceSize/this.paging.getPageSize());if(this.currentPage=this.paging.getPage(),this.pages=[],this.pages.length<=t)for(var e=1;e<=t;e++)this.pages.push(e)}},t.prototype.isSourceNotEmpty=function(){return 0<this.sourceSize},t.prototype.goToPage=function(t){var e=this.paging.getPage();this.pagingCommandService.goToPage(t,e)},t.prototype.calculateVisiblePages=function(t){return this.paging.calculateVisiblePages(this.currentPage,this.numberOfVisiblePages,t)},t.prototype.activePage=function(t){return this.currentPage===t},dn([b.Input(),hn("design:type",tn)],t.prototype,"paging",void 0),dn([b.Input(),hn("design:type",Number)],t.prototype,"sourceSize",void 0),t=dn([b.Component({selector:"gui-structure-alternative-paging-pages",template:'<ng-container *ngIf="isSourceNotEmpty(); else noSource;">\n\n\t\t<div *ngFor="let page of pages">\n\t\t\t<div [class.gui-paging-visible-page]="calculateVisiblePages(page)" >\n\t\t\t\t<div\n\t\t\t\t\t[class.gui-paging-active-page]="activePage(page)"\n\t\t\t\t\t(click)="goToPage(page)" class="gui-paging-page">\n\t\t\t\t\t{{page}}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n</ng-container>\n\n<ng-template #noSource>\n\t<span class="gui-structure-paging-source-stats gui-structure-paging-no-items">\n\t\tThere is no items.\n\t</span>\n</ng-template>\n',changeDetection:b.ChangeDetectionStrategy.OnPush}),hn("design:paramtypes",[Ue])],t)}(),mn=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},bn=function(){function t(){}return t=mn([b.NgModule({imports:[n.CommonModule,r.FabricModule],declarations:[Ze,on,un,pn,gn,yn],exports:[Ze,on,un,pn,gn,yn]})],t)}(),vn=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},On=function(){function t(){}return t.prototype.transform=function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")},t=vn([b.Pipe({name:"numberFormatter"})],t)}(),Rn=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},_n=function(){function t(){}return t=Rn([b.NgModule({declarations:[On],exports:[On]})],t)}(),jn=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},wn=function(){function t(){}return t=jn([b.Component({template:'\n\t\t<div class="gui-structure-info-panel">\n\t\t\t<p>Generic UI Grid</p>\n\t\t\t<p>version 0.4.3</p>\n\n\t\t\t<p>Links:</p>\n\t\t\t<ul>\n\n\t\t\t\t<li>\n\t\t\t\t\t<a href="http://generic-ui.com/">Website</a>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<a href="http://generic-ui.com/guide/">Documentation</a>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<a href="https://github.com/generic-ui/generic-ui/tree/master/ngx-grid">Github</a>\n\t\t\t\t</li>\n\t\t\t</ul>\n\n\t\t\t<p>Feedback:</p>\n\t\t\t<ul>\n\n\t\t\t\t<li>\n\t\t\t\t\t<a href="https://github.com/generic-ui/generic-ui/issues">Report a bug</a>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<a href="https://github.com/generic-ui/generic-ui/issues">Suggest an idea</a>\n\t\t\t\t</li>\n\n\t\t\t</ul>\n\t\t</div>\n\t',changeDetection:b.ChangeDetectionStrategy.OnPush})],t)}(),Cn=function(){function t(t){this.archive$=t?new y.BehaviorSubject(t):new y.ReplaySubject(1)}return t.prototype.set=function(t){this.archive$.next(t)},t.prototype.select=function(){return this.archive$.asObservable()},t}(),Pn=(ue=function(t,e){return(ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ue(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),An=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},In=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},En=function(t){function e(){return t.call(this,!1)||this}return Pn(e,t),e=An([b.Injectable(),In("design:paramtypes",[])],e)}(Cn),Sn=(ae=function(t,e){return(ae=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ae(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Dn=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Tn=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Fn=function(i){function t(t,e,n,o){var r=i.call(this)||this;return r.structureSummaryEnabledArchive=t,r.sourceQueryService=e,r.dialog=n,r.changeDetectorRef=o,r.infoPanel=wn,r}return Sn(t,i),t.prototype.ngOnInit=function(){var e=this;this.sourceQueryService.selectOriginSize().pipe(this.takeUntil()).subscribe(function(t){e.originSize=t,e.changeDetectorRef.detectChanges()})},t.prototype.openInfo=function(){this.dialog.open(this.infoPanel)},t=Dn([b.Component({selector:"gui-structure-summary",template:'\n\n\t\t<p>\n\t\t\tShowing <b>{{originSize | numberFormatter}}</b> items\n\t\t</p>\n\t\t<div>\n\t\t\t<p (click)="openInfo()">\n\t\t\t\t<button>i</button>\n\t\t\t\tInfo\n\t\t\t</p>\n\t\t</div>\n\n\t',changeDetection:b.ChangeDetectionStrategy.OnPush,encapsulation:b.ViewEncapsulation.None}),Tn("design:paramtypes",[En,qe,r.FabricDialogService,b.ChangeDetectorRef])],t)}(Oe),Bn=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},xn=function(){function t(){}return t=Bn([b.NgModule({imports:[n.CommonModule,_n],declarations:[Fn,wn],exports:[wn,Fn],entryComponents:[wn]})],t)}(),Nn=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Mn=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Hn=function(){function t(){}return t.prototype.getTemplate=function(t){switch(t){case P.TEXT:return this.textTemplate;case P.CHIP:return this.chipTemplate;case P.LINK:return this.linkTemplate;case P.IMAGE:return this.imageTemplate;case P.CHECKBOX:return this.checkboxTemplate;case P.BOLD:return this.boldTemplate;case P.ITALIC:return this.italicTemplate;case P.CUSTOM:return this.customTemplate;case P.FUNCTION:return this.functionTemplate;default:return this.textTemplate}},Nn([b.ViewChild("text",{read:b.TemplateRef,static:!0}),Mn("design:type",b.TemplateRef)],t.prototype,"textTemplate",void 0),Nn([b.ViewChild("number",{read:b.TemplateRef,static:!0}),Mn("design:type",b.TemplateRef)],t.prototype,"numberTemplate",void 0),Nn([b.ViewChild("chip",{read:b.TemplateRef,static:!0}),Mn("design:type",b.TemplateRef)],t.prototype,"chipTemplate",void 0),Nn([b.ViewChild("link",{read:b.TemplateRef,static:!0}),Mn("design:type",b.TemplateRef)],t.prototype,"linkTemplate",void 0),Nn([b.ViewChild("image",{read:b.TemplateRef,static:!0}),Mn("design:type",b.TemplateRef)],t.prototype,"imageTemplate",void 0),Nn([b.ViewChild("checkbox",{read:b.TemplateRef,static:!0}),Mn("design:type",b.TemplateRef)],t.prototype,"checkboxTemplate",void 0),Nn([b.ViewChild("bold",{read:b.TemplateRef,static:!0}),Mn("design:type",b.TemplateRef)],t.prototype,"boldTemplate",void 0),Nn([b.ViewChild("italic",{read:b.TemplateRef,static:!0}),Mn("design:type",b.TemplateRef)],t.prototype,"italicTemplate",void 0),Nn([b.ViewChild("custom",{read:b.TemplateRef,static:!0}),Mn("design:type",b.TemplateRef)],t.prototype,"customTemplate",void 0),Nn([b.ViewChild("function",{read:b.TemplateRef,static:!0}),Mn("design:type",b.TemplateRef)],t.prototype,"functionTemplate",void 0),t=Nn([b.Component({template:'\n\n\t\t<ng-template #text let-element="element">\n\t\t\t{{ element }}\n\t\t</ng-template>\n\n\t\t<ng-template #number let-element="element">\n\t\t\t<span class="gui-cell-number">\n\t\t\t\t{{ element }}\n\t\t\t</span>\n\t\t</ng-template>\n\n\t\t<ng-template #chip let-element="element">\n\t\t\t<gui-chip>\n\t\t\t\t{{ element }}\n\t\t\t</gui-chip>\n\t\t</ng-template>\n\n\t\t<ng-template #link let-element="element">\n\t\t\t<a gui-button link="true" href="{{ element }}">\n\t\t\t\t{{ element }}\n\t\t\t</a>\n\t\t</ng-template>\n\n\t\t<ng-template #image let-element="element">\n\t\t\t<img src="{{ element }}"/>\n\t\t</ng-template>\n\n\t\t<ng-template #checkbox let-element="element">\n\t\t\t<span class="gui-cell-boolean">\n\t\t\t\t<gui-checkbox [checked]="!!element" [disabled]="true"></gui-checkbox>\n\t\t\t</span>\n\t\t</ng-template>\n\n\t\t<ng-template #bold let-element="element">\n\t\t\t<span class="gui-bold">{{ element }}</span>\n\t\t</ng-template>\n\n\t\t<ng-template #italic let-element="element">\n\t\t\t<span class="gui-italic">{{ element }}</span>\n\t\t</ng-template>\n\n\t\t<ng-template #custom let-element="element" >\n\t\t\t{{ element }}\n\t\t</ng-template>\n\n\t\t<ng-template #function let-element="element" >\n\t\t\t<gui-function-view [element]="element" ></gui-function-view>\n\t\t</ng-template>\n\n\t'})],t)}(),kn=function(){function t(){this.subject$=new y.ReplaySubject(1)}return t.prototype.emit=function(t){this.subject$.next(t)},t.prototype.select=function(){return this.subject$.asObservable()},t}();(pe=se||(se={}))[pe.SUBMIT=0]="SUBMIT",pe[pe.BLUR=1]="BLUR",pe[pe.CANCEL=2]="CANCEL";var zn,Wn,Vn,Un=(zn=function(t,e){return(zn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}zn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ln=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Gn=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Qn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ENTER_KEY_CODE=13,t.ESC_KEY_CODE=27,t}return Un(t,e),t.prototype.submit=function(){this.emitStatus(se.SUBMIT)},t.prototype.cancel=function(){this.emitStatus(se.CANCEL)},t.prototype.emitStatus=function(t){this.status&&this.status.emit(t)},Ln([b.Input(),Gn("design:type",Object)],t.prototype,"value",void 0),Ln([b.Input(),Gn("design:type",kn)],t.prototype,"valueChanges",void 0),Ln([b.Input(),Gn("design:type",kn)],t.prototype,"status",void 0),Ln([b.Input(),Gn("design:type",Boolean)],t.prototype,"focus",void 0),t}(Oe),$n=(Wn=function(t,e){return(Wn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Wn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Kn=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},qn=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Xn=function(o){function t(t){var e,n=o.call(this)||this;return n.formBuilder=t,n.filterFieldName="phrase",n.filterForm=n.formBuilder.group(((e={})[n.filterFieldName]=[""],e)),n}return $n(t,o),t.prototype.ngOnChanges=function(t){void 0!==t.value&&this.filterForm.get(this.filterFieldName).setValue(this.value)},t.prototype.ngOnInit=function(){this.observeChanges()},t.prototype.ngAfterViewInit=function(){var e=this,t=this.inputRef.nativeElement;this.focusField(t),this.emitValueChange(t.value),y.fromEvent(t,"blur").pipe(this.takeUntil()).subscribe(function(){e.unsubscribe(),e.submit()});var n=y.fromEvent(t,"keyup");n.pipe(a.filter(function(t){return t.keyCode===e.ENTER_KEY_CODE}),this.takeUntil()).subscribe(function(){e.unsubscribe(),e.submit()}),n.pipe(a.filter(function(t){return t.keyCode===e.ESC_KEY_CODE}),this.takeUntil()).subscribe(function(){e.unsubscribe(),e.cancel()})},t.prototype.focusField=function(t){this.focus&&t.focus()},t.prototype.observeChanges=function(){var e=this;this.filterForm.controls[this.filterFieldName].valueChanges.pipe(this.takeUntil()).subscribe(function(t){e.emitValueChange(t)})},t.prototype.emitValueChange=function(t){this.valueChanges&&this.valueChanges.emit(t)},Kn([b.ViewChild("input",{static:!0}),qn("design:type",b.ElementRef)],t.prototype,"inputRef",void 0),t}(Qn),Yn=(Vn=function(t,e){return(Vn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Vn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Jn=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Zn=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},to=function(e){function t(t){return e.call(this,t)||this}return Yn(t,e),t=Jn([b.Component({selector:"gui-number-edit",template:'\n\n\t\t<form [formGroup]="filterForm" >\n\t\t\t<input #input [formControlName]="filterFieldName" type="number" class="gui-input" />\n\t\t</form>\n\n\t',changeDetection:b.ChangeDetectionStrategy.OnPush,encapsulation:b.ViewEncapsulation.None}),Zn("design:paramtypes",[o.FormBuilder])],t)}(Xn);function eo(t,e){if("function"!=typeof Object.getPrototypeOf(t)[e])throw new Error('Method "'+e+'" of class "'+t.constructor.name+"\" doesn't override any method of base class.")}var no,oo,ro,io,co=(no=function(t,e){return(no=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}no(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),uo=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},ao=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},so=function(e){function t(t){return e.call(this,t)||this}return co(t,e),t.prototype.focusField=function(t){this.focus&&(t.focus(),t.setSelectionRange(0,t.value.length))},uo([eo,ao("design:type",Function),ao("design:paramtypes",[Object]),ao("design:returntype",void 0)],t.prototype,"focusField",null),t=uo([b.Component({selector:"gui-string-edit",template:'\n\n\t\t<form [formGroup]="filterForm" >\n\t\t\t<input #input [formControlName]="filterFieldName" type="type" class="gui-input" />\n\t\t</form>\n\n\t',changeDetection:b.ChangeDetectionStrategy.OnPush,encapsulation:b.ViewEncapsulation.None}),ao("design:paramtypes",[o.FormBuilder])],t)}(Xn),po=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},fo=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},lo=function(){function t(){}return t.prototype.getTemplate=function(t){switch(t){case R.STRING:return this.stringTemplate;case R.NUMBER:return this.numberTemplate;case R.BOOLEAN:return this.booleanTemplate;default:return this.emptyTemplate}},po([b.ViewChild("string",{read:b.TemplateRef,static:!0}),fo("design:type",b.TemplateRef)],t.prototype,"stringTemplate",void 0),po([b.ViewChild("number",{read:b.TemplateRef,static:!0}),fo("design:type",b.TemplateRef)],t.prototype,"numberTemplate",void 0),po([b.ViewChild("boolean",{read:b.TemplateRef,static:!0}),fo("design:type",b.TemplateRef)],t.prototype,"booleanTemplate",void 0),po([b.ViewChild("empty",{read:b.TemplateRef,static:!0}),fo("design:type",b.TemplateRef)],t.prototype,"emptyTemplate",void 0),t=po([b.Component({template:'\n\n\t\t<ng-template #string let-valueChanges="valueChanges" let-value="value" let-status="status" let-focus="focus" >\n\t\t\t<gui-string-edit [valueChanges]="valueChanges" [value]="value" [status]="status" [focus]="focus">\n\t\t\t</gui-string-edit>\n\t\t</ng-template>\n\n\t\t<ng-template #number let-valueChanges="valueChanges" let-value="value" let-status="status" let-focus="focus" >\n\t\t\t<gui-number-edit [valueChanges]="valueChanges" [value]="value" [status]="status" [focus]="focus">\n\t\t\t</gui-number-edit>\n\t\t</ng-template>\n\n\t\t<ng-template #boolean let-valueChanges="valueChanges" let-value="value" let-status="status" let-focus="focus" >\n\t\t\t<gui-boolean-edit [valueChanges]="valueChanges" [value]="value" [status]="status" [focus]="focus">\n\t\t\t</gui-boolean-edit>\n\t\t</ng-template>\n\n\t\t<ng-template #empty>\n\n\t\t</ng-template>\n\n\t'})],t)}(),go=(oo=function(t,e){return(oo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}oo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ho=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},yo=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},mo=function(e){function t(){var t=e.call(this)||this;return t.filterFieldName="booleanEdit",t}return go(t,e),t.prototype.ngAfterViewInit=function(){var t=this,e=this.checkboxRef.nativeElement.querySelector('input[type="checkbox"]');e.focus(),y.fromEvent(e,"blur").pipe(a.debounceTime(400),this.takeUntil()).subscribe(function(){t.unsubscribe(),t.submit()})},t.prototype.toggle=function(t){this.valueChanges.emit(t)},ho([b.ViewChild("checkbox",{read:b.ElementRef,static:!0}),yo("design:type",b.ElementRef)],t.prototype,"checkboxRef",void 0),t=ho([b.Component({selector:"gui-boolean-edit",template:'\n\n\t\t<gui-checkbox #checkbox\n\t\t\t\t\t  [checked]="value"\n\t\t\t\t\t  [name]="filterFieldName"\n\t\t\t\t\t  (changed)="toggle($event)"></gui-checkbox>\n\n\t',changeDetection:b.ChangeDetectionStrategy.OnPush,encapsulation:b.ViewEncapsulation.None}),yo("design:paramtypes",[])],t)}(Qn),bo=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},vo=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Oo=function(){function t(){}return bo([b.ContentChild(b.TemplateRef,{static:!1}),vo("design:type",b.TemplateRef)],t.prototype,"cellTemplate",void 0),bo([b.Input(),vo("design:type",String)],t.prototype,"header",void 0),t=bo([b.Component({selector:"gui-column",template:""})],t)}(),Ro=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},_o=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},jo=function(){function t(t){this.sanitizer=t}return t.prototype.ngOnChanges=function(){this.safeHTML=this.sanitizer.bypassSecurityTrustHtml(this.element)},Ro([b.Input(),_o("design:type",Object)],t.prototype,"element",void 0),t=Ro([b.Component({selector:"gui-function-view",template:'\n\n\t\t<div [innerHTML]="safeHTML"></div>\n\n\t'}),_o("design:paramtypes",[i.DomSanitizer])],t)}();(io=ro||(ro={}))[io.PERCENTAGE=0]="PERCENTAGE",io[io.NUMBER=1]="NUMBER",io[io.AUTO=2]="AUTO";var wo,Co,Po=function(){function t(t){this.baseWidth=t,this.setWidthAndType(t)}return t.prototype.getWidth=function(){return this.width},t.prototype.getColumnType=function(){return this.template},t.prototype.isTypePercentage=function(){return this.template===ro.PERCENTAGE},t.prototype.isTypeAuto=function(){return this.template===ro.AUTO},t.prototype.isTypeNumber=function(){return this.template===ro.NUMBER},t.prototype.setWidth=function(t){this.width=t},t.prototype.setWidthAndType=function(t){null==t||"auto"===t?(this.template=ro.AUTO,this.setWidth(null)):this.isPercentage(t)?(this.template=ro.PERCENTAGE,this.setWidth(this.percentageToNumber(""+t))):(this.isStringNumber(t),this.template=ro.NUMBER,this.setWidth(+t))},t.prototype.clone=function(){return new t(this.baseWidth)},t.prototype.isPercentage=function(t){return"string"==typeof t&&"%"===t[t.length-1]},t.prototype.percentageToNumber=function(t){return+t.slice(0,-1)},t.prototype.isStringNumber=function(t){var e=+t;return Number.isNaN(e)},t}(),Ao=function(){function t(t){this.MIN_COLUMN_WIDTH=t}return t.prototype.calculateMinWidth=function(t){var e=this.segregateColumns(t),n=e.staticColumns,o=e.fluidColumns,r=0;return n.forEach(function(t){r+=t.getWidth()}),r+=o.length*this.MIN_COLUMN_WIDTH},t.prototype.segregateColumns=function(t){var e=this;return{staticColumns:t.filter(function(t){return t.isTypeNumber()&&t.getWidth()>e.MIN_COLUMN_WIDTH}),fluidColumns:t.filter(function(t){return t.isTypeAuto()||t.isTypePercentage()||t.isTypeNumber()&&t.getWidth()<=e.MIN_COLUMN_WIDTH})}},t}(),Io=function(){function t(t,e,n){this.source=t,this.width=e,this.MIN_COLUMN_WIDTH=n,this.columns=this.source.map(function(t){return t.clone()})}return t.prototype.calculate=function(){var n=this.width,t=this.columns.slice();this.adjustMinimalWidth(t);var o=[];if(t.forEach(function(t,e){t.isTypeNumber()?n-=t.getWidth():o.push(t)}),0!==(t=o).length){var r=n/t.length;t.forEach(function(t,e){t.setWidth(r)})}return this.columns},t.prototype.adjustMinimalWidth=function(t){var e=this;t.forEach(function(t){t.isTypeNumber()&&t.getWidth()<e.MIN_COLUMN_WIDTH&&t.setWidthAndType(e.MIN_COLUMN_WIDTH)})},t.prototype.adjustPercentageWidth=function(){this.columns.filter(function(t){return t.isTypePercentage()});for(var t=0,e=this.columns;t<e.length;t++){var n=e[t];n.getColumnType()===ro.PERCENTAGE&&n.setWidth(this.width*n.getWidth()*.01)}},t.prototype.adjustAutoWidth=function(){for(var t=this.width,e=[],n=0;n<this.columns.length;n+=1){(c=this.columns[n]).getColumnType()!==ro.AUTO?t-=c.getWidth():e.push(c)}if(0<e.length)for(var o=t/e.length,r=0,i=e;r<i.length;r++){var c;(c=i[r]).setWidth(o)}},t}(),Eo=function(){function t(t,e,n){void 0===e&&(e=[]),void 0===n&&(n=100),this.MIN_COLUMN_WIDTH=t,this.baseColumnWidths=e.map(function(t){return new Po(t.width)}),this.columnWidths=e.map(function(t){return new Po(t.width)}),this.setContainerWidth(n),this.calculate()}return t.prototype.getColumns=function(){return this.baseColumnWidths},t.prototype.getColumnsWidth=function(){return this.width},t.prototype.getWidths=function(){return this.columnWidths.map(function(t){return t.getWidth()})},t.prototype.getMinWidth=function(){return new Ao(this.MIN_COLUMN_WIDTH).calculateMinWidth(this.columnWidths)},t.prototype.setWidth=function(t){this.setContainerWidth(t),this.calculate()},t.prototype.setColumns=function(t){this.baseColumnWidths=t.map(function(t){return new Po(t.width)}),this.columnWidths=t.map(function(t){return new Po(t.width)}),this.calculate()},t.prototype.calculate=function(){if(this.baseColumnWidths&&this.width){var t=new Io(this.baseColumnWidths,this.width,this.MIN_COLUMN_WIDTH);this.columnWidths=t.calculate()}},t.prototype.setContainerWidth=function(t){this.getMinWidth()>t?this.width=this.getMinWidth():this.width=t,this.calculate()},t}();(Co=wo||(wo={}))[Co.ASC=0]="ASC",Co[Co.DESC=1]="DESC",Co[Co.NONE=2]="NONE";function So(){}function Do(){}function To(){}var Fo,Bo,xo,No,Mo,Ho,ko,zo,Wo,Vo,Uo,Lo,Go,Qo,$o,Ko,qo,Xo,Yo,Jo,Zo,tr,er,nr,or,rr,ir,cr,ur,ar,sr,pr,fr,lr,gr,dr,hr,yr,mr,br,vr,Or,Rr,_r,jr,wr,Cr,Pr,Ar,Ir=function(){function t(t){this.templateFunction=function(t){return t},"function"==typeof t?(this.view=P.FUNCTION,this.templateFunction=t):this.view=t}return t.prototype.getCellView=function(){return this.view},t.prototype.getTemplateFunction=function(){return this.templateFunction},t}(),Er=function(){function t(t,e,n,o){this.sortStatus=wo.NONE,this.view=new Ir(P.TEXT),this.columnField=t,e&&(this.header=e),n&&(this.view=n),o&&(this.width=o)}return t.prototype.getField=function(){return this.columnField},t.prototype.getHeader=function(){return this.header},t.prototype.getDataType=function(){return this.columnField.getDataType()},t.prototype.getCellView=function(){return this.view.getCellView()},t.prototype.getTemplateFunction=function(){return this.view.getTemplateFunction()},t.prototype.setSortStatus=function(t){this.sortStatus=t},t.prototype.setView=function(t){this.view=t},t}(),Sr=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Dr=function(){function t(){}return t.prototype.create=function(t){return Array.isArray(t)?this.createColumns(t):this.createColumn(t)},t.prototype.createColumn=function(t){var e=t.getColumn(),n=t.getField(),o=new Er(n);return void 0!==e.header&&(o.header=e.header),void 0!==e.view&&o.setView(new Ir(e.view)),void 0!==e.width&&(o.width=this.convertWidth(e.width)),o},t.prototype.createColumns=function(t){var e=this,n=[];return t.forEach(function(t){n.push(e.createColumn(t))}),n},t.prototype.convertWidth=function(t){return+t},t=Sr([b.Injectable()],t)}(),Tr=(Fo=function(t,e){return(Fo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Fo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Fr=function(o){function t(t,e){var n=o.call(this,t,"ColumnsSetAggregateEvent")||this;return n.columns=e,n}return Tr(t,o),t}(It),Br=(Bo=function(t,e){return(Bo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Bo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),xr=function(e){function t(t){return e.call(this,t,"CompositionWidthSetAggregateEvent")||this}return Br(t,e),t}(It),Nr=(xo=function(t,e){return(xo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}xo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Mr=function(o){function t(t,e){var n=o.call(this,t,"CompositionContainerWidthSetAggregateEvent")||this;return n.containerWidth=e,n}return Nr(t,o),t}(It),Hr=(No=function(t,e){return(No=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}No(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),kr=function(e){function t(t){return e.call(this,t,"CompositionResizeWidthSetAggregateEvent")||this}return Hr(t,e),t}(It),zr=(Mo=function(t,e){return(Mo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Mo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Wr=function(c){function n(t,e,n,o){void 0===e&&(e=[]);var r=c.call(this,t)||this;r.MIN_COLUMN_WIDTH=50,r.columnWidthCollection=new Eo(r.MIN_COLUMN_WIDTH),r.activeColumns=[],r.resizeWidthEnabled=!0,r.columnFactory=new Dr;var i=e.map(function(t){return t.getColumn()});return r.baseParams=e,r.baseColumns=i,r.width=n,r.activeColumns=r.columnFactory.create(e),r.columnWidthCollection=new Eo(r.MIN_COLUMN_WIDTH,i,n),null!=o&&(r.resizeWidthEnabled=o),r}return zr(n,c),n.prototype.getColumns=function(){return this.activeColumns},n.prototype.getWidth=function(){return this.resizeWidthEnabled?this.containerWidth:this.width},n.prototype.isResizeEnabled=function(){return this.resizeWidthEnabled},n.prototype.isReady=function(){return!!this.getWidth()&&0<this.activeColumns.length},n.prototype.clone=function(){var t=this.activeColumns.slice(),e=new n(this.getId(),this.baseParams,this.width,this.resizeWidthEnabled);return e.containerWidth=this.containerWidth,e.activeColumns=t,e.columnWidthCollection=this.columnWidthCollection,e},n.prototype.setColumns=function(t){var e=t.map(function(t){return t.getColumn()});this.columnWidthCollection.setColumns(e);var n=this.columnFactory.create(t),o=this.columnWidthCollection.getWidths();this.updateColumnsWidths(n,o),this.setActiveColumnsWithEvent(n)},n.prototype.setContainerWidth=function(t){this.setContainerWidthWithEvent(t),this.recalculateColumns()},n.prototype.setWidth=function(t){this.setWidthWithEvent(t),this.setResizeWidthWithEvent(!1),this.recalculateColumns()},n.prototype.setResizeWidth=function(t){this.setResizeWidthWithEvent(t)},n.prototype.changeSort=function(t){this.activeColumns.forEach(function(t){t.setSortStatus(wo.NONE)});for(var e=function(t){var e=t.fieldId,n=t.direction?wo.ASC:wo.DESC,o=r.activeColumns.filter(function(t){return t.getField().getId().getId()===e.getId()});0<o.length&&o.forEach(function(t){t.setSortStatus(n)})},r=this,n=0,o=t;n<o.length;n++){e(o[n])}},n.prototype.recalculateColumns=function(){this.columnWidthCollection.setWidth(this.getWidth());var t=this.activeColumns.slice(),e=this.columnWidthCollection.getWidths();this.updateColumnsWidths(t,e),this.setActiveColumnsWithEvent(t)},n.prototype.updateColumnsWidths=function(t,n){t.forEach(function(t,e){t.width=n[e]})},n.prototype.setActiveColumnsWithEvent=function(t){this.activeColumns=t,this.addEvent(new Fr(this.getId(),t))},n.prototype.setWidthWithEvent=function(t){var e=new Ao(this.MIN_COLUMN_WIDTH).calculateMinWidth(this.columnWidthCollection.getColumns());this.width=t<e?e:t,this.addEvent(new xr(this.getId()))},n.prototype.setContainerWidthWithEvent=function(t){var e=new Ao(this.MIN_COLUMN_WIDTH).calculateMinWidth(this.columnWidthCollection.getColumns());this.containerWidth=t<e?e:t,this.addEvent(new Mr(this.getId(),t))},n.prototype.setResizeWidthWithEvent=function(t){this.resizeWidthEnabled=t,this.addEvent(new kr(this.getId()))},n}(St),Vr=(Ho=function(t,e){return(Ho=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ho(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ur=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Lr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Vr(e,t),e=Ur([b.Injectable()],e)}(Lt),Gr=(ko=function(t,e){return(ko=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ko(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Qr=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},$r=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Kr=function(n){function t(t,e){return n.call(this,t,e)||this}return Gr(t,n),t.prototype.getById=function(t){var e=n.prototype.getById.call(this,t);return e?e.clone():null},Qr([eo,$r("design:type",Function),$r("design:paramtypes",[Dt]),$r("design:returntype",Wr)],t.prototype,"getById",null),t=Qr([b.Injectable(),$r("design:paramtypes",[Lr,Et])],t)}(Vt),qr=(zo=function(t,e){return(zo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}zo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Xr=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Yr=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Jr=function(n){function t(t){var e=n.call(this)||this;return e.inMemoryCompositionAggregateStore=t,e}return qr(t,n),t.prototype.getById=function(t){return this.inMemoryCompositionAggregateStore.getById(t)},t.prototype.save=function(t){this.inMemoryCompositionAggregateStore.save(t)},t=Xr([b.Injectable(),Yr("design:paramtypes",[Kr])],t)}(So),Zr=function(){function t(t,e){this.templatesComponentDefinition=t,this.componentFactoryResolver=e,this.templates=new Map,this.templatesComponent=null,this.createTemplatesComponent()}return t.prototype.getTemplates=function(){return this.templates},t.prototype.destroy=function(){this.templatesComponent&&(this.templatesComponent.destroy(),this.templatesComponent=null)},t.prototype.createTemplatesComponent=function(){var t=this.componentFactoryResolver.resolveComponentFactory(this.templatesComponentDefinition),e=b.Injector.create({providers:[]});this.templatesComponent=t.create(e),this.generateMap()},t.prototype.generateMap=function(){var e=this;this.generateMapKeys().forEach(function(t){e.findAndSetTemplate(t)})},t.prototype.findAndSetTemplate=function(t){var e=this.templatesComponent.instance.getTemplate(t);this.templates.set(t,e)},t}(),ti=(Wo=function(t,e){return(Wo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Wo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ei=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},ni=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},oi=function(e){function t(t){return e.call(this,Hn,t)||this}return ti(t,e),t.prototype.generateMapKeys=function(){return Object.keys(P).map(function(t){return P[t]})},t=ei([b.Injectable(),ni("design:paramtypes",[b.ComponentFactoryResolver])],t)}(Zr),ri=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},ii=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ci=function(){function t(t){this.columnTemplateFactory=t}return t.prototype.findTemplate=function(t){return this.columnTemplateFactory.getTemplates().get(t)},t=ri([b.Injectable(),ii("design:paramtypes",[oi])],t)}(),ui=(Vo=function(t,e){return(Vo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Vo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ai=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},si=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},pi=function(e){function t(t){return e.call(this,lo,t)||this}return ui(t,e),t.prototype.generateMapKeys=function(){return Object.keys(R).map(function(t){return R[t]})},t=ai([b.Injectable(),si("design:paramtypes",[b.ComponentFactoryResolver])],t)}(Zr),fi=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},li=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},gi=function(){function t(t){this.editTemplateFactory=t}return t.prototype.findTemplate=function(t){return this.editTemplateFactory.getTemplates().get(t)},t=fi([b.Injectable(),li("design:paramtypes",[pi])],t)}(),di=function(){function t(t,e,n,o,r,i){this.viewTemplate=t,this.editTemplate=e,this.context=n,this.width=o,this.fieldId=r,this.sortStatus=i}return t.prototype.getFieldId=function(){return this.fieldId},t.prototype.getSortStatus=function(){return this.sortStatus},t}(),hi=function(t){this.element=t},yi=function(){function t(t){this.id=t}return t.prototype.getId=function(){return this.id},t.prototype.toString=function(){return this.id},t.prototype.equals=function(t){return t.getId()===this.id},t}(),mi=function(t,e,n,o,r,i){this.template=t,this.editTemplate=e,this.editable=n,this.accessor=o,this.width=r,this.columnFieldId=i},bi=function(){function t(t,e,n){void 0===n&&(n=wo.NONE),this.field=t,this.header=e,this.sortStatus=n}return t.prototype.setHeader=function(t){this.header=t},t.prototype.setField=function(t){this.field=t},t.prototype.getHeaderCellTemplateWithContext=function(t){var e,n=this.header;"string"==typeof n?e=new hi(n):"function"==typeof n&&(e=new hi(n(t)));var o=new yi(this.field.getId().getId());return new di(this.headerTemplate,this.editTemplate,e,this.width,o,this.sortStatus)},t.prototype.getContentCellTemplateWithAccessor=function(){var e=this;return new mi(this.cellTemplate,this.editTemplate,!0,function(t){return e.templateFunction(e.field.getAccessor()(t))},this.width,this.field.getId())},t}(),vi=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Oi=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ri=function(){function t(t,e){this.viewTemplateRepository=t,this.editTemplateRepository=e}return t.prototype.create=function(t){var e=new bi(t.getField(),t.getHeader(),t.sortStatus);return e.cellTemplate=this.findViewTemplate(t.getCellView()),e.headerTemplate=this.findViewTemplate(P.TEXT),e.templateFunction=t.getTemplateFunction(),e.editTemplate=this.findEditTemplate(t.getDataType()),e.width=+t.width,e},t.prototype.createColumns=function(t){var e=this;return t.map(function(t){return e.create(t)})},t.prototype.findViewTemplate=function(t){return t===P.FUNCTION?this.viewTemplateRepository.findTemplate(P.FUNCTION):this.viewTemplateRepository.findTemplate(t)},t.prototype.findEditTemplate=function(t){return this.editTemplateRepository.findTemplate(t)},t=vi([b.Injectable(),Oi("design:paramtypes",[ci,gi])],t)}(),_i=(Uo=function(t,e){return(Uo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Uo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ji=function(c){function t(t,e,n,o,r){var i=c.call(this,t)||this;return i.ready=e,i.columns=n,i.width=o,i.resizeWidth=r,i}return _i(t,c),t.prototype.getColumns=function(){return this.columns},t.prototype.getHeaderColumns=function(){return this.columns.map(function(t,e){return t.getHeaderCellTemplateWithContext(e)})},t.prototype.getTemplateColumns=function(){return this.columns.map(function(t){return t.getContentCellTemplateWithAccessor()})},t.prototype.getWidth=function(){return this.width},t.prototype.getContainerWidth=function(){return+this.width-2},t.prototype.isReady=function(){return this.ready},t.prototype.isResizeWidthEnabled=function(){return this.resizeWidth},t.prototype.equals=function(t){return this.width===t.width&&this.resizeWidth===t.resizeWidth&&this.equalsByColumns(t.columns)},t.prototype.equalsByColumns=function(t){return this.columns.length===t.length},t}(Ht),wi=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Ci=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Pi=function(){function t(t){this.columnDefinitionFactory=t}return t.prototype.convert=function(t){var e=t.isReady(),n=t.getColumns(),o=this.convertColumnsToColumnDef(n),r=t.getWidth(),i=t.isResizeEnabled(),c=t.getId();return new ji(c,e,o,r,i)},t.prototype.convertColumnsToColumnDef=function(t){var n=this,o=[];return t.forEach(function(t){var e=n.columnDefinitionFactory.create(t);o.push(e)}),o},t=wi([b.Injectable(),Ci("design:paramtypes",[Ri])],t)}(),Ai=(Lo=function(t,e){return(Lo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Lo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ii=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Ei=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Si=function(o){function t(t,e){var n=o.call(this,t)||this;return n.inMemoryCompositionStore=t,n.compositionConverter=e,n}return Ai(t,o),t.prototype.toReadModel=function(t){return this.compositionConverter.convert(t)},t=Ii([b.Injectable(),Ei("design:paramtypes",[Lr,Pi])],t)}(Ut),Di=(Go=function(t,e){return(Go=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Go(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ti=function(e){function t(t){return e.call(this,t,"CompositionInitedEvent")||this}return Di(t,e),t}(Tt),Fi=(Qo=function(t,e){return(Qo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Qo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Bi=function(e){function t(t){return e.call(this,t,"CompositionResizeWidthSetEvent")||this}return Fi(t,e),t}(Tt),xi=($o=function(t,e){return($o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}$o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ni=function(e){function t(t){return e.call(this,t,"ColumnsSetEvent")||this}return xi(t,e),t}(Tt),Mi=(Ko=function(t,e){return(Ko=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ko(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Hi=function(n){function t(t,e){return n.call(this,t,"CompositionContainerWidthSetEvent",e)||this}return Mi(t,n),t}(Tt),ki=(qo=function(t,e){return(qo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}qo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),zi=function(e){function t(t){return e.call(this,t,"CompositionWidthSetEvent")||this}return ki(t,e),t}(Tt),Wi=(Xo=function(t,e){return(Xo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Xo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Vi=function(o){function t(t,e){var n=o.call(this,t,"CompositionChangeSortStatusEvent")||this;return n.columns=e,n}return Wi(t,o),t.prototype.getCompositionId=function(){return this.aggregateId},t.prototype.getColumns=function(){return this.columns},t}(Tt),Ui=(Yo=function(t,e){return(Yo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Yo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Li=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Gi=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Qi=function(n){function t(t,e){var o=n.call(this)||this;return o.domainEventBus=t,o.inMemoryCompositionQueryStore=e,o.composition$=new y.ReplaySubject(1),o.unsubscribe$=new y.Subject,o.domainEventBus.ofEvent(Ti,Bi,Ni,Hi,zi,Vi).pipe(a.takeUntil(o.unsubscribe$)).subscribe(function(t){var e=t.aggregateId,n=o.inMemoryCompositionQueryStore.getById(e);o.composition$.next(n)}),o}return Ui(t,n),t.prototype.ngOnDestroy=function(){this.unsubscribe$.next(),this.unsubscribe$.complete()},t.prototype.select=function(e){return this.composition$.asObservable().pipe(a.filter(function(t){return t.getId().toString()===e.toString()}),a.filter(function(t){return t.isReady()}))},t=Li([b.Injectable(),Gi("design:paramtypes",[Nt,Si])],t)}(Do),$i=[Kr,{provide:So,useClass:Jr}],Ki=[Si,{provide:Do,useClass:Qi}],qi=[Lr],Xi=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Yi=function(){function t(){}return t.prototype.create=function(t){return new Wr(t)},t=Xi([b.Injectable()],t)}(),Ji=(Jo=function(t,e){return(Jo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Jo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Zi=function(n){function t(t){var e=n.call(this,t,"InitCompositionCommand")||this;return e.compositionId=t,e}return Ji(t,n),t}(wt),tc=(Zo=function(t,e){return(Zo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Zo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ec=function(o){function t(t,e){var n=o.call(this,t,"SetColumnsCommand")||this;return n.compositionId=t,n.columns=e,n}return tc(t,o),t.prototype.getParams=function(){return this.columns},t}(wt),nc=(tr=function(t,e){return(tr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}tr(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),oc=function(o){function t(t,e){var n=o.call(this,t,"SetCompositionWidthCommand")||this;return n.structureId=t,n.width=e,n}return nc(t,o),t}(wt),rc=(er=function(t,e){return(er=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}er(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ic=function(o){function t(t,e){var n=o.call(this,t,"SetCompositionContainerWidthCommand")||this;return n.structureId=t,n.width=e,n}return rc(t,o),t}(wt),cc=(nr=function(t,e){return(nr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}nr(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),uc=function(o){function t(t,e){var n=o.call(this,t,"SetCompositionResizeWidthCommand")||this;return n.structureId=t,n.enabled=e,n}return cc(t,o),t}(wt),ac=(or=function(t,e){return(or=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}or(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),sc=function(o){function t(t,e){var n=o.call(this,t,"CompositionChangeSortStatusCommand")||this;return n.compositionId=t,n.sortParams=e,n}return ac(t,o),t.prototype.getCompositionId=function(){return this.compositionId},t.prototype.getSortParams=function(){return this.sortParams},t}(wt),pc=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},fc=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},lc=function(){function t(t){this.commandDispatcher=t}return t.prototype.init=function(t){this.commandDispatcher.dispatch(new Zi(t))},t.prototype.setColumns=function(t,e){this.commandDispatcher.dispatch(new ec(t,e))},t.prototype.setWidth=function(t,e){this.commandDispatcher.dispatch(new oc(t,e))},t.prototype.setContainerWidth=function(t,e){this.commandDispatcher.dispatch(new ic(t,e))},t.prototype.setResizeWidth=function(t,e){this.commandDispatcher.dispatch(new uc(t,e))},t.prototype.changeSort=function(t,e){this.commandDispatcher.dispatch(new sc(t,e))},t=pc([b.Injectable(),fc("design:paramtypes",[gt])],t)}(),gc=(rr=function(t,e){return(rr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}rr(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),dc=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},hc=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},yc=function(r){function t(t,e,n){var o=r.call(this,Zi,Ti,n)||this;return o.compositionAggregateRepository=t,o.compositionAggregateFactory=e,o}return gc(t,r),t.prototype.handle=function(t){var e=t.compositionId,n=this.compositionAggregateFactory.create(e);this.compositionAggregateRepository.save(n)},t=dc([b.Injectable(),hc("design:paramtypes",[So,Yi,xt])],t)}(Ct),mc="CompositionResizeWidthSetAggregateEvent",bc="ColumnsSetAggregateEvent",vc="CompositionContainerWidthSetAggregateEvent",Oc="CompositionWidthSetAggregateEvent",Rc=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},_c=function(){function t(){}return t.prototype.convert=function(t){return Array.isArray(t)?this.convertEvents(t):this.convertEvent(t)},t.prototype.convertEvents=function(t){var e=this;return t.map(function(t){return e.convertEvent(t)})},t.prototype.convertEvent=function(t){switch(t.getType()){case mc:return new Bi(t.getAggregateId());case bc:return new Ni(t.getAggregateId());case vc:var e=t.containerWidth;return new Hi(t.getAggregateId(),e);case Oc:return new zi(t.getAggregateId())}},t=Rc([b.Injectable()],t)}(),jc=(ir=function(t,e){return(ir=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ir(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),wc=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Cc=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Pc=function(r){function t(t,e,n){var o=r.call(this,ec)||this;return o.compositionAggregateRepository=t,o.domainEventPublisher=e,o.compositionEventConverter=n,o}return jc(t,r),t.prototype.handle=function(t){var e=t.getAggregateId(),n=t.getParams(),o=this.compositionAggregateRepository.getById(e);o.setColumns(n),this.compositionAggregateRepository.save(o),this.publishEvents(o,t)},t.prototype.publishEvents=function(t,e){var n=t.getEvents(),o=this.compositionEventConverter.convert(n);this.domainEventPublisher.publish(o)},t=wc([b.Injectable(),Cc("design:paramtypes",[So,xt,_c])],t)}(Ct),Ac=(cr=function(t,e){return(cr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}cr(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ic=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Ec=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Sc=function(r){function t(t,e,n){var o=r.call(this,oc,zi,n)||this;return o.compositionAggregateRepository=t,o.columnConverter=e,o}return Ac(t,r),t.prototype.handle=function(t){var e=t.structureId,n=t.width,o=this.compositionAggregateRepository.getById(e);o.setWidth(n),this.compositionAggregateRepository.save(o)},t=Ic([b.Injectable(),Ec("design:paramtypes",[So,Dr,xt])],t)}(Ct),Dc=(ur=function(t,e){return(ur=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ur(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Tc=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Fc=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Bc=function(r){function t(t,e,n){var o=r.call(this,uc,Bi,n)||this;return o.compositionAggregateRepository=t,o.columnConverter=e,o}return Dc(t,r),t.prototype.handle=function(t){var e=t.structureId,n=t.enabled,o=this.compositionAggregateRepository.getById(e);o.setResizeWidth(n),this.compositionAggregateRepository.save(o)},t=Tc([b.Injectable(),Fc("design:paramtypes",[So,Dr,xt])],t)}(Ct),xc=(ar=function(t,e){return(ar=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ar(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Nc=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Mc=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Hc=function(r){function t(t,e,n){var o=r.call(this,ic)||this;return o.compositionAggregateRepository=t,o.domainEventPublisher=e,o.compositionEventConverter=n,o}return xc(t,r),t.prototype.handle=function(t){var e=t.structureId,n=t.width,o=this.compositionAggregateRepository.getById(e);o.setContainerWidth(n),this.compositionAggregateRepository.save(o),this.publishAggregateEvents(o.getEvents())},t.prototype.publishAggregateEvents=function(t){var e=this.compositionEventConverter.convert(t);this.domainEventPublisher.publish(e)},t=Nc([b.Injectable(),Mc("design:paramtypes",[So,xt,_c])],t)}(Ct),kc=(sr=function(t,e){return(sr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}sr(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),zc=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Wc=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Vc=function(r){function t(t,e,n){var o=r.call(this,sc)||this;return o.compositionAggregateRepository=t,o.domainEventPublisher=e,o.compositionEventConverter=n,o}return kc(t,r),t.prototype.handle=function(t){var e=t.getCompositionId(),n=t.getSortParams(),o=this.compositionAggregateRepository.getById(e);o.changeSort(n),this.compositionAggregateRepository.save(o);var r=o.getColumns();this.domainEventPublisher.publish(new Vi(e,r))},t=zc([b.Injectable(),Wc("design:paramtypes",[So,xt,_c])],t)}(Ct),Uc=function(){function t(t,e,n){this.fieldId=t,this.accessor=e,this.dataType=n}return t.prototype.getId=function(){return this.fieldId},t.prototype.getValue=function(t){return this.accessor(t)},t.prototype.getAccessor=function(){return this.accessor},t.prototype.getDataType=function(){return this.dataType},t}(),Lc=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Gc=function(){function t(){}return t.prototype.create=function(t,e,n){return new Uc(t,e,n)},t=Lc([b.Injectable()],t)}(),Qc=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},$c=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Kc=function(){function t(t){this.domainEventBus=t}return t.prototype.selectColumnsChanged=function(e){return this.domainEventBus.ofEvent(Ni).pipe(a.filter(function(t){return t.aggregateId.toString()===e.toString()}))},t.prototype.selectWidthChanged=function(e){return this.domainEventBus.ofEvent(Ni).pipe(a.filter(function(t){return t.aggregateId.toString()===e.toString()}))},t.prototype.selectContainerWidthChanged=function(e){return this.domainEventBus.ofEvent(Hi).pipe(a.filter(function(t){return t.getAggregateId().equals(e)}),a.map(function(t){return t.getPayload()}),a.filter(function(t){return!!t}))},t=Qc([b.Injectable(),$c("design:paramtypes",[Nt])],t)}(),qc=(pr=function(t,e){return(pr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}pr(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Xc=function(e){function t(t){return e.call(this,t)||this}return qc(t,e),t}(Dt),Yc=new Xc("-1"),Jc=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Zc=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},tu=function(){function t(t){this.compositionRepository=t}return t.prototype.selectWidth=function(t){return void 0===t&&(t=Yc),this.compositionRepository.select(t).pipe(a.map(function(t){return t.getWidth()}))},t.prototype.selectContainerWidth=function(t){return void 0===t&&(t=Yc),this.compositionRepository.select(t).pipe(a.map(function(t){return t.getContainerWidth()}))},t.prototype.selectWidthForEachColumn=function(t){return void 0===t&&(t=Yc),this.compositionRepository.select(t).pipe(a.map(function(t){return t.getColumns().map(function(t){return t.width})}))},t.prototype.selectHeaderColumns=function(t){return void 0===t&&(t=Yc),this.compositionRepository.select(t).pipe(a.map(function(t){return t.getHeaderColumns()}))},t.prototype.selectTemplateColumns=function(t){return void 0===t&&(t=Yc),this.compositionRepository.select(t).pipe(a.map(function(t){return t.getTemplateColumns()}))},t.prototype.selectResizeWidth=function(t){return void 0===t&&(t=Yc),this.compositionRepository.select(t).pipe(a.map(function(t){return t.isResizeWidthEnabled()}))},t=Jc([b.Injectable(),Zc("design:paramtypes",[Do])],t)}(),eu=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},nu=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ou=function(){function t(t){this.compositionDispatcher=t}return t.prototype.init=function(t){void 0===t&&(t=Yc),this.compositionDispatcher.init(t)},t.prototype.setColumns=function(t,e){void 0===e&&(e=Yc),this.compositionDispatcher.setColumns(e,t)},t.prototype.setWidth=function(t,e){void 0===e&&(e=Yc),this.compositionDispatcher.setWidth(e,t)},t.prototype.setContainerWidth=function(t,e){void 0===e&&(e=Yc),this.compositionDispatcher.setContainerWidth(e,t)},t.prototype.setResizeWidth=function(t,e){void 0===e&&(e=Yc),this.compositionDispatcher.setResizeWidth(e,t)},t=eu([b.Injectable(),nu("design:paramtypes",[lc])],t)}(),ru=(fr=function(t,e){return(fr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}fr(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),iu=function(r){function t(t,e,n){var o=r.call(this,t,"ToggleSortEvent")||this;return o.compositionId=e,o.directions=n,o}return ru(t,r),t.prototype.getCompositionId=function(){return this.compositionId},t.prototype.getDirections=function(){return this.directions},t}(Tt),cu=function(){function t(t){this.id=t}return t.prototype.getId=function(){return this.id},t}(),uu=function(t,e){this.fieldId=t,this.direction=e},au=(lr=function(t,e){return(lr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}lr(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),su=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},pu=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},fu=function(n){function t(t){var e=n.call(this)||this;return e.compositionDispatcher=t,e}return au(t,n),t.prototype.handle=function(t){if(t instanceof iu){var e=t.getCompositionId(),n=t.getDirections().map(function(t){var e=new cu(t.fieldId.getId());return new uu(e,t.direction)});this.compositionDispatcher.changeSort(e,n)}},t=su([b.Injectable(),pu("design:paramtypes",[lc])],t)}(Ot),lu=(gr=function(t,e){return(gr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}gr(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),gu=function(i){function t(t,e,n,o){var r=i.call(this,t,"FieldsInitedEvent")||this;return r.compositionId=e,r.columns=n,r.fields=o,r}return lu(t,i),t.prototype.getFields=function(){return this.fields},t}(Tt),du=function(){function t(t,e){this.column=t,this.field=e}return t.prototype.getColumn=function(){return this.column},t.prototype.getField=function(){return this.field},t}(),hu=(dr=function(t,e){return(dr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}dr(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),yu=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},mu=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},bu=function(o){function t(t,e){var n=o.call(this)||this;return n.compositionDispatcher=t,n.columnFieldFactory=e,n}return hu(t,o),t.prototype.handle=function(t){var i=this;if(t instanceof gu){var c=t.getFields(),u=c.map(function(t){return new cu(t.getId().getId())}),e=t.columns.map(function(t,e){var n=u[e],o=c[e],r=i.columnFieldFactory.create(n,o.getAccessorMethod(),o.getDataType());return new du(t,r)});this.compositionDispatcher.setColumns(t.compositionId,e)}},t=yu([b.Injectable(),mu("design:paramtypes",[lc,Gc])],t)}(Ot),vu=$i.concat([lc,Yi,{provide:ft,useClass:yc,multi:!0},{provide:ft,useClass:Pc,multi:!0},{provide:ft,useClass:Sc,multi:!0},{provide:ft,useClass:Bc,multi:!0},{provide:ft,useClass:Hc,multi:!0},{provide:ft,useClass:Vc,multi:!0},Dr,_c,Gc]),Ou=Ki.concat([{provide:Mt,useClass:bu,multi:!0},{provide:Mt,useClass:fu,multi:!0},Ri,ci,oi,pi,gi]),Ru=qi.concat(vu,Ou,[Pi,ou,tu,Kc]),_u=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},ju=[Hn,lo,so,to,mo,Oo,jo],wu=[Hn,lo,Oo,r.FabricChipModule,r.FabricCheckboxModule,r.FabricButtonModule,r.FabricInputModule,jo],Cu=function(){function t(){}return t=_u([b.NgModule({imports:[n.CommonModule,o.ReactiveFormsModule,r.FabricChipModule,r.FabricCheckboxModule,r.FabricButtonModule,r.FabricInputModule],providers:Ru.slice(),declarations:[ju],exports:wu,entryComponents:[Hn,lo,r.FabricChipComponent,r.FabricCheckboxComponent,r.FabricButtonComponent,r.FabricInputComponent]})],t)}(),Pu=function(){function t(){this.increment=0}return t.prototype.generateId=function(){return this.increment++,this.increment},t}(),Au=(hr=function(t,e){return(hr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}hr(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Iu=function(e){function t(t){return e.call(this,t,"PageChangedAggregateEvent")||this}return Au(t,e),t}(It),Eu=(yr=function(t,e){return(yr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}yr(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Su=function(e){function t(t){return e.call(this,t,"PagesizeChangedAggregateEvent")||this}return Eu(t,e),t}(It),Du=function(){function o(t,e,n,o,r,i,c){this.enabled=t,this.page=e,this.pageSize=n,this.pageSizes=o,this.pagerTop=r,this.pagerBottom=i,this.events=[],this.logger=c}return o.default=function(t){return new o(!1,1,25,[10,25,50,100],!1,!0,t)},o.fromConfig=function(t,e){var n=o.default(e);return new o(t.enabled||n.isEnabled(),t.page||n.getPage(),t.pageSize||n.getPageSize(),t.pageSizes||n.getPageSizes(),t.pagerTop||n.isPagerTop(),t.pagerBottom||n.isPagerBottom(),e)},o.prototype.isEnabled=function(){return this.enabled},o.prototype.isDisabled=function(){return!this.enabled},o.prototype.getPage=function(){return this.page},o.prototype.getPageSize=function(){return this.pageSize},o.prototype.getPageSizes=function(){return this.pageSizes},o.prototype.isPagerTop=function(){return!this.isDisabled()&&this.pagerTop},o.prototype.isPagerBottom=function(){return!this.isDisabled()&&this.pagerBottom},o.prototype.change=function(t){void 0!==t.enabled&&(this.enabled=t.enabled),void 0!==t.page&&(this.page=t.page,void 0===t.enabled&&(this.enabled=!0)),void 0!==t.pageSize&&(this.pageSize=t.pageSize,void 0===t.enabled&&(this.enabled=!0)),void 0!==t.pageSizes&&(this.pageSizes=t.pageSizes,void 0===t.enabled&&(this.enabled=!0)),void 0!==t.pagerTop&&(this.pagerTop=t.pagerTop,void 0===t.enabled&&(this.enabled=!0)),void 0!==t.pagerBottom&&(this.pagerBottom=t.pagerBottom,void 0===t.enabled&&(this.enabled=!0)),!0===this.enabled&&!1===t.pagerTop&&!1===t.pagerBottom&&(this.pagerBottom=!0,this.logger.warn("Pagers cannot be turn of when paging is enabled."))},o.prototype.nextPage=function(t){var e=this.page;this.isNextPageDisabled(t)||(e+=1),this.page=e},o.prototype.prevPage=function(){var t=this.page;this.isPrevPageDisabled()||(t-=1),this.page=t},o.prototype.changePageSize=function(e){return this.pageSizes.find(function(t){return t===e})&&(this.setPage(1),this.setPageSize(e)),this.events},o.prototype.isNextPageDisabled=function(t){return this.page===Math.ceil(t/this.pageSize)},o.prototype.isPrevPageDisabled=function(){return 1===this.page},o.prototype.calculateStart=function(t){var e=1+(this.page-1)*this.pageSize;return t<e?0:e},o.prototype.calculateEnd=function(t){var e=this.page*this.pageSize;return t<e?t:e},o.prototype.sample=function(t){if(this.isDisabled())return t;var e=t.length,n=this.calculateStart(e);return 0!==n&&(n-=1),t.slice(n,this.calculateEnd(e))},o.prototype.setPage=function(t){this.page=t,this.events.push(new Iu(new Ce("TODO need to be changed")))},o.prototype.setPageSize=function(t){this.pageSize=t,this.events.push(new Su(new Ce("TODO need to be changed")))},o}(),Tu=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Fu=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Bu=function(){function t(t){this.logger=t}return t.prototype.createDefault=function(){return Du.default(this.logger)},t.prototype.createFromConfig=function(t){return Du.fromConfig(t,this.logger)},t=Tu([b.Injectable(),Fu("design:paramtypes",[To])],t)}(),xu=(mr=function(t,e){return(mr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}mr(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Nu=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Mu=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Hu=function(r){function t(t,e,n){var o=r.call(this,n)||this;return o.structureId=t,o.aggregateFactory=e,o}return xu(t,r),t.prototype.setDefaultPaging=function(){var t=this.aggregateFactory.createDefault();r.prototype.setPaging.call(this,{page:t.getPage(),pageSize:t.getPageSize(),pageSizes:t.getPageSizes()},this.structureId)},t.prototype.setPaging=function(t){r.prototype.setPaging.call(this,t,this.structureId)},t.prototype.changePageSize=function(t){r.prototype.changePageSize.call(this,t,this.structureId)},t.prototype.nextPage=function(){r.prototype.nextPage.call(this,this.structureId)},t.prototype.prevPage=function(){r.prototype.prevPage.call(this,this.structureId)},Nu([eo,Mu("design:type",Function),Mu("design:paramtypes",[Object]),Mu("design:returntype",void 0)],t.prototype,"setPaging",null),Nu([eo,Mu("design:type",Function),Mu("design:paramtypes",[Number]),Mu("design:returntype",void 0)],t.prototype,"changePageSize",null),Nu([eo,Mu("design:type",Function),Mu("design:paramtypes",[]),Mu("design:returntype",void 0)],t.prototype,"nextPage",null),Nu([eo,Mu("design:type",Function),Mu("design:paramtypes",[]),Mu("design:returntype",void 0)],t.prototype,"prevPage",null),t=Nu([b.Injectable(),Mu("design:paramtypes",[Ce,Bu,ze])],t)}(Ue),ku=(br=function(t,e){return(br=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}br(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),zu=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Wu=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Vu=function(o){function t(t,e){var n=o.call(this,e)||this;return n.structureId=t,n}return ku(t,o),t.prototype.select=function(){return o.prototype.select.call(this,this.structureId)},t.prototype.selectOne=function(){return o.prototype.select.call(this,this.structureId).pipe(a.take(1))},zu([eo,Wu("design:type",Function),Wu("design:paramtypes",[]),Wu("design:returntype",y.Observable)],t.prototype,"select",null),zu([eo,Wu("design:type",Function),Wu("design:paramtypes",[]),Wu("design:returntype",y.Observable)],t.prototype,"selectOne",null),t=zu([b.Injectable(),Wu("design:paramtypes",[Ce,je])],t)}(Ee),Uu=(vr=function(t,e){return(vr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}vr(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Lu=function(o){function t(t,e){var n=o.call(this,t,"SetSchemaCommand")||this;return n.structureId=t,n.height=e,n}return Uu(t,o),t}(wt),Gu=(Or=function(t,e){return(Or=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Or(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Qu=function(o){function t(t,e){var n=o.call(this,t,"SetSchemaVerticalGridCommand")||this;return n.structureId=t,n.enabled=e,n}return Gu(t,o),t}(wt),$u=(Rr=function(t,e){return(Rr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Rr(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ku=function(o){function t(t,e){var n=o.call(this,t,"SetSchemaHorizontalGridCommand")||this;return n.structureId=t,n.enabled=e,n}return $u(t,o),t}(wt),qu=(_r=function(t,e){return(_r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}_r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Xu=function(o){function t(t,e){var n=o.call(this,t,"SetSchemaThemeCommand")||this;return n.structureId=t,n.theme=e,n}return qu(t,o),t}(wt),Yu=(jr=function(t,e){return(jr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}jr(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ju=function(o){function t(t,e){var n=o.call(this,t,"SetRowColoringCommand")||this;return n.structureId=t,n.coloring=e,n}return Yu(t,o),t}(wt),Zu=(wr=function(t,e){return(wr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}wr(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ta=function(o){function t(t,e){var n=o.call(this,t,"ChangeSchemaTopHeaderCommand")||this;return n.structureId=t,n.enabled=e,n}return Zu(t,o),t}(wt),ea=(Cr=function(t,e){return(Cr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Cr(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),na=function(o){function t(t,e){var n=o.call(this,t,"ChangeSchemaBottomHeaderCommand")||this;return n.structureId=t,n.enabled=e,n}return ea(t,o),t}(wt),oa=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},ra=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ia=function(){function t(t){this.commandDispatcher=t}return t.prototype.setSchema=function(t,e){this.commandDispatcher.dispatch(new Lu(t,e))},t.prototype.changeVerticalGrid=function(t,e){this.commandDispatcher.dispatch(new Qu(t,e))},t.prototype.changeHorizontalGrid=function(t,e){this.commandDispatcher.dispatch(new Ku(t,e))},t.prototype.setTheme=function(t,e){this.commandDispatcher.dispatch(new Xu(t,e))},t.prototype.setRowColoring=function(t,e){void 0===t&&(t=Pe),this.commandDispatcher.dispatch(new Ju(t,e))},t.prototype.changeTopHeader=function(t,e){this.commandDispatcher.dispatch(new ta(t,e))},t.prototype.changeBottomHeader=function(t,e){this.commandDispatcher.dispatch(new na(t,e))},t=oa([b.Injectable(),ra("design:paramtypes",[gt])],t)}(),ca=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},ua=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},aa=function(){function t(t){this.structureRepository=t}return t.prototype.select=function(e){return this.structureRepository.select(e).pipe(a.filter(function(t){return t.getId().toString()===e.toString()}),a.map(function(t){return t.getSchema()}))},t=ca([b.Injectable(),ua("design:paramtypes",[Zt])],t)}(),sa=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},pa=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},fa=function(){function t(t){this.schemaRepository=t}return t.prototype.select=function(t){return void 0===t&&(t=Pe),this.schemaRepository.select(t)},t.prototype.selectHeight=function(t){return void 0===t&&(t=Pe),this.schemaRepository.select(t).pipe(a.map(function(t){return t.getHeight()}),a.filter(function(t){return void 0!==t}))},t.prototype.selectContainerHeight=function(t){return void 0===t&&(t=Pe),this.schemaRepository.select(t).pipe(a.map(function(t){return t.getContainerHeight()}),a.filter(function(t){return void 0!==t}))},t.prototype.selectOne=function(t){return void 0===t&&(t=Pe),this.select(t).pipe(a.take(1))},t.prototype.selectCssClasses=function(t){return void 0===t&&(t=Pe),this.schemaRepository.select(t).pipe(a.map(function(t){return t.getCssClasses()}))},t.prototype.selectColumnHeader=function(t){return void 0===t&&(t=Pe),this.schemaRepository.select(t).pipe(a.map(function(t){return t.getColumnHeader()}))},t=sa([b.Injectable(),pa("design:paramtypes",[aa])],t)}(),la=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},ga=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},da=function(){function t(t,e){this.schemaDispatcher=t,this.schemaQueryService=e,this.unsubscribe$=new y.Subject}return t.prototype.ngOnDestroy=function(){this.unsubscribe$.next(),this.unsubscribe$.complete()},t.prototype.setSchema=function(t,e){void 0===e&&(e=Pe),this.schemaDispatcher.setSchema(e,t)},t.prototype.setHeight=function(t,e){void 0===e&&(e=Pe),this.schemaDispatcher.setSchema(e,t)},t.prototype.changeVerticalGrid=function(t,e){void 0===e&&(e=Pe),this.schemaDispatcher.changeVerticalGrid(e,t)},t.prototype.changeHorizontalGrid=function(t,e){void 0===e&&(e=Pe),this.schemaDispatcher.changeHorizontalGrid(e,t)},t.prototype.setTheme=function(t,e){void 0===e&&(e=Pe),this.schemaDispatcher.setTheme(e,t)},t.prototype.setRowColoring=function(t,e){void 0===e&&(e=Pe),this.schemaDispatcher.setRowColoring(e,t)},t.prototype.changeTopHeader=function(t,e){void 0===e&&(e=Pe),this.schemaDispatcher.changeTopHeader(e,t)},t.prototype.changeBottomHeader=function(t,e){void 0===e&&(e=Pe),this.schemaDispatcher.changeBottomHeader(e,t)},t.prototype.toggleVerticalGrid=function(e){var n=this;void 0===e&&(e=Pe),this.schemaQueryService.selectCssClasses(e).pipe(a.map(function(t){return t.verticalGrid}),a.filter(function(t){return void 0!==t}),a.take(1),a.takeUntil(this.unsubscribe$)).subscribe(function(t){n.changeVerticalGrid(!t,e)})},t.prototype.toggleHorizontalGrid=function(e){var n=this;void 0===e&&(e=Pe),this.schemaQueryService.selectCssClasses(e).pipe(a.map(function(t){return t.horizontalGrid}),a.filter(function(t){return void 0!==t}),a.take(1),a.takeUntil(this.unsubscribe$)).subscribe(function(t){n.changeHorizontalGrid(!t,e)})},t.prototype.toggleTopHeader=function(e){var n=this;void 0===e&&(e=Pe),this.schemaQueryService.selectColumnHeader(e).pipe(a.map(function(t){return t.isTopHeaderEnabled()}),a.take(1),a.takeUntil(this.unsubscribe$)).subscribe(function(t){n.changeTopHeader(!t,e)})},t.prototype.toggleBottomHeader=function(e){var n=this;void 0===e&&(e=Pe),this.schemaQueryService.selectColumnHeader(e).pipe(a.map(function(t){return t.isBottomHeaderEnabled()}),a.take(1),a.takeUntil(this.unsubscribe$)).subscribe(function(t){n.changeBottomHeader(!t,e)})},t=la([b.Injectable(),ga("design:paramtypes",[ia,fa])],t)}();(Ar=Pr||(Pr={}))[Ar.NONE=0]="NONE",Ar[Ar.EVEN=1]="EVEN",Ar[Ar.ODD=2]="ODD";var ha,ya,ma,ba,va,Oa,Ra,_a,ja,wa,Ca,Pa,Aa,Ia,Ea,Sa,Da,Ta,Fa,Ba,xa,Na,Ma,Ha,ka,za,Wa,Va,Ua,La,Ga,Qa,$a,Ka,qa=(ha=function(t,e){return(ha=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ha(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Xa=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Ya=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ja=function(r){function t(t,e,n){var o=r.call(this,n,e)||this;return o.structureId=t,o}return qa(t,r),t.prototype.setDefaultSchema=function(){r.prototype.setSchema.call(this,Number.MAX_SAFE_INTEGER,this.structureId)},t.prototype.setSchema=function(t,e){void 0===e&&(e=Pe),r.prototype.setSchema.call(this,t,this.structureId)},t.prototype.setHeight=function(t){r.prototype.setHeight.call(this,t,this.structureId)},t.prototype.changeVerticalGrid=function(t){r.prototype.changeVerticalGrid.call(this,t,this.structureId)},t.prototype.changeHorizontalGrid=function(t){r.prototype.changeHorizontalGrid.call(this,t,this.structureId)},t.prototype.toggleVerticalGrid=function(){r.prototype.toggleVerticalGrid.call(this,this.structureId)},t.prototype.toggleHorizontalGrid=function(){r.prototype.toggleHorizontalGrid.call(this,this.structureId)},t.prototype.setTheme=function(t){r.prototype.setTheme.call(this,t,this.structureId)},t.prototype.setRowColoring=function(t,e){void 0===e&&(e=Pe),r.prototype.setRowColoring.call(this,t,this.structureId)},t.prototype.changeTopHeader=function(t,e){void 0===e&&(e=Pe),r.prototype.changeTopHeader.call(this,t,this.structureId)},t.prototype.changeBottomHeader=function(t,e){void 0===e&&(e=Pe),r.prototype.changeBottomHeader.call(this,t,this.structureId)},t.prototype.toggleTopHeader=function(){r.prototype.toggleTopHeader.call(this,this.structureId)},t.prototype.toggleBottomHeader=function(){r.prototype.toggleBottomHeader.call(this,this.structureId)},Xa([eo,Ya("design:type",Function),Ya("design:paramtypes",[Number,Ce]),Ya("design:returntype",void 0)],t.prototype,"setSchema",null),Xa([eo,Ya("design:type",Function),Ya("design:paramtypes",[Number]),Ya("design:returntype",void 0)],t.prototype,"setHeight",null),Xa([eo,Ya("design:type",Function),Ya("design:paramtypes",[Boolean]),Ya("design:returntype",void 0)],t.prototype,"changeVerticalGrid",null),Xa([eo,Ya("design:type",Function),Ya("design:paramtypes",[Boolean]),Ya("design:returntype",void 0)],t.prototype,"changeHorizontalGrid",null),Xa([eo,Ya("design:type",Function),Ya("design:paramtypes",[]),Ya("design:returntype",void 0)],t.prototype,"toggleVerticalGrid",null),Xa([eo,Ya("design:type",Function),Ya("design:paramtypes",[]),Ya("design:returntype",void 0)],t.prototype,"toggleHorizontalGrid",null),Xa([eo,Ya("design:type",Function),Ya("design:paramtypes",[Number]),Ya("design:returntype",void 0)],t.prototype,"setTheme",null),Xa([eo,Ya("design:type",Function),Ya("design:paramtypes",[Number,Ce]),Ya("design:returntype",void 0)],t.prototype,"setRowColoring",null),Xa([eo,Ya("design:type",Function),Ya("design:paramtypes",[Boolean,Ce]),Ya("design:returntype",void 0)],t.prototype,"changeTopHeader",null),Xa([eo,Ya("design:type",Function),Ya("design:paramtypes",[Boolean,Ce]),Ya("design:returntype",void 0)],t.prototype,"changeBottomHeader",null),Xa([eo,Ya("design:type",Function),Ya("design:paramtypes",[]),Ya("design:returntype",void 0)],t.prototype,"toggleTopHeader",null),Xa([eo,Ya("design:type",Function),Ya("design:paramtypes",[]),Ya("design:returntype",void 0)],t.prototype,"toggleBottomHeader",null),t=Xa([b.Injectable(),Ya("design:paramtypes",[Ce,fa,ia])],t)}(da),Za=(ya=function(t,e){return(ya=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ya(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ts=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},es=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ns=function(o){function t(t,e){var n=o.call(this,e)||this;return n.structureId=t,n}return Za(t,o),t.prototype.select=function(){return o.prototype.select.call(this,this.structureId)},t.prototype.selectHeight=function(){return o.prototype.selectHeight.call(this,this.structureId)},t.prototype.selectContainerHeight=function(){return o.prototype.selectContainerHeight.call(this,this.structureId)},t.prototype.selectOne=function(){return o.prototype.selectOne.call(this,this.structureId)},t.prototype.selectCssClasses=function(){return o.prototype.selectCssClasses.call(this,this.structureId)},t.prototype.selectColumnHeader=function(t){return void 0===t&&(t=Pe),o.prototype.selectColumnHeader.call(this,this.structureId)},ts([eo,es("design:type",Function),es("design:paramtypes",[]),es("design:returntype",y.Observable)],t.prototype,"select",null),ts([eo,es("design:type",Function),es("design:paramtypes",[]),es("design:returntype",y.Observable)],t.prototype,"selectHeight",null),ts([eo,es("design:type",Function),es("design:paramtypes",[]),es("design:returntype",y.Observable)],t.prototype,"selectContainerHeight",null),ts([eo,es("design:type",Function),es("design:paramtypes",[]),es("design:returntype",y.Observable)],t.prototype,"selectOne",null),ts([eo,es("design:type",Function),es("design:paramtypes",[]),es("design:returntype",y.Observable)],t.prototype,"selectCssClasses",null),ts([eo,es("design:type",Function),es("design:paramtypes",[Ce]),es("design:returntype",y.Observable)],t.prototype,"selectColumnHeader",null),t=ts([b.Injectable(),es("design:paramtypes",[Ce,aa])],t)}(fa),os=(ma=function(t,e){return(ma=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ma(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),rs=function(o){function t(t,e){var n=o.call(this,t,"SetFormationCommand")||this;return n.structureId=t,n.payload=e,n}return os(t,o),t}(wt),is=(ba=function(t,e){return(ba=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ba(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),cs=function(o){function t(t,e){var n=o.call(this,t,"ToggleSelectedRowCommand")||this;return n.structureId=t,n.selectedRow=e,n}return is(t,o),t}(wt),us=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},as=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ss=function(){function t(t){this.commandDispatcher=t}return t.prototype.setDefault=function(t){this.commandDispatcher.dispatch(new rs(t))},t.prototype.toggleSelectedRow=function(t,e){this.commandDispatcher.dispatch(new cs(t,e))},t=us([b.Injectable(),as("design:paramtypes",[gt])],t)}(),ps=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},fs=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ls=function(){function t(t){this.formationDispatcher=t}return t.prototype.setDefaultFormation=function(t){void 0===t&&(t=Pe),this.formationDispatcher.setDefault(t)},t.prototype.toggleSelectedRow=function(t,e){void 0===e&&(e=Pe),this.formationDispatcher.toggleSelectedRow(e,t)},t=ps([b.Injectable(),fs("design:paramtypes",[ss])],t)}(),gs=(va=function(t,e){return(va=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}va(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ds=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},hs=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ys=function(o){function t(t,e){var n=o.call(this,e)||this;return n.structureId=t,n}return gs(t,o),t.prototype.setDefault=function(){o.prototype.setDefaultFormation.call(this,this.structureId)},t.prototype.toggleSelectedRow=function(t){o.prototype.toggleSelectedRow.call(this,t,this.structureId)},ds([eo,hs("design:type",Function),hs("design:paramtypes",[String]),hs("design:returntype",void 0)],t.prototype,"toggleSelectedRow",null),t=ds([b.Injectable(),hs("design:paramtypes",[Ce,ss])],t)}(ls),ms=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},bs=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},vs=function(){function t(t){this.structureRepository=t}return t.prototype.select=function(e){return this.structureRepository.select(e).pipe(a.filter(function(t){return t.getId().toString()===e.toString()}),a.map(function(t){return t.getFormation()}))},t=ms([b.Injectable(),bs("design:paramtypes",[Zt])],t)}(),Os=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Rs=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},_s=function(){function t(t){this.formationRepository=t}return t.prototype.selectSelectedRows=function(t){return void 0===t&&(t=Pe),this.formationRepository.select(t).pipe(a.map(function(t){return t.getSelectedRows()}))},t=Os([b.Injectable(),Rs("design:paramtypes",[vs])],t)}(),js=(Oa=function(t,e){return(Oa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Oa(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ws=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Cs=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ps=function(o){function t(t,e){var n=o.call(this,e)||this;return n.structureId=t,n}return js(t,o),t.prototype.selectSelectedRows=function(){return o.prototype.selectSelectedRows.call(this,this.structureId)},ws([eo,Cs("design:type",Function),Cs("design:paramtypes",[]),Cs("design:returntype",y.Observable)],t.prototype,"selectSelectedRows",null),t=ws([b.Injectable(),Cs("design:paramtypes",[Ce,vs])],t)}(_s),As=(Ra=function(t,e){return(Ra=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ra(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Is=function(o){function t(t,e){var n=o.call(this,t,"StructureSetConfigFilterCommand")||this;return n.structureId=t,n.filterConfig=e,n}return As(t,o),t.prototype.getConfig=function(){return this.filterConfig},t}(wt),Es=(_a=function(t,e){return(_a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}_a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ss=function(i){function t(t,e,n,o){var r=i.call(this,t,"StructureToggleFilterCommand")||this;return r.structureId=t,r.fieldId=e,r.externalFilterId=n,r.filterValue=o,r}return Es(t,i),t}(wt),Ds=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Ts=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Fs=function(){function t(t){this.commandDispatcher=t}return t.prototype.setFilteringEnabled=function(t,e){this.commandDispatcher.dispatch(new Is(e,t))},t.prototype.addFilter=function(t,e,n,o){this.commandDispatcher.dispatch(new Ss(o,t,e,n))},t=Ds([b.Injectable(),Ts("design:paramtypes",[gt])],t)}(),Bs=(ja=function(t,e){return(ja=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ja(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),xs=function(o){function t(t,e){var n=o.call(this,t,"SourceSetLoadingCommand")||this;return n.structureId=t,n.enabled=e,n}return Bs(t,o),t}(wt),Ns=(wa=function(t,e){return(wa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}wa(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ms=function(o){function t(t,e){void 0===e&&(e=[]);var n=o.call(this,t,"SetOriginCommand")||this;return n.structureId=t,n.items=e,n}return Ns(t,o),t}(wt),Hs=(Ca=function(t,e){return(Ca=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ca(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ks=function(o){function t(t,e){var n=o.call(this,t,"StructureEditSourceItemCommand")||this;return n.structureId=t,n.params=e,n}return Hs(t,o),t.prototype.getParams=function(){return this.params},t}(wt),zs=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Ws=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Vs=function(){function t(t){this.commandDispatcher=t}return t.prototype.setLoading=function(t,e){this.commandDispatcher.dispatch(new xs(t,e))},t.prototype.setOrigin=function(t,e){this.commandDispatcher.dispatch(new Ms(t,e))},t.prototype.editItem=function(t,e){this.commandDispatcher.dispatch(new ks(t,e))},t=zs([b.Injectable(),Ws("design:paramtypes",[gt])],t)}(),Us=(Pa=function(t,e){return(Pa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Pa(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ls=function(n){function t(t){var e=n.call(this,t,"InitStructureCommand")||this;return e.structureId=t,e}return Us(t,n),t}(wt),Gs=(Aa=function(t,e){return(Aa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Aa(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Qs=function(o){function t(t,e){var n=o.call(this,t,"SetVerticalScrollEnabledCommand")||this;return n.structureId=t,n.enabled=e,n}return Gs(t,o),t}(wt),$s=(Ia=function(t,e){return(Ia=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ia(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ks=function(o){function t(t,e){var n=o.call(this,t,"SetScrollPositionCommand")||this;return n.structureId=t,n.position=e,n}return $s(t,o),t}(wt),qs=(Ea=function(t,e){return(Ea=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ea(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Xs=function(o){function t(t,e){var n=o.call(this,t,"SetSortingCommand")||this;return n.structureId=t,n.sortingConfig=e,n}return qs(t,o),t.prototype.getSortingConfig=function(){return this.sortingConfig},t}(wt),Ys=(Sa=function(t,e){return(Sa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Sa(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Js=function(r){function t(t,e,n){var o=r.call(this,t,"ToggleSortCommand")||this;return o.structureId=t,o.compositionId=e,o.fieldId=n,o}return Ys(t,r),t.prototype.getCompositionId=function(){return this.compositionId},t.prototype.getFieldId=function(){return this.fieldId},t}(wt),Zs=(Da=function(t,e){return(Da=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Da(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),tp=function(o){function t(t,e){var n=o.call(this,t,"StructureSetConfigQuickFilterCommand")||this;return n.structureId=t,n.quickFiltersConfig=e,n}return Zs(t,o),t.prototype.getConfig=function(){return this.quickFiltersConfig},t}(wt),ep=(Ta=function(t,e){return(Ta=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ta(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),np=function(o){function t(t,e){var n=o.call(this,t,"StructureSetConfigSearchingCommand")||this;return n.structureId=t,n.searchConfig=e,n}return ep(t,o),t.prototype.getConfig=function(){return this.searchConfig},t}(wt),op=(Fa=function(t,e){return(Fa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Fa(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),rp=function(r){function t(t,e,n){var o=r.call(this,t,"InitFieldsCommand")||this;return o.structureId=t,o.compositionId=e,o.columns=n,o}return op(t,r),t}(wt),ip=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},cp=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},up=function(){function t(t,e,n){this.commandDispatcher=t,this.structureFilterCommandService=e,this.sourceDispatcher=n}return t.prototype.init=function(t){void 0===t&&(t=Pe),this.commandDispatcher.dispatch(new Ls(t))},t.prototype.enableVerticalScroll=function(t){void 0===t&&(t=Pe),this.commandDispatcher.dispatch(new Qs(t,!0))},t.prototype.disableVerticalScroll=function(t){void 0===t&&(t=Pe),this.commandDispatcher.dispatch(new Qs(t,!1))},t.prototype.setScrollPosition=function(t,e){void 0===e&&(e=Pe),this.commandDispatcher.dispatch(new Ks(e,t))},t.prototype.setOrigin=function(t,e){void 0===e&&(e=Pe),this.sourceDispatcher.setOrigin(e,t)},t.prototype.setSortingConfig=function(t,e){void 0===e&&(e=Pe),this.commandDispatcher.dispatch(new Xs(e,t))},t.prototype.toggleSort=function(t,e,n){void 0===n&&(n=Pe),this.commandDispatcher.dispatch(new Js(n,e,t))},t.prototype.setFilterConfig=function(t,e){void 0===e&&(e=Pe),this.structureFilterCommandService.setFilteringEnabled(t,e)},t.prototype.setQuickFiltersConfig=function(t,e){void 0===e&&(e=Pe),this.commandDispatcher.dispatch(new tp(e,t))},t.prototype.setSearchingConfig=function(t,e){void 0===e&&(e=Pe),this.commandDispatcher.dispatch(new np(e,t))},t.prototype.initFields=function(t,e,n){void 0===n&&(n=Pe),this.commandDispatcher.dispatch(new rp(n,e,t))},t=ip([b.Injectable(),cp("design:paramtypes",[gt,Fs,Vs])],t)}(),ap=(Ba=function(t,e){return(Ba=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ba(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),sp=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},pp=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},fp=function(c){function t(t,e,n,o,r){var i=c.call(this,n,o,r)||this;return i.structureId=t,i.compositionId=e,i}return ap(t,c),t.prototype.init=function(){c.prototype.init.call(this,this.structureId)},t.prototype.enableVerticalScroll=function(){c.prototype.enableVerticalScroll.call(this,this.structureId)},t.prototype.disableVerticalScroll=function(){c.prototype.disableVerticalScroll.call(this,this.structureId)},t.prototype.setOrigin=function(t){c.prototype.setOrigin.call(this,t,this.structureId)},t.prototype.setScrollPosition=function(t){c.prototype.setScrollPosition.call(this,t,this.structureId)},t.prototype.setSortingConfig=function(t,e){void 0===e&&(e=Pe),c.prototype.setSortingConfig.call(this,t,this.structureId)},t.prototype.toggleSort=function(t){c.prototype.toggleSort.call(this,t,this.compositionId,this.structureId)},t.prototype.setFilterConfig=function(t,e){void 0===e&&(e=Pe),c.prototype.setFilterConfig.call(this,t,this.structureId)},t.prototype.setQuickFiltersConfig=function(t,e){void 0===e&&(e=Pe),c.prototype.setQuickFiltersConfig.call(this,t,this.structureId)},t.prototype.setSearchingConfig=function(t,e){void 0===e&&(e=Pe),c.prototype.setSearchingConfig.call(this,t,this.structureId)},t.prototype.initFields=function(t){c.prototype.initFields.call(this,t,this.compositionId,this.structureId)},sp([eo,pp("design:type",Function),pp("design:paramtypes",[]),pp("design:returntype",void 0)],t.prototype,"init",null),sp([eo,pp("design:type",Function),pp("design:paramtypes",[]),pp("design:returntype",void 0)],t.prototype,"enableVerticalScroll",null),sp([eo,pp("design:type",Function),pp("design:paramtypes",[]),pp("design:returntype",void 0)],t.prototype,"disableVerticalScroll",null),sp([eo,pp("design:type",Function),pp("design:paramtypes",[Array]),pp("design:returntype",void 0)],t.prototype,"setOrigin",null),sp([eo,pp("design:type",Function),pp("design:paramtypes",[Number]),pp("design:returntype",void 0)],t.prototype,"setScrollPosition",null),sp([eo,pp("design:type",Function),pp("design:paramtypes",[Object,Ce]),pp("design:returntype",void 0)],t.prototype,"setSortingConfig",null),sp([eo,pp("design:type",Function),pp("design:paramtypes",[yi]),pp("design:returntype",void 0)],t.prototype,"toggleSort",null),sp([eo,pp("design:type",Function),pp("design:paramtypes",[Object,Ce]),pp("design:returntype",void 0)],t.prototype,"setFilterConfig",null),sp([eo,pp("design:type",Function),pp("design:paramtypes",[Object,Ce]),pp("design:returntype",void 0)],t.prototype,"setQuickFiltersConfig",null),sp([eo,pp("design:type",Function),pp("design:paramtypes",[Object,Ce]),pp("design:returntype",void 0)],t.prototype,"setSearchingConfig",null),sp([eo,pp("design:type",Function),pp("design:paramtypes",[Array]),pp("design:returntype",void 0)],t.prototype,"initFields",null),t=sp([b.Injectable(),pp("design:paramtypes",[Ce,Xc,gt,Fs,Vs])],t)}(up),lp=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},gp=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},dp=function(){function t(t){this.structureRepository=t}return t.prototype.select=function(t){return void 0===t&&(t=Pe),this.structureRepository.select(t)},t.prototype.selectVerticalScrollEnabled=function(t){return void 0===t&&(t=Pe),this.structureRepository.select(t).pipe(a.map(function(t){return t.isVerticalScrollEnabled()}),a.distinctUntilChanged())},t=lp([b.Injectable(),gp("design:paramtypes",[Zt])],t)}(),hp=(xa=function(t,e){return(xa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}xa(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),yp=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},mp=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},bp=function(o){function t(t,e){var n=o.call(this,e)||this;return n.structureId=t,n}return hp(t,o),t.prototype.select=function(){return o.prototype.select.call(this,this.structureId)},t.prototype.selectVerticalScrollEnabled=function(){return o.prototype.selectVerticalScrollEnabled.call(this,this.structureId)},yp([eo,mp("design:type",Function),mp("design:paramtypes",[]),mp("design:returntype",y.Observable)],t.prototype,"select",null),yp([eo,mp("design:type",Function),mp("design:paramtypes",[]),mp("design:returntype",y.Observable)],t.prototype,"selectVerticalScrollEnabled",null),t=yp([b.Injectable(),mp("design:paramtypes",[Ce,Zt])],t)}(dp),vp=(Na=function(t,e){return(Na=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Na(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Op=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Rp=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},_p=function(t){function e(){return t.call(this)||this}return vp(e,t),e=Op([b.Injectable(),Rp("design:paramtypes",[])],e)}(kt),jp=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},wp=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Cp=function(){function t(t){this.structureFieldUiArchive=t}return t.prototype.selectFields=function(t){return this.structureFieldUiArchive.select(t)},t=jp([b.Injectable(),wp("design:paramtypes",[_p])],t)}(),Pp=function(){function t(t,e,n){this.itemId=t,this.columnFieldId=e,this.value=n}return t.prototype.getItemId=function(){return this.itemId},t.prototype.getColumnFieldId=function(){return this.columnFieldId},t.prototype.getValue=function(){return this.value},t}(),Ap=(Ma=function(t,e){return(Ma=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ma(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ip=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Ep=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Sp=function(r){function t(t,e,n){var o=r.call(this)||this;return o.sourceDispatcher=t,o.structureFieldUiRepository=e,o.sourceQueryService=n,o}return Ap(t,r),t.prototype.setOrigin=function(t,e){void 0===e&&(e=Pe),this.sourceDispatcher.setOrigin(e,t)},t.prototype.setLoading=function(t,e){void 0===e&&(e=Pe),this.sourceDispatcher.setLoading(e,t)},t.prototype.editItem=function(t,e){void 0===e&&(e=Pe),this.sourceDispatcher.editItem(e,t)},t.prototype.editItemByIndex=function(e,o,r,i){var c=this;void 0===i&&(i=Pe);var t=this.sourceQueryService.selectOne().pipe(a.map(function(t){return t[e].getId()})),n=this.structureFieldUiRepository.selectFields(i);y.zip(t,n).pipe(a.take(1),this.takeUntil()).subscribe(function(t){var e=t[0],n=t[1];c.editItem(new Pp(e,n[o],r),i)})},t=Ip([b.Injectable(),Ep("design:paramtypes",[Vs,Cp,qe])],t)}(be),Dp=(Ha=function(t,e){return(Ha=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ha(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Tp=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Fp=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Bp=function(i){function t(t,e,n,o){var r=i.call(this,e,n,o)||this;return r.structureId=t,r}return Dp(t,i),t.prototype.setOrigin=function(t){i.prototype.setOrigin.call(this,t,this.structureId)},t.prototype.setLoading=function(t){i.prototype.setLoading.call(this,t,this.structureId)},t.prototype.editItem=function(t){i.prototype.editItem.call(this,t,this.structureId)},t.prototype.editItemByIndex=function(t,e,n){i.prototype.editItemByIndex.call(this,t,e,n,this.structureId)},Tp([eo,Fp("design:type",Function),Fp("design:paramtypes",[Array]),Fp("design:returntype",void 0)],t.prototype,"setOrigin",null),Tp([eo,Fp("design:type",Function),Fp("design:paramtypes",[Boolean]),Fp("design:returntype",void 0)],t.prototype,"setLoading",null),Tp([eo,Fp("design:type",Function),Fp("design:paramtypes",[Pp]),Fp("design:returntype",void 0)],t.prototype,"editItem",null),Tp([eo,Fp("design:type",Function),Fp("design:paramtypes",[Number,Number,Object]),Fp("design:returntype",void 0)],t.prototype,"editItemByIndex",null),t=Tp([b.Injectable(),Fp("design:paramtypes",[Ce,Vs,Cp,qe])],t)}(Sp),xp=(ka=function(t,e){return(ka=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ka(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Np=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Mp=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Hp=function(r){function t(t,e,n){var o=r.call(this,e,n)||this;return o.structureId=t,o}return xp(t,r),t.prototype.select=function(){return r.prototype.select.call(this,this.structureId)},t.prototype.selectOriginSize=function(){return r.prototype.selectOriginSize.call(this,this.structureId)},t.prototype.selectOne=function(){return r.prototype.selectOne.call(this,this.structureId)},t.prototype.selectLoading=function(){return r.prototype.selectLoading.call(this,this.structureId)},Np([eo,Mp("design:type",Function),Mp("design:paramtypes",[]),Mp("design:returntype",y.Observable)],t.prototype,"select",null),Np([eo,Mp("design:type",Function),Mp("design:paramtypes",[]),Mp("design:returntype",y.Observable)],t.prototype,"selectOriginSize",null),Np([eo,Mp("design:type",Function),Mp("design:paramtypes",[]),Mp("design:returntype",y.Observable)],t.prototype,"selectOne",null),Np([eo,Mp("design:type",Function),Mp("design:paramtypes",[]),Mp("design:returntype",y.Observable)],t.prototype,"selectLoading",null),t=Np([b.Injectable(),Mp("design:paramtypes",[Ce,Zt,Qe])],t)}(qe),kp=(za=function(t,e){return(za=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}za(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),zp=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Wp=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Vp=function(o){function t(t,e){var n=o.call(this,e)||this;return n.compositionId=t,n}return kp(t,o),t.prototype.init=function(t){void 0===t&&(t=Yc),o.prototype.init.call(this,this.compositionId)},t.prototype.setColumns=function(t){o.prototype.setColumns.call(this,t,this.compositionId)},t.prototype.setWidth=function(t,e){void 0===e&&(e=Yc),o.prototype.setWidth.call(this,t,this.compositionId)},t.prototype.setContainerWidth=function(t,e){void 0===e&&(e=Yc),o.prototype.setContainerWidth.call(this,t,this.compositionId)},t.prototype.setResizeWidth=function(t,e){void 0===e&&(e=Yc),o.prototype.setResizeWidth.call(this,t,this.compositionId)},zp([eo,Wp("design:type",Function),Wp("design:paramtypes",[Xc]),Wp("design:returntype",void 0)],t.prototype,"init",null),zp([eo,Wp("design:type",Function),Wp("design:paramtypes",[Array]),Wp("design:returntype",void 0)],t.prototype,"setColumns",null),zp([eo,Wp("design:type",Function),Wp("design:paramtypes",[Number,Xc]),Wp("design:returntype",void 0)],t.prototype,"setWidth",null),zp([eo,Wp("design:type",Function),Wp("design:paramtypes",[Number,Xc]),Wp("design:returntype",void 0)],t.prototype,"setContainerWidth",null),zp([eo,Wp("design:type",Function),Wp("design:paramtypes",[Boolean,Xc]),Wp("design:returntype",void 0)],t.prototype,"setResizeWidth",null),t=zp([b.Injectable(),Wp("design:paramtypes",[Xc,lc])],t)}(ou),Up=(Wa=function(t,e){return(Wa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Wa(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Lp=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Gp=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Qp=function(o){function t(t,e){var n=o.call(this,e)||this;return n.compositionId=t,n}return Up(t,o),t.prototype.selectHeaderColumns=function(){return o.prototype.selectHeaderColumns.call(this,this.compositionId)},t.prototype.selectTemplateColumns=function(){return o.prototype.selectTemplateColumns.call(this,this.compositionId)},t.prototype.selectWidthForEachColumn=function(){return o.prototype.selectWidthForEachColumn.call(this,this.compositionId)},t.prototype.selectWidth=function(){return o.prototype.selectWidth.call(this,this.compositionId)},t.prototype.selectContainerWidth=function(t){return void 0===t&&(t=Yc),o.prototype.selectContainerWidth.call(this,this.compositionId)},t.prototype.selectResizeWidth=function(){return o.prototype.selectResizeWidth.call(this,this.compositionId)},Lp([eo,Gp("design:type",Function),Gp("design:paramtypes",[]),Gp("design:returntype",y.Observable)],t.prototype,"selectHeaderColumns",null),Lp([eo,Gp("design:type",Function),Gp("design:paramtypes",[]),Gp("design:returntype",y.Observable)],t.prototype,"selectTemplateColumns",null),Lp([eo,Gp("design:type",Function),Gp("design:paramtypes",[]),Gp("design:returntype",y.Observable)],t.prototype,"selectWidthForEachColumn",null),Lp([eo,Gp("design:type",Function),Gp("design:paramtypes",[]),Gp("design:returntype",y.Observable)],t.prototype,"selectWidth",null),Lp([eo,Gp("design:type",Function),Gp("design:paramtypes",[Xc]),Gp("design:returntype",y.Observable)],t.prototype,"selectContainerWidth",null),Lp([eo,Gp("design:type",Function),Gp("design:paramtypes",[]),Gp("design:returntype",y.Observable)],t.prototype,"selectResizeWidth",null),t=Lp([b.Injectable(),Gp("design:paramtypes",[Xc,Do])],t)}(tu),$p=[{provide:Ue,useClass:Hu},{provide:Ee,useClass:Vu},{provide:da,useClass:Ja},{provide:fa,useClass:ns},{provide:ls,useClass:ys},{provide:_s,useClass:Ps},{provide:up,useClass:fp},{provide:dp,useClass:bp},{provide:Sp,useClass:Bp},{provide:qe,useClass:Hp},{provide:ou,useClass:Vp},{provide:tu,useClass:Qp}],Kp=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},qp=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Xp=function(){function t(t,e){this.rendererFactory2=t,this.schemaQueryService=e,this.VERTICAL_GRID_CLASS_NAME="gui-vertical-grid",this.HORIZONTAL_GRID_CLASS_NAME="gui-horizontal-grid",this.THEME_FABRIC_CLASS_NAME="gui-fabric",this.THEME_MATERIAL_CLASS_NAME="gui-material",this.THEME_LIGHT_CLASS_NAME="gui-light",this.THEME_DARK_CLASS_NAME="gui-dark",this.ROW_COLORING_ODD="gui-rows-odd",this.ROW_COLORING_EVEN="gui-rows-even",this.cssClass=null,this.unsubscribe$=new y.Subject,this.renderer=this.rendererFactory2.createRenderer(null,null)}return t.prototype.ngOnDestroy=function(){this.unsubscribe$.next(),this.unsubscribe$.complete()},t.prototype.init=function(t,e){var n=this;this.cssHostRef=t,this.schemaQueryService.selectCssClasses(e).pipe(a.takeUntil(this.unsubscribe$)).subscribe(function(t){var e=n.updateState(t);n.renderCssClasses(e)})},t.prototype.updateState=function(e){var n=this;if(this.cssClass){var o={};return Object.keys(this.cssClass).forEach(function(t){e[t]!==n.cssClass[t]&&(o[t]=e[t])}),this.cssClass=e,o}return this.cssClass=e,this.cssClass},t.prototype.renderCssClasses=function(t){t.hasOwnProperty("verticalGrid")&&this.toggleCssClass(t.verticalGrid,this.VERTICAL_GRID_CLASS_NAME),t.hasOwnProperty("horizontalGrid")&&this.toggleCssClass(t.horizontalGrid,this.HORIZONTAL_GRID_CLASS_NAME),t.hasOwnProperty("theme")&&(this.removeThemeCssClasses(),this.addClass(this.resolveThemeClassName(t.theme))),t.hasOwnProperty("rowColoring")&&(this.removeRowColoringClasses(),this.addClass(this.resolveRowColoringClassName(t.rowColoring)))},t.prototype.toggleCssClass=function(t,e){t?this.addClass(e):this.removeClass(e)},t.prototype.removeThemeCssClasses=function(){var e=this;Object.keys(E).map(function(t){return E[t]}).map(function(t){return e.resolveThemeClassName(t)}).filter(function(t){return!!t}).forEach(function(t){e.removeClass(t)})},t.prototype.resolveThemeClassName=function(t){switch(t){case E.FABRIC:case E[E.FABRIC]:return this.THEME_FABRIC_CLASS_NAME;case E.MATERIAL:case E[E.MATERIAL]:return this.THEME_MATERIAL_CLASS_NAME;case E.LIGHT:case E[E.LIGHT]:return this.THEME_LIGHT_CLASS_NAME;case E.DARK:case E[E.DARK]:return this.THEME_DARK_CLASS_NAME;default:return this.THEME_FABRIC_CLASS_NAME}},t.prototype.resolveRowColoringClassName=function(t){switch(t){case Pr.ODD:case Pr[Pr.ODD]:return this.ROW_COLORING_ODD;case Pr.EVEN:case Pr[Pr.EVEN]:return this.ROW_COLORING_EVEN;default:return null}},t.prototype.removeRowColoringClasses=function(){var e=this;Object.keys(Pr).map(function(t){return Pr[t]}).map(function(t){return e.resolveRowColoringClassName(t)}).filter(function(t){return!!t}).forEach(function(t){e.removeClass(t)})},t.prototype.addClass=function(t){t&&this.renderer.addClass(this.cssHostRef.nativeElement,t)},t.prototype.removeClass=function(t){t&&this.renderer.removeClass(this.cssHostRef.nativeElement,t)},t=Kp([b.Injectable(),qp("design:paramtypes",[b.RendererFactory2,fa])],t)}(),Yp=(Va=function(t,e){return(Va=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Va(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Jp=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Zp=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},tf=function(t){function e(){return t.call(this)||this}return Yp(e,t),e=Jp([b.Injectable(),Zp("design:paramtypes",[])],e)}(Cn),ef=(Ua=function(t,e){return(Ua=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ua(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),nf=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},of=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},rf=function(t){function e(){return t.call(this)||this}return ef(e,t),e=nf([b.Injectable(),of("design:paramtypes",[])],e)}(Cn),cf=(La=function(t,e){return(La=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}La(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),uf=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},af=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},sf=function(t){function e(){return t.call(this)||this}return cf(e,t),e=uf([b.Injectable(),af("design:paramtypes",[])],e)}(Cn),pf=function(){function t(t,e){this.top=!1,this.bottom=!0,null!=t&&(this.top=t),null!=e&&(this.bottom=e)}return t.prototype.itTopEnabled=function(){return this.top},t.prototype.itBottomEnabled=function(){return this.bottom},t}(),ff=(Ga=function(t,e){return(Ga=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ga(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),lf=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},gf=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},df=function(t){function e(){return t.call(this,new pf)||this}return ff(e,t),e=lf([b.Injectable(),gf("design:paramtypes",[])],e)}(Cn),hf=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},yf=function(){function t(){}return t.prototype.convert=function(t){return t.enabled?new pf(t.top,t.bottom):new pf(!1,!1)},t=hf([b.Injectable()],t)}(),mf=(Qa=function(t,e){return(Qa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Qa(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),bf=function(o){function t(t,e){var n=o.call(this,t,"StructureSetAggregationEnabledCommand")||this;return n.structureId=t,n.enabled=e,n}return mf(t,o),t}(wt),vf=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Of=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Rf=function(){function t(t){this.commandDispatcher=t}return t.prototype.setAggregationEnabled=function(t,e){this.commandDispatcher.dispatch(new bf(e,t))},t=vf([b.Injectable(),Of("design:paramtypes",[gt])],t)}(),_f=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},jf=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},wf=function(){function t(t,e,n,o){this.structureAggregationPanelConfigConverter=t,this.structureAggregationArchive=e,this.structureAggregationCommandService=n,this.structureId=o}return t.prototype.set=function(t){var e=this.structureAggregationPanelConfigConverter.convert(t);this.structureAggregationArchive.set(e),this.structureAggregationCommandService.setAggregationEnabled(t.enabled,this.structureId)},t=_f([b.Injectable(),jf("design:paramtypes",[yf,df,Rf,Ce])],t)}(),Cf=new b.InjectionToken("StructureComponentToken");(Ka=$a||($a={}))[Ka.ENTER=0]="ENTER",Ka[Ka.SUBMIT=1]="SUBMIT",Ka[Ka.CANCEL=2]="CANCEL";var Pf,Af,If,Ef,Sf,Df,Tf,Ff,Bf=(Pf=function(t,e){return(Pf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Pf(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),xf=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Nf=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Mf=function(m){function t(t,e,n,o,r,i,c,u,a,s,p,f,l,g,d,h){var y=m.call(this)||this;return y.structureId=t,y.compositionId=e,y.structureCommandService=n,y.pagingCommandService=o,y.pagingEventService=r,y.sourceCommandService=i,y.sourceEventService=c,y.schemaCommandService=u,y.compositionCommandService=a,y.compositionEventService=s,y.formationEventService=p,y.structureEditModeArchive=f,y.structureCellEditArchive=l,y.structureSummaryEnabledArchive=g,y.structureAggregationConfigService=d,y.structureCellEditStore=h,y.source=[],y.columns=[],y.pageChanged=new b.EventEmitter,y.pageSizeChanged=new b.EventEmitter,y.itemsSelected=new b.EventEmitter,y.columnsChanged=new b.EventEmitter,y.containerWidthChanged=new b.EventEmitter,y.sourceEdited=new b.EventEmitter,y.cellEditEntered=new b.EventEmitter,y.cellEditCanceled=new b.EventEmitter,y.cellEditSubmitted=new b.EventEmitter,y}return Bf(t,m),t.prototype.ngOnChanges=function(t){if(void 0!==t.summaryPanel&&void 0!==t.summaryPanel.currentValue&&this.structureSummaryEnabledArchive.set(this.summaryPanel),void 0!==t.aggregation&&void 0!==t.aggregation.currentValue&&this.structureAggregationConfigService.set(this.aggregation),void 0!==t.editMode&&void 0!==t.editMode.currentValue&&this.structureEditModeArchive.set(this.editMode),void 0!==t.cellEditing&&void 0!==t.cellEditing.currentValue&&this.structureCellEditArchive.set(this.cellEditing),void 0!==t.width&&void 0!==t.width.currentValue&&this.compositionCommandService.setWidth(this.width),void 0!==t.autoResizeWidth&&void 0!==t.autoResizeWidth.currentValue&&this.compositionCommandService.setResizeWidth(this.autoResizeWidth),void 0!==t.columnHeaderTop&&void 0!==t.columnHeaderTop.currentValue&&this.schemaCommandService.changeTopHeader(this.columnHeaderTop),void 0!==t.columnHeaderBottom&&void 0!==t.columnHeaderBottom.currentValue&&this.schemaCommandService.changeBottomHeader(this.columnHeaderBottom),void 0!==t.loading&&void 0!==t.loading.currentValue&&this.sourceCommandService.setLoading(this.loading),void 0!==t.paging&&void 0!==t.paging.currentValue){var e=void 0;e="boolean"==typeof this.paging?{enabled:this.paging}:this.paging,this.pagingCommandService.setPaging(e)}if(t.columns&&this.structureCommandService.initFields(this.columns,this.compositionId,this.structureId),void 0!==t.verticalGrid&&void 0!==t.verticalGrid.currentValue&&this.schemaCommandService.changeVerticalGrid(this.verticalGrid),void 0!==t.horizontalGrid&&void 0!==t.horizontalGrid.currentValue&&this.schemaCommandService.changeHorizontalGrid(this.horizontalGrid),void 0!==t.theme&&void 0!==t.theme.currentValue&&this.schemaCommandService.setTheme(this.theme),void 0!==t.rowColoring&&void 0!==t.rowColoring.currentValue&&this.schemaCommandService.setRowColoring(this.rowColoring),t.height&&this.height&&this.schemaCommandService.setHeight(this.height),void 0!==t.virtualScroll&&void 0!==t.virtualScroll.currentValue&&(this.virtualScroll?this.structureCommandService.enableVerticalScroll():this.structureCommandService.disableVerticalScroll()),void 0!==t.sorting&&void 0!==t.sorting.currentValue){var n=void 0;n="boolean"==typeof this.sorting?{enabled:this.sorting}:this.sorting,this.structureCommandService.setSortingConfig(n)}if(void 0!==t.filtering&&void 0!==t.filtering.currentValue){var o=void 0;o="boolean"==typeof this.filtering?{enabled:this.filtering}:this.filtering,this.structureCommandService.setFilterConfig(o)}if(void 0!==t.quickFilters&&void 0!==t.quickFilters.currentValue){var r=void 0;r="boolean"==typeof this.quickFilters?{enabled:this.quickFilters}:this.quickFilters,this.structureCommandService.setQuickFiltersConfig(r)}if(void 0!==t.searching&&void 0!==t.searching.currentValue){var i=void 0;i="boolean"==typeof this.searching?{enabled:this.searching}:this.searching,this.structureCommandService.setSearchingConfig(i)}t.source&&this.sourceCommandService.setOrigin(this.source)},t.prototype.ngOnInit=function(){var e=this;this.pagingEventService.selectPageChange(this.structureId).pipe(this.takeUntil()).subscribe(function(t){e.pageChanged.emit(t)}),this.pagingEventService.selectPageSizeChange(this.structureId).pipe(this.takeUntil()).subscribe(function(t){e.pageSizeChanged.emit(t)}),this.formationEventService.selectItemSelected(this.structureId).pipe(this.takeUntil()).subscribe(function(t){e.itemsSelected.emit(t)}),this.compositionEventService.selectColumnsChanged(this.compositionId).pipe(a.skip(1),this.takeUntil()).subscribe(function(){e.columnsChanged.emit()}),this.compositionEventService.selectContainerWidthChanged(this.compositionId).pipe(this.takeUntil()).subscribe(function(t){e.containerWidthChanged.emit(t)}),this.sourceEventService.selectSourceEdited(this.structureId).pipe().subscribe(function(t){e.sourceEdited.emit(t)}),this.structureCellEditStore.select().pipe(this.takeUntil()).subscribe(function(t){switch(t){case $a.ENTER:e.cellEditEntered.emit();break;case $a.SUBMIT:e.cellEditSubmitted.emit();break;case $a.CANCEL:e.cellEditCanceled.emit()}})},t.prototype.onPageChange=function(t){this.pageChanged.emit(t)},xf([b.Input(),Nf("design:type",Boolean)],t.prototype,"columnHeaderTop",void 0),xf([b.Input(),Nf("design:type",Boolean)],t.prototype,"columnHeaderBottom",void 0),xf([b.Input(),Nf("design:type",Number)],t.prototype,"height",void 0),xf([b.Input(),Nf("design:type",Number)],t.prototype,"width",void 0),xf([b.Input(),Nf("design:type",Boolean)],t.prototype,"autoResizeWidth",void 0),xf([b.Input(),Nf("design:type",Array)],t.prototype,"source",void 0),xf([b.Input(),Nf("design:type",Array)],t.prototype,"columns",void 0),xf([b.Input(),Nf("design:type",Object)],t.prototype,"paging",void 0),xf([b.Input(),Nf("design:type",Boolean)],t.prototype,"verticalGrid",void 0),xf([b.Input(),Nf("design:type",Boolean)],t.prototype,"horizontalGrid",void 0),xf([b.Input(),Nf("design:type",Number)],t.prototype,"theme",void 0),xf([b.Input(),Nf("design:type",Number)],t.prototype,"rowColoring",void 0),xf([b.Input(),Nf("design:type",Boolean)],t.prototype,"loading",void 0),xf([b.Input(),Nf("design:type",Boolean)],t.prototype,"virtualScroll",void 0),xf([b.Input(),Nf("design:type",Object)],t.prototype,"sorting",void 0),xf([b.Input(),Nf("design:type",Object)],t.prototype,"filtering",void 0),xf([b.Input(),Nf("design:type",Object)],t.prototype,"quickFilters",void 0),xf([b.Input(),Nf("design:type",Object)],t.prototype,"searching",void 0),xf([b.Input(),Nf("design:type",Boolean)],t.prototype,"editMode",void 0),xf([b.Input(),Nf("design:type",Boolean)],t.prototype,"cellEditing",void 0),xf([b.Input(),Nf("design:type",Boolean)],t.prototype,"summaryPanel",void 0),xf([b.Input(),Nf("design:type",Object)],t.prototype,"aggregation",void 0),xf([b.Output(),Nf("design:type",b.EventEmitter)],t.prototype,"pageChanged",void 0),xf([b.Output(),Nf("design:type",b.EventEmitter)],t.prototype,"pageSizeChanged",void 0),xf([b.Output(),Nf("design:type",b.EventEmitter)],t.prototype,"itemsSelected",void 0),xf([b.Output(),Nf("design:type",b.EventEmitter)],t.prototype,"columnsChanged",void 0),xf([b.Output(),Nf("design:type",b.EventEmitter)],t.prototype,"containerWidthChanged",void 0),xf([b.Output(),Nf("design:type",b.EventEmitter)],t.prototype,"sourceEdited",void 0),xf([b.Output(),Nf("design:type",b.EventEmitter)],t.prototype,"cellEditEntered",void 0),xf([b.Output(),Nf("design:type",b.EventEmitter)],t.prototype,"cellEditCanceled",void 0),xf([b.Output(),Nf("design:type",b.EventEmitter)],t.prototype,"cellEditSubmitted",void 0),t}(Oe),Hf=(Af=function(t,e){return(Af=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Af(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),kf=function(e){function t(t){return e.call(this,t,"NextPageEvent")||this}return Hf(t,e),t}(Tt),zf=(If=function(t,e){return(If=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}If(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Wf=function(e){function t(t){return e.call(this,t,"PrevPageEvent")||this}return zf(t,e),t}(Tt),Vf=(Ef=function(t,e){return(Ef=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ef(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Uf=function(e){function t(t){return e.call(this,t,"PageChangedEvent")||this}return Vf(t,e),t}(Tt),Lf=(Sf=function(t,e){return(Sf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Sf(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Gf=function(e){function t(t){return e.call(this,t,"PagesizeChangedEvent")||this}return Lf(t,e),t}(Tt),Qf=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},$f=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Kf=function(){function t(t,e){this.domainEventBus=t,this.pagingQueryService=e}return t.prototype.selectPageChange=function(e){var n=this;return this.domainEventBus.ofEvent(kf,Wf,Uf).pipe(a.filter(function(t){return t.aggregateId.toString()===e.toString()}),a.switchMap(function(t){return n.pagingQueryService.select(e).pipe(a.map(function(t){return t.getPage()}),a.take(1))}))},t.prototype.selectPageSizeChange=function(e){var n=this;return this.domainEventBus.ofEvent(Gf).pipe(a.filter(function(t){return t.aggregateId.toString()===e.toString()}),a.switchMap(function(t){return n.pagingQueryService.select(e).pipe(a.map(function(t){return t.getPageSize()}),a.take(1))}))},t=Qf([b.Injectable(),$f("design:paramtypes",[Nt,Ee])],t)}(),qf=function(t,e){this.after=t,this.before=e},Xf=(Df=function(t,e){return(Df=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Df(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Yf=function(r){function t(t,e,n){var o=r.call(this,t,"StructureSourceItemEditedEvent")||this;return o.beforeItem=e,o.afterItem=n,o}return Xf(t,r),t.prototype.getBeforeItem=function(){return this.beforeItem},t.prototype.getAfterItem=function(){return this.afterItem},t}(Tt),Jf=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Zf=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},tl=function(){function t(t){this.domainEventBus=t}return t.prototype.selectSourceEdited=function(e){return this.domainEventBus.ofEvent(Yf).pipe(a.filter(function(t){return t.aggregateId.toString()===e.toString()}),a.map(function(t){var e=t.getAfterItem().getData(),n=t.getBeforeItem().getData();return new qf(e,n)}))},t=Jf([b.Injectable(),Zf("design:paramtypes",[Nt])],t)}(),el=(Tf=function(t,e){return(Tf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Tf(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),nl=function(e){function t(t){return e.call(this,t,"SelectedRowToggledEvent")||this}return el(t,e),t}(Tt),ol=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},rl=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},il=function(){function t(t,e){this.domainEventBus=t,this.structureQueryService=e}return t.prototype.selectItemSelected=function(e){var n=this;return this.domainEventBus.ofEvent(nl).pipe(a.filter(function(t){return t.aggregateId.toString()===e.toString()}),a.switchMap(function(t){return n.structureQueryService.select(e).pipe(a.map(function(t){return t.getSelectedEntities()}),a.map(function(t){return t.map(function(t){return t.getData()})}))}))},t=ol([b.Injectable(),rl("design:paramtypes",[Nt,dp])],t)}(),cl=(Ff=function(t,e){return(Ff=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ff(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ul=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},al=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};function sl(){}var pl,fl,ll,gl,dl,hl,yl,ml,bl,vl,Ol,Rl,_l,jl,wl,Cl,Pl,Al,Il,El,Sl,Dl,Tl,Fl,Bl,xl,Nl,Ml,Hl,kl,zl,Wl,Vl,Ul,Ll,Gl,Ql,$l,Kl,ql,Xl,Yl,Jl,Zl,tg,eg,ng,og,rg,ig,cg,ug,ag,sg,pg,fg,lg,gg,dg,hg,yg,mg,bg,vg,Og,Rg=[{provide:Ce,useFactory:function(t){return new Ce("gui-"+t.generateId())},deps:[Pu]},{provide:Xc,useFactory:function(t){return new Xc("gui-"+t.generateId())},deps:[Pu]}].concat($p,[Xp,tf,rf,sf,En,df,wf]),_g=function(C){function t(t,e,n,o,r,i,c,u,a,s,p,f,l,g,d,h,y,m,b,v,O,R,_,j){var w=C.call(this,t,e,p,n,o,r,i,c,u,a,s,f,l,g,d,h)||this;return w.elementRef=y,w.changeDetectorRef=m,w.renderer=b,w.structureDefinition=v,w.structureQueryService=O,w.compositionQueryService=R,w.schemaQueryService=_,w.schemaStylesManager=j,w.loaderEnabled=!1,w.circleLoaderEnabled=!0,w.initialLoaderAnimation=!1,w.structureCommandService.init(),u.init(),w}var e;return cl(t,C),(e=t).prototype.ngOnChanges=function(t){C.prototype.ngOnChanges.call(this,t)},t.prototype.ngOnInit=function(){var e=this;C.prototype.ngOnInit.call(this),this.schemaQueryService.selectHeight().pipe(this.takeUntil()).subscribe(function(t){e.structureHeight=t}),this.schemaQueryService.selectColumnHeader().pipe(this.takeUntil()).subscribe(function(t){e.columnHeader=t}),this.structureQueryService.select().pipe(this.takeUntil()).subscribe(function(t){e.structure=t,e.loaderEnabled=t.getSource().isLoading(),e.circleLoaderEnabled=t.isLoaderVisible(),e.loaderEnabled&&!e.initialLoaderAnimation&&(e.initialLoaderAnimation=!0)})},t.prototype.ngAfterViewInit=function(){var e=this,t=this.elementRef.nativeElement.offsetWidth;0<t?this.compositionCommandService.setContainerWidth(t):y.timer(0).pipe(this.takeUntil()).subscribe(function(){0<(t=e.elementRef.nativeElement.offsetWidth)&&e.compositionCommandService.setContainerWidth(t)}),this.schemaStylesManager.init(this.elementRef,this.structureId),this.compositionQueryService.selectWidth().pipe(this.takeUntil()).subscribe(function(t){e.renderer.setStyle(e.elementRef.nativeElement,"width",t+"px")})},t.prototype.isBorderEnabled=function(){return this.structureDefinition.isBorderEnabled()&&this.structure.isReadyToDisplay()},t.prototype.getStructureId=function(){return this.structureId},t=e=ul([b.Component({selector:"gui-structure",template:'<gui-structure-blueprint></gui-structure-blueprint>\n\n\x3c!---------- LOADING ----------\x3e\n<div [ngClass]="{\'gui-loader-visible\': loaderEnabled, \'gui-loader-hidden\': !loaderEnabled && initialLoaderAnimation}"\n\t class="gui-loading">\n\t<gui-spinner *ngIf="circleLoaderEnabled"\n\t\t\t\t [primary]="true"\n\t\t\t\t [diameter]="120">\n\t</gui-spinner>\n</div>\n',changeDetection:b.ChangeDetectionStrategy.OnPush,encapsulation:b.ViewEncapsulation.None,host:{"[class]":'"gui-structure"',"[style.min-height.px]":"structureHeight","[class.gui-structure-border]":"isBorderEnabled()","[id]":"structureId.toString()"},providers:Rg.concat([{provide:Cf,useExisting:e}]),styles:[".gui-bold {\n\tfont-weight: bold;\n}\n\n.gui-italic {\n\tfont-style: italic;\n}\n","@import 'variables';\n\n\n.gui-header {\n\tbackground: $header-background;\n\tborder-bottom: 1px solid $border-color;\n\theight: $row-height + 2;\n\n\t.gui-header-cell {\n\t\tborder-right: 1px solid transparent;\n\t\tbox-sizing: border-box;\n\t\tcursor: pointer;\n\t\tline-height: 1em;\n\t\toverflow: hidden;\n\t\tpadding: 0 8px;\n\t\tpadding-right: 16px;\n\t\tposition: relative;\n\t\twhite-space: nowrap;\n\t\ttext-overflow: ellipsis;\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\n\t\t&:last-of-type {\n\t\t\tborder-right: 0;\n\t\t}\n\n\t\t.gui-header-menu {\n\t\t\tdisplay: flex;\n\n\t\t\t.gui-header-menu-icon {\n\t\t\t\tdisplay: none;\n\t\t\t\tbackground: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABj0lEQVQ4ja2T261UMQxFV2znxdwvyqASOpgzf0jUQC1UQSkUgUQFCHHPnCQOPzeH+R8sRZHysLaXt8O2bT9ijC8hBFFVQgiUUmitcblcXFUZYwCQc8bMfIxBjJHW2m8D3o8xXswMgDknvXfM7PwoIsw5AWitEWNcd8mAz6pqIQTcnRgjMUYA3J0QwrkASimIyErQeTbC7Xb7JCICYGaICCklzIw5JyKCqhJjRFXJOTPnJKVECMHN3b+KSBERROSU6u6oKiklFshHLsdxMOfczcx+ikgBGGOQUmLOSQgBVT3BvolkjIGI0HtHRPanGTwdYdu272ZWgBNUjBEzo9bKvu/knFHVs81rb63tBnwAirufta94fX0lpQT849B7J+dM7x13383dv4wxLMZ4gltGWQ5cHZlzYmYcx0FKCXf/D0a6Xq8fxxip1irLsrXW1UJXVWqt9N65XC7s++5Lbe+925zzWynlHcCaxiXdzFBVWmuICPf7nfXurcRfpqp/eu/ySPdxCtf5mtaU0gKIiBx/ARsJ0yTj9LIKAAAAAElFTkSuQmCC');\n\t\t\t\theight: 16px;\n\t\t\t\twidth: 16px;\n\t\t\t\tmargin-right: 8px;\n\t\t\t}\n\n\t\t\t.gui-sort {\n\t\t\t\tdisplay: none;\n\t\t\t\theight: 16px;\n\t\t\t\twidth: 16px;\n\t\t\t}\n\n\t\t\t.gui-sort-asc {\n\t\t\t\tbackground: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAFnElEQVR4Xu2dO6slRRSFvxF8gIiZiI9ERgMFB00MTNRf4DMTTUxEMBcRFRFzUTMDxUwZnD8wGoggqIyCBiomPjFTUHyAypY+eBjuub27q6qratfq7HJ3n+5a6+u9uoruc06gbWgFTgw9eg0eATA4BAJAAAyuwODDVwcQAIMrMPjw1QEEwOAKDD58dQABMKwCVwG3wn9rIR8CP4yoxIgd4ErgFeDuyXzz/R/gDPAo8ONIIIwGwEngLHDtAZO/Ae4CvhoFgpEAMPPfBa6eMfdb4M5RIBgFAK/5OzaGgWAEAJaaPxQE0QFYa/4wEEQGINX8ISCICkAu88NDEBGA3OaHhiAaAKXMDwtBJACuB95xzPNT13i+A+6Isk4QBYCtzN/BEwaCCABsbX4oCHoHoJb5YSDoGYDa5oeAoFcAWjG/ewh6BKA187uGoDcAUsy3hz68411Suz+t7G524BUkde6cY/8U878HXgaed57Ik8BjgD02tnTrCoJeAEg13x7wuBl40+nmA8Cn08JSaAh6AMDMtyd51hhhV76Z/wVw/0IA3gJuSITAjv2lE7oqZa0DkMt8E3cNALZfaAhaBiCn+SkAhIagVQBym58KQFgIWgSghPk5AAgJQWsAlDI/FwDhIGgJgJLm5wQgFAStAFDa/NwAhIGgBQC2ML8EACEgqA1Ayhx7f5HHs4iydh1g7rNTx2CPl1VbLKoJQKpwuxW+OYN2/y8FQGonMJCrQVALgK3NLxUB+/CljqkKBDUASBVq6ZW/RQfYHSN1bJtDsDUAqQKtNX+LDtAlBFsCUNP8LQHo6p5gKwBqm781AN1AsAUALZhfA4AuICgNQCvm1wKgeQhKAtCS+TUByAFBys3vseskpQC4GPgIuMm7SrNXt3SFz3uIkgtBnnNIuSA+m77T8E/PgZbUlALgGeDpJScy1ZYyv3YHyDFFNE2fXaFplQ5wDji18GRLmt8KAClxYJreslDT2fISHeAC4Hfgwtmj/19Q2vyWAFgLwV/AJcDfC3SdLS0BgB3UXo7wPsa9hfmtAbAGAtP0mllHFxaUAuA0cI/jXLYyv0UAlkJgmt7n0HRRSSkA7O7fZgE2Gzi0bWl+qwB4IfhjmgV8vshdR3EpAOzQjwAvHYDApjX3Tm/sOE4zS0ntaeBxg7Apol3hR02bzXx7T/HVLCqc9yElAbBD3Qg8B9wGXAGY8W8DLwDZ57QzArUMgJ36RcAT09fYGwg/AR8ATwHZr/ydVqUB2PfEZgdZ72AXXhGtA1BFqy0BWOhX9vKeAMg++EMfKACOVsZeD7e3g8NvAkAAhId8N0BFwBFWqwOoA6gDHKGA7gECYqEIUAQs+pIozQKCdQF1AHUAdYDzGdAsQLOAYI3+8HAUAYoARYAiwNfwtA7g06mrKkWAIkARoAjwNS1FgE+nrqoUAYoARYAiwNe0FAE+nbqqUgQoAhQBigBf01IE+HTqqkoRoAhQBCgCfE1LEeDTqasqRYAiQBGgCPA1LUWAT6euqhQBigBFgCLA17QUAT6duqpSBCgCFAGKAF/TUgT4dOqqShGgCFAEKAJ8TUsR4NOpqypFgCJAEaAI8DUtRYBPp66qFAGKAEWAIsDXtBQBPp26qlIEKAIUAYoAX9NSBPh06qpKEaAIUAQoAnxNSxHg06mrKkWAIkARMHIE3A685+xZVvu+s7brspG+KvZS4BfAfr3suM1+2ewy4LeunXWe/EgAmCSvAQ/NaPM68LBTv+7LRgPgcuBj4LoDzn09/UTrz9076xzAaACYLAbBi8CDe3Fgbf8N4HFgGPNNjBEB2F0bdk9wavrjE+BX50UTqmxkAEIZuXYwAmCtckH2EwBBjFw7DAGwVrkg+wmAIEauHYYAWKtckP0EQBAj1w5DAKxVLsh+AiCIkWuHIQDWKhdkv38BCBOikK5+TTcAAAAASUVORK5CYII=');\n\t\t\t\tbackground-size: contain;\n\t\t\t\tbackground-repeat: no-repeat;\n\t\t\t\tbackground-position: center;\n\t\t\t\tdisplay: block;\n\t\t\t}\n\n\t\t\t.gui-sort-desc {\n\t\t\t\tbackground: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAFcElEQVR4Xu2dPatcVRSGnwhRQUIqwc8mqIVC/ECwsFH/gEk0nWhjpZJeFFREf4AoNjaKnSL+Ak0hgo2EgBZGbJKIYJWA4gcksmAGhuvcO+t87H322us97aw7s9f7PrPec/acO3MIHakVOJS6ezWPAEgOgQAQAMkVSN6+JoAASK5A8vY1AQRAcgWSt68JIADSKnAL8NCq+3PAHxmVyDgBjgLvAc8BN6xMvwZ8CpwBrmQCIRsAZv73wLF9TP4FeCQTBNkA+Bh4fsc7/BPghSxTIBMAlvlXN8b+fh5bHBwB/swAQSYAHge+cZpqtd86a0OXZQLgWeAzp1ungc+dtaHLBMB2+wRAaKy3L14TYIsumgCaAB2+1zUB3KZqAmgCuGGJXqhzAJ0D6DJwLwOKAEVA9MnuXr8iQBGgCFAE+AaGdgJ9OoWqUgQoAhQBigDf0FIE+HQKVaUIUAQoAhQBvqGlCPDpFKpKEaAIUAQoAnxDSxHg0ylUlSJAEaAIUAT4hpYiwKdTqCpFgCJAEaAI8A0tRYBPp1BVigBFgCJAEeAbWooAn06hqhQBigBFgCLAN7QUAT6dQlUpAhQBigBFgG9oKQJ8OoWqUgQoAhQBigDf0FIE+HQKVaUIUAQoAhQBvqGlCPDpFKpKEaAIUAQoAnxDSxHg0ylUlSJAEaAIUAT4hpYiwKdTqCpFgCJAEaAI8A0tRYBPp1BVioCFI8B+pNF+kWupIxIA1bQq/WXRDwBvA48BtwI/Al8C7wL/VCahdQBuAl4FTgD3A78D3wGvr3QrIldJAF4E3gessb3HD8Ap4KciXW1/0pYBuA/4ArA3zN7jb+AV4KMSWpUCwBqxn2i98YBF/wo8WRGCVgEw878G7jhAK4PAftLWJuisRykAjOaTjpXWhKBFADzmr2U0TZ9xaDqopBQAl3cQvbnIWhC0BsAQ800v0/SuQe46iksAYGewfwGHHa+/LqkBQUsADDXfdPoXuHnuK6kSANhizwEPDgDASktD0AoAY8xfa/rwQE13lpcC4E3gjZ2v/v+CkhC0AMBY800p0/StEZoe+CelALCzf7sK2HZZs6uHUhAsDcAU8+2y2a4CZt87KQWAmTyl4RIQLAnAVC2eAC7seueMebwkAK1BsBQAzZpvBpUGoCUIlgCgafNrAdAKBLUBaN78mgC0AEFNAEKYXxuApSGoBUAY85cAYEkIagAQyvylAFgKgtIAhDN/SQCWgKAkACHNXxqA2hCUAmCK+fYJn90TUWSTx7MxVGMfYNc67gXODvj4ePP5huwYlgAgtPktTIC1mTUgmBuA8Oa3BICtpTQEcwLQhfmtAVAagrkA6Mb8FgEoCcEcAHRlfqsAlIJgKgDdmd8yACUgmAJAl+a3DsDcEIwFoFvzIwCwhsD+ceLOXRsKWx7f3CcYA8BU8+1Onp9HrLvan7SwEeRp1i4Rp0JwHAZ9P8B5x3/s7Ld22+Fr3vwoE2Bzs2gKBB8A73hoA14DXh65OxnG/GgATI2D6wNugRtSu8lUKPMjAjAVAucAGFUWzvyoALQIQUjzIwPQEgRhzY8OQAsQhDa/BwCWhCC8+b0AsAQEXZjfEwDWyz2rO4vG7BgOOe2/tLqNq+kdPm9DUXYCvf2UhqAr83ubAGtISkHQnfm9AlAiDro0v2cA5oSgW/N7B2AOCLo2PwMAUyDo3vwsAIyBIIX5mQAYAkEa87MBsIbgK+DufTYWLgJPtX4bl3dTxFPX20aQp+fbgA+BpzduELEbQOxr7F8CfvM8SS81GQFYe3c78Chg5tt3GtoNpOmOzACkM3tbwwIgOQYCQAAkVyB5+5oAAiC5Asnb1wQQAMkVSN6+JoAASK5A8vb/A4djo5Dd1KQLAAAAAElFTkSuQmCC');\n\t\t\t\tbackground-size: contain;\n\t\t\t\tbackground-repeat: no-repeat;\n\t\t\t\tbackground-position: center;\n\t\t\t\tdisplay: block;\n\t\t\t}\n\t\t}\n\n\t\t&:hover {\n\t\t\tbackground: $header-background-hover;\n\n\t\t\t.gui-header-menu {\n\t\t\t\t.gui-header-menu-icon {\n\t\t\t\t\tdisplay: block;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n}\n\n.gui-header-bottom {\n\n\t.gui-header {\n\t\tborder-bottom: 0;\n\t\tborder-top: 1px solid $border-color;\n\t}\n\n}\n\ngui-structure {\n\tbackground: $background-color;\n\tbox-sizing: border-box;\n\tcolor: $text-color;\n\tdisplay: block;\n\tfont-family: $font-family;\n\tfont-size: $font-size;\n\tposition: relative;\n\n\t* {\n\t\tbox-sizing: border-box;\n\t}\n\n\tgui-structure-search-bar {\n\n\t\tform {\n\t\t\tdisplay: flex;\n\t\t\tbackground: $white;\n\t\t\theight: $row-height;\n\t\t\tborder-bottom: 1px solid $border-color;\n\n\t\t\t.gui-search-icon {\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 5px;\n\t\t\t\tleft: 10px;\n\t\t\t\tbackground-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAACSSURBVDhPtZKLEUAwEAWD4lSgLYXQhxI0oAMNcM/cmUQuHwk78+bkczsizB8MlIVycCaey2akbBS7Cc+Yw1oS2RziKVdJvTbWcMwoOH+K4J6WaxUd156yU9Zr5CNHnbmqfPJhQeyK5b/JAk24KWnCjWBOxqqo4ZqDLXD63kiAKnorAZ6oRAIcUakE3KIaCSCRMSdEbCXGTdhJLAAAAABJRU5ErkJggg==');\n\t\t\t\twidth: 17px;\n\t\t\t\theight: 17px;\n\t\t\t}\n\n\t\t\tinput {\n\t\t\t\tborder: none;\n\t\t\t\tpadding: $net-half-width $net-half-width $net-half-width 38px;\n\t\t\t\theight: 100%;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t}\n\t}\n\n\tgui-structure-header {\n\t\tdisplay: block;\n\t\theight: 100%;\n\t\twidth: 100%;\n\n\t\tgui-structure-header-filters.gui-header {\n\t\t\theight: 32px;\n\n\t\t\t.gui-header-cell {\n\t\t\t\tpadding: 4px;\n\n\t\t\t\tinput {\n\t\t\t\t\tposition: relative;\n\t\t\t\t\tbox-sizing: border-box;\n\t\t\t\t\tborder: {\n\t\t\t\t\t\tstyle: solid;\n\t\t\t\t\t\twidth: 1px;\n\t\t\t\t\t\tcolor: $border-color;\n\t\t\t\t\t}\n\t\t\t\t\tfont: {\n\t\t\t\t\t\tsize: 13px;\n\t\t\t\t\t}\n\t\t\t\t\tpadding: 2px;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\ngui-structure-container {\n\tdisplay: block;\n\theight: 100%;\n\toverflow: auto;\n\toverflow-x: hidden;\n\tposition: relative;\n\twidth: 100%;\n\n\t.gui-structure-container {\n\t\tbox-sizing: border-box;\n\t\theight: 100%;\n\t\tposition: absolute;\n\t\twidth: 100%;\n\n\t\t.gui-content {\n\t\t\theight: 100%;\n\t\t\tposition: relative;\n\n\t\t\t.gui-row {\n\t\t\t\theight: $row-height;\n\t\t\t\tposition: absolute;\n\t\t\t\twidth: 100%;\n\n\t\t\t\t&:hover {\n\t\t\t\t\tbackground: $row-hover-background;\n\t\t\t\t}\n\n\t\t\t\t&.selected {\n\t\t\t\t\tbackground: $row-selected-background;\n\t\t\t\t}\n\n\t\t\t\t.gui-cell {\n\t\t\t\t\tborder-right: 1px solid transparent;\n\t\t\t\t\tbox-sizing: border-box;\n\t\t\t\t\tline-height: 1em;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t\tpadding: 0;\n\t\t\t\t\twhite-space: nowrap;\n\n\t\t\t\t\t.gui-button {\n\t\t\t\t\t\tpadding: 0;\n\t\t\t\t\t}\n\n\t\t\t\t\t.gui-cell-boolean {\n\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t}\n\n\t\t\t\t\t.gui-checkbox {\n\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\ttop: 4px;\n\t\t\t\t\t\tpadding-left: 22px;\n\t\t\t\t\t\tline-height: 0;\n\t\t\t\t\t}\n\n\t\t\t\t\t.gui-chip {\n\t\t\t\t\t\tmargin: 0;\n\t\t\t\t\t\tpadding: 2px 8px;\n\t\t\t\t\t}\n\n\t\t\t\t\t.gui-badge {\n\t\t\t\t\t\tpadding: 0;\n\t\t\t\t\t}\n\n\t\t\t\t\t.gui-input {\n\t\t\t\t\t\tbackground: transparent;\n\t\t\t\t\t\tfont-size: $font-size;\n\t\t\t\t\t\tborder: {\n\t\t\t\t\t\t\tstyle: none;\n\t\t\t\t\t\t\tradius: 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tpadding: 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tgui-structure-cell {\n\t\tdisplay: inline-block;\n\n\t\t> span {\n\t\t\talign-items: center;\n\t\t\tdisplay: flex;\n\t\t\tpadding: 0 8px;\n\t\t\theight: 100%;\n\t\t\twidth: 100%;\n\t\t}\n\n\t\t.gui-cell-edit-mode {\n\t\t\tborder: 2px solid #2185d0;\n\t\t\theight: 100%;\n\t\t\tpadding: 6px;\n\n\t\t\tgui-boolean-edit {\n\t\t\t\tmargin-left: calc(50% - 11px);\n\t\t\t}\n\t\t}\n\n\t}\n}\n\n.gui-vertical-grid {\n\n\t.gui-structure-aggregation-cell,\n\tgui-structure-container .gui-content .gui-row .gui-cell,\n\tgui-structure-header .gui-header .gui-header-cell {\n\t\tborder-right: 1px solid $border-color;\n\n\t\t&:last-of-type {\n\t\t\tborder-right: 0;\n\t\t}\n\t}\n\n}\n\n.gui-horizontal-grid gui-structure-container {\n\n\t.gui-row {\n\n\t\t.gui-cell {\n\t\t\tborder-bottom: 1px solid $border-color;\n\t\t}\n\n\t\t&:last-of-type {\n\t\t\t.gui-cell {\n\t\t\t\tborder-bottom: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n\n.gui-rows-odd {\n\t.gui-row:nth-child(odd) {\n\t\tbackground: $row-colored-background;\n\t}\n}\n\n.gui-rows-even {\n\t.gui-row:nth-child(even) {\n\t\tbackground: $row-colored-background;\n\t}\n}\n\ngui-structure-summary {\n\tbox-sizing: border-box;\n\tbackground: $header-background;\n\tborder-top: {\n\t\tstyle: solid;\n\t\twidth: 1px;\n\t\tcolor: $border-color;\n\t}\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tpadding: 0 6px;\n\twidth: 100%;\n\tline-height: $row-height;\n\n\tp {\n\t\tmargin: 0;\n\n\t\tb {\n\t\t\tfont-weight: bold;\n\t\t}\n\t}\n\n\tdiv {\n\t\tcolor: $text-color;\n\t\tcursor: pointer;\n\n\t\tbutton {\n\t\t\tbackground: $gray;\n\t\t\tborder: {\n\t\t\t\tstyle: solid;\n\t\t\t\twidth: 1px;\n\t\t\t\tcolor: transparent;\n\t\t\t\tradius: 50%;\n\t\t\t};\n\t\t\tcolor: $white;\n\t\t\tcursor: pointer;\n\t\t\tfont-weight: bold;\n\t\t\tfont-family: \"Comic Sans MS\", cursive, sans-serif;\n\t\t\twidth: 16px;\n\t\t\theight: 16px;\n\t\t\tline-height: 14px;\n\t\t\tpadding: 0;\n\n\t\t\t&:focus {\n\t\t\t\toutline: none;\n\t\t\t\tbox-shadow: 0 0 4px $gray\n\t\t\t}\n\t\t}\n\t}\n}\n\n.gui-structure-info-panel {\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\tflex-direction: column;\n\twidth: 160px;\n\tpadding: 16px;\n\tfont-family: Roboto, sans-serif;\n\n\tul {\n\t\tlist-style: none;\n\t\tmargin: 0;\n\t\tpadding-left: 10px;\n\t}\n\n\tp {\n\t\tfont-weight: bold;\n\t\tmargin: 0 0 0 0;\n\t\tcolor: $text-color;\n\t}\n\n\tp:nth-child(2) {\n\t\tmargin: 0 0 12px 0;\n\t}\n\n\tp:nth-child(5) {\n\t\tmargin: 8px 0 0 0;\n\t}\n\n\ta {\n\t\ttext-decoration: none;\n\t\tcolor: $blue;\n\t\tmargin: 0 0 8px 0;\n\t}\n\n\ta:hover {\n\t\tcolor: $blue-lighter;\n\t}\n}\n\n.gui-structure-border {\n\tborder: 1px solid $border-color;\n}\n\ngui-structure-aggregation-panel {\n\tbackground: $header-background;\n\tdisplay: flex;\n\n\t&.gui-structure-aggregation-panel-bottom .gui-structure-aggregation-cell {\n\t\tborder-top: 1px solid $border-color;\n\t}\n\n\t&.gui-structure-aggregation-panel-top .gui-structure-aggregation-cell {\n\t\tborder-bottom: 1px solid $border-color;\n\t}\n\n\t.gui-structure-aggregation-cell {\n\t\tfont-size: 14px;\n\t}\n\n\t.gui-structure-aggregation-value {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\tline-height: 1em;\n\t\theight: 30px;\n\t\tpadding: 8px 6px;\n\t\toverflow: hidden;\n\n\t\tdiv {\n\n\t\t\t.gui-math-symbol {\n\t\t\t\tposition: relative;\n\t\t\t\ttop: -1px;\n\t\t\t}\n\t\t}\n\n\t\t.gui-mean,\n\t\t.gui-median {\n\t\t\tposition: relative;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t}\n\n\t\t.gui-mean {\n\t\t\tspan:nth-child(1) {\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: -15px;\n\t\t\t\tleft: 1px;\n\t\t\t}\n\t\t}\n\n\t\t.gui-median {\n\t\t\tspan:nth-child(1) {\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: -8px;\n\t\t\t\tleft: 1px;\n\t\t\t}\n\t\t}\n\n\t}\n\n}\n\n@keyframes fadeIn {\n\tfrom {\n\t\topacity: 0;\n\t}\n\n\tto {\n\t\topacity: 1;\n\t}\n}\n\n@keyframes fadeOut {\n\tfrom {\n\t\topacity: 1;\n\t}\n\n\tto {\n\t\topacity: 0;\n\t}\n}\n\n.gui-loading {\n\tanimation-duration: 0.2s;\n\talign-content: center;\n\tbackground: rgba(255, 255, 255, 0.8);\n\tborder: 1px solid transparent;\n\theight: 100%;\n\tdisplay: flex;\n\tjustify-content: center;\n\tleft: 0;\n\topacity: 0;\n\tposition: absolute;\n\ttop: 0;\n\twidth: 100%;\n\tvisibility: hidden;\n\n\tgui-spinner {\n\t\talign-self: center;\n\t}\n\n\t&.gui-loader-hidden {\n\t\tanimation-name: fadeOut;\n\t\topacity: 0;\n\t\tvisibility: visible;\n\t\tz-index: -1;\n\t}\n\n\t&.gui-loader-visible {\n\t\tanimation-name: fadeIn;\n\t\topacity: 1;\n\t\tvisibility: visible;\n\t\tz-index: 1;\n\t}\n}\n","@import 'variables';\n\ngui-structure-paging {\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\talign-items: center;\n\tpadding: #{$net-size / 2}px;\n\n\t> * {\n\t\tpadding-left: #{$net-size * 2}px;\n\t}\n\n\tgui-structure-paging-select {\n\n\t\tspan {\n\t\t\tdisplay: inline-block;\n\t\t\tmargin: 0 $net-half-width 0 0;\n\t\t}\n\t}\n\n\tgui-structure-paging-navigator {\n\n\t\tbutton {\n\t\t\tmargin-right: $net-half-width;\n\n\t\t\t&:last-of-type {\n\t\t\t\tmargin-right: 0;\n\t\t\t}\n\t\t}\n\t}\n\n\tgui-structure-paging-stats {\n\n\t\tspan {\n\t\t\tdisplay: inline-block;\n\t\t\tmargin: 0 2px 0 0;\n\t\t}\n\t}\n\n\tgui-structure-alternative-paging-navigator {\n\t\tdisplay: flex;\n\t\tpadding: 0 8px;\n\t\tline-height: 34px;\n\n\t\tgui-structure-alternative-paging-pages {\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: center;\n\n\t\t\t.gui-paging-page {\n\t\t\t\tdisplay: none;\n\t\t\t\tuser-select: none;\n\t\t\t}\n\n\t\t\t.gui-paging-visible-page {\n\n\t\t\t\t.gui-paging-page {\n\t\t\t\t\tdisplay: block;\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t\tpadding: 0 8px;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.gui-paging-active-page {\n\t\t\t\tfont-weight: bold;\n\t\t\t\tcolor: black;\n\t\t\t\tbox-shadow: 0 1px 0 0 black;\n\t\t\t}\n\t\t}\n\n\t\t.gui-button {\n\t\t\tmargin: 0 4px;\n\t\t\tbackground: transparent;\n\t\t\tpadding: 0;\n\n\t\t\t&:hover {\n\t\t\t\tbackground: transparent;\n\t\t\t}\n\t\t}\n\t}\n\n\t&.gui-structure-paging-bottom {\n\t\tborder-top: 1px solid $border-color;\n\t}\n\n\t&.gui-structure-paging-top {\n\t\tborder-bottom: 1px solid $border-color;\n\t}\n\n}\n","@media (max-width: 500px) {\n\n\tgui-structure-paging {\n\n\t\t> * {\n\t\t\tpadding-left: 4px;\n\t\t}\n\n\t\tgui-structure-paging-stats {\n\t\t\tpadding-left: 4px;\n\t\t}\n\t}\n}\n",".gui-header {\n\tdisplay: flex;\n\n\t.gui-header-cell {\n\t\talign-items: center;\n\t\tdisplay: flex;\n\t}\n}\n\n.gui-content {\n\tdisplay: flex;\n\tflex-direction: column;\n\n\t.gui-row {\n\t\tdisplay: flex;\n\n\t\t.gui-cell {\n\t\t\tdisplay: inline-block;\n\t\t}\n\t}\n}\n\n",".gui-cell {\n\n\t.gui-checkbox {\n\t\tdisplay: block;\n\t}\n\n\t.gui-chip {\n\t\tmargin: 0;\n\t\tpadding: 2px 8px;\n\t}\n\n\t.gui-input {\n\t\tfont-size: 11px;\n\t\tdisplay: block;\n\t\tpadding: 2px 4px;\n\t\twidth: 86%;\n\t}\n\n\t.gui-button {\n\t\tpadding: 2px 8px;\n\t}\n\n\t.gui-cell-number {\n\t\tdisplay: block;\n\t\ttext-align: right;\n\t\twidth: 100%;\n\t}\n\n\t.gui-cell-boolean {\n\t\talign-items: center;\n\t\tdisplay: flex;\n\t\theight: 100%;\n\t\ttext-align: center;\n\t\twidth: 100%;\n\t}\n}\n",'$font-family: Roboto, "Helvetica Neue", sans-serif;\n$gray: #808080;\n\n.gui-material {\n\n\t&.gui-structure,\n\t.gui-header {\n\t\tfont-family: $font-family;\n\t}\n\n\t.gui-structure-header .gui-header {\n\t\tfont-weight: bold;\n\t\tcolor: $gray;\n\n\t\t.gui-header-cell {\n\t\t\tborder-right: 1px solid transparent;\n\t\t}\n\t}\n\n\t.gui-cell {\n\n\t\t.gui-button {\n\t\t\tpadding: 0;\n\t\t}\n\n\t\t.gui-badge {\n\t\t\tpadding: 0;\n\t\t}\n\n\t}\n\n\t&.gui-vertical-grid gui-structure-container {\n\n\t\t.gui-row {\n\n\t\t\t.gui-cell {\n\t\t\t\tborder-right: 1px solid transparent;\n\t\t\t}\n\t\t}\n\t}\n\n}\n',"$black: #121212;\n$gray: #424242;\n$gray-light: #616161;\n$gray-dark: #212121;\n\n$background: lighten($black, 15);\n$header-text: #BDBDBD;\n$dark-text: #cccccc;\n$background-hover: lighten($background, 10);\n$row-colored-background: lighten($black, 10);\n$row-selected-background: #7cb9f652;\n$horizontal-grid-color: #666666;\n$box-shadow: 5px 5px 10px 2px lighten($black, 5);\n\n\n.gui-dark {\n\n\t&.gui-structure,\n\t.gui-header {\n\t\tbackground: $background;\n\t\tcolor: $dark-text;\n\t}\n\n\t.gui-structure-border {\n\t\tborder: none;\n\t\tbox-shadow: $box-shadow;\n\t}\n\n\t.gui-structure-header {\n\n\t\t.gui-header {\n\t\t\tcolor: $header-text;\n\t\t\tborder-bottom-color: $horizontal-grid-color;\n\n\t\t\t.gui-header-cell {\n\t\t\t\tborder-right: 1px solid transparent;\n\n\t\t\t\t&:hover {\n\t\t\t\t\tbackground: $background-hover;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tgui-structure-container {\n\n\t\t.gui-structure-container {\n\n\t\t\t.gui-content {\n\n\t\t\t\t.gui-row {\n\n\t\t\t\t\t&:hover {\n\t\t\t\t\t\tbackground: $background-hover;\n\t\t\t\t\t}\n\n\t\t\t\t\t&.selected {\n\t\t\t\t\t\tbackground: $row-selected-background;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t&.gui-rows-odd {\n\n\t\t.gui-row:nth-child(odd) {\n\t\t\tbackground: $row-colored-background\n\t\t}\n\t}\n\n\t&.gui-rows-even {\n\n\t\t.gui-row:nth-child(even) {\n\t\t\tbackground: $row-colored-background\n\t\t}\n\t}\n\n\t.gui-horizontal-grid gui-structure-container {\n\t\t.gui-row {\n\t\t\t.gui-cell {\n\t\t\t\tborder-bottom-color: $horizontal-grid-color;\n\t\t\t}\n\t\t}\n\n\t}\n\n\t&.gui-vertical-grid gui-structure-container {\n\n\t\t.gui-row {\n\n\t\t\t.gui-cell {\n\t\t\t\tborder-right: 1px solid transparent;\n\t\t\t}\n\t\t}\n\t}\n\n\tgui-structure-paging {\n\t\t&.gui-structure-paging-bottom {\n\t\t\tborder-top-color: $horizontal-grid-color;\n\t\t}\n\n\t\t&.gui-structure-paging-top {\n\t\t\tborder-bottom-color: $horizontal-grid-color;\n\t\t}\n\t}\n\n\t::-webkit-scrollbar {\n\t\twidth: 15px;\n\t}\n\n\t::-webkit-scrollbar-track {\n\t\tbackground: $gray-light;\n\t}\n\n\t::-webkit-scrollbar-thumb {\n\t\tbackground: $gray;\n\t}\n\n\t::-webkit-scrollbar-thumb:hover {\n\t\tbackground: $gray-dark;\n\t}\n\n}\n",'$font-family: Roboto, "Helvetica Neue", sans-serif;\n$white: #ffffff;\n$black: #333;\n\n$border-color: #ccc;\n$background: $white;\n$light-text: $black;\n$background-hover: darken($background, 6);\n$row-colored-background: darken($white, 3);\n$row-selected-background: #7cb9f652;\n\n.gui-light {\n\n\t&.gui-structure,\n\t.gui-header {\n\t\tbackground: $background;\n\t\tcolor: $light-text;\n\t\tfont-family: $font-family;\n\t}\n\n\t&.gui-structure-border {\n\t\tborder-color: $border-color transparent;\n\t}\n\n\t.gui-structure-header {\n\n\t\t.gui-header {\n\t\t\tcolor: $black;\n\t\t\tfont-weight: bold;\n\n\t\t\t.gui-header-cell {\n\t\t\t\tborder-right: 1px solid transparent;\n\n\t\t\t\t&:hover {\n\t\t\t\t\tbackground: $background-hover;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tgui-structure-container {\n\n\t\t.gui-structure-container {\n\n\t\t\t.gui-content {\n\n\t\t\t\t.gui-row {\n\n\t\t\t\t\t&:hover {\n\t\t\t\t\t\tbackground: $background-hover;\n\t\t\t\t\t}\n\n\t\t\t\t\t&.selected {\n\t\t\t\t\t\tbackground: $row-selected-background;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t&.gui-rows-odd {\n\n\t\t.gui-row:nth-child(odd) {\n\t\t\tbackground: $row-colored-background\n\t\t}\n\t}\n\n\t&.gui-rows-even {\n\n\t\t.gui-row:nth-child(even) {\n\t\t\tbackground: $row-colored-background\n\t\t}\n\t}\n\n\t&.gui-vertical-grid gui-structure-container {\n\n\t\t.gui-row {\n\n\t\t\t.gui-cell {\n\t\t\t\tborder-right: 1px solid transparent;\n\t\t\t}\n\t\t}\n\t}\n\n}\n']}),al("design:paramtypes",[Ce,Xc,Ue,Kf,Sp,tl,da,ou,Kc,il,up,sf,tf,En,wf,rf,b.ElementRef,b.ChangeDetectorRef,b.Renderer2,Y,dp,tu,fa,Xp])],t)}(Mf),jg=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},wg=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Cg=function(){function t(t,e){this.structureCommandService=t,this.structureColumnConfigService=e}return t.prototype.toggleSort=function(t){this.structureCommandService.toggleSort(t.getFieldId())},t.prototype.isSortAsc=function(t){return t.getSortStatus()===wo.ASC},t.prototype.isSortDesc=function(t){return t.getSortStatus()===wo.DESC},t.prototype.openConfigDialog=function(){this.structureColumnConfigService.open()},t.prototype.closeConfigDialog=function(){this.structureColumnConfigService.close()},jg([b.Input(),wg("design:type",Array)],t.prototype,"columns",void 0),t=jg([b.Component({selector:"gui-structure-header-columns",template:'<div *ngFor="let cell of columns"\n\t [style.width.px]="cell.width"\n\t (click)="toggleSort(cell)"\n\t class="gui-header-cell">\n\n\t<span>\n\t\t<ng-container\n\t\t\t*ngTemplateOutlet="cell.viewTemplate;\n\t\t\t\t\t\t\t\t   context: cell.context">\n\t\t</ng-container>\n\t</span>\n\n\t<div class="gui-header-menu">\n\x3c!--\t\t<div class="gui-header-menu-icon"--\x3e\n\x3c!--\t\t\t (click)="openConfigDialog()">--\x3e\n\x3c!--\t\t</div>--\x3e\n\n\t\t<div [ngClass]="{\'gui-sort-asc\': isSortAsc(cell), \'gui-sort-desc\':  isSortDesc(cell)}"\n\t\t\t class="gui-sort">\n\t\t</div>\n\t</div>\n</div>\n',changeDetection:b.ChangeDetectionStrategy.OnPush,encapsulation:b.ViewEncapsulation.None}),wg("design:paramtypes",[up,ye])],t)}(),Pg=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Ag=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ig=function(){function t(){this.enabled=new Map,this.enabled$=new y.ReplaySubject}return t.prototype.setEnabled=function(t,e){this.enabled.set(e.toString(),t),this.enabled$.next(this.enabled)},t.prototype.selectFilterEnabled=function(e){return this.enabled$.asObservable().pipe(a.map(function(t){return t.get(e.toString())}),a.distinctUntilChanged())},t=Pg([b.Injectable(),Ag("design:paramtypes",[])],t)}(),Eg=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Sg=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Dg=function(){function t(){this.enabled=new Map,this.enabled$=new y.ReplaySubject}return t.prototype.setEnabled=function(t,e){this.enabled.set(e.toString(),t),this.enabled$.next(this.enabled)},t.prototype.selectQuickFilterEnabled=function(e){return this.enabled$.asObservable().pipe(a.map(function(t){return t.get(e.toString())}),a.distinctUntilChanged())},t=Eg([b.Injectable(),Sg("design:paramtypes",[])],t)}(),Tg=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Fg=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Bg=function(){function t(t,e){this.structureFilterRepository=t,this.structureQuickFilterRepository=e}return t.prototype.selectFilteringEnabled=function(t){return this.structureFilterRepository.selectFilterEnabled(t)},t.prototype.selectQuickFiltersEnabled=function(t){return this.structureQuickFilterRepository.selectQuickFilterEnabled(t)},t=Tg([b.Injectable(),Fg("design:paramtypes",[Ig,Dg])],t)}(),xg=(pl=function(t,e){return(pl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}pl(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ng=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Mg=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Hg=function(u){function t(t,e,n,o,r,i){var c=u.call(this)||this;return c.changeDetectorRef=t,c.renderer=e,c.eventBus=n,c.structureId=o,c.structureFilterReadModelRepository=r,c.compositionQueryService=i,c.headerColumns=[],c.filterRowEnabled=!1,c}return xg(t,u),t.prototype.ngOnInit=function(){var e=this;this.compositionQueryService.selectHeaderColumns().pipe(this.takeUntil()).subscribe(function(t){e.headerColumns=t,e.changeDetectorRef.detectChanges()}),this.compositionQueryService.selectContainerWidth().pipe(this.takeUntil()).subscribe(function(t){e.renderer.setStyle(e.containerRef.nativeElement,"width",t+"px")}),this.structureFilterReadModelRepository.selectFilteringEnabled(this.structureId).pipe(this.takeUntil()).subscribe(function(t){e.filterRowEnabled=t,e.changeDetectorRef.detectChanges()})},Ng([b.ViewChild(Cg,{read:b.ElementRef,static:!0}),Mg("design:type",b.ElementRef)],t.prototype,"containerRef",void 0),t=Ng([b.Component({selector:"gui-structure-header",template:'<gui-structure-header-columns\n\t[columns]="headerColumns"\n\tclass="gui-header">\n</gui-structure-header-columns>\n\n<gui-structure-header-filters\n\t*ngIf="filterRowEnabled"\n\t[columns]="headerColumns"\n\tclass="gui-header">\n</gui-structure-header-filters>\n',changeDetection:b.ChangeDetectionStrategy.OnPush,encapsulation:b.ViewEncapsulation.None}),Mg("design:paramtypes",[b.ChangeDetectorRef,b.Renderer2,Nt,Ce,Bg,tu])],t)}(Oe),kg=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},zg=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Wg=function(){function t(t,e,n,o){var r;this.structureFilterCommandService=t,this.formBuilder=e,this.cd=n,this.structureId=o,this.closed=new b.EventEmitter,this.filterFieldName="phrase",this.filterMode=!1,this.filterForm=this.formBuilder.group(((r={})[this.filterFieldName]=[""],r))}return t.prototype.ngOnInit=function(){var e=this;this.filterForm.valueChanges.subscribe(function(t){e.filter(t[e.filterFieldName])})},t.prototype.filter=function(t){null==t&&(t=""),this.structureFilterCommandService.addFilter(this.columns[0].getFieldId(),"1",t,this.structureId)},t.prototype.clearFilters=function(){this.filterForm.reset()},t.prototype.turnOnFilterMode=function(){this.filterMode=!0,this.cd.detectChanges()},t.prototype.turnOffFilterMode=function(){this.filterMode=!1,this.cd.detectChanges()},kg([b.Input(),zg("design:type",Array)],t.prototype,"columns",void 0),kg([b.Output(),zg("design:type",Object)],t.prototype,"closed",void 0),t=kg([b.Component({selector:"gui-structure-header-filters",template:'\n\t\t\n\t\t<ng-container *ngIf="!filterMode">\n\n\t\t\t<div *ngFor="let cell of columns"\n\t\t\t\t [style.width.px]="cell.width"\n\t\t\t\t class="gui-header-cell">\n\n\t\t\t\t\x3c!--\t\t\t\t<gui-structure-header-filter [column]="cell">--\x3e\n\t\t\t\t\x3c!--\t\t\t\t</gui-structure-header-filter>--\x3e\n\n\t\t\t\t<button (click)="turnOnFilterMode()">Add Filter</button>\n\n\t\t\t</div>\n\n\t\t</ng-container>\n\n\t\t<ng-container *ngIf="filterMode">\n\n\t\t\t<gui-select [options]="[\'has value\', \'is the same as\', \'starts with\', \'ends with\']" [selected]="\'has value\'" >\n\n\t\t\t</gui-select>\n\n\t\t\t<form [formGroup]="filterForm">\n\t\t\t\t<input type="text" [formControlName]="filterFieldName" gui-input/>\n\t\t\t</form>\n\n\t\t\t<button gui-button (click)="clearFilters()">Clear All</button>\n\t\t\t<button gui-button (click)="turnOffFilterMode()">Close</button>\n\n\t\t</ng-container>\n\n\t',changeDetection:b.ChangeDetectionStrategy.OnPush,encapsulation:b.ViewEncapsulation.None}),zg("design:paramtypes",[Fs,o.FormBuilder,b.ChangeDetectorRef,Ce])],t)}(),Vg=(fl=function(t,e){return(fl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}fl(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ug=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Lg=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Gg=function(o){function t(t,e){var n=o.call(this)||this;return n.structureFilterCommandService=t,n.structureId=e,n.sub=new kn,n.editContext={changes:n.sub},n}return Vg(t,o),t.prototype.ngOnInit=function(){var e=this;this.sub.select().subscribe(function(t){return e.filter(t)})},t.prototype.filter=function(t){this.structureFilterCommandService.addFilter(this.column.getFieldId(),"1",t,this.structureId)},Ug([b.Input(),Lg("design:type",di)],t.prototype,"column",void 0),t=Ug([b.Component({selector:"gui-structure-header-filter",template:'\n\t\t\n\x3c!--\t\t<ng-container--\x3e\n\x3c!--\t\t\t\t*ngTemplateOutlet="column.editTemplate; context: editContext">--\x3e\n\x3c!--\t\t</ng-container>--\x3e\n\t\t\n\t\t<button gui-button [primary]="true" >Add Filter</button>\n\n\t',changeDetection:b.ChangeDetectionStrategy.OnPush,encapsulation:b.ViewEncapsulation.None}),Lg("design:paramtypes",[Fs,Ce])],t)}(Oe),Qg=(ll=function(t,e){return(ll=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ll(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),$g=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Kg=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},qg=function(a){function t(t,e,n,o,r,i,c){var u=a.call(this)||this;return u.renderer=t,u.elementRef=e,u.changeDetectorRef=n,u.formationCommandService=o,u.structureCellEditArchive=r,u.structureEditModeArchive=i,u.formationQueryService=c,u.editMode=!1,u.cellEditing=!1,u}return Qg(t,a),t.prototype.ngOnInit=function(){var o=this;this.formationQueryService.selectSelectedRows().subscribe(function(t){o.clearSelectedRows(),t.getIds().forEach(function(t){var e="gui"+t.replace(/-/g,""),n=o.elementRef.nativeElement.querySelector("#"+e);n&&o.renderer.addClass(n,"selected")})}),this.structureEditModeArchive.select().pipe(this.takeUntil()).subscribe(function(t){o.editMode=t,o.changeDetectorRef.detectChanges()}),this.structureCellEditArchive.select().pipe(this.takeUntil()).subscribe(function(t){o.cellEditing=t,o.changeDetectorRef.detectChanges()})},t.prototype.trackByFn=function(){return 0},t.prototype.translateY=function(t){return"translateY("+30*t+"px)"},t.prototype.toggleSelectedRow=function(t){this.formationCommandService.toggleSelectedRow(t.id)},t.prototype.clearSelectedRows=function(){var e=this;this.elementRef.nativeElement.querySelectorAll(".selected").forEach(function(t){e.renderer.removeClass(t,"selected")})},$g([b.Input(),Kg("design:type",Array)],t.prototype,"source",void 0),$g([b.Input(),Kg("design:type",Array)],t.prototype,"columns",void 0),t=$g([b.Component({selector:"gui-structure-content",template:'<div class="gui-content">\n\n\t<gui-structure-row *ngFor="let entity of source; let index = index; trackBy: trackByFn"\n\t\t\t\t\t   [entity]="entity"\n\t\t\t\t\t   [columns]="columns"\n\t\t\t\t\t   [editMode]="editMode"\n\t\t\t\t\t   [cellEditing]="cellEditing"\n\t\t\t\t\t   [ngStyle]="{\'transform\': translateY(index)}"\n\t\t\t\t\t   [id]="entity.getUiId()"\n\t\t\t\t\t   (click)="toggleSelectedRow(entity)"\n\t\t\t\t\t   class="gui-row">\n\t</gui-structure-row>\n\n</div>\n',changeDetection:b.ChangeDetectionStrategy.OnPush,encapsulation:b.ViewEncapsulation.None}),Kg("design:paramtypes",[b.Renderer2,b.ElementRef,b.ChangeDetectorRef,ls,tf,sf,_s])],t)}(Oe),Xg=function(){function t(t,e,n){void 0===n&&(n=0),this.version=0,this.data=t,this.version=n,this.id=e||mt()}return t.prototype.getData=function(){return this.data},t.prototype.getUiId=function(){return"gui"+this.id.replace(/-/g,"")},t.prototype.getId=function(){return this.id},t.prototype.getVersion=function(){return this.version},t.prototype.equals=function(t){return this.id===t.id&&this.getVersion()===t.getVersion()},t.prototype.equalsById=function(t){return this.id===t},t}(),Yg=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Jg=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Zg=function(){function t(){}return t.prototype.trackByFn=function(){return 0},Yg([b.Input(),Jg("design:type",Xg)],t.prototype,"entity",void 0),Yg([b.Input(),Jg("design:type",Array)],t.prototype,"columns",void 0),Yg([b.Input(),Jg("design:type",Boolean)],t.prototype,"editMode",void 0),Yg([b.Input(),Jg("design:type",Boolean)],t.prototype,"cellEditing",void 0),t=Yg([b.Component({selector:"gui-structure-row",template:'<gui-structure-cell *ngFor="let column of columns; trackBy: trackByFn"\n\t\t\t\t\t[entity]="entity"\n\t\t\t\t\t[cell]="column"\n\t\t\t\t\t[cellEditingEnabled]="cellEditing"\n\t\t\t\t\t[editMode]="editMode"\n\t\t\t\t\t[style.width.px]="column.width"\n\t\t\t\t\tclass="gui-cell">\n</gui-structure-cell>\n',changeDetection:b.ChangeDetectionStrategy.OnPush,encapsulation:b.ViewEncapsulation.None})],t)}(),td=(gl=function(t,e){return(gl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}gl(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ed=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},nd=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},od=function(i){function t(t,e,n,o){var r=i.call(this)||this;return r.changeDetectorRef=t,r.structureCellEditArchive=e,r.structureCellEditStore=n,r.sourceCommandService=o,r.inEditMode=!1,r}return td(t,i),t.prototype.ngOnChanges=function(t){void 0!==t.editMode&&(this.editMode?(this.cellEditingEnabled=!0,this.enterEditMode(!1)):this.editMode||this.exitEditMode())},t.prototype.enterEditMode=function(t){void 0===t&&(t=!0),this.cellEditingEnabled&&(this.inEditMode=!0,this.valueChanges$=new kn,this.status$=new kn,this.editContext={status:this.status$,valueChanges:this.valueChanges$,value:this.cell.accessor(this.entity),focus:t},this.observeFieldStatus(),this.observeValueChanges(),this.publishEditEnter(),t?this.changeDetectorRef.detectChanges():this.changeDetectorRef.markForCheck())},t.prototype.exitEditMode=function(){this.inEditMode=!1,this.changeDetectorRef.detectChanges()},t.prototype.submitChangesAndExit=function(){var t=this.entity.getId(),e=this.actualValue,n=this.cell.columnFieldId;this.sourceCommandService.editItem(new Pp(t,n,e)),this.exitEditMode()},t.prototype.observeFieldStatus=function(){var e=this;this.status$.select().pipe(this.takeUntil()).subscribe(function(t){switch(t){case se.SUBMIT:e.submitChangesAndExit(),e.publishEditSubmit();break;case se.CANCEL:e.exitEditMode(),e.publishEditCancel()}})},t.prototype.observeValueChanges=function(){var e=this;this.valueChanges$.select().pipe(this.takeUntil()).subscribe(function(t){e.actualValue=t})},t.prototype.publishEditState=function(t){this.structureCellEditStore.set(t)},t.prototype.publishEditEnter=function(){this.publishEditState($a.ENTER)},t.prototype.publishEditCancel=function(){this.publishEditState($a.CANCEL)},t.prototype.publishEditSubmit=function(){this.publishEditState($a.SUBMIT)},ed([b.Input(),nd("design:type",Xg)],t.prototype,"entity",void 0),ed([b.Input(),nd("design:type",mi)],t.prototype,"cell",void 0),ed([b.Input(),nd("design:type",Boolean)],t.prototype,"editMode",void 0),ed([b.Input(),nd("design:type",Boolean)],t.prototype,"cellEditingEnabled",void 0),t=ed([b.Component({selector:"gui-structure-cell",template:'\n\n\t\t<span *ngIf="!inEditMode"\n\t\t\t  (click)="enterEditMode()">\n\t\t\t<ng-container\n\t\t\t\t\t*ngTemplateOutlet="cell.template;\n\t\t\t\t\tcontext: { element: cell.accessor(entity) }">\n\t\t\t</ng-container>\n\t\t</span>\n\t\t\n\t\t<span *ngIf="inEditMode" class="gui-cell-edit-mode">\n\t\t\t<ng-container\n\t\t\t\t\t*ngTemplateOutlet="cell.editTemplate;\n\t\t\t\t\tcontext: editContext">\n\t\t\t</ng-container>\n\t\t</span>\n\n\t',changeDetection:b.ChangeDetectionStrategy.OnPush,encapsulation:b.ViewEncapsulation.None}),nd("design:paramtypes",[b.ChangeDetectorRef,tf,rf,Sp])],t)}(Oe),rd=(dl=function(t,e){return(dl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}dl(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),id=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},cd=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ud=function(n,o){return function(t,e){o(t,e,n)}},ad=function(h){function t(t,e,n,o,r,i,c,u,a,s,p,f,l,g){var d=h.call(this)||this;return d.elementRef=t,d.renderer=e,d.changeDetectorRef=n,d.ngZone=o,d.structureId=r,d.structureCommandService=i,d.structureQueryService=c,d.sourceQueryService=u,d.schemaQueryService=a,d.compositionCommandService=s,d.compositionQueryService=p,d.formationQueryService=f,d.resizeDetector=l,d.structureParent=g,d.columns=[],d.source=[],d.autoResizeWidthEnabled=!1,d.scrollObservation$=new y.Subject,d}return rd(t,h),t.prototype.ngOnInit=function(){var r=this;this.sourceQueryService.select().pipe(this.takeUntil()).subscribe(function(t){r.source=t,r.setHeight(30*t.length),r.changeDetectorRef.detectChanges()}),this.compositionQueryService.selectTemplateColumns().pipe(this.takeUntil()).subscribe(function(t){r.columns=t,r.changeDetectorRef.detectChanges()}),this.compositionQueryService.selectResizeWidth().pipe(this.takeUntil()).subscribe(function(t){r.autoResizeWidthEnabled=t}),y.combineLatest(this.sourceQueryService.select(),this.schemaQueryService.selectContainerHeight()).pipe(this.takeUntil()).subscribe(function(t){var e=t[0],n=t[1],o=27*e.length;n<o?r.setHeight(n):r.setHeight(o),r.changeDetectorRef.detectChanges()})},t.prototype.ngAfterViewInit=function(){var o=this;this.structureParent&&this.resizeDetector.observe(this.structureParent.getElementRef().nativeElement).pipe(a.filter(function(){return o.autoResizeWidthEnabled}),a.map(function(t){return t.offsetWidth}),a.distinctUntilChanged(),this.takeUntil()).subscribe(function(t){o.recalculateContainer(t)}),this.compositionQueryService.selectContainerWidth().pipe(this.takeUntil()).subscribe(function(t){o.renderer.setStyle(o.containerRef.nativeElement,"width",t+"px")}),this.structureQueryService.selectVerticalScrollEnabled().pipe(this.takeUntil()).subscribe(function(t){t?o.enableScrollObservation():o.disableScrollObservation()}),this.structureQueryService.select().pipe(a.filter(function(t){return t.isVerticalScrollEnabled()}),this.takeUntil()).subscribe(function(t){var e=t.getContainerHeight(),n=t.getTopMargin();o.renderer.setStyle(o.containerRef.nativeElement,"padding-top",n+"px"),o.renderer.setStyle(o.containerRef.nativeElement,"height",e+"px")})},t.prototype.ngOnDestroy=function(){h.prototype.ngOnDestroy.call(this),this.resizeDetector.destroy(this.elementRef.nativeElement)},t.prototype.setHeight=function(t){this.height=t,this.renderer.setStyle(this.elementRef.nativeElement,"height",this.height+"px")},t.prototype.recalculateContainer=function(t){this.autoResizeWidthEnabled&&this.compositionCommandService.setContainerWidth(t)},t.prototype.enableScrollObservation=function(){var n=this;this.ngZone.runOutsideAngular(function(){y.fromEvent(n.elementRef.nativeElement,"scroll").pipe(a.takeUntil(n.scrollObservation$),n.takeUntil()).subscribe(function(t){var e=t.target.scrollTop;n.structureCommandService.setScrollPosition(e)})})},t.prototype.disableScrollObservation=function(){this.scrollObservation$.next(),this.scrollObservation$.complete()},id([b.ViewChild("container",{static:!1}),cd("design:type",b.ElementRef)],t.prototype,"containerRef",void 0),t=id([b.Component({selector:"gui-structure-container",template:'<div #container\n\t class="gui-structure-container">\n\n\t<gui-structure-content [source]="source"\n\t\t\t\t\t\t   [columns]="columns">\n\t</gui-structure-content>\n\n</div>\n',changeDetection:b.ChangeDetectionStrategy.OnPush,encapsulation:b.ViewEncapsulation.None}),ud(13,b.Optional()),ud(13,b.Inject(tt)),cd("design:paramtypes",[b.ElementRef,b.Renderer2,b.ChangeDetectorRef,b.NgZone,Ce,up,dp,qe,fa,ou,tu,_s,r.ResizeDetector,Object])],t)}(Oe),sd=(hl=function(t,e){return(hl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}hl(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),pd=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},fd=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ld=function(n){function t(t){var e=n.call(this)||this;return e.formBuilder=t,e.searchForm=e.formBuilder.group({searchPhrase:""}),e}return sd(t,n),t.prototype.ngOnInit=function(){this.observeChanges()},t.prototype.observeChanges=function(){this.searchForm.controls.searchPhrase.valueChanges.pipe(this.takeUntil()).subscribe(function(t){return console.log(t)})},t=pd([b.Component({selector:"gui-structure-search-bar",template:'\n\t\t<form [formGroup]="searchForm">\n\t\t\t<div class="gui-search-icon"></div>\n\t\t\t<input formControlName="searchPhrase" [placeholder]="\'Search ...\'">\n\t\t</form>\n\t',changeDetection:b.ChangeDetectionStrategy.OnPush,encapsulation:b.ViewEncapsulation.None}),fd("design:paramtypes",[o.FormBuilder])],t)}(Oe),gd=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},dd=function(){function t(){}return t=gd([b.Component({selector:"gui-structure-quick-fitlers",template:"\n\t\n\t\tQuickFilters\n\t\t\n\t"})],t)}(),hd=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},yd=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},md=function(){function t(){this.enabled=new Map,this.enabled$=new y.ReplaySubject}return t.prototype.setEnabled=function(t,e){this.enabled.set(e.toString(),t),this.enabled$.next(this.enabled)},t.prototype.selectSearchingEnabled=function(e){return this.enabled$.asObservable().pipe(a.map(function(t){return t.get(e.toString())}),a.distinctUntilChanged())},t=hd([b.Injectable(),yd("design:paramtypes",[])],t)}(),bd=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},vd=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Od=function(){function t(t){this.structureSearchingRepository=t}return t.prototype.selectSearchEnabled=function(t){return this.structureSearchingRepository.selectSearchingEnabled(t)},t=bd([b.Injectable(),vd("design:paramtypes",[md])],t)}(),Rd=new b.InjectionToken("Structure - - css className"),_d=(yl=function(t,e){return(yl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}yl(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),jd=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},wd=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Cd=function(n,o){return function(t,e){o(t,e,n)}},Pd=function(f){function t(t,e,n,o,r,i,c,u,a,s){var p=f.call(this)||this;return p.changeDetectorRef=t,p.structureDefinition=e,p.structureId=n,p.structureQueryService=o,p.pagingQueryService=r,p.structureSummaryEnabledArchive=i,p.structureAggregationArchive=c,p.structureFilterReadModelRepository=u,p.structureSearchReadModelRepository=a,p.className=s,p.searchEnabled=!1,p.topAggregationPanelEnabled=!1,p.bottomAggregationPanelEnabled=!1,p.quickFiltersEnabled=!1,p.summaryPanelEnabled=!1,p.headerCssClass="gui-"+p.className+"-header",p.contentCssClass="gui-"+p.className+"-content",p}return _d(t,f),t.prototype.ngOnInit=function(){var e=this;this.structureQueryService.select().pipe(this.takeUntil()).subscribe(function(t){e.structure=t,e.changeDetectorRef.detectChanges()}),this.pagingQueryService.select().pipe(this.takeUntil()).subscribe(function(t){e.pagingReadModel=t,e.changeDetectorRef.detectChanges()}),this.structureSearchReadModelRepository.selectSearchEnabled(this.structureId).pipe(this.takeUntil()).subscribe(function(t){e.searchEnabled=t,e.changeDetectorRef.detectChanges()}),this.structureFilterReadModelRepository.selectQuickFiltersEnabled(this.structureId).pipe(this.takeUntil()).subscribe(function(t){e.quickFiltersEnabled=t,e.changeDetectorRef.detectChanges()}),this.structureAggregationArchive.select().pipe(this.takeUntil()).subscribe(function(t){e.topAggregationPanelEnabled=t.itTopEnabled(),e.bottomAggregationPanelEnabled=t.itBottomEnabled(),e.changeDetectorRef.detectChanges()}),this.structureSummaryEnabledArchive.select().pipe(this.takeUntil()).subscribe(function(t){e.summaryPanelEnabled=t,e.changeDetectorRef.detectChanges()})},t.prototype.getHeaderTopClasses=function(){return this.headerCssClass+" gui-header-top"},t.prototype.getHeaderBottomClasses=function(){return this.headerCssClass+" gui-header-bottom"},t.prototype.isColumnHeaderTopEnabled=function(){return this.structureDefinition.isHeaderEnabled()&&this.structure&&this.structure.isTopHeaderEnabled()},t.prototype.isColumnHeaderBottomEnabled=function(){return this.structureDefinition.isHeaderEnabled()&&this.structure&&this.structure.isBottomHeaderEnabled()},t.prototype.isPagingTopEnabled=function(){return this.structureDefinition.getTopPaging().isEnabled()&&this.pagingReadModel&&this.pagingReadModel.isPagerTop()},t.prototype.isPagingBottomEnabled=function(){return this.structureDefinition.getBottomPaging().isEnabled()&&this.pagingReadModel&&this.pagingReadModel.isPagerBottom()},t=jd([b.Component({selector:"gui-structure-blueprint",template:'\x3c!---------- TOP ----------\x3e\n<gui-structure-search-bar *ngIf="searchEnabled">\n\n</gui-structure-search-bar>\n\n<gui-structure-quick-fitlers *ngIf="quickFiltersEnabled">\n\n</gui-structure-quick-fitlers>\n\n<gui-structure-paging *ngIf="isPagingTopEnabled()"\n\t\t\t\t\t  class="gui-structure-paging-top">\n</gui-structure-paging>\n\n<gui-structure-aggregation-panel [enabled]="topAggregationPanelEnabled"\n\t\t\t\t\t\t\t\t class="gui-structure-aggregation-panel-top">\n</gui-structure-aggregation-panel>\n\n<gui-structure-header *ngIf="isColumnHeaderTopEnabled()"\n\t\t\t\t\t  [ngClass]="getHeaderTopClasses()">\n</gui-structure-header>\n\n\n\x3c!---------- MAIN ----------\x3e\n<gui-structure-container [ngClass]="contentCssClass">\n</gui-structure-container>\n\n\n\x3c!---------- BOTTOM ----------\x3e\n<gui-structure-header *ngIf="isColumnHeaderBottomEnabled()"\n\t\t\t\t\t  [ngClass]="getHeaderBottomClasses()">\n</gui-structure-header>\n\n<gui-structure-aggregation-panel [enabled]="bottomAggregationPanelEnabled"\n\t\t\t\t\t\t\t\t class="gui-structure-aggregation-panel-bottom">\n</gui-structure-aggregation-panel>\n\n<gui-structure-paging *ngIf="isPagingBottomEnabled()"\n\t\t\t\t\t  class="gui-structure-paging-bottom">\n</gui-structure-paging>\n\n<gui-structure-summary *ngIf="summaryPanelEnabled"></gui-structure-summary>\n',changeDetection:b.ChangeDetectionStrategy.OnPush,encapsulation:b.ViewEncapsulation.None}),Cd(9,b.Inject(Rd)),wd("design:paramtypes",[b.ChangeDetectorRef,Y,Ce,dp,Ee,En,df,Bg,Od,String])],t)}(Oe),Ad=(ml=function(t,e){return(ml=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ml(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Id=function(o){function t(t,e){var n=o.call(this,t,"StructureAggregationsChangedEvent")||this;return n.values=e,n}return Ad(t,o),t.prototype.getAggregations=function(){return this.values},t}(Tt),Ed=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Sd=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Dd=function(){function t(t){this.domainEventBus=t}return t.prototype.selectAggregationsChanged=function(e){return this.domainEventBus.pipe(a.filter(function(t){return t instanceof Id}),a.filter(function(t){return t.aggregateId.toString()===e.toString()}))},t=Ed([b.Injectable(),Sd("design:paramtypes",[Nt])],t)}(),Td=(bl=function(t,e){return(bl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}bl(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Fd=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Bd=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},xd=function(i){function t(t,e,n,o){var r=i.call(this)||this;return r.changeDetectorRef=t,r.structureId=e,r.structureAggregationUiEventsRepository=n,r.compositionQueryService=o,r.structureAggregationUiEventsRepository.selectAggregationsChanged(r.structureId).pipe(r.takeUntil()).subscribe(function(t){r.aggregations=t.getAggregations(),r.changeDetectorRef.detectChanges()}),r}return Td(t,i),t.prototype.ngOnInit=function(){var e=this;this.compositionQueryService.selectHeaderColumns().pipe(this.takeUntil()).subscribe(function(t){e.headerColumns=t,e.changeDetectorRef.detectChanges()})},t.prototype.isAggregateTypePresent=function(t){return null!=t},Fd([b.Input(),Bd("design:type",Boolean)],t.prototype,"enabled",void 0),t=Fd([b.Component({selector:"gui-structure-aggregation-panel",template:'\n\n\t\t<ng-container *ngIf="enabled && aggregations">\n\n\t\t\t<div *ngFor="let column of headerColumns"\n\t\t\t\t [style.width.px]="column.width"\n\t\t\t\t class="gui-header-cell gui-structure-aggregation-cell">\n\n\t\t\t\t<ng-container *ngIf="aggregations && !!aggregations.get(column.getFieldId().getId())">\n\n\t\t\t\t\t<div *ngIf="isAggregateTypePresent(aggregations.get(column.getFieldId().getId()).count)" class="gui-structure-aggregation-value">\n\t\t\t\t\t\tCount: <span>{{ aggregations.get(column.getFieldId().getId()).count }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf="isAggregateTypePresent(aggregations.get(column.getFieldId().getId()).distinct)" class="gui-structure-aggregation-value">\n\t\t\t\t\t\tDistinct: <span>{{ aggregations.get(column.getFieldId().getId()).distinct }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf=" isAggregateTypePresent(aggregations.get(column.getFieldId().getId()).sum)" class="gui-structure-aggregation-value">\n\n\t\t\t\t\t\t<div><span class="gui-math-symbol">&sum;</span> Sum</div>\n\t\t\t\t\t\t<span>{{ aggregations.get(column.getFieldId().getId()).sum }}</span></div>\n\n\t\t\t\t\t<div *ngIf="isAggregateTypePresent(aggregations.get(column.getFieldId().getId()).average)" class="gui-structure-aggregation-value">\n\n\t\t\t\t\t\t<div class="gui-mean"><span>_</span><span>X Average</span></div>\n\t\t\t\t\t\t<span>{{ aggregations.get(column.getFieldId().getId()).average }}</span></div>\n\n\t\t\t\t\t<div *ngIf=" isAggregateTypePresent(aggregations.get(column.getFieldId().getId()).min)" class="gui-structure-aggregation-value">\n\n\t\t\t\t\t\t<div><span class="gui-math-symbol">&and;</span> Min</div>\n\t\t\t\t\t\t<span>{{ aggregations.get(column.getFieldId().getId()).min }}</span></div>\n\n\t\t\t\t\t<div *ngIf=" isAggregateTypePresent(aggregations.get(column.getFieldId().getId()).max)" class="gui-structure-aggregation-value">\n\n\t\t\t\t\t\t<div><span class="gui-math-symbol">&or;</span> Max</div>\n\t\t\t\t\t\t<span>{{ aggregations.get(column.getFieldId().getId()).max }}</span></div>\n\n\t\t\t\t\t<div *ngIf="isAggregateTypePresent(aggregations.get(column.getFieldId().getId()).median)" class="gui-structure-aggregation-value">\n\n\t\t\t\t\t\t<div class="gui-median"><span>~</span><span>X Median</span></div>\n\t\t\t\t\t\t<span>{{ aggregations.get(column.getFieldId().getId()).median }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf="isAggregateTypePresent(aggregations.get(column.getFieldId().getId()).truthy)" class="gui-structure-aggregation-value">\n\t\t\t\t\t\tTruthy: <span>{{ aggregations.get(column.getFieldId().getId()).truthy }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf="isAggregateTypePresent(aggregations.get(column.getFieldId().getId()).falsy)" class="gui-structure-aggregation-value">\n\t\t\t\t\t\tFalsy: <span>{{ aggregations.get(column.getFieldId().getId()).falsy }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t</ng-container>\n\t\t\t</div>\n\n\t\t</ng-container>\n\n\t',changeDetection:b.ChangeDetectionStrategy.OnPush,encapsulation:b.ViewEncapsulation.None}),Bd("design:paramtypes",[b.ChangeDetectorRef,Ce,Dd,tu])],t)}(Oe),Nd=function(){return(Nd=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Md=function(){function e(t,e,n){void 0===n&&(n=0),this.id=t,this.rawData=e,this.version=n}return e.prototype.getData=function(){return this.rawData},e.prototype.getVersion=function(){return this.version},e.prototype.bumpVersion=function(){this.version+=1},e.prototype.clone=function(){var t=Nd({},this.rawData);return new e(this.id,t,this.version)},e}(),Hd=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},kd=function(){function t(){}return t.prototype.create=function(t){return Array.isArray(t)?this.createEntities(t):this.createEntity(t)},t.prototype.createEntities=function(t){var e=this;return t.map(function(t){return e.createEntity(t)})},t.prototype.createEntity=function(t){return t instanceof Md?new Xg(t.rawData,t.id,t.getVersion()):new Xg(t)},t=Hd([b.Injectable()],t)}(),zd=(vl=function(t,e){return(vl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}vl(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Wd=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Vd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return zd(e,t),e=Wd([b.Injectable()],e)}(Lt),Ud=(Ol=function(t,e){return(Ol=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ol(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ld=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Gd=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Qd=function(n){function t(t,e){return n.call(this,t,e)||this}return Ud(t,n),t=Ld([b.Injectable(),Gd("design:paramtypes",[Vd,Et])],t)}(Vt),$d=(Rl=function(t,e){return(Rl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Rl(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Kd=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},qd=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Xd=function(n){function t(t){var e=n.call(this)||this;return e.inMemoryStructureAggregateStore=t,e}return $d(t,n),t.prototype.getById=function(t){var e=this.inMemoryStructureAggregateStore.getById(t);return e.clearEvents(),e},t.prototype.save=function(t){this.inMemoryStructureAggregateStore.save(t)},t=Kd([b.Injectable(),qd("design:paramtypes",[Qd])],t)}(sl),Yd=function(){function t(t){this.rowIds=t}return t.prototype.isRowSelected=function(e){return!!this.rowIds.find(function(t){return e.equalsById(t)})},t.prototype.getIds=function(){return this.rowIds},t}(),Jd=function(){function t(t){this.selectedRowsList=new Yd(t)}return t.prototype.getSelectedRows=function(){return this.selectedRowsList},t}(),Zd=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},th=function(){function t(){}return t.prototype.convert=function(t){var e=t.getSelectedRows();return new Jd(e)},t=Zd([b.Injectable()],t)}(),eh=function(){function t(t,e,n,o){this.verticalGrid=t,this.horizontalGrid=e,this.theme=n,this.rowColoring=o}return t.prototype.getRowColoring=function(){return this.rowColoring},t}(),nh=function(){function t(t,e,n,o,r,i,c,u){this.width=t,this.height=e,this.containerHeight=n,this.verticalGridEnabled=o,this.horizontalGridEnabled=r,this.theme=i,this.columnHeader=c,this.rowColoring=u}return t.prototype.getRowColoring=function(){return this.rowColoring},t.prototype.getTheme=function(){return this.theme},t.prototype.getHeight=function(){return this.height},t.prototype.getContainerHeight=function(){return this.containerHeight},t.prototype.getWidth=function(){return this.width},t.prototype.isVerticalGridEnabled=function(){return this.verticalGridEnabled},t.prototype.isHorizontalGridEnabled=function(){return this.horizontalGridEnabled},t.prototype.getColumnHeader=function(){return this.columnHeader},t.prototype.getCssClasses=function(){return new eh(this.isVerticalGridEnabled(),this.isHorizontalGridEnabled(),this.getTheme(),this.getRowColoring())},t}(),oh=function(){function t(t,e){this.top=t,this.bottom=e}return t.prototype.isTopHeaderEnabled=function(){return this.top},t.prototype.isBottomHeaderEnabled=function(){return this.bottom},t}(),rh=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},ih=function(){function t(){}return t.prototype.convert=function(t){var e=t.getColumnHeader();return new nh(t.getWidth(),t.getHeight(),t.getContainerHeight(),t.isVerticalGridEnabled(),t.isHorizontalGridEnabled(),t.getTheme(),this.convertColumnHeader(e),t.getRowColoring())},t.prototype.convertColumnHeader=function(t){return new oh(t.isHeaderOnTop(),t.isHeaderOnBottom())},t=rh([b.Injectable()],t)}(),ch=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},uh=function(){function t(){}return t.prototype.convert=function(t){return new tn(t.isEnabled(),t.getPage(),t.getPageSize(),t.getPageSizes(),t.isPagerTop(),t.isPagerBottom())},t=ch([b.Injectable()],t)}(),ah=function(){function t(t){this.loading=t}return t.prototype.isLoading=function(){return this.loading},t}(),sh=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},ph=function(){function t(){}return t.prototype.convert=function(t){return new ah(t.isLoading())},t=sh([b.Injectable()],t)}(),fh=function(){function t(t,e,n,o){this.enabled=t,this.topMargin=e,this.containerHeight=n,this.viewportHeight=o}return t.prototype.isEnabled=function(){return this.enabled},t.prototype.getTopMargin=function(){return this.topMargin},t.prototype.getContainerHeight=function(){return this.containerHeight},t.prototype.getViewPortHeight=function(){return this.viewportHeight},t}(),lh=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},gh=function(){function t(){}return t.prototype.convert=function(t){var e=t.isEnabled(),n=t.getTopMargin(),o=t.calcFullHeight(),r=t.getViewPortHeight();return new fh(e,n,o,r)},t=lh([b.Injectable()],t)}(),dh=(_l=function(t,e){return(_l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}_l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),hh=function(a){function t(t,e,n,o,r,i,c){var u=a.call(this,t)||this;return u.formation=e,u.schema=n,u.paging=o,u.entities=r,u.source=i,u.verticalFormation=c,u}return dh(t,a),t.prototype.getFormation=function(){return this.formation},t.prototype.getSchema=function(){return this.schema},t.prototype.getPaging=function(){return this.paging},t.prototype.getEntities=function(){return this.entities},t.prototype.getSource=function(){return this.source},t.prototype.getSelectedEntities=function(){var t=this.formation.getSelectedRows().getIds();return this.entities.filter(function(e){return t.some(function(t){return e.equalsById(t)})})},t.prototype.getTopMargin=function(){return this.verticalFormation.getTopMargin()},t.prototype.getContainerHeight=function(){return this.verticalFormation.getContainerHeight()},t.prototype.isLoaderVisible=function(){return 150<this.getSchema().getHeight()&&this.getSource().isLoading()},t.prototype.isTopHeaderEnabled=function(){return this.schema.getColumnHeader().isTopHeaderEnabled()},t.prototype.isBottomHeaderEnabled=function(){return this.schema.getColumnHeader().isBottomHeaderEnabled()},t.prototype.isReadyToDisplay=function(){return 0<this.entities.length},t.prototype.isVerticalScrollEnabled=function(){return this.verticalFormation.isEnabled()},t}(Ht),yh=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},mh=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},bh=function(){function t(t,e,n,o,r){this.formationConverter=t,this.schemaConverter=e,this.pagingConverter=n,this.sourceConverter=o,this.verticalFormationConverter=r}return t.prototype.convert=function(t){var e=t.getFormation(),n=t.getSchema(),o=t.getPaging(),r=t.getEntities(),i=t.getSource(),c=t.getVerticalFormation();return new hh(t.getId(),this.formationConverter.convert(e),this.schemaConverter.convert(n),this.pagingConverter.convert(o),this.convertSource(r),this.sourceConverter.convert(i),this.verticalFormationConverter.convert(c))},t.prototype.convertSource=function(t){return t.map(function(t){return new Xg(t.rawData,t.id,t.getVersion())})},t=yh([b.Injectable(),mh("design:paramtypes",[th,ih,uh,ph,gh])],t)}(),vh=(jl=function(t,e){return(jl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}jl(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Oh=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Rh=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},_h=function(o){function t(t,e){var n=o.call(this,t)||this;return n.inMemoryProjectStore=t,n.structureConverter=e,n}return vh(t,o),t.prototype.toReadModel=function(t){return this.structureConverter.convert(t)},t=Oh([b.Injectable(),Rh("design:paramtypes",[Vd,bh])],t)}(Ut),jh=(wl=function(t,e){return(wl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}wl(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),wh=function(e){function t(t){return e.call(this,t,"StructureInitedEvent")||this}return jh(t,e),t}(Tt),Ch=(Cl=function(t,e){return(Cl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Cl(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ph=function(e){function t(t){return e.call(this,t,"SetSourceLoadingEvent")||this}return Ch(t,e),t}(Tt),Ah=(Pl=function(t,e){return(Pl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Pl(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ih=function(e){function t(t){return e.call(this,t,"SchemaSetEvent")||this}return Ah(t,e),t}(Tt),Eh=(Al=function(t,e){return(Al=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Al(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Sh=function(e){function t(t){return e.call(this,t,"SchemaThemeSetEvent")||this}return Eh(t,e),t}(Tt),Dh=(Il=function(t,e){return(Il=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Il(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Th=function(e){function t(t){return e.call(this,t,"SchemaHorizontalGridSetEvent")||this}return Dh(t,e),t}(Tt),Fh=(El=function(t,e){return(El=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}El(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Bh=function(e){function t(t){return e.call(this,t,"SchemaVerticalGridSetEvent")||this}return Fh(t,e),t}(Tt),xh=(Sl=function(t,e){return(Sl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Sl(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Nh=function(e){function t(t){return e.call(this,t,"SchemaTopHeaderChangedEvent")||this}return xh(t,e),t}(Tt),Mh=(Dl=function(t,e){return(Dl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Dl(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Hh=function(e){function t(t){return e.call(this,t,"SchemaBottomHeaderChangedEvent")||this}return Mh(t,e),t}(Tt),kh=(Tl=function(t,e){return(Tl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Tl(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),zh=function(e){function t(t){return e.call(this,t,"RowColoringSetEvent")||this}return kh(t,e),t}(Tt),Wh=(Fl=function(t,e){return(Fl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Fl(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Vh=function(e){function t(t){return e.call(this,t,"PagingSetEvent")||this}return Wh(t,e),t}(Tt),Uh=(Bl=function(t,e){return(Bl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Bl(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Lh=function(e){function t(t){return e.call(this,t,"FormationSetEvent")||this}return Uh(t,e),t}(Tt),Gh=(xl=function(t,e){return(xl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}xl(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Qh=function(e){function t(t){return e.call(this,t,"VerticalScrollEnabledSetEvent")||this}return Gh(t,e),t}(Tt),$h=(Nl=function(t,e){return(Nl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Nl(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Kh=function(e){function t(t){return e.call(this,t,"ScrollPositionSetEvent")||this}return $h(t,e),t}(Tt),qh=(Ml=function(t,e){return(Ml=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ml(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Xh=function(o){function t(t,e){var n=o.call(this,t,"OriginSetEvent")||this;return n.origin=e,n}return qh(t,o),t.prototype.getOrigin=function(){return this.origin},t}(Tt),Yh=(Hl=function(t,e){return(Hl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Hl(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Jh=function(e){function t(t){return e.call(this,t,"StructureFilterToggledEvent")||this}return Yh(t,e),t}(Tt),Zh=(kl=function(t,e){return(kl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}kl(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ty=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},ey=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ny=function(n){function t(t,e){var r=n.call(this)||this;return r.domainEventBus=t,r.inMemoryStructureQueryStore=e,r.structureIdToStructure=new Map,r.structure$=new y.ReplaySubject(1),r.unsubscribe$=new y.Subject,r.domainEventBus.ofEvent(wh,Ph,Ih,Sh,Th,Bh,Nh,Hh,zh,Vh,Wf,kf,Gf,Lh,nl,Qh,Kh,iu,Jh,Xh).pipe(a.takeUntil(r.unsubscribe$)).subscribe(function(t){var e=t.aggregateId,n=r.inMemoryStructureQueryStore.getById(e),o=n.getId().toString();r.structureIdToStructure.set(o,n),r.structure$.next(r.structureIdToStructure)}),r}return Zh(t,n),t.prototype.select=function(n){return this.structure$.asObservable().pipe(a.filter(function(t){var e=n.getId();return t.has(e)}),a.map(function(t){return t.get(n.getId())}))},t.prototype.ngOnDestroy=function(){this.unsubscribe$.next(),this.unsubscribe$.complete()},t=ty([b.Injectable(),ey("design:paramtypes",[Nt,_h])],t)}(Zt),oy=[Qd,{provide:sl,useClass:Xd}],ry=[_h,{provide:Zt,useClass:ny}],iy=[Vd],cy=(zl=function(t,e){return(zl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}zl(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),uy=function(r){function t(t,e,n){var o=r.call(this,t,"StructureSourceItemEditedAggregateEvent")||this;return o.beforeItem=e,o.afterItem=n,o}return cy(t,r),t.prototype.getBeforeItem=function(){return this.beforeItem},t.prototype.getAfterItem=function(){return this.afterItem},t}(It),ay=(Wl=function(t,e){return(Wl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Wl(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),sy=function(o){function t(t,e){var n=o.call(this,t,"StructureOriginChangedAggregateEvent")||this;return n.origin=e,n}return ay(t,o),t.prototype.getOrigin=function(){return this.origin},t}(It),py=function(){function t(){this.loading=!1,this.fetched=!1,this.entities=[],this.slicedEntities=[]}return t.prototype.isLoading=function(){return this.loading},t.prototype.isFetched=function(){return this.fetched},t.prototype.setLoading=function(t){this.loading=t},t.prototype.setEntities=function(t){this.entities=t},t.prototype.getEntities=function(){return this.entities},t.prototype.setSlicedEntities=function(t){this.slicedEntities=t},t.prototype.getSlicedEntities=function(){return this.slicedEntities},t.prototype.setOrigin=function(t,e){return void 0===t&&(t=[]),this.origin=this.convertItems(t),this.createOriginChangedEvent(e)},t.prototype.setConvertedOrigin=function(t,e){return void 0===t&&(t=[]),this.origin=t,this.createOriginChangedEvent(e)},t.prototype.getOrigin=function(){return this.origin},t.prototype.getOriginSize=function(){return this.origin.length},t.prototype.editOriginItem=function(t,e,n,o){var r=this.findOriginItem(t),i=r.clone();return r&&(r.rawData[n.getAccessor()]=e,r.bumpVersion()),[new uy(o,i,r.clone()),this.createOriginChangedEvent(o)]},t.prototype.removeOriginItem=function(t,e){var n=this.findOriginItemIndex(t);return-1<n?(this.origin.splice(n,1),[this.createOriginChangedEvent(e)]):[]},t.prototype.convertItems=function(t){return t.map(function(t){return new Md(mt(),t)})},t.prototype.createOriginChangedEvent=function(t){return new sy(t,this.origin)},t.prototype.findOriginItem=function(e){return this.origin.find(function(t){return t.id===e})},t.prototype.findOriginItemIndex=function(e){return this.origin.findIndex(function(t){return t.id===e})},t}(),fy=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},ly=function(){function t(){}return t.prototype.createDefault=function(){return new py},t.prototype.create=function(){return new py},t=fy([b.Injectable()],t)}(),gy=function(){function t(t,e){this.start=t,this.end=e}return t.prototype.getStart=function(){return this.start},t.prototype.getEnd=function(){return this.end},t}(),dy=function(){function t(t,e,n,o,r,i,c){void 0===t&&(t=!1),void 0===e&&(e=0),void 0===n&&(n=0),void 0===o&&(o=0),this.enabled=t,this.rowHeight=30,this.hiddenItemsTop=0,this.hiddenItemsBottom=0,this.viewportHeight=e,this.sourceSize=n,this.scrollPosition=o,Number.isInteger(r)&&(this.rowHeight=r),Number.isInteger(i)&&(this.hiddenItemsTop=i),Number.isInteger(c)&&(this.hiddenItemsBottom=c),this.calculateRange()}return t.prototype.isEnabled=function(){return this.enabled&&0<this.viewportHeight&&0<this.sourceSize},t.prototype.getRange=function(){return this.range},t.prototype.getTopMargin=function(){return this.range.getStart()*this.rowHeight},t.prototype.calculateRange=function(){if(!(this.calcFullHeight()<=this.viewportHeight)){var t=Math.floor(this.viewportHeight/this.rowHeight),e=Math.floor(this.scrollPosition/this.rowHeight),n=Math.abs(e-this.hiddenItemsTop)*this.rowHeight,o=e-this.hiddenItemsTop,r=o+Math.ceil(this.viewportHeight/this.rowHeight)+this.hiddenItemsBottom;return r>this.sourceSize&&(o=(r=this.sourceSize)-t),this.range=new gy(o,r),{start:o,end:r,topMargin:n}}this.range=new gy(0,this.sourceSize)},t.prototype.setEnabled=function(t){this.enabled=t,this.enabled&&0===this.viewportHeight&&this.logger.warn("Height needs to be specified in order for virtual scroll to work."),this.calculateRange()},t.prototype.setSourceSize=function(t){void 0===t&&(t=0),this.sourceSize=t,this.calculateRange()},t.prototype.setTopHiddenItemsCount=function(t){this.hiddenItemsTop=t,this.calculateRange()},t.prototype.setBottomHiddenItemsCount=function(t){this.hiddenItemsBottom=t,this.calculateRange()},t.prototype.setScrollPosition=function(t){this.scrollPosition=t,this.calculateRange()},t.prototype.setViewportHeight=function(t){this.viewportHeight=t,this.calculateRange()},t.prototype.setRowHeight=function(t){this.rowHeight=t},t.prototype.setLogger=function(t){this.logger=t},t.prototype.calcFullHeight=function(){return this.sourceSize*this.rowHeight},t.prototype.getViewPortHeight=function(){return this.viewportHeight},t}(),hy=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},yy=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},my=function(){function t(t){this.logger=t}return t.prototype.create=function(t,e,n,o,r,i,c){void 0===t&&(t=!1),void 0===e&&(e=0),void 0===n&&(n=0),void 0===o&&(o=0);var u=new dy(t,e,n,o,r,i,c);return u.setLogger(this.logger),u},t=hy([b.Injectable(),yy("design:paramtypes",[To])],t)}(),by="GUI - Aggregation Calculators",vy=(Vl=function(t,e){return(Vl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Vl(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Oy=function(o){function t(t,e){var n=o.call(this,t,"StructureAggregationsChangedAggregateEvent")||this;return n.aggregatedValues=e,n}return vy(t,o),t.prototype.getAggregations=function(){return this.aggregatedValues},t}(It),Ry=function(){function t(t,e){this.calculators=e,this.enabled=!1,this.values=new Map,this.structureId=t}return t.prototype.calculate=function(n,o){if(!this.enabled)return[];var r=new Map;return this.calculators.forEach(function(t){var e=t.calculate(n,o);e&&Array.from(e.keys()).forEach(function(t){r.set(t,e.get(t))})}),0<r.size?[new Oy(this.structureId,r)]:[]},t.prototype.setEnabled=function(t){this.enabled=t},t.prototype.add=function(){},t.prototype.remove=function(){},t.prototype.update=function(){},t}(),_y=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},jy=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},wy=function(n,o){return function(t,e){o(t,e,n)}},Cy=function(){function t(t){this.calculators=t}return t.prototype.create=function(t){return new Ry(t,this.calculators)},t=_y([b.Injectable(),wy(0,b.Inject(by)),jy("design:paramtypes",[Array])],t)}(),Py=function(){function t(t,e,n){this.filterId=t,this.field=e,this.filterValue=n}return t.prototype.getFieldId=function(){return this.field.getId()},t.prototype.getFilterValue=function(){return this.filterValue},t.prototype.setFilterValue=function(t){this.filterValue=t},t.prototype.filter=function(t){var e=this;return 0===t.length?t:t.filter(function(t){return e.field.getDataType()===R.STRING?e.filterString(t):e.field.getDataType()===R.NUMBER?e.filterNumber(t):e.field.getDataType()!==R.BOOLEAN||e.filterBoolean(t)})},t.prototype.filterString=function(t){return-1<this.field.getValue(t).toLowerCase().indexOf(this.filterValue.toLowerCase())},t.prototype.filterNumber=function(t){return this.field.getValue(t)>this.filterValue},t.prototype.filterBoolean=function(t){return this.field.getValue(t)===this.filterValue},t}(),Ay=function(){function t(t,e){var n=t.getId().toString();this.id=n+"@"+e}return t.prototype.getId=function(){return this.id},t}(),Iy=function(){function t(t){void 0===t&&(t=!1),this.filters=new Map,this.enabled=t}return t.prototype.setConfig=function(t){t&&void 0!==t.enabled&&null!==t.enabled&&(this.enabled=t.enabled)},t.prototype.addFilter=function(t,e,n){var o=new Ay(t,e),r=new Py(o,t,n);""===n?this.filters.delete(o.getId()):this.filters.set(o.getId(),r)},t.prototype.filter=function(t){for(var e=this.getAll(),n=t.slice(),o=0,r=e;o<r.length;o++){n=r[o].filter(n)}return n},t.prototype.getAll=function(){return this.enabled?Array.from(this.filters).map(function(t){return t[1]}):[]},t}(),Ey=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Sy=function(){function t(){}return t.prototype.create=function(t){return void 0===t&&(t=!1),new Iy(t)},t=Ey([b.Injectable()],t)}(),Dy=function(){function t(){}return t.prototype.generateId=function(){return new yi(mt())},t}(),Ty=function(){function t(t,e,n,o){this.aggregationEnabled=!0,this.id=t,this.accessor=e,this.dataType=n,"string"==typeof e?this.accessorMethod=function(t){return t.getData()[e]}:"function"==typeof e&&(this.accessorMethod=function(t){return e(t.getData())}),this.possibleAggregations=this.assignPossibleAggregations(),this.assignAggregations(o)}return t.prototype.getId=function(){return this.id},t.prototype.getKey=function(){return this.getId().getId()},t.prototype.getDataType=function(){return this.dataType},t.prototype.getAccessor=function(){return this.accessor},t.prototype.getAccessorMethod=function(){return this.accessorMethod},t.prototype.getValue=function(t){return this.accessorMethod(t)},t.prototype.isAggregation=function(t){return!!this.isAggregationEnabled()&&!!(this.aggregations&t)},t.prototype.isAggregationEnabled=function(){return this.aggregationEnabled},t.prototype.setAggregationEnabled=function(t){this.aggregationEnabled=t},t.prototype.assignAggregations=function(t){var e=this;t&&0!==Object.keys(t).length?(t.enabled&&(this.aggregationEnabled=!!t.enabled),t.aggregationTypes?(this.aggregations=0,t.aggregationTypes.forEach(function(t){e.aggregations|=t})):this.aggregations=this.assignDefaultAggregations()):this.aggregations=this.assignDefaultAggregations()},t}(),Fy=(Ul=function(t,e){return(Ul=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ul(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),By=function(o){function t(t,e,n){return o.call(this,t,e,R.UNKNOWN,n)||this}return Fy(t,o),t.prototype.assignDefaultAggregations=function(){return 0},t.prototype.assignPossibleAggregations=function(){return j.COUNT|j.DISTINCT},t}(Ty),xy=(Ll=function(t,e){return(Ll=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ll(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ny=function(o){function t(t,e,n){return o.call(this,t,e,R.NUMBER,n)||this}return xy(t,o),t.prototype.assignDefaultAggregations=function(){return 0},t.prototype.assignPossibleAggregations=function(){return j.COUNT|j.DISTINCT|j.SUM|j.MIN|j.MAX|j.AVERAGE|j.MEDIAN},t}(Ty),My=(Gl=function(t,e){return(Gl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Gl(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Hy=function(o){function t(t,e,n){return o.call(this,t,e,R.STRING,n)||this}return My(t,o),t.prototype.assignDefaultAggregations=function(){return 0},t.prototype.assignPossibleAggregations=function(){return j.COUNT|j.DISTINCT},t}(Ty),ky=(Ql=function(t,e){return(Ql=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ql(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),zy=function(o){function t(t,e,n){return o.call(this,t,e,R.BOOLEAN,n)||this}return ky(t,o),t.prototype.assignDefaultAggregations=function(){return 0},t.prototype.assignPossibleAggregations=function(){return j.COUNT|j.DISTINCT|j.TRUTHY|j.FALSY},t}(Ty),Wy=($l=function(t,e){return($l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}$l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Vy=function(o){function t(t,e,n){return o.call(this,t,e,R.DATE,n)||this}return Wy(t,o),t.prototype.assignDefaultAggregations=function(){return 0},t.prototype.assignPossibleAggregations=function(){return j.COUNT|j.DISTINCT},t}(Ty),Uy=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Ly=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Gy=function(){function t(t){this.fieldIdGenerator=t}return t.prototype.create=function(t){var e=t.type;return void 0===e&&(e=R.STRING),e===R.UNKNOWN?new By(this.fieldIdGenerator.generateId(),t.field,t.aggregation):e===R.NUMBER?new Ny(this.fieldIdGenerator.generateId(),t.field,t.aggregation):e===R.STRING?new Hy(this.fieldIdGenerator.generateId(),t.field):e===R.BOOLEAN?new zy(this.fieldIdGenerator.generateId(),t.field):e===R.DATE?new Vy(this.fieldIdGenerator.generateId(),t.field):void 0},t=Uy([b.Injectable(),Ly("design:paramtypes",[Dy])],t)}(),Qy=function(){function t(t){this.fieldFactory=t,this.fields=new Map}return t.prototype.getField=function(t){return null===t?this.getAllFields()[0]:this.fields.get(t.getId())},t.prototype.getAllFieldIds=function(){return Array.from(this.fields.keys())},t.prototype.getAllFields=function(){return Array.from(this.fields.values())},t.prototype.initFields=function(t){var n=this;t&&t.forEach(function(t){var e=n.fieldFactory.create(t);n.addField(e)})},t.prototype.addFields=function(t){for(var e=0,n=t;e<n.length;e++){var o=n[e];this.addField(o)}},t.prototype.addField=function(t){this.fields.set(t.getId().toString(),t)},t}(),$y=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Ky=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},qy=function(){function t(t){this.fieldFactory=t}return t.prototype.create=function(){return new Qy(this.fieldFactory)},t=$y([b.Injectable(),Ky("design:paramtypes",[Gy])],t)}(),Xy=function(){function t(t){this.selectedRows=t}return t.default=function(){return new t([])},t.prototype.getSelectedRows=function(){return this.selectedRows},t.prototype.toggleRow=function(t){0<this.selectedRows.length&&this.selectedRows[0]===t?this.selectedRows=[]:this.selectedRows=[t]},t}(),Yy=function(){function t(t,e){this.top=t,this.bottom=e}return t.prototype.setHeaderTop=function(t){this.top=t},t.prototype.setHeaderBottom=function(t){this.bottom=t},t.prototype.isHeaderOnTop=function(){return this.top},t.prototype.isHeaderOnBottom=function(){return this.bottom},t}(),Jy=function(){function t(t,e){this.width=t,this.height=e,this.headerHeight=28,this.pagerHeight=35,this.active=!1,this.horizontalGrid=!0,this.verticalGrid=!0,this.columnHeader=new Yy(!0,!1),this.theme=E.FABRIC,this.rowColoring=Pr.EVEN,this.calculateContainerHeight()}return t.default=function(){return new t},t.prototype.getRowColoring=function(){return this.rowColoring},t.prototype.setHeight=function(t){this.height=t,this.calculateContainerHeight()},t.prototype.setTheme=function(t){this.theme=t},t.prototype.setRowColoring=function(t){this.rowColoring=t},t.prototype.getTheme=function(){return this.theme},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getContainerHeight=function(){return this.height},t.prototype.getColumnHeader=function(){return this.columnHeader},t.prototype.setHeaderTop=function(t){this.getColumnHeader().setHeaderTop(t)},t.prototype.setHeaderBottom=function(t){this.getColumnHeader().setHeaderBottom(t)},t.prototype.setVerticalGrid=function(t){this.verticalGrid=t},t.prototype.setHorizontalGrid=function(t){this.horizontalGrid=t},t.prototype.isVerticalGridEnabled=function(){return this.verticalGrid},t.prototype.isHorizontalGridEnabled=function(){return this.horizontalGrid},t.prototype.getHeaderHeight=function(){return this.headerHeight},t.prototype.getPagerHeight=function(){return this.pagerHeight},t.prototype.calculateContainerHeight=function(){this.height?(this.active=!0,this.containerHeight=this.height-this.getHeaderHeight()-this.getPagerHeight()):this.active=!1},t}(),Zy=(Kl=function(t,e){return(Kl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Kl(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),tm=function(s){function a(t,e,n,o,r,i,c,u){var a=s.call(this,t)||this;return a.formation=Xy.default(),a.schema=Jy.default(),a.search=!1,a.quickFilters=!1,a.paging=e,a.sourceCoordinator=n,a.verticalFormation=o,a.aggregationManager=r,a.sorterContainer=i,a.filterContainer=c,a.fieldContainer=u,a}return Zy(a,s),a.default=function(t,e,n,o,r,i,c,u){return new a(t,e,n,o,r,i,c,u)},a.prototype.getVerticalFormation=function(){return this.verticalFormation},a.prototype.setAggregationEnabled=function(t){return this.aggregationManager.setEnabled(t),this.calculateSource(),this.getEvents()},a.prototype.setOrigin=function(t){return this.addEvent(this.sourceCoordinator.setOrigin(t,this.getId())),this.calculateSource(),this.getEvents()},a.prototype.editItem=function(t){var e=this,n=t.getItemId(),o=t.getColumnFieldId(),r=this.fieldContainer.getField(o),i=t.getValue();return this.sourceCoordinator.editOriginItem(n,i,r,this.getId()).forEach(function(t){return e.addEvent(t)}),this.calculateSource(),this.getEvents()},a.prototype.setHeight=function(t){this.getSchema().setHeight(t);var e=this.getSchema().getContainerHeight();this.verticalFormation.setViewportHeight(e),this.calculateSourceBasedOnVirtualScroll()},a.prototype.setFormation=function(t){this.formation=t},a.prototype.setScrollPosition=function(t){this.verticalFormation.setScrollPosition(t),this.calculateSourceBasedOnVirtualScroll()},a.prototype.getFormation=function(){return this.formation},a.prototype.setSchema=function(t){this.schema=t},a.prototype.getSchema=function(){return this.schema},a.prototype.getPaging=function(){return this.paging},a.prototype.changePaging=function(t){this.paging.change(t),this.calculateSource()},a.prototype.setPaging=function(t){this.paging=t,this.calculateSource()},a.prototype.nextPage=function(){var t=this.sourceCoordinator.getOriginSize();this.paging.nextPage(t),this.calculateSource()},a.prototype.prevPage=function(){this.paging.prevPage(),this.calculateSource()},a.prototype.changePageSize=function(t){var e=this;return this.paging.changePageSize(t).forEach(function(t){e.addEvent(t)}),this.calculateSource(),this.getEvents()},a.prototype.getEntities=function(){return this.sourceCoordinator.getSlicedEntities()},a.prototype.getSource=function(){return this.sourceCoordinator},a.prototype.createFields=function(t){return this.fieldContainer.initFields(t),this.fieldContainer.getAllFields()},a.prototype.setSortingConfig=function(t){this.sorterContainer.setConfig(t)},a.prototype.toggleSort=function(t){var e=this.fieldContainer.getField(t);return this.sorterContainer.toggle(e),this.calculateSource(),this.sorterContainer.getAll()},a.prototype.setFilterConfig=function(t){this.filterContainer.setConfig(t)},a.prototype.setQuickFiltersConfig=function(t){this.quickFilters=t.enabled},a.prototype.setSearchingConfig=function(t){this.search=t.enabled},a.prototype.toggleFilter=function(t,e,n){var o=this.fieldContainer.getField(t);return void 0===o||(this.filterContainer.addFilter(o,e,n),this.calculateSource()),[]},a.prototype.calculateSource=function(){var e=this;this.sourceCoordinator.getOrigin()&&this.paging&&(this.sourceCoordinator.setEntities(this.sourceCoordinator.getOrigin()),this.aggregationManager.calculate(this.fieldContainer.getAllFields(),this.sourceCoordinator.getEntities()).forEach(function(t){e.addEvent(t)}),this.sourceCoordinator.setEntities(this.filterContainer.filter(this.sourceCoordinator.getEntities())),this.sourceCoordinator.setEntities(this.sorterContainer.sort(this.sourceCoordinator.getEntities())),this.sourceCoordinator.setEntities(this.paging.sample(this.sourceCoordinator.getEntities())),this.verticalFormation.setSourceSize(this.sourceCoordinator.getEntities().length),this.calculateSourceBasedOnVirtualScroll())},a.prototype.calculateSourceBasedOnVirtualScroll=function(){if(this.verticalFormation.isEnabled()){var t=this.verticalFormation.getRange();this.sourceCoordinator.setSlicedEntities(this.sourceCoordinator.getEntities().slice(t.getStart(),t.getEnd()))}else this.sourceCoordinator.setSlicedEntities(this.sourceCoordinator.getEntities())},a}(St),em=function(){function t(t,e,n){void 0===n&&(n=!0),this.rank=1,this.sorterId=t,this.field=e,this.direction=n}return t.prototype.getId=function(){return this.sorterId},t.prototype.getRank=function(){return this.rank},t.prototype.getField=function(){return this.field},t.prototype.getDirection=function(){return this.direction},t.prototype.changeDirection=function(){this.direction=!this.direction},t.prototype.sort=function(t){var r=this;return 0===t.length?t:t.sort(function(t,e){var n=r.direction?r.field.getValue(t):r.field.getValue(e),o=r.direction?r.field.getValue(e):r.field.getValue(t);return r.field.getDataType()===R.NUMBER?r.sortNumber(n,o):r.field.getDataType()===R.BOOLEAN?r.sortBoolean(n,o):r.field.getDataType()===R.STRING?r.sortString(n,o):r.sortUnknown(n,o)})},t.prototype.sortString=function(t,e){return(""+t).localeCompare(""+e)},t.prototype.sortNumber=function(t,e){return+t-+e},t.prototype.sortBoolean=function(t,e){var n=!!e;return!!t==n?0:n?-1:1},t.prototype.sortUnknown=function(t,e){return 0},t}(),nm=function(){function t(t){this.sorterId=t}return t.prototype.getId=function(){return this.sorterId},t}(),om=function(){function t(t,e){void 0===t&&(t=!1),void 0===e&&(e=!1),this.sorters=new Map,this.enabled=t,this.multi=e}return t.prototype.setConfig=function(t){t&&void 0!==t.enabled&&null!==t.enabled&&(this.enabled=t.enabled),t&&void 0!==t.multiSorting&&null!==t.multiSorting&&(this.multi=t.multiSorting,this.sorters.clear())},t.prototype.toggle=function(t){var e=t.getId(),n=this.sorters.get(e.getId());n?n.getDirection()?n.changeDirection():this.delete(e):this.add(t)},t.prototype.add=function(t){this.addSorter(t.getId(),new em(new nm(mt()),t))},t.prototype.addSorter=function(t,e){this.multi||this.sorters.clear(),this.sorters.set(t.getId(),e)},t.prototype.delete=function(t){this.sorters.delete(t.getId())},t.prototype.update=function(){},t.prototype.sort=function(t){for(var e=this.getAll(),n=t.slice(),o=0,r=e;o<r.length;o++){n=r[o].sort(n)}return n},t.prototype.getAll=function(){return this.enabled?Array.from(this.sorters).map(function(t){return t[1]}).sort(function(t,e){return t.getRank()-e.getRank()}).reverse():[]},t}(),rm=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},im=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},cm=function(){function t(t,e,n,o,r,i){this.pagingAggregateFactory=t,this.sourceCoordinatorFactory=e,this.verticalFormationFactory=n,this.aggregationManagerFactory=o,this.filterContainerFactory=r,this.fieldContainerFactory=i}return t.prototype.create=function(t){var e=this.pagingAggregateFactory.createDefault(),n=this.sourceCoordinatorFactory.createDefault(),o=this.verticalFormationFactory.create(),r=new om,i=this.filterContainerFactory.create(!1),c=this.fieldContainerFactory.create(),u=this.aggregationManagerFactory.create(t);return new tm(t,e,n,o,u,r,i,c)},t=rm([b.Injectable(),im("design:paramtypes",[Bu,ly,my,Cy,Sy,qy])],t)}(),um=(ql=function(t,e){return(ql=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ql(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),am=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},sm=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},pm=function(r){function t(t,e,n){var o=r.call(this,Ls,wh,n)||this;return o.structureAggregateRepository=t,o.structureAggregateFactory=e,o}return um(t,r),t.prototype.handle=function(t){var e=t.structureId,n=this.structureAggregateFactory.create(e);this.structureAggregateRepository.save(n)},t=am([b.Injectable(),sm("design:paramtypes",[sl,cm,xt])],t)}(Ct),fm=(Xl=function(t,e){return(Xl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Xl(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),lm=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},gm=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},dm=function(o){function t(t,e){var n=o.call(this,Qs)||this;return n.structureAggregateRepository=t,n.domainEventPublisher=e,n}return fm(t,o),t.prototype.handle=function(t){var e=t.structureId,n=t.enabled,o=this.structureAggregateRepository.getById(e);o.getVerticalFormation().setEnabled(n),this.structureAggregateRepository.save(o),this.domainEventPublisher.publish(new Qh(e))},t=lm([b.Injectable(),gm("design:paramtypes",[sl,xt])],t)}(Ct),hm=(Yl=function(t,e){return(Yl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Yl(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ym=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},mm=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},bm=function(o){function t(t,e){var n=o.call(this,Ks)||this;return n.structureAggregateRepository=t,n.domainEventPublisher=e,n}return hm(t,o),t.prototype.handle=function(t){var e=t.structureId,n=t.position,o=this.structureAggregateRepository.getById(e);o.setScrollPosition(n),this.structureAggregateRepository.save(o),this.domainEventPublisher.publish(new Kh(e))},t=ym([b.Injectable(),mm("design:paramtypes",[sl,xt])],t)}(Ct),vm=(Jl=function(t,e){return(Jl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Jl(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Om=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Rm=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},_m=function(r){function t(t,e,n){var o=r.call(this,rp)||this;return o.structureAggregateRepository=t,o.structureAggregateFactory=e,o.domainEventPublisher=n,o}return vm(t,r),t.prototype.handle=function(t){var e=t.structureId,n=t.compositionId,o=t.columns,r=this.structureAggregateRepository.getById(e),i=r.createFields(o);this.structureAggregateRepository.save(r),this.domainEventPublisher.publish(new gu(e,n,o,i))},t=Om([b.Injectable(),Rm("design:paramtypes",[sl,cm,xt])],t)}(Ct),jm=(Zl=function(t,e){return(Zl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Zl(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),wm=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Cm=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Pm=function(o){function t(t,e){var n=o.call(this,Js)||this;return n.structureAggregateRepository=t,n.domainEventPublisher=e,n}return jm(t,o),t.prototype.handle=function(t){var e=t.structureId,n=t.getCompositionId(),o=t.getFieldId(),r=this.structureAggregateRepository.getById(e),i=r.toggleSort(o);this.structureAggregateRepository.save(r),this.publishSortEvent(e,n,o,i)},t.prototype.publishSortEvent=function(t,e,n,o){var r=o.map(function(t){return{direction:t.getDirection(),fieldId:t.getField().getId()}});this.domainEventPublisher.publish(new iu(t,e,r))},t=wm([b.Injectable(),Cm("design:paramtypes",[sl,xt])],t)}(Ct),Am=(tg=function(t,e){return(tg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}tg(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Im=function(e){function t(t){return e.call(this,t,"SortingSetEvent")||this}return Am(t,e),t}(Tt),Em=(eg=function(t,e){return(eg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}eg(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Sm=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Dm=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Tm=function(o){function t(t,e){var n=o.call(this,Xs)||this;return n.structureAggregateRepository=t,n.domainEventPublisher=e,n}return Em(t,o),t.prototype.handle=function(t){var e=t.structureId,n=t.getSortingConfig(),o=this.structureAggregateRepository.getById(e);o.setSortingConfig(n),this.structureAggregateRepository.save(o),this.domainEventPublisher.publish(new Im(e))},t=Sm([b.Injectable(),Dm("design:paramtypes",[sl,xt])],t)}(Ct),Fm=(ng=function(t,e){return(ng=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ng(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Bm=function(o){function t(t,e){var n=o.call(this,t,"StructureConfigFilterSetEvent")||this;return n.enabled=e,n}return Fm(t,o),t.prototype.getEnabled=function(){return this.enabled},t}(Tt),xm=(og=function(t,e){return(og=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}og(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Nm=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Mm=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Hm=function(o){function t(t,e){var n=o.call(this,Is)||this;return n.structureAggregateRepository=t,n.domainEventPublisher=e,n}return xm(t,o),t.prototype.handle=function(t){var e=t.structureId,n=t.getConfig(),o=this.structureAggregateRepository.getById(e);o.setFilterConfig(n),this.structureAggregateRepository.save(o),this.domainEventPublisher.publish(new Bm(e,n.enabled))},t=Nm([b.Injectable(),Mm("design:paramtypes",[sl,xt])],t)}(Ct),km=(rg=function(t,e){return(rg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}rg(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),zm=function(o){function t(t,e){var n=o.call(this,t,"StructureConfigSearchingSetEvent")||this;return n.enabled=e,n}return km(t,o),t.prototype.getEnabled=function(){return this.enabled},t}(Tt),Wm=(ig=function(t,e){return(ig=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ig(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Vm=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Um=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Lm=function(o){function t(t,e){var n=o.call(this,np)||this;return n.structureAggregateRepository=t,n.domainEventPublisher=e,n}return Wm(t,o),t.prototype.handle=function(t){var e=t.structureId,n=t.getConfig(),o=this.structureAggregateRepository.getById(e);o.setSearchingConfig(n),this.structureAggregateRepository.save(o),this.domainEventPublisher.publish(new zm(e,n.enabled))},t=Vm([b.Injectable(),Um("design:paramtypes",[sl,xt])],t)}(Ct),Gm=(cg=function(t,e){return(cg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}cg(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Qm=function(o){function t(t,e){var n=o.call(this,t,"StructureConfigQuickFilterSetEvent")||this;return n.enabled=e,n}return Gm(t,o),t.prototype.getEnabled=function(){return this.enabled},t}(Tt),$m=(ug=function(t,e){return(ug=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ug(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Km=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},qm=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Xm=function(o){function t(t,e){var n=o.call(this,tp)||this;return n.structureAggregateRepository=t,n.domainEventPublisher=e,n}return $m(t,o),t.prototype.handle=function(t){var e=t.structureId,n=t.getConfig(),o=this.structureAggregateRepository.getById(e);o.setQuickFiltersConfig(n),this.structureAggregateRepository.save(o),this.domainEventPublisher.publish(new Qm(e,n.enabled))},t=Km([b.Injectable(),qm("design:paramtypes",[sl,xt])],t)}(Ct),Ym=(ag=function(t,e){return(ag=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ag(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Jm=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Zm=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},tb=function(o){function t(t,e){var n=o.call(this,Ss)||this;return n.structureAggregateRepository=t,n.domainEventPublisher=e,n}return Ym(t,o),t.prototype.handle=function(t){var e=t.structureId,n=t.fieldId,o=t.externalFilterId,r=t.filterValue,i=this.structureAggregateRepository.getById(e);i.toggleFilter(n,o,r),this.structureAggregateRepository.save(i),this.domainEventPublisher.publish(new Jh(e))},t=Jm([b.Injectable(),Zm("design:paramtypes",[sl,xt])],t)}(Ct),eb=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},nb=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ob=function(){function t(t){this.domainEventPublisher=t}return t.prototype.publish=function(t){var e=this;t.forEach(function(t){e.publishEvent(t)})},t.prototype.publishEvent=function(t){if("StructureOriginChangedAggregateEvent"===t.getType()){var e=t,n=new Xh(e.getAggregateId(),e.getOrigin());this.domainEventPublisher.publish(n)}if("StructureSourceItemEditedAggregateEvent"===t.getType()){var o=t;n=new Yf(o.getAggregateId(),o.getBeforeItem(),o.getAfterItem());this.domainEventPublisher.publish(n)}if("StructureAggregationsChangedAggregateEvent"===t.getType()){var r=t;n=new Id(r.getAggregateId(),r.getAggregations());this.domainEventPublisher.publish(n)}},t=eb([b.Injectable(),nb("design:paramtypes",[xt])],t)}(),rb=(sg=function(t,e){return(sg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}sg(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ib=function(o){function t(t,e){var n=o.call(this,t,"StructureAggregationEnabledSetEvent")||this;return n.enabled=e,n}return rb(t,o),t}(Tt),cb=(pg=function(t,e){return(pg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}pg(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ub=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},ab=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},sb=function(i){function t(t,e,n,o){var r=i.call(this,bf)||this;return r.structureAggregateRepository=t,r.structureAggregateFactory=e,r.structureSourceDomainEventPublisher=n,r.domainEventPublisher=o,r}return cb(t,i),t.prototype.handle=function(t){var e=t.structureId,n=t.enabled,o=this.structureAggregateRepository.getById(e),r=o.setAggregationEnabled(n);this.structureAggregateRepository.save(o),this.domainEventPublisher.publish(new ib(e,n)),this.structureSourceDomainEventPublisher.publish(r)},t=ub([b.Injectable(),ab("design:paramtypes",[sl,cm,ob,xt])],t)}(Ct),pb=function(){function t(){}return t.prototype.calculate=function(t,e){var i=this,n=t.filter(function(t){return i.forDataType(t.getDataType())});if(!n||0===n.length||0===e.length)return null;var c=new Map,u=new Map;n.forEach(function(t){var e=t.getKey();c.set(e,0),u.set(e,new Set),i.prepare(t)}),e.forEach(function(r){n.forEach(function(t){var e=t.getKey(),n=t.getValue(r);if(null!==n||void 0!==n||""!==n){if(t.isAggregation(j.COUNT)){var o=c.get(e);c.set(e,o+1)}if(t.isAggregation(j.DISTINCT))u.get(e).add(n)}i.aggregate(t,n)})}),n.forEach(function(t){i.postCalculate(t,e)});var o=new Map;return n.forEach(function(t){var e=t.getId().getId(),n=i.generateAggregatedValues(t);t.isAggregation(j.COUNT)&&n.setCount(c.get(e)),t.isAggregation(j.DISTINCT)&&n.setDistinct(u.get(e).size),o.set(e,n)}),o},t}(),fb=function(){function t(){}return t.prototype.setCount=function(t){this.count=t},t.prototype.setDistinct=function(t){this.distinct=t},t}(),lb=(fg=function(t,e){return(fg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}fg(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),gb=function(o){function t(t,e){var n=o.call(this)||this;return n.truthy=t,n.falsy=e,n}return lb(t,o),t}(fb),db=(lg=function(t,e){return(lg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}lg(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),hb=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},yb=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},mb=function(e){function t(){var t=e.call(this)||this;return t.truthy=new Map,t.falsy=new Map,t}return db(t,e),t.prototype.forDataType=function(t){return t===R.BOOLEAN},t.prototype.aggregate=function(t,e){var n=e,o=t.getKey(),r=this.truthy.get(o),i=this.falsy.get(o);n?t.isAggregation(j.TRUTHY)&&this.truthy.set(o,r+1):t.isAggregation(j.FALSY)&&this.falsy.set(o,i+1)},t.prototype.generateAggregatedValues=function(t){var e=t.getKey();return new gb(this.truthy.get(e),this.falsy.get(e))},t.prototype.prepare=function(t){var e=t.getKey();t.isAggregation(j.TRUTHY)&&this.truthy.set(e,0),t.isAggregation(j.FALSY)&&this.falsy.set(e,0)},t.prototype.postCalculate=function(t,e){},t=hb([b.Injectable(),yb("design:paramtypes",[])],t)}(pb),bb=(gg=function(t,e){return(gg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}gg(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),vb=function(t){function e(){return t.call(this)||this}return bb(e,t),e}(fb),Ob=(dg=function(t,e){return(dg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}dg(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Rb=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},_b=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},jb=function(t){function e(){return t.call(this)||this}return Ob(e,t),e.prototype.forDataType=function(t){return t===R.DATE},e.prototype.aggregate=function(t,e){},e.prototype.generateAggregatedValues=function(t){return new vb},e.prototype.prepare=function(t){},e.prototype.postCalculate=function(t,e){},e=Rb([b.Injectable(),_b("design:paramtypes",[])],e)}(pb),wb=(hg=function(t,e){return(hg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}hg(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Cb=function(c){function t(t,e,n,o,r){var i=c.call(this)||this;return i.sum=i.setValueWithPrecision(t),i.min=i.setValueWithPrecision(e),i.max=i.setValueWithPrecision(n),i.average=i.setValueWithPrecision(o),i.median=i.setValueWithPrecision(r),i}return wb(t,c),t.prototype.setValueWithPrecision=function(t){return t||0===t?0===t?0:+t.toFixed(2):null},t}(fb),Pb=(yg=function(t,e){return(yg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}yg(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ab=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Ib=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Eb=function(e){function t(){var t=e.call(this)||this;return t.sum=new Map,t.min=new Map,t.max=new Map,t.average=new Map,t.median=new Map,t}return Pb(t,e),t.prototype.forDataType=function(t){return t===R.NUMBER},t.prototype.aggregate=function(t,e){var n=+e,o=t.getKey(),r=this.sum.get(o),i=this.min.get(o),c=this.max.get(o);(t.isAggregation(j.SUM)||t.isAggregation(j.AVERAGE))&&this.sum.set(o,r+n),t.isAggregation(j.MIN)&&n<i&&this.min.set(o,n),t.isAggregation(j.MAX)&&c<n&&this.max.set(o,n)},t.prototype.generateAggregatedValues=function(t){var e=t.getKey(),n=t.isAggregation(j.SUM)?this.sum.get(e):void 0,o=t.isAggregation(j.MIN)?this.min.get(e):void 0,r=t.isAggregation(j.MAX)?this.max.get(e):void 0,i=t.isAggregation(j.AVERAGE)?this.average.get(e):void 0,c=t.isAggregation(j.MEDIAN)?this.median.get(e):void 0;return new Cb(n,o,r,i,c)},t.prototype.prepare=function(t){var e=t.getKey();this.sum.set(e,0),this.min.set(e,Number.MAX_SAFE_INTEGER),this.max.set(e,0)},t.prototype.postCalculate=function(t,e){var n=t.getKey();t.isAggregation(j.AVERAGE)&&this.average.set(n,this.sum.get(n)/e.length),t.isAggregation(j.MEDIAN)&&this.median.set(n,t.getValue(e[Math.floor(e.length/2)]))},t=Ab([b.Injectable(),Ib("design:paramtypes",[])],t)}(pb),Sb=(mg=function(t,e){return(mg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}mg(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Db=function(t){function e(){return t.call(this)||this}return Sb(e,t),e}(fb),Tb=(bg=function(t,e){return(bg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}bg(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Fb=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Bb=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},xb=function(t){function e(){return t.call(this)||this}return Tb(e,t),e.prototype.forDataType=function(t){return t===R.STRING},e.prototype.aggregate=function(t,e){},e.prototype.generateAggregatedValues=function(t){return new Db},e.prototype.prepare=function(t){},e.prototype.postCalculate=function(t,e){},e=Fb([b.Injectable(),Bb("design:paramtypes",[])],e)}(pb),Nb=(vg=function(t,e){return(vg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}vg(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Mb=function(t){function e(){return t.call(this)||this}return Nb(e,t),e}(fb),Hb=(Og=function(t,e){return(Og=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Og(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),kb=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},zb=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Wb=function(t){function e(){return t.call(this)||this}return Hb(e,t),e.prototype.forDataType=function(t){return t===R.UNKNOWN},e.prototype.aggregate=function(t,e){},e.prototype.generateAggregatedValues=function(t){return new Mb},e.prototype.prepare=function(t){},e.prototype.postCalculate=function(t,e){},e=kb([b.Injectable(),zb("design:paramtypes",[])],e)}(pb);function Vb(t){return{provide:by,useClass:t,multi:!0}}var Ub,Lb,Gb,Qb,$b,Kb,qb,Xb,Yb,Jb,Zb,tv,ev,nv,ov,rv,iv,cv,uv,av,sv,pv,fv=[Vb(mb),Vb(jb),Vb(Eb),Vb(xb),Vb(Wb),Cy],lv=(Ub=function(t,e){return(Ub=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ub(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),gv=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},dv=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},hv=function(n){function t(t){var e=n.call(this)||this;return e.structureFilterRepository=t,e}return lv(t,n),t.prototype.handle=function(t){t instanceof Bm&&this.structureFilterRepository.setEnabled(t.getEnabled(),t.getAggregateId())},t=gv([b.Injectable(),dv("design:paramtypes",[Ig])],t)}(Ot),yv=(Lb=function(t,e){return(Lb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Lb(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),mv=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},bv=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},vv=function(n){function t(t){var e=n.call(this)||this;return e.structureSearchingRepository=t,e}return yv(t,n),t.prototype.handle=function(t){t instanceof zm&&this.structureSearchingRepository.setEnabled(t.getEnabled(),t.getAggregateId())},t=mv([b.Injectable(),bv("design:paramtypes",[md])],t)}(Ot),Ov=(Gb=function(t,e){return(Gb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Gb(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Rv=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},_v=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},jv=function(n){function t(t){var e=n.call(this)||this;return e.structureQuickFilterRepository=t,e}return Ov(t,n),t.prototype.handle=function(t){t instanceof Qm&&this.structureQuickFilterRepository.setEnabled(t.getEnabled(),t.getAggregateId())},t=Rv([b.Injectable(),_v("design:paramtypes",[Dg])],t)}(Ot),wv=function(){function t(t,e){this.id=t,this.dataType=e}return t.prototype.getId=function(){return this.id.getId()},t.prototype.getDataType=function(){return this.dataType},t}(),Cv=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Pv=function(){function t(){}return t.prototype.convert=function(t){var e=this;return t.map(function(t){return e.convertOne(t)})},t.prototype.convertOne=function(t){return new wv(t.getId(),t.getDataType())},t=Cv([b.Injectable()],t)}(),Av=(Qb=function(t,e){return(Qb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Qb(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Iv=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Ev=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Sv=function(o){function t(t,e){var n=o.call(this)||this;return n.structureFieldsRepository=t,n.structureFieldUiConverter=e,n}return Av(t,o),t.prototype.handle=function(t){if(t instanceof gu){var e=this.structureFieldUiConverter.convert(t.getFields());this.structureFieldsRepository.set(t.getAggregateId(),e)}},t=Iv([b.Injectable(),Ev("design:paramtypes",[_p,Pv])],t)}(Ot),Dv=($b=function(t,e){return($b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}$b(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Tv=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Fv=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Bv=function(o){function t(t,e){var n=o.call(this,De,Vh,e)||this;return n.structureAggregateRepository=t,n}return Dv(t,o),t.prototype.handle=function(t){var e=t.payload,n=t.structureId,o=this.structureAggregateRepository.getById(n);o.changePaging(e),this.structureAggregateRepository.save(o)},t=Tv([b.Injectable(),Fv("design:paramtypes",[sl,xt])],t)}(Ct),xv=(Kb=function(t,e){return(Kb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Kb(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Nv=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Mv=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Hv=function(o){function t(t,e){var n=o.call(this,xe,kf,e)||this;return n.structureAggregateRepository=t,n}return xv(t,o),t.prototype.handle=function(t){var e=t.structureId,n=this.structureAggregateRepository.getById(e);n.nextPage(),this.structureAggregateRepository.save(n)},t=Nv([b.Injectable(),Mv("design:paramtypes",[sl,xt])],t)}(Ct),kv=(qb=function(t,e){return(qb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}qb(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),zv=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Wv=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Vv=function(o){function t(t,e){var n=o.call(this,Me,Wf,e)||this;return n.structureAggregateRepository=t,n}return kv(t,o),t.prototype.handle=function(t){var e=t.structureId,n=this.structureAggregateRepository.getById(e);n.prevPage(),this.structureAggregateRepository.save(n)},t=zv([b.Injectable(),Wv("design:paramtypes",[sl,xt])],t)}(Ct),Uv=(Xb=function(t,e){return(Xb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Xb(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Lv=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Gv=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Qv=function(o){function t(t,e){var n=o.call(this,Fe)||this;return n.structureAggregateRepository=t,n.domainEventPublisher=e,n}return Uv(t,o),t.prototype.handle=function(t){var e=t.pageSize,n=t.structureId,o=this.structureAggregateRepository.getById(n),r=o.changePageSize(e);this.structureAggregateRepository.save(o),r.forEach(function(t){t.aggregateId=n}),this.publishAggregateEvents(r,t)},t.prototype.publishAggregateEvents=function(t,e){for(var n=0,o=t;n<o.length;n++){var r=o[n];this.publishAggregateEvent(r,e)}},t.prototype.publishAggregateEvent=function(t,e){switch(t.getType()){case"PageChangedAggregateEvent":var n=new Uf(e.getAggregateId());this.domainEventPublisher.publish(n);break;case"PagesizeChangedAggregateEvent":var o=new Gf(e.getAggregateId());this.domainEventPublisher.publish(o)}},t=Lv([b.Injectable(),Gv("design:paramtypes",[sl,xt])],t)}(Ct),$v=[ze,{provide:ft,useClass:Bv,multi:!0},{provide:ft,useClass:Hv,multi:!0},{provide:ft,useClass:Vv,multi:!0},{provide:ft,useClass:Qv,multi:!0}].concat([je],[Bu,uh,Ue,Ee,Kf]),Kv=(Yb=function(t,e){return(Yb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Yb(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),qv=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},Xv=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Yv=function(o){function t(t,e){var n=o.call(this,Qu,Bh,e)||this;return n.structureAggregateRepository=t,n}return Kv(t,o),t.prototype.handle=function(t){var e=t.enabled,n=t.structureId,o=this.structureAggregateRepository.getById(n);o.getSchema().setVerticalGrid(e),this.structureAggregateRepository.save(o)},t=qv([b.Injectable(),Xv("design:paramtypes",[sl,xt])],t)}(Ct),Jv=(Jb=function(t,e){return(Jb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Jb(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Zv=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},tO=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},eO=function(o){function t(t,e){var n=o.call(this,Ku,Th,e)||this;return n.structureAggregateRepository=t,n}return Jv(t,o),t.prototype.handle=function(t){var e=t.enabled,n=t.structureId,o=this.structureAggregateRepository.getById(n);o.getSchema().setHorizontalGrid(e),this.structureAggregateRepository.save(o)},t=Zv([b.Injectable(),tO("design:paramtypes",[sl,xt])],t)}(Ct),nO=(Zb=function(t,e){return(Zb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Zb(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),oO=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},rO=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},iO=function(o){function t(t,e){var n=o.call(this,Xu,Sh,e)||this;return n.structureAggregateRepository=t,n}return nO(t,o),t.prototype.handle=function(t){var e=t.theme,n=t.structureId,o=this.structureAggregateRepository.getById(n);o.getSchema().setTheme(e),this.structureAggregateRepository.save(o)},t=oO([b.Injectable(),rO("design:paramtypes",[sl,xt])],t)}(Ct),cO=(tv=function(t,e){return(tv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}tv(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),uO=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},aO=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},sO=function(o){function t(t,e){var n=o.call(this,na,Hh,e)||this;return n.structureAggregateRepository=t,n}return cO(t,o),t.prototype.handle=function(t){var e=t.enabled,n=t.structureId,o=this.structureAggregateRepository.getById(n);o.getSchema().setHeaderBottom(e),this.structureAggregateRepository.save(o)},t=uO([b.Injectable(),aO("design:paramtypes",[sl,xt])],t)}(Ct),pO=(ev=function(t,e){return(ev=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ev(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),fO=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},lO=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},gO=function(o){function t(t,e){var n=o.call(this,ta,Nh,e)||this;return n.structureAggregateRepository=t,n}return pO(t,o),t.prototype.handle=function(t){var e=t.enabled,n=t.structureId,o=this.structureAggregateRepository.getById(n);o.getSchema().setHeaderTop(e),this.structureAggregateRepository.save(o)},t=fO([b.Injectable(),lO("design:paramtypes",[sl,xt])],t)}(Ct),dO=(nv=function(t,e){return(nv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}nv(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),hO=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},yO=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},mO=function(o){function t(t,e){var n=o.call(this,Ju,zh,e)||this;return n.structureAggregateRepository=t,n}return dO(t,o),t.prototype.handle=function(t){var e=t.coloring,n=t.structureId,o=this.structureAggregateRepository.getById(n);o.getSchema().setRowColoring(e),this.structureAggregateRepository.save(o)},t=hO([b.Injectable(),yO("design:paramtypes",[sl,xt])],t)}(Ct),bO=(ov=function(t,e){return(ov=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ov(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),vO=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},OO=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},RO=function(o){function t(t,e){var n=o.call(this,Lu,Ih,e)||this;return n.structureAggregateRepository=t,n}return bO(t,o),t.prototype.handle=function(t){var e=t.height,n=t.structureId,o=this.structureAggregateRepository.getById(n);o.setHeight(e),this.structureAggregateRepository.save(o)},t=vO([b.Injectable(),OO("design:paramtypes",[sl,xt])],t)}(Ct),_O=[ia,{provide:ft,useClass:RO,multi:!0},{provide:ft,useClass:Yv,multi:!0},{provide:ft,useClass:eO,multi:!0},{provide:ft,useClass:iO,multi:!0},{provide:ft,useClass:sO,multi:!0},{provide:ft,useClass:gO,multi:!0},{provide:ft,useClass:mO,multi:!0}].concat([aa],[ih,da,fa]),jO=(rv=function(t,e){return(rv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}rv(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),wO=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},CO=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},PO=function(o){function t(t,e){var n=o.call(this,rs,Lh,e)||this;return n.structureAggregateRepository=t,n}return jO(t,o),t.prototype.handle=function(t){t.payload;var e=t.structureId,n=this.structureAggregateRepository.getById(e);this.structureAggregateRepository.save(n)},t=wO([b.Injectable(),CO("design:paramtypes",[sl,xt])],t)}(Ct),AO=(iv=function(t,e){return(iv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}iv(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),IO=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},EO=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},SO=function(o){function t(t,e){var n=o.call(this,cs,nl,e)||this;return n.structureAggregateRepository=t,n}return AO(t,o),t.prototype.handle=function(t){var e=t.selectedRow,n=t.structureId,o=this.structureAggregateRepository.getById(n);o?(o.getFormation().toggleRow(e),this.structureAggregateRepository.save(o)):console.error("There is no aggregate 'Structure' for aggregateId: "+n)},t=IO([b.Injectable(),EO("design:paramtypes",[sl,xt])],t)}(Ct),DO=[ss,{provide:ft,useClass:PO,multi:!0},{provide:ft,useClass:SO,multi:!0}].concat([vs],[il,th,ls,_s]),TO=(cv=function(t,e){return(cv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}cv(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),FO=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},BO=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},xO=function(o){function t(t,e){var n=o.call(this,Ms)||this;return n.structureAggregateRepository=t,n.structureSourceDomainEventPublisher=e,n}return TO(t,o),t.prototype.handle=function(t){var e=t.structureId,n=t.items,o=this.structureAggregateRepository.getById(e);if(o){var r=o.setOrigin(n);this.structureAggregateRepository.save(o),this.structureSourceDomainEventPublisher.publish(r)}else console.error("There is no aggregate 'Structure' for aggregateId: "+e)},t=FO([b.Injectable(),BO("design:paramtypes",[sl,ob])],t)}(Ct),NO=(uv=function(t,e){return(uv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}uv(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),MO=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},HO=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},kO=function(r){function t(t,e,n){var o=r.call(this,ks)||this;return o.structureAggregateRepository=t,o.domainEventPublisher=e,o.structureSourceDomainEventPublisher=n,o}return NO(t,r),t.prototype.handle=function(t){var e=t.getAggregateId(),n=t.getParams(),o=this.structureAggregateRepository.getById(e),r=o.editItem(n);this.structureAggregateRepository.save(o),this.structureSourceDomainEventPublisher.publish(r)},t=MO([b.Injectable(),HO("design:paramtypes",[sl,xt,ob])],t)}(Ct),zO=(av=function(t,e){return(av=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}av(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),WO=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},VO=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},UO=function(n){function t(t){var e=n.call(this)||this;return e.structureSourceOriginRepository=t,e}return zO(t,n),t.prototype.handle=function(t){if(t instanceof Xh){var e=t.getOrigin();this.structureSourceOriginRepository.setOrigin(e,t.getAggregateId())}},t=WO([b.Injectable(),VO("design:paramtypes",[Qe])],t)}(Ot),LO=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},GO=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},QO=function(){function t(t){this.structureRepository=t}return t.prototype.select=function(e){return this.structureRepository.select(e).pipe(a.filter(function(t){return t.getId().toString()===e.toString()}),a.map(function(t){return t.getSchema()}))},t=LO([b.Injectable(),GO("design:paramtypes",[Zt])],t)}(),$O=(sv=function(t,e){return(sv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}sv(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),KO=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},qO=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},XO=function(o){function t(t,e){var n=o.call(this,xs,Ph,e)||this;return n.structureAggregateRepository=t,n}return $O(t,o),t.prototype.handle=function(t){var e=t.enabled,n=t.structureId,o=this.structureAggregateRepository.getById(n);o.getSource().setLoading(e),this.structureAggregateRepository.save(o)},t=KO([b.Injectable(),qO("design:paramtypes",[sl,xt])],t)}(Ct),YO=[Vs,ly,{provide:ft,useClass:XO,multi:!0},{provide:ft,useClass:xO,multi:!0},{provide:ft,useClass:kO,multi:!0},ob].concat([QO,{provide:Mt,useClass:UO,multi:!0},Qe],[ph,Sp,qe,tl]),JO=oy.concat([{provide:ft,useClass:pm,multi:!0},{provide:ft,useClass:dm,multi:!0},{provide:ft,useClass:bm,multi:!0},{provide:ft,useClass:_m,multi:!0},{provide:ft,useClass:Pm,multi:!0},{provide:ft,useClass:Tm,multi:!0},{provide:ft,useClass:Hm,multi:!0},{provide:ft,useClass:Lm,multi:!0},{provide:ft,useClass:Xm,multi:!0},{provide:ft,useClass:tb,multi:!0},{provide:ft,useClass:sb,multi:!0},my,qy,Sy,Dy,Fs,Gy],fv),ZO=[{provide:Mt,useClass:hv,multi:!0},{provide:Mt,useClass:vv,multi:!0},{provide:Mt,useClass:jv,multi:!0},{provide:Mt,useClass:Sv,multi:!0}].concat(ry,[gh,Bg,Ig,Dg,md,Od,_p,Pv,Cp]),tR=iy.concat(JO,ZO,[Rf,Dd,cm,bh,dp,up],$v,_O,DO,YO),eR=(pv=function(t,e){return(pv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}pv(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),nR=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return eR(e,t),e.prototype.warn=function(t){console.warn(t)},e.prototype.error=function(t){console.error(t)},e}(To),oR=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},rR=function(){function t(){}return t=oR([b.NgModule({providers:[{provide:To,useClass:nR}]})],t)}(),iR=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},cR=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};var uR=[n.CommonModule,o.ReactiveFormsModule,fe].concat(me,[bn,xn,Cu,rR]),aR=[_g,Hg,Cg,Wg,Gg,qg,Zg,od,ad,ld,dd,Pd,xd,ge],sR=[ge],pR=[{provide:Rd,useValue:"structure"},{provide:Y,useFactory:function(){return(new Y.DefaultBuilder).build()}},kd,qe,Pu,yf,ye].concat(tR),fR=[r.FabricModule,_g,Hg,qg,Zg,ad,ld].concat(me,[bn]),lR=function(){function t(){window.hermesApi.loggers=!1}var e;return(e=t).withConfig=function(t){return void 0===t&&(t={cssClassName:"",hermesModuleConfig:{loggers:!1}}),{ngModule:e,providers:[{provide:Rd,useValue:t.cssClassName},{provide:Gt,useValue:t.hermesModuleConfig.loggers},{provide:Qt,useValue:t.hermesModuleConfig.loggers}].concat(pR)}},t.exportDeclarations=fR.slice(),t=e=iR([b.NgModule({imports:uR,declarations:aR,exports:fR,entryComponents:sR}),cR("design:paramtypes",[])],t)}(),gR=function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(c=(i<3?r(c):3<i?r(e,n,c):r(e,n))||c);return 3<i&&c&&Object.defineProperty(e,n,c),c},dR=[lR.withConfig({cssClassName:"grid",hermesModuleConfig:{loggers:!0}})],hR=[pt],yR=[nt,rt],mR=[pt],bR=[],vR=[pt],OR=function(){function t(){}return t.entryComponents=bR.slice(),t.exportDeclarations=mR.slice(),t.elementComponents=vR.slice(),t=gR([b.NgModule({imports:dR,declarations:hR,providers:yR,exports:mR,entryComponents:bR})],t)}();e.GridComponent=pt,e.GridModule=OR,Object.defineProperty(e,"__esModule",{value:!0})});
