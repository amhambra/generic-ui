{"version":3,"file":"generic-ui-ngx-grid.umd.js","sources":["../../../../../node_modules/tslib/tslib.es6.js","ng://@generic-ui/ngx-grid/gui/grid/ui-api/grid.api.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/field/data-type/data-type.ts","ng://@generic-ui/ngx-grid/gui/grid/ui/grid/column/grid.column-type.converter.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/aggregation/aggregation.type.ts","ng://@generic-ui/ngx-grid/gui/grid/ui/grid/column/grid.column-aggregation.converter.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/cell-view.ts","ng://@generic-ui/ngx-grid/gui/grid/ui/grid/column/grid.column-view.converter.ts","ng://@generic-ui/ngx-grid/gui/grid/ui/grid/column/grid.column.converter.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/schema/schema-theme.ts","ng://@generic-ui/ngx-grid/gui/grid/ui/grid/theme/grid.theme.converter.ts","ng://@generic-ui/ngx-grid/lib/structure/ui-api/schema/row-coloring.ts","ng://@generic-ui/ngx-grid/gui/grid/ui/grid/coloring/grid.row-coloring.converter.ts","ng://@generic-ui/ngx-grid/gui/grid/ui/grid/column/menu/grid.column-menu.converter.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/paging/mode/paging-display-mode.ts","ng://@generic-ui/ngx-grid/gui/grid/ui/grid/paging/grid.paging.converter.ts","ng://@generic-ui/ngx-grid/gui/grid/ui/grid/grid-gateway.ts","ng://@generic-ui/ngx-grid/common/cdk/generic-builder.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/paging/structure-paging-definition.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/structure-definition.ts","ng://@generic-ui/ngx-grid/gui/grid/ui/grid/grid-structure-definition.ts","ng://@generic-ui/ngx-grid/gui/grid/ui/grid/grid.providers.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/structure-parent-component.ts","ng://@generic-ui/ngx-grid/gui/grid/ui/grid/register/grid-id.generator.ts","ng://@generic-ui/ngx-grid/gui/grid/ui/grid/register/grid.register.ts","ng://@generic-ui/ngx-grid/gui/grid/ui/grid/console/grid.console.api.ts","ng://@generic-ui/ngx-grid/gui/grid/ui/grid/grid.component.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/structure-fabric.imports.ts","ng://@generic-ui/ngx-grid/common/cdk/reactive.ts","ng://@generic-ui/ngx-grid/common/cdk/smart-component.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/read/structure.repository.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/paging/read/paging.repository.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure-id.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/global-structure-id.ts","ng://@generic-ui/ngx-grid/lib/structure/ui-api/paging/paging-read-model.service.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/paging/command/set/set-paging.command.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/paging/command/change-pagesize/change-pagesize.command.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/paging/command/next-page/next-page.command.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/paging/command/prev-page/prev-page.command.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/paging/command/paging.dispatcher.ts","ng://@generic-ui/ngx-grid/lib/structure/ui-api/paging/paging-command.service.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/source/read/origin/structure.source-origin.repository.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/source/read/prepared/structure.prepared-items.repository.ts","ng://@generic-ui/ngx-grid/lib/structure/ui-api/source/source-read-model.service.ts","ng://@generic-ui/ngx-grid/common/cdk/archive.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/paging/mode/structure-paging.display-mode.archive.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/paging/structure-paging.component.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/paging/read/paging.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/paging/navigator/structure-paging-navigator.component.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/paging/select/structure-paging-select.component.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/paging/stats/structure-paging-stats.component.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/paging/alternative-paging/navigator/structure-alternative-paging-navigator.component.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/paging/alternative-paging/pages/structure-alternative-paging-pages.component.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/paging/structure-paging.module.ts","ng://@generic-ui/ngx-grid/common/cdk/number-formatter/number-formatter.pipe.ts","ng://@generic-ui/ngx-grid/common/cdk/number-formatter/number-formatter.module.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/panel/info/structure-info-modal.component.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/init/structure-inited.event.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/vertical-formation/set-enabled/vertical-scroll-enabled-set.event.ts","ng://@generic-ui/ngx-grid/lib/structure/infrastructure/in-memory/structure/in-memory.structure.store.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/formation/read/selected-rows/selected-rows-list.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/formation/read/formation.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/formation/formation.converter.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/schema/read/schema-css-class.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/schema/read/schema.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/schema/read/schema-column-header.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/schema/schema.converter.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/paging/paging.converter.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/source/read/source.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/source/source.converter.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/read/vertical-formation/vertical-formation.read-model.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/read/vertical-formation/vertical-formation.converter.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/read/structure.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/source/item.entity.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/structure.converter.ts","ng://@generic-ui/ngx-grid/lib/structure/infrastructure/in-memory/structure/read/in-memory-structure.read-store.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/vertical-formation/set-row-height/row-height-set.event.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/read/vertical-formation/vertical-formation.repository.ts","ng://@generic-ui/ngx-grid/lib/structure/ui-api/structure/structure-read-model.service.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/panel/info/structure.info-panel.component.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/panel/info/structure.info-panel.module.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/read/view/view-templates.component.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/read/edit/changed-value.emitter.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/read/edit/state/edit.event-type.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/read/edit/edit-communication.component.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/read/edit/template/input-edit-template.component.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/read/edit/template/number-edit-template.component.ts","ng://@generic-ui/ngx-grid/common/cdk/decorators.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/read/edit/template/string-edit-template.component.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/read/edit/edit-templates.component.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/read/edit/template/boolean-edit-template.component.ts","ng://@generic-ui/ngx-grid/lib/composition/ui/column-query.component.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/read/view/function-view.component.ts","ng://@generic-ui/ngx-grid/lib/composition/infrastructure/in-memory/in-memory.composition.store.ts","ng://@generic-ui/ngx-grid/lib/composition/infrastructure/in-memory/command/in-memory.composition.aggregate-store.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/composition.aggregate-repository.ts","ng://@generic-ui/ngx-grid/lib/composition/infrastructure/in-memory/command/in-memory.composition.aggregate-repository.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/read/template/template.factory.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/read/view/view-template.factory.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/read/view/view-template.repository.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/read/edit/edit-template.factory.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/read/edit/edit-template.repository.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/column/sort/sort-status.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/column/view.entity.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/column/column.entity.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/read/definition/cell-template-with-context.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/read/definition/cell-context.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/field/data-type/field.id.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/read/definition/cell-template-with-accessor.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/read/definition/column-definition.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/read/definition/column-definition.factory.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/read/composition.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/composition.converter.ts","ng://@generic-ui/ngx-grid/lib/composition/infrastructure/in-memory/read/in-memory.composition.read-store.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/read/composition.repository.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/init/composition-inited.event.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/width/resize-width/composition-resize-width-set.event.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/column/set-columns/composition.columns-set.event.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/width/set-container-width/composition-container-width-set.event.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/width/set-width/composition-width-set.event.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/column/sort/composition-change-sort-status.event.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/column/set-enabled/composition.column-set-enabled.event.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/column/move/left/composition.column-moved-left.event.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/column/move/right/composition.column-moved-right.event.ts","ng://@generic-ui/ngx-grid/lib/composition/infrastructure/in-memory/read/in-memory.composition.repository.ts","ng://@generic-ui/ngx-grid/lib/composition/infrastructure/in-memory/in-memory.composition.providers.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/column/column.id.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/column/column-entity.factory.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/width/composition-container-width.calculator.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/width/set-width/composition-width-set.aggregate-event.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/width/set-container-width/composition-container-width-set.aggregate-event.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/width/resize-width/composition-resize-width-set.aggregate-event.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/column/set-enabled/composition.column-set-enabled.aggregate-event.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/column/column-width/column-width-type.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/column/column-width/column-width.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/width/composition-width.calculator.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/column/column-width/column-width-collection.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/column/sort/composition-change-sort-status.aggregate-event.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/column/active/active-column.container.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/column/active/active-column.entity.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/column/active/active-column.entity-converter.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/column/move/left/composition.column-moved-left.aggregate-event.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/column/move/right/composition.column-moved-right.aggregate-event.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/column/set-columns/columns-set.aggregate-event.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/composition.aggregate.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/composition.aggregate-factory.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/init/init-composition.command.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/column/set-columns/set-columns.command.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/width/set-width/set-composition-width.command.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/width/set-container-width/set-composition-container-width.command.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/width/resize-width/set-composition-resize-width.command.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/column/sort/composition-change-sort-status.command.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/column/set-enabled/composition.set-column-enabled.command.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/column/move/left/composition.move-left-column.command.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/column/move/right/composition.move-right-column.command.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/composition.dispatcher.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/init/init-composition.command-handler.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/composition.events.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/composition-event.converter.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/column/set-columns/set-columns.command-handler.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/width/set-width/set-composition-width.command-handler.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/width/resize-width/set-composition-resize-width.command-handler.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/width/set-container-width/set-composition-container-width.command-handler.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/column/sort/composition-change-sort-status.command-handler.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/column/field/column-field.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/column/field/colum-field.factory.ts","ng://@generic-ui/ngx-grid/lib/composition/ui-api/composition.event-service.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/composition-id.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/global-composition-id.ts","ng://@generic-ui/ngx-grid/lib/composition/ui-api/composition-read-model.service.ts","ng://@generic-ui/ngx-grid/lib/composition/ui-api/composition.command-service.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/sort/toggle/sort-toggled.event.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/column/field/column-field.id.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/column/sort/change-sort.params.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/sort/order/sort-order-set.event.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/column/sort/composition-change-sort-status.event-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/field/init/fields-inited.event.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/column/set-columns/column.params.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/column/set-columns/composition-fields-inited.event-handler.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/column/set-enabled/composition.set-column-enabled.command-handler.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/column/move/left/composition.move-left-column.command-handler.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/command/column/move/right/composition.move-right-column.command-handler.ts","ng://@generic-ui/ngx-grid/lib/composition/ui-api/composition.providers.ts","ng://@generic-ui/ngx-grid/lib/composition/ui-api/composition.module.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/structure-id.generator.ts","ng://@generic-ui/ngx-grid/common/cdk/logger/logger.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/paging/command/page/page-changed.aggregate-event.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/paging/command/pagesize/pagesize-changed.aggregate-event.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/paging/command/paging.aggregate.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/paging/command/paging.aggregate-factory.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/local/paging/local-paging-command.service.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/local/paging/local-paging-read-model.service.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/schema/command/set/set-schema.command.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/schema/command/grid/vertical/set-schema-vertical-grid.command.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/schema/command/grid/horizontal/set-schema-horizontal-grid.command.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/schema/command/theme/set-schema-theme.command.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/schema/command/coloring/set/set-row-coloring.command.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/schema/command/column-header/top/change-schema-top-header.command.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/schema/command/column-header/bottom/change-schema-bottom-header.command.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/schema/command/schema.dispatcher.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/schema/read/schema-repository.ts","ng://@generic-ui/ngx-grid/lib/structure/ui-api/schema/schema-read-model.service.ts","ng://@generic-ui/ngx-grid/lib/structure/ui-api/schema/schema-command.service.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/schema/schema-row-coloring.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/local/schema/local-schema-command.service.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/local/schema/local-schema-read-model.service.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/formation/command/set/set-formation.command.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/formation/command/toggle/toggle-selected-row.command.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/formation/command/formation.dispatcher.ts","ng://@generic-ui/ngx-grid/lib/structure/ui-api/formation/formation-command.service.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/local/formation/local-formation-command.service.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/formation/read/formation-repository.ts","ng://@generic-ui/ngx-grid/lib/structure/ui-api/formation/formation-read-model.service.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/local/formation/local-formation-read-model.service.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/filter/config/structure.set-config-filter.command.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/filter/toggle/structure.toggle-filter.command.ts","ng://@generic-ui/ngx-grid/lib/structure/ui-api/structure/filter/structure.filter.command.service.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/source/command/loading/source-set-loading.command.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/source/command/origin/set-origin/set-origin.command.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/source/command/origin/edit/structure.edit-source-item.command.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/source/command/source.dispatcher.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/init/init-structure.command.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/vertical-formation/set-enabled/set-vertical-scroll-enabled.command.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/vertical-formation/scroll-position/set-scroll-position.command.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/sort/set-config/set-sorting.command.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/sort/toggle/toggle-sort.command.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/filter/quick/structure.set-config-quick-filter.command.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/search/config/structure.set-config-searching.command.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/field/init/init-fields.command.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/search/set/structure.set-search-phrase.command.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/sort/order/set-sort-order.command.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/vertical-formation/set-row-height/set-row-height.command.ts","ng://@generic-ui/ngx-grid/lib/structure/ui-api/structure/structure-command.service.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/local/structure/local-structure-command.service.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/local/structure/local-structure-read-model.service.ts","ng://@generic-ui/ngx-grid/lib/structure/ui-api/structure/field/structure.field.ui-archive.ts","ng://@generic-ui/ngx-grid/lib/structure/ui-api/structure/field/structure.field.ui-repository.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/source/command/origin/edit/structure.edit-source-item.params.ts","ng://@generic-ui/ngx-grid/lib/structure/ui-api/source/source-command.service.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/local/source/local-source-command.service.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/local/source/local-source-read-model.service.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/local/composition/local-composition-command.service.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/local/composition/local-composition-read-model.service.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/local/local-providers.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/schema/schema-css-class.manager.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/edit/structure.cell-edit.archive.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/edit/structure.cell-edit.store.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/edit/structure.edit-mode.archive.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/panel/info/structure.info-panel-enabled.archive.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/panel/aggregation/structure.aggregation-panel.config.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/panel/aggregation/structure.aggregation.archive.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/panel/aggregation/structure.aggregation-panel.config-converter.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/aggregation/set/structure.set-aggregation-enabled.command.ts","ng://@generic-ui/ngx-grid/lib/structure/ui-api/structure/aggregation/structure.aggregation.command-service.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/panel/aggregation/structure.aggregation-config.service.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/structure-component-token.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/edit/structure.cell-edit.state.ts","ng://@generic-ui/ngx-grid/lib/structure/ui-api/structure/column-menu-config.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/gateway/structure.gateway.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/paging/command/next-page/next-page.event.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/paging/command/prev-page/prev-page.event.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/paging/command/page/page-changed.event.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/paging/command/change-pagesize/pagesize-changed.event.ts","ng://@generic-ui/ngx-grid/lib/structure/ui-api/paging/paging-event.service.ts","ng://@generic-ui/ngx-grid/lib/structure/ui-api/source/event/editem-item.values.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/source/command/origin/edit/structure.source-item-edited.event.ts","ng://@generic-ui/ngx-grid/lib/structure/ui-api/source/event/source-event.service.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/formation/command/toggle/selected-row-toggled.event.ts","ng://@generic-ui/ngx-grid/lib/structure/ui-api/formation/formation-event.service.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/header/menu/config/structure.column-menu-config.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/header/menu/config/structure.column-menu-config.archive.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/structure.component.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/header/menu/structure.column-config.component.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/header/menu/structure.column-config.service.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/header/columns/structure-header-columns.component.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/read/filter/structure.filter.repository.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/read/filter/structure.quick-filter.repository.ts","ng://@generic-ui/ngx-grid/lib/structure/ui-api/structure/filter/structure.filter.read-model.repository.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/header/filters/structure-header-filters.component.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/header/structure-header.component.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/header/filters/structure.header-filter.component.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/content/structure-content.component.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/content/row/structure-row.component.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/content/cell/structure.cell.component.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/content/structure-container.component.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/header/quick-filters/structure.quick-filters.component.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/read/searching/structure.searching.repository.ts","ng://@generic-ui/ngx-grid/lib/structure/ui-api/structure/search/structure-search.read-model.repository.ts","ng://@generic-ui/ngx-grid/lib/structure/ui-api/structure/structure-tokens.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/blueprint/structure.blueprint.component.ts","ng://@generic-ui/ngx-grid/lib/structure/infrastructure/in-memory/structure/commad/in-memory.structure.aggregate-store.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/structure-aggregate.repository.ts","ng://@generic-ui/ngx-grid/lib/structure/infrastructure/in-memory/structure/commad/in-memory.structure-aggregate.repository.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/source/command/loading/set-source-loading.event.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/schema/command/set/schema-set.event.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/schema/command/theme/schema-theme-set.event.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/schema/command/grid/horizontal/schema-horizontal-grid-set.event.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/schema/command/grid/vertical/schema-vertical-grid-set.event.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/schema/command/column-header/top/schema-top-header-changed.event.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/schema/command/column-header/bottom/schema-bottom-header-changed.event.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/schema/command/coloring/set/row-coloring-set.event.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/paging/command/set/paging-set.event.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/formation/command/set/formation-set.event.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/vertical-formation/scroll-position/scroll-position-set.event.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/source/command/origin/set-origin/origin-set.event.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/filter/toggle/structure.filter-toggled.event.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/search/set/structure.search-phrase-set.domain-event.ts","ng://@generic-ui/ngx-grid/lib/structure/infrastructure/in-memory/structure/read/in-memory.structure.repository.ts","ng://@generic-ui/ngx-grid/lib/structure/infrastructure/in-memory/structure/in-memory.structure.providers.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/source/command/origin/origin-item-entity.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/source/command/origin/edit/structure.source-item-edited.aggregate-event.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/source/command/origin/structure.origin-changed.aggregate-event.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/source/command/source.manager.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/source/command/source.manager-factory.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/vertical-formation/vertical-range.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/vertical-formation/vertical-formation.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/vertical-formation/vertical-formation.factory.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/aggregation/calculation/aggregation.calculators.token.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/aggregation/structure.aggregations-changed.aggregate-event.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/aggregation/aggregation.manager.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/aggregation/aggregation.manager.factory.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/filter/structure.filter.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/filter/filter.id.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/filter/filter.settings.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/filter/filter.manager.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/filter/filter.manager-factory.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/field/field-id.generator.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/field/data-type/field.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/field/data-type/fields/unknown-field.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/field/data-type/fields/number-field.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/field/data-type/fields/string-field.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/field/data-type/fields/boolean-field.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/field/data-type/fields/date-field.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/field/data-type/field.factory.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/field/field.collection.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/field/field-collection.factory.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/sort/structure.sorter.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/sort/sorter.id.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/sort/sorter.collection.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/formation/command/formation-aggregate.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/schema/command/column-header/column-header.entity.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/schema/command/schema-aggregate.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/search/search.manager.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/source/command/prepared/structure.prepared-entities-set.aggregate-event.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/structure.aggregate.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/schema/command/schema.aggregate-factory.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/formation/command/formation.aggregate-factory.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/search/search.manager-factory.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/structure.aggregate-factory.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/init/init-structure.command-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/vertical-formation/set-enabled/set-vertical-scroll-enabled.command-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/vertical-formation/scroll-position/set-scroll-position.command-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/field/init/init-fields.command-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/sort/toggle/toggle-sort.command-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/sort/set-config/sorting-set.event.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/sort/set-config/set-sorting.command-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/filter/config/structure.config-filter-set.event.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/filter/config/structure.set-config-filter.command-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/search/config/structure.config-searching-set.event.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/search/config/structure.set-config-searching.command-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/filter/quick/structure.config-quick-filter-set.event.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/filter/quick/structure.set-config-quick-filter.command-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/filter/toggle/structure.toggle-filter.command-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/aggregation/structure.aggregations-changed.event.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/source/command/prepared/structure.prepared-entities-set.event.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/source/command/structure.source.domain-event.publisher.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/aggregation/set/structure.aggregation-enabled-set.event.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/aggregation/set/structure.set-aggregation-enabled.command-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/aggregation/calculation/aggregation.calculator.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/aggregation/calculation/aggregated.values.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/aggregation/calculation/boolean/boolean-aggregated.values.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/aggregation/calculation/boolean/boolean-aggregation.calculator.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/aggregation/calculation/date/date-aggregated.values.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/aggregation/calculation/date/date-aggregation.calculator.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/aggregation/calculation/number/number-aggregated.values.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/aggregation/calculation/number/number-aggregation.calculator.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/aggregation/calculation/string/string-aggregated.values.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/aggregation/calculation/string/string-aggregation.calculator.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/aggregation/calculation/unknown/unknown-aggregated.values.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/aggregation/calculation/unknown/unknown-aggregation.calculator.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/aggregation/aggregation.providers.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/read/filter/structure.config-filter-set.event-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/read/searching/structure.config-searching-set.event-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/read/filter/structure.config-quick-filter-set.event-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/ui-api/structure/field/structure.field.ui-model.ts","ng://@generic-ui/ngx-grid/lib/structure/ui-api/structure/field/structure.field.ui-converter.ts","ng://@generic-ui/ngx-grid/lib/structure/ui-api/structure/field/structure.fields-inited.event-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/ui-api/structure/aggregation/structure.aggregation.ui-events-repository.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/paging/command/set/set-paging.command-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/paging/command/next-page/next-page.command-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/paging/command/prev-page/prev-page.command-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/paging/command/change-pagesize/change-pagesize.command-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/ui-api/paging/paging.providers.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/schema/command/grid/vertical/set-schema-vertical-grid.command-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/schema/command/grid/horizontal/set-schema-horizontal-grid.command-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/schema/command/theme/set-schema-theme.command-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/schema/command/column-header/bottom/change-schema-bottom-header.command-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/schema/command/column-header/top/change-schema-top-header.command-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/schema/command/coloring/set/set-row-coloring.command-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/schema/command/set/set-schema.command-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/ui-api/schema/schema.providers.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/formation/command/set/set-formation.command-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/formation/command/toggle/toggle-selected-row.command-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/ui-api/formation/formation.providers.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/source/command/origin/set-origin/set-origin.command-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/source/command/origin/edit/structure.edit-source-item.command-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/source/read/origin/structure.origin-changed.event-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/source/read/source.repository.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/source/command/loading/source-set-loading.command-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/source/read/prepared/structure.prepared-items.event-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/ui-api/source/source.providers.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/search/set/structure.set-search-phrase.command-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/sort/order/set-sort-order.command-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/command/vertical-formation/set-row-height/set-row-height.command-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/ui-api/structure/structure.providers.ts","ng://@generic-ui/ngx-grid/common/cdk/logger/console.logger.ts","ng://@generic-ui/ngx-grid/common/cdk/logger/logger.module.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/source/item.entity-factory.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/panel/top/structure.top-panel.component.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/panel/top/search/structure.search.component.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/panel/top/structure.top-panel.module.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/content/empty-source/structure-empty-source.component.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/header/menu/structure.column-config-trigger.component.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/header/menu/column-manager/structure.menu-column-manager.component.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/header/menu/main/sort/structure.column-config-sort.component.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/header/menu/main/hide/structure.column-config-column-hide.component.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/header/menu/main/move/structure.column-config-column-move.component.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/header/menu/structure.column-menu.module.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/panel/aggregation/structure.aggregation-panel.component.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/panel/aggregation/structure.aggregation-panel.module.ts","ng://@generic-ui/ngx-grid/lib/structure/ui/structure.module.ts","ng://@generic-ui/ngx-grid/gui/grid/ui-api/grid.module.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","export type FieldAccessor = (element?: any) => any;\nexport type ViewTemplateMethod = (cellValue: any) => string;\n\nexport interface GuiColumn {\n\n\tfield?: string | FieldAccessor;\n\n\ttype?: string | GuiDataType;\n\n\tview?: string | GuiCellView | ViewTemplateMethod;\n\n\theader?: string;\n\n\tcustomTemplate?: string;\n\n\twidth?: string | number;\n\n\taggregation?: GuiColumnAggregation;\n}\n\nexport enum GuiDataType {\n\tUNKNOWN,\n\tNUMBER,\n\tSTRING,\n\tBOOLEAN,\n\tDATE,\n\tCUSTOM\n}\n\nexport enum GuiCellView {\n\tTEXT,\n\tCHIP,\n\tLINK,\n\tIMAGE,\n\tBOLD,\n\tITALIC,\n\tCHECKBOX,\n\tCUSTOM\n}\n\nexport enum GuiNumberCellView {\n\tTEXT,\n\tBOLD,\n\tITALIC,\n\tCHIP\n}\n\nexport enum GuiStringCellView {\n\tTEXT,\n\tBOLD,\n\tITALIC,\n\tCHIP\n}\n\nexport enum GuiBooleanCellView {\n\tTEXT,\n\tBOLD,\n\tITALIC,\n\tCHIP,\n\tCHECKBOX\n}\n\nexport enum GuiDateCellView {\n\tTEXT,\n\tBOLD,\n\tITALIC,\n\tCHIP\n}\n\nexport interface GuiPagingConfig {\n\n\tenabled?: boolean;\n\n\tpage?: number;\n\n\tpageSize?: number;\n\n\tpageSizes?: Array<number>;\n\n\tpagerTop?: boolean;\n\n\tpagerBottom?: boolean;\n\n\tdisplay?: string | GuiPagingDisplay;\n\n}\n\nexport enum GuiTheme {\n\tFABRIC,\n\tMATERIAL,\n\tLIGHT,\n\tDARK\n}\n\nexport enum GuiRowColoring {\n\tNONE,\n\tEVEN,\n\tODD\n}\n\nexport interface GuiSorting {\n\n\tenabled?: boolean;\n\n\t/**\n\t * @experimental\n\t */\n\tmultiSorting?: boolean;\n\n}\n\nexport interface GuiFiltering {\n\n\tenabled?: boolean;\n\n}\n\nexport interface GuiQuickFilters {\n\n\tenabled?: boolean;\n\n}\n\nexport interface GuiSearching {\n\n\tenabled?: boolean;\n\n}\n\nexport interface GuiAggregation {\n\n\tenabled?: boolean;\n\n\ttop?: boolean;\n\n\tbottom?: boolean;\n\n}\n\nexport interface GuiColumnAggregation {\n\n\tenabled?: boolean;\n\n\taggregationTypes?: Array<any>;\n}\n\nexport interface GuiColumnMenu {\n\n\tenabled?: boolean;\n\n\tsort?: boolean;\n\n\tfilter?: boolean;\n\n\tcolumnsManager?: boolean;\n\n}\n\nexport enum GuiPagingDisplay {\n\tBASIC,\n\tADVANCED\n}\n","export enum DataType {\n\tUNKNOWN,\n\tNUMBER,\n\tSTRING,\n\tBOOLEAN,\n\tDATE,\n\tCUSTOM\n}\n","import { GuiDataType } from '../../../ui-api/grid.api';\nimport { DataType } from '../../../../../lib/structure/domain/structure/command/field/data-type/data-type';\n\nexport class GridColumnTypeConverter {\n\n\tconvertType(type: string | GuiDataType): DataType {\n\n\t\tif (typeof type === 'string') {\n\t\t\treturn this.convertTypeString(type);\n\t\t} else {\n\t\t\treturn this.convertTypeEnum(type);\n\t\t}\n\t}\n\n\tprivate convertTypeEnum(enumType: GuiDataType): DataType {\n\n\t\tswitch (enumType) {\n\n\t\t\tcase GuiDataType.STRING:\n\t\t\t\treturn DataType.STRING;\n\n\t\t\tcase GuiDataType.NUMBER:\n\t\t\t\treturn DataType.NUMBER;\n\n\t\t\tcase GuiDataType.BOOLEAN:\n\t\t\t\treturn DataType.BOOLEAN;\n\n\t\t\tcase GuiDataType.DATE:\n\t\t\t\treturn DataType.DATE;\n\n\t\t\tcase GuiDataType.UNKNOWN:\n\t\t\t\treturn DataType.UNKNOWN;\n\n\t\t\tcase GuiDataType.CUSTOM:\n\t\t\t\treturn DataType.CUSTOM;\n\n\t\t\tdefault:\n\t\t\t\treturn DataType.STRING;\n\t\t}\n\t}\n\n\tprivate convertTypeString(type: string): DataType {\n\t\tconst loweredType = type.toLocaleLowerCase();\n\n\t\tswitch (loweredType) {\n\n\t\t\tcase 'string':\n\t\t\t\treturn DataType.STRING;\n\n\t\t\tcase 'number':\n\t\t\t\treturn DataType.NUMBER;\n\n\t\t\tcase 'boolean':\n\t\t\t\treturn DataType.BOOLEAN;\n\n\t\t\tcase 'date':\n\t\t\t\treturn DataType.DATE;\n\n\t\t\tcase 'unknown':\n\t\t\t\treturn DataType.UNKNOWN;\n\n\t\t\tcase 'custom':\n\t\t\t\treturn DataType.CUSTOM;\n\n\t\t\tdefault:\n\t\t\t\treturn DataType.STRING;\n\t\t}\n\t}\n\n}\n","export enum AggregationType {\n\tCOUNT = 1 << 10,\n\tDISTINCT = 1 << 0,\n\tSUM = 1 << 1,\n\tAVERAGE = 1 << 2,\n\tMIN = 1 << 3,\n\tMAX = 1 << 4,\n\tMEDIAN = 1 << 5,\n\tTRUTHY = 1 << 6,\n\tFALSY = 1 << 7,\n\tEARLIEST = 1 << 8,\n\tLATEST = 1 << 9,\n}\n\n// count\n// count distinct\n// percentile\n// std.dev\n// std.dev Pop\n// variance\n// variance pop\n","import { ColumnAggregationConfig } from '../../../../../lib/composition/domain/column-aggregation.config';\nimport { AggregationType } from '../../../../../lib/structure/domain/structure/command/aggregation/aggregation.type';\n\nimport { GuiColumnAggregation } from '../../../../../grid.index';\n\n\nexport class GridColumnAggregationConverter {\n\n\tconvert(aggregationConfig: GuiColumnAggregation): ColumnAggregationConfig {\n\t\tlet columnAggregationConfig: ColumnAggregationConfig = {};\n\n\t\tif (aggregationConfig.enabled !== undefined && aggregationConfig.enabled !== null) {\n\t\t\tcolumnAggregationConfig.enabled = aggregationConfig.enabled;\n\t\t}\n\n\t\tif (aggregationConfig.aggregationTypes !== undefined && aggregationConfig.aggregationTypes !== null) {\n\t\t\tcolumnAggregationConfig.aggregationTypes = this.convertAggregationTypes(aggregationConfig.aggregationTypes);\n\t\t}\n\n\t\treturn columnAggregationConfig;\n\t}\n\n\tprivate convertAggregationTypes(configAggregationTypes: Array<string>): Array<AggregationType> {\n\n\t\tconst aggregationTypes: Array<AggregationType> = [];\n\n\t\tconfigAggregationTypes.forEach((type: string) => {\n\n\t\t\tconst aggregationType = this.convertAggregationType(type);\n\n\t\t\tif (aggregationType !== undefined && aggregationType !== null) {\n\t\t\t\taggregationTypes.push(aggregationType);\n\t\t\t}\n\t\t});\n\n\t\treturn aggregationTypes;\n\t}\n\n\tprivate convertAggregationType(type: string): AggregationType {\n\n\t\tconst loweredAggregationType = type.toLocaleLowerCase();\n\n\t\tswitch (loweredAggregationType) {\n\n\t\t\tcase 'count':\n\t\t\t\treturn AggregationType.COUNT;\n\n\t\t\tcase 'distinct':\n\t\t\t\treturn AggregationType.DISTINCT;\n\n\t\t\tcase 'sum':\n\t\t\t\treturn AggregationType.SUM;\n\n\t\t\tcase 'average':\n\t\t\t\treturn AggregationType.AVERAGE;\n\n\t\t\tcase 'min':\n\t\t\t\treturn AggregationType.MIN;\n\n\t\t\tcase 'max':\n\t\t\t\treturn AggregationType.MAX;\n\n\t\t\tcase 'median':\n\t\t\t\treturn AggregationType.MEDIAN;\n\n\t\t\tcase 'truthy':\n\t\t\t\treturn AggregationType.TRUTHY;\n\n\t\t\tcase 'falsy':\n\t\t\t\treturn AggregationType.FALSY;\n\n\t\t\tcase 'earliest':\n\t\t\t\treturn AggregationType.EARLIEST;\n\n\t\t\tcase 'latest':\n\t\t\t\treturn AggregationType.LATEST;\n\n\t\t\tdefault:\n\t\t\t\treturn null;\n\n\t\t}\n\t}\n\n}\n","export enum CellView {\n\tTEXT,\n\tCHIP,\n\tLINK,\n\tIMAGE,\n\tBOLD,\n\tITALIC,\n\tCHECKBOX,\n\tCUSTOM,\n\tFUNCTION\n}\n","import { GuiCellView, ViewTemplateMethod } from '../../../ui-api/grid.api';\nimport { CellView } from '../../../../../lib/composition/domain/cell-view';\n\nexport class GridColumnViewConverter {\n\n\tconvert(view: string | GuiCellView | ViewTemplateMethod): CellView | ViewTemplateMethod {\n\n\t\tif (typeof view === 'string') {\n\t\t\treturn this.convertString(view);\n\t\t} else if (typeof view === 'function') {\n\t\t\treturn view;\n\t\t} else {\n\t\t\treturn this.convertEnum(view);\n\t\t}\n\t}\n\n\tprivate convertString(view: string): CellView {\n\n\t\tconst loweredView = view.toLocaleLowerCase();\n\n\t\tswitch (loweredView) {\n\n\t\t\tcase 'text':\n\t\t\t\treturn CellView.TEXT;\n\n\t\t\tcase 'chip':\n\t\t\t\treturn CellView.CHIP;\n\n\t\t\tcase 'link':\n\t\t\t\treturn CellView.LINK;\n\n\t\t\tcase 'image':\n\t\t\t\treturn CellView.IMAGE;\n\n\t\t\tcase 'bold':\n\t\t\t\treturn CellView.BOLD;\n\n\t\t\tcase 'italic':\n\t\t\t\treturn CellView.ITALIC;\n\n\t\t\tcase 'checkbox':\n\t\t\t\treturn CellView.CHECKBOX;\n\n\t\t\tcase 'custom':\n\t\t\t\treturn CellView.CUSTOM;\n\n\t\t\tdefault:\n\t\t\t\treturn CellView.TEXT;\n\t\t}\n\t}\n\n\tprivate convertEnum(view: GuiCellView): CellView {\n\n\t\tswitch (view) {\n\n\t\t\tcase GuiCellView.TEXT:\n\t\t\t\treturn CellView.TEXT;\n\n\t\t\tcase GuiCellView.CHIP:\n\t\t\t\treturn CellView.CHIP;\n\n\t\t\tcase GuiCellView.LINK:\n\t\t\t\treturn CellView.LINK;\n\n\t\t\tcase GuiCellView.IMAGE:\n\t\t\t\treturn CellView.IMAGE;\n\n\t\t\tcase GuiCellView.BOLD:\n\t\t\t\treturn CellView.BOLD;\n\n\t\t\tcase GuiCellView.ITALIC:\n\t\t\t\treturn CellView.ITALIC;\n\n\t\t\tcase GuiCellView.CHECKBOX:\n\t\t\t\treturn CellView.CHECKBOX;\n\n\t\t\tcase GuiCellView.CUSTOM:\n\t\t\t\treturn CellView.CUSTOM;\n\n\t\t\tdefault:\n\t\t\t\treturn CellView.TEXT;\n\t\t}\n\t}\n\n}\n","import { GuiColumn } from '../../../ui-api/grid.api';\nimport { ColumnConfig } from '../../../../../lib/composition/domain/column.config';\n\nimport { GridColumnTypeConverter } from './grid.column-type.converter';\nimport { GridColumnAggregationConverter } from './grid.column-aggregation.converter';\nimport { GridColumnViewConverter } from './grid.column-view.converter';\n\n\nexport class GridColumnConverter {\n\n\tprivate readonly columnTypeConverter = new GridColumnTypeConverter();\n\n\tprivate readonly columnAggregationConverter = new GridColumnAggregationConverter();\n\n\tprivate readonly columnViewConverter = new GridColumnViewConverter();\n\n\tconvert(config: Array<GuiColumn>): Array<ColumnConfig> {\n\t\treturn config.map((c) => this.convertColumn(c));\n\t}\n\n\tprivate convertColumn(guiColumn: GuiColumn): ColumnConfig {\n\t\tlet columnConfig: ColumnConfig = {};\n\n\t\tif (guiColumn.type !== undefined && guiColumn.type !== null) {\n\t\t\tcolumnConfig.type = this.columnTypeConverter.convertType(guiColumn.type);\n\t\t}\n\n\t\tif (guiColumn.header !== undefined && guiColumn.header !== null) {\n\t\t\tcolumnConfig.header = guiColumn.header;\n\t\t}\n\n\t\tif (guiColumn.field !== undefined && guiColumn.field !== null) {\n\t\t\tcolumnConfig.field = guiColumn.field;\n\t\t}\n\n\t\tif (guiColumn.width !== undefined && guiColumn.width !== null) {\n\t\t\tcolumnConfig.width = guiColumn.width;\n\t\t}\n\n\t\tif (guiColumn.view !== undefined && guiColumn.view !== null) {\n\t\t\tcolumnConfig.view = this.columnViewConverter.convert(guiColumn.view);\n\t\t}\n\n\t\tif (guiColumn.aggregation !== undefined && guiColumn.aggregation !== null) {\n\t\t\tcolumnConfig.aggregation = this.columnAggregationConverter.convert(guiColumn.aggregation);\n\t\t}\n\n\t\treturn columnConfig;\n\t}\n\n}\n","export enum SchemaTheme {\n\tFABRIC,\n\tMATERIAL,\n\tLIGHT,\n\tDARK\n}\n","import { GuiTheme } from '../../../ui-api/grid.api';\nimport { SchemaTheme } from '../../../../../lib/structure/domain/schema/schema-theme';\n\n\nexport class GridThemeConverter {\n\n\tconvert(theme: string | GuiTheme): SchemaTheme {\n\n\t\tif (typeof theme === 'string') {\n\t\t\treturn this.convertString(theme);\n\t\t} else {\n\t\t\treturn this.convertEnum(theme);\n\t\t}\n\n\t}\n\n\tprivate convertString(theme: string): SchemaTheme {\n\n\t\tconst loweredTheme = theme.toLocaleLowerCase();\n\n\t\tswitch (loweredTheme) {\n\n\t\t\tcase 'material':\n\t\t\t\treturn SchemaTheme.MATERIAL;\n\n\t\t\tcase 'fabric':\n\t\t\t\treturn SchemaTheme.FABRIC;\n\n\t\t\tcase 'light':\n\t\t\t\treturn SchemaTheme.LIGHT;\n\n\t\t\tcase 'dark':\n\t\t\t\treturn SchemaTheme.DARK;\n\n\t\t\tdefault:\n\t\t\t\treturn SchemaTheme.FABRIC;\n\n\t\t}\n\n\t}\n\n\tprivate convertEnum(theme: GuiTheme): SchemaTheme {\n\n\t\tswitch (theme) {\n\n\t\t\tcase GuiTheme.MATERIAL:\n\t\t\t\treturn SchemaTheme.MATERIAL;\n\n\t\t\tcase GuiTheme.FABRIC:\n\t\t\t\treturn SchemaTheme.FABRIC;\n\n\t\t\tcase GuiTheme.LIGHT:\n\t\t\t\treturn SchemaTheme.LIGHT;\n\n\t\t\tcase GuiTheme.DARK:\n\t\t\t\treturn SchemaTheme.DARK;\n\n\t\t\tdefault:\n\t\t\t\treturn SchemaTheme.FABRIC;\n\n\t\t}\n\n\t}\n\n}\n","export enum RowColoring {\n\tNONE,\n\tEVEN,\n\tODD\n}\n","import { GuiRowColoring } from '../../../ui-api/grid.api';\nimport { RowColoring } from '../../../../../lib/structure/ui-api/schema/row-coloring';\n\n\nexport class GridRowColoringConverter {\n\n\tconvert(rowColoring: string | GuiRowColoring): RowColoring {\n\n\t\tif (typeof rowColoring === 'string') {\n\t\t\treturn this.convertString(rowColoring);\n\t\t} else {\n\t\t\treturn this.convertEnum(rowColoring);\n\t\t}\n\n\t}\n\n\tprivate convertString(rowColoring: string): RowColoring {\n\n\t\tconst loweredRowColoring = rowColoring.toLocaleLowerCase();\n\n\t\tswitch (loweredRowColoring) {\n\n\t\t\tcase 'none':\n\t\t\t\treturn RowColoring.NONE;\n\n\t\t\tcase 'even':\n\t\t\t\treturn RowColoring.EVEN;\n\n\t\t\tcase 'odd':\n\t\t\t\treturn RowColoring.ODD;\n\n\t\t\tdefault:\n\t\t\t\treturn RowColoring.EVEN;\n\n\t\t}\n\n\t}\n\n\tprivate convertEnum(rowColoring: GuiRowColoring): RowColoring {\n\n\t\tswitch (rowColoring) {\n\n\t\t\tcase GuiRowColoring.NONE:\n\t\t\t\treturn RowColoring.NONE;\n\n\t\t\tcase GuiRowColoring.EVEN:\n\t\t\t\treturn RowColoring.EVEN;\n\n\t\t\tcase GuiRowColoring.ODD:\n\t\t\t\treturn RowColoring.ODD;\n\n\t\t\tdefault:\n\t\t\t\treturn RowColoring.EVEN;\n\n\t\t}\n\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { GuiColumnMenu } from '../../../../ui-api/grid.api';\n\nimport { ColumnMenuConfig } from '../../../../../../lib/structure/ui-api/structure/column-menu-config';\n\n@Injectable()\nexport class GridColumnMenuConverter {\n\n\tconvert(config: GuiColumnMenu): ColumnMenuConfig {\n\t\treturn config as ColumnMenuConfig;\n\t}\n}\n","export enum PagingDisplayMode {\n\tBASIC,\n\tADVANCED\n}\n","import { PagingDisplayMode } from '../../../../../lib/structure/ui/paging/mode/paging-display-mode';\nimport { GuiPagingConfig, GuiPagingDisplay } from '../../../ui-api/grid.api';\nimport { PagingConfig } from '../../../../../lib/structure/domain/paging/paging-config';\n\n\nexport class GridPagingConverter {\n\n\tconvert(guiPaging: GuiPagingConfig): PagingConfig {\n\n\t\tlet pagingConfig: PagingConfig = {};\n\n\t\tif (guiPaging.enabled !== undefined && guiPaging.enabled !== null) {\n\t\t\tpagingConfig.enabled = guiPaging.enabled;\n\t\t}\n\n\t\tif (guiPaging.page !== undefined && guiPaging.page !== null) {\n\t\t\tpagingConfig.page = guiPaging.page;\n\t\t}\n\n\t\tif (guiPaging.pageSize !== undefined && guiPaging.pageSize !== null) {\n\t\t\tpagingConfig.pageSize = guiPaging.pageSize;\n\t\t}\n\n\t\tif (guiPaging.pageSizes !== undefined && guiPaging.pageSizes !== null) {\n\t\t\tpagingConfig.pageSizes = guiPaging.pageSizes;\n\t\t}\n\n\t\tif (guiPaging.pagerTop !== undefined && guiPaging.pagerTop !== null) {\n\t\t\tpagingConfig.pagerTop = guiPaging.pagerTop;\n\t\t}\n\n\t\tif (guiPaging.pagerBottom !== undefined && guiPaging.pagerBottom !== null) {\n\t\t\tpagingConfig.pagerBottom = guiPaging.pagerBottom;\n\t\t}\n\n\t\tif (guiPaging.display !== undefined && guiPaging.display !== null) {\n\t\t\tpagingConfig.displayMode = this.convertDisplay(guiPaging.display);\n\t\t}\n\n\t\treturn pagingConfig;\n\t}\n\n\tprivate convertDisplay(pagingDisplay: string | GuiPagingDisplay): PagingDisplayMode {\n\n\t\tif (typeof pagingDisplay === 'string') {\n\t\t\treturn this.convertString(pagingDisplay);\n\t\t} else {\n\t\t\treturn this.convertEnum(pagingDisplay);\n\t\t}\n\t}\n\n\tprivate convertString(pagingDisplay: string): PagingDisplayMode {\n\n\t\tconst loweredPaging = pagingDisplay.toLocaleLowerCase();\n\n\t\tswitch (loweredPaging) {\n\n\t\t\tcase 'basic':\n\t\t\t\treturn PagingDisplayMode.BASIC;\n\n\t\t\tcase 'advanced':\n\t\t\t\treturn PagingDisplayMode.ADVANCED;\n\n\t\t\tdefault:\n\t\t\t\treturn PagingDisplayMode.BASIC;\n\t\t}\n\t}\n\n\tprivate convertEnum(pagingDisplay: GuiPagingDisplay): PagingDisplayMode {\n\n\t\tswitch (pagingDisplay) {\n\n\t\t\tcase GuiPagingDisplay.BASIC:\n\t\t\t\treturn PagingDisplayMode.BASIC;\n\n\t\t\tcase GuiPagingDisplay.ADVANCED:\n\t\t\t\treturn PagingDisplayMode.ADVANCED;\n\n\t\t\tdefault:\n\t\t\t\treturn PagingDisplayMode.BASIC;\n\t\t}\n\t}\n\n}\n","import { EventEmitter, Input, OnChanges, Output, SimpleChanges } from '@angular/core';\n\nimport {\n\tGuiAggregation,\n\tGuiColumn,\n\tGuiColumnMenu,\n\tGuiFiltering,\n\tGuiPagingConfig,\n\tGuiQuickFilters,\n\tGuiRowColoring,\n\tGuiSearching,\n\tGuiSorting,\n\tGuiTheme\n} from '../../ui-api/grid.api';\nimport { ColumnConfig } from '../../../../lib/composition/domain/column.config';\n\nimport { GridColumnConverter } from './column/grid.column.converter';\nimport { GridThemeConverter } from './theme/grid.theme.converter';\nimport { GridRowColoringConverter } from './coloring/grid.row-coloring.converter';\nimport { ColumnMenuConfig } from '../../../../lib/structure/ui-api/structure/column-menu-config';\nimport { GridColumnMenuConverter } from './column/menu/grid.column-menu.converter';\nimport { GridPagingConverter } from './paging/grid.paging.converter';\n\nexport abstract class GridGateway implements OnChanges {\n\n\t/**\n\t * INPUTS\n\t */\n\t@Input()\n\tcolumnHeaderTop: boolean;\n\n\t@Input()\n\tcolumnHeaderBottom: boolean;\n\n\t@Input()\n\tmaxHeight: number;\n\n\t@Input()\n\twidth: number;\n\n\t@Input()\n\trowHeight: number;\n\n\t@Input()\n\tautoResizeWidth: boolean;\n\n\t@Input()\n\tsource: Array<any> = [];\n\n\t@Input()\n\tcolumns: Array<GuiColumn> = [];\n\n\t@Input()\n\tpaging: boolean | GuiPagingConfig;\n\n\t@Input()\n\tverticalGrid: boolean;\n\n\t@Input()\n\thorizontalGrid: boolean;\n\n\t@Input()\n\ttheme: string | GuiTheme;\n\n\t@Input()\n\trowColoring: string | GuiRowColoring;\n\n\t@Input()\n\tloading: boolean;\n\n\t@Input()\n\tvirtualScroll: boolean;\n\n\t@Input()\n\tsorting: boolean | GuiSorting;\n\n\t@Input()\n\tsearching: boolean | GuiSearching;\n\n\t/**\n\t * @experimental\n\t */\n\t@Input()\n\tfiltering: boolean | GuiFiltering;\n\n\t/**\n\t * @experimental\n\t */\n\t@Input()\n\tquickFilters: boolean | GuiQuickFilters;\n\n\t/**\n\t * @experimental\n\t */\n\t@Input()\n\teditMode: boolean;\n\n\t/**\n\t * @experimental\n\t */\n\t@Input()\n\tcellEditing: boolean;\n\n\t@Input()\n\tinfoPanel: boolean;\n\n\t/**\n\t * @experimental\n\t */\n\t@Input()\n\taggregation: GuiAggregation;\n\n\t@Input()\n\tcolumnMenu: GuiColumnMenu;\n\n\n\t/**\n\t * OUTPUTS\n\t */\n\t@Output()\n\tpageChanged: EventEmitter<number> = new EventEmitter<number>();\n\n\t@Output()\n\tpageSizeChanged: EventEmitter<number> = new EventEmitter<number>();\n\n\t@Output()\n\titemsSelected: EventEmitter<any> = new EventEmitter();\n\n\t@Output()\n\tcolumnsChanged: EventEmitter<void> = new EventEmitter();\n\n\t@Output()\n\tcontainerWidthChanged: EventEmitter<number> = new EventEmitter();\n\n\t@Output()\n\tsourceEdited: EventEmitter<{ after: any, before: any }> = new EventEmitter();\n\n\t@Output()\n\tcellEditEntered: EventEmitter<void> = new EventEmitter();\n\n\t@Output()\n\tcellEditCanceled: EventEmitter<void> = new EventEmitter();\n\n\t@Output()\n\tcellEditSubmitted: EventEmitter<void> = new EventEmitter();\n\n\n\t/** @internal */\n\tcolumnsConfig: Array<ColumnConfig>;\n\n\tthemeConfig: any; // SchemaTheme;\n\n\trowColoringConfig: any; // RowColoring;\n\n\tcolumnMenuConfig: ColumnMenuConfig;\n\n\tprivate readonly gridColumnConverter: GridColumnConverter = new GridColumnConverter();\n\n\tprivate readonly gridThemeConverter: GridThemeConverter = new GridThemeConverter();\n\n\tprivate readonly gridRowColoringConverter: GridRowColoringConverter = new GridRowColoringConverter();\n\n\tprivate readonly gridColumnMenuConverter: GridColumnMenuConverter = new GridColumnMenuConverter();\n\n\tprivate readonly gridPagingConverter: GridPagingConverter = new GridPagingConverter();\n\n\tprotected constructor() {\n\t}\n\n\tngOnChanges(changes: SimpleChanges): void {\n\n\t\tif (changes.columns !== undefined && changes.columns.currentValue !== undefined) {\n\t\t\tthis.columnsConfig = this.gridColumnConverter.convert(this.columns);\n\t\t}\n\n\t\tif (changes.theme !== undefined && changes.theme.currentValue !== undefined) {\n\t\t\tthis.themeConfig = this.gridThemeConverter.convert(this.theme);\n\t\t}\n\n\t\tif (changes.rowColoring !== undefined && changes.rowColoring.currentValue !== undefined) {\n\t\t\tthis.rowColoringConfig = this.gridRowColoringConverter.convert(this.rowColoring);\n\t\t}\n\n\t\tif (changes.columnMenu !== undefined && changes.columnMenu.currentValue !== undefined) {\n\t\t\tthis.columnMenuConfig = this.gridColumnMenuConverter.convert(this.columnMenu);\n\t\t}\n\n\t\t// TODO\n\t\tif (changes.paging !== undefined && changes.paging.currentValue !== undefined) {\n\n\t\t\tif (typeof this.paging !== 'boolean') {\n\t\t\t\tthis.paging = this.gridPagingConverter.convert(this.paging);\n\t\t\t}\n\t\t}\n\t}\n\n\tonPageChange(page: number): void {\n\t\tthis.pageChanged.emit(page);\n\t}\n\n\tonPageSizeChange(pageSize: number): void {\n\t\tthis.pageSizeChanged.emit(pageSize);\n\t}\n\n\tonItemSelect(item: any): void {\n\t\tthis.itemsSelected.emit(item);\n\t}\n\n\tonColumnsChange(): void {\n\t\tthis.columnsChanged.emit();\n\t}\n\n\tonContainerWidthChange(containerWidth: number): void {\n\t\tthis.containerWidthChanged.emit(containerWidth);\n\t}\n\n\tonSourceEdit(value: any): void {\n\t\tthis.sourceEdited.emit(value);\n\t}\n\n\tonCellEditEnter(): void {\n\t\tthis.cellEditEntered.emit();\n\t}\n\n\tonCellEditSubmit(): void {\n\t\tthis.cellEditSubmitted.emit();\n\t}\n\n\tonCellEditCancel(): void {\n\t\tthis.cellEditCanceled.emit();\n\t}\n\n}\n","export abstract class GenericBuilder<T> {\n\n\tprotected abstract buildObject(): T;\n\n\tbuild(): T {\n\t\treturn this.buildObject();\n\t}\n\n}\n","import { GenericBuilder } from '../../../../common/cdk/generic-builder';\n\nexport class StructurePagingDefinitionBuilder extends GenericBuilder<StructurePagingDefinition> {\n\n\tprivate enabled: boolean;\n\n\tconstructor(enabled: boolean) {\n\t\tsuper();\n\t\tthis.enabled = enabled;\n\t}\n\n\tprotected buildObject(): StructurePagingDefinition {\n\t\treturn new StructurePagingDefinition(this.enabled);\n\t}\n\n\twithEnabled(enabled: boolean): StructurePagingDefinitionBuilder {\n\t\tthis.enabled = enabled;\n\t\treturn this;\n\t}\n}\n\nexport class StructurePagingDefinitionDefaultBuilder extends StructurePagingDefinitionBuilder {\n\n\tprivate static readonly defaultEnabled = true;\n\n\tconstructor() {\n\t\tsuper(StructurePagingDefinitionDefaultBuilder.defaultEnabled);\n\t}\n}\n\nexport class StructurePagingDefinition {\n\n\tprivate readonly enabled: boolean;\n\n\tconstructor(enabled: boolean) {\n\t\tthis.enabled = enabled;\n\t}\n\n\tstatic Builder = StructurePagingDefinitionBuilder;\n\n\tstatic DefaultBuilder = StructurePagingDefinitionDefaultBuilder;\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n}\n","import { GenericBuilder } from '../../../common/cdk/generic-builder';\nimport { StructurePagingDefinition } from './paging/structure-paging-definition';\n\nexport class StructureDefinitionBuilder extends GenericBuilder<StructureDefinition> {\n\n\tprivate border: boolean = true;\n\n\tconstructor(private headerEnabled: boolean,\n\t\t\t\tprivate bottomPaging: StructurePagingDefinition,\n\t\t\t\tprivate topPaging: StructurePagingDefinition) {\n\t\tsuper();\n\t}\n\n\tprotected buildObject(): StructureDefinition {\n\t\treturn new StructureDefinition(\n\t\t\tthis.headerEnabled,\n\t\t\tthis.bottomPaging,\n\t\t\tthis.topPaging,\n\t\t\tthis.border\n\t\t);\n\t}\n\n\twithHeader(enabled: boolean): StructureDefinitionBuilder {\n\t\tthis.headerEnabled = enabled;\n\t\treturn this;\n\t}\n\n\twithBottomPaging(paging: StructurePagingDefinition): StructureDefinitionBuilder {\n\t\tthis.bottomPaging = paging;\n\t\treturn this;\n\t}\n\n\twithTopPaging(paging: StructurePagingDefinition): StructureDefinitionBuilder {\n\t\tthis.topPaging = paging;\n\t\treturn this;\n\t}\n\n\twithBorder(enabled: boolean): StructureDefinitionBuilder {\n\t\tthis.border = enabled;\n\t\treturn this;\n\t}\n\n}\n\nexport class StructureDefinitionDefaultBuilder extends StructureDefinitionBuilder {\n\n\tprivate static readonly defaultHeaderEnabled: boolean = true;\n\tprivate static readonly defaultBottomPaging: StructurePagingDefinition = new StructurePagingDefinition.DefaultBuilder().build();\n\tprivate static readonly defaultTopPaging: StructurePagingDefinition = new StructurePagingDefinition.DefaultBuilder().build();\n\n\tconstructor() {\n\t\tsuper(\n\t\t\tStructureDefinitionDefaultBuilder.defaultHeaderEnabled,\n\t\t\tStructureDefinitionDefaultBuilder.defaultBottomPaging,\n\t\t\tStructureDefinitionDefaultBuilder.defaultTopPaging\n\t\t);\n\t}\n}\n\nexport class StructureDefinition {\n\n\tprivate readonly headerEnabled: boolean;\n\n\tprivate readonly bottomPaging: StructurePagingDefinition;\n\n\tprivate readonly topPaging: StructurePagingDefinition;\n\n\tprivate readonly border: boolean;\n\n\tconstructor(headerEnabled: boolean,\n\t\t\t\tbottomPaging: StructurePagingDefinition,\n\t\t\t\ttopPaging: StructurePagingDefinition,\n\t\t\t\tborder: boolean) {\n\t\tthis.headerEnabled = headerEnabled;\n\t\tthis.bottomPaging = bottomPaging;\n\t\tthis.topPaging = topPaging;\n\t\tthis.border = border;\n\t}\n\n\tstatic Builder = StructureDefinitionBuilder;\n\n\tstatic DefaultBuilder = StructureDefinitionDefaultBuilder;\n\n\tisHeaderEnabled(): boolean {\n\t\treturn this.headerEnabled;\n\t}\n\n\tisBorderEnabled(): boolean {\n\t\treturn this.border;\n\t}\n\n\tgetBottomPaging(): StructurePagingDefinition {\n\t\treturn this.bottomPaging;\n\t}\n\n\tgetTopPaging(): StructurePagingDefinition {\n\t\treturn this.topPaging;\n\t}\n\n}\n","import { StructureDefinition } from '../../../../lib/structure/ui/structure-definition';\n\n/** @internal */\nexport const gridStructureDefinition = new StructureDefinition.DefaultBuilder().build();\n","import { Provider } from '@angular/core';\n\nimport { StructureDefinition } from '../../../../lib/structure/ui/structure-definition';\n\nimport { gridStructureDefinition } from './grid-structure-definition';\n\nexport const gridProviders = [{\n\tprovide: StructureDefinition,\n\tuseValue: gridStructureDefinition\n}] as Array<Provider>;\n","import { InjectionToken } from '@angular/core';\n\nexport const structureParentComponent = new InjectionToken('StructureParentComponent');\n","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class GridIdGenerator {\n\n\tprivate static readonly PREFIX = 'gui-grid-';\n\n\tprivate static index = 0;\n\n\tgenerateId(): string {\n\t\tGridIdGenerator.index++;\n\n\t\treturn GridIdGenerator.PREFIX + GridIdGenerator.index;\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { GridComponent } from '../grid.component';\n\n@Injectable()\nexport class GridRegister {\n\n\tprivate readonly gridMap = new Map();\n\n\t// structureId: StructureId\n\tregister(gridId: string, component: GridComponent, structureId: any): void {\n\t\tthis.gridMap.set(gridId, { component, structureId });\n\t}\n\n\tunregister(gridId: string): void {\n\t\tthis.gridMap.delete(gridId);\n\t}\n\n\tgetValues(gridId: string): any {\n\t\treturn this.gridMap.get(gridId);\n\t}\n\n}\n","import { GridComponent } from '../grid.component';\n\nexport interface GridConsoleApi {\n\n\tchangeColumnHeaderTop(enabled: boolean): void;\n\n\n}\n\nexport class GridConsoleApiProvider {\n\n\tconstructor(private readonly gridComponent: GridComponent,\n\t\t\t\tprivate readonly structureId: any) {\n\t} // StructureId\n\n\tprovide(): GridConsoleApi {\n\n\t\tconst component = this.gridComponent;\n\n\t\treturn {\n\t\t\tchangeColumnHeaderTop(enabled: boolean): void {\n\t\t\t\tcomponent.columnHeaderTop = enabled;\n\t\t\t\tcomponent.detectChanges();\n\t\t\t}\n\t\t};\n\n\t}\n\n}\n","import { ChangeDetectorRef, Component, ElementRef, Inject, Input, OnInit, PLATFORM_ID, ViewChild, ViewEncapsulation } from '@angular/core';\n\nimport { GridGateway } from './grid-gateway';\nimport { gridProviders } from './grid.providers';\n\nimport { structureParentComponent } from '../../../../lib/structure/ui/structure-parent-component';\n\nimport { GridIdGenerator } from './register/grid-id.generator';\nimport { GridRegister } from './register/grid.register';\nimport { GridConsoleApiProvider } from './console/grid.console.api';\nimport { isPlatformBrowser } from '@angular/common';\n\nexport const gridSelector = 'gui-grid';\n\n@Component({\n\tselector: gridSelector,\n\ttemplateUrl: './grid.component.html',\n\tstyleUrls: [\n\t\t'../grid.ngx.scss'\n\t],\n\tproviders: [\n\t\t...gridProviders,\n\t\t{\n\t\t\tprovide: structureParentComponent,\n\t\t\tuseExisting: GridComponent\n\t\t}\n\t],\n\thost: {\n\t\t'[class]': `\"${gridSelector}\"`,\n\t\t'[style.height]': 'maxHeight'\n\t},\n\tencapsulation: ViewEncapsulation.None\n})\nexport class GridComponent extends GridGateway implements OnInit {\n\n\t@ViewChild('structure', { static: true })\n\tstructureRef: any;\n\n\t@Input()\n\tgridId: string; // can be set once\n\n\tprivate localGridId: string;\n\n\tconstructor(@Inject(PLATFORM_ID) private platformId: any,\n\t\t\t\tprivate elementRef: ElementRef,\n\t\t\t\tprivate changeDetectorRef: ChangeDetectorRef,\n\t\t\t\tprivate gridRegister: GridRegister,\n\t\t\t\tprivate gridIdGenerator: GridIdGenerator) {\n\t\tsuper();\n\t}\n\n\tngOnInit() {\n\n\t\tlet gridId = this.gridId;\n\n\t\tif (gridId === undefined) {\n\t\t\tgridId = this.gridIdGenerator.generateId();\n\t\t}\n\n\t\tthis.localGridId = gridId;\n\n\t\tthis.exposeGridId();\n\n\t\t// register\n\t\tthis.gridRegister.register(gridId, this, this.structureRef.getStructureId());\n\n\t\tif (isPlatformBrowser(this.platformId)) {\n\t\t\twindow['getGuiGrid'] = (gridId: string) => {\n\n\t\t\t\tconst gridConsoleConfig = this.gridRegister.getValues(gridId);\n\n\t\t\t\tif (gridConsoleConfig) {\n\t\t\t\t\treturn new GridConsoleApiProvider(gridConsoleConfig.component, gridConsoleConfig.structureId).provide();\n\t\t\t\t} else {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n\n\tngOnDestroy() {\n\t\tthis.gridRegister.unregister(this.localGridId);\n\t}\n\n\tgetElementRef(): ElementRef {\n\t\treturn this.elementRef;\n\t}\n\n\tgetGridId(): string {\n\t\treturn '';\n\t}\n\n\tdetectChanges(): void {\n\t\tthis.changeDetectorRef.detectChanges();\n\t}\n\n\tprivate exposeGridId(): void {\n\t\tthis.elementRef.nativeElement.setAttribute('gui-grid-id', this.localGridId);\n\t}\n\n}\n","import {\n\tFabricBadgeModule,\n\tFabricButtonGroupModule,\n\tFabricButtonModule,\n\tFabricCheckboxModule,\n\tFabricChipModule,\n\tFabricDialogModule,\n\tFabricDropdownModule,\n\tFabricInlineDialogModule,\n\tFabricInputModule,\n\tFabricProgressBarModule,\n\tFabricProgressSpinnerModule,\n\tFabricRadioButtonModule,\n\tFabricRadioGroupModule,\n\tFabricSelectModule,\n\tFabricSpinnerModule,\n\tFabricTabModule,\n\tFabricToggleButtonModule\n} from '@generic-ui/fabric';\n\n\nexport const fabricImports = [\n\tFabricBadgeModule,\n\tFabricButtonModule,\n\tFabricButtonGroupModule,\n\tFabricCheckboxModule,\n\tFabricChipModule,\n\tFabricDropdownModule,\n\tFabricRadioButtonModule,\n\tFabricRadioGroupModule,\n\tFabricProgressBarModule,\n\tFabricProgressSpinnerModule,\n\tFabricSelectModule,\n\tFabricSpinnerModule,\n\tFabricTabModule,\n\tFabricToggleButtonModule,\n\tFabricInputModule,\n\tFabricDialogModule,\n\tFabricInlineDialogModule,\n\tFabricTabModule\n];\n","import { OnDestroy } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\nexport abstract class Reactive implements OnDestroy {\n\n\tprivate readonly unsubscribe$ = new Subject<void>();\n\n\tprotected constructor() {\n\t}\n\n\tngOnDestroy() {\n\t\tthis.unsubscribe();\n\t}\n\n\tprotected unsubscribe(): void {\n\t\tthis.unsubscribe$.next();\n\t\tthis.unsubscribe$.complete();\n\t}\n\n\tprotected takeUntil() {\n\t\treturn takeUntil(this.unsubscribe$);\n\t}\n\n}\n","import { Reactive } from './reactive';\n\nexport abstract class SmartComponent extends Reactive {\n}\n","import { Observable } from 'rxjs/';\n\nimport { AggregateId } from '@generic-ui/hermes';\nimport { Structure } from './structure';\n\n\nexport abstract class StructureRepository {\n\n\tabstract onStructure(aggregateId: AggregateId): Observable<Structure>;\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { filter, map } from 'rxjs/operators';\nimport { StructureRepository } from '../../structure/read/structure.repository';\nimport { StructureId } from '../../structure-id';\nimport { Paging } from './paging';\nimport { Structure } from '../../structure/read/structure';\n\n\n@Injectable()\nexport class PagingRepository {\n\n\tconstructor(private structureRepository: StructureRepository) {\n\t}\n\n\ton(structureId: StructureId): Observable<Paging> {\n\n\t\treturn this.structureRepository\n\t\t\t\t   .onStructure(structureId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   filter((structure: Structure) => structure.getId().toString() === structureId.toString()),\n\t\t\t\t\t   map((structure: Structure) => structure.getPaging())\n\t\t\t\t   );\n\t}\n\n}\n","import { AggregateId } from '@generic-ui/hermes';\n\nexport class StructureId extends AggregateId {\n\n\tconstructor(id: string) {\n\t\tsuper(id);\n\t}\n\n}\n","import { StructureId } from './structure-id';\n\nexport const globalStructureId = new StructureId('-1');\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { take } from 'rxjs/operators';\n\nimport { PagingRepository } from '../../domain/paging/read/paging.repository';\nimport { StructureId } from '../../domain/structure-id';\nimport { globalStructureId } from '../../domain/global-structure-id';\nimport { Paging } from '../../domain/paging/read/paging';\n\n\n@Injectable()\nexport class PagingReadModelService {\n\n\tconstructor(private pagingRepository: PagingRepository) {\n\t}\n\n\tonPaging(structureId: StructureId = globalStructureId): Observable<Paging> {\n\t\treturn this.pagingRepository.on(structureId);\n\t}\n\n\tonSinglePaging(structureId: StructureId = globalStructureId): Observable<Paging> {\n\t\treturn this.onPaging(structureId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   take(1)\n\t\t\t\t   );\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../structure-id';\nimport { PagingConfig } from '../../paging-config';\n\nexport class SetPagingCommand extends Command {\n\n\tconstructor(public readonly structureId: StructureId,\n\t\t\t\tpublic readonly payload: PagingConfig) {\n\t\tsuper(structureId, 'SetPagingCommand');\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\nimport { StructureId } from '../../../structure-id';\n\nexport class ChangePagesizeCommand extends Command {\n\n\tconstructor(public readonly structureId: StructureId,\n\t\t\t\tpublic readonly pageSize: number) {\n\t\tsuper(structureId, 'ChangePagesizeCommand');\n\t}\n}\n","import { Command } from '@generic-ui/hermes';\nimport { StructureId } from '../../../structure-id';\n\nexport class NextPageCommand extends Command {\n\n\tconstructor(public readonly structureId: StructureId) {\n\t\tsuper(structureId, 'NextPageCommand');\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../structure-id';\n\nexport class PrevPageCommand extends Command {\n\n\tconstructor(public readonly structureId: StructureId) {\n\t\tsuper(structureId, 'PrevPageCommand');\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandDispatcher } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../structure-id';\nimport { PagingConfig } from '../paging-config';\nimport { SetPagingCommand } from './set/set-paging.command';\nimport { ChangePagesizeCommand } from './change-pagesize/change-pagesize.command';\nimport { NextPageCommand } from './next-page/next-page.command';\nimport { PrevPageCommand } from './prev-page/prev-page.command';\n\n\n@Injectable()\nexport class PagingDispatcher {\n\n\tconstructor(private commandDispatcher: CommandDispatcher) {\n\t}\n\n\tsetPaging(structureId: StructureId, paging: PagingConfig): void {\n\t\tthis.commandDispatcher.dispatch(new SetPagingCommand(structureId, paging));\n\t}\n\n\tchangePageSize(structureId: StructureId, pageSize: number): void {\n\t\tthis.commandDispatcher.dispatch(new ChangePagesizeCommand(structureId, pageSize));\n\t}\n\n\tnextPage(structureId: StructureId): void {\n\t\tthis.commandDispatcher.dispatch(new NextPageCommand(structureId));\n\t}\n\n\tprevPage(structureId: StructureId): void {\n\t\tthis.commandDispatcher.dispatch(new PrevPageCommand(structureId));\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { PagingDispatcher } from '../../domain/paging/command/paging.dispatcher';\nimport { StructureId } from '../../domain/structure-id';\nimport { globalStructureId } from '../../domain/global-structure-id';\nimport { PagingConfig } from '../../domain/paging/paging-config';\n\n\n@Injectable()\nexport class PagingCommandService {\n\n\tconstructor(private pagingDispatcher: PagingDispatcher) {\n\t}\n\n\tenable(structureId: StructureId = globalStructureId): void {\n\t\tthis.pagingDispatcher.setPaging(structureId, { enabled: true });\n\t}\n\n\tdisable(structureId: StructureId = globalStructureId): void {\n\t\tthis.pagingDispatcher.setPaging(structureId, { enabled: false });\n\t}\n\n\tsetPaging(paging: PagingConfig, structureId: StructureId = globalStructureId): void {\n\t\tthis.pagingDispatcher.setPaging(structureId, paging);\n\t}\n\n\tchangePageSize(pageSize: number, structureId: StructureId = globalStructureId): void {\n\t\tthis.pagingDispatcher.changePageSize(structureId, pageSize);\n\t}\n\n\tnextPage(structureId: StructureId = globalStructureId): void {\n\t\tthis.pagingDispatcher.nextPage(structureId);\n\t}\n\n\tprevPage(structureId: StructureId = globalStructureId): void {\n\t\tthis.pagingDispatcher.prevPage(structureId);\n\t}\n\n\tgoToPage(pageNumber: number, currentPage: number) {\n\n\t\tif (currentPage < pageNumber) {\n\t\t\twhile (currentPage !== pageNumber) {\n\t\t\t\tthis.nextPage();\n\t\t\t\tcurrentPage += 1;\n\t\t\t}\n\t\t} else {\n\t\t\twhile (currentPage !== pageNumber) {\n\t\t\t\tthis.prevPage();\n\t\t\t\tcurrentPage -= 1;\n\t\t\t}\n\t\t}\n\t}\n\n\tchangePagerTop(enabled: boolean, structureId: StructureId = globalStructureId): void {\n\t\tthis.pagingDispatcher.setPaging(structureId, { pagerTop: enabled });\n\t}\n\n\tchangePagerBottom(enabled: boolean, structureId: StructureId = globalStructureId): void {\n\t\tthis.pagingDispatcher.setPaging(structureId, { pagerBottom: enabled });\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, ReplaySubject } from 'rxjs';\nimport { distinctUntilChanged, map } from 'rxjs/operators';\nimport { OriginItemEntity } from '../../command/origin/origin-item-entity';\nimport { StructureId } from '../../../structure-id';\n\n\n@Injectable()\nexport class StructureSourceOriginRepository {\n\n\tprivate origin = new Map<string, Array<any>>();\n\n\tprivate origin$ = new ReplaySubject<Map<string, Array<any>>>();\n\n\tsetOrigin(origin: Array<OriginItemEntity>, structureId: StructureId): void {\n\t\tthis.origin.set(structureId.toString(), origin);\n\t\tthis.origin$.next(this.origin);\n\t}\n\n\tonOrigin(structureId: StructureId): Observable<Array<any>> {\n\n\t\treturn this.origin$\n\t\t\t\t   .asObservable()\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((map: Map<string, Array<any>>) => {\n\t\t\t\t\t\t   return map.get(structureId.toString());\n\t\t\t\t\t   }),\n\t\t\t\t\t   distinctUntilChanged()\n\t\t\t\t   );\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, ReplaySubject } from 'rxjs';\nimport { distinctUntilChanged, map } from 'rxjs/operators';\n\nimport { OriginItemEntity } from '../../command/origin/origin-item-entity';\nimport { StructureId } from '../../../structure-id';\n\n\n@Injectable()\nexport class StructurePreparedItemsRepository {\n\n\tprivate origin = new Map<string, Array<any>>();\n\n\tprivate origin$ = new ReplaySubject<Map<string, Array<any>>>();\n\n\tsetItems(origin: Array<OriginItemEntity>, structureId: StructureId): void {\n\t\tthis.origin.set(structureId.toString(), origin);\n\t\tthis.origin$.next(this.origin);\n\t}\n\n\tonPreparedItems(structureId: StructureId): Observable<Array<OriginItemEntity>> {\n\n\t\treturn this.origin$\n\t\t\t\t   .asObservable()\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((map: Map<string, Array<any>>) => {\n\t\t\t\t\t\t   return map.get(structureId.toString());\n\t\t\t\t\t   }),\n\t\t\t\t\t   distinctUntilChanged()\n\t\t\t\t   );\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { distinctUntilChanged, map, take } from 'rxjs/operators';\n\nimport { StructureRepository } from '../../domain/structure/read/structure.repository';\nimport { StructureSourceOriginRepository } from '../../domain/source/read/origin/structure.source-origin.repository';\nimport { StructureId } from '../../domain/structure-id';\nimport { globalStructureId } from '../../domain/global-structure-id';\nimport { Structure } from '../../domain/structure/read/structure';\nimport { ItemEntity } from '../../domain/source/item.entity';\nimport { StructurePreparedItemsRepository } from '../../domain/source/read/prepared/structure.prepared-items.repository';\n\n\n@Injectable()\nexport class SourceReadModelService {\n\n\tconstructor(private structureRepository: StructureRepository,\n\t\t\t\tprivate structurePreparedItemsRepository: StructurePreparedItemsRepository,\n\t\t\t\tprivate structureSourceOriginRepository: StructureSourceOriginRepository) {\n\t}\n\n\tonEntities(structureId: StructureId = globalStructureId): Observable<Array<ItemEntity>> {\n\n\t\treturn this.structureRepository\n\t\t\t\t   .onStructure(structureId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((structure: Structure) => structure.getEntities()),\n\t\t\t\t\t   distinctUntilChanged((ents1: Array<ItemEntity>, ents2: Array<ItemEntity>) => {\n\t\t\t\t\t\t   if (ents1.length !== ents2.length) {\n\t\t\t\t\t\t\t   return false;\n\t\t\t\t\t\t   }\n\n\t\t\t\t\t\t   let flag = true;\n\n\t\t\t\t\t\t   ents1.forEach((ent, index) => {\n\t\t\t\t\t\t\t   if (!ent.equals(ents2[index])) {\n\t\t\t\t\t\t\t\t   flag = false;\n\t\t\t\t\t\t\t\t   return;\n\t\t\t\t\t\t\t   }\n\t\t\t\t\t\t   });\n\n\t\t\t\t\t\t   return flag;\n\t\t\t\t\t   })\n\t\t\t\t   );\n\t}\n\n\tonEntitiesSize(structureId: StructureId = globalStructureId): Observable<number> {\n\n\t\treturn this.onEntities(structureId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((entities: Array<ItemEntity>) => {\n\t\t\t\t\t\t   return entities.length;\n\t\t\t\t\t   })\n\t\t\t\t   );\n\t}\n\n\tonSingleEntities(structureId: StructureId = globalStructureId): Observable<Array<ItemEntity>> {\n\n\t\treturn this.onEntities(structureId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   take(1)\n\t\t\t\t   );\n\t}\n\n\tonOriginSize(structureId: StructureId = globalStructureId): Observable<number> {\n\t\treturn this.structureSourceOriginRepository\n\t\t\t\t   .onOrigin(structureId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map(origin => origin.length)\n\t\t\t\t   );\n\t}\n\n\tonLoading(structureId: StructureId = globalStructureId): Observable<boolean> {\n\t\treturn this.structureRepository\n\t\t\t\t   .onStructure(structureId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((structure: Structure) => structure.getSource().isLoading())\n\t\t\t\t   );\n\t}\n\n\tonPreparedEntities(structureId: StructureId = globalStructureId): Observable<any> {\n\t\treturn this.structurePreparedItemsRepository.onPreparedItems(structureId);\n\t}\n\n}\n","import { BehaviorSubject, Observable, ReplaySubject, Subject } from 'rxjs';\n\nexport abstract class Archive<T> {\n\n\tprivate readonly archive$: Subject<T>;\n\n\tprotected constructor(value?: T) {\n\t\tif (value) {\n\t\t\tthis.archive$ = new BehaviorSubject(value);\n\t\t} else {\n\t\t\tthis.archive$ = new ReplaySubject(1);\n\t\t}\n\t}\n\n\tonValue(): Observable<T> {\n\t\treturn this.archive$.asObservable();\n\t}\n\n\tnext(value: T): void {\n\t\tthis.archive$.next(value);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { Archive } from '../../../../../common/cdk/archive';\n\nimport { PagingDisplayMode } from './paging-display-mode';\n\n\n@Injectable()\nexport class StructurePagingDisplayModeArchive extends Archive<PagingDisplayMode> {\n\n\tconstructor() {\n\t\tsuper(PagingDisplayMode.BASIC);\n\t}\n\n\tonValue(): Observable<PagingDisplayMode> {\n\t\treturn super.onValue();\n\t\t// .pipe(\n\t\t// \tdistinctUntilChanged()\n\t\t// );\n\t}\n\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, OnInit } from '@angular/core';\n\nimport { SmartComponent } from '../../../../common/cdk/smart-component';\n\nimport { Paging } from '../../domain/paging/read/paging';\nimport { PagingReadModelService } from '../../ui-api/paging/paging-read-model.service';\nimport { PagingCommandService } from '../../ui-api/paging/paging-command.service';\nimport { SourceReadModelService } from '../../ui-api/source/source-read-model.service';\nimport { StructurePagingDisplayModeArchive } from './mode/structure-paging.display-mode.archive';\nimport { PagingDisplayMode } from './mode/paging-display-mode';\n\n\n@Component({\n\tselector: 'gui-structure-paging',\n\ttemplateUrl: 'structure-paging.component.html',\n\tchangeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class StructurePagingComponent extends SmartComponent implements OnInit {\n\n\tsourceSize: number;\n\n\tpaging: Paging;\n\n\talternativeDisplay: boolean = false;\n\n\tconstructor(private changeDetectorRef: ChangeDetectorRef,\n\t\t\t\tprivate pagingQueryService: PagingReadModelService,\n\t\t\t\tprivate pagingCommandService: PagingCommandService,\n\t\t\t\tprivate sourceQueryService: SourceReadModelService,\n\t\t\t\tprivate structurePagingDisplayModeArchive: StructurePagingDisplayModeArchive) {\n\t\tsuper();\n\t}\n\n\tngOnInit() {\n\n\t\tthis.structurePagingDisplayModeArchive\n\t\t\t.onValue()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((mode: PagingDisplayMode) => {\n\t\t\t\tthis.alternativeDisplay = mode === PagingDisplayMode.ADVANCED;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.pagingQueryService\n\t\t\t.onPaging()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((paging: Paging) => {\n\t\t\t\tthis.paging = paging;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.sourceQueryService\n\t\t\t.onOriginSize()\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((size: number) => {\n\t\t\t\tthis.sourceSize = size;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\t}\n\n\tchangePageSize(pageSize: number) {\n\t\tthis.pagingCommandService.changePageSize(pageSize);\n\t}\n\n\tnextPage(): void {\n\n\t\tif (!this.sourceSize) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.pagingCommandService.nextPage();\n\t}\n\n\tprevPage(): void {\n\t\tthis.pagingCommandService.prevPage();\n\t}\n\n}\n","export class Paging {\n\n\tconstructor(private readonly enabled: boolean,\n\t\t\t\tprivate readonly page: number,\n\t\t\t\tprivate readonly pageSize: number,\n\t\t\t\tprivate readonly pageSizes: Array<number>,\n\t\t\t\tprivate readonly pagerTop: boolean,\n\t\t\t\tprivate readonly pagerBottom: boolean,\n\t\t\t\tprivate readonly isNextDisabled: boolean,\n\t\t\t\tprivate readonly isPrevDisabled: boolean,\n\t\t\t\tprivate readonly start: number,\n\t\t\t\tprivate readonly end: number,\n\t\t\t\tprivate readonly sourceSize: number) {\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n\tgetPage(): number {\n\t\treturn this.page;\n\t}\n\n\tgetPageSize(): number {\n\t\treturn this.pageSize;\n\t}\n\n\tgetPageSizes(): Array<number> {\n\t\treturn this.pageSizes;\n\t}\n\n\tisPagerTop(): boolean {\n\t\treturn this.pagerTop;\n\t}\n\n\tisPagerBottom(): boolean {\n\t\treturn this.pagerBottom;\n\t}\n\n\tisNextPageDisabled(): boolean {\n\t\treturn this.isNextDisabled;\n\t}\n\n\tisPrevPageDisabled(): boolean {\n\t\treturn this.isPrevDisabled;\n\t}\n\n\tgetStart(): number {\n\t\treturn this.start;\n\t}\n\n\tgetEnd(): number {\n\t\treturn this.end;\n\t}\n\n\tgetSourceSize(): number {\n\t\treturn this.sourceSize;\n\t}\n\n\tcalculateVisiblePages(currentPage: number, numberOfVisiblePages: number, page: number): boolean {\n\t\treturn currentPage - numberOfVisiblePages < page && page < currentPage + numberOfVisiblePages;\n\t}\n\n\tsample(source: Array<any>): Array<any> {\n\n\t\tlet start = this.getStart();\n\n\t\tif (start !== 0) {\n\t\t\tstart -= 1;\n\t\t}\n\n\t\treturn source.slice(start, this.getEnd());\n\t}\n\n}\n","import { ChangeDetectionStrategy, Component, EventEmitter, Input, OnChanges, Output } from '@angular/core';\n\nimport { Paging } from '../../../domain/paging/read/paging';\n\n@Component({\n\tselector: 'gui-structure-paging-navigator',\n\ttemplateUrl: `structure-paging-navigator.component.html`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class StructurePagingNavigatorComponent implements OnChanges {\n\n\t@Input()\n\tpaging: Paging;\n\n\t@Input()\n\tsourceSize: number;\n\n\t@Output()\n\tnextPageChanged = new EventEmitter();\n\n\t@Output()\n\tprevPageChanged = new EventEmitter();\n\n\tprevDisabled: boolean = false;\n\n\tnextDisabled: boolean = false;\n\n\tngOnChanges() {\n\t\tthis.calculatePrev();\n\t\tthis.calculateNext();\n\t}\n\n\tprevPage(): void {\n\t\tthis.prevPageChanged.emit();\n\t}\n\n\tnextPage(): void {\n\t\tthis.nextPageChanged.emit();\n\t}\n\n\tprivate calculatePrev(): void {\n\n\t\tif (!this.paging) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.prevDisabled = this.paging.isPrevPageDisabled();\n\t}\n\n\tprivate calculateNext(): void {\n\n\t\tif (!this.paging && !this.sourceSize) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.nextDisabled = this.paging.isNextPageDisabled();\n\t}\n\n}\n","import { ChangeDetectionStrategy, Component, EventEmitter, Input, Output } from '@angular/core';\n\nimport { Paging } from '../../../domain/paging/read/paging';\n\n\n@Component({\n\tselector: 'gui-structure-paging-select',\n\ttemplateUrl: `structure-paging-select.component.html`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class StructurePagingSelectComponent {\n\n\t@Input()\n\tpaging: Paging;\n\n\t@Output()\n\tpageSizeChanged = new EventEmitter();\n\n\tchangePageSize(pageSize: number): void {\n\t\tthis.pageSizeChanged.emit(pageSize);\n\t}\n}\n","import { ChangeDetectionStrategy, Component, Input, OnChanges, SimpleChanges } from '@angular/core';\n\nimport { Paging } from '../../../domain/paging/read/paging';\n\n\n@Component({\n\tselector: 'gui-structure-paging-stats',\n\ttemplateUrl: `structure-paging-stats.component.html`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class StructurePagingStatsComponent implements OnChanges {\n\n\t@Input()\n\tpaging: Paging;\n\n\tsourceSize: number;\n\n\tfirstItemIndex: number;\n\n\tlastItemIndex: number;\n\n\tngOnChanges(changes: SimpleChanges) {\n\t\tthis.calculate();\n\t}\n\n\tcalculate(): void {\n\t\tif (this.paging) {\n\t\t\tthis.firstItemIndex = this.paging.getStart();\n\t\t\tthis.lastItemIndex = this.paging.getEnd();\n\t\t\tthis.sourceSize = this.paging.getSourceSize();\n\t\t}\n\t}\n\n\tisSourceNotEmpty(): boolean {\n\t\treturn this.sourceSize > 0;\n\t}\n\n}\n","import { ChangeDetectionStrategy, Component, EventEmitter, Input, OnChanges, Output } from '@angular/core';\n\nimport { Paging } from '../../../../domain/paging/read/paging';\nimport { PagingCommandService } from '../../../../ui-api/paging/paging-command.service';\n\n\n@Component({\n\tselector: 'gui-structure-alternative-paging-navigator',\n\ttemplateUrl: `structure-alternative-paging-navigator.component.html`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class StructureAlternativePagingNavigatorComponent implements OnChanges {\n\n\t@Input()\n\tpaging: Paging;\n\n\t@Input()\n\tsourceSize: number;\n\n\t@Output()\n\tnextPageChanged = new EventEmitter();\n\n\t@Output()\n\tprevPageChanged = new EventEmitter();\n\n\tprevDisabled: boolean = false;\n\n\tnextDisabled: boolean = false;\n\n\tconstructor(private pagingCommandService: PagingCommandService) {\n\t}\n\n\tngOnChanges() {\n\t\tthis.calculatePrev();\n\t\tthis.calculateNext();\n\t}\n\n\tprevPage(): void {\n\t\tthis.prevPageChanged.emit();\n\t}\n\n\tnextPage(): void {\n\t\tthis.nextPageChanged.emit();\n\t}\n\n\tfirstPage(): void {\n\t\tthis.pagingCommandService.goToPage(1, this.paging.getPage());\n\t}\n\n\tlastPage(): void {\n\t\tlet numberOfPages = Math.ceil(this.sourceSize / this.paging.getPageSize());\n\t\tthis.pagingCommandService.goToPage(numberOfPages, this.paging.getPage());\n\t}\n\n\tprivate calculatePrev(): void {\n\n\t\tif (!this.paging) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.prevDisabled = this.paging.isPrevPageDisabled();\n\t}\n\n\tprivate calculateNext(): void {\n\n\t\tif (!this.paging && !this.sourceSize) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.nextDisabled = this.paging.isNextPageDisabled();\n\t}\n\n}\n","import { ChangeDetectionStrategy, Component, Input, OnChanges, SimpleChanges } from '@angular/core';\n\nimport { Paging } from '../../../../domain/paging/read/paging';\nimport { PagingCommandService } from '../../../../ui-api/paging/paging-command.service';\n\n\n@Component({\n\tselector: 'gui-structure-alternative-paging-pages',\n\ttemplateUrl: `structure-alternative-paging-pages.component.html`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class StructureAlternativePagingPagesComponent implements OnChanges {\n\n\t@Input()\n\tpaging: Paging;\n\n\t@Input()\n\tsourceSize: number = 0;\n\n\tcurrentPage: number;\n\n\tpages: Array<number>;\n\n\tnumberOfVisiblePages: number = 3;\n\n\tconstructor(private pagingCommandService: PagingCommandService) {\n\t}\n\n\tngOnChanges(changes: SimpleChanges) {\n\t\tthis.calculate();\n\t}\n\n\tcalculate(): void {\n\t\tif (this.paging && this.sourceSize) {\n\t\t\tlet numberOfPages = Math.ceil(this.sourceSize / this.paging.getPageSize());\n\n\t\t\tthis.currentPage = this.paging.getPage();\n\n\t\t\tthis.pages = [];\n\t\t\tif (this.pages.length <= numberOfPages) {\n\t\t\t\tfor (let i = 1; i <= numberOfPages; i++) {\n\t\t\t\t\tthis.pages.push(i);\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t}\n\n\tisSourceNotEmpty(): boolean {\n\t\treturn this.sourceSize > 0;\n\t}\n\n\tgoToPage(pageNumber: number) {\n\t\tconst currentPage = this.paging.getPage();\n\t\tthis.pagingCommandService.goToPage(pageNumber, currentPage);\n\t}\n\n\tcalculateVisiblePages(page: number): boolean {\n\t\treturn this.paging.calculateVisiblePages(this.currentPage, this.numberOfVisiblePages, page);\n\t}\n\n\tactivePage(page: number): boolean {\n\t\treturn this.currentPage === page;\n\t}\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { FabricModule } from '@generic-ui/fabric';\n\nimport { StructurePagingComponent } from './structure-paging.component';\nimport { StructurePagingNavigatorComponent } from './navigator/structure-paging-navigator.component';\nimport { StructurePagingSelectComponent } from './select/structure-paging-select.component';\nimport { StructurePagingStatsComponent } from './stats/structure-paging-stats.component';\nimport { StructureAlternativePagingNavigatorComponent } from './alternative-paging/navigator/structure-alternative-paging-navigator.component';\nimport { StructureAlternativePagingPagesComponent } from './alternative-paging/pages/structure-alternative-paging-pages.component';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tFabricModule\n\t],\n\tdeclarations: [\n\t\tStructurePagingComponent,\n\t\tStructurePagingNavigatorComponent,\n\t\tStructurePagingSelectComponent,\n\t\tStructurePagingStatsComponent,\n\t\tStructureAlternativePagingNavigatorComponent,\n\t\tStructureAlternativePagingPagesComponent\n\t],\n\texports: [\n\t\tStructurePagingComponent,\n\t\tStructurePagingNavigatorComponent,\n\t\tStructurePagingSelectComponent,\n\t\tStructurePagingStatsComponent,\n\t\tStructureAlternativePagingNavigatorComponent,\n\t\tStructureAlternativePagingPagesComponent\n\t]\n})\nexport class StructurePagingModule {\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({ name: 'numberFormatter' })\nexport class NumberFormatterPipe implements PipeTransform {\n\n\ttransform(number: number): string {\n\t\treturn number.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ' ');\n\t}\n\n}\n","import { NgModule } from '@angular/core';\n\nimport { NumberFormatterPipe } from './number-formatter.pipe';\n\n@NgModule({\n\tdeclarations: [\n\t\tNumberFormatterPipe\n\t],\n\texports: [\n\t\tNumberFormatterPipe\n\t]\n})\nexport class NumberFormatterModule {\n\n}\n","import { ChangeDetectionStrategy, Component } from '@angular/core';\n\n@Component({\n\ttemplate: `\n\t\t<div class=\"gui-structure-info-modal\">\n\n\t\t\t<p class=\"gui-info-title\">Generic UI Grid</p>\n\n\t\t\t<p class=\"gui-info-version\">version 0.6.0</p>\n\n\t\t\t<p>Links:</p>\n\t\t\t<ul>\n\n\t\t\t\t<li>\n\t\t\t\t\t<a href=\"http://generic-ui.com/\">Website</a>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<a href=\"http://generic-ui.com/guide/\">Documentation</a>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<a href=\"https://github.com/generic-ui/generic-ui/tree/master/ngx-grid\">Github</a>\n\t\t\t\t</li>\n\t\t\t</ul>\n\n\t\t\t<p>Feedback:</p>\n\t\t\t<ul>\n\n\t\t\t\t<li>\n\t\t\t\t\t<a href=\"https://github.com/generic-ui/generic-ui/issues\">Report a bug</a>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<a href=\"https://github.com/generic-ui/generic-ui/issues\">Suggest an idea</a>\n\t\t\t\t</li>\n\n\t\t\t</ul>\n\t\t</div>\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class StructureInfoModalComponent {\n}\n","import { AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nexport class StructureInitedEvent extends DomainEvent {\n\n\tconstructor(aggregateId: AggregateId) {\n\t\tsuper(aggregateId, 'StructureInitedEvent');\n\t}\n}\n","import { AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nexport class VerticalScrollEnabledSetEvent extends DomainEvent {\n\n\tconstructor(aggregateId: AggregateId) {\n\t\tsuper(aggregateId, 'VerticalScrollEnabledSetEvent');\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { InMemoryStore } from '@generic-ui/hermes';\n\nimport { StructureAggregate } from '../../../domain/structure/command/structure.aggregate';\n\n\n@Injectable()\nexport class InMemoryStructureStore extends InMemoryStore<StructureAggregate> {\n}\n","import { ItemEntity } from '../../../source/item.entity';\n\nexport class SelectedRowsList {\n\n\tconstructor(private readonly rowIds: Array<string>) {\n\t}\n\n\tisRowSelected(entity: ItemEntity): boolean {\n\t\treturn !!(this.rowIds.find((id) => entity.equalsById(id)));\n\t}\n\n\tgetIds(): Array<string> {\n\t\treturn this.rowIds;\n\t}\n}\n","import { SelectedRowsList } from './selected-rows/selected-rows-list';\n\nexport class Formation {\n\n\tprivate readonly selectedRowsList: SelectedRowsList;\n\n\tconstructor(selectedRows: Array<string>) {\n\t\tthis.selectedRowsList = new SelectedRowsList(selectedRows);\n\t}\n\n\tgetSelectedRows(): SelectedRowsList {\n\t\treturn this.selectedRowsList;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { FormationAggregate } from './command/formation-aggregate';\nimport { Formation } from './read/formation';\n\n\n@Injectable()\nexport class FormationConverter {\n\n\tconvert(aggregate: FormationAggregate): Formation {\n\n\t\tconst rows = aggregate.getSelectedRows();\n\n\t\treturn new Formation(rows);\n\t}\n}\n","import { SchemaTheme } from '../schema-theme';\nimport { SchemaRowColoring } from '../schema-row-coloring';\n\nexport class SchemaCssClass {\n\n\tconstructor(public readonly verticalGrid: boolean,\n\t\t\t\tpublic readonly horizontalGrid: boolean,\n\t\t\t\tpublic readonly theme: SchemaTheme,\n\t\t\t\tpublic readonly rowColoring: SchemaRowColoring) {\n\t}\n\n\tgetRowColoring(): SchemaRowColoring {\n\t\treturn this.rowColoring;\n\t}\n}\n","import { SchemaRowColoring } from '../schema-row-coloring';\nimport { SchemaTheme } from '../schema-theme';\nimport { SchemaColumnHeader } from './schema-column-header';\nimport { SchemaCssClass } from './schema-css-class';\n\nexport class Schema {\n\n\tconstructor(private readonly width: number,\n\t\t\t\tprivate readonly height: number,\n\t\t\t\tprivate readonly containerHeight: number,\n\t\t\t\tprivate readonly verticalGridEnabled: boolean,\n\t\t\t\tprivate readonly horizontalGridEnabled: boolean,\n\t\t\t\tprivate readonly theme: SchemaTheme,\n\t\t\t\tprivate readonly columnHeader: SchemaColumnHeader,\n\t\t\t\tprivate readonly rowColoring: SchemaRowColoring) {\n\t}\n\n\tgetRowColoring(): SchemaRowColoring {\n\t\treturn this.rowColoring;\n\t}\n\n\tgetTheme(): SchemaTheme {\n\t\treturn this.theme;\n\t}\n\n\tgetHeight(): number {\n\t\treturn this.height;\n\t}\n\n\tgetContainerHeight(): number {\n\t\treturn this.containerHeight;\n\t}\n\n\tgetWidth(): number {\n\t\treturn this.width;\n\t}\n\n\tisVerticalGridEnabled(): boolean {\n\t\treturn this.verticalGridEnabled;\n\t}\n\n\tisHorizontalGridEnabled(): boolean {\n\t\treturn this.horizontalGridEnabled;\n\t}\n\n\tgetColumnHeader(): SchemaColumnHeader {\n\t\treturn this.columnHeader;\n\t}\n\n\tgetCssClasses(): SchemaCssClass {\n\t\treturn new SchemaCssClass(\n\t\t\tthis.isVerticalGridEnabled(),\n\t\t\tthis.isHorizontalGridEnabled(),\n\t\t\tthis.getTheme(),\n\t\t\tthis.getRowColoring()\n\t\t);\n\t}\n\n}\n","export class SchemaColumnHeader {\n\n\tconstructor(private readonly top: boolean,\n\t\t\t\tprivate readonly bottom: boolean) {\n\t}\n\n\tisTopHeaderEnabled(): boolean {\n\t\treturn this.top;\n\t}\n\n\tisBottomHeaderEnabled(): boolean {\n\t\treturn this.bottom;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { SchemaAggregate } from './command/schema-aggregate';\nimport { Schema } from './read/schema';\nimport { ColumnHeaderEntity } from './command/column-header/column-header.entity';\nimport { SchemaColumnHeader } from './read/schema-column-header';\n\n\n@Injectable()\nexport class SchemaConverter {\n\n\tconvert(aggregate: SchemaAggregate): Schema {\n\n\t\tconst columnHeader = aggregate.getColumnHeader();\n\n\t\treturn new Schema(\n\t\t\taggregate.getWidth(),\n\t\t\taggregate.getHeight(),\n\t\t\taggregate.getContainerHeight(),\n\t\t\taggregate.isVerticalGridEnabled(),\n\t\t\taggregate.isHorizontalGridEnabled(),\n\t\t\taggregate.getTheme(),\n\t\t\tthis.convertColumnHeader(columnHeader),\n\t\t\taggregate.getRowColoring()\n\t\t);\n\t}\n\n\tprivate convertColumnHeader(columnHeader: ColumnHeaderEntity): SchemaColumnHeader {\n\t\treturn new SchemaColumnHeader(columnHeader.isHeaderOnTop(), columnHeader.isHeaderOnBottom());\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { PagingAggregate } from './command/paging.aggregate';\nimport { Paging } from './read/paging';\n\n\n@Injectable()\nexport class PagingConverter {\n\n\tconvert(aggregate: PagingAggregate): Paging {\n\t\treturn new Paging(\n\t\t\taggregate.isEnabled(),\n\t\t\taggregate.getPage(),\n\t\t\taggregate.getPageSize(),\n\t\t\taggregate.getPageSizes(),\n\t\t\taggregate.isPagerTop(),\n\t\t\taggregate.isPagerBottom(),\n\t\t\taggregate.isNextPageDisabled(),\n\t\t\taggregate.isPrevPageDisabled(),\n\t\t\taggregate.calculateStart(),\n\t\t\taggregate.calculateEnd(),\n\t\t\taggregate.getSourceSize()\n\t\t);\n\t}\n\n}\n","export class Source {\n\n\tconstructor(private readonly loading: boolean) {\n\t}\n\n\tisLoading(): boolean {\n\t\treturn this.loading;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { Source } from './read/source';\nimport { SourceManager } from './command/source.manager';\n\n@Injectable()\nexport class SourceConverter {\n\n\tconvert(aggregate: SourceManager): Source {\n\t\treturn new Source(aggregate.isLoading());\n\t}\n\n}\n","export class VerticalFormationReadModel {\n\n\tconstructor(private readonly enabled: boolean,\n\t\t\t\tprivate readonly topMargin: number,\n\t\t\t\tprivate readonly containerHeight: number,\n\t\t\t\tprivate readonly viewportHeight: number,\n\t\t\t\tprivate readonly rowHeight: number) {\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n\tgetTopMargin(): number {\n\t\treturn this.topMargin;\n\t}\n\n\tgetContainerHeight(): number {\n\t\treturn this.containerHeight;\n\t}\n\n\tgetViewPortHeight(): number {\n\t\treturn this.viewportHeight;\n\t}\n\n\tgetRowHeight(): number {\n\t\treturn this.rowHeight;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { VerticalFormation } from '../../command/vertical-formation/vertical-formation';\nimport { VerticalFormationReadModel } from './vertical-formation.read-model';\n\n\n@Injectable()\nexport class VerticalFormationConverter {\n\n\tconvert(verticalFormation: VerticalFormation): VerticalFormationReadModel {\n\n\t\tconst enabled = verticalFormation.isEnabled(),\n\t\t\ttopMargin = verticalFormation.getTopMargin(),\n\t\t\tcontainerHeight = verticalFormation.calcFullHeight(),\n\t\t\tviewportHeight = verticalFormation.getViewPortHeight(),\n\t\t\trowHeight = verticalFormation.getRowHeight();\n\n\t\treturn new VerticalFormationReadModel(enabled, topMargin, containerHeight, viewportHeight, rowHeight);\n\t}\n\n}\n","import { AggregateId, ReadModel } from '@generic-ui/hermes';\n\nimport { Formation } from '../../formation/read/formation';\nimport { Schema } from '../../schema/read/schema';\nimport { Paging } from '../../paging/read/paging';\nimport { Source } from '../../source/read/source';\nimport { ItemEntity } from '../../source/item.entity';\nimport { VerticalFormationReadModel } from './vertical-formation/vertical-formation.read-model';\n\n\nexport class Structure extends ReadModel {\n\n\tprivate readonly formation: Formation;\n\n\tprivate readonly schema: Schema;\n\n\tprivate readonly paging: Paging;\n\n\tprivate readonly entities: Array<ItemEntity>;\n\n\tprivate readonly source: Source;\n\n\tprivate readonly verticalFormation: VerticalFormationReadModel;\n\n\tconstructor(uid: AggregateId,\n\t\t\t\tformation: Formation,\n\t\t\t\tschema: Schema,\n\t\t\t\tpaging: Paging,\n\t\t\t\tentities: Array<ItemEntity>,\n\t\t\t\tsource: Source,\n\t\t\t\tverticalFormation: VerticalFormationReadModel) {\n\t\tsuper(uid);\n\t\tthis.formation = formation;\n\t\tthis.schema = schema;\n\t\tthis.paging = paging;\n\t\tthis.entities = entities;\n\t\tthis.source = source;\n\t\tthis.verticalFormation = verticalFormation;\n\t}\n\n\tgetFormation(): Formation {\n\t\treturn this.formation;\n\t}\n\n\tgetSchema(): Schema {\n\t\treturn this.schema;\n\t}\n\n\tgetPaging(): Paging {\n\t\treturn this.paging;\n\t}\n\n\tgetEntities(): Array<ItemEntity> {\n\t\treturn this.entities;\n\t}\n\n\tgetSource(): Source {\n\t\treturn this.source;\n\t}\n\n\tgetVerticalFormation(): VerticalFormationReadModel {\n\t\treturn this.verticalFormation;\n\t}\n\n\tgetSelectedEntities(): Array<ItemEntity> {\n\n\t\tconst selectedIds = this.formation.getSelectedRows().getIds();\n\n\t\treturn this.entities.filter((entity: ItemEntity) => {\n\t\t\treturn selectedIds.some((id: string) => entity.equalsById(id));\n\t\t});\n\t}\n\n\tgetTopMargin(): number {\n\t\treturn this.verticalFormation.getTopMargin();\n\t}\n\n\tgetContainerHeight(): number {\n\t\treturn this.verticalFormation.getContainerHeight();\n\t}\n\n\tisLoaderVisible(): boolean {\n\t\tif (this.getSchema().getHeight() > 150) {\n\t\t\treturn this.getSource().isLoading();\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tisTopHeaderEnabled(): boolean {\n\t\treturn this.schema.getColumnHeader().isTopHeaderEnabled();\n\t\t// && this.presentation.getColumns().length > 0; // TODO Move schema.topHeader to presentation\n\t}\n\n\tisBottomHeaderEnabled(): boolean {\n\t\treturn this.schema.getColumnHeader().isBottomHeaderEnabled();\n\t\t// && this.presentation.getColumns().length > 0; // TODO Move schema.bottomHeader to presentation\n\t}\n\n\tisReadyToDisplay(): boolean {\n\t\treturn this.entities.length > 0;\n\t\t// this.presentation.getColumns().length > 0; // TODO presentation getColumns\n\t}\n\n\tisVerticalScrollEnabled(): boolean {\n\t\treturn this.verticalFormation.isEnabled();\n\t}\n\n}\n\n","import { Entity, RandomStringGenerator } from '@generic-ui/hermes';\n\n\n@Entity\nexport class ItemEntity {\n\n\tprivate readonly id: string;\n\n\tprivate readonly data: any;\n\n\tprivate readonly position: number;\n\n\tprivate readonly version: number = 0;\n\n\tconstructor(data: any,\n\t\t\t\tposition: number,\n\t\t\t\tid?: string,\n\t\t\t\tversion: number = 0) {\n\t\tthis.data = data;\n\t\tthis.position = position;\n\t\tthis.version = version;\n\t\tif (!id) {\n\t\t\tthis.id = RandomStringGenerator.generate();\n\t\t} else {\n\t\t\tthis.id = id;\n\t\t}\n\t}\n\n\tgetData(): any {\n\t\treturn this.data;\n\t}\n\n\tgetUiId(): string {\n\t\treturn 'gui' + this.id.replace(/-/g, '');\n\t}\n\n\tgetId(): string {\n\t\treturn this.id;\n\t}\n\n\tgetVersion(): number {\n\t\treturn this.version;\n\t}\n\n\tgetPosition(): number {\n\t\treturn this.position;\n\t}\n\n\tisEven(): boolean {\n\t\treturn this.position % 2 === 0;\n\t}\n\n\tisOdd(): boolean {\n\t\treturn this.position % 2 === 1;\n\t}\n\n\tequals(entity: ItemEntity): boolean {\n\t\treturn this.id === entity.id && this.getVersion() === entity.getVersion();\n\t}\n\n\tequalsById(id: string): boolean {\n\t\treturn this.id === id;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { FormationConverter } from '../formation/formation.converter';\nimport { SchemaConverter } from '../schema/schema.converter';\nimport { PagingConverter } from '../paging/paging.converter';\nimport { SourceConverter } from '../source/source.converter';\nimport { VerticalFormationConverter } from './read/vertical-formation/vertical-formation.converter';\nimport { StructureAggregate } from './command/structure.aggregate';\nimport { Structure } from './read/structure';\nimport { OriginItemEntity } from '../source/command/origin/origin-item-entity';\nimport { ItemEntity } from '../source/item.entity';\n\n\n@Injectable()\nexport class StructureConverter {\n\n\tconstructor(private formationConverter: FormationConverter,\n\t\t\t\tprivate schemaConverter: SchemaConverter,\n\t\t\t\tprivate pagingConverter: PagingConverter,\n\t\t\t\tprivate sourceConverter: SourceConverter,\n\t\t\t\tprivate verticalFormationConverter: VerticalFormationConverter) {\n\t}\n\n\tconvert(aggregate: StructureAggregate): Structure {\n\n\t\tconst formationAggregate = aggregate.getFormation(),\n\t\t\tschemaAggregate = aggregate.getSchema(),\n\t\t\tpagingAggregate = aggregate.getPaging(),\n\t\t\tsourceQuery = aggregate.getEntities(),\n\t\t\tsourceCoordinator = aggregate.getSource(),\n\t\t\tverticalFormation = aggregate.getVerticalFormation();\n\n\t\treturn new Structure(\n\t\t\taggregate.getId(),\n\t\t\tthis.formationConverter.convert(formationAggregate),\n\t\t\tthis.schemaConverter.convert(schemaAggregate),\n\t\t\tthis.pagingConverter.convert(pagingAggregate),\n\t\t\tthis.convertSource(sourceQuery),\n\t\t\tthis.sourceConverter.convert(sourceCoordinator),\n\t\t\tthis.verticalFormationConverter.convert(verticalFormation)\n\t\t);\n\t}\n\n\tprivate convertSource(source: Array<OriginItemEntity>): Array<ItemEntity> {\n\t\treturn source.map((originItem: OriginItemEntity) => {\n\t\t\treturn new ItemEntity(originItem.rawData, originItem.getPosition(), originItem.id, originItem.getVersion());\n\t\t});\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { InMemoryReadModelStore } from '@generic-ui/hermes';\n\nimport { Structure } from '../../../../domain/structure/read/structure';\nimport { StructureAggregate } from '../../../../domain/structure/command/structure.aggregate';\nimport { InMemoryStructureStore } from '../in-memory.structure.store';\nimport { StructureConverter } from '../../../../domain/structure/structure.converter';\n\n\n@Injectable()\nexport class InMemoryStructureReadStore extends InMemoryReadModelStore<Structure, StructureAggregate> {\n\n\tconstructor(private inMemoryProjectStore: InMemoryStructureStore,\n\t\t\t\tprivate structureConverter: StructureConverter) {\n\t\tsuper(inMemoryProjectStore);\n\t}\n\n\ttoReadModel(aggregate: StructureAggregate): Structure {\n\t\treturn this.structureConverter.convert(aggregate);\n\t}\n\n}\n","import { AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nexport class RowHeightSetEvent extends DomainEvent {\n\n\tconstructor(aggregateId: AggregateId) {\n\t\tsuper(aggregateId, 'RowHeightSetEvent');\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, ReplaySubject } from 'rxjs';\nimport { filter, map } from 'rxjs/operators';\n\nimport { DomainEvent, DomainEventBus } from '@generic-ui/hermes';\n\nimport { Reactive } from '../../../../../../common/cdk/reactive';\nimport { StructureId } from '../../../structure-id';\nimport { VerticalFormationReadModel } from './vertical-formation.read-model';\nimport { StructureInitedEvent } from '../../command/init/structure-inited.event';\nimport { VerticalScrollEnabledSetEvent } from '../../command/vertical-formation/set-enabled/vertical-scroll-enabled-set.event';\nimport { InMemoryStructureReadStore } from '../../../../infrastructure/in-memory/structure/read/in-memory-structure.read-store';\nimport { RowHeightSetEvent } from '../../command/vertical-formation/set-row-height/row-height-set.event';\n\n\n@Injectable()\nexport class VerticalFormationRepository extends Reactive {\n\n\tprivate readonly verticalFormation = new Map<string, VerticalFormationReadModel>();\n\n\tprivate readonly verticalFormation$ = new ReplaySubject<Map<string, VerticalFormationReadModel>>();\n\n\tconstructor(private readonly domainEventBus: DomainEventBus,\n\t\t\t\tprivate inMemoryStructureQueryStore: InMemoryStructureReadStore) {\n\t\tsuper();\n\n\t\tthis.domainEventBus\n\t\t\t.ofEvent(\n\t\t\t\tStructureInitedEvent,\n\t\t\t\tVerticalScrollEnabledSetEvent,\n\t\t\t\tRowHeightSetEvent\n\t\t\t)\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((event: DomainEvent) => {\n\n\t\t\t\tconst aggregateId = event.aggregateId;\n\n\t\t\t\tconst structure = this.inMemoryStructureQueryStore.getById(aggregateId),\n\t\t\t\t\tverticalFormation = structure.getVerticalFormation(),\n\t\t\t\t\tstructureId = structure.getId();\n\n\t\t\t\tthis.next(structureId, verticalFormation);\n\t\t\t});\n\t}\n\n\tonVerticalScrollEnabled(structureId: StructureId): Observable<boolean> {\n\n\t\treturn this.onVerticalFormation(structureId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((v: VerticalFormationReadModel) => v.isEnabled())\n\t\t\t\t   );\n\t}\n\n\tonRowHeight(structureId: StructureId): Observable<number> {\n\n\t\treturn this.onVerticalFormation(structureId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((v: VerticalFormationReadModel) => v.getRowHeight())\n\t\t\t\t   );\n\t}\n\n\tprivate onVerticalFormation(structureId: StructureId): Observable<VerticalFormationReadModel> {\n\n\t\treturn this.verticalFormation$\n\t\t\t\t   .asObservable()\n\t\t\t\t   .pipe(\n\t\t\t\t\t   filter((idToVerticalFormation: Map<string, VerticalFormationReadModel>) => {\n\n\t\t\t\t\t\t   const key = structureId.getId();\n\n\t\t\t\t\t\t   return idToVerticalFormation.has(key);\n\t\t\t\t\t   }),\n\t\t\t\t\t   map((idToVerticalFormation: Map<string, VerticalFormationReadModel>) => idToVerticalFormation.get(structureId.getId()))\n\t\t\t\t   );\n\t}\n\n\tprivate next(structureId: StructureId, verticalFormation: VerticalFormationReadModel): void {\n\t\tthis.verticalFormation.set(structureId.toString(), verticalFormation);\n\t\tthis.verticalFormation$.next(this.verticalFormation);\n\t}\n\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { distinctUntilChanged, map } from 'rxjs/operators';\n\nimport { AggregateId } from '@generic-ui/hermes';\n\nimport { StructureRepository } from '../../domain/structure/read/structure.repository';\nimport { globalStructureId } from '../../domain/global-structure-id';\nimport { Structure } from '../../domain/structure/read/structure';\nimport { VerticalFormationRepository } from '../../domain/structure/read/vertical-formation/vertical-formation.repository';\n\n\n@Injectable()\nexport class StructureReadModelService {\n\n\tconstructor(private structureRepository: StructureRepository,\n\t\t\t\tprivate verticalFormationRepository: VerticalFormationRepository) {\n\t}\n\n\tonStructure(aggregateId: AggregateId = globalStructureId): Observable<Structure> {\n\t\treturn this.structureRepository.onStructure(aggregateId);\n\t}\n\n\tonVerticalScrollEnabled(aggregateId: AggregateId = globalStructureId): Observable<boolean> {\n\t\treturn this.structureRepository\n\t\t\t\t   .onStructure(aggregateId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((structure: Structure) => structure.isVerticalScrollEnabled()),\n\t\t\t\t\t   distinctUntilChanged()\n\t\t\t\t   );\n\t}\n\n\tonRowHeight(aggregateId: AggregateId = globalStructureId): Observable<number> {\n\t\treturn this.verticalFormationRepository.onRowHeight(aggregateId);\n\t}\n\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, OnInit, Renderer2, ViewEncapsulation } from '@angular/core';\n\nimport { FabricDialogService } from '@generic-ui/fabric';\n\nimport { SmartComponent } from '../../../../../common/cdk/smart-component';\n\nimport { StructureInfoModalComponent } from './structure-info-modal.component';\n\nimport { SourceReadModelService } from '../../../ui-api/source/source-read-model.service';\nimport { StructureReadModelService } from '../../../ui-api/structure/structure-read-model.service';\n\n\n@Component({\n\tselector: 'gui-structure-info-panel',\n\ttemplate: `\n\n\t\t<ng-container *ngIf=\"preparedItemsSize !== undefined && totalItemsSize !== undefined\">\n\n\t\t\t<p *ngIf=\"preparedItemsSize === totalItemsSize\">\n\t\t\t\tShowing <b>{{totalItemsSize | numberFormatter}}</b> items\n\t\t\t</p>\n\n\t\t\t<p *ngIf=\"preparedItemsSize !== totalItemsSize\">\n\t\t\t\tShowing <b>{{preparedItemsSize | numberFormatter}}</b> out of <b>{{totalItemsSize | numberFormatter}}</b> items\n\t\t\t</p>\n\n\t\t</ng-container>\n\t\t<div>\n\t\t\t<p (click)=\"openInfo()\">\n\t\t\t\t<button>i</button>\n\t\t\t\tInfo\n\t\t\t</p>\n\t\t</div>\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureInfoPanelComponent extends SmartComponent implements OnInit {\n\n\ttotalItemsSize: number;\n\n\tpreparedItemsSize: number;\n\n\trowHeight: number;\n\n\tinfoPanel = StructureInfoModalComponent;\n\n\tconstructor(private changeDetectorRef: ChangeDetectorRef,\n\t\t\t\tprivate renderer: Renderer2,\n\t\t\t\tprivate elementRef: ElementRef,\n\t\t\t\tprivate sourceQueryService: SourceReadModelService,\n\t\t\t\tprivate dialog: FabricDialogService,\n\t\t\t\tprivate structureReadModelService: StructureReadModelService) {\n\t\tsuper();\n\t}\n\n\tngOnInit() {\n\n\t\tthis.sourceQueryService\n\t\t\t.onOriginSize()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((size: number) => {\n\t\t\t\tthis.totalItemsSize = size;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.sourceQueryService\n\t\t\t.onPreparedEntities()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((preparedItems: Array<any>) => {\n\t\t\t\tthis.preparedItemsSize = preparedItems.length;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.structureReadModelService\n\t\t\t.onRowHeight()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((rowHeight: number) => {\n\t\t\t\tthis.rowHeight = rowHeight;\n\t\t\t\tthis.renderer.setStyle(this.elementRef.nativeElement, 'line-height', '30px');\n\t\t\t});\n\t}\n\n\topenInfo() {\n\t\tthis.dialog.open(this.infoPanel);\n\t}\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { NumberFormatterModule } from '../../../../../common/cdk/number-formatter/number-formatter.module';\nimport { StructureInfoPanelComponent } from './structure.info-panel.component';\nimport { StructureInfoModalComponent } from './structure-info-modal.component';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tNumberFormatterModule\n\t],\n\tdeclarations: [\n\t\tStructureInfoPanelComponent,\n\t\tStructureInfoModalComponent\n\t],\n\texports: [\n\t\tStructureInfoModalComponent,\n\t\tStructureInfoPanelComponent\n\t],\n\tentryComponents: [\n\t\tStructureInfoModalComponent\n\t]\n})\nexport class StructureInfoPanelModule {\n\n}\n","import { Component, TemplateRef, ViewChild } from '@angular/core';\n\nimport { CellView } from '../../cell-view';\nimport { TemplatesComponent } from '../template/templates.component';\n\n\n@Component({\n\ttemplate: `\n\n\t\t<ng-template #text let-element=\"element\">\n\t\t\t{{ element }}\n\t\t</ng-template>\n\n\t\t<ng-template #number let-element=\"element\">\n\t\t\t<span class=\"gui-cell-number\">\n\t\t\t\t{{ element }}\n\t\t\t</span>\n\t\t</ng-template>\n\n\t\t<ng-template #chip let-element=\"element\">\n\t\t\t<gui-chip>\n\t\t\t\t{{ element }}\n\t\t\t</gui-chip>\n\t\t</ng-template>\n\n\t\t<ng-template #link let-element=\"element\">\n\t\t\t<a gui-button link=\"true\" href=\"{{ element }}\">\n\t\t\t\t{{ element }}\n\t\t\t</a>\n\t\t</ng-template>\n\n\t\t<ng-template #image let-element=\"element\">\n\t\t\t<img src=\"{{ element }}\"/>\n\t\t</ng-template>\n\n\t\t<ng-template #checkbox let-element=\"element\">\n\t\t\t<span class=\"gui-cell-boolean\">\n\t\t\t\t<gui-checkbox [checked]=\"!!element\" [disabled]=\"true\"></gui-checkbox>\n\t\t\t</span>\n\t\t</ng-template>\n\n\t\t<ng-template #bold let-element=\"element\">\n\t\t\t<span class=\"gui-bold\">{{ element }}</span>\n\t\t</ng-template>\n\n\t\t<ng-template #italic let-element=\"element\">\n\t\t\t<span class=\"gui-italic\">{{ element }}</span>\n\t\t</ng-template>\n\n\t\t<ng-template #custom let-element=\"element\">\n\t\t\t{{ element }}\n\t\t</ng-template>\n\n\t\t<ng-template #function let-element=\"element\">\n\t\t\t<gui-function-view [element]=\"element\"></gui-function-view>\n\t\t</ng-template>\n\n\t`\n})\nexport class ViewTemplatesComponent implements TemplatesComponent {\n\n\t@ViewChild('text', { read: TemplateRef, static: true })\n\ttextTemplate: TemplateRef<any>;\n\n\t@ViewChild('number', { read: TemplateRef, static: true })\n\tnumberTemplate: TemplateRef<any>;\n\n\t@ViewChild('chip', { read: TemplateRef, static: true })\n\tchipTemplate: TemplateRef<any>;\n\n\t@ViewChild('link', { read: TemplateRef, static: true })\n\tlinkTemplate: TemplateRef<any>;\n\n\t@ViewChild('image', { read: TemplateRef, static: true })\n\timageTemplate: TemplateRef<any>;\n\n\t@ViewChild('checkbox', { read: TemplateRef, static: true })\n\tcheckboxTemplate: TemplateRef<any>;\n\n\t@ViewChild('bold', { read: TemplateRef, static: true })\n\tboldTemplate: TemplateRef<any>;\n\n\t@ViewChild('italic', { read: TemplateRef, static: true })\n\titalicTemplate: TemplateRef<any>;\n\n\t@ViewChild('custom', { read: TemplateRef, static: true })\n\tcustomTemplate: TemplateRef<any>;\n\n\t@ViewChild('function', { read: TemplateRef, static: true })\n\tfunctionTemplate: TemplateRef<any>;\n\n\tgetTemplate(view: CellView): TemplateRef<any> {\n\n\t\tswitch (view) {\n\n\t\t\tcase CellView.TEXT:\n\t\t\t\treturn this.textTemplate;\n\n\t\t\tcase CellView.CHIP:\n\t\t\t\treturn this.chipTemplate;\n\n\t\t\tcase CellView.LINK:\n\t\t\t\treturn this.linkTemplate;\n\n\t\t\tcase CellView.IMAGE:\n\t\t\t\treturn this.imageTemplate;\n\n\t\t\tcase CellView.CHECKBOX:\n\t\t\t\treturn this.checkboxTemplate;\n\n\t\t\tcase CellView.BOLD:\n\t\t\t\treturn this.boldTemplate;\n\n\t\t\tcase CellView.ITALIC:\n\t\t\t\treturn this.italicTemplate;\n\n\t\t\tcase CellView.CUSTOM:\n\t\t\t\treturn this.customTemplate;\n\n\t\t\tcase CellView.FUNCTION:\n\t\t\t\treturn this.functionTemplate;\n\n\t\t\tdefault:\n\t\t\t\treturn this.textTemplate;\n\t\t}\n\t}\n\n}\n","import { Observable, ReplaySubject } from 'rxjs';\n\nexport class ChangedValueEmitter<T> {\n\n\tprivate subject$ = new ReplaySubject<T>(1);\n\n\tconstructor() {\n\t}\n\n\temit(value: T): void {\n\t\tthis.subject$.next(value);\n\t}\n\n\ton(): Observable<T> {\n\t\treturn this.subject$.asObservable();\n\t}\n}\n","export enum EditEventType {\n\tSUBMIT,\n\tBLUR,\n\tCANCEL\n}\n","import { Input } from '@angular/core';\n\nimport { SmartComponent } from '../../../../../common/cdk/smart-component';\n\nimport { ChangedValueEmitter } from './changed-value.emitter';\nimport { EditEventType } from './state/edit.event-type';\n\n\nexport abstract class EditCommunicationComponent<T> extends SmartComponent {\n\n\t@Input()\n\tvalue: T;\n\n\t@Input()\n\tvalueChanges: ChangedValueEmitter<T>;\n\n\t@Input()\n\tstatus: ChangedValueEmitter<EditEventType>;\n\n\t@Input()\n\tfocus: boolean;\n\n\tprotected readonly ENTER_KEY_CODE = 13;\n\n\tprotected readonly ESC_KEY_CODE = 27;\n\n\tsubmit(): void {\n\t\tthis.emitStatus(EditEventType.SUBMIT);\n\t}\n\n\tcancel(): void {\n\t\tthis.emitStatus(EditEventType.CANCEL);\n\t}\n\n\tprivate emitStatus(status: EditEventType): void {\n\t\tif (this.status) {\n\t\t\tthis.status.emit(status);\n\t\t}\n\t}\n\n}\n","import { ElementRef, SimpleChanges, ViewChild } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { fromEvent } from 'rxjs';\nimport { filter } from 'rxjs/operators';\n\nimport { EditCommunicationComponent } from '../edit-communication.component';\n\n\nexport abstract class InputEditTemplateComponent<T> extends EditCommunicationComponent<T> {\n\n\t@ViewChild('input', { static: true })\n\tinputRef: ElementRef;\n\n\tfilterForm: FormGroup;\n\n\treadonly filterFieldName = 'phrase';\n\n\tprotected constructor(private formBuilder: FormBuilder) {\n\t\tsuper();\n\t\tthis.filterForm = this.formBuilder.group({\n\t\t\t[this.filterFieldName]: ['']\n\t\t});\n\t}\n\n\tngOnChanges(changes: SimpleChanges) {\n\t\tif (changes.value !== undefined) {\n\t\t\tthis.filterForm.get(this.filterFieldName).setValue(this.value);\n\t\t}\n\t}\n\n\tngOnInit() {\n\t\tthis.observeChanges();\n\t}\n\n\tngAfterViewInit() {\n\t\tconst inputElement = this.inputRef.nativeElement;\n\n\t\tthis.focusField(inputElement);\n\n\t\tthis.emitValueChange(inputElement.value);\n\n\t\tfromEvent(inputElement, 'blur')\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe(() => {\n\t\t\t\tthis.unsubscribe();\n\t\t\t\tthis.submit();\n\t\t\t});\n\n\t\tconst keyup$ = fromEvent(inputElement, 'keyup');\n\n\t\tkeyup$\n\t\t\t.pipe(\n\t\t\t\tfilter((e: any) => e.keyCode === this.ENTER_KEY_CODE),\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe(() => {\n\t\t\t\tthis.unsubscribe();\n\t\t\t\tthis.submit();\n\t\t\t});\n\n\t\tkeyup$\n\t\t\t.pipe(\n\t\t\t\tfilter((e: any) => e.keyCode === this.ESC_KEY_CODE),\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe(() => {\n\t\t\t\tthis.unsubscribe();\n\t\t\t\tthis.cancel();\n\t\t\t});\n\t}\n\n\tfocusField(inputElement: HTMLElement): void {\n\t\tif (this.focus) {\n\t\t\tinputElement.focus();\n\t\t}\n\t}\n\n\tprivate observeChanges() {\n\t\tthis.filterForm\n\t\t\t.controls[this.filterFieldName]\n\t\t\t.valueChanges\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((value: string) => {\n\t\t\t\tthis.emitValueChange(value);\n\t\t\t});\n\t}\n\n\tprivate emitValueChange(value: any): void {\n\t\tif (this.valueChanges) {\n\t\t\tthis.valueChanges.emit(value);\n\t\t}\n\t}\n}\n","import { ChangeDetectionStrategy, Component, ViewEncapsulation } from '@angular/core';\nimport { FormBuilder } from '@angular/forms';\nimport { InputEditTemplateComponent } from './input-edit-template.component';\n\n\n@Component({\n\tselector: 'gui-number-edit',\n\ttemplate: `\n\n\t\t<form [formGroup]=\"filterForm\" >\n\t\t\t<input #input [formControlName]=\"filterFieldName\" type=\"number\" class=\"gui-input\" />\n\t\t</form>\n\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class NumberEditTemplateComponent extends InputEditTemplateComponent<number> {\n\n\tconstructor(fb: FormBuilder) {\n\t\tsuper(fb);\n\t}\n}\n","/**\n * Override decorator\n *\n * class Car {\n *     drive() {}\n * }\n *\n * class FastCar {\n *     @Override\n *     drive() {}}\n * }\n */\nexport function Override(container: { [key: string]: any }, key: string) {\n\tconst basePrototype = Object.getPrototypeOf(container);\n\tif (typeof basePrototype[key] !== 'function') {\n\t\tthrow new Error('Method \"' + key + '\" of class \"' + container.constructor.name + '\" doesn\\'t override any method of base class.');\n\t}\n};\n","import { ChangeDetectionStrategy, Component, ViewEncapsulation } from '@angular/core';\nimport { FormBuilder } from '@angular/forms';\n\nimport { Override } from '../../../../../../common/cdk/decorators';\n\nimport { InputEditTemplateComponent } from './input-edit-template.component';\n\n\n@Component({\n\tselector: 'gui-string-edit',\n\ttemplate: `\n\n\t\t<form [formGroup]=\"filterForm\" >\n\t\t\t<input #input [formControlName]=\"filterFieldName\" type=\"type\" class=\"gui-input\" />\n\t\t</form>\n\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StringEditTemplateComponent extends InputEditTemplateComponent<string> {\n\n\tconstructor(fb: FormBuilder) {\n\t\tsuper(fb);\n\t}\n\n\t@Override\n\tfocusField(inputElement: any): void {\n\n\t\tif (this.focus) {\n\t\t\tinputElement.focus();\n\t\t\tinputElement.setSelectionRange(0, inputElement.value.length);\n\t\t}\n\t}\n}\n","import { Component, TemplateRef, ViewChild } from '@angular/core';\n\nimport { TemplatesComponent } from '../template/templates.component';\nimport { DataType } from '../../../../structure/domain/structure/command/field/data-type/data-type';\n\n\n@Component({\n\ttemplate: `\n\n\t\t<ng-template #string let-valueChanges=\"valueChanges\" let-value=\"value\" let-status=\"status\" let-focus=\"focus\" >\n\t\t\t<gui-string-edit [valueChanges]=\"valueChanges\" [value]=\"value\" [status]=\"status\" [focus]=\"focus\">\n\t\t\t</gui-string-edit>\n\t\t</ng-template>\n\n\t\t<ng-template #number let-valueChanges=\"valueChanges\" let-value=\"value\" let-status=\"status\" let-focus=\"focus\" >\n\t\t\t<gui-number-edit [valueChanges]=\"valueChanges\" [value]=\"value\" [status]=\"status\" [focus]=\"focus\">\n\t\t\t</gui-number-edit>\n\t\t</ng-template>\n\n\t\t<ng-template #boolean let-valueChanges=\"valueChanges\" let-value=\"value\" let-status=\"status\" let-focus=\"focus\" >\n\t\t\t<gui-boolean-edit [valueChanges]=\"valueChanges\" [value]=\"value\" [status]=\"status\" [focus]=\"focus\">\n\t\t\t</gui-boolean-edit>\n\t\t</ng-template>\n\n\t\t<ng-template #empty>\n\n\t\t</ng-template>\n\n\t`\n})\nexport class EditTemplatesComponent implements TemplatesComponent {\n\n\t@ViewChild('string', { read: TemplateRef, static: true })\n\tstringTemplate: TemplateRef<any>;\n\n\t@ViewChild('number', { read: TemplateRef, static: true })\n\tnumberTemplate: TemplateRef<any>;\n\n\t@ViewChild('boolean', { read: TemplateRef, static: true })\n\tbooleanTemplate: TemplateRef<any>;\n\n\t@ViewChild('empty', { read: TemplateRef, static: true })\n\temptyTemplate: TemplateRef<any>;\n\n\tgetTemplate(dataType: DataType): TemplateRef<any> {\n\n\t\tswitch (dataType) {\n\n\t\t\tcase DataType.STRING:\n\t\t\t\treturn this.stringTemplate;\n\n\t\t\tcase DataType.NUMBER:\n\t\t\t\treturn this.numberTemplate;\n\n\t\t\tcase DataType.BOOLEAN:\n\t\t\t\treturn this.booleanTemplate;\n\n\t\t\tdefault:\n\t\t\t\treturn this.emptyTemplate;\n\t\t}\n\t}\n\n}\n","import { ChangeDetectionStrategy, Component, ElementRef, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { fromEvent } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\n\nimport { EditCommunicationComponent } from '../edit-communication.component';\n\n\n@Component({\n\tselector: 'gui-boolean-edit',\n\ttemplate: `\n\n\t\t<gui-checkbox #checkbox\n\t\t\t\t\t  [checked]=\"value\"\n\t\t\t\t\t  [name]=\"filterFieldName\"\n\t\t\t\t\t  (changed)=\"toggle($event)\">\n\t\t</gui-checkbox>\n\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class BooleanEditTemplateComponent extends EditCommunicationComponent<boolean> {\n\n\t@ViewChild('checkbox', { read: ElementRef, static: true })\n\tcheckboxRef: ElementRef;\n\n\treadonly filterFieldName = 'booleanEdit';\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tngAfterViewInit() {\n\t\tconst inputElement = this.checkboxRef.nativeElement.querySelector('input[type=\"checkbox\"]');\n\n\t\tinputElement.focus();\n\n\t\tfromEvent(inputElement, 'blur')\n\t\t\t.pipe(\n\t\t\t\tdebounceTime(400),\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe(() => {\n\t\t\t\tthis.unsubscribe();\n\t\t\t\tthis.submit();\n\t\t\t});\n\t}\n\n\ttoggle(changed: boolean): void {\n\t\tthis.valueChanges.emit(changed);\n\t}\n\n\n}\n","import { Component, ContentChild, Input, TemplateRef } from '@angular/core';\n\n\n@Component({\n\tselector: 'gui-column',\n\ttemplate: ''\n})\nexport class ColumnQueryComponent {\n\n\t@ContentChild(TemplateRef, { static: false })\n\tcellTemplate: TemplateRef<any>;\n\n\theaderTemplate: TemplateRef<any>;\n\n\t@Input()\n\theader: string;\n\n}\n","import { ChangeDetectionStrategy, Component, Input } from '@angular/core';\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\n\n\n@Component({\n\tselector: 'gui-function-view',\n\ttemplate: `\n\n\t\t<div [innerHTML]=\"safeHTML\"></div>\n\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class FunctionViewComponent {\n\n\t@Input()\n\telement: any;\n\n\tsafeHTML: SafeHtml;\n\n\tconstructor(private sanitizer: DomSanitizer) {\n\t}\n\n\tngOnChanges() {\n\t\tthis.safeHTML = this.sanitizer.bypassSecurityTrustHtml(this.element);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { InMemoryStore } from '@generic-ui/hermes';\n\nimport { CompositionAggregate } from '../../domain/command/composition.aggregate';\n\n\n@Injectable()\nexport class InMemoryCompositionStore extends InMemoryStore<CompositionAggregate> {\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateStoreRegister, InMemoryAggregateStore } from '@generic-ui/hermes';\n\nimport { CompositionAggregate } from '../../../domain/command/composition.aggregate';\n\nimport { InMemoryCompositionStore } from '../in-memory.composition.store';\n\n\n@Injectable()\nexport class InMemoryCompositionAggregateStore extends InMemoryAggregateStore<CompositionAggregate> {\n\n\tconstructor(inMemoryCompositionStore: InMemoryCompositionStore,\n\t\t\t\taggregateStoreRegister: AggregateStoreRegister) {\n\t\tsuper(inMemoryCompositionStore, aggregateStoreRegister);\n\t}\n\n}\n","import { CompositionId } from '../composition-id';\nimport { CompositionAggregate } from './composition.aggregate';\n\n\nexport abstract class CompositionAggregateRepository {\n\n\tabstract getById(compositionId: CompositionId): CompositionAggregate;\n\n\tabstract save(aggregate: CompositionAggregate): void;\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateId } from '@generic-ui/hermes';\n\nimport { CompositionAggregateRepository } from '../../../domain/command/composition.aggregate-repository';\nimport { InMemoryCompositionAggregateStore } from './in-memory.composition.aggregate-store';\nimport { CompositionAggregate } from '../../../domain/command/composition.aggregate';\n\n\n@Injectable()\nexport class InMemoryCompositionAggregateRepository extends CompositionAggregateRepository {\n\n\tconstructor(private inMemoryCompositionAggregateStore: InMemoryCompositionAggregateStore) {\n\t\tsuper();\n\t}\n\n\tgetById(aggregateId: AggregateId): CompositionAggregate {\n\t\treturn this.inMemoryCompositionAggregateStore.getById(aggregateId);\n\t}\n\n\tsave(aggregate: CompositionAggregate): void {\n\t\tthis.inMemoryCompositionAggregateStore.save(aggregate);\n\t}\n\n}\n","import { ComponentFactoryResolver, ComponentRef, Injector, TemplateRef, Type } from '@angular/core';\nimport { TemplatesComponent } from './templates.component';\nimport { DataType } from '../../../../structure/domain/structure/command/field/data-type/data-type';\nimport { CellView } from '../../cell-view';\n\n\nexport abstract class TemplateFactory<T extends TemplatesComponent> {\n\n\tprivate templates: Map<DataType | CellView, TemplateRef<any>> = new Map<DataType | CellView, TemplateRef<any>>();\n\n\tprivate templatesComponent: ComponentRef<T> = null;\n\n\tprotected constructor(private readonly templatesComponentDefinition: Type<T>,\n\t\t\t\t\t\t  private componentFactoryResolver: ComponentFactoryResolver) {\n\t\tthis.createTemplatesComponent();\n\t}\n\n\tabstract generateMapKeys(): Array<DataType | CellView>;\n\n\tgetTemplates(): Map<DataType | CellView, TemplateRef<any>> {\n\t\treturn this.templates;\n\t}\n\n\tdestroy(): void {\n\t\tif (this.templatesComponent) {\n\t\t\tthis.templatesComponent.destroy();\n\t\t\tthis.templatesComponent = null;\n\t\t}\n\t}\n\n\tprivate createTemplatesComponent(): void {\n\n\t\tconst componentFactory = this.componentFactoryResolver.resolveComponentFactory(this.templatesComponentDefinition);\n\n\t\tconst injector: Injector = Injector.create({ providers: [] });\n\n\t\tthis.templatesComponent = componentFactory.create(injector);\n\n\t\tthis.generateMap();\n\t}\n\n\tprivate generateMap(): void {\n\t\tthis.generateMapKeys()\n\t\t\t.forEach((type: DataType | CellView) => {\n\t\t\t\tthis.findAndSetTemplate(type);\n\t\t\t});\n\t};\n\n\tprivate findAndSetTemplate(dt: DataType | CellView): void {\n\n\t\tconst template = this.templatesComponent.instance.getTemplate(dt);\n\n\t\tthis.templates.set(dt, template);\n\t}\n\n}\n","import { ComponentFactoryResolver, Injectable } from '@angular/core';\n\nimport { ViewTemplatesComponent } from './view-templates.component';\nimport { CellView } from '../../cell-view';\nimport { TemplateFactory } from '../template/template.factory';\n\n\n@Injectable()\nexport class ViewTemplateFactory extends TemplateFactory<ViewTemplatesComponent> {\n\n\tconstructor(componentFactoryResolver: ComponentFactoryResolver) {\n\t\tsuper(\n\t\t\tViewTemplatesComponent,\n\t\t\tcomponentFactoryResolver\n\t\t);\n\t}\n\n\tgenerateMapKeys(): Array<CellView> {\n\t\treturn Object.keys(CellView)\n\t\t\t\t\t .map(key => CellView[key]);\n\t}\n}\n","import { Injectable, TemplateRef } from '@angular/core';\nimport { ViewTemplateFactory } from './view-template.factory';\nimport { CellView } from '../../cell-view';\n\n\n@Injectable()\nexport class ViewTemplateRepository {\n\n\tconstructor(private columnTemplateFactory: ViewTemplateFactory) {\n\t}\n\n\tfindTemplate(view: CellView): TemplateRef<any> {\n\t\tconst typeToTemplate = this.columnTemplateFactory.getTemplates();\n\n\t\treturn typeToTemplate.get(view);\n\t}\n\n}\n","import { ComponentFactoryResolver, Injectable } from '@angular/core';\nimport { TemplateFactory } from '../template/template.factory';\nimport { EditTemplatesComponent } from './edit-templates.component';\nimport { DataType } from '../../../../structure/domain/structure/command/field/data-type/data-type';\n\n\n@Injectable()\nexport class EditTemplateFactory extends TemplateFactory<EditTemplatesComponent> {\n\n\tconstructor(componentFactoryResolver: ComponentFactoryResolver) {\n\t\tsuper(\n\t\t\tEditTemplatesComponent,\n\t\t\tcomponentFactoryResolver\n\t\t);\n\t}\n\n\tgenerateMapKeys(): Array<DataType> {\n\t\treturn Object.keys(DataType)\n\t\t\t\t\t .map(key => DataType[key]);\n\t}\n}\n","import { Injectable, TemplateRef } from '@angular/core';\nimport { EditTemplateFactory } from './edit-template.factory';\nimport { DataType } from '../../../../structure/domain/structure/command/field/data-type/data-type';\n\n\n@Injectable()\nexport class EditTemplateRepository {\n\n\tconstructor(private editTemplateFactory: EditTemplateFactory) {\n\t}\n\n\tfindTemplate(dataType: DataType): TemplateRef<any> {\n\t\tconst typeToTemplate = this.editTemplateFactory.getTemplates();\n\n\t\treturn typeToTemplate.get(dataType);\n\t}\n\n}\n","export enum SortStatus {\n\tASC,\n\tDESC,\n\tNONE\n}\n","import { CellView } from '../../cell-view';\n\nexport class ViewEntity {\n\n\tprivate readonly view: CellView;\n\n\tprivate readonly templateFunction?: (entity: any) => string = (value: any) => value;\n\n\tconstructor(columnView: CellView | any) {\n\n\t\tif (typeof columnView === 'function') {\n\t\t\tthis.view = CellView.FUNCTION;\n\t\t\tthis.templateFunction = columnView;\n\t\t} else {\n\t\t\tthis.view = columnView;\n\t\t}\n\t}\n\n\tgetCellView(): CellView {\n\t\treturn this.view;\n\t}\n\n\tgetTemplateFunction(): any {\n\t\treturn this.templateFunction;\n\t}\n\n}\n","import { CellView } from '../../cell-view';\nimport { ColumnId } from './column.id';\nimport { ColumnField } from './field/column-field';\nimport { ColumnConfig, HeaderTemplate } from '../../column.config';\nimport { SortStatus } from './sort/sort-status';\nimport { ViewEntity } from './view.entity';\nimport { DataType } from '../../../../structure/domain/structure/command/field/data-type/data-type';\n\n\nexport class ColumnEntity {\n\n\tcolumnId: ColumnId;\n\n\tcolumnField: ColumnField;\n\n\theader?: string | HeaderTemplate;\n\n\tsortStatus = SortStatus.NONE;\n\n\t// REMOVE\n\twidth?: number;\n\n\tsortable?: boolean;\n\n\tprivate enabled: boolean = true;\n\n\tprivate columnConfig: ColumnConfig;\n\n\tprivate view: ViewEntity = new ViewEntity(CellView.TEXT);\n\n\tconstructor(columnId: ColumnId,\n\t\t\t\tcolumnField: ColumnField,\n\t\t\t\tcolumnConfig: ColumnConfig,\n\t\t\t\theader?: string | HeaderTemplate,\n\t\t\t\tview?: ViewEntity,\n\t\t\t\twidth?: number) {\n\t\tthis.columnId = columnId;\n\t\tthis.columnField = columnField;\n\t\tthis.columnConfig = columnConfig;\n\n\t\tif (header) {\n\t\t\tthis.header = header;\n\t\t}\n\n\t\tif (view) {\n\t\t\tthis.view = view;\n\t\t}\n\n\t\tif (width) {\n\t\t\tthis.width = width;\n\t\t}\n\n\t}\n\n\tgetColumnConfig(): ColumnConfig {\n\t\treturn this.columnConfig;\n\t}\n\n\tgetColumnId(): ColumnId {\n\t\treturn this.columnId;\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n\tsetEnabled(enabled: boolean): void {\n\t\tthis.enabled = enabled;\n\t}\n\n\tgetField(): ColumnField {\n\t\treturn this.columnField;\n\t}\n\n\tgetHeader(): string | HeaderTemplate {\n\t\treturn this.header;\n\t}\n\n\tgetDataType(): DataType {\n\t\treturn this.columnField.getDataType();\n\t}\n\n\tgetCellView(): CellView {\n\t\treturn this.view.getCellView();\n\t}\n\n\tgetTemplateFunction(): any {\n\t\treturn this.view.getTemplateFunction();\n\t}\n\n\tsetSortStatus(status: SortStatus): void {\n\t\tthis.sortStatus = status;\n\t}\n\n\tsetView(view: ViewEntity): void {\n\t\tthis.view = view;\n\t}\n\n\tgetView(): ViewEntity {\n\t\treturn this.view;\n\t}\n\n}\n","import { TemplateRef } from '@angular/core';\n\nimport { CellContext } from './cell-context';\nimport { FieldId } from '../../../../structure/domain/structure/command/field/data-type/field.id';\nimport { SortStatus } from '../../command/column/sort/sort-status';\nimport { ColumnId } from '../../command/column/column.id';\n\n\nexport class CellTemplateWithContext {\n\n\tconstructor(public viewTemplate: TemplateRef<any>,\n\t\t\t\tpublic editTemplate: TemplateRef<any>,\n\t\t\t\t// public editContext: any,\n\t\t\t\tpublic context: CellContext,\n\t\t\t\tpublic width: number,\n\t\t\t\tprivate readonly fieldId: FieldId,\n\t\t\t\tprivate readonly columnId: ColumnId,\n\t\t\t\tprivate readonly sortStatus: SortStatus,\n\t\t\t\tprivate readonly enabled: boolean) {\n\t}\n\n\tgetColumnId(): ColumnId {\n\t\treturn this.columnId;\n\t}\n\n\tgetFieldId(): FieldId {\n\t\treturn this.fieldId;\n\t}\n\n\tgetSortStatus(): SortStatus {\n\t\treturn this.sortStatus;\n\t}\n\n\tisAscSort(): boolean {\n\t\treturn this.sortStatus === SortStatus.ASC;\n\t}\n\n\tisDescSort(): boolean {\n\t\treturn this.sortStatus === SortStatus.DESC;\n\t}\n\n\tisNoSort(): boolean {\n\t\treturn this.sortStatus === SortStatus.NONE;\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n}\n","export class CellContext {\n\n\tconstructor(public element: string) {\n\t}\n}\n","export class FieldId {\n\n\tprivate readonly id: string;\n\n\tconstructor(id: string) {\n\t\tthis.id = id;\n\t}\n\n\tgetId(): string {\n\t\treturn this.id;\n\t}\n\n\ttoString(): string {\n\t\treturn this.id;\n\t}\n\n\tequals(fieldId: FieldId): boolean {\n\t\treturn fieldId.getId() === this.id;\n\t}\n\n}\n","import { TemplateRef } from '@angular/core';\n\nimport { ColumnFieldId } from '../../command/column/field/column-field.id';\n\n\nexport class CellTemplateWithAccessor {\n\n\tconstructor(public template: TemplateRef<any>,\n\t\t\t\tpublic editTemplate: TemplateRef<any>,\n\t\t\t\tpublic editable: boolean,\n\t\t\t\tpublic accessor: (element: any) => any,\n\t\t\t\tpublic width: number,\n\t\t\t\tpublic columnFieldId: ColumnFieldId) {\n\t}\n\n}\n","import { TemplateRef } from '@angular/core';\n\nimport { ColumnField } from '../../command/column/field/column-field';\nimport { SortStatus } from '../../command/column/sort/sort-status';\nimport { HeaderTemplate } from '../../column.config';\nimport { CellTemplateWithContext } from './cell-template-with-context';\nimport { CellContext } from './cell-context';\nimport { FieldId } from '../../../../structure/domain/structure/command/field/data-type/field.id';\nimport { CellTemplateWithAccessor } from './cell-template-with-accessor';\nimport { ColumnId } from '../../command/column/column.id';\n\n\nexport class ColumnDefinition {\n\n\tcellTemplate: TemplateRef<any>;\n\n\theaderTemplate: TemplateRef<any>;\n\n\teditTemplate: TemplateRef<any>;\n\n\twidth: number;\n\n\ttemplateFunction: (i: any) => string;\n\n\tprivate readonly columnId: ColumnId;\n\n\tprivate field: ColumnField;\n\n\tprivate sortStatus: SortStatus;\n\n\tprivate header: string | HeaderTemplate;\n\n\tprivate enabled: boolean;\n\n\tconstructor(field: ColumnField,\n\t\t\t\tcolumnId: ColumnId,\n\t\t\t\tenabled: boolean,\n\t\t\t\theader: string | HeaderTemplate,\n\t\t\t\tsort: SortStatus = SortStatus.NONE) {\n\t\tthis.field = field;\n\t\tthis.columnId = columnId;\n\t\tthis.enabled = enabled;\n\t\tthis.header = header;\n\t\tthis.sortStatus = sort;\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n\tsetHeader(header: string): void {\n\t\tthis.header = header;\n\t}\n\n\tsetField(field: ColumnField): void {\n\t\tthis.field = field;\n\t}\n\n\tgetHeaderCellTemplateWithContext(index: number): CellTemplateWithContext {\n\n\t\tconst header: any = this.header;\n\t\tlet headerCellContext: CellContext;\n\n\t\tif (typeof header === 'string') {\n\t\t\theaderCellContext = new CellContext(header);\n\t\t} else if (typeof header === 'function') {\n\t\t\theaderCellContext = new CellContext(header(index));\n\t\t}\n\n\t\tconst fieldId = new FieldId(this.field.getId().getId());\n\n\t\treturn new CellTemplateWithContext(this.headerTemplate, this.editTemplate, headerCellContext, this.width, fieldId, this.columnId, this.sortStatus, this.enabled);\n\t}\n\n\tgetContentCellTemplateWithAccessor(): CellTemplateWithAccessor {\n\n\t\tlet accessor = (entity: any) => {\n\t\t\treturn this.templateFunction(this.field.getAccessor()(entity));\n\t\t};\n\n\t\treturn new CellTemplateWithAccessor(this.cellTemplate, this.editTemplate, true, accessor, this.width, this.field.getId());\n\t}\n\n\tgetColumn(): any {\n\n\t}\n\n}\n","import { Injectable, TemplateRef } from '@angular/core';\n\nimport { ViewTemplateRepository } from '../view/view-template.repository';\nimport { EditTemplateRepository } from '../edit/edit-template.repository';\nimport { ColumnEntity } from '../../command/column/column.entity';\nimport { ColumnDefinition } from './column-definition';\nimport { CellView } from '../../cell-view';\nimport { DataType } from '../../../../structure/domain/structure/command/field/data-type/data-type';\nimport { ActiveColumnEntity } from '../../command/column/active/active-column.entity';\n\n\n@Injectable()\nexport class ColumnDefinitionFactory {\n\n\tconstructor(private viewTemplateRepository: ViewTemplateRepository,\n\t\t\t\tprivate editTemplateRepository: EditTemplateRepository) {\n\t}\n\n\tcreate(column: ColumnEntity): ColumnDefinition;\n\tcreate(column: ActiveColumnEntity): ColumnDefinition;\n\tcreate(column: ColumnEntity | ActiveColumnEntity): ColumnDefinition {\n\n\t\tif (column instanceof ColumnEntity) {\n\t\t\treturn this.createFromColumnEntity(column);\n\t\t} else {\n\t\t\treturn this.createFromActiveColumnEntity(column);\n\t\t}\n\t}\n\n\tprivate createFromColumnEntity(column: ColumnEntity): ColumnDefinition {\n\n\t\tlet columnDef = new ColumnDefinition(\n\t\t\tcolumn.getField(),\n\t\t\tcolumn.getColumnId(),\n\t\t\tcolumn.isEnabled(),\n\t\t\tcolumn.getHeader(),\n\t\t\tcolumn.sortStatus\n\t\t);\n\n\t\tcolumnDef.cellTemplate = this.findViewTemplate(column.getCellView());\n\t\tcolumnDef.headerTemplate = this.findViewTemplate(CellView.TEXT);\n\n\t\tcolumnDef.templateFunction = column.getTemplateFunction();\n\n\t\tcolumnDef.editTemplate = this.findEditTemplate(column.getDataType());\n\n\t\tcolumnDef.width = +column.width;\n\n\t\treturn columnDef;\n\t}\n\n\tprivate createFromActiveColumnEntity(activeColumn: ActiveColumnEntity): ColumnDefinition {\n\n\t\tlet columnDef = new ColumnDefinition(\n\t\t\tactiveColumn.getField(),\n\t\t\tactiveColumn.getColumnId(),\n\t\t\ttrue, // remove\n\t\t\tactiveColumn.getHeader(),\n\t\t\tactiveColumn.getSortStatus()\n\t\t);\n\n\t\tcolumnDef.cellTemplate = this.findViewTemplate(activeColumn.getCellView());\n\t\tcolumnDef.headerTemplate = this.findViewTemplate(CellView.TEXT);\n\n\t\tcolumnDef.templateFunction = activeColumn.getTemplateFunction();\n\n\t\tcolumnDef.editTemplate = this.findEditTemplate(activeColumn.getDataType());\n\n\t\tcolumnDef.width = +activeColumn.getWidth();\n\n\t\treturn columnDef;\n\t}\n\n\tcreateColumns(columns: Array<ColumnEntity>): Array<ColumnDefinition> {\n\t\treturn columns.map((column: ColumnEntity) => this.create(column));\n\t}\n\n\tprivate findViewTemplate(view: CellView): TemplateRef<any> {\n\n\t\tif (view === CellView.FUNCTION) {\n\t\t\treturn this.viewTemplateRepository.findTemplate(CellView.FUNCTION);\n\t\t} else {\n\t\t\treturn this.viewTemplateRepository.findTemplate(view);\n\t\t}\n\t}\n\n\tprivate findEditTemplate(dataType: DataType): TemplateRef<any> {\n\t\treturn this.editTemplateRepository.findTemplate(dataType);\n\t}\n\n}\n","import { AggregateId, ReadModel } from '@generic-ui/hermes';\n\nimport { ColumnDefinition } from './definition/column-definition';\nimport { CellTemplateWithContext } from './definition/cell-template-with-context';\nimport { CellTemplateWithAccessor } from './definition/cell-template-with-accessor';\n\n\nexport class Composition extends ReadModel {\n\n\tconstructor(uid: AggregateId,\n\t\t\t\tprivate readonly ready: boolean,\n\t\t\t\tprivate readonly allColumns: Array<ColumnDefinition>,\n\t\t\t\tprivate readonly activeColumns: Array<ColumnDefinition>,\n\t\t\t\tprivate readonly width: number,\n\t\t\t\tprivate readonly resizeWidth: boolean) {\n\t\tsuper(uid);\n\t}\n\n\tgetActiveColumns(): Array<ColumnDefinition> {\n\t\treturn this.activeColumns;\n\t}\n\n\tgetAllColumns(): Array<ColumnDefinition> {\n\t\treturn this.allColumns;\n\t}\n\n\tgetActiveHeaderColumns(): Array<CellTemplateWithContext> {\n\t\treturn this.getActiveColumns()\n\t\t\t\t   .map((column: ColumnDefinition, index: number) => column.getHeaderCellTemplateWithContext(index));\n\t}\n\n\tgetHeaderColumns(): Array<CellTemplateWithContext> {\n\t\treturn this.getAllColumns()\n\t\t\t\t   .map((column: ColumnDefinition, index: number) => column.getHeaderCellTemplateWithContext(index));\n\t}\n\n\tgetTemplateColumns(): Array<CellTemplateWithAccessor> {\n\t\treturn this.getActiveColumns()\n\t\t\t\t   .map((column: ColumnDefinition) => column.getContentCellTemplateWithAccessor());\n\t}\n\n\tgetWidth(): number {\n\t\treturn this.width;\n\t}\n\n\tgetContainerWidth(): number {\n\t\treturn +this.width - 2;\n\t}\n\n\tisReady(): boolean {\n\t\treturn this.ready;\n\t}\n\n\tisResizeWidthEnabled(): boolean {\n\t\treturn this.resizeWidth;\n\t}\n\n\tequals(composition: Composition): boolean {\n\t\treturn this.width === composition.width &&\n\t\t\tthis.resizeWidth === composition.resizeWidth &&\n\t\t\tthis.equalsByColumns(composition.allColumns);\n\t}\n\n\tequalsByColumns(columns: Array<ColumnDefinition>): boolean {\n\t\treturn this.allColumns.length === columns.length;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { ColumnDefinitionFactory } from './read/definition/column-definition.factory';\nimport { CompositionAggregate } from './command/composition.aggregate';\nimport { Composition } from './read/composition';\nimport { ColumnEntity } from './command/column/column.entity';\nimport { ColumnDefinition } from './read/definition/column-definition';\nimport { ActiveColumnEntity } from './command/column/active/active-column.entity';\n\n\n@Injectable()\nexport class CompositionConverter {\n\n\tconstructor(private columnDefinitionFactory: ColumnDefinitionFactory) {\n\t}\n\n\tconvert(aggregate: CompositionAggregate): Composition {\n\n\t\tconst ready = aggregate.isReady(),\n\t\t\tallColumns: Array<ColumnEntity> = aggregate.getColumns(),\n\t\t\tactiveColumns: Array<ActiveColumnEntity> = aggregate.getActiveColumns(),\n\t\t\tallColumnDefs: Array<ColumnDefinition> = this.convertToColumnDef(allColumns),\n\t\t\tactiveColumnDefs: Array<ColumnDefinition> = this.convertActiveColumnsToColumnDef(activeColumns),\n\t\t\twidth = aggregate.getWidth(),\n\t\t\tresizeWidth = aggregate.isResizeEnabled(),\n\t\t\tid = aggregate.getId();\n\n\t\treturn new Composition(id, ready, allColumnDefs, activeColumnDefs, width, resizeWidth);\n\t}\n\n\tprivate convertToColumnDef(columns: Array<ColumnEntity>): Array<ColumnDefinition> {\n\n\t\tconst columnDefs: Array<ColumnDefinition> = [];\n\n\t\tcolumns.forEach((column: ColumnEntity) => {\n\n\t\t\tconst columnDef = this.columnDefinitionFactory.create(column);\n\n\t\t\tcolumnDefs.push(columnDef);\n\t\t});\n\n\t\treturn columnDefs;\n\t}\n\n\tprivate convertActiveColumnsToColumnDef(activeColumns: Array<ActiveColumnEntity>): Array<ColumnDefinition> {\n\n\t\tconst columnDefs: Array<ColumnDefinition> = [];\n\n\t\tactiveColumns.forEach((column: ActiveColumnEntity) => {\n\n\t\t\tconst columnDef = this.columnDefinitionFactory.create(column);\n\n\t\t\tcolumnDefs.push(columnDef);\n\t\t});\n\n\t\treturn columnDefs;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { InMemoryReadModelStore } from '@generic-ui/hermes';\n\nimport { Composition } from '../../../domain/read/composition';\nimport { CompositionAggregate } from '../../../domain/command/composition.aggregate';\nimport { InMemoryCompositionStore } from '../in-memory.composition.store';\nimport { CompositionConverter } from '../../../domain/composition.converter';\n\n\n@Injectable()\nexport class InMemoryCompositionReadStore extends InMemoryReadModelStore<Composition, CompositionAggregate> {\n\n\tconstructor(private inMemoryCompositionStore: InMemoryCompositionStore,\n\t\t\t\tprivate compositionConverter: CompositionConverter) {\n\t\tsuper(inMemoryCompositionStore);\n\t}\n\n\ttoReadModel(aggregate: CompositionAggregate): Composition {\n\t\treturn this.compositionConverter.convert(aggregate);\n\t}\n\n}\n","import { Observable } from 'rxjs';\n\nimport { CompositionId } from '../composition-id';\nimport { Composition } from './composition';\n\n\nexport abstract class CompositionRepository {\n\n\tabstract on(compositionId: CompositionId): Observable<Composition>;\n}\n","import { AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nexport class CompositionInitedEvent extends DomainEvent {\n\n\tconstructor(aggregateId: AggregateId) {\n\t\tsuper(aggregateId, 'CompositionInitedEvent');\n\t}\n}\n","import { AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nexport class CompositionResizeWidthSetEvent extends DomainEvent {\n\n\tconstructor(aggregateId: AggregateId) {\n\t\tsuper(aggregateId, 'CompositionResizeWidthSetEvent');\n\t}\n}\n","import { AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nexport class CompositionColumnsSetEvent extends DomainEvent {\n\n\tconstructor(aggregateId: AggregateId) {\n\t\tsuper(aggregateId, 'CompositionColumnsSetEvent');\n\t}\n}\n","import { AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nexport class CompositionContainerWidthSetEvent extends DomainEvent {\n\n\tconstructor(aggregateId: AggregateId,\n\t\t\t\tpayload: any) {\n\t\tsuper(aggregateId, 'CompositionContainerWidthSetEvent', payload);\n\t}\n\n}\n","import { AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nexport class CompositionWidthSetEvent extends DomainEvent {\n\n\tconstructor(aggregateId: AggregateId) {\n\t\tsuper(aggregateId, 'CompositionWidthSetEvent');\n\t}\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { CompositionId } from '../../../composition-id';\nimport { ActiveColumnEntity } from '../active/active-column.entity';\n\n\nexport class CompositionChangeSortStatusEvent extends DomainEvent {\n\n\tconstructor(aggregateId: CompositionId,\n\t\t\t\tprivate readonly activeColumns: Array<ActiveColumnEntity>) {\n\t\tsuper(aggregateId, 'CompositionChangeSortStatusEvent');\n\t}\n\n\tgetCompositionId(): CompositionId {\n\t\treturn this.aggregateId;\n\t}\n\n\tgetActiveColumns(): Array<ActiveColumnEntity> {\n\t\treturn this.activeColumns;\n\t}\n\n}\n","import { AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nexport class CompositionColumnSetEnabledEvent extends DomainEvent {\n\n\tconstructor(aggregateId: AggregateId) {\n\t\tsuper(aggregateId, 'CompositionColumnSetEnabledEvent');\n\t}\n}\n","import { AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nexport class CompositionColumnMovedLeftEvent extends DomainEvent {\n\n\tconstructor(aggregateId: AggregateId) {\n\t\tsuper(aggregateId, 'CompositionColumnMovedLeftEvent');\n\t}\n}\n","import { AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nexport class CompositionColumnMovedRightEvent extends DomainEvent {\n\n\tconstructor(aggregateId: AggregateId) {\n\t\tsuper(aggregateId, 'CompositionColumnMovedRightEvent');\n\t}\n}\n","import { Injectable, OnDestroy } from '@angular/core';\nimport { Observable, ReplaySubject, Subject } from 'rxjs';\nimport { filter, map, takeUntil } from 'rxjs/operators';\n\nimport { AggregateId, DomainEvent, DomainEventBus } from '@generic-ui/hermes';\n\nimport { CompositionRepository } from '../../../domain/read/composition.repository';\nimport { Composition } from '../../../domain/read/composition';\nimport { InMemoryCompositionReadStore } from './in-memory.composition.read-store';\nimport { CompositionInitedEvent } from '../../../domain/command/init/composition-inited.event';\nimport { CompositionResizeWidthSetEvent } from '../../../domain/command/width/resize-width/composition-resize-width-set.event';\nimport { CompositionColumnsSetEvent } from '../../../domain/command/column/set-columns/composition.columns-set.event';\nimport { CompositionContainerWidthSetEvent } from '../../../domain/command/width/set-container-width/composition-container-width-set.event';\nimport { CompositionWidthSetEvent } from '../../../domain/command/width/set-width/composition-width-set.event';\nimport { CompositionChangeSortStatusEvent } from '../../../domain/command/column/sort/composition-change-sort-status.event';\nimport { CompositionColumnSetEnabledEvent } from '../../../domain/command/column/set-enabled/composition.column-set-enabled.event';\nimport { CompositionColumnMovedLeftEvent } from '../../../domain/command/column/move/left/composition.column-moved-left.event';\nimport { CompositionColumnMovedRightEvent } from '../../../domain/command/column/move/right/composition.column-moved-right.event';\n\n\n@Injectable()\nexport class InMemoryCompositionRepository extends CompositionRepository implements OnDestroy {\n\n\tprivate readonly compositionIdToComposition = new Map<string, Composition>();\n\n\tprivate readonly composition$ = new ReplaySubject<Map<string, Composition>>(1);\n\n\tprivate readonly unsubscribe$ = new Subject();\n\n\tconstructor(private domainEventBus: DomainEventBus,\n\t\t\t\tprivate inMemoryCompositionQueryStore: InMemoryCompositionReadStore) {\n\t\tsuper();\n\n\t\tthis.domainEventBus\n\t\t\t.ofEvent(\n\t\t\t\tCompositionInitedEvent,\n\t\t\t\tCompositionResizeWidthSetEvent,\n\t\t\t\tCompositionColumnsSetEvent,\n\t\t\t\tCompositionContainerWidthSetEvent,\n\t\t\t\tCompositionWidthSetEvent,\n\t\t\t\tCompositionColumnSetEnabledEvent,\n\t\t\t\tCompositionColumnMovedLeftEvent,\n\t\t\t\tCompositionColumnMovedRightEvent,\n\t\t\t\tCompositionChangeSortStatusEvent as any\n\t\t\t)\n\t\t\t.pipe(\n\t\t\t\ttakeUntil(this.unsubscribe$)\n\t\t\t)\n\t\t\t.subscribe((event: DomainEvent) => {\n\n\t\t\t\tconst aggregateId = event.aggregateId;\n\n\t\t\t\tconst composition = this.inMemoryCompositionQueryStore.getById(aggregateId),\n\t\t\t\t\tkey = composition.getId().toString();\n\n\t\t\t\tthis.compositionIdToComposition.set(key, composition);\n\n\t\t\t\tthis.composition$.next(this.compositionIdToComposition);\n\t\t\t});\n\t}\n\n\tngOnDestroy() {\n\t\tthis.unsubscribe$.next();\n\t\tthis.unsubscribe$.complete();\n\t}\n\n\ton(aggregateId: AggregateId): Observable<Composition> {\n\n\t\treturn this.composition$\n\t\t\t\t   .asObservable()\n\t\t\t\t   .pipe(\n\t\t\t\t\t   filter((compositionIdToComposition: Map<string, Composition>) => {\n\n\t\t\t\t\t\t   const key = aggregateId.getId();\n\n\t\t\t\t\t\t   return compositionIdToComposition.has(key);\n\t\t\t\t\t   }),\n\t\t\t\t\t   map((compositionIdToComposition: Map<string, Composition>) => compositionIdToComposition.get(aggregateId.getId()))\n\t\t\t\t   );\n\t}\n\n}\n","import { InMemoryCompositionAggregateStore } from './command/in-memory.composition.aggregate-store';\nimport { CompositionAggregateRepository } from '../../domain/command/composition.aggregate-repository';\nimport { InMemoryCompositionAggregateRepository } from './command/in-memory.composition.aggregate-repository';\nimport { InMemoryCompositionReadStore } from './read/in-memory.composition.read-store';\nimport { CompositionRepository } from '../../domain/read/composition.repository';\nimport { InMemoryCompositionRepository } from './read/in-memory.composition.repository';\nimport { InMemoryCompositionStore } from './in-memory.composition.store';\n\nexport const inMemoryCompositionCommandProviders = [\n\tInMemoryCompositionAggregateStore,\n\t{\n\t\tprovide: CompositionAggregateRepository,\n\t\tuseClass: InMemoryCompositionAggregateRepository\n\t}\n];\n\nexport const inMemoryCompositionQueryProviders = [\n\tInMemoryCompositionReadStore,\n\t{\n\t\tprovide: CompositionRepository,\n\t\tuseClass: InMemoryCompositionRepository\n\t}\n];\n\nexport const inMemoryCompositionProviders = [\n\tInMemoryCompositionStore\n];\n","export class ColumnId {\n\n\tprivate readonly id: string;\n\n\tconstructor(id: string) {\n\t\tthis.id = id;\n\t}\n\n\tgetId(): string {\n\t\treturn this.id;\n\t}\n\n\tequals(columnId: ColumnId): boolean {\n\t\treturn this.id === columnId.getId();\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { RandomStringGenerator } from '@generic-ui/hermes';\n\nimport { ColumnParams } from './set-columns/column.params';\nimport { ColumnEntity } from './column.entity';\nimport { ColumnConfig } from '../../column.config';\nimport { ColumnField } from './field/column-field';\nimport { ViewEntity } from './view.entity';\nimport { ColumnId } from './column.id';\n\n\n@Injectable()\nexport class ColumnEntityFactory {\n\n\tcreate(params: ColumnParams): ColumnEntity;\n\tcreate(params: Array<ColumnParams>): Array<ColumnEntity>;\n\tcreate(data: ColumnParams | Array<ColumnParams>): ColumnEntity | Array<ColumnEntity> {\n\n\t\tif (Array.isArray(data)) {\n\t\t\treturn this.createColumns(data);\n\t\t} else {\n\t\t\treturn this.createColumn(data);\n\t\t}\n\t}\n\n\tprivate createColumn(params: ColumnParams): ColumnEntity {\n\n\t\tconst columnConfig: ColumnConfig = params.getColumn(),\n\t\t\tfield: ColumnField = params.getField();\n\n\t\tlet columnEntity = new ColumnEntity(\n\t\t\tnew ColumnId(RandomStringGenerator.generate()),\n\t\t\tfield,\n\t\t\tcolumnConfig\n\t\t);\n\n\t\tif (columnConfig.header !== undefined) {\n\t\t\tcolumnEntity.header = columnConfig.header;\n\t\t}\n\n\t\tif (columnConfig.view !== undefined) {\n\t\t\tcolumnEntity.setView(new ViewEntity(columnConfig.view));\n\t\t}\n\n\t\tif (columnConfig.width !== undefined) {\n\t\t\tcolumnEntity.width = this.convertWidth(columnConfig.width);\n\t\t}\n\n\t\treturn columnEntity;\n\t}\n\n\tprivate createColumns(columns: Array<ColumnParams>): Array<ColumnEntity> {\n\n\t\tlet columnEntities = [] as Array<ColumnEntity>;\n\n\t\tcolumns.forEach((column: ColumnParams) => {\n\t\t\tcolumnEntities.push(this.createColumn(column));\n\t\t});\n\n\t\treturn columnEntities;\n\t}\n\n\tprivate convertWidth(width: string | number): number {\n\t\treturn +width;\n\t}\n}\n","import { ColumnWidth } from '../column/column-width/column-width';\n\nexport class CompositionContainerWidthCalculator {\n\n\tconstructor(private readonly MIN_COLUMN_WIDTH: number) {\n\t}\n\n\tcalculateMinWidth(columnWidths: Array<ColumnWidth>): number {\n\n\t\tconst { staticColumns, fluidColumns } = this.segregateColumns(columnWidths);\n\n\t\t// TODO reduce\n\t\tlet sum = 0;\n\t\tstaticColumns.forEach((c) => {\n\t\t\tsum += c.getWidth();\n\t\t});\n\n\t\tsum += fluidColumns.length * this.MIN_COLUMN_WIDTH;\n\n\t\treturn sum;\n\t}\n\n\tprivate segregateColumns(columns: Array<ColumnWidth>): { staticColumns: Array<ColumnWidth>, fluidColumns: Array<ColumnWidth> } {\n\n\t\tlet staticColumns = columns.filter((columnWidth: ColumnWidth) => columnWidth.isTypeNumber() && columnWidth.getWidth() > this.MIN_COLUMN_WIDTH),\n\t\t\tfluidColumns = columns.filter((columnWidth: ColumnWidth) => columnWidth.isTypeAuto() || columnWidth.isTypePercentage() || (columnWidth.isTypeNumber() && columnWidth.getWidth() <= this.MIN_COLUMN_WIDTH));\n\n\t\treturn {\n\t\t\tstaticColumns: staticColumns,\n\t\t\tfluidColumns: fluidColumns\n\t\t};\n\t}\n}\n","import { AggregateEvent, AggregateId } from '@generic-ui/hermes';\n\nexport class CompositionWidthSetAggregateEvent extends AggregateEvent {\n\n\tconstructor(aggregateId: AggregateId) {\n\t\tsuper(aggregateId, 'CompositionWidthSetAggregateEvent');\n\t}\n\n}\n","import { AggregateEvent } from '@generic-ui/hermes';\n\nimport { CompositionId } from '../../../composition-id';\n\n\nexport class CompositionContainerWidthSetAggregateEvent extends AggregateEvent {\n\n\tconstructor(compositionId: CompositionId,\n\t\t\t\tpublic readonly containerWidth: number) {\n\t\tsuper(compositionId, 'CompositionContainerWidthSetAggregateEvent');\n\t}\n}\n","import { AggregateEvent } from '@generic-ui/hermes';\nimport { CompositionId } from '../../../composition-id';\n\n\nexport class CompositionResizeWidthSetAggregateEvent extends AggregateEvent {\n\n\tconstructor(compositionId: CompositionId) {\n\t\tsuper(compositionId, 'CompositionResizeWidthSetAggregateEvent');\n\t}\n}\n","import { AggregateEvent, AggregateId } from '@generic-ui/hermes';\nimport { ActiveColumnEntity } from '../active/active-column.entity';\n\nexport class CompositionColumnSetEnabledAggregateEvent extends AggregateEvent {\n\n\tconstructor(aggregateId: AggregateId,\n\t\t\t\tprivate readonly activeColumns: Array<ActiveColumnEntity>) {\n\t\tsuper(aggregateId, 'CompositionColumnSetEnabledAggregateEvent');\n\t}\n\n\tgetActiveColumns(): Array<ActiveColumnEntity> {\n\t\treturn this.activeColumns;\n\t}\n\n}\n","export enum ColumnWidthType {\n\tPERCENTAGE,\n\tNUMBER,\n\tAUTO\n}\n","import { ColumnWidthType } from './column-width-type';\n\nexport class ColumnWidth {\n\n\tprivate template: ColumnWidthType;\n\n\tprivate baseWidth: number | string;\n\n\tprivate width: number;\n\n\tconstructor(width?: number | string) {\n\t\tthis.baseWidth = width;\n\t\tthis.setWidthAndType(width);\n\t}\n\n\tgetWidth(): number {\n\t\treturn this.width;\n\t}\n\n\tgetColumnType(): ColumnWidthType {\n\t\treturn this.template;\n\t}\n\n\tisTypePercentage(): boolean {\n\t\treturn this.template === ColumnWidthType.PERCENTAGE;\n\t}\n\n\tisTypeAuto(): boolean {\n\t\treturn this.template === ColumnWidthType.AUTO;\n\t}\n\n\tisTypeNumber(): boolean {\n\t\treturn this.template === ColumnWidthType.NUMBER;\n\t}\n\n\tsetWidth(width: number): void {\n\t\tthis.width = width;\n\t}\n\n\tsetWidthAndType(width: number | string): void {\n\n\t\tif (width === undefined || width === null || width === 'auto') {\n\n\t\t\tthis.template = ColumnWidthType.AUTO;\n\t\t\tthis.setWidth(null);\n\n\t\t} else if (this.isPercentage(width)) {\n\n\t\t\tthis.template = ColumnWidthType.PERCENTAGE;\n\t\t\tthis.setWidth(this.percentageToNumber('' + width));\n\n\t\t} else if (this.isStringNumber(width)) {\n\n\t\t\tthis.template = ColumnWidthType.NUMBER;\n\t\t\tthis.setWidth(+width);\n\t\t} else {\n\n\t\t\tthis.template = ColumnWidthType.NUMBER;\n\t\t\tthis.setWidth(+width);\n\t\t}\n\t}\n\n\tclone(): ColumnWidth {\n\t\treturn new ColumnWidth(this.baseWidth);\n\t}\n\n\tprivate isPercentage(width: number | string): boolean {\n\t\treturn typeof width === 'string' && width[width.length - 1] === '%';\n\t}\n\n\t/**\n\t * Width needs to be in format '89%'\n\t * @param width\n\t */\n\tprivate percentageToNumber(width: string): number {\n\t\treturn +(width.slice(0, -1));\n\t}\n\n\tprivate isStringNumber(width: number | string): boolean {\n\t\tconst widthAsNumber = +width;\n\n\t\treturn Number.isNaN(widthAsNumber);\n\t}\n}\n","import { ColumnWidth } from '../column/column-width/column-width';\nimport { ColumnWidthType } from '../column/column-width/column-width-type';\n\nexport class CompositionWidthCalculator {\n\n\tprivate readonly columns: Array<ColumnWidth>;\n\n\tconstructor(private source: Array<ColumnWidth>,\n\t\t\t\tprivate width: number,\n\t\t\t\tprivate readonly MIN_COLUMN_WIDTH: number) {\n\t\tthis.columns = this.source.map((c) => c.clone());\n\t}\n\n\tcalculate(): Array<ColumnWidth> {\n\n\t\tlet width = this.width,\n\t\t\tcolumns = [...this.columns];\n\n\t\t// adjust min value\n\t\tthis.adjustMinimalWidth(columns);\n\n\t\t// remove number columns\n\t\tlet newColumns: Array<ColumnWidth> = [];\n\n\t\tcolumns.forEach((column: ColumnWidth, index: number) => {\n\t\t\tif (column.isTypeNumber()) {\n\t\t\t\twidth -= column.getWidth();\n\t\t\t} else {\n\t\t\t\tnewColumns.push(column);\n\t\t\t}\n\t\t});\n\n\t\tcolumns = newColumns;\n\n\t\t// split even auto columns\n\t\tif (columns.length !== 0) {\n\n\t\t\tconst evenWidth = width / columns.length;\n\n\t\t\tcolumns.forEach((column: ColumnWidth, index: number) => {\n\t\t\t\tcolumn.setWidth(evenWidth);\n\t\t\t});\n\t\t}\n\n\t\t// adjust number columns\n\t\t// let numberColumns = this.columns.filter((columnWidth: ColumnWidth) => columnWidth.isTypeNumber());\n\t\t//\n\t\t// // sort by min values\n\t\t// numberColumns.sort((columnOne: ColumnWidth, columnTwo: ColumnWidth) => {\n\t\t// \treturn columnOne.getWidth() - columnTwo.getWidth();\n\t\t// });\n\t\t//\n\t\t// numberColumns.forEach(() => {\n\t\t// });\n\n\t\t// this.adjustMinimalWidth(ColumnWidthType.NUMBER);\n\t\t//\n\t\t// this.adjustPercentageWidth();\n\t\t//\n\t\t// this.adjustAutoWidth();\n\n\t\treturn this.columns;\n\t}\n\n\tprivate adjustMinimalWidth(columns: Array<ColumnWidth>): void {\n\t\tcolumns.forEach((column: ColumnWidth) => {\n\t\t\tif (column.isTypeNumber()) {\n\t\t\t\tif (column.getWidth() < this.MIN_COLUMN_WIDTH) {\n\t\t\t\t\tcolumn.setWidthAndType(this.MIN_COLUMN_WIDTH);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate adjustPercentageWidth(): void {\n\n\t\tconst percentageColumns = this.columns.filter((columnWidth: ColumnWidth) => columnWidth.isTypePercentage());\n\n\t\tfor (let column of this.columns) {\n\t\t\tif (column.getColumnType() === ColumnWidthType.PERCENTAGE) {\n\t\t\t\tcolumn.setWidth(this.width * column.getWidth() * 0.01);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate adjustAutoWidth(): void {\n\n\t\tlet leftWidth = this.width,\n\t\t\tautoColumns = [];\n\n\t\tfor (let i = 0; i < this.columns.length; i += 1) {\n\n\t\t\tlet column = this.columns[i];\n\n\t\t\tif (column.getColumnType() !== ColumnWidthType.AUTO) {\n\t\t\t\tleftWidth -= column.getWidth();\n\t\t\t} else {\n\t\t\t\tautoColumns.push(column);\n\t\t\t}\n\t\t}\n\n\t\tif (autoColumns.length > 0) {\n\t\t\tconst splitWidth = leftWidth / autoColumns.length;\n\n\t\t\tfor (let column of autoColumns) {\n\t\t\t\tcolumn.setWidth(splitWidth);\n\t\t\t}\n\t\t}\n\t}\n\n}\n","import { ColumnWidth } from './column-width';\nimport { ColumnConfig } from '../../../column.config';\nimport { CompositionContainerWidthCalculator } from '../../width/composition-container-width.calculator';\nimport { CompositionWidthCalculator } from '../../width/composition-width.calculator';\n\n\nexport class ColumnWidthCollection {\n\n\tprivate baseColumnWidths: Array<ColumnWidth>;\n\n\tprivate columnWidths: Array<ColumnWidth>;\n\n\tprivate width: number;\n\n\tconstructor(private readonly MIN_COLUMN_WIDTH: number,\n\t\t\t\tcolumns: Array<ColumnConfig> = [],\n\t\t\t\twidth: number = 100) {\n\t\tthis.baseColumnWidths = columns.map((column: ColumnConfig) => new ColumnWidth(column.width));\n\t\tthis.columnWidths = columns.map((column: ColumnConfig) => new ColumnWidth(column.width));\n\n\t\tthis.setContainerWidth(width);\n\n\t\tthis.calculate();\n\t}\n\n\tgetColumnWidths(): Array<ColumnWidth> {\n\t\treturn this.baseColumnWidths;\n\t}\n\n\tgetColumnsWidth(): number {\n\t\treturn this.width;\n\t}\n\n\tgetWidths(): Array<number> {\n\t\treturn this.columnWidths.map(c => c.getWidth());\n\t}\n\n\tgetMinWidth(): number {\n\t\tconst calculator = new CompositionContainerWidthCalculator(this.MIN_COLUMN_WIDTH);\n\n\t\treturn calculator.calculateMinWidth(this.columnWidths);\n\t}\n\n\tsetWidth(width: number): void {\n\n\t\tthis.setContainerWidth(width);\n\t\tthis.calculate();\n\t}\n\n\tsetColumns(columnConfigs: Array<ColumnConfig>): void {\n\t\tthis.baseColumnWidths = columnConfigs.map((column: ColumnConfig) => new ColumnWidth(column.width));\n\t\tthis.columnWidths = columnConfigs.map((column: ColumnConfig) => new ColumnWidth(column.width));\n\n\t\tthis.calculate();\n\t}\n\n\tgetMinColumnWidth(): number {\n\t\treturn this.MIN_COLUMN_WIDTH;\n\t}\n\n\tprivate calculate(): void {\n\n\t\tif (this.baseColumnWidths && this.width) {\n\n\t\t\tconst calculator = new CompositionWidthCalculator(this.baseColumnWidths, this.width, this.MIN_COLUMN_WIDTH);\n\n\t\t\tthis.columnWidths = calculator.calculate();\n\t\t}\n\t}\n\n\tprivate setContainerWidth(width: number): void {\n\t\tif (this.getMinWidth() > width) {\n\t\t\tthis.width = this.getMinWidth();\n\t\t} else {\n\t\t\tthis.width = width;\n\t\t}\n\n\t\tthis.calculate();\n\t}\n}\n","import { AggregateEvent, AggregateId } from '@generic-ui/hermes';\n\nexport class CompositionChangeSortStatusAggregateEvent extends AggregateEvent {\n\n\tconstructor(aggregateId: AggregateId) {\n\t\tsuper(aggregateId, 'CompositionChangeSortStatusAggregateEvent');\n\t}\n\n}\n","import { AggregateEvent } from '@generic-ui/hermes';\n\nimport { ActiveColumnEntity } from './active-column.entity';\nimport { ColumnWidthCollection } from '../column-width/column-width-collection';\nimport { ColumnConfig } from '../../../column.config';\nimport { ChangeSortParams } from '../sort/change-sort.params';\nimport { SortStatus } from '../sort/sort-status';\nimport { CompositionId } from '../../../composition-id';\nimport { CompositionChangeSortStatusAggregateEvent } from '../sort/composition-change-sort-status.aggregate-event';\nimport { ColumnId } from '../column.id';\nimport { ColumnWidth } from '../column-width/column-width';\n\nexport class ActiveColumnContainer {\n\n\tprivate readonly MIN_COLUMN_WIDTH = 50;\n\n\tprivate columns: Array<ActiveColumnEntity>;\n\n\t/**\n\t * Columns taken from user config.\n\t * This should not be modified and it should be used as a reference point.\n\t */\n\tprivate columnWidthCollection: ColumnWidthCollection = new ColumnWidthCollection(this.MIN_COLUMN_WIDTH);\n\n\tconstructor(private compositionId: CompositionId,\n\t\t\t\tcolumns: Array<ActiveColumnEntity> = [],\n\t\t\t\tgridWidth?: number,\n\t\t\t\tcolumnConfigs?: Array<ColumnConfig>) {\n\t\tthis.columns = columns;\n\n\t\tif (gridWidth && columnConfigs) {\n\t\t\tthis.columnWidthCollection = new ColumnWidthCollection(this.MIN_COLUMN_WIDTH, columnConfigs, gridWidth);\n\t\t}\n\t}\n\n\tgetColumnWidths(): Array<ColumnWidth> {\n\t\treturn this.columnWidthCollection.getColumnWidths();\n\t}\n\n\t// REMOVE\n\tgetColumns(): Array<ActiveColumnEntity> {\n\t\treturn this.columns;\n\t}\n\n\tsetWidth(width: number): void {\n\t\tthis.columnWidthCollection.setWidth(width);\n\t}\n\n\taddColumn(column: ActiveColumnEntity, index: number): void {\n\t\tthis.columns.splice(index, 0, column);\n\t}\n\n\tremoveColumn(index: number): void {\n\t\tthis.columns.splice(index, 1);\n\t}\n\n\tsetColumns(columns: Array<ActiveColumnEntity>, columnConfigs: Array<ColumnConfig>) {\n\n\t\tthis.columns = columns;\n\n\t\tthis.columnWidthCollection.setColumns(columnConfigs);\n\n\t\tconst updatedWidths = this.columnWidthCollection.getWidths();\n\n\t\tthis.columns.forEach((column: ActiveColumnEntity, index: number) => {\n\t\t\tcolumn.setWidth(updatedWidths[index]);\n\t\t});\n\n\t\t// TODO\n\t\t//this.addEvent(new ColumnsSetAggregateEvent(this.getId(), columns));\n\t}\n\n\tchangeSort(sortParams: Array<ChangeSortParams>): AggregateEvent {\n\n\t\tthis.columns.forEach((column: ActiveColumnEntity) => {\n\t\t\tcolumn.setSortStatus(SortStatus.NONE);\n\t\t});\n\n\t\tfor (let param of sortParams) {\n\n\t\t\tconst fieldId = param.fieldId,\n\t\t\t\tdirection = param.direction,\n\t\t\t\tsortStatus = direction ? SortStatus.ASC : SortStatus.DESC;\n\n\t\t\tconst columns = this.columns.filter((column: ActiveColumnEntity) => {\n\t\t\t\treturn column.getField().getId().getId() === fieldId.getId();\n\t\t\t});\n\n\t\t\tif (columns.length > 0) {\n\t\t\t\tcolumns.forEach((column: ActiveColumnEntity) => {\n\n\t\t\t\t\tcolumn.setSortStatus(sortStatus);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn new CompositionChangeSortStatusAggregateEvent(this.getCompositionId());\n\t}\n\n\tmoveLeft(columnId: ColumnId): void {\n\n\t\tconst index = this.findColumnIndex(columnId);\n\n\t\tthis.move(index, index - 1);\n\t}\n\n\tmoveRight(columnId: ColumnId): void {\n\n\t\tconst index = this.findColumnIndex(columnId);\n\n\t\tthis.move(index, index + 1);\n\t}\n\n\tgetMinColumnWidth(): number {\n\t\treturn this.MIN_COLUMN_WIDTH;\n\t}\n\n\tprivate move(fromIndex: number, toIndex: number): void {\n\n\t\tif (!this.validateMoveIndex(fromIndex) || !this.validateMoveIndex(toIndex)) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst column = this.columns[fromIndex];\n\n\t\tthis.columns[fromIndex] = this.columns[toIndex];\n\t\tthis.columns[toIndex] = column;\n\t}\n\n\tprivate validateMoveIndex(index: number): boolean {\n\t\treturn index >= 0;\n\t}\n\n\tprivate getCompositionId(): CompositionId {\n\t\treturn this.compositionId;\n\t}\n\n\tprivate findColumnIndex(columnId: ColumnId): number {\n\t\treturn this.columns.findIndex(c => c.getColumnId().equals(columnId));\n\t}\n\n}\n","import { SortStatus } from '../sort/sort-status';\nimport { ColumnField } from '../field/column-field';\nimport { ColumnId } from '../column.id';\nimport { ColumnConfig, HeaderTemplate } from '../../../column.config';\nimport { DataType } from '../../../../../structure/domain/structure/command/field/data-type/data-type';\nimport { CellView } from '../../../cell-view';\nimport { ViewEntity } from '../view.entity';\n\n\nexport class ActiveColumnEntity {\n\n\tprivate columnId: ColumnId;\n\n\tprivate columnField: ColumnField;\n\n\tprivate sortStatus = SortStatus.NONE;\n\n\tprivate width: number;\n\n\tprivate header: string | HeaderTemplate;\n\n\tprivate view: ViewEntity = new ViewEntity(CellView.TEXT);\n\n\tprivate config: ColumnConfig;\n\n\tconstructor(columnId: ColumnId,\n\t\t\t\tcolumnField: ColumnField,\n\t\t\t\theader: string | HeaderTemplate,\n\t\t\t\tview: ViewEntity,\n\t\t\t\tconfig: ColumnConfig) {\n\t\tthis.columnId = columnId;\n\t\tthis.columnField = columnField;\n\n\t\tthis.header = header;\n\t\tthis.view = view;\n\n\t\tthis.config = config;\n\t}\n\n\tgetConfig(): ColumnConfig {\n\t\treturn this.config;\n\t}\n\n\tgetSortStatus(): SortStatus {\n\t\treturn this.sortStatus;\n\t}\n\n\tgetField(): ColumnField {\n\t\treturn this.columnField;\n\t}\n\n\tgetWidth(): number {\n\t\treturn this.width;\n\t}\n\n\tgetColumnId(): ColumnId {\n\t\treturn this.columnId;\n\t}\n\n\tgetHeader(): string | HeaderTemplate {\n\t\treturn this.header;\n\t}\n\n\tgetDataType(): DataType {\n\t\treturn this.columnField.getDataType();\n\t}\n\n\tgetCellView(): CellView {\n\t\treturn this.view.getCellView();\n\t}\n\n\tgetTemplateFunction(): any {\n\t\treturn this.view.getTemplateFunction();\n\t}\n\n\tsetSortStatus(status: SortStatus): void {\n\t\tthis.sortStatus = status;\n\t}\n\n\tsetWidth(width: number): void {\n\t\tthis.width = width;\n\t}\n}\n","import { ActiveColumnEntity } from './active-column.entity';\nimport { ColumnEntity } from '../column.entity';\n\nexport class ActiveColumnEntityConverter {\n\n\tconvertMany(entities: Array<ColumnEntity>): Array<ActiveColumnEntity> {\n\t\treturn entities.map(e => this.convert(e));\n\t}\n\n\tconvert(entity: ColumnEntity): ActiveColumnEntity {\n\n\t\treturn new ActiveColumnEntity(\n\t\t\tentity.getColumnId(),\n\t\t\tentity.getField(),\n\t\t\tentity.getHeader(),\n\t\t\tentity.getView(),\n\t\t\tentity.getColumnConfig()\n\t\t);\n\t}\n\n\n}\n","import { AggregateEvent, AggregateId } from '@generic-ui/hermes';\nimport { ActiveColumnEntity } from '../../active/active-column.entity';\n\nexport class CompositionColumnMovedLeftAggregateEvent extends AggregateEvent {\n\n\tconstructor(aggregateId: AggregateId,\n\t\t\t\tprivate readonly activeColumns: Array<ActiveColumnEntity>) {\n\t\tsuper(aggregateId, 'CompositionColumnMovedLeftAggregateEvent');\n\t}\n\n\t// getActiveColumns(): Array<ActiveColumnEntity> {\n\t// \treturn this.activeColumns;\n\t// }\n\n}\n","import { AggregateEvent, AggregateId } from '@generic-ui/hermes';\nimport { ActiveColumnEntity } from '../../active/active-column.entity';\n\nexport class CompositionColumnMovedRightAggregateEvent extends AggregateEvent {\n\n\tconstructor(aggregateId: AggregateId,\n\t\t\t\tprivate readonly activeColumns: Array<ActiveColumnEntity>) {\n\t\tsuper(aggregateId, 'CompositionColumnMovedRightAggregateEvent');\n\t}\n\n\t// getActiveColumns(): Array<ActiveColumnEntity> {\n\t// \treturn this.activeColumns;\n\t// }\n\n}\n","import { AggregateEvent, AggregateId } from '@generic-ui/hermes';\n\n\nexport class ColumnsSetAggregateEvent extends AggregateEvent {\n\n\tconstructor(aggregateId: AggregateId) {\n\t\tsuper(aggregateId, 'ColumnsSetAggregateEvent');\n\t}\n\n}\n","import { Aggregate, AggregateId, RootAggregate } from '@generic-ui/hermes';\n\nimport { ColumnEntity } from './column/column.entity';\nimport { ColumnConfig } from '../column.config';\nimport { ColumnParams } from './column/set-columns/column.params';\nimport { ColumnEntityFactory } from './column/column-entity.factory';\nimport { ChangeSortParams } from './column/sort/change-sort.params';\nimport { CompositionContainerWidthCalculator } from './width/composition-container-width.calculator';\nimport { CompositionWidthSetAggregateEvent } from './width/set-width/composition-width-set.aggregate-event';\nimport { CompositionContainerWidthSetAggregateEvent } from './width/set-container-width/composition-container-width-set.aggregate-event';\nimport { CompositionResizeWidthSetAggregateEvent } from './width/resize-width/composition-resize-width-set.aggregate-event';\nimport { ColumnId } from './column/column.id';\nimport { CompositionColumnSetEnabledAggregateEvent } from './column/set-enabled/composition.column-set-enabled.aggregate-event';\nimport { ActiveColumnContainer } from './column/active/active-column.container';\nimport { ActiveColumnEntity } from './column/active/active-column.entity';\nimport { ActiveColumnEntityConverter } from './column/active/active-column.entity-converter';\nimport { CompositionColumnMovedLeftAggregateEvent } from './column/move/left/composition.column-moved-left.aggregate-event';\nimport { CompositionColumnMovedRightAggregateEvent } from './column/move/right/composition.column-moved-right.aggregate-event';\nimport { ColumnsSetAggregateEvent } from './column/set-columns/columns-set.aggregate-event';\n\n\n@RootAggregate\nexport class CompositionAggregate extends Aggregate {\n\n\tprivate allColumns: Array<ColumnEntity> = [];\n\n\tprivate readonly baseColumns: Array<ColumnConfig>;\n\n\tprivate readonly baseParams: Array<ColumnParams>;\n\n\t/**\n\t * Value taken from user config [width]/tree-content.assert.ts\n\n\t */\n\tprivate width: number;\n\n\tprivate containerInDOMWidth: number;\n\n\tprivate resizeWidthEnabled: boolean = true;\n\n\t/**\n\t * Autowired\n\t */\n\tprivate readonly columnFactory: ColumnEntityFactory = new ColumnEntityFactory();\n\n\tprivate readonly activeColumnContainer: ActiveColumnContainer;\n\n\tprivate readonly activeColumnEntityConverter: ActiveColumnEntityConverter = new ActiveColumnEntityConverter();\n\n\tconstructor(id: AggregateId,\n\t\t\t\tcolumnsParams: Array<ColumnParams> = [],\n\t\t\t\twidth?: number,\n\t\t\t\tresizeWidth?: boolean) {\n\t\tsuper(id);\n\n\t\tconst columnConfigs: Array<ColumnConfig> = columnsParams.map((param) => param.getColumn());\n\n\t\tthis.baseParams = columnsParams;\n\t\tthis.baseColumns = columnConfigs;\n\t\tthis.width = width;\n\n\t\tthis.allColumns = this.columnFactory.create(columnsParams);\n\n\t\tconst activeColumns = this.activeColumnEntityConverter.convertMany(this.getEnabledColumns());\n\n\t\tthis.activeColumnContainer = new ActiveColumnContainer(this.getId(), activeColumns, width, columnConfigs);\n\n\t\tif (resizeWidth !== undefined && resizeWidth !== null) {\n\t\t\tthis.resizeWidthEnabled = resizeWidth;\n\t\t}\n\n\t}\n\n\t// REMOVE\n\tgetColumns(): Array<ColumnEntity> {\n\t\treturn this.allColumns;\n\t}\n\n\t// REMOVE\n\tgetActiveColumns(): Array<ActiveColumnEntity> {\n\t\treturn this.activeColumnContainer.getColumns();\n\t}\n\n\t// make private\n\tgetWidth(): number {\n\n\t\tif (this.resizeWidthEnabled) {\n\t\t\treturn this.containerInDOMWidth;\n\t\t} else {\n\t\t\treturn this.width;\n\t\t}\n\t}\n\n\t// REMOVE\n\tisResizeEnabled(): boolean {\n\t\treturn this.resizeWidthEnabled;\n\t}\n\n\t// REMOVE\n\tisReady(): boolean {\n\t\treturn !!this.getWidth() && this.getActiveColumns().length > 0;\n\t}\n\n\tsetColumns(params: Array<ColumnParams>): void {\n\n\t\tthis.allColumns = this.columnFactory.create(params);\n\n\t\tconst columnConfigs: Array<ColumnConfig> = params.map((param: ColumnParams) => param.getColumn());\n\n\t\tconst activeColumns = this.activeColumnEntityConverter.convertMany(this.getEnabledColumns());\n\n\t\tthis.activeColumnContainer.setColumns(activeColumns, columnConfigs);\n\n\t\tthis.addEvent(new ColumnsSetAggregateEvent(this.getId()));\n\t}\n\n\tsetContainerWidth(containerWidth: number): void {\n\n\t\tthis.setContainerWidthWithEvent(containerWidth);\n\n\t\tthis.recalculateColumns();\n\t}\n\n\tsetWidth(width: number): void {\n\t\tthis.setWidthWithEvent(width);\n\n\t\tthis.setResizeWidthWithEvent(false);\n\n\t\tthis.recalculateColumns();\n\t}\n\n\tsetResizeWidth(enabled: boolean): void {\n\t\tthis.setResizeWidthWithEvent(enabled);\n\t}\n\n\tchangeSort(sortParams: Array<ChangeSortParams>): void {\n\t\tthis.addEvent(\n\t\t\tthis.activeColumnContainer.changeSort(sortParams)\n\t\t);\n\t}\n\n\t// DELEGATE\n\tenableColumn(columnId: ColumnId, enabled: boolean): void {\n\n\t\tlet enabledIndex = -1;\n\n\t\tthis.allColumns.forEach((column: ColumnEntity, index: number) => {\n\t\t\tif (column.getColumnId().getId() === columnId.getId()) {\n\n\t\t\t\tconst prevState = column.isEnabled();\n\n\t\t\t\tcolumn.setEnabled(enabled);\n\n\t\t\t\tif (prevState !== enabled) {\n\t\t\t\t\tenabledIndex = index;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif (enabledIndex > 0) {\n\n\t\t\tif (enabled) {\n\n\t\t\t\t// convert\n\t\t\t\tconst columnToAdd = this.activeColumnEntityConverter.convert(this.allColumns[enabledIndex]);\n\n\t\t\t\tthis.activeColumnContainer.addColumn(columnToAdd, enabledIndex);\n\t\t\t} else {\n\t\t\t\tthis.activeColumnContainer.removeColumn(enabledIndex);\n\t\t\t}\n\t\t}\n\n\t\tthis.recalculateColumns();\n\n\t\tthis.addEvent(\n\t\t\tnew CompositionColumnSetEnabledAggregateEvent(this.getId(), this.getActiveColumns())\n\t\t);\n\t}\n\n\tmoveLeft(columnId: ColumnId): void {\n\n\t\tconst columnIndex = this.findColumnIndex(columnId);\n\n\t\tlet nextLeft,\n\t\t\tnextLeftIndex = -1;\n\n\t\tfor (let i = columnIndex - 1; i >= 0; i -= 1) {\n\n\t\t\tconst leftColumn = this.allColumns[i];\n\n\t\t\tif (leftColumn.isEnabled()) {\n\n\t\t\t\tnextLeft = leftColumn;\n\t\t\t\tnextLeftIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (nextLeft && nextLeftIndex >= 0 && columnIndex >= 0) {\n\n\t\t\tlet column = this.allColumns[columnIndex];\n\n\t\t\tthis.allColumns[columnIndex] = nextLeft;\n\t\t\tthis.allColumns[nextLeftIndex] = column;\n\t\t}\n\n\t\tthis.activeColumnContainer.moveLeft(columnId);\n\n\t\tthis.addEvent(\n\t\t\tnew CompositionColumnMovedLeftAggregateEvent(this.getId(), this.getActiveColumns())\n\t\t);\n\t}\n\n\tmoveRight(columnId: ColumnId): void {\n\n\t\tconst columnIndex = this.findColumnIndex(columnId);\n\n\t\tlet nextRight,\n\t\t\tnextRightIndex = -1;\n\n\t\tfor (let i = columnIndex + 1; i < this.allColumns.length; i += 1) {\n\n\t\t\tconst rightColumn = this.allColumns[i];\n\n\t\t\tif (rightColumn.isEnabled()) {\n\n\t\t\t\tnextRight = rightColumn;\n\t\t\t\tnextRightIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (nextRight && nextRightIndex >= 0 && columnIndex >= 0) {\n\n\t\t\tlet column = this.allColumns[columnIndex];\n\n\t\t\tthis.allColumns[columnIndex] = nextRight;\n\t\t\tthis.allColumns[nextRightIndex] = column;\n\t\t}\n\n\t\tthis.activeColumnContainer.moveRight(columnId);\n\n\t\tthis.addEvent(\n\t\t\tnew CompositionColumnMovedRightAggregateEvent(this.getId(), this.getActiveColumns())\n\t\t);\n\t}\n\n\tprivate recalculateColumns(): void {\n\n\t\tconst activeColumns = this.activeColumnEntityConverter.convertMany(this.getEnabledColumns());\n\n\t\tthis.activeColumnContainer.setColumns(activeColumns, activeColumns.map(c => c.getConfig()));\n\t}\n\n\t// TODO Refactor\n\tprivate setWidthWithEvent(width: number): void {\n\n\t\tconst calculator = new CompositionContainerWidthCalculator(this.getMinColumnWidth());\n\n\t\tconst minWidth = calculator.calculateMinWidth(this.activeColumnContainer.getColumnWidths());\n\n\t\tif (minWidth > width) {\n\t\t\tthis.width = minWidth;\n\t\t} else {\n\t\t\tthis.width = width;\n\t\t}\n\n\t\tthis.activeColumnContainer.setWidth(this.getWidth());\n\n\t\tthis.addEvent(new CompositionWidthSetAggregateEvent(this.getId()));\n\t}\n\n\t// TODO Refactor\n\tprivate setContainerWidthWithEvent(containerWidth: number): void {\n\n\t\tconst calculator = new CompositionContainerWidthCalculator(this.getMinColumnWidth());\n\n\t\tconst minWidth = calculator.calculateMinWidth(this.activeColumnContainer.getColumnWidths());\n\n\t\tif (minWidth > containerWidth) {\n\t\t\tthis.containerInDOMWidth = minWidth;\n\t\t} else {\n\t\t\tthis.containerInDOMWidth = containerWidth;\n\t\t}\n\n\t\tthis.activeColumnContainer.setWidth(this.getWidth());\n\n\t\tthis.addEvent(new CompositionContainerWidthSetAggregateEvent(this.getId(), containerWidth));\n\t}\n\n\tprivate setResizeWidthWithEvent(enabled: boolean): void {\n\t\tthis.resizeWidthEnabled = enabled;\n\t\tthis.activeColumnContainer.setWidth(this.getWidth());\n\t\tthis.addEvent(new CompositionResizeWidthSetAggregateEvent(this.getId()));\n\t}\n\n\t// REMOVE -> move to allColumnsContainer\n\tprivate getEnabledColumns(): Array<ColumnEntity> {\n\t\treturn this.allColumns.filter(c => c.isEnabled());\n\t}\n\n\tprivate findColumnIndex(columnId: ColumnId): number {\n\t\treturn this.allColumns.findIndex((column: ColumnEntity) => column.getColumnId().equals(columnId));\n\t}\n\n\tprivate getMinColumnWidth(): number {\n\t\treturn this.activeColumnContainer.getMinColumnWidth();\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { CompositionId } from '../composition-id';\nimport { CompositionAggregate } from './composition.aggregate';\n\n\n@Injectable()\nexport class CompositionAggregateFactory {\n\n\tcreate(id: CompositionId): CompositionAggregate {\n\t\treturn new CompositionAggregate(id);\n\t}\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { CompositionId } from '../../composition-id';\n\n\nexport class InitCompositionCommand extends Command {\n\n\tconstructor(public readonly compositionId: CompositionId) {\n\t\tsuper(compositionId, 'InitCompositionCommand');\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { CompositionId } from '../../../composition-id';\n\nimport { ColumnParams } from './column.params';\n\n\nexport class SetColumnsCommand extends Command {\n\n\tconstructor(readonly compositionId: CompositionId,\n\t\t\t\tprivate readonly columns: Array<ColumnParams>) {\n\t\tsuper(compositionId, 'SetColumnsCommand');\n\t}\n\n\tgetParams(): Array<ColumnParams> {\n\t\treturn this.columns;\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../structure/domain/structure-id';\n\nexport class SetCompositionWidthCommand extends Command {\n\n\tconstructor(public readonly structureId: StructureId,\n\t\t\t\tpublic readonly width: number) {\n\t\tsuper(structureId, 'SetCompositionWidthCommand');\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../structure/domain/structure-id';\n\nexport class SetCompositionContainerWidthCommand extends Command {\n\n\tconstructor(public readonly structureId: StructureId,\n\t\t\t\tpublic readonly width: number) {\n\t\tsuper(structureId, 'SetCompositionContainerWidthCommand');\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\nimport { StructureId } from '../../../../../structure/domain/structure-id';\n\nexport class SetCompositionResizeWidthCommand extends Command {\n\n\tconstructor(public readonly structureId: StructureId,\n\t\t\t\tpublic readonly enabled: boolean) {\n\t\tsuper(structureId, 'SetCompositionResizeWidthCommand');\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { CompositionId } from '../../../composition-id';\nimport { ChangeSortParams } from './change-sort.params';\n\n\nexport class CompositionChangeSortStatusCommand extends Command {\n\n\tconstructor(readonly compositionId: CompositionId,\n\t\t\t\tprivate readonly sortParams: Array<ChangeSortParams>) {\n\t\tsuper(compositionId, 'CompositionChangeSortStatusCommand');\n\t}\n\n\tgetCompositionId(): CompositionId {\n\t\treturn this.compositionId;\n\t}\n\n\tgetSortParams(): Array<ChangeSortParams> {\n\t\treturn this.sortParams;\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { CompositionId } from '../../../composition-id';\nimport { ColumnId } from '../column.id';\n\nexport class CompositionSetColumnEnabledCommand extends Command {\n\n\tconstructor(readonly compositionId: CompositionId,\n\t\t\t\tprivate readonly columnId: ColumnId,\n\t\t\t\tprivate readonly enabled: boolean) {\n\t\tsuper(compositionId, 'CompositionSetColumnEnabledCommand');\n\t}\n\n\tgetColumnId(): ColumnId {\n\t\treturn this.columnId;\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { CompositionId } from '../../../../composition-id';\nimport { ColumnId } from '../../column.id';\n\nexport class CompositionMoveLeftColumnCommand extends Command {\n\n\tconstructor(readonly compositionId: CompositionId,\n\t\t\t\tprivate readonly columnId: ColumnId) {\n\t\tsuper(compositionId, 'CompositionMoveLeftColumnCommand');\n\t}\n\n\tgetColumnId(): ColumnId {\n\t\treturn this.columnId;\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { CompositionId } from '../../../../composition-id';\nimport { ColumnId } from '../../column.id';\n\nexport class CompositionMoveRightColumnCommand extends Command {\n\n\tconstructor(readonly compositionId: CompositionId,\n\t\t\t\tprivate readonly columnId: ColumnId) {\n\t\tsuper(compositionId, 'CompositionMoveRightColumnCommand');\n\t}\n\n\tgetColumnId(): ColumnId {\n\t\treturn this.columnId;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandDispatcher } from '@generic-ui/hermes';\n\nimport { CompositionId } from '../composition-id';\nimport { InitCompositionCommand } from './init/init-composition.command';\nimport { ColumnParams } from './column/set-columns/column.params';\nimport { SetColumnsCommand } from './column/set-columns/set-columns.command';\nimport { SetCompositionWidthCommand } from './width/set-width/set-composition-width.command';\nimport { SetCompositionContainerWidthCommand } from './width/set-container-width/set-composition-container-width.command';\nimport { SetCompositionResizeWidthCommand } from './width/resize-width/set-composition-resize-width.command';\nimport { ChangeSortParams } from './column/sort/change-sort.params';\nimport { CompositionChangeSortStatusCommand } from './column/sort/composition-change-sort-status.command';\nimport { ColumnId } from './column/column.id';\nimport { CompositionSetColumnEnabledCommand } from './column/set-enabled/composition.set-column-enabled.command';\nimport { CompositionMoveLeftColumnCommand } from './column/move/left/composition.move-left-column.command';\nimport { CompositionMoveRightColumnCommand } from './column/move/right/composition.move-right-column.command';\n\n\n@Injectable()\nexport class CompositionDispatcher {\n\n\tconstructor(private commandDispatcher: CommandDispatcher) {\n\t}\n\n\tinit(compositionId: CompositionId): void {\n\t\tthis.commandDispatcher.dispatch(new InitCompositionCommand(compositionId));\n\t}\n\n\tsetColumns(compositionId: CompositionId, params: Array<ColumnParams>): void {\n\t\tthis.commandDispatcher.dispatch(new SetColumnsCommand(compositionId, params));\n\t}\n\n\tsetWidth(compositionId: CompositionId, width: number): void {\n\t\tthis.commandDispatcher.dispatch(new SetCompositionWidthCommand(compositionId, width));\n\t}\n\n\tsetContainerWidth(compositionId: CompositionId, width: number): void {\n\t\tthis.commandDispatcher.dispatch(new SetCompositionContainerWidthCommand(compositionId, width));\n\t}\n\n\tsetResizeWidth(compositionId: CompositionId, enabled: boolean): void {\n\t\tthis.commandDispatcher.dispatch(new SetCompositionResizeWidthCommand(compositionId, enabled));\n\t}\n\n\tchangeSort(compositionId: CompositionId, params: Array<ChangeSortParams>): void {\n\t\tthis.commandDispatcher.dispatch(new CompositionChangeSortStatusCommand(compositionId, params));\n\t}\n\n\tsetColumnEnabled(compositionId: CompositionId, columnId: ColumnId, enabled: boolean): void {\n\t\tthis.commandDispatcher.dispatch(new CompositionSetColumnEnabledCommand(compositionId, columnId, enabled));\n\t}\n\n\tmoveLeft(compositionId: CompositionId, columnId: ColumnId): void {\n\t\tthis.commandDispatcher.dispatch(new CompositionMoveLeftColumnCommand(compositionId, columnId));\n\t}\n\n\tmoveRight(compositionId: CompositionId, columnId: ColumnId): void {\n\t\tthis.commandDispatcher.dispatch(new CompositionMoveRightColumnCommand(compositionId, columnId));\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { CommandHandler, DomainEventPublisher, ExecuteResponse } from '@generic-ui/hermes';\n\nimport { CompositionAggregateRepository } from '../composition.aggregate-repository';\nimport { CompositionAggregateFactory } from '../composition.aggregate-factory';\nimport { InitCompositionCommand } from './init-composition.command';\nimport { CompositionInitedEvent } from './composition-inited.event';\n\n\n@Injectable()\nexport class InitCompositionCommandHandler extends CommandHandler {\n\n\tconstructor(private readonly compositionAggregateRepository: CompositionAggregateRepository,\n\t\t\t\tprivate readonly compositionAggregateFactory: CompositionAggregateFactory,\n\t\t\t\tdomainEventPublisher: DomainEventPublisher) {\n\t\tsuper(InitCompositionCommand,\n\t\t\tCompositionInitedEvent,\n\t\t\tdomainEventPublisher);\n\t}\n\n\thandle(command: InitCompositionCommand): ExecuteResponse | Observable<ExecuteResponse> {\n\n\t\tconst aggregateId = command.compositionId;\n\n\t\tconst compositionAggregate = this.compositionAggregateFactory.create(aggregateId);\n\n\t\tthis.compositionAggregateRepository.save(compositionAggregate);\n\t}\n\n}\n","import { CompositionColumnMovedLeftAggregateEvent } from './column/move/left/composition.column-moved-left.aggregate-event';\n\nexport const CompositionAggregateEvents = {\n\tCompositionResizeWidthSetAggregateEvent: 'CompositionResizeWidthSetAggregateEvent',\n\tColumnsSetAggregateEvent: 'ColumnsSetAggregateEvent',\n\tCompositionContainerWidthSetAggregateEvent: 'CompositionContainerWidthSetAggregateEvent',\n\tCompositionWidthSetAggregateEvent: 'CompositionWidthSetAggregateEvent',\n\tCompositionColumnSetEnabledAggregateEvent: 'CompositionColumnSetEnabledAggregateEvent',\n\tCompositionColumnMovedLeftAggregateEvent: 'CompositionColumnMovedLeftAggregateEvent',\n\tCompositionColumnMovedRightAggregateEvent: 'CompositionColumnMovedRightAggregateEvent'\n};\n","import { Injectable } from '@angular/core';\n\nimport { AggregateEvent, DomainEvent } from '@generic-ui/hermes';\n\nimport { CompositionAggregateEvents } from './composition.events';\nimport { CompositionResizeWidthSetEvent } from './width/resize-width/composition-resize-width-set.event';\nimport { CompositionColumnsSetEvent } from './column/set-columns/composition.columns-set.event';\nimport { CompositionContainerWidthSetAggregateEvent } from './width/set-container-width/composition-container-width-set.aggregate-event';\nimport { CompositionContainerWidthSetEvent } from './width/set-container-width/composition-container-width-set.event';\nimport { CompositionWidthSetEvent } from './width/set-width/composition-width-set.event';\nimport { CompositionColumnSetEnabledEvent } from './column/set-enabled/composition.column-set-enabled.event';\nimport { CompositionColumnMovedLeftEvent } from './column/move/left/composition.column-moved-left.event';\nimport { CompositionColumnMovedRightEvent } from './column/move/right/composition.column-moved-right.event';\n\n\n@Injectable()\nexport class CompositionEventConverter {\n\n\tconvert(event: AggregateEvent): DomainEvent;\n\tconvert(events: Array<AggregateEvent>): Array<DomainEvent>;\n\tconvert(arg: AggregateEvent | Array<AggregateEvent>): DomainEvent | Array<DomainEvent> {\n\n\t\tif (Array.isArray(arg)) {\n\t\t\treturn this.convertEvents(arg);\n\t\t} else {\n\t\t\treturn this.convertEvent(arg);\n\t\t}\n\t}\n\n\tprivate convertEvents(aggregateEvents: Array<AggregateEvent>): Array<DomainEvent> {\n\t\treturn aggregateEvents.map((event: AggregateEvent) => {\n\t\t\treturn this.convertEvent(event);\n\t\t});\n\t}\n\n\tprivate convertEvent(aggregateEvent: AggregateEvent): DomainEvent {\n\n\t\tswitch (aggregateEvent.getType()) {\n\t\t\tcase CompositionAggregateEvents.CompositionResizeWidthSetAggregateEvent:\n\n\t\t\t\treturn new CompositionResizeWidthSetEvent(aggregateEvent.getAggregateId());\n\n\t\t\tcase CompositionAggregateEvents.ColumnsSetAggregateEvent:\n\n\t\t\t\treturn new CompositionColumnsSetEvent(aggregateEvent.getAggregateId());\n\n\t\t\tcase CompositionAggregateEvents.CompositionContainerWidthSetAggregateEvent:\n\n\t\t\t\tconst payload = (aggregateEvent as CompositionContainerWidthSetAggregateEvent).containerWidth;\n\n\t\t\t\treturn new CompositionContainerWidthSetEvent(aggregateEvent.getAggregateId(), payload);\n\n\t\t\tcase CompositionAggregateEvents.CompositionWidthSetAggregateEvent:\n\n\t\t\t\treturn new CompositionWidthSetEvent(aggregateEvent.getAggregateId());\n\n\t\t\tcase CompositionAggregateEvents.CompositionColumnSetEnabledAggregateEvent:\n\n\t\t\t\treturn new CompositionColumnSetEnabledEvent(aggregateEvent.getAggregateId());\n\n\t\t\tcase CompositionAggregateEvents.CompositionColumnMovedLeftAggregateEvent:\n\n\t\t\t\treturn new CompositionColumnMovedLeftEvent(aggregateEvent.getAggregateId());\n\n\t\t\tcase CompositionAggregateEvents.CompositionColumnMovedRightAggregateEvent:\n\n\t\t\t\treturn new CompositionColumnMovedRightEvent(aggregateEvent.getAggregateId());\n\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t}\n\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { AggregateEvent, Command, CommandHandler, DomainEventPublisher, ExecuteResponse } from '@generic-ui/hermes';\n\nimport { CompositionAggregateRepository } from '../../composition.aggregate-repository';\nimport { CompositionEventConverter } from '../../composition-event.converter';\nimport { CompositionAggregate } from '../../composition.aggregate';\n\nimport { SetColumnsCommand } from './set-columns.command';\nimport { ColumnParams } from './column.params';\n\n\n@Injectable()\nexport class SetColumnsCommandHandler extends CommandHandler {\n\n\tconstructor(private readonly compositionAggregateRepository: CompositionAggregateRepository,\n\t\t\t\tprotected domainEventPublisher: DomainEventPublisher,\n\t\t\t\tprivate compositionEventConverter: CompositionEventConverter) {\n\t\tsuper(SetColumnsCommand);\n\t}\n\n\thandle(command: SetColumnsCommand): ExecuteResponse | Observable<ExecuteResponse> {\n\n\t\tconst aggregateId = command.getAggregateId(),\n\t\t\tsetColumnsParams: Array<ColumnParams> = command.getParams();\n\n\t\tconst composition = this.compositionAggregateRepository.getById(aggregateId);\n\n\t\tcomposition.setColumns(setColumnsParams);\n\n\t\tthis.compositionAggregateRepository.save(composition);\n\n\t\tthis.publishEvents(composition, command);\n\t}\n\n\tprivate publishEvents(composition: CompositionAggregate, command: Command): void {\n\n\t\tconst events = composition.getEvents() as Array<AggregateEvent>;\n\n\t\tconst domainEvents = this.compositionEventConverter.convert(events);\n\n\t\tthis.domainEventPublisher.publish(domainEvents);\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { CommandHandler, DomainEventPublisher, ExecuteResponse } from '@generic-ui/hermes';\n\nimport { CompositionAggregateRepository } from '../../composition.aggregate-repository';\nimport { ColumnEntityFactory } from '../../column/column-entity.factory';\nimport { SetCompositionWidthCommand } from './set-composition-width.command';\nimport { CompositionWidthSetEvent } from './composition-width-set.event';\n\n\n@Injectable()\nexport class SetCompositionWidthCommandHandler extends CommandHandler {\n\n\tconstructor(private readonly compositionAggregateRepository: CompositionAggregateRepository,\n\t\t\t\tprivate readonly columnConverter: ColumnEntityFactory,\n\t\t\t\tdomainEventPublisher: DomainEventPublisher) {\n\t\tsuper(SetCompositionWidthCommand,\n\t\t\tCompositionWidthSetEvent,\n\t\t\tdomainEventPublisher);\n\t}\n\n\thandle(command: SetCompositionWidthCommand): ExecuteResponse | Observable<ExecuteResponse> {\n\n\t\tconst aggregateId = command.structureId,\n\t\t\twidth = command.width;\n\n\t\tconst composition = this.compositionAggregateRepository.getById(aggregateId);\n\n\t\tcomposition.setWidth(width);\n\n\t\tthis.compositionAggregateRepository.save(composition);\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { CommandHandler, DomainEventPublisher, ExecuteResponse } from '@generic-ui/hermes';\n\nimport { CompositionAggregateRepository } from '../../composition.aggregate-repository';\nimport { ColumnEntityFactory } from '../../column/column-entity.factory';\nimport { SetCompositionResizeWidthCommand } from './set-composition-resize-width.command';\nimport { CompositionResizeWidthSetEvent } from './composition-resize-width-set.event';\n\n\n@Injectable()\nexport class SetCompositionResizeWidthCommandHandler extends CommandHandler {\n\n\tconstructor(private readonly compositionAggregateRepository: CompositionAggregateRepository,\n\t\t\t\tprivate readonly columnConverter: ColumnEntityFactory,\n\t\t\t\tdomainEventPublisher: DomainEventPublisher) {\n\t\tsuper(SetCompositionResizeWidthCommand,\n\t\t\tCompositionResizeWidthSetEvent,\n\t\t\tdomainEventPublisher);\n\t}\n\n\thandle(command: SetCompositionResizeWidthCommand): ExecuteResponse | Observable<ExecuteResponse> {\n\n\t\tconst aggregateId = command.structureId,\n\t\t\tenabled = command.enabled;\n\n\t\tconst composition = this.compositionAggregateRepository.getById(aggregateId);\n\n\t\tcomposition.setResizeWidth(enabled);\n\n\t\tthis.compositionAggregateRepository.save(composition);\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { AggregateEvent, CommandHandler, DomainEventPublisher, ExecuteResponse } from '@generic-ui/hermes';\n\nimport { CompositionAggregateRepository } from '../../composition.aggregate-repository';\nimport { CompositionEventConverter } from '../../composition-event.converter';\nimport { SetCompositionContainerWidthCommand } from './set-composition-container-width.command';\n\n\n@Injectable()\nexport class SetCompositionContainerWidthCommandHandler extends CommandHandler {\n\n\tconstructor(private readonly compositionAggregateRepository: CompositionAggregateRepository,\n\t\t\t\tprotected domainEventPublisher: DomainEventPublisher,\n\t\t\t\tprivate compositionEventConverter: CompositionEventConverter) {\n\t\tsuper(SetCompositionContainerWidthCommand);\n\t}\n\n\thandle(command: SetCompositionContainerWidthCommand): ExecuteResponse | Observable<ExecuteResponse> {\n\n\t\tconst aggregateId = command.structureId,\n\t\t\twidth = command.width;\n\n\t\tconst composition = this.compositionAggregateRepository.getById(aggregateId);\n\n\t\tcomposition.setContainerWidth(width);\n\n\t\tthis.compositionAggregateRepository.save(composition);\n\n\t\tthis.publishAggregateEvents(composition.getEvents() as Array<AggregateEvent>);\n\t}\n\n\tprivate publishAggregateEvents(aggregateEvents: Array<AggregateEvent>): void {\n\n\t\tconst domainEvents = this.compositionEventConverter.convert(aggregateEvents);\n\n\t\tthis.domainEventPublisher.publish(domainEvents);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { CommandHandler, DomainEventPublisher, ExecuteResponse } from '@generic-ui/hermes';\n\nimport { CompositionAggregateRepository } from '../../composition.aggregate-repository';\nimport { CompositionChangeSortStatusCommand } from './composition-change-sort-status.command';\nimport { CompositionChangeSortStatusEvent } from './composition-change-sort-status.event';\n\n\n@Injectable()\nexport class CompositionChangeSortStatusCommandHandler extends CommandHandler {\n\n\tconstructor(private readonly compositionAggregateRepository: CompositionAggregateRepository,\n\t\t\t\tprotected domainEventPublisher: DomainEventPublisher) {\n\t\tsuper(CompositionChangeSortStatusCommand);\n\t}\n\n\thandle(command: CompositionChangeSortStatusCommand): ExecuteResponse | Observable<ExecuteResponse> {\n\n\t\tconst compositionId = command.getCompositionId(),\n\t\t\tsortParams = command.getSortParams();\n\n\t\tconst composition = this.compositionAggregateRepository.getById(compositionId);\n\n\t\tconst aggregateEvent = composition.changeSort(sortParams);\n\n\t\tthis.compositionAggregateRepository.save(composition);\n\n\t\tconst columns = composition.getActiveColumns();\n\n\t\tthis.domainEventPublisher.publish(new CompositionChangeSortStatusEvent(compositionId, columns));\n\t}\n\n}\n","import { ColumnFieldId } from './column-field.id';\nimport { ColumnFieldAccessor } from './column-field-accessor';\n\nimport { DataType } from '../../../../../structure/domain/structure/command/field/data-type/data-type';\nimport { OriginItemEntity } from '../../../../../structure/domain/source/command/origin/origin-item-entity';\n\n\nexport class ColumnField {\n\n\tprivate readonly fieldId: ColumnFieldId;\n\n\tprivate readonly accessor: ColumnFieldAccessor;\n\n\tprivate readonly dataType: DataType;\n\n\tconstructor(fieldId: ColumnFieldId,\n\t\t\t\taccessor: ColumnFieldAccessor,\n\t\t\t\tdataType: DataType) {\n\t\tthis.fieldId = fieldId;\n\t\tthis.accessor = accessor;\n\t\tthis.dataType = dataType;\n\t}\n\n\tgetId(): ColumnFieldId {\n\t\treturn this.fieldId;\n\t}\n\n\tgetValue(entity: OriginItemEntity): any {\n\t\treturn this.accessor(entity);\n\t}\n\n\tgetAccessor(): ColumnFieldAccessor {\n\t\treturn this.accessor;\n\t}\n\n\tgetDataType(): DataType {\n\t\treturn this.dataType;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { ColumnFieldId } from './column-field.id';\nimport { ColumnFieldAccessor } from './column-field-accessor';\nimport { ColumnField } from './column-field';\n\nimport { DataType } from '../../../../../structure/domain/structure/command/field/data-type/data-type';\n\n\n@Injectable()\nexport class ColumnFieldFactory {\n\n\tcreate(columnFieldId: ColumnFieldId, accessor: ColumnFieldAccessor, dataType: DataType): ColumnField {\n\t\treturn new ColumnField(columnFieldId, accessor, dataType);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { filter, map } from 'rxjs/operators';\n\nimport { DomainEvent, DomainEventBus } from '@generic-ui/hermes';\n\nimport { CompositionId } from '../domain/composition-id';\nimport { CompositionColumnsSetEvent } from '../domain/command/column/set-columns/composition.columns-set.event';\nimport { CompositionContainerWidthSetEvent } from '../domain/command/width/set-container-width/composition-container-width-set.event';\n\n\n@Injectable()\nexport class CompositionEventService {\n\n\tconstructor(private readonly domainEventBus: DomainEventBus) {\n\t}\n\n\tonColumnsChanged(compositionId: CompositionId): Observable<DomainEvent> {\n\n\t\treturn this.domainEventBus\n\t\t\t\t   .ofEvent(\n\t\t\t\t\t   CompositionColumnsSetEvent\n\t\t\t\t   )\n\t\t\t\t   .pipe(\n\t\t\t\t\t   filter((event: DomainEvent) => event.aggregateId.toString() === compositionId.toString())\n\t\t\t\t   );\n\t}\n\n\tonWidthChanged(compositionId: CompositionId): Observable<number> {\n\t\treturn this.domainEventBus\n\t\t\t\t   .ofEvent(\n\t\t\t\t\t   CompositionColumnsSetEvent\n\t\t\t\t   )\n\t\t\t\t   .pipe(\n\t\t\t\t\t   filter((event: DomainEvent) => event.aggregateId.toString() === compositionId.toString())\n\t\t\t\t   );\n\t}\n\n\tonContainerWidthChanged(compositionId: CompositionId): Observable<number> {\n\t\treturn this.domainEventBus\n\t\t\t\t   .ofEvent(\n\t\t\t\t\t   CompositionContainerWidthSetEvent\n\t\t\t\t   )\n\t\t\t\t   .pipe(\n\t\t\t\t\t   filter((event: DomainEvent) => event.getAggregateId().equals(compositionId)),\n\t\t\t\t\t   map((event: CompositionContainerWidthSetEvent) => {\n\t\t\t\t\t\t   return event.getPayload();\n\t\t\t\t\t   }),\n\t\t\t\t\t   filter((width: number) => !!width)\n\t\t\t\t   );\n\t}\n\n}\n","import { AggregateId } from '@generic-ui/hermes';\n\nexport class CompositionId extends AggregateId {\n\n\tconstructor(id: string) {\n\t\tsuper(id);\n\t}\n\n}\n","import { CompositionId } from './composition-id';\n\nexport const globalCompositionId = new CompositionId('-1');\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { filter, map } from 'rxjs/operators';\n\nimport { CompositionRepository } from '../domain/read/composition.repository';\nimport { CompositionId } from '../domain/composition-id';\nimport { globalCompositionId } from '../domain/global-composition-id';\nimport { Composition } from '../domain/read/composition';\nimport { CellTemplateWithContext } from '../domain/read/definition/cell-template-with-context';\nimport { CellTemplateWithAccessor } from '../domain/read/definition/cell-template-with-accessor';\nimport { SortStatus } from '../domain/command/column/sort/sort-status';\nimport { FieldId } from '../../structure/domain/structure/command/field/data-type/field.id';\n\n\n@Injectable()\nexport class CompositionReadModelService {\n\n\tconstructor(private compositionRepository: CompositionRepository) {\n\t}\n\n\tonWidth(compositionId: CompositionId = globalCompositionId): Observable<number> {\n\t\treturn this.compositionRepository\n\t\t\t\t   .on(compositionId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((composition: Composition) => composition.getWidth())\n\t\t\t\t   );\n\t}\n\n\tonContainerWidth(compositionId: CompositionId = globalCompositionId): Observable<number> {\n\t\treturn this.compositionRepository\n\t\t\t\t   .on(compositionId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((composition: Composition) => composition.getContainerWidth())\n\t\t\t\t   );\n\t}\n\n\tonWidthForEachColumn(compositionId: CompositionId = globalCompositionId): Observable<Array<number>> {\n\t\treturn this.compositionRepository\n\t\t\t\t   .on(compositionId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((composition: Composition) => composition.getAllColumns().map(c => c.width))\n\t\t\t\t   );\n\t}\n\n\tonHeaderColumns(compositionId: CompositionId = globalCompositionId): Observable<Array<CellTemplateWithContext>> {\n\t\treturn this.compositionRepository\n\t\t\t\t   .on(compositionId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((composition: Composition) => composition.getActiveHeaderColumns())\n\t\t\t\t   );\n\t}\n\n\tonAllColumns(compositionId: CompositionId = globalCompositionId): Observable<Array<CellTemplateWithContext>> {\n\t\treturn this.compositionRepository\n\t\t\t\t   .on(compositionId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((composition: Composition) => composition.getHeaderColumns())\n\t\t\t\t   );\n\t}\n\n\tonSortOrder(fieldId: FieldId, compositionId: CompositionId = globalCompositionId): Observable<SortStatus> {\n\t\treturn this.compositionRepository\n\t\t\t\t   .on(compositionId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((composition: Composition) => composition.getActiveHeaderColumns()),\n\t\t\t\t\t   map((columns: Array<CellTemplateWithContext>) => {\n\t\t\t\t\t\t   return columns.filter((c) => c.getFieldId().equals(fieldId));\n\t\t\t\t\t   }),\n\t\t\t\t\t   filter((columns: Array<CellTemplateWithContext>) => {\n\t\t\t\t\t\t   return columns.length > 0;\n\t\t\t\t\t   }),\n\t\t\t\t\t   map(columns => columns[0].getSortStatus())\n\t\t\t\t   );\n\t}\n\n\tonTemplateColumns(compositionId: CompositionId = globalCompositionId): Observable<Array<CellTemplateWithAccessor>> {\n\t\treturn this.compositionRepository\n\t\t\t\t   .on(compositionId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((composition: Composition) => composition.getTemplateColumns())\n\t\t\t\t   );\n\t}\n\n\tonResizeWidth(compositionId: CompositionId = globalCompositionId): Observable<boolean> {\n\t\treturn this.compositionRepository\n\t\t\t\t   .on(compositionId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((composition: Composition) => composition.isResizeWidthEnabled())\n\t\t\t\t   );\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CompositionDispatcher } from '../domain/command/composition.dispatcher';\nimport { CompositionId } from '../domain/composition-id';\nimport { globalCompositionId } from '../domain/global-composition-id';\nimport { ColumnParams } from '../domain/command/column/set-columns/column.params';\nimport { ColumnId } from '../domain/command/column/column.id';\n\n\n@Injectable()\nexport class CompositionCommandService {\n\n\tconstructor(private compositionDispatcher: CompositionDispatcher) {\n\t}\n\n\tinit(compositionId: CompositionId = globalCompositionId): void {\n\t\tthis.compositionDispatcher.init(compositionId);\n\t}\n\n\tsetColumns(params: Array<ColumnParams>, compositionId: CompositionId = globalCompositionId): void {\n\t\tthis.compositionDispatcher.setColumns(compositionId, params);\n\t}\n\n\tsetWidth(width: number, compositionId: CompositionId = globalCompositionId): void {\n\t\tthis.compositionDispatcher.setWidth(compositionId, width);\n\t}\n\n\tsetContainerWidth(width: number, compositionId: CompositionId = globalCompositionId): void {\n\t\tthis.compositionDispatcher.setContainerWidth(compositionId, width);\n\t}\n\n\tsetResizeWidth(enabled: boolean, compositionId: CompositionId = globalCompositionId): void {\n\t\tthis.compositionDispatcher.setResizeWidth(compositionId, enabled);\n\t}\n\n\tenableColumn(columnId: ColumnId, compositionId: CompositionId = globalCompositionId): void {\n\t\tthis.compositionDispatcher.setColumnEnabled(compositionId, columnId, true);\n\t}\n\n\tdisableColumn(columnId: ColumnId, compositionId: CompositionId = globalCompositionId): void {\n\t\tthis.compositionDispatcher.setColumnEnabled(compositionId, columnId, false);\n\t}\n\n\tmoveLeft(columnId: ColumnId, compositionId: CompositionId = globalCompositionId): void {\n\t\tthis.compositionDispatcher.moveLeft(compositionId, columnId);\n\t}\n\n\tmoveRight(columnId: ColumnId, compositionId: CompositionId = globalCompositionId): void {\n\t\tthis.compositionDispatcher.moveRight(compositionId, columnId);\n\t}\n\n}\n","import { AggregateId, DomainEvent } from '@generic-ui/hermes';\nimport { CompositionId } from '../../../../../../composition/domain/composition-id';\nimport { FieldId } from '../../field/data-type/field.id';\n\n\nexport class SortToggledEvent extends DomainEvent {\n\n\tconstructor(aggregateId: AggregateId,\n\t\t\t\tprivate readonly compositionId: CompositionId,\n\t\t\t\tprivate readonly directions: Array<{ fieldId: FieldId, direction: boolean }>) {\n\t\tsuper(aggregateId, 'ToggleSortEvent');\n\t}\n\n\tgetCompositionId(): CompositionId {\n\t\treturn this.compositionId;\n\t}\n\n\tgetDirections(): any {\n\t\treturn this.directions;\n\t}\n}\n","export class ColumnFieldId {\n\n\tprivate readonly id: string;\n\n\tconstructor(id: string) {\n\t\tthis.id = id;\n\t}\n\n\tgetId(): string {\n\t\treturn this.id;\n\t}\n\n}\n","import { ColumnFieldId } from '../field/column-field.id';\n\nexport class ChangeSortParams {\n\n\tconstructor(public readonly fieldId: ColumnFieldId,\n\t\t\t\tpublic readonly direction: boolean) {\n\t}\n\n}\n","import { AggregateId, DomainEvent } from '@generic-ui/hermes';\nimport { CompositionId } from '../../../../../../composition/domain/composition-id';\nimport { FieldId } from '../../field/data-type/field.id';\n\nexport class SortOrderSetEvent extends DomainEvent {\n\n\tconstructor(aggregateId: AggregateId,\n\t\t\t\tprivate readonly compositionId: CompositionId,\n\t\t\t\tprivate readonly directions: Array<{ fieldId: FieldId, direction: boolean }>) {\n\t\tsuper(aggregateId, 'SortOrderSetEvent');\n\t}\n\n\tgetCompositionId(): CompositionId {\n\t\treturn this.compositionId;\n\t}\n\n\tgetDirections(): any {\n\t\treturn this.directions;\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEvent, DomainEventHandler } from '@generic-ui/hermes';\n\nimport { SortToggledEvent } from '../../../../../structure/domain/structure/command/sort/toggle/sort-toggled.event';\n\nimport { CompositionDispatcher } from '../../composition.dispatcher';\nimport { ColumnFieldId } from '../field/column-field.id';\nimport { ChangeSortParams } from './change-sort.params';\nimport { SortOrderSetEvent } from '../../../../../structure/domain/structure/command/sort/order/sort-order-set.event';\n\n\n@Injectable()\nexport class CompositionChangeSortStatusEventHandler extends DomainEventHandler {\n\n\tconstructor(private compositionDispatcher: CompositionDispatcher) {\n\t\tsuper();\n\t}\n\n\thandle(event: DomainEvent): void {\n\n\t\tif (event instanceof SortToggledEvent) {\n\n\t\t\tconst compositionId = event.getCompositionId(),\n\t\t\t\tdirs = event.getDirections();\n\n\t\t\tlet params = dirs.map((dir: any) => {\n\n\t\t\t\tconst columnFieldId = new ColumnFieldId(dir.fieldId.getId());\n\n\t\t\t\treturn new ChangeSortParams(columnFieldId, dir.direction);\n\t\t\t});\n\n\t\t\tthis.compositionDispatcher.changeSort(compositionId, params);\n\t\t}\n\n\t\tif (event instanceof SortOrderSetEvent) {\n\n\t\t\tconst compositionId = event.getCompositionId(),\n\t\t\t\tdirs = event.getDirections();\n\n\t\t\tlet params = dirs.map((dir: any) => {\n\n\t\t\t\tconst columnFieldId = new ColumnFieldId(dir.fieldId.getId());\n\n\t\t\t\treturn new ChangeSortParams(columnFieldId, dir.direction);\n\t\t\t});\n\n\t\t\tthis.compositionDispatcher.changeSort(compositionId, params);\n\t\t}\n\t}\n}\n","import { DomainEvent } from '@generic-ui/hermes';\nimport { StructureId } from '../../../../structure-id';\nimport { CompositionId } from '../../../../../../composition/domain/composition-id';\nimport { ColumnConfig } from '../../../../../../composition/domain/column.config';\nimport { Field } from '../data-type/field';\n\n\nexport class FieldsInitedEvent extends DomainEvent {\n\n\tconstructor(aggregateId: StructureId,\n\t\t\t\tpublic readonly compositionId: CompositionId,\n\t\t\t\tpublic readonly columns: Array<ColumnConfig>, // TODO merge\n\t\t\t\tprivate readonly fields: Array<Field>) {\n\t\tsuper(aggregateId, 'FieldsInitedEvent');\n\t}\n\n\tgetFields(): Array<Field> {\n\t\treturn this.fields;\n\t}\n}\n","import { ColumnConfig } from '../../../column.config';\nimport { ColumnField } from '../field/column-field';\n\nexport class ColumnParams {\n\n\tconstructor(private readonly column: ColumnConfig,\n\t\t\t\tprivate readonly field: ColumnField) {\n\t}\n\n\tgetColumn(): ColumnConfig {\n\t\treturn this.column;\n\t}\n\n\tgetField(): ColumnField {\n\t\treturn this.field;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEvent, DomainEventHandler } from '@generic-ui/hermes';\n\nimport { FieldsInitedEvent } from '../../../../../structure/domain/structure/command/field/init/fields-inited.event';\nimport { Field } from '../../../../../structure/domain/structure/command/field/data-type/field';\n\nimport { CompositionDispatcher } from '../../composition.dispatcher';\nimport { ColumnFieldFactory } from '../field/colum-field.factory';\nimport { ColumnFieldId } from '../field/column-field.id';\nimport { ColumnConfig } from '../../../column.config';\nimport { ColumnParams } from './column.params';\n\n\n@Injectable()\nexport class CompositionFieldsInitedEventHandler extends DomainEventHandler {\n\n\tconstructor(private compositionDispatcher: CompositionDispatcher,\n\t\t\t\tprivate readonly columnFieldFactory: ColumnFieldFactory) {\n\t\tsuper();\n\t}\n\n\thandle(event: DomainEvent): void {\n\n\t\tif (event instanceof FieldsInitedEvent) {\n\n\t\t\t// TODO Move to different layer\n\t\t\tconst fields = event.getFields(),\n\t\t\t\tcolumnFieldIds = this.convertColumnFieldIds(fields),\n\t\t\t\tcolumns = event.columns,\n\t\t\t\tparams = this.convertColumns(columns, fields, columnFieldIds);\n\n\t\t\tthis.compositionDispatcher.setColumns(event.compositionId, params);\n\t\t}\n\t}\n\n\tprivate convertColumnFieldIds(fields: Array<Field>): Array<ColumnFieldId> {\n\n\t\tif (!fields) {\n\t\t\treturn [];\n\t\t}\n\n\t\treturn fields.map((field: Field) => new ColumnFieldId(field.getId().getId()));\n\t}\n\n\tprivate convertColumns(columns: Array<ColumnConfig>, fields: Array<Field>, columnFieldIds: Array<ColumnFieldId>): Array<ColumnParams> {\n\n\t\tif (!columns) {\n\t\t\treturn [];\n\t\t}\n\n\t\treturn columns.map((column: ColumnConfig, index: number) => {\n\n\t\t\tconst columnFieldId = columnFieldIds[index],\n\t\t\t\tfield = fields[index];\n\n\t\t\tconst columnField = this.columnFieldFactory.create(columnFieldId, field.getAccessorMethod(), field.getDataType());\n\n\t\t\treturn new ColumnParams(column, columnField);\n\t\t});\n\n\t}\n\n\t// handle(event: DomainEvent): void {\n\t//\n\t// \tif (event instanceof FieldsInitedEvent) {\n\t//\n\t// \t\t// TODO Move to different layer\n\t// \t\tlet fields = event.getFields();\n\t//\n\t// \t\tif (!!fields) {\n\t// \t\t\tfields = [];\n\t// \t\t}\n\t// \t\tconst columnFieldIds = fields.map((field: Field) => new ColumnFieldId(field.getId().getId()));\n\t//\n\t// \t\tlet columns = event.columns || [];\n\t//\n\t// \t\tconst params = columns.map((column: ColumnConfig, index: number) => {\n\t// \t\t\tconst columnField = new ColumnField(columnFieldIds[index], fields[index].getAccessorMethod());\n\t//\n\t// \t\t\treturn new ColumnParams(column, columnField);\n\t// \t\t});\n\t//\n\t// \t\tthis.compositionDispatcher.setColumns(event.compositionId, params);\n\t// \t}\n\t// }\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { AggregateEvent, Command, CommandHandler, DomainEventPublisher, ExecuteResponse } from '@generic-ui/hermes';\n\nimport { CompositionAggregateRepository } from '../../composition.aggregate-repository';\nimport { CompositionEventConverter } from '../../composition-event.converter';\nimport { CompositionAggregate } from '../../composition.aggregate';\nimport { CompositionSetColumnEnabledCommand } from './composition.set-column-enabled.command';\n\n\n@Injectable()\nexport class CompositionSetColumnEnabledCommandHandler extends CommandHandler {\n\n\tconstructor(private readonly compositionAggregateRepository: CompositionAggregateRepository,\n\t\t\t\tprotected domainEventPublisher: DomainEventPublisher,\n\t\t\t\tprivate compositionEventConverter: CompositionEventConverter) {\n\t\tsuper(CompositionSetColumnEnabledCommand);\n\t}\n\n\thandle(command: CompositionSetColumnEnabledCommand): ExecuteResponse | Observable<ExecuteResponse> {\n\n\t\tconst aggregateId = command.getAggregateId(),\n\t\t\tcolumnId = command.getColumnId(),\n\t\t\tenabled = command.isEnabled();\n\n\t\tconst composition = this.compositionAggregateRepository.getById(aggregateId);\n\n\t\tcomposition.enableColumn(columnId, enabled);\n\n\t\tthis.compositionAggregateRepository.save(composition);\n\n\t\tthis.publishEvents(composition, command);\n\t}\n\n\tprivate publishEvents(composition: CompositionAggregate, command: Command): void {\n\n\t\tconst events = composition.getEvents() as Array<AggregateEvent>;\n\n\t\tconst domainEvents = this.compositionEventConverter.convert(events);\n\n\t\tif (domainEvents && domainEvents.length > 0) {\n\t\t\tthis.domainEventPublisher.publish(domainEvents);\n\t\t}\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { AggregateEvent, Command, CommandHandler, DomainEventPublisher, ExecuteResponse } from '@generic-ui/hermes';\n\nimport { CompositionAggregateRepository } from '../../../composition.aggregate-repository';\nimport { CompositionEventConverter } from '../../../composition-event.converter';\nimport { CompositionAggregate } from '../../../composition.aggregate';\nimport { CompositionMoveLeftColumnCommand } from './composition.move-left-column.command';\n\n@Injectable()\nexport class CompositionMoveLeftColumnCommandHandler extends CommandHandler {\n\n\tconstructor(private readonly compositionAggregateRepository: CompositionAggregateRepository,\n\t\t\t\tprotected domainEventPublisher: DomainEventPublisher,\n\t\t\t\tprivate compositionEventConverter: CompositionEventConverter) {\n\t\tsuper(CompositionMoveLeftColumnCommand);\n\t}\n\n\thandle(command: CompositionMoveLeftColumnCommand): ExecuteResponse | Observable<ExecuteResponse> {\n\n\t\tconst aggregateId = command.getAggregateId(),\n\t\t\tcolumnId = command.getColumnId();\n\n\t\tconst composition = this.compositionAggregateRepository.getById(aggregateId);\n\n\t\tcomposition.moveLeft(columnId);\n\n\t\tthis.compositionAggregateRepository.save(composition);\n\n\t\tthis.publishEvents(composition, command);\n\t}\n\n\tprivate publishEvents(composition: CompositionAggregate, command: Command): void {\n\n\t\tconst events = composition.getEvents() as Array<AggregateEvent>;\n\n\t\tconst domainEvents = this.compositionEventConverter.convert(events);\n\n\t\tif (domainEvents && domainEvents.length > 0) {\n\t\t\tthis.domainEventPublisher.publish(domainEvents);\n\t\t}\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { AggregateEvent, Command, CommandHandler, DomainEventPublisher, ExecuteResponse } from '@generic-ui/hermes';\n\nimport { CompositionAggregateRepository } from '../../../composition.aggregate-repository';\nimport { CompositionEventConverter } from '../../../composition-event.converter';\nimport { CompositionAggregate } from '../../../composition.aggregate';\nimport { CompositionMoveRightColumnCommand } from './composition.move-right-column.command';\n\n@Injectable()\nexport class CompositionMoveRightColumnCommandHandler extends CommandHandler {\n\n\tconstructor(private readonly compositionAggregateRepository: CompositionAggregateRepository,\n\t\t\t\tprotected domainEventPublisher: DomainEventPublisher,\n\t\t\t\tprivate compositionEventConverter: CompositionEventConverter) {\n\t\tsuper(CompositionMoveRightColumnCommand);\n\t}\n\n\thandle(command: CompositionMoveRightColumnCommand): ExecuteResponse | Observable<ExecuteResponse> {\n\n\t\tconst aggregateId = command.getAggregateId(),\n\t\t\tcolumnId = command.getColumnId();\n\n\t\tconst composition = this.compositionAggregateRepository.getById(aggregateId);\n\n\t\tcomposition.moveRight(columnId);\n\n\t\tthis.compositionAggregateRepository.save(composition);\n\n\t\tthis.publishEvents(composition, command);\n\t}\n\n\tprivate publishEvents(composition: CompositionAggregate, command: Command): void {\n\n\t\tconst events = composition.getEvents() as Array<AggregateEvent>;\n\n\t\tconst domainEvents = this.compositionEventConverter.convert(events);\n\n\t\tif (domainEvents && domainEvents.length > 0) {\n\t\t\tthis.domainEventPublisher.publish(domainEvents);\n\t\t}\n\t}\n}\n","import { COMMAND_HANDLERS, DOMAIN_EVENT_HANDLERS } from '@generic-ui/hermes';\nimport {\n\tinMemoryCompositionCommandProviders,\n\tinMemoryCompositionProviders,\n\tinMemoryCompositionQueryProviders\n} from '../infrastructure/in-memory/in-memory.composition.providers';\nimport { CompositionAggregateFactory } from '../domain/command/composition.aggregate-factory';\nimport { CompositionDispatcher } from '../domain/command/composition.dispatcher';\nimport { InitCompositionCommandHandler } from '../domain/command/init/init-composition.command-handler';\nimport { SetColumnsCommandHandler } from '../domain/command/column/set-columns/set-columns.command-handler';\nimport { SetCompositionWidthCommandHandler } from '../domain/command/width/set-width/set-composition-width.command-handler';\nimport { SetCompositionResizeWidthCommandHandler } from '../domain/command/width/resize-width/set-composition-resize-width.command-handler';\nimport { SetCompositionContainerWidthCommandHandler } from '../domain/command/width/set-container-width/set-composition-container-width.command-handler';\nimport { CompositionChangeSortStatusCommandHandler } from '../domain/command/column/sort/composition-change-sort-status.command-handler';\nimport { ColumnEntityFactory } from '../domain/command/column/column-entity.factory';\nimport { CompositionEventConverter } from '../domain/command/composition-event.converter';\nimport { ColumnFieldFactory } from '../domain/command/column/field/colum-field.factory';\nimport { CompositionEventService } from './composition.event-service';\nimport { CompositionReadModelService } from './composition-read-model.service';\nimport { CompositionCommandService } from './composition.command-service';\nimport { CompositionConverter } from '../domain/composition.converter';\nimport { EditTemplateRepository } from '../domain/read/edit/edit-template.repository';\nimport { EditTemplateFactory } from '../domain/read/edit/edit-template.factory';\nimport { ViewTemplateFactory } from '../domain/read/view/view-template.factory';\nimport { ViewTemplateRepository } from '../domain/read/view/view-template.repository';\nimport { ColumnDefinitionFactory } from '../domain/read/definition/column-definition.factory';\nimport { CompositionChangeSortStatusEventHandler } from '../domain/command/column/sort/composition-change-sort-status.event-handler';\nimport { CompositionFieldsInitedEventHandler } from '../domain/command/column/set-columns/composition-fields-inited.event-handler';\nimport { CompositionSetColumnEnabledCommandHandler } from '../domain/command/column/set-enabled/composition.set-column-enabled.command-handler';\nimport { CompositionMoveLeftColumnCommandHandler } from '../domain/command/column/move/left/composition.move-left-column.command-handler';\nimport { CompositionMoveRightColumnCommandHandler } from '../domain/command/column/move/right/composition.move-right-column.command-handler';\n\n\nconst commandProviders = [\n\t...inMemoryCompositionCommandProviders,\n\tCompositionDispatcher,\n\tCompositionAggregateFactory,\n\t{\n\t\tprovide: COMMAND_HANDLERS,\n\t\tuseClass: InitCompositionCommandHandler,\n\t\tmulti: true\n\t},\n\t{\n\t\tprovide: COMMAND_HANDLERS,\n\t\tuseClass: SetColumnsCommandHandler,\n\t\tmulti: true\n\t}, {\n\t\tprovide: COMMAND_HANDLERS,\n\t\tuseClass: SetCompositionWidthCommandHandler,\n\t\tmulti: true\n\t}, {\n\t\tprovide: COMMAND_HANDLERS,\n\t\tuseClass: SetCompositionResizeWidthCommandHandler,\n\t\tmulti: true\n\t}, {\n\t\tprovide: COMMAND_HANDLERS,\n\t\tuseClass: SetCompositionContainerWidthCommandHandler,\n\t\tmulti: true\n\t}, {\n\t\tprovide: COMMAND_HANDLERS,\n\t\tuseClass: CompositionSetColumnEnabledCommandHandler,\n\t\tmulti: true\n\t}, {\n\t\tprovide: COMMAND_HANDLERS,\n\t\tuseClass: CompositionChangeSortStatusCommandHandler,\n\t\tmulti: true\n\t}, {\n\t\tprovide: COMMAND_HANDLERS,\n\t\tuseClass: CompositionMoveLeftColumnCommandHandler,\n\t\tmulti: true\n\t}, {\n\t\tprovide: COMMAND_HANDLERS,\n\t\tuseClass: CompositionMoveRightColumnCommandHandler,\n\t\tmulti: true\n\t},\n\tColumnEntityFactory,\n\tCompositionEventConverter,\n\tColumnFieldFactory\n];\n\nconst readProviders = [\n\t...inMemoryCompositionQueryProviders,\n\t{\n\t\tprovide: DOMAIN_EVENT_HANDLERS,\n\t\tuseClass: CompositionFieldsInitedEventHandler,\n\t\tmulti: true\n\t}, {\n\t\tprovide: DOMAIN_EVENT_HANDLERS,\n\t\tuseClass: CompositionChangeSortStatusEventHandler,\n\t\tmulti: true\n\t},\n\tColumnDefinitionFactory,\n\tViewTemplateRepository,\n\tViewTemplateFactory,\n\tEditTemplateFactory,\n\tEditTemplateRepository\n];\n\nexport const compositionProviders = [\n\t...inMemoryCompositionProviders,\n\t...commandProviders,\n\t...readProviders,\n\n\tCompositionConverter,\n\n\tCompositionCommandService,\n\tCompositionReadModelService,\n\tCompositionEventService\n];\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { ReactiveFormsModule } from '@angular/forms';\n\nimport {\n\tFabricButtonComponent,\n\tFabricButtonModule,\n\tFabricCheckboxComponent,\n\tFabricCheckboxModule,\n\tFabricChipComponent,\n\tFabricChipModule,\n\tFabricInputComponent,\n\tFabricInputModule\n} from '@generic-ui/fabric';\nimport { ViewTemplatesComponent } from '../domain/read/view/view-templates.component';\nimport { NumberEditTemplateComponent } from '../domain/read/edit/template/number-edit-template.component';\nimport { StringEditTemplateComponent } from '../domain/read/edit/template/string-edit-template.component';\nimport { EditTemplatesComponent } from '../domain/read/edit/edit-templates.component';\nimport { BooleanEditTemplateComponent } from '../domain/read/edit/template/boolean-edit-template.component';\nimport { ColumnQueryComponent } from '../ui/column-query.component';\nimport { FunctionViewComponent } from '../domain/read/view/function-view.component';\nimport { compositionProviders } from './composition.providers';\n\n\nconst components = [\n\tViewTemplatesComponent,\n\tEditTemplatesComponent,\n\tStringEditTemplateComponent,\n\tNumberEditTemplateComponent,\n\tBooleanEditTemplateComponent,\n\tColumnQueryComponent,\n\tFunctionViewComponent\n];\n\nconst exportDeclarations = [\n\tViewTemplatesComponent,\n\tEditTemplatesComponent,\n\tColumnQueryComponent,\n\n\tFabricChipModule,\n\tFabricCheckboxModule,\n\tFabricButtonModule,\n\tFabricInputModule,\n\tFunctionViewComponent\n];\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tReactiveFormsModule,\n\n\t\tFabricChipModule,\n\t\tFabricCheckboxModule,\n\t\tFabricButtonModule,\n\t\tFabricInputModule\n\t],\n\tproviders: [\n\t\t...compositionProviders\n\t],\n\tdeclarations: [\n\t\tcomponents\n\t],\n\texports: exportDeclarations,\n\tentryComponents: [\n\t\tViewTemplatesComponent,\n\t\tEditTemplatesComponent,\n\t\tFabricChipComponent,\n\t\tFabricCheckboxComponent,\n\t\tFabricButtonComponent,\n\t\tFabricInputComponent\n\t]\n})\nexport class CompositionModule {\n\n}\n","export class StructureIdGenerator {\n\n\tprivate increment = 0;\n\n\tgenerateId(): number {\n\t\tthis.increment++;\n\t\treturn this.increment;\n\t}\n\n}\n","export abstract class Logger {\n\n\tabstract warn(text: string): void;\n\n\tabstract error(text: string): void;\n\n}\n","import { AggregateEvent } from '@generic-ui/hermes';\nimport { StructureId } from '../../../structure-id';\n\n\nexport class PageChangedAggregateEvent extends AggregateEvent {\n\n\tconstructor(structureId: StructureId) {\n\t\tsuper(structureId, 'PageChangedAggregateEvent');\n\t}\n\n}\n","import { AggregateEvent } from '@generic-ui/hermes';\nimport { StructureId } from '../../../structure-id';\n\nexport class PagesizeChangedAggregateEvent extends AggregateEvent {\n\n\tconstructor(structureId: StructureId) {\n\t\tsuper(structureId, 'PagesizeChangedAggregateEvent');\n\t}\n\n}\n","import { AggregateEvent } from '@generic-ui/hermes';\n\nimport { Logger } from '../../../../../common/cdk/logger/logger';\nimport { PagingConfigWithId } from '../paging-config-with-id';\nimport { PagingConfig } from '../paging-config';\nimport { PageChangedAggregateEvent } from './page/page-changed.aggregate-event';\nimport { StructureId } from '../../structure-id';\nimport { PagesizeChangedAggregateEvent } from './pagesize/pagesize-changed.aggregate-event';\n\n\n// Aggregate\nexport class PagingAggregate {\n\n\tprivate readonly events: Array<AggregateEvent> = [];\n\n\t// TODO Remove\n\tstatic default(logger: Logger) {\n\t\treturn new PagingAggregate(\n\t\t\tfalse,\n\t\t\t1,\n\t\t\t25,\n\t\t\t[10, 25, 50, 100],\n\t\t\tfalse,\n\t\t\ttrue,\n\t\t\t0,\n\t\t\tlogger\n\t\t);\n\t}\n\n\tprivate readonly logger: Logger;\n\n\tprivate constructor(private enabled: boolean,\n\t\t\t\t\t\tprivate page: number,\n\t\t\t\t\t\tprivate pageSize: number,\n\t\t\t\t\t\tprivate pageSizes: Array<number>,\n\t\t\t\t\t\tprivate pagerTop: boolean,\n\t\t\t\t\t\tprivate pagerBottom: boolean,\n\t\t\t\t\t\tprivate sourceSize: number,\n\t\t\t\t\t\tlogger: Logger) {\n\t\tthis.logger = logger;\n\t}\n\n\t// TODO Remove\n\tstatic fromConfig(paging: PagingConfigWithId, logger: Logger): PagingAggregate {\n\n\t\tconst defaultPagingDefinition = PagingAggregate.default(logger),\n\t\t\tenabled = paging.enabled || defaultPagingDefinition.isEnabled(),\n\t\t\tpage = paging.page || defaultPagingDefinition.getPage(),\n\t\t\tpageSize = paging.pageSize || defaultPagingDefinition.getPageSize(),\n\t\t\tpageSizes = paging.pageSizes || defaultPagingDefinition.getPageSizes(),\n\t\t\tpagerTop = paging.pagerTop || defaultPagingDefinition.isPagerTop(),\n\t\t\tpagerBottom = paging.pagerBottom || defaultPagingDefinition.isPagerBottom();\n\n\t\treturn new PagingAggregate(\n\t\t\tenabled,\n\t\t\tpage,\n\t\t\tpageSize,\n\t\t\tpageSizes,\n\t\t\tpagerTop,\n\t\t\tpagerBottom,\n\t\t\t0,\n\t\t\tlogger\n\t\t);\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n\tisDisabled(): boolean {\n\t\treturn !this.enabled;\n\t}\n\n\tgetPage(): number {\n\t\treturn this.page;\n\t}\n\n\tgetPageSize(): number {\n\t\treturn this.pageSize;\n\t}\n\n\tgetPageSizes(): Array<number> {\n\t\treturn this.pageSizes;\n\t}\n\n\tisPagerTop(): boolean {\n\t\tif (this.isDisabled()) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn this.pagerTop;\n\t}\n\n\tisPagerBottom(): boolean {\n\t\tif (this.isDisabled()) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn this.pagerBottom;\n\t}\n\n\tgetSourceSize(): number {\n\t\treturn this.sourceSize;\n\t}\n\n\tchange(pagingConfig: PagingConfig): void {\n\n\t\tif (pagingConfig.enabled !== undefined) {\n\t\t\tthis.enabled = pagingConfig.enabled;\n\t\t}\n\n\t\tif (pagingConfig.page !== undefined) {\n\t\t\tthis.page = pagingConfig.page;\n\n\t\t\tif (pagingConfig.enabled === undefined) {\n\t\t\t\tthis.enabled = true;\n\t\t\t}\n\t\t}\n\n\t\tif (pagingConfig.pageSize !== undefined) {\n\t\t\tthis.pageSize = pagingConfig.pageSize;\n\n\t\t\tif (pagingConfig.enabled === undefined) {\n\t\t\t\tthis.enabled = true;\n\t\t\t}\n\t\t}\n\n\t\tif (pagingConfig.pageSizes !== undefined) {\n\t\t\tthis.pageSizes = pagingConfig.pageSizes;\n\n\t\t\tif (pagingConfig.enabled === undefined) {\n\t\t\t\tthis.enabled = true;\n\t\t\t}\n\t\t}\n\n\t\tif (pagingConfig.pagerTop !== undefined) {\n\t\t\tthis.pagerTop = pagingConfig.pagerTop;\n\n\t\t\tif (pagingConfig.enabled === undefined) {\n\t\t\t\tthis.enabled = true;\n\t\t\t}\n\t\t}\n\n\t\tif (pagingConfig.pagerBottom !== undefined) {\n\t\t\tthis.pagerBottom = pagingConfig.pagerBottom;\n\n\t\t\tif (pagingConfig.enabled === undefined) {\n\t\t\t\tthis.enabled = true;\n\t\t\t}\n\t\t}\n\n\t\tif (this.enabled === true &&\n\t\t\tpagingConfig.pagerTop === false &&\n\t\t\tpagingConfig.pagerBottom === false) {\n\t\t\tthis.pagerBottom = true;\n\n\t\t\tthis.logger.warn('Pagers cannot be turn off when paging is enabled.');\n\t\t}\n\n\t}\n\n\tsetSourceSize(size: number): void {\n\t\tthis.sourceSize = size;\n\t}\n\n\tnextPage(): void {\n\t\tlet nextPage = this.page;\n\n\t\tif (!this.isNextPageDisabled()) {\n\t\t\tnextPage += 1;\n\t\t}\n\n\t\tthis.page = nextPage;\n\t}\n\n\tprevPage(): void {\n\t\tlet prevPage = this.page;\n\n\t\tif (!this.isPrevPageDisabled()) {\n\t\t\tprevPage -= 1;\n\t\t}\n\n\t\tthis.page = prevPage;\n\t}\n\n\tchangePageSize(pageSize: number): ReadonlyArray<AggregateEvent> {\n\n\t\tif (this.pageSizes.find((ps: number) => ps === pageSize)) {\n\n\t\t\tthis.setPage(1);\n\t\t\tthis.setPageSize(pageSize);\n\t\t}\n\n\t\treturn this.events;\n\t}\n\n\tisNextPageDisabled(): boolean {\n\n\t\tif (this.sourceSize === 0) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn this.page === Math.ceil(this.sourceSize / this.pageSize);\n\t}\n\n\tisPrevPageDisabled(): boolean {\n\t\treturn this.page === 1;\n\t}\n\n\tcalculateStart(): number {\n\n\t\tconst firstItem = 1 + ((this.page - 1) * this.pageSize);\n\n\t\tif (this.sourceSize < firstItem) {\n\t\t\treturn 0;\n\t\t}\n\n\t\treturn firstItem;\n\t}\n\n\tcalculateEnd(): number {\n\n\t\tconst lastItem = this.page * this.pageSize;\n\n\t\tif (this.sourceSize < lastItem) {\n\t\t\treturn this.sourceSize;\n\t\t}\n\n\t\treturn lastItem;\n\t}\n\n\tsample(source: Array<any>): Array<any> {\n\n\t\tif (this.isDisabled()) {\n\t\t\treturn source;\n\t\t}\n\n\t\tlet start = this.calculateStart();\n\n\t\tif (start !== 0) {\n\t\t\tstart -= 1;\n\t\t}\n\n\t\treturn source.slice(start, this.calculateEnd());\n\t}\n\n\tprivate setPage(page: number): void {\n\t\tthis.page = page;\n\t\tthis.events.push(new PageChangedAggregateEvent(new StructureId('TODO need to be changed')));\n\t}\n\n\tprivate setPageSize(pageSize: number): void {\n\t\tthis.pageSize = pageSize;\n\t\tthis.events.push(new PagesizeChangedAggregateEvent(new StructureId('TODO need to be changed')));\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { Logger } from '../../../../../common/cdk/logger/logger';\n\nimport { PagingAggregate } from './paging.aggregate';\nimport { PagingConfigWithId } from '../paging-config-with-id';\n\n\n@Injectable()\nexport class PagingAggregateFactory {\n\n\tconstructor(private logger: Logger) {\n\t}\n\n\tcreateDefault(): PagingAggregate {\n\t\treturn PagingAggregate.default(this.logger);\n\t}\n\n\tcreateFromConfig(config: PagingConfigWithId): PagingAggregate {\n\t\treturn PagingAggregate.fromConfig(config, this.logger);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { Override } from '../../../../../common/cdk/decorators';\n\nimport { PagingCommandService } from '../../../ui-api/paging/paging-command.service';\nimport { StructureId } from '../../../domain/structure-id';\nimport { PagingAggregateFactory } from '../../../domain/paging/command/paging.aggregate-factory';\nimport { PagingDispatcher } from '../../../domain/paging/command/paging.dispatcher';\nimport { PagingConfig } from '../../../domain/paging/paging-config';\n\n\n@Injectable()\nexport class LocalPagingCommandService extends PagingCommandService {\n\n\tconstructor(private structureId: StructureId,\n\t\t\t\tprivate aggregateFactory: PagingAggregateFactory,\n\t\t\t\tpagingDispatcher: PagingDispatcher) {\n\t\tsuper(pagingDispatcher);\n\t}\n\n\tsetDefaultPaging(): void {\n\n\t\tconst defaultPaggingAggregate = this.aggregateFactory.createDefault();\n\n\t\tsuper.setPaging({\n\t\t\tpage: defaultPaggingAggregate.getPage(),\n\t\t\tpageSize: defaultPaggingAggregate.getPageSize(),\n\t\t\tpageSizes: defaultPaggingAggregate.getPageSizes()\n\t\t}, this.structureId);\n\t}\n\n\t@Override\n\tsetPaging(paging: PagingConfig): void {\n\t\tsuper.setPaging(paging, this.structureId);\n\t}\n\n\t@Override\n\tchangePageSize(pageSize: number): void {\n\t\tsuper.changePageSize(pageSize, this.structureId);\n\t}\n\n\t@Override\n\tnextPage(): void {\n\t\tsuper.nextPage(this.structureId);\n\t}\n\n\t@Override\n\tprevPage(): void {\n\t\tsuper.prevPage(this.structureId);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { take } from 'rxjs/operators';\nimport { PagingReadModelService } from '../../../ui-api/paging/paging-read-model.service';\nimport { StructureId } from '../../../domain/structure-id';\nimport { PagingRepository } from '../../../domain/paging/read/paging.repository';\nimport { Override } from '../../../../../common/cdk/decorators';\nimport { Paging } from '../../../domain/paging/read/paging';\n\n\n@Injectable()\nexport class LocalPagingReadModelService extends PagingReadModelService {\n\n\tconstructor(private structureId: StructureId,\n\t\t\t\tpagingRepository: PagingRepository) {\n\t\tsuper(pagingRepository);\n\t}\n\n\t@Override\n\tonPaging(): Observable<Paging> {\n\t\treturn super.onPaging(this.structureId);\n\t}\n\n\t@Override\n\tonSinglePaging(): Observable<Paging> {\n\t\treturn super.onPaging(this.structureId)\n\t\t\t\t\t.pipe(\n\t\t\t\t\t\ttake(1)\n\t\t\t\t\t);\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../structure-id';\n\nexport class SetSchemaCommand extends Command {\n\n\tconstructor(public readonly structureId: StructureId,\n\t\t\t\tpublic readonly height: number) {\n\t\tsuper(structureId, 'SetSchemaCommand');\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../structure-id';\n\nexport class SetSchemaVerticalGridCommand extends Command {\n\n\tconstructor(public readonly structureId: StructureId,\n\t\t\t\tpublic readonly enabled: boolean) {\n\t\tsuper(structureId, 'SetSchemaVerticalGridCommand');\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../structure-id';\n\nexport class SetSchemaHorizontalGridCommand extends Command {\n\n\tconstructor(public readonly structureId: StructureId,\n\t\t\t\tpublic readonly enabled: boolean) {\n\t\tsuper(structureId, 'SetSchemaHorizontalGridCommand');\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\nimport { StructureId } from '../../../structure-id';\nimport { SchemaTheme } from '../../schema-theme';\n\nexport class SetSchemaThemeCommand extends Command {\n\n\tconstructor(public readonly structureId: StructureId,\n\t\t\t\tpublic readonly theme: SchemaTheme) {\n\t\tsuper(structureId, 'SetSchemaThemeCommand');\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../structure-id';\nimport { SchemaRowColoring } from '../../../schema-row-coloring';\n\nexport class SetRowColoringCommand extends Command {\n\n\tconstructor(public readonly structureId: StructureId,\n\t\t\t\tpublic readonly coloring: SchemaRowColoring) {\n\t\tsuper(structureId, 'SetRowColoringCommand');\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\nimport { StructureId } from '../../../../structure-id';\n\nexport class ChangeSchemaTopHeaderCommand extends Command {\n\n\tconstructor(public readonly structureId: StructureId,\n\t\t\t\tpublic readonly enabled: boolean) {\n\t\tsuper(structureId, 'ChangeSchemaTopHeaderCommand');\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../structure-id';\n\nexport class ChangeSchemaBottomHeaderCommand extends Command {\n\n\tconstructor(public readonly structureId: StructureId,\n\t\t\t\tpublic readonly enabled: boolean) {\n\t\tsuper(structureId, 'ChangeSchemaBottomHeaderCommand');\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandDispatcher } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../structure-id';\nimport { SetSchemaCommand } from './set/set-schema.command';\nimport { SetSchemaVerticalGridCommand } from './grid/vertical/set-schema-vertical-grid.command';\nimport { SetSchemaHorizontalGridCommand } from './grid/horizontal/set-schema-horizontal-grid.command';\nimport { SchemaTheme } from '../schema-theme';\nimport { SetSchemaThemeCommand } from './theme/set-schema-theme.command';\nimport { globalStructureId } from '../../global-structure-id';\nimport { SchemaRowColoring } from '../schema-row-coloring';\nimport { SetRowColoringCommand } from './coloring/set/set-row-coloring.command';\nimport { ChangeSchemaTopHeaderCommand } from './column-header/top/change-schema-top-header.command';\nimport { ChangeSchemaBottomHeaderCommand } from './column-header/bottom/change-schema-bottom-header.command';\n\n\n@Injectable()\nexport class SchemaDispatcher {\n\n\tconstructor(private commandDispatcher: CommandDispatcher) {\n\t}\n\n\tsetSchema(structureId: StructureId, height: number): void {\n\t\tthis.commandDispatcher.dispatch(new SetSchemaCommand(structureId, height));\n\t}\n\n\tchangeVerticalGrid(structureId: StructureId, enabled: boolean): void {\n\t\tthis.commandDispatcher.dispatch(new SetSchemaVerticalGridCommand(structureId, enabled));\n\t}\n\n\tchangeHorizontalGrid(structureId: StructureId, enabled: boolean): void {\n\t\tthis.commandDispatcher.dispatch(new SetSchemaHorizontalGridCommand(structureId, enabled));\n\t}\n\n\tsetTheme(structureId: StructureId, theme: SchemaTheme): void {\n\t\tthis.commandDispatcher.dispatch(new SetSchemaThemeCommand(structureId, theme));\n\t}\n\n\tsetRowColoring(structureId: StructureId = globalStructureId, coloring: SchemaRowColoring): void {\n\t\tthis.commandDispatcher.dispatch(new SetRowColoringCommand(structureId, coloring));\n\t}\n\n\tchangeTopHeader(structureId: StructureId, enabled: boolean): void {\n\t\tthis.commandDispatcher.dispatch(new ChangeSchemaTopHeaderCommand(structureId, enabled));\n\t}\n\n\tchangeBottomHeader(structureId: StructureId, enabled: boolean): void {\n\t\tthis.commandDispatcher.dispatch(new ChangeSchemaBottomHeaderCommand(structureId, enabled));\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { filter, map } from 'rxjs/operators';\nimport { StructureRepository } from '../../structure/read/structure.repository';\nimport { StructureId } from '../../structure-id';\nimport { Schema } from './schema';\nimport { Structure } from '../../structure/read/structure';\n\n\n@Injectable()\nexport class SchemaRepository {\n\n\tconstructor(private structureRepository: StructureRepository) {\n\t}\n\n\ton(structureId: StructureId): Observable<Schema> {\n\n\t\treturn this.structureRepository\n\t\t\t\t   .onStructure(structureId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   filter((structure: Structure) => structure.getId().toString() === structureId.toString()),\n\t\t\t\t\t   map((structure: Structure) => structure.getSchema())\n\t\t\t\t   );\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { filter, map, take } from 'rxjs/operators';\n\nimport { SchemaRepository } from '../../domain/schema/read/schema-repository';\nimport { StructureId } from '../../domain/structure-id';\nimport { globalStructureId } from '../../domain/global-structure-id';\nimport { Schema } from '../../domain/schema/read/schema';\nimport { SchemaColumnHeader } from '../../domain/schema/read/schema-column-header';\nimport { SchemaCssClass } from '../../domain/schema/read/schema-css-class';\n\n\n@Injectable()\nexport class SchemaReadModelService {\n\n\tconstructor(private schemaRepository: SchemaRepository) {\n\t}\n\n\tonSchema(structureId: StructureId = globalStructureId): Observable<Schema> {\n\t\treturn this.schemaRepository.on(structureId);\n\t}\n\n\tonSingleSchema(structureId: StructureId = globalStructureId): Observable<Schema> {\n\t\treturn this.onSchema(structureId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   take(1)\n\t\t\t\t   );\n\t}\n\n\tonHeight(structureId: StructureId = globalStructureId): Observable<number> {\n\t\treturn this.schemaRepository\n\t\t\t\t   .on(structureId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((schema: Schema) => {\n\t\t\t\t\t\t   return schema.getHeight();\n\t\t\t\t\t   }),\n\t\t\t\t\t   filter((height: number) => height !== undefined)\n\t\t\t\t   );\n\t}\n\n\tonContainerHeight(structureId: StructureId = globalStructureId): Observable<number> {\n\t\treturn this.schemaRepository\n\t\t\t\t   .on(structureId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((schema: Schema) => {\n\t\t\t\t\t\t   return schema.getContainerHeight();\n\t\t\t\t\t   }),\n\t\t\t\t\t   filter((height: number) => height !== undefined)\n\t\t\t\t   );\n\t}\n\n\tonCssClasses(structureId: StructureId = globalStructureId): Observable<SchemaCssClass> {\n\t\treturn this.schemaRepository\n\t\t\t\t   .on(structureId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((schema: Schema) => {\n\t\t\t\t\t\t   return schema.getCssClasses();\n\t\t\t\t\t   })\n\t\t\t\t   );\n\t}\n\n\tonColumnHeader(structureId: StructureId = globalStructureId): Observable<SchemaColumnHeader> {\n\t\treturn this.schemaRepository\n\t\t\t\t   .on(structureId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((schema: Schema) => {\n\t\t\t\t\t\t   return schema.getColumnHeader();\n\t\t\t\t\t   })\n\t\t\t\t   );\n\t}\n\n}\n","import { Injectable, OnDestroy } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { filter, map, take, takeUntil } from 'rxjs/operators';\n\nimport { SchemaDispatcher } from '../../domain/schema/command/schema.dispatcher';\nimport { SchemaReadModelService } from './schema-read-model.service';\nimport { StructureId } from '../../domain/structure-id';\nimport { globalStructureId } from '../../domain/global-structure-id';\nimport { SchemaTheme } from '../../domain/schema/schema-theme';\nimport { SchemaRowColoring } from '../../domain/schema/schema-row-coloring';\nimport { SchemaCssClass } from '../../domain/schema/read/schema-css-class';\nimport { SchemaColumnHeader } from '../../domain/schema/read/schema-column-header';\n\n\n@Injectable()\nexport class SchemaCommandService implements OnDestroy {\n\n\tprivate unsubscribe$ = new Subject<void>();\n\n\tconstructor(private schemaDispatcher: SchemaDispatcher,\n\t\t\t\tprivate schemaQueryService: SchemaReadModelService) {\n\t}\n\n\tngOnDestroy() {\n\t\tthis.unsubscribe$.next();\n\t\tthis.unsubscribe$.complete();\n\t}\n\n\tsetSchema(height: number, structureId: StructureId = globalStructureId): void {\n\t\tthis.schemaDispatcher.setSchema(structureId, height);\n\t}\n\n\tsetHeight(height: number, structureId: StructureId = globalStructureId): void {\n\t\tthis.schemaDispatcher.setSchema(structureId, height);\n\t}\n\n\tchangeVerticalGrid(enabled: boolean, structureId: StructureId = globalStructureId): void {\n\t\tthis.schemaDispatcher.changeVerticalGrid(structureId, enabled);\n\t}\n\n\tchangeHorizontalGrid(enabled: boolean, structureId: StructureId = globalStructureId): void {\n\t\tthis.schemaDispatcher.changeHorizontalGrid(structureId, enabled);\n\t}\n\n\tsetTheme(theme: SchemaTheme, structureId: StructureId = globalStructureId): void {\n\t\tthis.schemaDispatcher.setTheme(structureId, theme);\n\t}\n\n\tsetRowColoring(coloring: SchemaRowColoring, structureId: StructureId = globalStructureId): void {\n\t\tthis.schemaDispatcher.setRowColoring(structureId, coloring);\n\t}\n\n\tchangeTopHeader(enabled: boolean, structureId: StructureId = globalStructureId): void {\n\t\tthis.schemaDispatcher.changeTopHeader(structureId, enabled);\n\t}\n\n\tchangeBottomHeader(enabled: boolean, structureId: StructureId = globalStructureId): void {\n\t\tthis.schemaDispatcher.changeBottomHeader(structureId, enabled);\n\t}\n\n\ttoggleVerticalGrid(structureId: StructureId = globalStructureId): void {\n\t\tthis.schemaQueryService\n\t\t\t.onCssClasses(structureId)\n\t\t\t.pipe(\n\t\t\t\tmap((css: SchemaCssClass) => css.verticalGrid),\n\t\t\t\tfilter((grid: boolean) => grid !== undefined),\n\t\t\t\ttake(1),\n\t\t\t\ttakeUntil(this.unsubscribe$)\n\t\t\t)\n\t\t\t.subscribe((grid: boolean) => {\n\t\t\t\tthis.changeVerticalGrid(!grid, structureId);\n\t\t\t});\n\t}\n\n\ttoggleHorizontalGrid(structureId: StructureId = globalStructureId): void {\n\t\tthis.schemaQueryService\n\t\t\t.onCssClasses(structureId)\n\t\t\t.pipe(\n\t\t\t\tmap((css: SchemaCssClass) => css.horizontalGrid),\n\t\t\t\tfilter((grid: boolean) => grid !== undefined),\n\t\t\t\ttake(1),\n\t\t\t\ttakeUntil(this.unsubscribe$)\n\t\t\t)\n\t\t\t.subscribe((grid: boolean) => {\n\t\t\t\tthis.changeHorizontalGrid(!grid, structureId);\n\t\t\t});\n\t}\n\n\ttoggleTopHeader(structureId: StructureId = globalStructureId): void {\n\t\tthis.schemaQueryService\n\t\t\t.onColumnHeader(structureId)\n\t\t\t.pipe(\n\t\t\t\tmap((columnHeader: SchemaColumnHeader) => columnHeader.isTopHeaderEnabled()),\n\t\t\t\ttake(1),\n\t\t\t\ttakeUntil(this.unsubscribe$)\n\t\t\t)\n\t\t\t.subscribe((enabled: boolean) => {\n\t\t\t\tthis.changeTopHeader(!enabled, structureId);\n\t\t\t});\n\t}\n\n\ttoggleBottomHeader(structureId: StructureId = globalStructureId): void {\n\t\tthis.schemaQueryService\n\t\t\t.onColumnHeader(structureId)\n\t\t\t.pipe(\n\t\t\t\tmap((columnHeader: SchemaColumnHeader) => columnHeader.isBottomHeaderEnabled()),\n\t\t\t\ttake(1),\n\t\t\t\ttakeUntil(this.unsubscribe$)\n\t\t\t)\n\t\t\t.subscribe((enabled: boolean) => {\n\t\t\t\tthis.changeBottomHeader(!enabled, structureId);\n\t\t\t});\n\t}\n\n}\n","export enum SchemaRowColoring {\n\tNONE,\n\tEVEN,\n\tODD\n}\n","import { Injectable } from '@angular/core';\nimport { SchemaCommandService } from '../../../ui-api/schema/schema-command.service';\nimport { StructureId } from '../../../domain/structure-id';\nimport { SchemaReadModelService } from '../../../ui-api/schema/schema-read-model.service';\nimport { SchemaDispatcher } from '../../../domain/schema/command/schema.dispatcher';\nimport { Override } from '../../../../../common/cdk/decorators';\nimport { globalStructureId } from '../../../domain/global-structure-id';\nimport { SchemaTheme } from '../../../domain/schema/schema-theme';\nimport { SchemaRowColoring } from '../../../domain/schema/schema-row-coloring';\n\n\n@Injectable()\nexport class LocalSchemaCommandService extends SchemaCommandService {\n\n\tconstructor(private structureId: StructureId,\n\t\t\t\tschemaQueryService: SchemaReadModelService,\n\t\t\t\tschemaDispatcher: SchemaDispatcher) {\n\t\tsuper(schemaDispatcher, schemaQueryService);\n\t}\n\n\tsetDefaultSchema(): void {\n\t\tsuper.setSchema(Number.MAX_SAFE_INTEGER, this.structureId);\n\t}\n\n\t@Override\n\tsetSchema(height: number, structureId: StructureId = globalStructureId): void {\n\t\tsuper.setSchema(height, this.structureId);\n\t}\n\n\t@Override\n\tsetHeight(height: number): void {\n\t\tsuper.setHeight(height, this.structureId);\n\t}\n\n\t@Override\n\tchangeVerticalGrid(enabled: boolean): void {\n\t\tsuper.changeVerticalGrid(enabled, this.structureId);\n\t}\n\n\t@Override\n\tchangeHorizontalGrid(enabled: boolean): void {\n\t\tsuper.changeHorizontalGrid(enabled, this.structureId);\n\t}\n\n\t@Override\n\tsetTheme(theme: SchemaTheme): void {\n\t\tsuper.setTheme(theme, this.structureId);\n\t}\n\n\t@Override\n\tsetRowColoring(coloring: SchemaRowColoring, structureId: StructureId = globalStructureId): void {\n\t\tsuper.setRowColoring(coloring, this.structureId);\n\t}\n\n\t@Override\n\tchangeTopHeader(enabled: boolean, structureId: StructureId = globalStructureId): void {\n\t\tsuper.changeTopHeader(enabled, this.structureId);\n\t}\n\n\t@Override\n\tchangeBottomHeader(enabled: boolean, structureId: StructureId = globalStructureId): void {\n\t\tsuper.changeBottomHeader(enabled, this.structureId);\n\t}\n\n\t@Override\n\ttoggleVerticalGrid(): void {\n\t\tsuper.toggleVerticalGrid(this.structureId);\n\t}\n\n\t@Override\n\ttoggleHorizontalGrid(): void {\n\t\tsuper.toggleHorizontalGrid(this.structureId);\n\t}\n\n\t@Override\n\ttoggleTopHeader(): void {\n\t\tsuper.toggleTopHeader(this.structureId);\n\t}\n\n\t@Override\n\ttoggleBottomHeader(): void {\n\t\tsuper.toggleBottomHeader(this.structureId);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { SchemaReadModelService } from '../../../ui-api/schema/schema-read-model.service';\nimport { StructureId } from '../../../domain/structure-id';\nimport { SchemaRepository } from '../../../domain/schema/read/schema-repository';\nimport { Override } from '../../../../../common/cdk/decorators';\nimport { Schema } from '../../../domain/schema/read/schema';\nimport { SchemaCssClass } from '../../../domain/schema/read/schema-css-class';\nimport { globalStructureId } from '../../../domain/global-structure-id';\nimport { SchemaColumnHeader } from '../../../domain/schema/read/schema-column-header';\n\n\n@Injectable()\nexport class LocalSchemaReadModelService extends SchemaReadModelService {\n\n\tconstructor(private structureId: StructureId,\n\t\t\t\tschemaRepository: SchemaRepository) {\n\t\tsuper(schemaRepository);\n\t}\n\n\t@Override\n\tonSchema(): Observable<Schema> {\n\t\treturn super.onSchema(this.structureId);\n\t}\n\n\t@Override\n\tonSingleSchema(): Observable<Schema> {\n\t\treturn super.onSingleSchema(this.structureId);\n\t}\n\n\t@Override\n\tonHeight(): Observable<number> {\n\t\treturn super.onHeight(this.structureId);\n\t}\n\n\t@Override\n\tonContainerHeight(): Observable<number> {\n\t\treturn super.onContainerHeight(this.structureId);\n\t}\n\n\t@Override\n\tonCssClasses(): Observable<SchemaCssClass> {\n\t\treturn super.onCssClasses(this.structureId);\n\t}\n\n\t@Override\n\tonColumnHeader(structureId: StructureId = globalStructureId): Observable<SchemaColumnHeader> {\n\t\treturn super.onColumnHeader(this.structureId);\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../structure-id';\n\nexport class SetFormationCommand extends Command {\n\n\tconstructor(public readonly structureId: StructureId,\n\t\t\t\tpublic readonly payload?: any) {\n\t\tsuper(structureId, 'SetFormationCommand');\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../structure-id';\n\nexport class ToggleSelectedRowCommand extends Command {\n\n\tconstructor(public readonly structureId: StructureId,\n\t\t\t\tpublic readonly selectedRow: string) {\n\t\tsuper(structureId, 'ToggleSelectedRowCommand');\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\n\nimport { CommandDispatcher } from '@generic-ui/hermes';\nimport { StructureId } from '../../structure-id';\nimport { SetFormationCommand } from './set/set-formation.command';\nimport { ToggleSelectedRowCommand } from './toggle/toggle-selected-row.command';\n\n@Injectable()\nexport class FormationDispatcher {\n\n\tconstructor(private commandDispatcher: CommandDispatcher) {\n\t}\n\n\tsetDefault(structureId: StructureId): void {\n\t\tthis.commandDispatcher.dispatch(new SetFormationCommand(structureId));\n\t}\n\n\ttoggleSelectedRow(structureId: StructureId, selectedRow: string): void {\n\t\tthis.commandDispatcher.dispatch(new ToggleSelectedRowCommand(structureId, selectedRow));\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { FormationDispatcher } from '../../domain/formation/command/formation.dispatcher';\nimport { StructureId } from '../../domain/structure-id';\nimport { globalStructureId } from '../../domain/global-structure-id';\n\n\n@Injectable()\nexport class FormationCommandService {\n\n\tconstructor(private formationDispatcher: FormationDispatcher) {\n\t}\n\n\tsetDefaultFormation(structureId: StructureId = globalStructureId): void {\n\t\tthis.formationDispatcher.setDefault(structureId);\n\t}\n\n\ttoggleSelectedRow(selectedRow: string, structureId: StructureId = globalStructureId): void {\n\t\tthis.formationDispatcher.toggleSelectedRow(structureId, selectedRow);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { Override } from '../../../../../common/cdk/decorators';\n\nimport { FormationCommandService } from '../../../ui-api/formation/formation-command.service';\nimport { StructureId } from '../../../domain/structure-id';\nimport { FormationDispatcher } from '../../../domain/formation/command/formation.dispatcher';\n\n\n@Injectable()\nexport class LocalFormationCommandService extends FormationCommandService {\n\n\tconstructor(private structureId: StructureId,\n\t\t\t\tformationDispatcher: FormationDispatcher) {\n\t\tsuper(formationDispatcher);\n\t}\n\n\tsetDefault(): void {\n\t\tsuper.setDefaultFormation(this.structureId);\n\t}\n\n\t@Override\n\ttoggleSelectedRow(selectedRow: string): void {\n\t\tsuper.toggleSelectedRow(selectedRow, this.structureId);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { filter, map } from 'rxjs/operators';\n\nimport { StructureRepository } from '../../structure/read/structure.repository';\nimport { StructureId } from '../../structure-id';\nimport { Formation } from './formation';\nimport { Structure } from '../../structure/read/structure';\n\n\n@Injectable()\nexport class FormationRepository {\n\n\tconstructor(private structureRepository: StructureRepository) {\n\t}\n\n\tonFormation(structureId: StructureId): Observable<Formation> {\n\n\t\treturn this.structureRepository\n\t\t\t\t   .onStructure(structureId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   filter((structure: Structure) => structure.getId().toString() === structureId.toString()),\n\t\t\t\t\t   map((structure: Structure) => structure.getFormation())\n\t\t\t\t   );\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nimport { FormationRepository } from '../../domain/formation/read/formation-repository';\nimport { StructureId } from '../../domain/structure-id';\nimport { globalStructureId } from '../../domain/global-structure-id';\nimport { SelectedRowsList } from '../../domain/formation/read/selected-rows/selected-rows-list';\nimport { Formation } from '../../domain/formation/read/formation';\n\n\n@Injectable()\nexport class FormationReadModelService {\n\n\tconstructor(private formationRepository: FormationRepository) {\n\t}\n\n\tonSelectedRows(structureId: StructureId = globalStructureId): Observable<SelectedRowsList> {\n\t\treturn this.formationRepository\n\t\t\t\t   .onFormation(structureId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((formation: Formation) => formation.getSelectedRows())\n\t\t\t\t   );\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { Override } from '../../../../../common/cdk/decorators';\n\nimport { StructureId } from '../../../domain/structure-id';\nimport { FormationReadModelService } from '../../../ui-api/formation/formation-read-model.service';\nimport { FormationRepository } from '../../../domain/formation/read/formation-repository';\nimport { SelectedRowsList } from '../../../domain/formation/read/selected-rows/selected-rows-list';\n\n\n@Injectable()\nexport class LocalFormationReadModelService extends FormationReadModelService {\n\n\tconstructor(private structureId: StructureId,\n\t\t\t\tformationRepository: FormationRepository) {\n\t\tsuper(formationRepository);\n\t}\n\n\t@Override\n\tonSelectedRows(): Observable<SelectedRowsList> {\n\t\treturn super.onSelectedRows(this.structureId);\n\t}\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../structure-id';\nimport { FilterConfig } from '../../../../../ui-api/structure/filter/filter-config';\n\nexport class StructureSetConfigFilterCommand extends Command {\n\n\tconstructor(public readonly structureId: StructureId,\n\t\t\t\tprivate readonly filterConfig: FilterConfig) {\n\t\tsuper(structureId, 'StructureSetConfigFilterCommand');\n\t}\n\n\tgetConfig(): FilterConfig {\n\t\treturn this.filterConfig;\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../structure-id';\nimport { FieldId } from '../../field/data-type/field.id';\n\n\nexport class StructureToggleFilterCommand extends Command {\n\n\tconstructor(public readonly structureId: StructureId,\n\t\t\t\tpublic readonly fieldId: FieldId,\n\t\t\t\tpublic readonly externalFilterId: string,\n\t\t\t\tpublic readonly filterValue: string) {\n\t\tsuper(structureId, 'StructureToggleFilterCommand');\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandDispatcher } from '@generic-ui/hermes';\n\nimport { FilterConfig } from './filter-config';\nimport { StructureId } from '../../../domain/structure-id';\nimport { StructureSetConfigFilterCommand } from '../../../domain/structure/command/filter/config/structure.set-config-filter.command';\nimport { FieldId } from '../../../domain/structure/command/field/data-type/field.id';\nimport { StructureToggleFilterCommand } from '../../../domain/structure/command/filter/toggle/structure.toggle-filter.command';\n\n\n@Injectable()\nexport class StructureFilterCommandService {\n\n\tconstructor(private commandDispatcher: CommandDispatcher) {\n\t}\n\n\tsetFilteringEnabled(config: FilterConfig, structureId: StructureId): void {\n\t\tthis.commandDispatcher.dispatch(new StructureSetConfigFilterCommand(structureId, config));\n\t}\n\n\taddFilter(fieldId: FieldId, externalFieldId: string, filterValue: string, structureId: StructureId): void {\n\t\tthis.commandDispatcher.dispatch(new StructureToggleFilterCommand(structureId, fieldId, externalFieldId, filterValue));\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\nimport { StructureId } from '../../../structure-id';\n\n\nexport class SourceSetLoadingCommand extends Command {\n\n\tconstructor(public readonly structureId: StructureId,\n\t\t\t\tpublic readonly enabled: boolean) {\n\t\tsuper(structureId, 'SourceSetLoadingCommand');\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\nimport { StructureId } from '../../../../structure-id';\n\nexport class SetOriginCommand extends Command {\n\n\tconstructor(public readonly structureId: StructureId,\n\t\t\t\tpublic readonly items: Array<any> = []) {\n\t\tsuper(structureId, 'SetOriginCommand');\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureEditSourceItemParams } from './structure.edit-source-item.params';\nimport { StructureId } from '../../../../structure-id';\n\nexport class StructureEditSourceItemCommand extends Command {\n\n\tconstructor(private readonly structureId: StructureId,\n\t\t\t\tprivate readonly params: StructureEditSourceItemParams) {\n\t\tsuper(structureId, 'StructureEditSourceItemCommand');\n\t}\n\n\tgetParams(): StructureEditSourceItemParams {\n\t\treturn this.params;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandDispatcher } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../structure-id';\nimport { SourceSetLoadingCommand } from './loading/source-set-loading.command';\nimport { SetOriginCommand } from './origin/set-origin/set-origin.command';\nimport { StructureEditSourceItemParams } from './origin/edit/structure.edit-source-item.params';\nimport { StructureEditSourceItemCommand } from './origin/edit/structure.edit-source-item.command';\n\n\n@Injectable()\nexport class SourceDispatcher {\n\n\tconstructor(private commandDispatcher: CommandDispatcher) {\n\t}\n\n\tsetLoading(structureId: StructureId, enabled: boolean): void {\n\t\tthis.commandDispatcher.dispatch(new SourceSetLoadingCommand(structureId, enabled));\n\t}\n\n\tsetOrigin(structureId: StructureId, items: Array<any>): void {\n\t\tthis.commandDispatcher.dispatch(new SetOriginCommand(structureId, items));\n\t}\n\n\teditItem(structureId: StructureId, params: StructureEditSourceItemParams): void {\n\t\tthis.commandDispatcher.dispatch(new StructureEditSourceItemCommand(structureId, params));\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../structure-id';\n\nexport class InitStructureCommand extends Command {\n\n\tconstructor(public readonly structureId: StructureId) {\n\t\tsuper(structureId, 'InitStructureCommand');\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\nimport { StructureId } from '../../../../structure-id';\n\nexport class SetVerticalScrollEnabledCommand extends Command {\n\n\tconstructor(public readonly structureId: StructureId,\n\t\t\t\tpublic readonly enabled: boolean) {\n\t\tsuper(structureId, 'SetVerticalScrollEnabledCommand');\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\nimport { StructureId } from '../../../../structure-id';\n\n\nexport class SetScrollPositionCommand extends Command {\n\n\tconstructor(public readonly structureId: StructureId,\n\t\t\t\tpublic readonly position: number) {\n\t\tsuper(structureId, 'SetScrollPositionCommand');\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../structure-id';\nimport { SortingConfig } from '../../../../../ui-api/structure/sorting-config';\n\n\nexport class SetSortingCommand extends Command {\n\n\tconstructor(public readonly structureId: StructureId,\n\t\t\t\tprivate readonly sortingConfig: SortingConfig) {\n\t\tsuper(structureId, 'SetSortingCommand');\n\t}\n\n\tgetSortingConfig(): SortingConfig {\n\t\treturn this.sortingConfig;\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\nimport { StructureId } from '../../../../structure-id';\nimport { CompositionId } from '../../../../../../composition/domain/composition-id';\nimport { FieldId } from '../../field/data-type/field.id';\n\n\nexport class ToggleSortCommand extends Command {\n\n\tconstructor(public readonly structureId: StructureId,\n\t\t\t\tprivate readonly compositionId: CompositionId,\n\t\t\t\tprivate readonly fieldId: FieldId) {\n\t\tsuper(structureId, 'ToggleSortCommand');\n\t}\n\n\tgetCompositionId(): CompositionId {\n\t\treturn this.compositionId;\n\t}\n\n\tgetFieldId(): FieldId {\n\t\treturn this.fieldId;\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../structure-id';\nimport { QuickFiltersConfig } from '../../../../../ui-api/structure/filter/quick-filters.config';\n\n\nexport class StructureSetConfigQuickFilterCommand extends Command {\n\n\tconstructor(public readonly structureId: StructureId,\n\t\t\t\tprivate readonly quickFiltersConfig: QuickFiltersConfig) {\n\t\tsuper(structureId, 'StructureSetConfigQuickFilterCommand');\n\t}\n\n\tgetConfig(): QuickFiltersConfig {\n\t\treturn this.quickFiltersConfig;\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../structure-id';\nimport { SearchConfig } from '../../../../../ui-api/structure/search/search-config';\n\n\nexport class StructureSetConfigSearchingCommand extends Command {\n\n\tconstructor(public readonly structureId: StructureId,\n\t\t\t\tprivate readonly searchConfig: SearchConfig) {\n\t\tsuper(structureId, 'StructureSetConfigSearchingCommand');\n\t}\n\n\tgetConfig(): SearchConfig {\n\t\treturn this.searchConfig;\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../structure-id';\nimport { CompositionId } from '../../../../../../composition/domain/composition-id';\nimport { ColumnConfig } from '../../../../../../composition/domain/column.config';\n\n\nexport class InitFieldsCommand extends Command {\n\n\tconstructor(public readonly structureId: StructureId,\n\t\t\t\tpublic readonly compositionId: CompositionId,\n\t\t\t\tpublic readonly columns: Array<ColumnConfig>) {\n\t\tsuper(structureId, 'InitFieldsCommand');\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../structure-id';\n\nexport class StructureSetSearchPhraseCommand extends Command {\n\n\tconstructor(public readonly structureId: StructureId,\n\t\t\t\tpublic readonly phrase: string) {\n\t\tsuper(structureId, 'StructureSetSearchPhraseCommand');\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../structure-id';\nimport { SortStatus } from '../../../../../../composition/domain/command/column/sort/sort-status';\nimport { FieldId } from '../../field/data-type/field.id';\nimport { CompositionId } from '../../../../../../composition/domain/composition-id';\n\n\nexport class SetSortOrderCommand extends Command {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly compositionId: CompositionId,\n\t\t\t\tprivate readonly fieldId: FieldId,\n\t\t\t\tprivate readonly sortOrder: SortStatus) {\n\t\tsuper(structureId, 'SetSortOrderCommand');\n\t}\n\n\tgetCompositionId(): CompositionId {\n\t\treturn this.compositionId;\n\t}\n\n\tgetFieldId(): FieldId {\n\t\treturn this.fieldId;\n\t}\n\n\tgetSortOrder(): SortStatus {\n\t\treturn this.sortOrder;\n\t}\n}\n","import { Command } from '@generic-ui/hermes';\nimport { StructureId } from '../../../../structure-id';\n\nexport class SetRowHeightCommand extends Command {\n\n\tconstructor(public readonly structureId: StructureId,\n\t\t\t\tpublic readonly rowHeight: number) {\n\t\tsuper(structureId, 'SetRowHeightCommand');\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandDispatcher } from '@generic-ui/hermes';\n\nimport { StructureFilterCommandService } from './filter/structure.filter.command.service';\nimport { SourceDispatcher } from '../../domain/source/command/source.dispatcher';\nimport { StructureId } from '../../domain/structure-id';\nimport { globalStructureId } from '../../domain/global-structure-id';\nimport { InitStructureCommand } from '../../domain/structure/command/init/init-structure.command';\nimport { SetVerticalScrollEnabledCommand } from '../../domain/structure/command/vertical-formation/set-enabled/set-vertical-scroll-enabled.command';\nimport { SetScrollPositionCommand } from '../../domain/structure/command/vertical-formation/scroll-position/set-scroll-position.command';\nimport { SortingConfig } from './sorting-config';\nimport { SetSortingCommand } from '../../domain/structure/command/sort/set-config/set-sorting.command';\nimport { FieldId } from '../../domain/structure/command/field/data-type/field.id';\nimport { CompositionId } from '../../../composition/domain/composition-id';\nimport { ToggleSortCommand } from '../../domain/structure/command/sort/toggle/toggle-sort.command';\nimport { FilterConfig } from './filter/filter-config';\nimport { QuickFiltersConfig } from './filter/quick-filters.config';\nimport { StructureSetConfigQuickFilterCommand } from '../../domain/structure/command/filter/quick/structure.set-config-quick-filter.command';\nimport { SearchConfig } from './search/search-config';\nimport { StructureSetConfigSearchingCommand } from '../../domain/structure/command/search/config/structure.set-config-searching.command';\nimport { ColumnConfig } from '../../../composition/domain/column.config';\nimport { InitFieldsCommand } from '../../domain/structure/command/field/init/init-fields.command';\nimport { StructureSetSearchPhraseCommand } from '../../domain/structure/command/search/set/structure.set-search-phrase.command';\nimport { SortStatus } from '../../../composition/domain/command/column/sort/sort-status';\nimport { SetSortOrderCommand } from '../../domain/structure/command/sort/order/set-sort-order.command';\nimport { SetRowHeightCommand } from '../../domain/structure/command/vertical-formation/set-row-height/set-row-height.command';\n\n\n@Injectable()\nexport class StructureCommandService {\n\n\tconstructor(private readonly commandDispatcher: CommandDispatcher,\n\t\t\t\tprivate readonly structureFilterCommandService: StructureFilterCommandService,\n\t\t\t\tprivate readonly sourceDispatcher: SourceDispatcher) {\n\t}\n\n\tinit(structureId: StructureId = globalStructureId): void {\n\t\tthis.commandDispatcher.dispatch(new InitStructureCommand(structureId));\n\t}\n\n\tenableVerticalScroll(structureId: StructureId = globalStructureId): void {\n\t\tthis.commandDispatcher.dispatch(new SetVerticalScrollEnabledCommand(structureId, true));\n\t}\n\n\tdisableVerticalScroll(structureId: StructureId = globalStructureId): void {\n\t\tthis.commandDispatcher.dispatch(new SetVerticalScrollEnabledCommand(structureId, false));\n\t}\n\n\tsetScrollPosition(position: number, structureId: StructureId = globalStructureId): void {\n\t\tthis.commandDispatcher.dispatch(new SetScrollPositionCommand(structureId, position));\n\t}\n\n\tsetOrigin(items: Array<any>, structureId: StructureId = globalStructureId): void {\n\t\tthis.sourceDispatcher.setOrigin(structureId, items);\n\t}\n\n\tsetSortingConfig(config: SortingConfig, structureId: StructureId = globalStructureId): void {\n\t\tthis.commandDispatcher.dispatch(new SetSortingCommand(structureId, config));\n\t}\n\n\ttoggleSort(fieldId: FieldId, compositionId?: CompositionId, structureId: StructureId = globalStructureId): void {\n\t\tthis.commandDispatcher.dispatch(new ToggleSortCommand(structureId, compositionId, fieldId));\n\t}\n\n\tsetSortOrder(fieldId: FieldId, sortOrder: SortStatus, compositionId?: CompositionId, structureId: StructureId = globalStructureId): void {\n\t\tthis.commandDispatcher.dispatch(new SetSortOrderCommand(structureId, compositionId, fieldId, sortOrder));\n\t}\n\n\tsetFilterConfig(config: FilterConfig, structureId: StructureId = globalStructureId): void {\n\t\tthis.structureFilterCommandService.setFilteringEnabled(config, structureId);\n\t}\n\n\tsetQuickFiltersConfig(config: QuickFiltersConfig, structureId: StructureId = globalStructureId): void {\n\t\tthis.commandDispatcher.dispatch(new StructureSetConfigQuickFilterCommand(structureId, config));\n\t}\n\n\tinitFields(columns: Array<ColumnConfig>, compositionId: CompositionId, structureId: StructureId = globalStructureId): void {\n\t\tthis.commandDispatcher.dispatch(new InitFieldsCommand(structureId, compositionId, columns));\n\t}\n\n\tsetSearchingConfig(config: SearchConfig, structureId: StructureId = globalStructureId): void {\n\t\tthis.commandDispatcher.dispatch(new StructureSetConfigSearchingCommand(structureId, config));\n\t}\n\n\tsearch(phrase: string, structureId: StructureId = globalStructureId): void {\n\t\tthis.commandDispatcher.dispatch(new StructureSetSearchPhraseCommand(structureId, phrase));\n\t}\n\n\tsetRowHeight(rowHeight: number, structureId: StructureId = globalStructureId): void {\n\t\tthis.commandDispatcher.dispatch(new SetRowHeightCommand(structureId, rowHeight));\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandDispatcher } from '@generic-ui/hermes';\n\nimport { StructureCommandService } from '../../../ui-api/structure/structure-command.service';\nimport { StructureId } from '../../../domain/structure-id';\nimport { CompositionId } from '../../../../composition/domain/composition-id';\nimport { StructureFilterCommandService } from '../../../ui-api/structure/filter/structure.filter.command.service';\nimport { SourceDispatcher } from '../../../domain/source/command/source.dispatcher';\nimport { Override } from '../../../../../common/cdk/decorators';\nimport { SortingConfig } from '../../../ui-api/structure/sorting-config';\nimport { globalStructureId } from '../../../domain/global-structure-id';\nimport { FieldId } from '../../../domain/structure/command/field/data-type/field.id';\nimport { FilterConfig } from '../../../ui-api/structure/filter/filter-config';\nimport { QuickFiltersConfig } from '../../../ui-api/structure/filter/quick-filters.config';\nimport { SearchConfig } from '../../../ui-api/structure/search/search-config';\nimport { ColumnConfig } from '../../../../composition/domain/column.config';\nimport { SortStatus } from '../../../../composition/domain/command/column/sort/sort-status';\n\n\n@Injectable()\nexport class LocalStructureCommandService extends StructureCommandService {\n\n\tconstructor(private readonly structureId: StructureId,\n\t\t\t\tprivate readonly compositionId: CompositionId,\n\t\t\t\tcommandDispatcher: CommandDispatcher,\n\t\t\t\tstructureFilterCommandService: StructureFilterCommandService,\n\t\t\t\tsourceDispatcher: SourceDispatcher) {\n\t\tsuper(commandDispatcher, structureFilterCommandService, sourceDispatcher);\n\t}\n\n\t@Override\n\tinit(): void {\n\t\tsuper.init(this.structureId);\n\t}\n\n\t@Override\n\tenableVerticalScroll(): void {\n\t\tsuper.enableVerticalScroll(this.structureId);\n\t}\n\n\t@Override\n\tdisableVerticalScroll(): void {\n\t\tsuper.disableVerticalScroll(this.structureId);\n\t}\n\n\t@Override\n\tsetScrollPosition(position: number): void {\n\t\tsuper.setScrollPosition(position, this.structureId);\n\t}\n\n\t@Override\n\tsetOrigin(items: Array<any>): void {\n\t\tsuper.setOrigin(items, this.structureId);\n\t}\n\n\t@Override\n\tsetSortingConfig(config: SortingConfig, structureId: StructureId = globalStructureId): void {\n\t\tsuper.setSortingConfig(config, this.structureId);\n\t}\n\n\t@Override\n\ttoggleSort(fieldId: FieldId): void {\n\t\tsuper.toggleSort(fieldId, this.compositionId, this.structureId);\n\t}\n\n\t@Override\n\tsetSortOrder(fieldId: FieldId, sortOrder: SortStatus): void {\n\t\tsuper.setSortOrder(fieldId, sortOrder, this.compositionId, this.structureId);\n\t}\n\n\t@Override\n\tsetFilterConfig(config: FilterConfig, structureId: StructureId = globalStructureId): void {\n\t\tsuper.setFilterConfig(config, this.structureId);\n\t}\n\n\t@Override\n\tsetQuickFiltersConfig(config: QuickFiltersConfig, structureId: StructureId = globalStructureId): void {\n\t\tsuper.setQuickFiltersConfig(config, this.structureId);\n\t}\n\n\t@Override\n\tinitFields(columns: Array<ColumnConfig>): void {\n\t\tsuper.initFields(columns, this.compositionId, this.structureId);\n\t}\n\n\t@Override\n\tsetSearchingConfig(config: SearchConfig, structureId: StructureId = globalStructureId): void {\n\t\tsuper.setSearchingConfig(config, this.structureId);\n\t}\n\n\t@Override\n\tsearch(phrase: string): void {\n\t\tsuper.search(phrase, this.structureId);\n\t}\n\n\t@Override\n\tsetRowHeight(rowHeight: number): void {\n\t\tsuper.setRowHeight(rowHeight, this.structureId);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { Override } from '../../../../../common/cdk/decorators';\n\nimport { StructureReadModelService } from '../../../ui-api/structure/structure-read-model.service';\nimport { StructureId } from '../../../domain/structure-id';\nimport { StructureRepository } from '../../../domain/structure/read/structure.repository';\nimport { Structure } from '../../../domain/structure/read/structure';\nimport { VerticalFormationRepository } from '../../../domain/structure/read/vertical-formation/vertical-formation.repository';\n\n\n@Injectable()\nexport class LocalStructureReadModelService extends StructureReadModelService {\n\n\tconstructor(private structureId: StructureId,\n\t\t\t\tstructureRepository: StructureRepository,\n\t\t\t\tverticalFormationRepository: VerticalFormationRepository) {\n\t\tsuper(structureRepository, verticalFormationRepository);\n\t}\n\n\t@Override\n\tonStructure(): Observable<Structure> {\n\t\treturn super.onStructure(this.structureId);\n\t}\n\n\t@Override\n\tonVerticalScrollEnabled(): Observable<boolean> {\n\t\treturn super.onVerticalScrollEnabled(this.structureId);\n\t}\n\n\t@Override\n\tonRowHeight(): Observable<number> {\n\t\treturn super.onRowHeight(this.structureId);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateArchive } from '@generic-ui/hermes';\nimport { StructureFieldUiModel } from './structure.field.ui-model';\n\n\n@Injectable()\nexport class StructureFieldUiArchive extends AggregateArchive<Array<StructureFieldUiModel>> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { StructureFieldUiArchive } from './structure.field.ui-archive';\nimport { StructureId } from '../../../domain/structure-id';\nimport { StructureFieldUiModel } from './structure.field.ui-model';\n\n\n@Injectable()\nexport class StructureFieldUiRepository {\n\n\tconstructor(private structureFieldUiArchive: StructureFieldUiArchive) {\n\t}\n\n\tonFields(structureId: StructureId): Observable<Array<StructureFieldUiModel>> {\n\t\treturn this.structureFieldUiArchive.when(structureId);\n\t}\n\n}\n","import { ColumnFieldId } from '../../../../../../composition/domain/command/column/field/column-field.id';\n\nexport class StructureEditSourceItemParams {\n\n\tconstructor(private readonly itemId: string,\n\t\t\t\tprivate readonly columnFieldId: ColumnFieldId, // TODO Rethink\n\t\t\t\tprivate readonly value: any) {\n\t}\n\n\tgetItemId(): string {\n\t\treturn this.itemId;\n\t}\n\n\tgetColumnFieldId(): ColumnFieldId {\n\t\treturn this.columnFieldId;\n\t}\n\n\tgetValue(): any {\n\t\treturn this.value;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { zip } from 'rxjs';\nimport { map, take } from 'rxjs/operators';\n\nimport { Reactive } from '../../../../common/cdk/reactive';\n\nimport { SourceDispatcher } from '../../domain/source/command/source.dispatcher';\nimport { StructureFieldUiRepository } from '../structure/field/structure.field.ui-repository';\nimport { SourceReadModelService } from './source-read-model.service';\nimport { StructureId } from '../../domain/structure-id';\nimport { globalStructureId } from '../../domain/global-structure-id';\nimport { StructureEditSourceItemParams } from '../../domain/source/command/origin/edit/structure.edit-source-item.params';\nimport { ItemEntity } from '../../domain/source/item.entity';\n\n\n@Injectable()\nexport class SourceCommandService extends Reactive {\n\n\tconstructor(private sourceDispatcher: SourceDispatcher,\n\t\t\t\tprivate structureFieldUiRepository: StructureFieldUiRepository,\n\t\t\t\tprivate sourceQueryService: SourceReadModelService) {\n\t\tsuper();\n\t}\n\n\tsetOrigin(items: Array<any>, structureId: StructureId = globalStructureId): void {\n\t\tthis.sourceDispatcher.setOrigin(structureId, items);\n\t}\n\n\tsetLoading(enabled: boolean, structureId: StructureId = globalStructureId): void {\n\t\tthis.sourceDispatcher.setLoading(structureId, enabled);\n\t}\n\n\teditItem(params: StructureEditSourceItemParams, structureId: StructureId = globalStructureId): void {\n\t\tthis.sourceDispatcher.editItem(structureId, params);\n\t}\n\n\teditItemByIndex(itemIndex: number, fieldIndex: number, value: any, structureId: StructureId = globalStructureId): void {\n\n\t\tconst itemId$ = this.sourceQueryService\n\t\t\t\t\t\t\t.onSingleEntities()\n\t\t\t\t\t\t\t.pipe(\n\t\t\t\t\t\t\t\tmap((entities: Array<ItemEntity>) => {\n\t\t\t\t\t\t\t\t\treturn entities[itemIndex].getId();\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t);\n\n\t\tconst fieldId$ = this.structureFieldUiRepository\n\t\t\t\t\t\t\t .onFields(structureId);\n\n\t\tzip(itemId$, fieldId$)\n\t\t\t.pipe(\n\t\t\t\ttake(1),\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((array: Array<any>) => {\n\n\t\t\t\tconst itemId = array[0],\n\t\t\t\t\tfields = array[1];\n\n\t\t\t\tthis.editItem(\n\t\t\t\t\tnew StructureEditSourceItemParams(itemId, fields[fieldIndex], value),\n\t\t\t\t\tstructureId\n\t\t\t\t);\n\t\t\t});\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { Override } from '../../../../../common/cdk/decorators';\n\nimport { SourceCommandService } from '../../../ui-api/source/source-command.service';\nimport { StructureId } from '../../../domain/structure-id';\nimport { SourceDispatcher } from '../../../domain/source/command/source.dispatcher';\nimport { StructureFieldUiRepository } from '../../../ui-api/structure/field/structure.field.ui-repository';\nimport { SourceReadModelService } from '../../../ui-api/source/source-read-model.service';\nimport { StructureEditSourceItemParams } from '../../../domain/source/command/origin/edit/structure.edit-source-item.params';\n\n\n@Injectable()\nexport class LocalSourceCommandService extends SourceCommandService {\n\n\tconstructor(private readonly structureId: StructureId,\n\t\t\t\tsourceDispatcher: SourceDispatcher,\n\t\t\t\tstructureFieldUiRepository: StructureFieldUiRepository,\n\t\t\t\tsourceQueryService: SourceReadModelService) {\n\t\tsuper(sourceDispatcher, structureFieldUiRepository, sourceQueryService);\n\t}\n\n\t@Override\n\tsetOrigin(items: Array<any>): void {\n\t\tsuper.setOrigin(items, this.structureId);\n\t}\n\n\t@Override\n\tsetLoading(enabled: boolean): void {\n\t\tsuper.setLoading(enabled, this.structureId);\n\t}\n\n\t@Override\n\teditItem(params: StructureEditSourceItemParams): void {\n\t\tsuper.editItem(params, this.structureId);\n\t}\n\n\t@Override\n\teditItemByIndex(itemIndex: number, fieldIndex: number, value: any): void {\n\t\tsuper.editItemByIndex(itemIndex, fieldIndex, value, this.structureId);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { Override } from '../../../../../common/cdk/decorators';\n\nimport { SourceReadModelService } from '../../../ui-api/source/source-read-model.service';\nimport { StructureId } from '../../../domain/structure-id';\nimport { StructureRepository } from '../../../domain/structure/read/structure.repository';\nimport { StructureSourceOriginRepository } from '../../../domain/source/read/origin/structure.source-origin.repository';\nimport { ItemEntity } from '../../../domain/source/item.entity';\nimport { StructurePreparedItemsRepository } from '../../../domain/source/read/prepared/structure.prepared-items.repository';\n\n\n@Injectable()\nexport class LocalSourceReadModelService extends SourceReadModelService {\n\n\tconstructor(private structureId: StructureId,\n\t\t\t\tstructureRepository: StructureRepository,\n\t\t\t\tstructurePreparedItemsRepository: StructurePreparedItemsRepository,\n\t\t\t\tstructureSourceOriginRepository: StructureSourceOriginRepository) {\n\t\tsuper(structureRepository, structurePreparedItemsRepository, structureSourceOriginRepository);\n\t}\n\n\t@Override\n\tonEntities(): Observable<Array<ItemEntity>> {\n\t\treturn super.onEntities(this.structureId);\n\t}\n\n\t@Override\n\tonEntitiesSize(): Observable<number> {\n\t\treturn super.onEntitiesSize(this.structureId);\n\t}\n\n\t@Override\n\tonSingleEntities(): Observable<Array<ItemEntity>> {\n\t\treturn super.onSingleEntities(this.structureId);\n\t}\n\n\t@Override\n\tonOriginSize(): Observable<number> {\n\t\treturn super.onOriginSize(this.structureId);\n\t}\n\n\t@Override\n\tonLoading(): Observable<boolean> {\n\t\treturn super.onLoading(this.structureId);\n\t}\n\n\t@Override\n\tonPreparedEntities(): Observable<boolean> {\n\t\treturn super.onPreparedEntities(this.structureId);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { Override } from '../../../../../common/cdk/decorators';\n\nimport { CompositionCommandService } from '../../../../composition/ui-api/composition.command-service';\nimport { CompositionId } from '../../../../composition/domain/composition-id';\nimport { CompositionDispatcher } from '../../../../composition/domain/command/composition.dispatcher';\nimport { globalCompositionId } from '../../../../composition/domain/global-composition-id';\nimport { ColumnParams } from '../../../../composition/domain/command/column/set-columns/column.params';\nimport { ColumnId } from '../../../../composition/domain/command/column/column.id';\n\n\n@Injectable()\nexport class LocalCompositionCommandService extends CompositionCommandService {\n\n\tconstructor(private readonly compositionId: CompositionId,\n\t\t\t\tcompositionDispatcher: CompositionDispatcher) {\n\t\tsuper(compositionDispatcher);\n\t}\n\n\t@Override\n\tinit(compositionId: CompositionId = globalCompositionId): void {\n\t\tsuper.init(this.compositionId);\n\t}\n\n\t@Override\n\tsetColumns(params: Array<ColumnParams>): void {\n\t\tsuper.setColumns(params, this.compositionId);\n\t}\n\n\t@Override\n\tsetWidth(width: number, compositionId: CompositionId = globalCompositionId): void {\n\t\tsuper.setWidth(width, this.compositionId);\n\t}\n\n\t@Override\n\tsetContainerWidth(width: number, compositionId: CompositionId = globalCompositionId): void {\n\t\tsuper.setContainerWidth(width, this.compositionId);\n\t}\n\n\t@Override\n\tsetResizeWidth(enabled: boolean, compositionId: CompositionId = globalCompositionId): void {\n\t\tsuper.setResizeWidth(enabled, this.compositionId);\n\t}\n\n\t@Override\n\tenableColumn(columnId: ColumnId, compositionId: CompositionId = globalCompositionId): void {\n\t\tsuper.enableColumn(columnId, this.compositionId);\n\t}\n\n\t@Override\n\tdisableColumn(columnId: ColumnId, compositionId: CompositionId = globalCompositionId): void {\n\t\tsuper.disableColumn(columnId, this.compositionId);\n\t}\n\n\t@Override\n\tmoveLeft(columnId: ColumnId, compositionId: CompositionId = globalCompositionId): void {\n\t\tsuper.moveLeft(columnId, this.compositionId);\n\t}\n\n\t@Override\n\tmoveRight(columnId: ColumnId, compositionId: CompositionId = globalCompositionId): void {\n\t\tsuper.moveRight(columnId, this.compositionId);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { Override } from '../../../../../common/cdk/decorators';\n\nimport { CompositionReadModelService } from '../../../../composition/ui-api/composition-read-model.service';\nimport { CompositionId } from '../../../../composition/domain/composition-id';\nimport { CompositionRepository } from '../../../../composition/domain/read/composition.repository';\nimport { CellTemplateWithContext } from '../../../../composition/domain/read/definition/cell-template-with-context';\nimport { CellTemplateWithAccessor } from '../../../../composition/domain/read/definition/cell-template-with-accessor';\nimport { globalCompositionId } from '../../../../composition/domain/global-composition-id';\nimport { FieldId } from '../../../domain/structure/command/field/data-type/field.id';\nimport { SortStatus } from '../../../../composition/domain/command/column/sort/sort-status';\n\n\n@Injectable()\nexport class LocalCompositionReadModelService extends CompositionReadModelService {\n\n\tconstructor(private readonly compositionId: CompositionId,\n\t\t\t\tcompositionRepository: CompositionRepository) {\n\t\tsuper(compositionRepository);\n\t}\n\n\t@Override\n\tonWidth(): Observable<number> {\n\t\treturn super.onWidth(this.compositionId);\n\t}\n\n\t@Override\n\tonContainerWidth(compositionId: CompositionId = globalCompositionId): Observable<number> {\n\t\treturn super.onContainerWidth(this.compositionId);\n\t}\n\n\t@Override\n\tonWidthForEachColumn(): Observable<Array<number>> {\n\t\treturn super.onWidthForEachColumn(this.compositionId);\n\t}\n\n\t@Override\n\tonHeaderColumns(): Observable<Array<CellTemplateWithContext>> {\n\t\treturn super.onHeaderColumns(this.compositionId);\n\t}\n\n\t@Override\n\tonAllColumns(compositionId: CompositionId = globalCompositionId): Observable<Array<CellTemplateWithContext>> {\n\t\treturn super.onAllColumns(this.compositionId);\n\t}\n\n\t@Override\n\tonSortOrder(fieldId: FieldId): Observable<SortStatus> {\n\t\treturn super.onSortOrder(fieldId, this.compositionId);\n\t}\n\n\t@Override\n\tonTemplateColumns(): Observable<Array<CellTemplateWithAccessor>> {\n\t\treturn super.onTemplateColumns(this.compositionId);\n\t}\n\n\t@Override\n\tonResizeWidth(): Observable<boolean> {\n\t\treturn super.onResizeWidth(this.compositionId);\n\t}\n\n}\n","import { CompositionCommandService } from '../../../composition/ui-api/composition.command-service';\nimport { PagingCommandService } from '../../ui-api/paging/paging-command.service';\nimport { LocalPagingCommandService } from './paging/local-paging-command.service';\nimport { LocalPagingReadModelService } from './paging/local-paging-read-model.service';\nimport { SchemaCommandService } from '../../ui-api/schema/schema-command.service';\nimport { LocalSchemaCommandService } from './schema/local-schema-command.service';\nimport { SchemaReadModelService } from '../../ui-api/schema/schema-read-model.service';\nimport { LocalSchemaReadModelService } from './schema/local-schema-read-model.service';\nimport { FormationCommandService } from '../../ui-api/formation/formation-command.service';\nimport { LocalFormationCommandService } from './formation/local-formation-command.service';\nimport { FormationReadModelService } from '../../ui-api/formation/formation-read-model.service';\nimport { LocalFormationReadModelService } from './formation/local-formation-read-model.service';\nimport { StructureCommandService } from '../../ui-api/structure/structure-command.service';\nimport { LocalStructureCommandService } from './structure/local-structure-command.service';\nimport { StructureReadModelService } from '../../ui-api/structure/structure-read-model.service';\nimport { LocalStructureReadModelService } from './structure/local-structure-read-model.service';\nimport { SourceCommandService } from '../../ui-api/source/source-command.service';\nimport { LocalSourceCommandService } from './source/local-source-command.service';\nimport { SourceReadModelService } from '../../ui-api/source/source-read-model.service';\nimport { LocalSourceReadModelService } from './source/local-source-read-model.service';\nimport { LocalCompositionCommandService } from './composition/local-composition-command.service';\nimport { CompositionReadModelService } from '../../../composition/ui-api/composition-read-model.service';\nimport { LocalCompositionReadModelService } from './composition/local-composition-read-model.service';\nimport { PagingReadModelService } from '../../ui-api/paging/paging-read-model.service';\n\nexport const localProviders = [\n\t{ provide: PagingCommandService, useClass: LocalPagingCommandService },\n\t{ provide: PagingReadModelService, useClass: LocalPagingReadModelService },\n\t{ provide: SchemaCommandService, useClass: LocalSchemaCommandService },\n\t{ provide: SchemaReadModelService, useClass: LocalSchemaReadModelService },\n\t{ provide: FormationCommandService, useClass: LocalFormationCommandService },\n\t{ provide: FormationReadModelService, useClass: LocalFormationReadModelService },\n\t{ provide: StructureCommandService, useClass: LocalStructureCommandService },\n\t{ provide: StructureReadModelService, useClass: LocalStructureReadModelService },\n\t{ provide: SourceCommandService, useClass: LocalSourceCommandService },\n\t{ provide: SourceReadModelService, useClass: LocalSourceReadModelService },\n\n\t{ provide: CompositionCommandService, useClass: LocalCompositionCommandService },\n\t{ provide: CompositionReadModelService, useClass: LocalCompositionReadModelService }\n];\n","import { ElementRef, Injectable, OnDestroy, Renderer2, RendererFactory2 } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\nimport { SchemaCssClass } from '../../domain/schema/read/schema-css-class';\nimport { SchemaReadModelService } from '../../ui-api/schema/schema-read-model.service';\nimport { StructureId } from '../../domain/structure-id';\nimport { SchemaTheme } from '../../domain/schema/schema-theme';\nimport { SchemaRowColoring } from '../../domain/schema/schema-row-coloring';\n\n\n@Injectable()\nexport class SchemaCssClassManager implements OnDestroy {\n\n\tprivate readonly VERTICAL_GRID_CLASS_NAME = 'gui-vertical-grid';\n\n\tprivate readonly HORIZONTAL_GRID_CLASS_NAME = 'gui-horizontal-grid';\n\n\tprivate readonly THEME_FABRIC_CLASS_NAME = 'gui-fabric';\n\n\tprivate readonly THEME_MATERIAL_CLASS_NAME = 'gui-material';\n\n\tprivate readonly THEME_LIGHT_CLASS_NAME = 'gui-light';\n\n\tprivate readonly THEME_DARK_CLASS_NAME = 'gui-dark';\n\n\tprivate readonly ROW_COLORING_ODD = 'gui-rows-odd';\n\n\tprivate readonly ROW_COLORING_EVEN = 'gui-rows-even';\n\n\tprivate readonly renderer: Renderer2;\n\n\tprivate cssClass: SchemaCssClass = null;\n\n\tprivate cssHostRef: ElementRef;\n\n\tprivate unsubscribe$ = new Subject();\n\n\tconstructor(private rendererFactory2: RendererFactory2,\n\t\t\t\tprivate schemaQueryService: SchemaReadModelService) {\n\t\tthis.renderer = this.rendererFactory2.createRenderer(null, null);\n\t}\n\n\tngOnDestroy() {\n\t\tthis.unsubscribe$.next();\n\t\tthis.unsubscribe$.complete();\n\t}\n\n\tinit(elementRef: ElementRef, structureId: StructureId): void {\n\n\t\tthis.cssHostRef = elementRef;\n\n\t\tthis.schemaQueryService\n\t\t\t.onCssClasses(structureId)\n\t\t\t.pipe(takeUntil(this.unsubscribe$))\n\t\t\t.subscribe((classes: SchemaCssClass) => {\n\n\t\t\t\tconst diff = this.updateState(classes);\n\n\t\t\t\tthis.renderCssClasses(diff);\n\t\t\t});\n\t}\n\n\tprivate updateState(css: SchemaCssClass): Partial<SchemaCssClass> {\n\n\t\tif (!this.cssClass) {\n\t\t\tthis.cssClass = css;\n\t\t\treturn this.cssClass;\n\t\t} else {\n\n\t\t\tlet diff = {};\n\n\t\t\tObject.keys(this.cssClass)\n\t\t\t\t  .forEach((key: string) => {\n\t\t\t\t\t  if (css[key] !== this.cssClass[key]) {\n\t\t\t\t\t\t  diff[key] = css[key];\n\t\t\t\t\t  }\n\t\t\t\t  });\n\n\t\t\tthis.cssClass = css;\n\n\t\t\treturn diff;\n\t\t}\n\t}\n\n\tprivate renderCssClasses(diff: Partial<SchemaCssClass>): void {\n\n\t\tif (diff.hasOwnProperty('verticalGrid')) {\n\t\t\tthis.toggleCssClass(diff.verticalGrid, this.VERTICAL_GRID_CLASS_NAME);\n\t\t}\n\n\t\tif (diff.hasOwnProperty('horizontalGrid')) {\n\t\t\tthis.toggleCssClass(diff.horizontalGrid, this.HORIZONTAL_GRID_CLASS_NAME);\n\t\t}\n\n\t\tif (diff.hasOwnProperty('theme')) {\n\t\t\tthis.removeThemeCssClasses();\n\t\t\tthis.addClass(this.resolveThemeClassName(diff.theme));\n\t\t}\n\n\t\tif (diff.hasOwnProperty('rowColoring')) {\n\t\t\tthis.removeRowColoringClasses();\n\t\t\tthis.addClass(this.resolveRowColoringClassName(diff.rowColoring));\n\t\t}\n\t}\n\n\tprivate toggleCssClass(toggle: boolean, cssClassName: string): void {\n\t\tif (toggle) {\n\t\t\tthis.addClass(cssClassName);\n\t\t} else {\n\t\t\tthis.removeClass(cssClassName);\n\t\t}\n\t}\n\n\tprivate removeThemeCssClasses(): void {\n\t\tObject.keys(SchemaTheme)\n\t\t\t  .map((key: string) => SchemaTheme[key])\n\t\t\t  .map((theme: SchemaTheme) => this.resolveThemeClassName(theme))\n\t\t\t  .filter((className: string) => !!className)\n\t\t\t  .forEach((className: string) => {\n\t\t\t\t  this.removeClass(className);\n\t\t\t  });\n\t}\n\n\tprivate resolveThemeClassName(theme: SchemaTheme | string): string {\n\t\tswitch (theme) {\n\t\t\tcase SchemaTheme.FABRIC:\n\t\t\tcase SchemaTheme[SchemaTheme.FABRIC]:\n\t\t\t\treturn this.THEME_FABRIC_CLASS_NAME;\n\n\t\t\tcase SchemaTheme.MATERIAL:\n\t\t\tcase SchemaTheme[SchemaTheme.MATERIAL]:\n\t\t\t\treturn this.THEME_MATERIAL_CLASS_NAME;\n\n\t\t\tcase SchemaTheme.LIGHT:\n\t\t\tcase SchemaTheme[SchemaTheme.LIGHT]:\n\t\t\t\treturn this.THEME_LIGHT_CLASS_NAME;\n\n\t\t\tcase SchemaTheme.DARK:\n\t\t\tcase SchemaTheme[SchemaTheme.DARK]:\n\t\t\t\treturn this.THEME_DARK_CLASS_NAME;\n\n\t\t\tdefault:\n\t\t\t\treturn this.THEME_FABRIC_CLASS_NAME;\n\t\t}\n\t}\n\n\tprivate resolveRowColoringClassName(coloring: SchemaRowColoring | string): string {\n\t\tswitch (coloring) {\n\t\t\tcase SchemaRowColoring.ODD:\n\t\t\tcase SchemaRowColoring[SchemaRowColoring.ODD]:\n\t\t\t\treturn this.ROW_COLORING_ODD;\n\n\t\t\tcase SchemaRowColoring.EVEN:\n\t\t\tcase SchemaRowColoring[SchemaRowColoring.EVEN]:\n\t\t\t\treturn this.ROW_COLORING_EVEN;\n\n\t\t\tdefault:\n\t\t\t\treturn null;\n\t\t}\n\t}\n\n\tprivate removeRowColoringClasses(): void {\n\t\tObject.keys(SchemaRowColoring)\n\t\t\t  .map((key: string) => SchemaRowColoring[key])\n\t\t\t  .map((coloring: SchemaRowColoring) => this.resolveRowColoringClassName(coloring))\n\t\t\t  .filter((className: string) => !!className)\n\t\t\t  .forEach((className: string) => {\n\t\t\t\t  this.removeClass(className);\n\t\t\t  });\n\t}\n\n\tprivate addClass(cssClassName: string): void {\n\t\tif (cssClassName) {\n\t\t\tthis.renderer.addClass(this.cssHostRef.nativeElement, cssClassName);\n\t\t}\n\t}\n\n\tprivate removeClass(cssClassName: string): void {\n\t\tif (cssClassName) {\n\t\t\tthis.renderer.removeClass(this.cssHostRef.nativeElement, cssClassName);\n\t\t}\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { Archive } from '../../../../common/cdk/archive';\n\n\n@Injectable()\nexport class StructureCellEditArchive extends Archive<boolean> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { Archive } from '../../../../common/cdk/archive';\n\nimport { StructureCellEditState } from './structure.cell-edit.state';\n\n\n@Injectable()\nexport class StructureCellEditStore extends Archive<StructureCellEditState> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { Archive } from '../../../../common/cdk/archive';\n\n@Injectable()\nexport class StructureEditModeArchive extends Archive<boolean> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { Archive } from '../../../../../common/cdk/archive';\n\n\n@Injectable()\nexport class StructureInfoPanelEnabledArchive extends Archive<boolean> {\n\n\tconstructor() {\n\t\tsuper(false);\n\t}\n}\n","export class StructureAggregationPanelConfig {\n\n\tprivate readonly top: boolean = false;\n\n\tprivate readonly bottom: boolean = true;\n\n\tconstructor(top?: boolean,\n\t\t\t\tbottom?: boolean) {\n\n\t\tif (top !== undefined && top !== null) {\n\t\t\tthis.top = top;\n\t\t}\n\n\t\tif (bottom !== undefined && bottom !== null) {\n\t\t\tthis.bottom = bottom;\n\t\t}\n\n\t}\n\n\titTopEnabled(): boolean {\n\t\treturn this.top;\n\t}\n\n\titBottomEnabled(): boolean {\n\t\treturn this.bottom;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { Archive } from '../../../../../common/cdk/archive';\n\nimport { StructureAggregationPanelConfig } from './structure.aggregation-panel.config';\n\n\n@Injectable()\nexport class StructureAggregationArchive extends Archive<StructureAggregationPanelConfig> {\n\n\tconstructor() {\n\t\tsuper(new StructureAggregationPanelConfig());\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { StructureAggregationPanelConfig } from './structure.aggregation-panel.config';\n\nimport { AggregationConfig } from '../../../ui-api/structure/aggregation/aggregation-config';\n\n\n@Injectable()\nexport class StructureAggregationPanelConfigConverter {\n\n\tconvert(config: AggregationConfig): StructureAggregationPanelConfig {\n\n\t\tif (config.enabled) {\n\t\t\treturn new StructureAggregationPanelConfig(config.top, config.bottom);\n\t\t} else {\n\t\t\treturn new StructureAggregationPanelConfig(false, false);\n\t\t}\n\t}\n}\n","import { Command } from '@generic-ui/hermes';\nimport { StructureId } from '../../../../structure-id';\n\n\nexport class StructureSetAggregationEnabledCommand extends Command {\n\n\tconstructor(public readonly structureId: StructureId,\n\t\t\t\tpublic readonly enabled: boolean) {\n\t\tsuper(structureId, 'StructureSetAggregationEnabledCommand');\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandDispatcher } from '@generic-ui/hermes';\nimport { StructureId } from '../../../domain/structure-id';\nimport { StructureSetAggregationEnabledCommand } from '../../../domain/structure/command/aggregation/set/structure.set-aggregation-enabled.command';\n\n\n@Injectable()\nexport class StructureAggregationCommandService {\n\n\tconstructor(private commandDispatcher: CommandDispatcher) {\n\t}\n\n\tsetAggregationEnabled(enabled: boolean, structureId: StructureId): void {\n\t\tthis.commandDispatcher.dispatch(new StructureSetAggregationEnabledCommand(structureId, enabled));\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { StructureAggregationPanelConfigConverter } from './structure.aggregation-panel.config-converter';\nimport { StructureAggregationArchive } from './structure.aggregation.archive';\n\nimport { StructureAggregationCommandService } from '../../../ui-api/structure/aggregation/structure.aggregation.command-service';\nimport { StructureId } from '../../../domain/structure-id';\nimport { AggregationConfig } from '../../../ui-api/structure/aggregation/aggregation-config';\n\n\n@Injectable()\nexport class StructureAggregationConfigService {\n\n\tconstructor(private structureAggregationPanelConfigConverter: StructureAggregationPanelConfigConverter,\n\t\t\t\tprivate structureAggregationArchive: StructureAggregationArchive,\n\t\t\t\tprivate structureAggregationCommandService: StructureAggregationCommandService,\n\t\t\t\tprivate structureId: StructureId) {\n\t}\n\n\tset(config: AggregationConfig): void {\n\n\t\tconst aggregationPanelConfig = this.structureAggregationPanelConfigConverter.convert(config);\n\n\t\tthis.structureAggregationArchive.next(aggregationPanelConfig);\n\n\t\tthis.structureAggregationCommandService.setAggregationEnabled(config.enabled, this.structureId);\n\t}\n\n}\n","import { InjectionToken } from '@angular/core';\n\nimport { StructureComponent } from './structure.component';\n\nexport const structureComponentToken = new InjectionToken<StructureComponent>('StructureComponentToken');\n","export enum StructureCellEditState {\n\tENTER,\n\tSUBMIT,\n\tCANCEL\n}\n","export class ColumnMenuConfig {\n\n\tenabled?: boolean;\n\n\tsort?: boolean;\n\n\tfilter?: boolean;\n\n\tcolumnsManager?: boolean;\n\n}\n","import { EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges } from '@angular/core';\nimport { skip } from 'rxjs/operators';\n\nimport { SmartComponent } from '../../../../common/cdk/smart-component';\nimport { ColumnConfig } from '../../../composition/domain/column.config';\nimport { PagingConfig } from '../../domain/paging/paging-config';\nimport { SchemaTheme } from '../../domain/schema/schema-theme';\nimport { SchemaRowColoring } from '../../domain/schema/schema-row-coloring';\nimport { SortingConfig } from '../../ui-api/structure/sorting-config';\nimport { FilterConfig } from '../../ui-api/structure/filter/filter-config';\nimport { QuickFiltersConfig } from '../../ui-api/structure/filter/quick-filters.config';\nimport { SearchConfig } from '../../ui-api/structure/search/search-config';\nimport { AggregationConfig } from '../../ui-api/structure/aggregation/aggregation-config';\nimport { EditemItemValues } from '../../ui-api/source/event/editem-item.values';\nimport { StructureId } from '../../domain/structure-id';\nimport { CompositionId } from '../../../composition/domain/composition-id';\nimport { StructureCommandService } from '../../ui-api/structure/structure-command.service';\nimport { PagingCommandService } from '../../ui-api/paging/paging-command.service';\nimport { PagingEventService } from '../../ui-api/paging/paging-event.service';\nimport { SourceCommandService } from '../../ui-api/source/source-command.service';\nimport { SourceEventService } from '../../ui-api/source/event/source-event.service';\nimport { SchemaCommandService } from '../../ui-api/schema/schema-command.service';\nimport { CompositionCommandService } from '../../../composition/ui-api/composition.command-service';\nimport { CompositionEventService } from '../../../composition/ui-api/composition.event-service';\nimport { FormationEventService } from '../../ui-api/formation/formation-event.service';\nimport { StructureEditModeArchive } from '../edit/structure.edit-mode.archive';\nimport { StructureCellEditArchive } from '../edit/structure.cell-edit.archive';\nimport { StructureInfoPanelEnabledArchive } from '../panel/info/structure.info-panel-enabled.archive';\nimport { StructureAggregationConfigService } from '../panel/aggregation/structure.aggregation-config.service';\nimport { StructureCellEditStore } from '../edit/structure.cell-edit.store';\nimport { StructureCellEditState } from '../edit/structure.cell-edit.state';\nimport { ColumnMenuConfig } from '../../ui-api/structure/column-menu-config';\nimport { StructureColumnMenuConfigArchive } from '../header/menu/config/structure.column-menu-config.archive';\nimport { StructurePagingDisplayModeArchive } from '../paging/mode/structure-paging.display-mode.archive';\n\n\n/** @internal */\nexport abstract class StructureGateway extends SmartComponent implements OnChanges, OnInit {\n\n\t/***********************\n\t * INPUTS\n\t ***********************/\n\n\t@Input()\n\tcolumnHeaderTop: boolean;\n\n\t@Input()\n\tcolumnHeaderBottom: boolean;\n\n\t@Input()\n\tmaxHeight: number;\n\n\t@Input()\n\twidth: number;\n\n\t@Input()\n\trowHeight: number;\n\n\t@Input()\n\tautoResizeWidth: boolean;\n\n\t@Input()\n\tsource: Array<any> = [];\n\n\t@Input()\n\tcolumns: Array<ColumnConfig> = [];\n\n\t@Input()\n\tpaging: boolean | PagingConfig;\n\n\t@Input()\n\tverticalGrid: boolean;\n\n\t@Input()\n\thorizontalGrid: boolean;\n\n\t@Input()\n\ttheme: SchemaTheme;\n\n\t@Input()\n\trowColoring: SchemaRowColoring;\n\n\t@Input()\n\tloading: boolean;\n\n\t@Input()\n\tvirtualScroll: boolean;\n\n\t@Input()\n\tsorting: boolean | SortingConfig;\n\n\t@Input()\n\tfiltering: boolean | FilterConfig;\n\n\t@Input()\n\tquickFilters: boolean | QuickFiltersConfig;\n\n\t@Input()\n\tsearching: boolean | SearchConfig;\n\n\t@Input()\n\teditMode: boolean;\n\n\t@Input()\n\tcellEditing: boolean;\n\n\t@Input()\n\tinfoPanel: boolean;\n\n\t@Input()\n\taggregation: AggregationConfig;\n\n\t@Input()\n\tcolumnMenu: ColumnMenuConfig;\n\n\n\t/***********************\n\t * OUTPUTS\n\t ***********************/\n\n\t@Output()\n\tpageChanged: EventEmitter<number> = new EventEmitter<number>();\n\n\t@Output()\n\tpageSizeChanged: EventEmitter<number> = new EventEmitter<number>();\n\n\t@Output()\n\titemsSelected: EventEmitter<any> = new EventEmitter();\n\n\t@Output()\n\tcolumnsChanged: EventEmitter<void> = new EventEmitter();\n\n\t@Output()\n\tcontainerWidthChanged: EventEmitter<number> = new EventEmitter();\n\n\t@Output()\n\tsourceEdited: EventEmitter<EditemItemValues> = new EventEmitter();\n\n\t@Output()\n\tcellEditEntered: EventEmitter<void> = new EventEmitter();\n\n\t@Output()\n\tcellEditCanceled: EventEmitter<void> = new EventEmitter();\n\n\t@Output()\n\tcellEditSubmitted: EventEmitter<void> = new EventEmitter();\n\n\n\tprotected constructor(\n\t\tpublic structureId: StructureId,\n\t\tprotected compositionId: CompositionId,\n\t\tprotected structureCommandService: StructureCommandService,\n\t\tprotected pagingCommandService: PagingCommandService,\n\t\tprotected pagingEventService: PagingEventService,\n\t\tprotected sourceCommandService: SourceCommandService,\n\t\tprotected sourceEventService: SourceEventService,\n\t\tprotected schemaCommandService: SchemaCommandService,\n\t\tprotected compositionCommandService: CompositionCommandService,\n\t\tprotected compositionEventService: CompositionEventService,\n\t\tprotected formationEventService: FormationEventService,\n\t\tprotected structureEditModeArchive: StructureEditModeArchive,\n\t\tprotected structureCellEditArchive: StructureCellEditArchive,\n\t\tprotected structureInfoPanelEnabledArchive: StructureInfoPanelEnabledArchive,\n\t\tprotected structureAggregationConfigService: StructureAggregationConfigService,\n\t\tprotected structureCellEditStore: StructureCellEditStore,\n\t\tprotected structureColumnMenuConfigArchive: StructureColumnMenuConfigArchive,\n\t\tprotected structurePagingDisplayModeArchive: StructurePagingDisplayModeArchive\n\t) {\n\t\tsuper();\n\t}\n\n\tngOnChanges(simpleChanges: SimpleChanges) {\n\n\t\tif (simpleChanges.columnMenu !== undefined && simpleChanges.columnMenu.currentValue !== undefined) {\n\t\t\tthis.structureColumnMenuConfigArchive.nextConfig(this.columnMenu);\n\t\t}\n\n\t\tif (simpleChanges.infoPanel !== undefined && simpleChanges.infoPanel.currentValue !== undefined) {\n\t\t\tthis.structureInfoPanelEnabledArchive.next(this.infoPanel);\n\t\t}\n\n\t\tif (simpleChanges.aggregation !== undefined && simpleChanges.aggregation.currentValue !== undefined) {\n\t\t\tthis.structureAggregationConfigService.set(this.aggregation);\n\t\t}\n\n\t\tif (simpleChanges.editMode !== undefined && simpleChanges.editMode.currentValue !== undefined) {\n\t\t\tthis.structureEditModeArchive.next(this.editMode);\n\t\t}\n\n\t\tif (simpleChanges.cellEditing !== undefined && simpleChanges.cellEditing.currentValue !== undefined) {\n\t\t\tthis.structureCellEditArchive.next(this.cellEditing);\n\t\t}\n\n\t\tif (simpleChanges.width !== undefined && simpleChanges.width.currentValue !== undefined) {\n\t\t\tthis.compositionCommandService.setWidth(this.width);\n\t\t}\n\n\t\tif (simpleChanges.rowHeight !== undefined && simpleChanges.rowHeight.currentValue !== undefined) {\n\t\t\tthis.structureCommandService.setRowHeight(this.rowHeight);\n\t\t}\n\n\t\tif (simpleChanges.autoResizeWidth !== undefined && simpleChanges.autoResizeWidth.currentValue !== undefined) {\n\t\t\tthis.compositionCommandService.setResizeWidth(this.autoResizeWidth);\n\t\t}\n\n\t\tif (simpleChanges.columnHeaderTop !== undefined && simpleChanges.columnHeaderTop.currentValue !== undefined) {\n\t\t\tthis.schemaCommandService.changeTopHeader(this.columnHeaderTop);\n\t\t}\n\n\t\tif (simpleChanges.columnHeaderBottom !== undefined && simpleChanges.columnHeaderBottom.currentValue !== undefined) {\n\t\t\tthis.schemaCommandService.changeBottomHeader(this.columnHeaderBottom);\n\t\t}\n\n\t\tif (simpleChanges.loading !== undefined && simpleChanges.loading.currentValue !== undefined) {\n\t\t\tthis.sourceCommandService.setLoading(this.loading);\n\t\t}\n\n\t\tif (simpleChanges.paging !== undefined && simpleChanges.paging.currentValue !== undefined) {\n\n\t\t\tlet pagingConfig: PagingConfig;\n\n\t\t\tif (typeof this.paging === 'boolean') {\n\t\t\t\tpagingConfig = {\n\t\t\t\t\tenabled: this.paging\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tpagingConfig = this.paging;\n\n\t\t\t\tif (this.paging.displayMode !== undefined) {\n\t\t\t\t\tthis.structurePagingDisplayModeArchive.next(this.paging.displayMode);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.pagingCommandService.setPaging(pagingConfig);\n\t\t}\n\n\t\tif (simpleChanges.columns) {\n\t\t\tthis.structureCommandService.initFields(this.columns, this.compositionId, this.structureId);\n\t\t\t// this.compositionCommandService.setColumns(this.columns);\n\t\t}\n\n\t\tif (simpleChanges.verticalGrid !== undefined && simpleChanges.verticalGrid.currentValue !== undefined) {\n\t\t\tthis.schemaCommandService.changeVerticalGrid(this.verticalGrid);\n\t\t}\n\n\t\tif (simpleChanges.horizontalGrid !== undefined && simpleChanges.horizontalGrid.currentValue !== undefined) {\n\t\t\tthis.schemaCommandService.changeHorizontalGrid(this.horizontalGrid);\n\t\t}\n\n\t\tif (simpleChanges.theme !== undefined && simpleChanges.theme.currentValue !== undefined) {\n\t\t\tthis.schemaCommandService.setTheme(this.theme);\n\t\t}\n\n\t\tif (simpleChanges.rowColoring !== undefined && simpleChanges.rowColoring.currentValue !== undefined) {\n\t\t\tthis.schemaCommandService.setRowColoring(this.rowColoring);\n\t\t}\n\n\t\tif (simpleChanges.maxHeight && this.maxHeight) {\n\t\t\tthis.schemaCommandService.setHeight(this.maxHeight);\n\t\t}\n\n\t\tif (simpleChanges.virtualScroll !== undefined && simpleChanges.virtualScroll.currentValue !== undefined) {\n\t\t\tif (this.virtualScroll) {\n\t\t\t\tthis.structureCommandService.enableVerticalScroll();\n\t\t\t} else {\n\t\t\t\tthis.structureCommandService.disableVerticalScroll();\n\t\t\t}\n\t\t}\n\n\t\tif (simpleChanges.sorting !== undefined && simpleChanges.sorting.currentValue !== undefined) {\n\n\t\t\tlet sorting: SortingConfig;\n\n\t\t\tif (typeof this.sorting === 'boolean') {\n\t\t\t\tsorting = {\n\t\t\t\t\tenabled: this.sorting\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tsorting = this.sorting;\n\t\t\t}\n\n\t\t\tthis.structureCommandService.setSortingConfig(sorting);\n\t\t}\n\n\t\tif (simpleChanges.filtering !== undefined && simpleChanges.filtering.currentValue !== undefined) {\n\n\t\t\tlet filtering: FilterConfig;\n\n\t\t\tif (typeof this.filtering === 'boolean') {\n\t\t\t\tfiltering = {\n\t\t\t\t\tenabled: this.filtering\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tfiltering = this.filtering;\n\t\t\t}\n\n\t\t\tthis.structureCommandService.setFilterConfig(filtering);\n\t\t}\n\n\t\tif (simpleChanges.quickFilters !== undefined && simpleChanges.quickFilters.currentValue !== undefined) {\n\n\t\t\tlet quickFilters: QuickFiltersConfig;\n\n\t\t\tif (typeof this.quickFilters === 'boolean') {\n\t\t\t\tquickFilters = {\n\t\t\t\t\tenabled: this.quickFilters\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tquickFilters = this.quickFilters;\n\t\t\t}\n\n\t\t\tthis.structureCommandService.setQuickFiltersConfig(quickFilters);\n\t\t}\n\n\t\tif (simpleChanges.searching !== undefined && simpleChanges.searching.currentValue !== undefined) {\n\n\t\t\tlet searching: SearchConfig;\n\n\t\t\tif (typeof this.searching === 'boolean') {\n\t\t\t\tsearching = {\n\t\t\t\t\tenabled: this.searching\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tsearching = this.searching;\n\t\t\t}\n\n\t\t\tthis.structureCommandService.setSearchingConfig(searching);\n\t\t}\n\n\t\t/**\n\t\t * Setting source should be last step\n\t\t */\n\t\tif (simpleChanges.source) {\n\t\t\tthis.sourceCommandService.setOrigin(this.source);\n\t\t}\n\t}\n\n\tngOnInit() {\n\n\t\tthis.pagingEventService\n\t\t\t.onPageChange(this.structureId)\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((pageNumber: number) => {\n\t\t\t\tthis.pageChanged.emit(pageNumber);\n\t\t\t});\n\n\t\tthis.pagingEventService\n\t\t\t.onPageSizeChange(this.structureId)\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((pageSize: number) => {\n\t\t\t\tthis.pageSizeChanged.emit(pageSize);\n\t\t\t});\n\n\t\tthis.formationEventService\n\t\t\t.onItemSelected(this.structureId)\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((items: Array<any>) => {\n\t\t\t\tthis.itemsSelected.emit(items);\n\t\t\t});\n\n\t\tthis.compositionEventService\n\t\t\t.onColumnsChanged(this.compositionId)\n\t\t\t.pipe(\n\t\t\t\tskip(1), // TODO system should emit response that it is ready\n\t\t\t\tthis.takeUntil())\n\t\t\t.subscribe(() => {\n\t\t\t\tthis.columnsChanged.emit();\n\t\t\t});\n\n\n\t\tthis.compositionEventService\n\t\t\t.onContainerWidthChanged(this.compositionId)\n\t\t\t.pipe(\n\t\t\t\t// skip(1), // TODO system should emit response that it is ready\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((containerWidth: number) => {\n\t\t\t\tthis.containerWidthChanged.emit(containerWidth);\n\t\t\t});\n\n\t\tthis.sourceEventService\n\t\t\t.onSourceEdited(this.structureId)\n\t\t\t.pipe(\n\t\t\t\t// this.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((values: EditemItemValues) => {\n\t\t\t\tthis.sourceEdited.emit(values);\n\t\t\t});\n\n\t\tthis.structureCellEditStore\n\t\t\t.onValue()\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((state: StructureCellEditState) => {\n\n\t\t\t\tswitch (state) {\n\n\t\t\t\t\tcase StructureCellEditState.ENTER:\n\t\t\t\t\t\tthis.cellEditEntered.emit();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase StructureCellEditState.SUBMIT:\n\t\t\t\t\t\tthis.cellEditSubmitted.emit();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase StructureCellEditState.CANCEL:\n\t\t\t\t\t\tthis.cellEditCanceled.emit();\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t});\n\n\n\t}\n\n\tonPageChange(page: number): void {\n\t\tthis.pageChanged.emit(page);\n\t}\n\n}\n","import { AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nexport class NextPageEvent extends DomainEvent {\n\n\tconstructor(aggregateId: AggregateId) {\n\t\tsuper(aggregateId, 'NextPageEvent');\n\t}\n}\n","import { AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nexport class PrevPageEvent extends DomainEvent {\n\n\tconstructor(aggregateId: AggregateId) {\n\t\tsuper(aggregateId, 'PrevPageEvent');\n\t}\n}\n","import { AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nexport class PageChangedEvent extends DomainEvent {\n\n\tconstructor(aggregateId: AggregateId) {\n\t\tsuper(aggregateId, 'PageChangedEvent');\n\t}\n}\n","import { AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nexport class PagesizeChangedEvent extends DomainEvent {\n\n\tconstructor(aggregateId: AggregateId) {\n\t\tsuper(aggregateId, 'PagesizeChangedEvent');\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { filter, map, switchMap, take } from 'rxjs/operators';\n\nimport { DomainEvent, DomainEventBus } from '@generic-ui/hermes';\n\nimport { PagingReadModelService } from './paging-read-model.service';\nimport { StructureId } from '../../domain/structure-id';\nimport { NextPageEvent } from '../../domain/paging/command/next-page/next-page.event';\nimport { PrevPageEvent } from '../../domain/paging/command/prev-page/prev-page.event';\nimport { PageChangedEvent } from '../../domain/paging/command/page/page-changed.event';\nimport { Paging } from '../../domain/paging/read/paging';\nimport { PagesizeChangedEvent } from '../../domain/paging/command/change-pagesize/pagesize-changed.event';\n\n\n@Injectable()\nexport class PagingEventService {\n\n\tconstructor(private readonly domainEventBus: DomainEventBus,\n\t\t\t\tprivate readonly pagingQueryService: PagingReadModelService) {\n\t}\n\n\tonPageChange(structureId: StructureId): Observable<number> {\n\n\t\treturn this.domainEventBus\n\t\t\t\t   .ofEvent(\n\t\t\t\t\t   NextPageEvent,\n\t\t\t\t\t   PrevPageEvent,\n\t\t\t\t\t   PageChangedEvent\n\t\t\t\t   )\n\t\t\t\t   .pipe(\n\t\t\t\t\t   filter((event: DomainEvent) => event.aggregateId.toString() === structureId.toString()),\n\t\t\t\t\t   switchMap((event: DomainEvent) => {\n\n\t\t\t\t\t\t   return this.pagingQueryService\n\t\t\t\t\t\t\t\t\t  .onPaging(structureId)\n\t\t\t\t\t\t\t\t\t  .pipe(\n\t\t\t\t\t\t\t\t\t\t  map((paging: Paging) => paging.getPage()),\n\t\t\t\t\t\t\t\t\t\t  take(1)\n\t\t\t\t\t\t\t\t\t  );\n\t\t\t\t\t   })\n\t\t\t\t   );\n\t}\n\n\tonPageSizeChange(structureId: StructureId): Observable<number> {\n\n\t\treturn this.domainEventBus\n\t\t\t\t   .ofEvent(\n\t\t\t\t\t   PagesizeChangedEvent\n\t\t\t\t   )\n\t\t\t\t   .pipe(\n\t\t\t\t\t   filter((event: DomainEvent) => event.aggregateId.toString() === structureId.toString()),\n\t\t\t\t\t   switchMap((event: DomainEvent) => {\n\n\t\t\t\t\t\t   return this.pagingQueryService\n\t\t\t\t\t\t\t\t\t  .onPaging(structureId)\n\t\t\t\t\t\t\t\t\t  .pipe(\n\t\t\t\t\t\t\t\t\t\t  map((paging: Paging) => paging.getPageSize()),\n\t\t\t\t\t\t\t\t\t\t  take(1)\n\t\t\t\t\t\t\t\t\t  );\n\t\t\t\t\t   })\n\t\t\t\t   );\n\t}\n\n}\n","export class EditemItemValues {\n\n\tconstructor(public readonly after: any,\n\t\t\t\tpublic readonly before: any) {\n\t}\n\n}\n","import { AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nimport { OriginItemEntity } from '../origin-item-entity';\n\n\nexport class StructureSourceItemEditedEvent extends DomainEvent {\n\n\tconstructor(aggregateId: AggregateId,\n\t\t\t\tprivate readonly beforeItem: OriginItemEntity,\n\t\t\t\tprivate readonly afterItem: OriginItemEntity) {\n\t\tsuper(aggregateId, 'StructureSourceItemEditedEvent');\n\t}\n\n\tgetBeforeItem(): OriginItemEntity {\n\t\treturn this.beforeItem;\n\t}\n\n\tgetAfterItem(): OriginItemEntity {\n\t\treturn this.afterItem;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { filter, map } from 'rxjs/operators';\n\nimport { DomainEvent, DomainEventBus } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../domain/structure-id';\nimport { EditemItemValues } from './editem-item.values';\nimport { StructureSourceItemEditedEvent } from '../../../domain/source/command/origin/edit/structure.source-item-edited.event';\n\n\n@Injectable()\nexport class SourceEventService {\n\n\tconstructor(private readonly domainEventBus: DomainEventBus) {\n\t}\n\n\tonSourceEdited(structureId: StructureId): Observable<EditemItemValues> {\n\n\t\treturn this.domainEventBus\n\t\t\t\t   .ofEvent(\n\t\t\t\t\t   StructureSourceItemEditedEvent as any\n\t\t\t\t   )\n\t\t\t\t   .pipe(\n\t\t\t\t\t   filter((event: DomainEvent) => event.aggregateId.toString() === structureId.toString()),\n\t\t\t\t\t   map((event: StructureSourceItemEditedEvent) => {\n\n\t\t\t\t\t\t   const afterItem = event.getAfterItem().getData(),\n\t\t\t\t\t\t\t   beforeItem = event.getBeforeItem().getData();\n\n\t\t\t\t\t\t   return new EditemItemValues(afterItem, beforeItem);\n\t\t\t\t\t   })\n\t\t\t\t   );\n\t}\n}\n","import { AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nexport class SelectedRowToggledEvent extends DomainEvent {\n\n\tconstructor(aggregateId: AggregateId) {\n\t\tsuper(aggregateId, 'SelectedRowToggledEvent');\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { filter, map, switchMap, take } from 'rxjs/operators';\n\nimport { DomainEvent, DomainEventBus } from '@generic-ui/hermes';\n\nimport { StructureReadModelService } from '../structure/structure-read-model.service';\nimport { StructureId } from '../../domain/structure-id';\nimport { SelectedRowToggledEvent } from '../../domain/formation/command/toggle/selected-row-toggled.event';\nimport { Structure } from '../../domain/structure/read/structure';\nimport { ItemEntity } from '../../domain/source/item.entity';\n\n\n@Injectable()\nexport class FormationEventService {\n\n\tconstructor(private readonly domainEventBus: DomainEventBus,\n\t\t\t\tprivate readonly structureQueryService: StructureReadModelService) {\n\t}\n\n\tonItemSelected(structureId: StructureId): Observable<number> {\n\n\t\treturn this.domainEventBus\n\t\t\t\t   .ofEvent(\n\t\t\t\t\t   SelectedRowToggledEvent\n\t\t\t\t   )\n\t\t\t\t   .pipe(\n\t\t\t\t\t   filter((event: DomainEvent) => event.aggregateId.toString() === structureId.toString()),\n\t\t\t\t\t   switchMap((event: DomainEvent) => {\n\n\t\t\t\t\t\t   return this.structureQueryService\n\t\t\t\t\t\t\t\t\t  .onStructure(structureId)\n\t\t\t\t\t\t\t\t\t  .pipe(\n\t\t\t\t\t\t\t\t\t\t  take(1),\n\t\t\t\t\t\t\t\t\t\t  map((str: Structure) => str.getSelectedEntities()),\n\t\t\t\t\t\t\t\t\t\t  map((entities: Array<ItemEntity>) => entities.map(ent => ent.getData()))\n\t\t\t\t\t\t\t\t\t  );\n\t\t\t\t\t   })\n\t\t\t\t   );\n\t}\n\n}\n","import { ColumnMenuConfig } from '../../../../ui-api/structure/column-menu-config';\n\nexport class StructureColumnMenuConfig {\n\n\tstatic default(): StructureColumnMenuConfig {\n\t\treturn new StructureColumnMenuConfig();\n\t}\n\n\tstatic fromConfig(config: ColumnMenuConfig): StructureColumnMenuConfig {\n\t\treturn new StructureColumnMenuConfig(\n\t\t\tconfig.enabled,\n\t\t\tconfig.sort,\n\t\t\tconfig.filter,\n\t\t\tconfig.columnsManager\n\t\t);\n\t}\n\n\tprivate static readonly MAIN = 'Menu';\n\n\tprivate static readonly FILTER = 'Filter';\n\n\tprivate static readonly COLUMNS = 'Columns';\n\n\tconstructor(private enabled: boolean = false,\n\t\t\t\tprivate sort: boolean = true,\n\t\t\t\tprivate filter: boolean = false,\n\t\t\t\tprivate columnsManager: boolean = false) {\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled &&\n\t\t\t(this.sort || this.filter || this.columnsManager);\n\t}\n\n\tisMainEnabled(): boolean {\n\t\treturn this.sort;\n\t}\n\n\tisSortingEnabled(): boolean {\n\t\treturn this.sort;\n\t}\n\n\tisFilteringEnabled(): boolean {\n\t\treturn this.filter;\n\t}\n\n\tisColumnManagerEnabled(): boolean {\n\t\treturn this.columnsManager;\n\t}\n\n\tgetMenus(): Array<string> {\n\n\t\tconst menus = [];\n\n\t\tif (this.isMainEnabled()) {\n\t\t\tmenus.push(this.getMainMenu());\n\t\t}\n\n\t\tif (this.isFilteringEnabled()) {\n\t\t\tmenus.push(this.getFilterMenu());\n\t\t}\n\n\t\tif (this.isColumnManagerEnabled()) {\n\t\t\tmenus.push(this.getColumnMenu());\n\t\t}\n\n\t\treturn menus;\n\t}\n\n\tgetActiveMenu(): string {\n\t\treturn this.getMenus()[0];\n\t}\n\n\tgetMainMenu(): string {\n\t\treturn StructureColumnMenuConfig.MAIN;\n\t}\n\n\tgetFilterMenu(): string {\n\t\treturn StructureColumnMenuConfig.FILTER;\n\t}\n\n\tgetColumnMenu(): string {\n\t\treturn StructureColumnMenuConfig.COLUMNS;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { Archive } from '../../../../../../common/cdk/archive';\n\nimport { StructureColumnMenuConfig } from './structure.column-menu-config';\nimport { ColumnMenuConfig } from '../../../../ui-api/structure/column-menu-config';\n\n@Injectable()\nexport class StructureColumnMenuConfigArchive extends Archive<StructureColumnMenuConfig> {\n\n\tconstructor() {\n\t\tsuper(StructureColumnMenuConfig.default());\n\t}\n\n\tnextConfig(config: ColumnMenuConfig): void {\n\n\t\tconst menuConfig = StructureColumnMenuConfig.fromConfig(config);\n\n\t\tthis.next(menuConfig);\n\t}\n\n}\n","import {\n\tAfterViewInit,\n\tChangeDetectionStrategy,\n\tChangeDetectorRef,\n\tComponent,\n\tElementRef,\n\tOnChanges,\n\tOnInit,\n\tRenderer2,\n\tSimpleChanges,\n\tViewEncapsulation\n} from '@angular/core';\nimport { timer } from 'rxjs';\n\n\nimport { StructureDefinition } from './structure-definition';\nimport { StructureIdGenerator } from './structure-id.generator';\nimport { StructureId } from '../domain/structure-id';\nimport { CompositionId } from '../../composition/domain/composition-id';\nimport { localProviders } from './local/local-providers';\nimport { SchemaCssClassManager } from './schema/schema-css-class.manager';\nimport { StructureCellEditArchive } from './edit/structure.cell-edit.archive';\nimport { StructureCellEditStore } from './edit/structure.cell-edit.store';\nimport { StructureEditModeArchive } from './edit/structure.edit-mode.archive';\nimport { StructureInfoPanelEnabledArchive } from './panel/info/structure.info-panel-enabled.archive';\nimport { StructureAggregationArchive } from './panel/aggregation/structure.aggregation.archive';\nimport { StructureAggregationConfigService } from './panel/aggregation/structure.aggregation-config.service';\nimport { structureComponentToken } from './structure-component-token';\nimport { StructureGateway } from './gateway/structure.gateway';\nimport { SchemaColumnHeader } from '../domain/schema/read/schema-column-header';\nimport { Structure } from '../domain/structure/read/structure';\nimport { PagingCommandService } from '../ui-api/paging/paging-command.service';\nimport { PagingEventService } from '../ui-api/paging/paging-event.service';\nimport { SourceCommandService } from '../ui-api/source/source-command.service';\nimport { SourceEventService } from '../ui-api/source/event/source-event.service';\nimport { SchemaCommandService } from '../ui-api/schema/schema-command.service';\nimport { CompositionCommandService } from '../../composition/ui-api/composition.command-service';\nimport { CompositionEventService } from '../../composition/ui-api/composition.event-service';\nimport { FormationEventService } from '../ui-api/formation/formation-event.service';\nimport { StructureCommandService } from '../ui-api/structure/structure-command.service';\nimport { StructureReadModelService } from '../ui-api/structure/structure-read-model.service';\nimport { CompositionReadModelService } from '../../composition/ui-api/composition-read-model.service';\nimport { SchemaReadModelService } from '../ui-api/schema/schema-read-model.service';\nimport { StructureColumnMenuConfigArchive } from './header/menu/config/structure.column-menu-config.archive';\nimport { StructurePagingDisplayModeArchive } from './paging/mode/structure-paging.display-mode.archive';\n\n/** @internal */\nexport function structureIdFactory(generator: StructureIdGenerator): StructureId {\n\treturn new StructureId('gui-' + generator.generateId());\n}\n\n/** @internal */\nexport function compositionIdFactory(generator: StructureIdGenerator): CompositionId {\n\treturn new CompositionId('gui-' + generator.generateId());\n}\n\n/** @internal */\nexport const structureComponentSelfProviders = [\n\t{\n\t\tprovide: StructureId,\n\t\tuseFactory: structureIdFactory,\n\t\tdeps: [\n\t\t\tStructureIdGenerator\n\t\t]\n\t},\n\t{\n\t\tprovide: CompositionId,\n\t\tuseFactory: compositionIdFactory,\n\t\tdeps: [\n\t\t\tStructureIdGenerator\n\t\t]\n\t},\n\t...localProviders,\n\n\tSchemaCssClassManager,\n\tStructureCellEditArchive,\n\tStructureCellEditStore,\n\tStructureEditModeArchive,\n\tStructureInfoPanelEnabledArchive,\n\tStructureAggregationArchive,\n\tStructureAggregationConfigService,\n\tStructureColumnMenuConfigArchive,\n\tStructurePagingDisplayModeArchive\n];\n\n/** @internal */\n@Component({\n\tselector: 'gui-structure',\n\ttemplateUrl: './structure.component.html',\n\tstyleUrls: [\n\t\t'./style/styles.ngx.scss',\n\t\t'./style/structure.ngx.scss',\n\t\t'./style/structure-paging.ngx.scss',\n\t\t'./style/structure-responsive.ngx.scss',\n\t\t'./style/structure-flex.ngx.scss',\n\t\t'../../composition/ui/composition.ngx.scss',\n\t\t'./style/themes/material.structure.ngx.scss',\n\t\t'./style/themes/dark.structure.ngx.scss',\n\t\t'./style/themes/light.structure.ngx.scss'\n\t],\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None,\n\thost: {\n\t\t'[class]': `\"gui-structure\"`,\n\t\t// '[style.min-height.px]': 'structureHeight',\n\t\t'[class.gui-structure-border]': 'isBorderEnabled()',\n\t\t'[id]': 'structureId.toString()'\n\t},\n\tproviders: [\n\t\t...structureComponentSelfProviders,\n\t\t{\n\t\t\tprovide: structureComponentToken,\n\t\t\tuseExisting: StructureComponent\n\t\t}\n\t]\n})\nexport class StructureComponent extends StructureGateway implements OnChanges, OnInit, AfterViewInit {\n\n\tloaderEnabled: boolean = false;\n\n\tcircleLoaderEnabled: boolean = true;\n\n\tinitialLoaderAnimation: boolean = false;\n\n\tstructureHeight: number;\n\n\tprivate columnHeader: SchemaColumnHeader;\n\n\tprivate structure: Structure;\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tcompositionId: CompositionId,\n\t\t\t\tpagingCommandService: PagingCommandService,\n\t\t\t\tpagingEventService: PagingEventService,\n\t\t\t\tsourceCommandService: SourceCommandService,\n\t\t\t\tsourceEventService: SourceEventService,\n\t\t\t\tschemaCommandService: SchemaCommandService,\n\t\t\t\tcompositionCommandService: CompositionCommandService,\n\t\t\t\tcompositionEventService: CompositionEventService,\n\t\t\t\tformationEventService: FormationEventService,\n\t\t\t\tstructureCommandService: StructureCommandService,\n\t\t\t\tstructureEditModeArchive: StructureEditModeArchive,\n\t\t\t\tstructureCellEditArchive: StructureCellEditArchive,\n\t\t\t\tstructureInfoPanelEnabledArchive: StructureInfoPanelEnabledArchive,\n\t\t\t\tstructureAggregationConfigService: StructureAggregationConfigService,\n\t\t\t\tstructureCellEditStore: StructureCellEditStore,\n\t\t\t\tstructureColumnMenuConfigArchive: StructureColumnMenuConfigArchive,\n\t\t\t\tstructurePagingDisplayModeArchive: StructurePagingDisplayModeArchive,\n\t\t\t\tprivate elementRef: ElementRef,\n\t\t\t\tprivate changeDetectorRef: ChangeDetectorRef,\n\t\t\t\tprivate renderer: Renderer2,\n\t\t\t\tprivate structureDefinition: StructureDefinition,\n\t\t\t\tprivate structureQueryService: StructureReadModelService,\n\t\t\t\tprivate compositionQueryService: CompositionReadModelService,\n\t\t\t\tprivate schemaReadModelService: SchemaReadModelService,\n\t\t\t\tprivate schemaStylesManager: SchemaCssClassManager) {\n\n\t\tsuper(\n\t\t\tstructureId,\n\t\t\tcompositionId,\n\t\t\tstructureCommandService,\n\t\t\tpagingCommandService,\n\t\t\tpagingEventService,\n\t\t\tsourceCommandService,\n\t\t\tsourceEventService,\n\t\t\tschemaCommandService,\n\t\t\tcompositionCommandService,\n\t\t\tcompositionEventService,\n\t\t\tformationEventService,\n\t\t\tstructureEditModeArchive,\n\t\t\tstructureCellEditArchive,\n\t\t\tstructureInfoPanelEnabledArchive,\n\t\t\tstructureAggregationConfigService,\n\t\t\tstructureCellEditStore,\n\t\t\tstructureColumnMenuConfigArchive,\n\t\t\tstructurePagingDisplayModeArchive\n\t\t);\n\n\t\tthis.structureCommandService.init();\n\t\tcompositionCommandService.init();\n\t}\n\n\tngOnChanges(changes: SimpleChanges) {\n\t\tsuper.ngOnChanges(changes);\n\t}\n\n\tngOnInit() {\n\t\tsuper.ngOnInit();\n\n\t\tthis.schemaReadModelService\n\t\t\t.onHeight()\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((height: number) => {\n\t\t\t\tthis.structureHeight = height;\n\t\t\t});\n\n\t\tthis.schemaReadModelService\n\t\t\t.onColumnHeader()\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((columnHeader: SchemaColumnHeader) => {\n\t\t\t\tthis.columnHeader = columnHeader;\n\t\t\t});\n\n\t\tthis.structureQueryService\n\t\t\t.onStructure()\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((structure: Structure) => {\n\t\t\t\tthis.structure = structure;\n\n\t\t\t\tthis.loaderEnabled = structure.getSource().isLoading();\n\n\t\t\t\tthis.circleLoaderEnabled = structure.isLoaderVisible();\n\n\t\t\t\tif (this.loaderEnabled && !this.initialLoaderAnimation) {\n\t\t\t\t\tthis.initialLoaderAnimation = true;\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tngAfterViewInit() {\n\t\tlet width = this.elementRef.nativeElement.offsetWidth;\n\n\t\tif (width > 0) {\n\t\t\tthis.compositionCommandService.setContainerWidth(width);\n\t\t} else {\n\n\t\t\t/**\n\t\t\t * When gui-grid is in dynamic container which is created later then grid.\n\t\t\t */\n\t\t\ttimer(0)\n\t\t\t\t.pipe(\n\t\t\t\t\tthis.takeUntil()\n\t\t\t\t)\n\t\t\t\t.subscribe(() => {\n\n\t\t\t\t\twidth = this.elementRef.nativeElement.offsetWidth;\n\n\t\t\t\t\tif (width > 0) {\n\t\t\t\t\t\tthis.compositionCommandService.setContainerWidth(width);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n\n\t\tthis.schemaStylesManager\n\t\t\t.init(this.elementRef, this.structureId);\n\n\t\tthis.compositionQueryService\n\t\t\t.onWidth()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((width: number) => {\n\t\t\t\tthis.renderer.setStyle(this.elementRef.nativeElement, 'width', width + 'px');\n\t\t\t});\n\t}\n\n\tisBorderEnabled(): boolean {\n\t\treturn this.structureDefinition.isBorderEnabled();\n\t}\n\n\tgetStructureId(): StructureId {\n\t\treturn this.structureId;\n\t}\n\n}\n","import { ChangeDetectorRef, Component, ElementRef, Inject, OnInit, ViewChild } from '@angular/core';\n\nimport { StructureCommandService } from '../../../ui-api/structure/structure-command.service';\nimport { CellTemplateWithContext } from '../../../../composition/domain/read/definition/cell-template-with-context';\nimport { SmartComponent } from '../../../../../common/cdk/smart-component';\nimport { CompositionReadModelService } from '../../../../composition/ui-api/composition-read-model.service';\n\nimport { StructureColumnMenuConfigArchive } from './config/structure.column-menu-config.archive';\nimport { StructureColumnMenuConfig } from './config/structure.column-menu-config';\n\n\n@Component({\n\ttemplate: `\n\t\t<div *ngIf=\"isEnabled()\"\n\t\t\t class=\"gui-header-menu-tab\">\n\n\t\t\t<gui-tab [menu]=\"config.getMenus()\" [active]=\"config.getActiveMenu()\">\n\n\t\t\t\t<ng-container *ngIf=\"config.isMainEnabled()\">\n\n\t\t\t\t\t<gui-tab-item class=\"gui-tab-item-dropdown\" [tab]=\"config.getMainMenu()\">\n\n\t\t\t\t\t\t<gui-structure-column-config-sort\n\t\t\t\t\t\t\t\t[column]=\"column\">\n\t\t\t\t\t\t</gui-structure-column-config-sort>\n\n\t\t\t\t\t\t<gui-structure-column-config-column-hide\n\t\t\t\t\t\t\t\t[column]=\"column\">\n\t\t\t\t\t\t</gui-structure-column-config-column-hide>\n\n\t\t\t\t\t\t<gui-structure-column-config-column-move\n\t\t\t\t\t\t\t\t[column]=\"column\">\n\t\t\t\t\t\t</gui-structure-column-config-column-move>\n\n\t\t\t\t\t</gui-tab-item>\n\n\t\t\t\t</ng-container>\n\n\t\t\t\t<ng-container *ngIf=\"config.isFilteringEnabled()\">\n\n\t\t\t\t\t<gui-tab-item [tab]=\"config.getFilterMenu()\">\n\t\t\t\t\t\t<div class=\"gui-header-menu-item\">{{config.getFilterMenu()}}</div>\n\t\t\t\t\t</gui-tab-item>\n\n\t\t\t\t</ng-container>\n\n\t\t\t\t<ng-container *ngIf=\"config.isColumnManagerEnabled()\">\n\n\t\t\t\t\t<gui-tab-item [tab]=\"config.getColumnMenu()\">\n\n\t\t\t\t\t\t<gui-structure-menu-column-manager>\n\t\t\t\t\t\t</gui-structure-menu-column-manager>\n\n\t\t\t\t\t</gui-tab-item>\n\n\t\t\t\t</ng-container>\n\n\t\t\t</gui-tab>\n\t\t</div>\n\t`\n})\nexport class StructureColumnConfigComponent extends SmartComponent implements OnInit {\n\n\t@ViewChild('headerSortMenu', { static: false })\n\theaderSortMenu: ElementRef;\n\n\tconfig: StructureColumnMenuConfig;\n\n\tconstructor(private changeDetectorRef: ChangeDetectorRef,\n\t\t\t\tprivate structureCommandService: StructureCommandService,\n\t\t\t\tprivate compositionReadModelService: CompositionReadModelService,\n\t\t\t\tprivate structureColumnMenuConfigArchive: StructureColumnMenuConfigArchive,\n\t\t\t\t@Inject('column') public column: CellTemplateWithContext) {\n\t\tsuper();\n\t}\n\n\tngOnInit() {\n\n\t\tthis.structureColumnMenuConfigArchive\n\t\t\t.onValue()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((config: StructureColumnMenuConfig) => {\n\t\t\t\tthis.config = config;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.config && this.config.isEnabled();\n\t}\n}\n","import { ElementRef, Injectable, Injector } from '@angular/core';\n\nimport { FabricInlineDialogService, InlineDialogPlacement } from '@generic-ui/fabric';\n\nimport { StructureColumnConfigComponent } from './structure.column-config.component';\nimport { CellTemplateWithContext } from '../../../../composition/domain/read/definition/cell-template-with-context';\n\n@Injectable()\nexport class StructureColumnConfigService {\n\n\tconstructor(private injector: Injector,\n\t\t\t\tprivate inlineDialogService: FabricInlineDialogService) {\n\t}\n\n\topen(elementRef: ElementRef, column: CellTemplateWithContext): void {\n\n\t\tconst injector = Injector.create({\n\t\t\tproviders: [{\n\t\t\t\tprovide: 'column',\n\t\t\t\tuseValue: column\n\t\t\t}],\n\t\t\tparent: this.injector\n\t\t});\n\n\t\tthis.inlineDialogService.open(elementRef, StructureColumnConfigComponent, injector, InlineDialogPlacement.Top, -2);\n\t}\n\n\tclose(): void {\n\t\tthis.inlineDialogService.close();\n\t}\n\n}\n","import { ChangeDetectionStrategy, Component, ElementRef, Injector, Input, ViewEncapsulation } from '@angular/core';\n\nimport { CellTemplateWithContext } from '../../../../composition/domain/read/definition/cell-template-with-context';\nimport { StructureCommandService } from '../../../ui-api/structure/structure-command.service';\nimport { StructureColumnConfigService } from '../menu/structure.column-config.service';\nimport { SortStatus } from '../../../../composition/domain/command/column/sort/sort-status';\n\n\n@Component({\n\tselector: 'gui-structure-header-columns',\n\ttemplateUrl: './structure-header-columns.component.html',\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None,\n\tproviders: [\n\t\tStructureColumnConfigService\n\t]\n})\nexport class StructureHeaderColumnsComponent {\n\n\t@Input()\n\tcolumns: Array<CellTemplateWithContext>;\n\n\tconstructor(private elementRef: ElementRef,\n\t\t\t\tprivate injector: Injector,\n\t\t\t\tprivate structureCommandService: StructureCommandService) {\n\t}\n\n\ttoggleSort(column: CellTemplateWithContext) {\n\t\tthis.structureCommandService.toggleSort(column.getFieldId());\n\t}\n\n\tisSortAsc(column: CellTemplateWithContext): boolean {\n\t\treturn column.getSortStatus() === SortStatus.ASC;\n\t}\n\n\tisSortDesc(column: CellTemplateWithContext): boolean {\n\t\treturn column.getSortStatus() === SortStatus.DESC;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, ReplaySubject } from 'rxjs';\nimport { distinctUntilChanged, map } from 'rxjs/operators';\n\nimport { StructureId } from '../../../structure-id';\n\n\n@Injectable()\nexport class StructureFilterRepository {\n\n\tprivate enabled = new Map<string, boolean>();\n\n\tprivate enabled$ = new ReplaySubject<Map<string, boolean>>();\n\n\tconstructor() {\n\t}\n\n\tsetEnabled(enabled: boolean, structureId: StructureId): void {\n\t\tthis.enabled.set(structureId.toString(), enabled);\n\t\tthis.enabled$.next(this.enabled);\n\t}\n\n\tselectFilterEnabled(structureId: StructureId): Observable<boolean> {\n\n\t\treturn this.enabled$\n\t\t\t\t   .asObservable()\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((map: Map<string, boolean>) => {\n\t\t\t\t\t\t   return map.get(structureId.toString());\n\t\t\t\t\t   }),\n\t\t\t\t\t   distinctUntilChanged()\n\t\t\t\t   );\n\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, ReplaySubject } from 'rxjs';\nimport { distinctUntilChanged, map } from 'rxjs/operators';\nimport { StructureId } from '../../../structure-id';\n\n\n@Injectable()\nexport class StructureQuickFilterRepository {\n\n\tprivate enabled = new Map<string, boolean>();\n\n\tprivate enabled$ = new ReplaySubject<Map<string, boolean>>();\n\n\tconstructor() {\n\t}\n\n\tsetEnabled(enabled: boolean, structureId: StructureId): void {\n\t\tthis.enabled.set(structureId.toString(), enabled);\n\t\tthis.enabled$.next(this.enabled);\n\t}\n\n\tselectQuickFilterEnabled(structureId: StructureId): Observable<boolean> {\n\n\t\treturn this.enabled$\n\t\t\t\t   .asObservable()\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((map: Map<string, boolean>) => {\n\t\t\t\t\t\t   return map.get(structureId.toString());\n\t\t\t\t\t   }),\n\t\t\t\t\t   distinctUntilChanged()\n\t\t\t\t   );\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { StructureFilterRepository } from '../../../domain/structure/read/filter/structure.filter.repository';\nimport { StructureQuickFilterRepository } from '../../../domain/structure/read/filter/structure.quick-filter.repository';\nimport { StructureId } from '../../../domain/structure-id';\n\n\n@Injectable()\nexport class StructureFilterReadModelRepository {\n\n\tconstructor(private structureFilterRepository: StructureFilterRepository,\n\t\t\t\tprivate structureQuickFilterRepository: StructureQuickFilterRepository) {\n\t}\n\n\tonFilteringEnabled(structureId: StructureId): Observable<boolean> {\n\t\treturn this.structureFilterRepository.selectFilterEnabled(structureId);\n\t}\n\n\tonQuickFiltersEnabled(structureId: StructureId): Observable<boolean> {\n\t\treturn this.structureQuickFilterRepository.selectQuickFilterEnabled(structureId);\n\t}\n\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, EventEmitter, Input, Output, ViewEncapsulation } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\n\nimport { StructureFilterCommandService } from '../../../ui-api/structure/filter/structure.filter.command.service';\nimport { StructureId } from '../../../domain/structure-id';\nimport { CellTemplateWithContext } from '../../../../composition/domain/read/definition/cell-template-with-context';\n\n\n@Component({\n\tselector: 'gui-structure-header-filters',\n\ttemplate: `\n\t\t\n\t\t<ng-container *ngIf=\"!filterMode\">\n\n\t\t\t<div *ngFor=\"let cell of columns\"\n\t\t\t\t [style.width.px]=\"cell.width\"\n\t\t\t\t class=\"gui-header-cell\">\n\n\t\t\t\t<!--\t\t\t\t<gui-structure-header-filter [column]=\"cell\">-->\n\t\t\t\t<!--\t\t\t\t</gui-structure-header-filter>-->\n\n\t\t\t\t<button (click)=\"turnOnFilterMode()\">Add Filter</button>\n\n\t\t\t</div>\n\n\t\t</ng-container>\n\n\t\t<ng-container *ngIf=\"filterMode\">\n\n\t\t\t<gui-select [options]=\"['has value', 'is the same as', 'starts with', 'ends with']\" [selected]=\"'has value'\" >\n\n\t\t\t</gui-select>\n\n\t\t\t<form [formGroup]=\"filterForm\">\n\t\t\t\t<input type=\"text\" [formControlName]=\"filterFieldName\" gui-input/>\n\t\t\t</form>\n\n\t\t\t<button gui-button (click)=\"clearFilters()\">Clear All</button>\n\t\t\t<button gui-button (click)=\"turnOffFilterMode()\">Close</button>\n\n\t\t</ng-container>\n\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureHeaderFiltersComponent {\n\n\t@Input()\n\tcolumns: Array<CellTemplateWithContext>;\n\n\t@Output()\n\tclosed = new EventEmitter<void>();\n\n\treadonly filterFieldName = 'phrase';\n\n\tfilterForm: FormGroup;\n\n\tfilterMode: boolean = false;\n\n\tconstructor(private structureFilterCommandService: StructureFilterCommandService,\n\t\t\t\tprivate formBuilder: FormBuilder,\n\t\t\t\tprivate cd: ChangeDetectorRef,\n\t\t\t\tprivate structureId: StructureId) {\n\t\tthis.filterForm = this.formBuilder.group({\n\t\t\t[this.filterFieldName]: ['']\n\t\t});\n\n\t}\n\n\tngOnInit() {\n\t\tthis.filterForm\n\t\t\t.valueChanges\n\t\t\t// .pipe(\n\t\t\t// debounceTime(500)\n\t\t\t// )\n\t\t\t.subscribe((f) => {\n\t\t\t\tthis.filter(f[this.filterFieldName]);\n\t\t\t});\n\t}\n\n\tfilter(phrase: string): void {\n\n\t\tif (phrase === undefined || phrase === null) {\n\t\t\tphrase = '';\n\t\t}\n\n\t\tthis.structureFilterCommandService.addFilter(this.columns[0].getFieldId(), '1', phrase, this.structureId);\n\t}\n\n\tclearFilters(): void {\n\t\tthis.filterForm.reset();\n\t}\n\n\tturnOnFilterMode(): void {\n\t\tthis.filterMode = true;\n\t\tthis.cd.detectChanges();\n\t}\n\n\tturnOffFilterMode(): void {\n\t\tthis.filterMode = false;\n\t\tthis.cd.detectChanges();\n\t}\n\n}\n","import {\n\tAfterViewInit,\n\tChangeDetectionStrategy,\n\tChangeDetectorRef,\n\tComponent,\n\tElementRef,\n\tOnInit,\n\tRenderer2,\n\tViewChild,\n\tViewEncapsulation\n} from '@angular/core';\n\nimport { DomainEventBus } from '@generic-ui/hermes';\n\nimport { SmartComponent } from '../../../../common/cdk/smart-component';\n\nimport { StructureHeaderColumnsComponent } from './columns/structure-header-columns.component';\nimport { CellTemplateWithContext } from '../../../composition/domain/read/definition/cell-template-with-context';\nimport { StructureId } from '../../domain/structure-id';\nimport { StructureFilterReadModelRepository } from '../../ui-api/structure/filter/structure.filter.read-model.repository';\nimport { CompositionReadModelService } from '../../../composition/ui-api/composition-read-model.service';\nimport { StructureHeaderFiltersComponent } from './filters/structure-header-filters.component';\nimport { StructureReadModelService } from '../../ui-api/structure/structure-read-model.service';\n\n\n@Component({\n\tselector: 'gui-structure-header',\n\ttemplateUrl: './structure-header.component.html',\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureHeaderComponent extends SmartComponent implements OnInit, AfterViewInit {\n\n\t@ViewChild(StructureHeaderColumnsComponent, { read: ElementRef, static: true })\n\tcontainerRef: ElementRef;\n\n\t@ViewChild(StructureHeaderFiltersComponent, { read: ElementRef, static: true })\n\tfiltersRef: ElementRef;\n\n\theaderColumns: Array<CellTemplateWithContext> = [];\n\n\tfilterRowEnabled: boolean = false;\n\n\tconstructor(private readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\tprivate readonly renderer: Renderer2,\n\t\t\t\tprivate readonly eventBus: DomainEventBus,\n\t\t\t\tprivate readonly structureId: StructureId,\n\t\t\t\tprivate readonly structureFilterReadModelRepository: StructureFilterReadModelRepository,\n\t\t\t\tprivate readonly structureReadModelService: StructureReadModelService,\n\t\t\t\tprivate readonly compositionQueryService: CompositionReadModelService) {\n\t\tsuper();\n\t}\n\n\tngOnInit() {\n\n\t\tthis.compositionQueryService\n\t\t\t.onHeaderColumns()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((columns: Array<CellTemplateWithContext>) => {\n\t\t\t\tthis.headerColumns = columns;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.compositionQueryService\n\t\t\t.onContainerWidth()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((width: number) => {\n\t\t\t\tthis.renderer.setStyle(this.containerRef.nativeElement, 'width', width + 'px');\n\t\t\t});\n\n\t\tthis.structureFilterReadModelRepository\n\t\t\t.onFilteringEnabled(this.structureId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((enabled: boolean) => {\n\n\t\t\t\tthis.filterRowEnabled = enabled;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\t}\n\n\tngAfterViewInit() {\n\t\tthis.structureReadModelService\n\t\t\t.onRowHeight()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((rowHeight: number) => {\n\n\t\t\t\tconst headerHeight = +(rowHeight) + 2;\n\n\t\t\t\tif (this.containerRef) {\n\t\t\t\t\tthis.renderer.setStyle(this.containerRef.nativeElement, 'height', headerHeight + 'px');\n\t\t\t\t}\n\n\t\t\t\tif (this.filtersRef) {\n\t\t\t\t\tthis.renderer.setStyle(this.filtersRef.nativeElement, 'height', headerHeight + 'px');\n\t\t\t\t}\n\t\t\t});\n\t}\n\n}\n","import { ChangeDetectionStrategy, Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\n\nimport { SmartComponent } from '../../../../../common/cdk/smart-component';\n\nimport { CellTemplateWithContext } from '../../../../composition/domain/read/definition/cell-template-with-context';\nimport { ChangedValueEmitter } from '../../../../composition/domain/read/edit/changed-value.emitter';\nimport { StructureFilterCommandService } from '../../../ui-api/structure/filter/structure.filter.command.service';\nimport { StructureId } from '../../../domain/structure-id';\n\n\n@Component({\n\tselector: 'gui-structure-header-filter',\n\ttemplate: `\n\t\t\n<!--\t\t<ng-container-->\n<!--\t\t\t\t*ngTemplateOutlet=\"column.editTemplate; context: editContext\">-->\n<!--\t\t</ng-container>-->\n\t\t\n\t\t<button gui-button [primary]=\"true\" >Add Filter</button>\n\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureHeaderFilterComponent extends SmartComponent implements OnInit {\n\n\t@Input()\n\tcolumn: CellTemplateWithContext;\n\n\tsub = new ChangedValueEmitter();\n\n\teditContext: any;\n\n\tconstructor(private structureFilterCommandService: StructureFilterCommandService,\n\t\t\t\tprivate structureId: StructureId) {\n\t\tsuper();\n\n\t\tthis.editContext = {\n\t\t\tchanges: this.sub\n\t\t};\n\t}\n\n\tngOnInit() {\n\t\tthis.sub\n\t\t\t.on()\n\t\t\t.subscribe((phrase: string) => this.filter(phrase));\n\t}\n\n\tfilter(phrase: string): void {\n\t\tthis.structureFilterCommandService.addFilter(this.column.getFieldId(), '1', phrase, this.structureId);\n\t}\n\n}\n","import {\n\tChangeDetectionStrategy,\n\tChangeDetectorRef,\n\tComponent,\n\tElementRef,\n\tInject,\n\tInput,\n\tOnInit,\n\tPLATFORM_ID,\n\tRenderer2,\n\tViewEncapsulation\n} from '@angular/core';\nimport { isPlatformBrowser } from '@angular/common';\n\nimport { SmartComponent } from '../../../../common/cdk/smart-component';\n\nimport { CellTemplateWithAccessor } from '../../../composition/domain/read/definition/cell-template-with-accessor';\nimport { FormationCommandService } from '../../ui-api/formation/formation-command.service';\nimport { StructureCellEditArchive } from '../edit/structure.cell-edit.archive';\nimport { StructureEditModeArchive } from '../edit/structure.edit-mode.archive';\nimport { FormationReadModelService } from '../../ui-api/formation/formation-read-model.service';\nimport { SelectedRowsList } from '../../domain/formation/read/selected-rows/selected-rows-list';\nimport { ItemEntity } from '../../domain/source/item.entity';\nimport { VerticalFormationRepository } from '../../domain/structure/read/vertical-formation/vertical-formation.repository';\nimport { StructureReadModelService } from '../../ui-api/structure/structure-read-model.service';\n\n\n@Component({\n\tselector: 'gui-structure-content',\n\ttemplateUrl: `structure-content.component.html`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureContentComponent extends SmartComponent implements OnInit {\n\n\t@Input()\n\tsource: Array<ItemEntity>;\n\n\t@Input()\n\tcolumns: Array<CellTemplateWithAccessor>;\n\n\teditMode = false;\n\n\tcellEditing = false;\n\n\trowHeight: number;\n\n\tconstructor(@Inject(PLATFORM_ID) private platformId: any,\n\t\t\t\tprivate renderer: Renderer2,\n\t\t\t\tprivate elementRef: ElementRef,\n\t\t\t\tprivate changeDetectorRef: ChangeDetectorRef,\n\t\t\t\tprivate formationCommandService: FormationCommandService,\n\t\t\t\tprivate structureCellEditArchive: StructureCellEditArchive,\n\t\t\t\tprivate structureEditModeArchive: StructureEditModeArchive,\n\t\t\t\tprivate formationQueryService: FormationReadModelService,\n\t\t\t\tprivate structureReadModelService: StructureReadModelService,\n\t\t\t\tprivate verticalFormationRepository: VerticalFormationRepository) {\n\t\tsuper();\n\t}\n\n\tngOnInit() {\n\n\t\tthis.formationQueryService\n\t\t\t.onSelectedRows()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((rowsList: SelectedRowsList) => {\n\n\t\t\t\tthis.clearSelectedRows();\n\n\t\t\t\trowsList.getIds().forEach((id: string) => {\n\n\t\t\t\t\tconst strippedId = 'gui' + id.replace(/-/g, ''),\n\t\t\t\t\t\tselectedRowEl = this.elementRef.nativeElement.querySelector(`#${strippedId}`);\n\n\t\t\t\t\tif (selectedRowEl) {\n\t\t\t\t\t\tthis.renderer.addClass(selectedRowEl, 'selected');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\tthis.structureEditModeArchive\n\t\t\t.onValue()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((enabled: boolean) => {\n\t\t\t\tthis.editMode = enabled;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.structureCellEditArchive\n\t\t\t.onValue()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((enabled: boolean) => {\n\t\t\t\tthis.cellEditing = enabled;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.structureReadModelService\n\t\t\t.onRowHeight()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((rowHeight: number) => {\n\t\t\t\tthis.rowHeight = rowHeight;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t}\n\n\ttrackByFn() {\n\t\treturn 0;\n\t}\n\n\ttranslateY(index: number): string {\n\t\treturn `translateY(${index * this.rowHeight}px)`;\n\t}\n\n\ttoggleSelectedRow(entity: ItemEntity): void {\n\t\tthis.formationCommandService.toggleSelectedRow((entity as any).id);\n\t}\n\n\tprivate clearSelectedRows(): void {\n\t\tconst selectedElements = this.elementRef.nativeElement.querySelectorAll('.selected');\n\n\t\tif (isPlatformBrowser(this.platformId)) {\n\t\t\tselectedElements.forEach((el: any) => {\n\t\t\t\tthis.renderer.removeClass(el, 'selected');\n\t\t\t});\n\t\t}\n\n\t}\n\n}\n","import { ChangeDetectionStrategy, Component, Input, ViewEncapsulation } from '@angular/core';\n\nimport { CellTemplateWithAccessor } from '../../../../composition/domain/read/definition/cell-template-with-accessor';\nimport { ItemEntity } from '../../../domain/source/item.entity';\n\n\n@Component({\n\tselector: 'gui-structure-row',\n\ttemplateUrl: `structure-row.component.html`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureRowComponent {\n\n\t@Input()\n\tentity: ItemEntity;\n\n\t@Input()\n\tcolumns: Array<CellTemplateWithAccessor>;\n\n\t@Input()\n\teditMode: boolean;\n\n\t@Input()\n\tcellEditing: boolean;\n\n\ttrackByFn(): number {\n\t\treturn 0;\n\t}\n\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, Input, OnChanges, OnDestroy, SimpleChanges, ViewEncapsulation } from '@angular/core';\n\nimport { SmartComponent } from '../../../../../common/cdk/smart-component';\n\nimport { CellTemplateWithAccessor } from '../../../../composition/domain/read/definition/cell-template-with-accessor';\nimport { StructureCellEditArchive } from '../../edit/structure.cell-edit.archive';\nimport { StructureCellEditStore } from '../../edit/structure.cell-edit.store';\nimport { SourceCommandService } from '../../../ui-api/source/source-command.service';\nimport { ChangedValueEmitter } from '../../../../composition/domain/read/edit/changed-value.emitter';\nimport { EditEventType } from '../../../../composition/domain/read/edit/state/edit.event-type';\nimport { StructureEditSourceItemParams } from '../../../domain/source/command/origin/edit/structure.edit-source-item.params';\nimport { StructureCellEditState } from '../../edit/structure.cell-edit.state';\nimport { ItemEntity } from '../../../domain/source/item.entity';\n\n\n@Component({\n\tselector: 'gui-structure-cell',\n\ttemplate: `\n\n\t\t<span *ngIf=\"!inEditMode\"\n\t\t\t  (click)=\"enterEditMode()\">\n\t\t\t<ng-container\n\t\t\t\t\t*ngTemplateOutlet=\"cell.template;\n\t\t\t\t\tcontext: { element: cell.accessor(entity) }\">\n\t\t\t</ng-container>\n\t\t</span>\n\n\t\t<span *ngIf=\"inEditMode\" class=\"gui-cell-edit-mode\">\n\t\t\t<ng-container\n\t\t\t\t\t*ngTemplateOutlet=\"cell.editTemplate;\n\t\t\t\t\tcontext: editContext\">\n\t\t\t</ng-container>\n\t\t</span>\n\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureCellComponent extends SmartComponent implements OnChanges, OnDestroy {\n\n\t@Input()\n\tentity: ItemEntity;\n\n\t@Input()\n\tcell: CellTemplateWithAccessor;\n\n\t@Input()\n\teditMode: boolean;\n\n\t@Input()\n\tcellEditingEnabled: boolean;\n\n\tinEditMode: boolean = false;\n\n\teditContext: any;\n\n\tvalueChanges$: ChangedValueEmitter<any>;\n\n\tstatus$: ChangedValueEmitter<any>;\n\n\tactualValue: any;\n\n\tconstructor(private changeDetectorRef: ChangeDetectorRef,\n\t\t\t\tprivate structureCellEditArchive: StructureCellEditArchive,\n\t\t\t\tprivate structureCellEditStore: StructureCellEditStore,\n\t\t\t\tprivate sourceCommandService: SourceCommandService) {\n\t\tsuper();\n\t}\n\n\tngOnChanges(changes: SimpleChanges) {\n\n\t\tif (changes.editMode !== undefined) {\n\t\t\tif (this.editMode) {\n\t\t\t\tthis.cellEditingEnabled = true;\n\t\t\t\tthis.enterEditMode(false);\n\t\t\t} else if (!this.editMode) {\n\t\t\t\tthis.exitEditMode();\n\t\t\t}\n\t\t}\n\n\t\tif (!this.editMode) {\n\t\t\tthis.exitEditMode();\n\t\t}\n\t}\n\n\tenterEditMode(forceCheck: boolean = true): void {\n\n\t\tif (!this.cellEditingEnabled) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.inEditMode = true;\n\n\t\tthis.valueChanges$ = new ChangedValueEmitter();\n\t\tthis.status$ = new ChangedValueEmitter<EditEventType>();\n\n\t\tthis.editContext = {\n\t\t\tstatus: this.status$,\n\t\t\tvalueChanges: this.valueChanges$,\n\t\t\tvalue: this.cell.accessor(this.entity),\n\t\t\tfocus: forceCheck\n\t\t};\n\n\t\tthis.observeFieldStatus();\n\t\tthis.observeValueChanges();\n\n\t\tthis.publishEditEnter();\n\n\t\tif (!forceCheck) {\n\t\t\tthis.changeDetectorRef.markForCheck();\n\t\t} else {\n\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t}\n\n\t}\n\n\texitEditMode(): void {\n\t\tthis.inEditMode = false;\n\t\tthis.changeDetectorRef.detectChanges();\n\t}\n\n\tsubmitChangesAndExit(): void {\n\n\t\tconst itemId = this.entity.getId(),\n\t\t\tupdatedValue = this.actualValue,\n\t\t\tfieldId = this.cell.columnFieldId;\n\n\t\tthis.sourceCommandService.editItem(new StructureEditSourceItemParams(itemId, fieldId, updatedValue));\n\n\t\tthis.exitEditMode();\n\t}\n\n\tprivate observeFieldStatus(): void {\n\n\t\tthis.status$\n\t\t\t.on()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((status: EditEventType) => {\n\n\t\t\t\tswitch (status) {\n\t\t\t\t\tcase EditEventType.SUBMIT:\n\t\t\t\t\t\tthis.submitChangesAndExit();\n\t\t\t\t\t\tthis.publishEditSubmit();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase EditEventType.CANCEL:\n\t\t\t\t\t\tthis.exitEditMode();\n\t\t\t\t\t\tthis.publishEditCancel();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tprivate observeValueChanges(): void {\n\n\t\tthis.valueChanges$\n\t\t\t.on()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((value: any) => {\n\t\t\t\tthis.actualValue = value;\n\t\t\t});\n\t}\n\n\tprivate publishEditState(state: StructureCellEditState): void {\n\t\tthis.structureCellEditStore.next(state);\n\t}\n\n\tprivate publishEditEnter(): void {\n\t\tthis.publishEditState(StructureCellEditState.ENTER);\n\t}\n\n\tprivate publishEditCancel(): void {\n\t\tthis.publishEditState(StructureCellEditState.CANCEL);\n\t}\n\n\tprivate publishEditSubmit(): void {\n\t\tthis.publishEditState(StructureCellEditState.SUBMIT);\n\t}\n\n}\n","import {\n\tAfterViewInit,\n\tChangeDetectionStrategy,\n\tChangeDetectorRef,\n\tComponent,\n\tElementRef,\n\tInject,\n\tNgZone,\n\tOnDestroy,\n\tOnInit,\n\tOptional,\n\tRenderer2,\n\tViewChild,\n\tViewEncapsulation\n} from '@angular/core';\nimport { combineLatest, fromEvent, Subject } from 'rxjs';\nimport { distinctUntilChanged, filter, map, takeUntil } from 'rxjs/operators';\n\nimport { ResizeDetector } from '@generic-ui/fabric';\n\nimport { SmartComponent } from '../../../../common/cdk/smart-component';\nimport { CellTemplateWithAccessor } from '../../../composition/domain/read/definition/cell-template-with-accessor';\nimport { SchemaRowColoring } from '../../domain/schema/schema-row-coloring';\nimport { StructureId } from '../../domain/structure-id';\nimport { StructureCommandService } from '../../ui-api/structure/structure-command.service';\nimport { StructureReadModelService } from '../../ui-api/structure/structure-read-model.service';\nimport { SourceReadModelService } from '../../ui-api/source/source-read-model.service';\nimport { SchemaReadModelService } from '../../ui-api/schema/schema-read-model.service';\nimport { CompositionCommandService } from '../../../composition/ui-api/composition.command-service';\nimport { CompositionReadModelService } from '../../../composition/ui-api/composition-read-model.service';\nimport { FormationReadModelService } from '../../ui-api/formation/formation-read-model.service';\nimport { structureParentComponent } from '../structure-parent-component';\nimport { Structure } from '../../domain/structure/read/structure';\nimport { ItemEntity } from '../../domain/source/item.entity';\n\n\n@Component({\n\tselector: 'gui-structure-container',\n\ttemplateUrl: `structure-container.component.html`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureContainerComponent extends SmartComponent implements OnInit, AfterViewInit, OnDestroy {\n\n\t@ViewChild('container', { static: false })\n\tcontainerRef: ElementRef;\n\n\tcolumns: Array<CellTemplateWithAccessor> = [];\n\n\tsource: Array<ItemEntity> = [];\n\n\theight: number;\n\n\trowColoring: SchemaRowColoring;\n\n\tprivate autoResizeWidthEnabled: boolean = false;\n\n\tprivate scrollObservation$ = new Subject();\n\n\tconstructor(private elementRef: ElementRef,\n\t\t\t\tprivate renderer: Renderer2,\n\t\t\t\tprivate changeDetectorRef: ChangeDetectorRef,\n\t\t\t\tprivate ngZone: NgZone,\n\t\t\t\tprivate structureId: StructureId,\n\t\t\t\tprivate structureCommandService: StructureCommandService,\n\t\t\t\tprivate structureQueryService: StructureReadModelService,\n\t\t\t\tprivate sourceQueryService: SourceReadModelService,\n\t\t\t\tprivate schemaQueryService: SchemaReadModelService,\n\t\t\t\tprivate compositionCommandService: CompositionCommandService,\n\t\t\t\tprivate compositionQueryService: CompositionReadModelService,\n\t\t\t\tprivate formationQueryService: FormationReadModelService,\n\t\t\t\tprivate resizeDetector: ResizeDetector,\n\t\t\t\t@Optional() @Inject(structureParentComponent) private structureParent: any) {\n\t\tsuper();\n\t}\n\n\tngOnInit() {\n\n\t\t/**\n\t\t * TODO One source of truth\n\t\t *\n\t\t * There should only one sub here.\n\t\t */\n\t\tcombineLatest(\n\t\t\tthis.sourceQueryService.onEntities(),\n\t\t\tthis.structureQueryService.onRowHeight()\n\t\t)\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((combine: Array<any>) => {\n\n\t\t\t\tconst source: Array<ItemEntity> = combine[0],\n\t\t\t\t\trowHeight = combine[1];\n\n\t\t\t\tthis.source = source;\n\t\t\t\tthis.setHeight(source.length * rowHeight);\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.compositionQueryService\n\t\t\t.onTemplateColumns()\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((columns: Array<CellTemplateWithAccessor>) => {\n\t\t\t\tthis.columns = columns;\n\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.compositionQueryService\n\t\t\t.onResizeWidth()\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((enabled: boolean) => {\n\t\t\t\tthis.autoResizeWidthEnabled = enabled;\n\t\t\t});\n\n\t\tcombineLatest(\n\t\t\tthis.sourceQueryService.onEntities(),\n\t\t\tthis.schemaQueryService.onContainerHeight(),\n\t\t\tthis.structureQueryService.onRowHeight()\n\t\t)\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((combine: Array<any>) => {\n\n\t\t\t\tconst source: Array<ItemEntity> = combine[0],\n\t\t\t\t\theight: number = combine[1],\n\t\t\t\t\trowHeight = combine[2];\n\n\t\t\t\tconst sourceSizeHeight = source.length * rowHeight;\n\n\t\t\t\tif (sourceSizeHeight > height) {\n\t\t\t\t\tthis.setHeight(height);\n\t\t\t\t} else {\n\t\t\t\t\tthis.setHeight(sourceSizeHeight);\n\t\t\t\t}\n\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\t}\n\n\tngAfterViewInit() {\n\n\t\t// turn on when structure is ready\n\t\tif (this.structureParent) {\n\t\t\tthis.resizeDetector\n\t\t\t\t.observe(this.structureParent.getElementRef().nativeElement)\n\t\t\t\t.pipe(\n\t\t\t\t\tfilter(() => this.autoResizeWidthEnabled),\n\t\t\t\t\tmap((element: HTMLElement) => element.offsetWidth),\n\t\t\t\t\tdistinctUntilChanged(),\n\t\t\t\t\tthis.takeUntil()\n\t\t\t\t)\n\t\t\t\t.subscribe((width: number) => {\n\t\t\t\t\tthis.recalculateContainer(width);\n\t\t\t\t});\n\t\t}\n\n\t\tthis.compositionQueryService\n\t\t\t.onContainerWidth()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((width: number) => {\n\t\t\t\tthis.renderer.setStyle(this.containerRef.nativeElement, 'width', width + 'px');\n\t\t\t});\n\n\t\tthis.structureQueryService\n\t\t\t.onVerticalScrollEnabled()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((enabled: boolean) => {\n\t\t\t\tif (enabled) {\n\t\t\t\t\tthis.enableScrollObservation();\n\t\t\t\t} else {\n\t\t\t\t\tthis.disableScrollObservation();\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t// never runs ??\n\t\tthis.structureQueryService\n\t\t\t.onStructure()\n\t\t\t.pipe(\n\t\t\t\tfilter((str: Structure) => {\n\t\t\t\t\treturn str.isVerticalScrollEnabled();\n\t\t\t\t}),\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((structure: Structure) => {\n\n\t\t\t\tconst containerHeight = structure.getContainerHeight(),\n\t\t\t\t\ttopMargin = structure.getTopMargin();\n\n\t\t\t\tthis.renderer.setStyle(this.containerRef.nativeElement, 'padding-top', topMargin + 'px');\n\t\t\t\tthis.renderer.setStyle(this.containerRef.nativeElement, 'height', containerHeight + 'px');\n\t\t\t});\n\t}\n\n\tngOnDestroy() {\n\t\tsuper.ngOnDestroy();\n\t\tthis.resizeDetector.destroy(this.elementRef.nativeElement);\n\t}\n\n\tsetHeight(height: number): void {\n\t\tthis.height = height;\n\t\tthis.renderer.setStyle(this.elementRef.nativeElement, 'height', this.height + 'px');\n\t}\n\n\tprivate recalculateContainer(width: number): void {\n\t\tif (this.autoResizeWidthEnabled) {\n\t\t\tthis.compositionCommandService.setContainerWidth(width);\n\t\t}\n\t}\n\n\tprivate enableScrollObservation(): void {\n\t\tthis.ngZone\n\t\t\t.runOutsideAngular(() => {\n\n\t\t\t\tfromEvent(this.elementRef.nativeElement, 'scroll')\n\t\t\t\t\t.pipe(\n\t\t\t\t\t\t// auditTime(10),\n\t\t\t\t\t\ttakeUntil(this.scrollObservation$),\n\t\t\t\t\t\tthis.takeUntil()\n\t\t\t\t\t)\n\t\t\t\t\t.subscribe((event: any) => {\n\n\t\t\t\t\t\tconst scrollTop = event.target.scrollTop;\n\n\t\t\t\t\t\tthis.structureCommandService.setScrollPosition(scrollTop);\n\t\t\t\t\t});\n\t\t\t});\n\t}\n\n\tprivate disableScrollObservation(): void {\n\t\tthis.scrollObservation$.next();\n\t\tthis.scrollObservation$.complete();\n\t}\n\n}\n","import { Component } from '@angular/core';\n\n@Component({\n\tselector: 'gui-structure-quick-fitlers',\n\ttemplate: `\n\t\n\t\tQuickFilters\n\t\t\n\t`\n})\nexport class StructureQuickFiltersComponent {\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, ReplaySubject } from 'rxjs';\nimport { distinctUntilChanged, map } from 'rxjs/operators';\nimport { StructureId } from '../../../structure-id';\nimport { Reactive } from '../../../../../../common/cdk/reactive';\n\n\n@Injectable()\nexport class StructureSearchingRepository extends Reactive {\n\n\tprivate enabled = new Map<string, boolean>();\n\n\tprivate enabled$ = new ReplaySubject<Map<string, boolean>>();\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tsetEnabled(enabled: boolean, structureId: StructureId): void {\n\t\tthis.enabled.set(structureId.toString(), enabled);\n\t\tthis.enabled$.next(this.enabled);\n\t}\n\n\tonSearchingEnabled(structureId: StructureId): Observable<boolean> {\n\n\t\treturn this.enabled$\n\t\t\t\t   .asObservable()\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((map: Map<string, boolean>) => {\n\t\t\t\t\t\t   return map.get(structureId.toString());\n\t\t\t\t\t   }),\n\t\t\t\t\t   distinctUntilChanged()\n\t\t\t\t   );\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { StructureSearchingRepository } from '../../../domain/structure/read/searching/structure.searching.repository';\nimport { StructureId } from '../../../domain/structure-id';\n\n\n@Injectable()\nexport class StructureSearchReadModelRepository {\n\n\tconstructor(private structureSearchingRepository: StructureSearchingRepository) {\n\t}\n\n\tonSearchEnabled(structureId: StructureId): Observable<boolean> {\n\t\treturn this.structureSearchingRepository.onSearchingEnabled(structureId);\n\t}\n\n}\n","import { InjectionToken } from '@angular/core';\n\nconst prefix = 'Structure -';\n\nexport const STRUCTURE_CSS_CLASS_NAME = new InjectionToken<string>(`${prefix} - css className`);\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, Inject, ViewEncapsulation } from '@angular/core';\n\nimport { SmartComponent } from '../../../../common/cdk/smart-component';\nimport { Structure } from '../../domain/structure/read/structure';\nimport { Paging } from '../../domain/paging/read/paging';\nimport { StructureDefinition } from '../structure-definition';\nimport { StructureId } from '../../domain/structure-id';\nimport { StructureReadModelService } from '../../ui-api/structure/structure-read-model.service';\nimport { PagingReadModelService } from '../../ui-api/paging/paging-read-model.service';\nimport { StructureInfoPanelEnabledArchive } from '../panel/info/structure.info-panel-enabled.archive';\nimport { StructureAggregationArchive } from '../panel/aggregation/structure.aggregation.archive';\nimport { StructureFilterReadModelRepository } from '../../ui-api/structure/filter/structure.filter.read-model.repository';\nimport { StructureSearchReadModelRepository } from '../../ui-api/structure/search/structure-search.read-model.repository';\nimport { STRUCTURE_CSS_CLASS_NAME } from '../../ui-api/structure/structure-tokens';\nimport { StructureAggregationPanelConfig } from '../panel/aggregation/structure.aggregation-panel.config';\n\n\n@Component({\n\tselector: 'gui-structure-blueprint',\n\ttemplateUrl: `structure.blueprint.component.html`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureBlueprintComponent extends SmartComponent {\n\n\tstructure: Structure;\n\n\tsearchEnabled: boolean = false;\n\n\ttopAggregationPanelEnabled: boolean = false;\n\n\tbottomAggregationPanelEnabled: boolean = false;\n\n\tquickFiltersEnabled: boolean = false;\n\n\tinfoPanelEnabled: boolean = false;\n\n\treadonly contentCssClass: string;\n\n\treadonly headerCssClass: string;\n\n\tprivate pagingReadModel: Paging;\n\n\tconstructor(private changeDetectorRef: ChangeDetectorRef,\n\t\t\t\tprivate structureDefinition: StructureDefinition,\n\t\t\t\tprivate structureId: StructureId,\n\t\t\t\tprivate structureQueryService: StructureReadModelService,\n\t\t\t\tprivate pagingQueryService: PagingReadModelService,\n\t\t\t\tprivate structureInfoPanelEnabledArchive: StructureInfoPanelEnabledArchive,\n\t\t\t\tprivate structureAggregationArchive: StructureAggregationArchive,\n\t\t\t\tprivate structureFilterReadModelRepository: StructureFilterReadModelRepository,\n\t\t\t\tprivate structureSearchReadModelRepository: StructureSearchReadModelRepository,\n\t\t\t\t@Inject(STRUCTURE_CSS_CLASS_NAME) private className: string) {\n\t\tsuper();\n\n\t\tthis.headerCssClass = `gui-${this.className}-header`;\n\t\tthis.contentCssClass = `gui-${this.className}-content`;\n\t}\n\n\tngOnInit() {\n\t\tthis.structureQueryService\n\t\t\t.onStructure()\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((structure: Structure) => {\n\t\t\t\tthis.structure = structure;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.pagingQueryService\n\t\t\t.onPaging()\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((paging: Paging) => {\n\t\t\t\tthis.pagingReadModel = paging;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.structureSearchReadModelRepository\n\t\t\t.onSearchEnabled(this.structureId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((enabled: boolean) => {\n\t\t\t\tthis.searchEnabled = enabled;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\n\t\tthis.structureFilterReadModelRepository\n\t\t\t.onQuickFiltersEnabled(this.structureId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((enabled: boolean) => {\n\t\t\t\tthis.quickFiltersEnabled = enabled;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.structureAggregationArchive\n\t\t\t.onValue()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((config: StructureAggregationPanelConfig) => {\n\t\t\t\tthis.topAggregationPanelEnabled = config.itTopEnabled();\n\t\t\t\tthis.bottomAggregationPanelEnabled = config.itBottomEnabled();\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.structureInfoPanelEnabledArchive\n\t\t\t.onValue()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((enabled: boolean) => {\n\t\t\t\tthis.infoPanelEnabled = enabled;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\t}\n\n\tgetHeaderTopClasses(): string {\n\t\treturn this.headerCssClass + ' gui-header-top';\n\t}\n\n\tgetHeaderBottomClasses(): string {\n\t\treturn this.headerCssClass + ' gui-header-bottom';\n\t}\n\n\tisColumnHeaderTopEnabled(): boolean {\n\t\treturn this.structureDefinition.isHeaderEnabled() && this.structure && this.structure.isTopHeaderEnabled();\n\t}\n\n\tisColumnHeaderBottomEnabled(): boolean {\n\t\treturn this.structureDefinition.isHeaderEnabled() && this.structure && this.structure.isBottomHeaderEnabled();\n\t}\n\n\tisPagingTopEnabled(): boolean {\n\t\treturn this.structureDefinition.getTopPaging().isEnabled() && this.pagingReadModel && this.pagingReadModel.isPagerTop();\n\t}\n\n\tisPagingBottomEnabled(): boolean {\n\t\treturn this.structureDefinition.getBottomPaging().isEnabled() && this.pagingReadModel && this.pagingReadModel.isPagerBottom();\n\t}\n\n\tisSourceEmpty(): boolean {\n\t\treturn this.structure && this.structure.getEntities().length === 0;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateStoreRegister, InMemoryAggregateStore } from '@generic-ui/hermes';\n\nimport { StructureAggregate } from '../../../../domain/structure/command/structure.aggregate';\nimport { InMemoryStructureStore } from '../in-memory.structure.store';\n\n\n@Injectable()\nexport class InMemoryStructureAggregateStore extends InMemoryAggregateStore<StructureAggregate> {\n\n\tconstructor(inMemoryStructureStore: InMemoryStructureStore,\n\t\t\t\taggregateStoreRegister: AggregateStoreRegister) {\n\t\tsuper(inMemoryStructureStore, aggregateStoreRegister);\n\t}\n}\n","import { AggregateId } from '@generic-ui/hermes';\n\nimport { StructureAggregate } from './structure.aggregate';\n\nexport abstract class StructureAggregateRepository {\n\n\tabstract getById(aggregateId: AggregateId): StructureAggregate;\n\n\tabstract save(aggregate: StructureAggregate): void;\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateId } from '@generic-ui/hermes';\n\nimport { StructureAggregateRepository } from '../../../../domain/structure/command/structure-aggregate.repository';\nimport { StructureAggregate } from '../../../../domain/structure/command/structure.aggregate';\n\nimport { InMemoryStructureAggregateStore } from './in-memory.structure.aggregate-store';\n\n\n@Injectable()\nexport class InMemoryStructureAggregateRepository extends StructureAggregateRepository {\n\n\tconstructor(private inMemoryStructureAggregateStore: InMemoryStructureAggregateStore) {\n\t\tsuper();\n\t}\n\n\tgetById(aggregateId: AggregateId): StructureAggregate {\n\t\treturn this.inMemoryStructureAggregateStore.getById(aggregateId);\n\t}\n\n\tsave(aggregate: StructureAggregate): void {\n\t\tthis.inMemoryStructureAggregateStore.save(aggregate);\n\t}\n\n}\n","import { AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nexport class SetSourceLoadingEvent extends DomainEvent {\n\n\tconstructor(aggregateId: AggregateId) {\n\t\tsuper(aggregateId, 'SetSourceLoadingEvent');\n\t}\n}\n","import { AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nexport class SchemaSetEvent extends DomainEvent {\n\n\tconstructor(aggregateId: AggregateId) {\n\t\tsuper(aggregateId, 'SchemaSetEvent');\n\t}\n}\n","import { AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nexport class SchemaThemeSetEvent extends DomainEvent {\n\n\tconstructor(aggregateId: AggregateId) {\n\t\tsuper(aggregateId, 'SchemaThemeSetEvent');\n\t}\n}\n","import { AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nexport class SchemaHorizontalGridSetEvent extends DomainEvent {\n\n\tconstructor(aggregateId: AggregateId) {\n\t\tsuper(aggregateId, 'SchemaHorizontalGridSetEvent');\n\t}\n}\n","import { AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nexport class SchemaVerticalGridSetEvent extends DomainEvent {\n\n\tconstructor(aggregateId: AggregateId) {\n\t\tsuper(aggregateId, 'SchemaVerticalGridSetEvent');\n\t}\n}\n","import { AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nexport class SchemaTopHeaderChangedEvent extends DomainEvent {\n\n\tconstructor(aggregateId: AggregateId) {\n\t\tsuper(aggregateId, 'SchemaTopHeaderChangedEvent');\n\t}\n}\n","import { AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nexport class SchemaBottomHeaderChangedEvent extends DomainEvent {\n\n\tconstructor(aggregateId: AggregateId) {\n\t\tsuper(aggregateId, 'SchemaBottomHeaderChangedEvent');\n\t}\n}\n","import { AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nexport class RowColoringSetEvent extends DomainEvent {\n\n\tconstructor(aggregateId: AggregateId) {\n\t\tsuper(aggregateId, 'RowColoringSetEvent');\n\t}\n}\n","import { AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nexport class PagingSetEvent extends DomainEvent {\n\n\tconstructor(aggregateId: AggregateId) {\n\t\tsuper(aggregateId, 'PagingSetEvent');\n\t}\n}\n","import { AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nexport class FormationSetEvent extends DomainEvent {\n\n\tconstructor(aggregateId: AggregateId) {\n\t\tsuper(aggregateId, 'FormationSetEvent');\n\t}\n\n}\n","import { AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nexport class ScrollPositionSetEvent extends DomainEvent {\n\n\tconstructor(aggregateId: AggregateId) {\n\t\tsuper(aggregateId, 'ScrollPositionSetEvent');\n\t}\n}\n","import { AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nimport { OriginItemEntity } from '../origin-item-entity';\n\n\nexport class OriginSetEvent extends DomainEvent {\n\n\tconstructor(aggregateId: AggregateId,\n\t\t\t\tprivate readonly origin: Array<OriginItemEntity>) {\n\t\tsuper(aggregateId, 'OriginSetEvent');\n\t}\n\n\tgetOrigin(): Array<OriginItemEntity> {\n\t\treturn this.origin;\n\t}\n}\n","import { AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nexport class StructureFilterToggledEvent extends DomainEvent {\n\n\tconstructor(aggregateId: AggregateId) {\n\t\tsuper(aggregateId, 'StructureFilterToggledEvent');\n\t}\n\n}\n","import { AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nexport class StructureSearchPhraseSetDomainEvent extends DomainEvent {\n\n\tconstructor(aggregateId: AggregateId) {\n\t\tsuper(aggregateId, 'StructureSearchPhraseSetDomainEvent');\n\t}\n\n}\n","import { Injectable, OnDestroy } from '@angular/core';\nimport { Observable, ReplaySubject, Subject } from 'rxjs';\nimport { filter, map, takeUntil } from 'rxjs/operators';\n\nimport { AggregateId, DomainEvent, DomainEventBus } from '@generic-ui/hermes';\n\nimport { StructureRepository } from '../../../../domain/structure/read/structure.repository';\nimport { Structure } from '../../../../domain/structure/read/structure';\nimport { InMemoryStructureReadStore } from './in-memory-structure.read-store';\nimport { StructureInitedEvent } from '../../../../domain/structure/command/init/structure-inited.event';\nimport { SetSourceLoadingEvent } from '../../../../domain/source/command/loading/set-source-loading.event';\nimport { SchemaSetEvent } from '../../../../domain/schema/command/set/schema-set.event';\nimport { SchemaThemeSetEvent } from '../../../../domain/schema/command/theme/schema-theme-set.event';\nimport { SchemaHorizontalGridSetEvent } from '../../../../domain/schema/command/grid/horizontal/schema-horizontal-grid-set.event';\nimport { SchemaVerticalGridSetEvent } from '../../../../domain/schema/command/grid/vertical/schema-vertical-grid-set.event';\nimport { SchemaTopHeaderChangedEvent } from '../../../../domain/schema/command/column-header/top/schema-top-header-changed.event';\nimport { SchemaBottomHeaderChangedEvent } from '../../../../domain/schema/command/column-header/bottom/schema-bottom-header-changed.event';\nimport { RowColoringSetEvent } from '../../../../domain/schema/command/coloring/set/row-coloring-set.event';\nimport { PagingSetEvent } from '../../../../domain/paging/command/set/paging-set.event';\nimport { PrevPageEvent } from '../../../../domain/paging/command/prev-page/prev-page.event';\nimport { NextPageEvent } from '../../../../domain/paging/command/next-page/next-page.event';\nimport { PagesizeChangedEvent } from '../../../../domain/paging/command/change-pagesize/pagesize-changed.event';\nimport { FormationSetEvent } from '../../../../domain/formation/command/set/formation-set.event';\nimport { SelectedRowToggledEvent } from '../../../../domain/formation/command/toggle/selected-row-toggled.event';\nimport { VerticalScrollEnabledSetEvent } from '../../../../domain/structure/command/vertical-formation/set-enabled/vertical-scroll-enabled-set.event';\nimport { ScrollPositionSetEvent } from '../../../../domain/structure/command/vertical-formation/scroll-position/scroll-position-set.event';\nimport { SortToggledEvent } from '../../../../domain/structure/command/sort/toggle/sort-toggled.event';\nimport { OriginSetEvent } from '../../../../domain/source/command/origin/set-origin/origin-set.event';\nimport { StructureFilterToggledEvent } from '../../../../domain/structure/command/filter/toggle/structure.filter-toggled.event';\nimport { StructureSearchPhraseSetDomainEvent } from '../../../../domain/structure/command/search/set/structure.search-phrase-set.domain-event';\nimport { SortOrderSetEvent } from '../../../../domain/structure/command/sort/order/sort-order-set.event';\nimport { RowHeightSetEvent } from '../../../../domain/structure/command/vertical-formation/set-row-height/row-height-set.event';\n\n\n@Injectable()\nexport class InMemoryStructureRepository extends StructureRepository implements OnDestroy {\n\n\tprivate readonly structureIdToStructure = new Map<string, Structure>();\n\n\tprivate readonly structure$ = new ReplaySubject<Map<string, Structure>>(1);\n\n\tprivate readonly unsubscribe$ = new Subject();\n\n\tconstructor(private domainEventBus: DomainEventBus,\n\t\t\t\tprivate inMemoryStructureQueryStore: InMemoryStructureReadStore) {\n\t\tsuper();\n\n\t\tthis.domainEventBus\n\t\t\t.ofEvent(\n\t\t\t\tStructureInitedEvent,\n\t\t\t\tSetSourceLoadingEvent,\n\t\t\t\tSchemaSetEvent,\n\t\t\t\tSchemaThemeSetEvent,\n\t\t\t\tSchemaHorizontalGridSetEvent,\n\t\t\t\tSchemaVerticalGridSetEvent,\n\t\t\t\tSchemaTopHeaderChangedEvent,\n\t\t\t\tSchemaBottomHeaderChangedEvent,\n\t\t\t\tRowColoringSetEvent,\n\t\t\t\tPagingSetEvent,\n\t\t\t\tPrevPageEvent,\n\t\t\t\tNextPageEvent,\n\t\t\t\tPagesizeChangedEvent,\n\t\t\t\tFormationSetEvent,\n\t\t\t\tSelectedRowToggledEvent,\n\t\t\t\tVerticalScrollEnabledSetEvent,\n\t\t\t\tScrollPositionSetEvent,\n\t\t\t\tSortToggledEvent as any,\n\t\t\t\tStructureFilterToggledEvent,\n\t\t\t\tStructureSearchPhraseSetDomainEvent,\n\t\t\t\tSortOrderSetEvent as any,\n\t\t\t\tOriginSetEvent as any,\n\t\t\t\tRowHeightSetEvent\n\t\t\t)\n\t\t\t.pipe(takeUntil(this.unsubscribe$))\n\t\t\t.subscribe((event: DomainEvent) => {\n\n\t\t\t\tconst aggregateId = event.aggregateId;\n\n\t\t\t\tconst structure = this.inMemoryStructureQueryStore.getById(aggregateId),\n\t\t\t\t\tkey = structure.getId().toString();\n\n\t\t\t\tthis.structureIdToStructure.set(key, structure);\n\n\t\t\t\tthis.structure$.next(this.structureIdToStructure);\n\t\t\t});\n\t}\n\n\tngOnDestroy() {\n\t\tthis.unsubscribe$.next();\n\t\tthis.unsubscribe$.complete();\n\t}\n\n\tonStructure(aggregateId: AggregateId): Observable<Structure> {\n\n\t\treturn this.structure$\n\t\t\t\t   .asObservable()\n\t\t\t\t   .pipe(\n\t\t\t\t\t   filter((structureIdToStructure: Map<string, Structure>) => {\n\n\t\t\t\t\t\t   const key = aggregateId.getId();\n\n\t\t\t\t\t\t   return structureIdToStructure.has(key);\n\t\t\t\t\t   }),\n\t\t\t\t\t   map((structureIdToStructure: Map<string, Structure>) => structureIdToStructure.get(aggregateId.getId()))\n\t\t\t\t   );\n\t}\n\n}\n","import { InMemoryStructureAggregateStore } from './commad/in-memory.structure.aggregate-store';\n\nimport { InMemoryStructureAggregateRepository } from './commad/in-memory.structure-aggregate.repository';\nimport { StructureAggregateRepository } from '../../../domain/structure/command/structure-aggregate.repository';\nimport { InMemoryStructureReadStore } from './read/in-memory-structure.read-store';\nimport { StructureRepository } from '../../../domain/structure/read/structure.repository';\nimport { InMemoryStructureRepository } from './read/in-memory.structure.repository';\nimport { InMemoryStructureStore } from './in-memory.structure.store';\n\nexport const inMemoryStructureCommandProviders = [\n\tInMemoryStructureAggregateStore,\n\t{\n\t\tprovide: StructureAggregateRepository,\n\t\tuseClass: InMemoryStructureAggregateRepository\n\t}\n];\n\nexport const inMemoryStructureReadProviders = [\n\tInMemoryStructureReadStore,\n\t{\n\t\tprovide: StructureRepository,\n\t\tuseClass: InMemoryStructureRepository\n\t}\n];\n\nexport const inMemoryStructureProviders = [\n\tInMemoryStructureStore\n];\n","export class OriginItemEntity {\n\n\tid: string;\n\n\trawData: any;\n\n\tprivate version: number;\n\n\tprivate position: number;\n\n\tconstructor(id: string,\n\t\t\t\trawData: any,\n\t\t\t\tposition: number,\n\t\t\t\tversion: number = 0) {\n\t\tthis.id = id;\n\t\tthis.rawData = rawData;\n\t\tthis.position = position;\n\t\tthis.version = version;\n\t}\n\n\tgetData(): any {\n\t\treturn this.rawData;\n\t}\n\n\tgetVersion(): number {\n\t\treturn this.version;\n\t}\n\n\tgetPosition(): number {\n\t\treturn this.position;\n\t}\n\n\tbumpVersion(): void {\n\t\tthis.version += 1;\n\t}\n\n\tsetPosition(position: number): void {\n\t\tthis.position = position;\n\t}\n\n\tclone(): OriginItemEntity {\n\n\t\tconst rawData = { ...this.rawData };\n\n\t\treturn new OriginItemEntity(this.id, rawData, this.version);\n\t}\n\n}\n","import { AggregateEvent, AggregateId } from '@generic-ui/hermes';\n\nimport { OriginItemEntity } from '../origin-item-entity';\n\nexport class StructureSourceItemEditedAggregateEvent extends AggregateEvent {\n\n\tconstructor(aggregateId: AggregateId,\n\t\t\t\tprivate readonly beforeItem: OriginItemEntity,\n\t\t\t\tprivate readonly afterItem: OriginItemEntity) {\n\t\tsuper(aggregateId, 'StructureSourceItemEditedAggregateEvent');\n\t}\n\n\tgetBeforeItem(): OriginItemEntity {\n\t\treturn this.beforeItem;\n\t}\n\n\tgetAfterItem(): OriginItemEntity {\n\t\treturn this.afterItem;\n\t}\n}\n","import { AggregateEvent, AggregateId } from '@generic-ui/hermes';\n\nimport { OriginItemEntity } from './origin-item-entity';\n\nexport class StructureOriginChangedAggregateEvent extends AggregateEvent {\n\n\tconstructor(aggregateId: AggregateId,\n\t\t\t\tprivate readonly origin: Array<OriginItemEntity>) {\n\t\tsuper(aggregateId, 'StructureOriginChangedAggregateEvent');\n\t}\n\n\tgetOrigin(): Array<OriginItemEntity> {\n\t\treturn this.origin;\n\t}\n}\n","import { AggregateEvent, RandomStringGenerator } from '@generic-ui/hermes';\n\nimport { OriginItemEntity } from './origin/origin-item-entity';\nimport { StructureId } from '../../structure-id';\nimport { Field } from '../../structure/command/field/data-type/field';\nimport { StructureSourceItemEditedAggregateEvent } from './origin/edit/structure.source-item-edited.aggregate-event';\nimport { StructureOriginChangedAggregateEvent } from './origin/structure.origin-changed.aggregate-event';\n\n\nexport class SourceManager {\n\n\tprivate loading: boolean = false;\n\n\tprivate fetched: boolean = false;\n\n\tprivate origin: Array<OriginItemEntity>;\n\n\tprivate entities: Array<OriginItemEntity> = [];\n\n\t// Entities after filtering, searching\n\tprivate preparedEntities: Array<OriginItemEntity> = [];\n\n\tprivate slicedEntities: Array<OriginItemEntity> = [];\n\n\tisLoading(): boolean {\n\t\treturn this.loading;\n\t}\n\n\tisFetched(): boolean {\n\t\treturn this.fetched;\n\t}\n\n\tsetLoading(enabled: boolean): void {\n\t\tthis.loading = enabled;\n\t}\n\n\tsetEntities(ent: Array<OriginItemEntity>): void {\n\t\tthis.entities = ent;\n\t\tthis.recalculatePositions();\n\t}\n\n\tgetEntities(): Array<OriginItemEntity> {\n\t\treturn this.entities;\n\t}\n\n\tsetPreparedEntities(): void {\n\t\tthis.preparedEntities = [...this.entities];\n\t}\n\n\tgetPreparedEntities(): Array<OriginItemEntity> {\n\t\treturn this.preparedEntities;\n\t}\n\n\tsetSlicedEntities(ent: Array<OriginItemEntity>) {\n\t\tthis.slicedEntities = ent;\n\t}\n\n\tgetSlicedEntities(): Array<OriginItemEntity> {\n\t\treturn this.slicedEntities;\n\t}\n\n\tsetOrigin(items: Array<any> = [], structureId: StructureId): AggregateEvent {\n\t\tthis.origin = this.convertItems(items);\n\n\t\treturn this.createOriginChangedEvent(structureId);\n\t}\n\n\tsetConvertedOrigin(items: Array<any> = [], structureId: StructureId): AggregateEvent {\n\t\tthis.origin = items;\n\n\t\treturn this.createOriginChangedEvent(structureId);\n\t}\n\n\tgetOrigin(): Array<OriginItemEntity> {\n\t\treturn this.origin;\n\t}\n\n\tgetOriginSize(): number {\n\t\treturn this.origin.length;\n\t}\n\n\t// editOriginItemByProperty(byField, value: any, field: Field, structureId: StructureId): AggregateEvent {\n\t//\n\t// }\n\n\teditOriginItem(itemId: string, value: any, field: Field, structureId: StructureId): ReadonlyArray<AggregateEvent> {\n\n\t\tconst item: OriginItemEntity = this.findOriginItem(itemId),\n\t\t\titemBeforeChange = item.clone();\n\n\t\tif (item) {\n\t\t\titem.rawData[field.getAccessor()] = value;\n\t\t\titem.bumpVersion();\n\t\t}\n\n\t\treturn [\n\t\t\tnew StructureSourceItemEditedAggregateEvent(structureId, itemBeforeChange, item.clone()),\n\t\t\tthis.createOriginChangedEvent(structureId)\n\t\t];\n\t}\n\n\tremoveOriginItem(itemId: string, structureId: StructureId): Array<AggregateEvent> {\n\n\t\tconst index = this.findOriginItemIndex(itemId);\n\n\t\tif (index > -1) {\n\n\t\t\tthis.origin.splice(index, 1);\n\n\t\t\treturn [this.createOriginChangedEvent(structureId)];\n\t\t}\n\n\t\treturn [];\n\t}\n\n\tprivate convertItems(items: Array<any>): Array<OriginItemEntity> {\n\t\treturn items.map((item: any, index: number) => {\n\t\t\treturn new OriginItemEntity(RandomStringGenerator.generate(), item, index);\n\t\t});\n\t}\n\n\tprivate createOriginChangedEvent(structureId: StructureId): AggregateEvent {\n\t\treturn new StructureOriginChangedAggregateEvent(structureId, this.origin);\n\t}\n\n\tprivate findOriginItem(itemId: string): OriginItemEntity {\n\t\treturn this.origin.find((item: OriginItemEntity) => item.id === itemId);\n\t}\n\n\tprivate findOriginItemIndex(itemId: string): number {\n\t\treturn this.origin.findIndex((item: OriginItemEntity) => item.id === itemId);\n\t}\n\n\tprivate recalculatePositions(): void {\n\t\tthis.entities.forEach((ent: OriginItemEntity, index: number) => {\n\t\t\tent.setPosition(index);\n\t\t});\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { SourceManager } from './source.manager';\n\n\n@Injectable()\nexport class SourceManagerFactory {\n\n\tcreateDefault(): SourceManager {\n\t\treturn new SourceManager();\n\t}\n\n\tcreate(): SourceManager {\n\t\treturn new SourceManager();\n\t}\n\n}\n","export class VerticalRange {\n\n\tconstructor(private readonly start: number,\n\t\t\t\tprivate readonly end: number) {\n\t}\n\n\tgetStart(): number {\n\t\treturn this.start;\n\t}\n\n\tgetEnd(): number {\n\t\treturn this.end;\n\t}\n\n}\n","import { VerticalRange } from './vertical-range';\nimport { Logger } from '../../../../../../common/cdk/logger/logger';\n\nexport class VerticalFormation {\n\n\tprivate rowHeight: number = 30;\n\n\tprivate hiddenItemsTop = 0;\n\n\tprivate hiddenItemsBottom = 1;\n\n\tprivate viewportHeight: number;\n\n\tprivate scrollPosition: number;\n\n\tprivate range: VerticalRange;\n\n\tprivate sourceSize: number;\n\n\tprivate logger: Logger;\n\n\tconstructor(private enabled: boolean = false,\n\t\t\t\tviewportHeight: number = 0,\n\t\t\t\tsourceSize: number = 0,\n\t\t\t\tscrollPosition: number = 0,\n\t\t\t\trowHeight?: number,\n\t\t\t\thiddenItemsTop?: number,\n\t\t\t\thiddenItemsBottom?: number) {\n\t\tthis.viewportHeight = viewportHeight;\n\t\tthis.sourceSize = sourceSize;\n\t\tthis.scrollPosition = scrollPosition;\n\n\t\tif (Number.isInteger(rowHeight)) {\n\t\t\tthis.rowHeight = rowHeight;\n\t\t}\n\n\t\tif (Number.isInteger(hiddenItemsTop)) {\n\t\t\tthis.hiddenItemsTop = hiddenItemsTop;\n\t\t}\n\n\t\tif (Number.isInteger(hiddenItemsBottom)) {\n\t\t\tthis.hiddenItemsBottom = hiddenItemsBottom;\n\t\t}\n\n\t\tthis.calculateRange();\n\t}\n\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled &&\n\t\t\tthis.viewportHeight > 0 &&\n\t\t\tthis.sourceSize > 0;\n\t}\n\n\tgetRowHeight(): number {\n\t\treturn this.rowHeight;\n\t}\n\n\tgetRange(): VerticalRange {\n\t\treturn this.range;\n\t}\n\n\tgetTopMargin(): number {\n\t\treturn this.range.getStart() * this.rowHeight;\n\t}\n\n\tcalculateRange(): any {\n\n\t\tif (this.calcFullHeight() <= this.viewportHeight) {\n\t\t\tthis.range = new VerticalRange(0, this.sourceSize);\n\t\t\treturn;\n\t\t}\n\n\t\tconst itemsInViewport = Math.floor(this.viewportHeight / this.rowHeight);\n\n\t\tconst hiddenElements = Math.floor(this.scrollPosition / this.rowHeight);\n\n\t\tconst topMargin = Math.abs(hiddenElements - this.hiddenItemsTop) * this.rowHeight;\n\n\t\tlet start = (hiddenElements - this.hiddenItemsTop);\n\n\t\tconst viewportElements = Math.ceil(this.viewportHeight / this.rowHeight);\n\n\t\tlet end = start + viewportElements + this.hiddenItemsBottom;\n\n\t\tif (end > this.sourceSize) {\n\t\t\tend = this.sourceSize;\n\t\t\tstart = end - itemsInViewport;\n\t\t}\n\n\t\tthis.range = new VerticalRange(start, end);\n\n\t\treturn {\n\t\t\tstart,\n\t\t\tend,\n\t\t\ttopMargin\n\t\t};\n\t}\n\n\tsetEnabled(enabled: boolean): void {\n\t\tthis.enabled = enabled;\n\n\t\t// TODO dispatch aggregate event\n\t\tif (this.enabled && this.viewportHeight === 0) {\n\t\t\tthis.logger.warn('Height needs to be specified in order for virtual scroll to work.');\n\t\t}\n\n\t\tthis.calculateRange();\n\t}\n\n\tsetSourceSize(sourceSize: number = 0): void {\n\t\tthis.sourceSize = sourceSize;\n\t\tthis.calculateRange();\n\t}\n\n\tsetTopHiddenItemsCount(count: number): void {\n\t\tthis.hiddenItemsTop = count;\n\t\tthis.calculateRange();\n\t}\n\n\tsetBottomHiddenItemsCount(count: number): void {\n\t\tthis.hiddenItemsBottom = count;\n\t\tthis.calculateRange();\n\t}\n\n\tsetScrollPosition(scrollPosition: number): void {\n\t\tthis.scrollPosition = scrollPosition;\n\t\tthis.calculateRange();\n\t}\n\n\tsetViewportHeight(height: number): void {\n\t\tthis.viewportHeight = height;\n\t\tthis.calculateRange();\n\t}\n\n\tsetRowHeight(height: number): void {\n\t\tthis.rowHeight = height;\n\t\tthis.calculateRange();\n\t}\n\n\tsetLogger(logger: Logger): void {\n\t\tthis.logger = logger;\n\t}\n\n\tcalcFullHeight(): number {\n\t\treturn this.sourceSize * this.rowHeight;\n\t}\n\n\tgetViewPortHeight(): number {\n\t\treturn this.viewportHeight;\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { Logger } from '../../../../../../common/cdk/logger/logger';\nimport { VerticalFormation } from './vertical-formation';\n\n\n@Injectable()\nexport class VerticalFormationFactory {\n\n\tconstructor(private logger: Logger) {\n\t}\n\n\tcreate(enabled: boolean = false,\n\t\t   viewportHeight: number = 0,\n\t\t   sourceSize: number = 0,\n\t\t   scrollPosition: number = 0,\n\t\t   rowHeight?: number,\n\t\t   hiddenItemsTop?: number,\n\t\t   hiddenItemsBottom?: number): VerticalFormation {\n\n\t\tconst vf = new VerticalFormation(\n\t\t\tenabled,\n\t\t\tviewportHeight,\n\t\t\tsourceSize,\n\t\t\tscrollPosition,\n\t\t\trowHeight,\n\t\t\thiddenItemsTop,\n\t\t\thiddenItemsBottom\n\t\t);\n\n\t\tvf.setLogger(this.logger);\n\n\t\treturn vf;\n\t}\n\n}\n","export const AGGREGATION_CALCULATORS = 'GUI - Aggregation Calculators';\n","import { AggregateEvent, AggregateId } from '@generic-ui/hermes';\nimport { AggregatedValues } from './calculation/aggregated.values';\n\n\nexport class StructureAggregationsChangedAggregateEvent extends AggregateEvent {\n\n\tconstructor(aggregateId: AggregateId,\n\t\t\t\tprivate readonly aggregatedValues: Map<string, AggregatedValues>) {\n\t\tsuper(aggregateId, 'StructureAggregationsChangedAggregateEvent');\n\t}\n\n\tgetAggregations(): Map<string, AggregatedValues> {\n\t\treturn this.aggregatedValues;\n\t}\n}\n","import { AggregateEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../structure-id';\nimport { FieldId } from '../field/data-type/field.id';\nimport { AggregationCalculator } from './calculation/aggregation.calculator';\nimport { Field } from '../field/data-type/field';\nimport { OriginItemEntity } from '../../../source/command/origin/origin-item-entity';\nimport { StructureAggregationsChangedAggregateEvent } from './structure.aggregations-changed.aggregate-event';\n\n\nexport class AggregationManager {\n\n\tprivate readonly structureId: StructureId;\n\n\tprivate enabled: boolean = false;\n\n\tprivate readonly values = new Map<FieldId, any>();\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly calculators: Array<AggregationCalculator<any, any>>) {\n\t\tthis.structureId = structureId;\n\t}\n\n\tcalculate(fields: Array<Field>, entities: Array<OriginItemEntity>): Array<AggregateEvent> {\n\n\t\tif (!this.enabled) {\n\t\t\treturn [];\n\t\t}\n\n\t\tconst calculations = new Map();\n\n\t\tthis.calculators.forEach((calc: AggregationCalculator<any, any>) => {\n\n\t\t\tconst aggregatedValues = calc.calculate(fields, entities);\n\n\t\t\tif (aggregatedValues) {\n\t\t\t\tArray.from(aggregatedValues.keys())\n\t\t\t\t\t .forEach((key: any) => {\n\t\t\t\t\t\t calculations.set(key, aggregatedValues.get(key));\n\t\t\t\t\t });\n\t\t\t}\n\t\t});\n\n\t\tif (calculations.size > 0) {\n\t\t\treturn [\n\t\t\t\tnew StructureAggregationsChangedAggregateEvent(this.structureId, calculations)\n\t\t\t];\n\t\t} else {\n\t\t\treturn [];\n\t\t}\n\n\t}\n\n\tsetEnabled(enabled: boolean): void {\n\t\tthis.enabled = enabled;\n\t}\n\n\tadd() {\n\t}\n\n\tremove() {\n\t}\n\n\tupdate() {\n\t}\n\n}\n","import { Inject, Injectable } from '@angular/core';\n\nimport { AGGREGATION_CALCULATORS } from './calculation/aggregation.calculators.token';\nimport { AggregationCalculator } from './calculation/aggregation.calculator';\nimport { StructureId } from '../../../structure-id';\nimport { AggregationManager } from './aggregation.manager';\n\n\n@Injectable()\nexport class AggregationManagerFactory {\n\n\tconstructor(@Inject(AGGREGATION_CALCULATORS) private calculators: Array<AggregationCalculator<any, any>>) {\n\t}\n\n\tcreate(structureId: StructureId): AggregationManager {\n\t\treturn new AggregationManager(structureId, this.calculators);\n\t}\n\n}\n","import { FilterId } from './filter.id';\nimport { Field } from '../field/data-type/field';\nimport { FieldId } from '../field/data-type/field.id';\nimport { OriginItemEntity } from '../../../source/command/origin/origin-item-entity';\nimport { DataType } from '../field/data-type/data-type';\n\nexport class StructureFilter {\n\n\tprivate readonly filterId: FilterId;\n\n\tprivate field: Field;\n\n\tprivate filterValue: any;\n\n\tconstructor(id: FilterId,\n\t\t\t\tfield: Field,\n\t\t\t\tfilterValue: any) {\n\t\tthis.filterId = id;\n\t\tthis.field = field;\n\t\tthis.filterValue = filterValue;\n\t}\n\n\tgetFieldId(): FieldId {\n\t\treturn this.field.getId();\n\t}\n\n\tgetFilterValue(): any {\n\t\treturn this.filterValue;\n\t}\n\n\tsetFilterValue(filterValue: any): void {\n\t\tthis.filterValue = filterValue;\n\t}\n\n\t// Move to container\n\tfilter(entities: Array<OriginItemEntity>): Array<OriginItemEntity> {\n\n\t\tif (entities.length === 0) {\n\t\t\treturn entities;\n\t\t}\n\n\t\treturn entities.filter((item: OriginItemEntity) => {\n\n\t\t\tif (this.field.getDataType() === DataType.STRING) {\n\t\t\t\treturn this.filterString(item);\n\t\t\t} else if (this.field.getDataType() === DataType.NUMBER) {\n\t\t\t\treturn this.filterNumber(item);\n\t\t\t} else if (this.field.getDataType() === DataType.BOOLEAN) {\n\t\t\t\treturn this.filterBoolean(item);\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t});\n\t}\n\n\tprivate filterString(item: OriginItemEntity): boolean {\n\t\tconst value = this.field.getValue(item);\n\n\t\tif (typeof value === 'string') {\n\t\t\treturn value.toLowerCase().indexOf(this.filterValue.toLowerCase()) > -1;\n\t\t} else {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\tprivate filterNumber(item: OriginItemEntity): boolean {\n\t\tconst numberValue = this.field.getValue(item);\n\n\t\treturn numberValue > this.filterValue;\n\t}\n\n\tprivate filterBoolean(item: OriginItemEntity): boolean {\n\t\tconst booleanValue = this.field.getValue(item);\n\n\t\treturn booleanValue === this.filterValue;\n\t}\n\n}\n","import { Field } from '../field/data-type/field';\n\nexport class FilterId {\n\n\tprivate readonly id: string;\n\n\tconstructor(field: Field,\n\t\t\t\tfilterId: string) {\n\n\t\tconst fieldId = field.getId().toString();\n\n\t\tthis.id = fieldId + '@' + filterId;\n\t}\n\n\tgetId(): string {\n\t\treturn this.id;\n\t}\n}\n","import { FilterConfig } from '../../../../ui-api/structure/filter/filter-config';\nimport { SearchConfig } from '../../../../ui-api/structure/search/search-config';\nimport { QuickFiltersConfig } from '../../../../ui-api/structure/filter/quick-filters.config';\n\nexport class FilterSettings {\n\n\tprivate filteringEnabled: boolean = false;\n\n\tprivate searchEnabled: boolean = false;\n\n\tprivate quickFiltersEnabled: boolean = false;\n\n\tconstructor(filteringEnabled: boolean = false,\n\t\t\t\tsearchEnabled: boolean = false,\n\t\t\t\tquickFiltersEnabled: boolean = false) {\n\t\tthis.filteringEnabled = filteringEnabled;\n\t\tthis.searchEnabled = searchEnabled;\n\t\tthis.quickFiltersEnabled = quickFiltersEnabled;\n\t}\n\n\tisFilteringEnabled(): boolean {\n\t\treturn this.filteringEnabled;\n\t}\n\n\tisQuickFilteringEnabled(): boolean {\n\t\treturn this.quickFiltersEnabled;\n\t}\n\n\tisSearchingEnabled(): boolean {\n\t\treturn this.searchEnabled;\n\t}\n\n\tsetFilterConfig(config: FilterConfig): void {\n\t\tif (config && config.enabled !== undefined && config.enabled !== null) {\n\t\t\tthis.filteringEnabled = config.enabled;\n\t\t}\n\t}\n\n\tsetSearchingConfig(config: SearchConfig): void {\n\t\tif (config && config.enabled !== undefined && config.enabled !== null) {\n\t\t\tthis.searchEnabled = config.enabled;\n\t\t}\n\t}\n\n\tsetQuickFiltersConfig(config: QuickFiltersConfig): void {\n\t\tif (config && config.enabled !== undefined && config.enabled !== null) {\n\t\t\tthis.quickFiltersEnabled = config.enabled;\n\t\t}\n\t}\n\n}\n","import { StructureFilter } from './structure.filter';\nimport { Field } from '../field/data-type/field';\nimport { FilterId } from './filter.id';\nimport { OriginItemEntity } from '../../../source/command/origin/origin-item-entity';\nimport { FilterSettings } from './filter.settings';\n\n\nexport class FilterManager {\n\n\tprivate readonly filterSettings = new FilterSettings();\n\n\tprivate readonly filters = new Map<string, StructureFilter>();\n\n\tgetAll(): Array<StructureFilter> {\n\t\treturn Array.from(this.filters)\n\t\t\t\t\t.map((arr) => arr[1]);\n\t}\n\n\tgetSettings(): FilterSettings {\n\t\treturn this.filterSettings;\n\t}\n\n\taddFilter(field: Field, externalFilterId: string, filterValue: string): void {\n\n\t\tconst filterId = new FilterId(field, externalFilterId),\n\t\t\tfilter = new StructureFilter(filterId, field, filterValue);\n\n\t\tif (filterValue === '') {\n\t\t\tthis.filters.delete(filterId.getId());\n\t\t} else {\n\t\t\tthis.filters.set(filterId.getId(), filter);\n\t\t}\n\t}\n\n\tfilter(entities: Array<OriginItemEntity>): Array<OriginItemEntity> {\n\t\tconst filters = this.getAll();\n\n\t\tlet filteredEntities = [...entities];\n\n\t\tfor (let filter of filters) {\n\t\t\tfilteredEntities = filter.filter(filteredEntities);\n\t\t}\n\n\t\treturn filteredEntities;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { FilterManager } from './filter.manager';\n\n\n@Injectable()\nexport class FilterManagerFactory {\n\n\tcreate(enabled: boolean = false): FilterManager {\n\t\treturn new FilterManager();\n\t}\n}\n","import { RandomStringGenerator } from '@generic-ui/hermes';\n\nimport { FieldId } from './data-type/field.id';\n\nexport class FieldIdGenerator {\n\n\tgenerateId(): FieldId {\n\n\t\tconst id = RandomStringGenerator.generate();\n\t\treturn new FieldId(id);\n\t}\n\n}\n","import { FieldId } from './field.id';\nimport { DataType } from './data-type';\nimport { OriginItemEntity } from '../../../../source/command/origin/origin-item-entity';\nimport { AggregationType } from '../../aggregation/aggregation.type';\nimport { ColumnAggregationConfig } from '../../../../../../composition/domain/column-aggregation.config';\n\nexport abstract class Field {\n\n\tprivate readonly id: FieldId;\n\n\t// TODO\n\tprivate readonly accessor: string | any; //(rawData: any) => any;\n\n\tprivate readonly dataType: DataType;\n\n\tprivate readonly accessorMethod: (entity: OriginItemEntity) => any;\n\n\tprivate aggregationEnabled: boolean = true;\n\n\tprivate aggregations: AggregationType;\n\n\tprivate readonly possibleAggregations: AggregationType;\n\n\tprotected constructor(id: FieldId,\n\t\t\t\t\t\t  accessor: any,\n\t\t\t\t\t\t  dataType: DataType,\n\t\t\t\t\t\t  aggregationConfig?: ColumnAggregationConfig) {\n\t\tthis.id = id;\n\t\tthis.accessor = accessor;\n\t\tthis.dataType = dataType;\n\n\t\tif (typeof accessor === 'string') {\n\t\t\tthis.accessorMethod = (entity: OriginItemEntity) => entity.getData()[accessor];\n\t\t} else if (typeof accessor === 'function') {\n\t\t\tthis.accessorMethod = (entity: OriginItemEntity) => accessor(entity.getData());\n\t\t}\n\n\t\tthis.possibleAggregations = this.assignPossibleAggregations();\n\n\t\tthis.assignAggregations(aggregationConfig);\n\t}\n\n\tabstract assignDefaultAggregations(): AggregationType;\n\n\tabstract assignPossibleAggregations(): AggregationType;\n\n\tgetId(): FieldId {\n\t\treturn this.id;\n\t}\n\n\tgetKey(): string {\n\t\treturn this.getId().getId();\n\t}\n\n\tgetDataType(): DataType {\n\t\treturn this.dataType;\n\t}\n\n\tgetAccessor(): string {\n\t\treturn this.accessor;\n\t}\n\n\tgetAccessorMethod(): (entity: OriginItemEntity) => any {\n\t\treturn this.accessorMethod;\n\t}\n\n\tgetValue(entity: OriginItemEntity): any {\n\t\treturn this.accessorMethod(entity);\n\t}\n\n\tisAggregation(type: AggregationType): boolean {\n\n\t\tif (!this.isAggregationEnabled()) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn !!(this.aggregations & type);\n\t}\n\n\tisAggregationEnabled(): boolean {\n\t\treturn this.aggregationEnabled;\n\t}\n\n\tsetAggregationEnabled(enabled: boolean): void {\n\t\tthis.aggregationEnabled = enabled;\n\t}\n\n\tprivate assignAggregations(aggregationConfig: ColumnAggregationConfig): void {\n\n\t\tif (!!aggregationConfig && Object.keys(aggregationConfig).length !== 0) {\n\n\t\t\tif (aggregationConfig.enabled) {\n\t\t\t\tthis.aggregationEnabled = !!aggregationConfig.enabled;\n\t\t\t}\n\n\t\t\tif (aggregationConfig.aggregationTypes) {\n\n\t\t\t\tthis.aggregations = 0;\n\n\t\t\t\taggregationConfig.aggregationTypes.forEach((t) => {\n\t\t\t\t\tthis.aggregations |= t;\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.aggregations = this.assignDefaultAggregations();\n\t\t\t}\n\t\t} else {\n\t\t\tthis.aggregations = this.assignDefaultAggregations();\n\t\t}\n\t}\n\n}\n","import { Field } from '../field';\nimport { FieldId } from '../field.id';\nimport { ColumnAggregationConfig } from '../../../../../../../composition/domain/column-aggregation.config';\nimport { DataType } from '../data-type';\nimport { AggregationType } from '../../../aggregation/aggregation.type';\n\n\nexport class UnknownField extends Field {\n\n\tconstructor(id: FieldId,\n\t\t\t\taccessor: any,\n\t\t\t\taggregationConfig?: ColumnAggregationConfig) {\n\t\tsuper(id,\n\t\t\taccessor,\n\t\t\tDataType.UNKNOWN,\n\t\t\taggregationConfig);\n\t}\n\n\tassignDefaultAggregations(): AggregationType {\n\t\treturn 0;\n\t\t// return AggregationType.COUNT |\n\t\t// \tAggregationType.DISTINCT;\n\t}\n\n\tassignPossibleAggregations(): AggregationType {\n\t\treturn AggregationType.COUNT |\n\t\t\tAggregationType.DISTINCT;\n\t}\n\n}\n","import { Field } from '../field';\nimport { FieldId } from '../field.id';\nimport { ColumnAggregationConfig } from '../../../../../../../composition/domain/column-aggregation.config';\nimport { DataType } from '../data-type';\nimport { AggregationType } from '../../../aggregation/aggregation.type';\n\n\nexport class NumberField extends Field {\n\n\tconstructor(id: FieldId,\n\t\t\t\taccessor: any,\n\t\t\t\taggregationConfig?: ColumnAggregationConfig) {\n\t\tsuper(id,\n\t\t\taccessor,\n\t\t\tDataType.NUMBER,\n\t\t\taggregationConfig);\n\t}\n\n\tassignDefaultAggregations(): AggregationType {\n\t\treturn 0;\n\t\t// return AggregationType.COUNT |\n\t\t// \tAggregationType.DISTINCT |\n\t\t// \tAggregationType.SUM |\n\t\t// \tAggregationType.MIN |\n\t\t// \tAggregationType.MAX |\n\t\t// \tAggregationType.AVERAGE |\n\t\t// \tAggregationType.MEDIAN;\n\t}\n\n\tassignPossibleAggregations(): AggregationType {\n\t\treturn AggregationType.COUNT |\n\t\t\tAggregationType.DISTINCT |\n\t\t\tAggregationType.SUM |\n\t\t\tAggregationType.MIN |\n\t\t\tAggregationType.MAX |\n\t\t\tAggregationType.AVERAGE |\n\t\t\tAggregationType.MEDIAN;\n\t}\n\n}\n","import { Field } from '../field';\nimport { FieldId } from '../field.id';\nimport { ColumnAggregationConfig } from '../../../../../../../composition/domain/column-aggregation.config';\nimport { DataType } from '../data-type';\nimport { AggregationType } from '../../../aggregation/aggregation.type';\n\n\nexport class StringField extends Field {\n\n\tconstructor(id: FieldId,\n\t\t\t\taccessor: any,\n\t\t\t\taggregationConfig?: ColumnAggregationConfig) {\n\t\tsuper(id,\n\t\t\taccessor,\n\t\t\tDataType.STRING,\n\t\t\taggregationConfig);\n\t}\n\n\tassignDefaultAggregations(): AggregationType {\n\t\treturn 0;\n\t\t// return AggregationType.COUNT |\n\t\t// \tAggregationType.DISTINCT;\n\t}\n\n\tassignPossibleAggregations(): AggregationType {\n\t\treturn AggregationType.COUNT |\n\t\t\tAggregationType.DISTINCT;\n\t}\n\n}\n","import { Field } from '../field';\nimport { FieldId } from '../field.id';\nimport { ColumnAggregationConfig } from '../../../../../../../composition/domain/column-aggregation.config';\nimport { DataType } from '../data-type';\nimport { AggregationType } from '../../../aggregation/aggregation.type';\n\n\nexport class BooleanField extends Field {\n\n\tconstructor(id: FieldId,\n\t\t\t\taccessor: any,\n\t\t\t\taggregationConfig?: ColumnAggregationConfig) {\n\t\tsuper(id,\n\t\t\taccessor,\n\t\t\tDataType.BOOLEAN,\n\t\t\taggregationConfig);\n\t}\n\n\tassignDefaultAggregations(): AggregationType {\n\t\treturn 0;\n\t\t// return AggregationType.COUNT |\n\t\t// \tAggregationType.DISTINCT |\n\t\t// \tAggregationType.TRUTHY |\n\t\t// \tAggregationType.FALSY;\n\t}\n\n\tassignPossibleAggregations(): AggregationType {\n\t\treturn AggregationType.COUNT |\n\t\t\tAggregationType.DISTINCT |\n\t\t\tAggregationType.TRUTHY |\n\t\t\tAggregationType.FALSY;\n\t}\n\n}\n","import { Field } from '../field';\nimport { FieldId } from '../field.id';\nimport { ColumnAggregationConfig } from '../../../../../../../composition/domain/column-aggregation.config';\nimport { DataType } from '../data-type';\nimport { AggregationType } from '../../../aggregation/aggregation.type';\n\n\nexport class DateField extends Field {\n\n\tconstructor(id: FieldId,\n\t\t\t\taccessor: any,\n\t\t\t\taggregationConfig?: ColumnAggregationConfig) {\n\t\tsuper(id,\n\t\t\taccessor,\n\t\t\tDataType.DATE,\n\t\t\taggregationConfig);\n\t}\n\n\tassignDefaultAggregations(): AggregationType {\n\t\treturn 0;\n\t\t// return AggregationType.COUNT |\n\t\t// \tAggregationType.DISTINCT;\n\t}\n\n\tassignPossibleAggregations(): AggregationType {\n\t\treturn AggregationType.COUNT |\n\t\t\tAggregationType.DISTINCT;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { FieldIdGenerator } from '../field-id.generator';\nimport { ColumnConfig } from '../../../../../../composition/domain/column.config';\nimport { Field } from './field';\nimport { DataType } from './data-type';\nimport { UnknownField } from './fields/unknown-field';\nimport { NumberField } from './fields/number-field';\nimport { StringField } from './fields/string-field';\nimport { BooleanField } from './fields/boolean-field';\nimport { DateField } from './fields/date-field';\n\n\n@Injectable()\nexport class FieldFactory {\n\n\tconstructor(private readonly fieldIdGenerator: FieldIdGenerator) {\n\t}\n\n\tcreate(column: ColumnConfig): Field {\n\n\t\tlet columnType = column.type;\n\n\t\tif (columnType === undefined) {\n\t\t\tcolumnType = DataType.STRING;\n\t\t}\n\n\t\tif (columnType === DataType.UNKNOWN) {\n\t\t\treturn new UnknownField(this.fieldIdGenerator.generateId(), column.field as string, column.aggregation);\n\t\t}\n\n\t\tif (columnType === DataType.NUMBER) {\n\t\t\treturn new NumberField(this.fieldIdGenerator.generateId(), column.field as string, column.aggregation);\n\t\t}\n\n\t\tif (columnType === DataType.STRING) {\n\t\t\treturn new StringField(this.fieldIdGenerator.generateId(), column.field as string);\n\t\t}\n\n\t\tif (columnType === DataType.BOOLEAN) {\n\t\t\treturn new BooleanField(this.fieldIdGenerator.generateId(), column.field as string);\n\t\t}\n\n\t\tif (columnType === DataType.DATE) {\n\t\t\treturn new DateField(this.fieldIdGenerator.generateId(), column.field as string);\n\t\t}\n\n\t}\n\n\n}\n","import { Field } from './data-type/field';\nimport { FieldFactory } from './data-type/field.factory';\nimport { FieldId } from './data-type/field.id';\nimport { ColumnConfig } from '../../../../../composition/domain/column.config';\n\n\nexport class FieldCollection {\n\n\tprivate readonly fields = new Map<string, Field>();\n\n\tconstructor(private readonly fieldFactory: FieldFactory) {\n\t}\n\n\tgetField(fieldId: FieldId): Field {\n\n\t\tif (fieldId === null) {\n\t\t\treturn this.getAllFields()[0];\n\t\t}\n\n\t\treturn this.fields.get(fieldId.getId());\n\t}\n\n\tgetAllFieldIds(): Array<string> {\n\t\treturn Array.from(this.fields.keys());\n\t}\n\n\tgetAllFields(): Array<Field> {\n\t\treturn Array.from(this.fields.values());\n\t}\n\n\tinitFields(columns: Array<ColumnConfig>): void {\n\n\t\tif (!columns) {\n\t\t\treturn;\n\t\t}\n\n\t\tcolumns.forEach((column: ColumnConfig) => {\n\n\t\t\tconst field = this.fieldFactory.create(column);\n\n\t\t\tthis.addField(field);\n\t\t});\n\t}\n\n\taddFields(fields: Array<Field>): void {\n\t\tfor (let field of fields) {\n\t\t\tthis.addField(field);\n\t\t}\n\t}\n\n\tprivate addField(field: Field): void {\n\t\tthis.fields.set(field.getId().toString(), field);\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { FieldFactory } from './data-type/field.factory';\nimport { FieldCollection } from './field.collection';\n\n\n@Injectable()\nexport class FieldCollectionFactory {\n\n\tconstructor(private fieldFactory: FieldFactory) {\n\t}\n\n\tcreate(): FieldCollection {\n\t\treturn new FieldCollection(this.fieldFactory);\n\t}\n\n}\n","import { SorterId } from './sorter.id';\nimport { Field } from '../field/data-type/field';\nimport { OriginItemEntity } from '../../../source/command/origin/origin-item-entity';\nimport { DataType } from '../field/data-type/data-type';\n\nexport class StructureSorter {\n\n\tprivate readonly sorterId: SorterId;\n\n\tprivate columnId: string;\n\n\tprivate field: Field;\n\n\tprivate rank: number = 1;\n\n\tprivate direction: boolean;\n\n\tconstructor(id: SorterId,\n\t\t\t\tfield: Field,\n\t\t\t\tdirection: boolean = true) {\n\t\tthis.sorterId = id;\n\t\tthis.field = field;\n\t\tthis.direction = direction;\n\t}\n\n\tgetId(): SorterId {\n\t\treturn this.sorterId;\n\t}\n\n\tgetRank(): number {\n\t\treturn this.rank;\n\t}\n\n\tgetField(): Field {\n\t\treturn this.field;\n\t}\n\n\thasDirection(): boolean {\n\t\treturn this.direction;\n\t}\n\n\tchangeDirection(): void {\n\t\tthis.direction = !this.direction;\n\t}\n\n\tsetDirection(direction: boolean): void {\n\t\tthis.direction = direction;\n\t}\n\n\tsort(entities: Array<OriginItemEntity>): Array<OriginItemEntity> {\n\n\t\tif (entities.length === 0) {\n\t\t\treturn entities;\n\t\t}\n\n\t\treturn entities.sort((entityOne: OriginItemEntity, entityTwo: OriginItemEntity) => {\n\n\t\t\tlet valueOne = this.direction ? this.field.getValue(entityOne) : this.field.getValue(entityTwo),\n\t\t\t\tvalueTwo = this.direction ? this.field.getValue(entityTwo) : this.field.getValue(entityOne);\n\n\t\t\tif (this.field.getDataType() === DataType.NUMBER) {\n\t\t\t\treturn this.sortNumber(valueOne, valueTwo);\n\t\t\t} else if (this.field.getDataType() === DataType.BOOLEAN) {\n\t\t\t\treturn this.sortBoolean(valueOne, valueTwo);\n\t\t\t} else if (this.field.getDataType() === DataType.STRING) {\n\t\t\t\treturn this.sortString(valueOne, valueTwo);\n\t\t\t} else {\n\t\t\t\treturn this.sortUnknown(valueOne, valueTwo);\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate sortString(strOne: string, strTwo: string): number {\n\n\t\tconst sureStrOne = '' + strOne,\n\t\t\tsureStrTwo = '' + strTwo;\n\n\t\treturn sureStrOne.localeCompare(sureStrTwo);\n\t}\n\n\tprivate sortNumber(numOne: number, numTwo: number): number {\n\n\t\tconst sureNumOne = +numOne,\n\t\t\tsureNumTwo = +numTwo;\n\n\t\treturn sureNumOne - sureNumTwo;\n\t}\n\n\tprivate sortBoolean(booleanOne: boolean, booleanTwo: boolean): number {\n\n\t\tconst sureBoolOne = !!booleanOne,\n\t\t\tsureBoolTwo = !!booleanTwo;\n\n\t\treturn (sureBoolOne === sureBoolTwo) ? 0 : sureBoolTwo ? -1 : 1;\n\t}\n\n\tprivate sortUnknown(a: any, b: any): number {\n\t\treturn 0;\n\t}\n\n}\n","export class SorterId {\n\n\tprivate readonly sorterId: string;\n\n\tconstructor(id: string) {\n\t\tthis.sorterId = id;\n\t}\n\n\tgetId(): string {\n\t\treturn this.sorterId;\n\t}\n}\n","import { RandomStringGenerator } from '@generic-ui/hermes';\n\nimport { StructureSorter } from './structure.sorter';\nimport { SortingConfig } from '../../../../ui-api/structure/sorting-config';\nimport { Field } from '../field/data-type/field';\nimport { SorterId } from './sorter.id';\nimport { FieldId } from '../field/data-type/field.id';\nimport { OriginItemEntity } from '../../../source/command/origin/origin-item-entity';\nimport { SortStatus } from '../../../../../composition/domain/command/column/sort/sort-status';\n\n\nexport class SorterCollection {\n\n\tprivate enabled: boolean;\n\n\tprivate multi: boolean;\n\n\tprivate readonly sorters = new Map<string, StructureSorter>();\n\n\tconstructor(enabled: boolean = false,\n\t\t\t\tmulti: boolean = false) {\n\t\tthis.enabled = enabled;\n\t\tthis.multi = multi;\n\t}\n\n\tsetConfig(config: SortingConfig): void {\n\n\t\tif (config && config.enabled !== undefined && config.enabled !== null) {\n\t\t\tthis.enabled = config.enabled;\n\t\t}\n\n\t\tif (config && config.multiSorting !== undefined && config.multiSorting !== null) {\n\t\t\tthis.multi = config.multiSorting;\n\t\t\tthis.sorters.clear();\n\t\t}\n\n\t}\n\n\ttoggle(field: Field): void {\n\n\t\tconst fieldId = field.getId(),\n\t\t\tsorter = this.sorters.get(fieldId.getId());\n\n\t\tif (sorter) {\n\t\t\tif (sorter.hasDirection()) {\n\t\t\t\tsorter.changeDirection();\n\t\t\t} else {\n\t\t\t\tthis.delete(fieldId);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.add(field);\n\t\t}\n\n\t}\n\n\tsetSortOrder(field: Field, sortOrder: SortStatus): void {\n\n\t\tconst fieldId = field.getId(),\n\t\t\tsorter = this.sorters.get(fieldId.getId());\n\n\t\tif (sortOrder === SortStatus.NONE) {\n\t\t\tthis.delete(fieldId);\n\t\t} else if (sortOrder === SortStatus.ASC || sortOrder === SortStatus.DESC) {\n\n\t\t\tthis.delete(fieldId);\n\n\t\t\tconst direction = sortOrder === SortStatus.ASC;\n\n\t\t\tthis.add(field, direction);\n\t\t}\n\t}\n\n\tadd(field: Field, direction = true): void {\n\t\tthis.addSorter(field.getId(), new StructureSorter(new SorterId(RandomStringGenerator.generate()), field, direction));\n\t}\n\n\taddSorter(fieldId: FieldId, sorter: StructureSorter): void {\n\n\t\tif (!this.multi) {\n\t\t\tthis.sorters.clear();\n\t\t}\n\n\t\tthis.sorters.set(fieldId.getId(), sorter);\n\t}\n\n\tdelete(fieldId: FieldId): void {\n\t\tthis.sorters.delete(fieldId.getId());\n\t}\n\n\tupdate(): void {\n\t}\n\n\t// TODO Remove the loop from sorter.sort\n\tsort(entities: Array<OriginItemEntity>): Array<OriginItemEntity> {\n\t\tconst sorters = this.getAll();\n\n\t\tlet sortedEntities = [...entities];\n\n\t\tfor (let sorter of sorters) {\n\t\t\tsortedEntities = sorter.sort(sortedEntities);\n\t\t}\n\n\t\treturn sortedEntities;\n\t}\n\n\tgetAll(): Array<StructureSorter> {\n\n\t\tif (!this.enabled) {\n\t\t\treturn [];\n\t\t}\n\n\t\treturn Array.from(this.sorters)\n\t\t\t\t\t.map((arr) => arr[1])\n\t\t\t\t\t.sort((sorterOne: StructureSorter, sorterTwo: StructureSorter) => {\n\t\t\t\t\t\treturn sorterOne.getRank() - sorterTwo.getRank();\n\t\t\t\t\t})\n\t\t\t\t\t.reverse();\n\t}\n}\n","export class FormationAggregate {\n\n\t/**\n\t * In the future this class can be responsible for managing:\n\t * - expanded / collapsed nodes\n\t * - sorting?\n\t * - filtering?\n\t */\n\n\tconstructor(private selectedRows: Array<string>) {\n\t}\n\n\tgetSelectedRows(): Array<string> {\n\t\treturn this.selectedRows;\n\t}\n\n\ttoggleRow(selectedRow: string): void {\n\n\t\tif (this.selectedRows.length > 0) {\n\n\t\t\tif (this.selectedRows[0] === selectedRow) {\n\t\t\t\tthis.selectedRows = [];\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tthis.selectedRows = [selectedRow];\n\t}\n}\n","export class ColumnHeaderEntity {\n\n\tconstructor(private top: boolean,\n\t\t\t\tprivate bottom: boolean) {\n\t}\n\n\tsetHeaderTop(enabled: boolean): void {\n\t\tthis.top = enabled;\n\t}\n\n\tsetHeaderBottom(enabled: boolean): void {\n\t\tthis.bottom = enabled;\n\t}\n\n\tisHeaderOnTop(): boolean {\n\t\treturn this.top;\n\t}\n\n\tisHeaderOnBottom(): boolean {\n\t\treturn this.bottom;\n\t}\n\n}\n","import { ColumnHeaderEntity } from './column-header/column-header.entity';\nimport { SchemaTheme } from '../schema-theme';\nimport { SchemaRowColoring } from '../schema-row-coloring';\n\nexport class SchemaAggregate {\n\n\tprivate headerHeight = 28;\n\n\tprivate pagerHeight = 35;\n\n\tprivate containerHeight: number;\n\n\tprivate active: boolean = false;\n\n\tprivate horizontalGrid: boolean = true;\n\n\tprivate verticalGrid: boolean = true;\n\n\tprivate columnHeader: ColumnHeaderEntity = new ColumnHeaderEntity(true, false);\n\n\tprivate theme: SchemaTheme = SchemaTheme.FABRIC;\n\n\tprivate rowColoring: SchemaRowColoring = SchemaRowColoring.ODD;\n\n\tconstructor(private width?: number,\n\t\t\t\tprivate height?: number) {\n\t\tthis.calculateContainerHeight();\n\t}\n\n\tgetRowColoring(): SchemaRowColoring {\n\t\treturn this.rowColoring;\n\t}\n\n\tsetHeight(height: number): void {\n\t\tthis.height = height;\n\n\t\tthis.calculateContainerHeight();\n\t}\n\n\tsetTheme(theme: SchemaTheme): void {\n\t\tthis.theme = theme;\n\t}\n\n\tsetRowColoring(coloring: SchemaRowColoring): void {\n\t\tthis.rowColoring = coloring;\n\t}\n\n\tgetTheme(): SchemaTheme {\n\t\treturn this.theme;\n\t}\n\n\tgetWidth(): number {\n\t\treturn this.width;\n\t}\n\n\tgetHeight(): number {\n\t\treturn this.height;\n\t}\n\n\tgetContainerHeight(): number {\n\t\treturn this.height;\n\t\t// return this.containerHeight;\n\t}\n\n\tgetColumnHeader(): ColumnHeaderEntity {\n\t\treturn this.columnHeader;\n\t}\n\n\tsetHeaderTop(enabled: boolean): void {\n\t\tthis.getColumnHeader().setHeaderTop(enabled);\n\t}\n\n\tsetHeaderBottom(enabled: boolean): void {\n\t\tthis.getColumnHeader().setHeaderBottom(enabled);\n\t}\n\n\tsetVerticalGrid(enabled: boolean): void {\n\t\tthis.verticalGrid = enabled;\n\t}\n\n\tsetHorizontalGrid(enabled: boolean): void {\n\t\tthis.horizontalGrid = enabled;\n\t}\n\n\tisVerticalGridEnabled(): boolean {\n\t\treturn this.verticalGrid;\n\t}\n\n\tisHorizontalGridEnabled(): boolean {\n\t\treturn this.horizontalGrid;\n\t}\n\n\tprivate getHeaderHeight(): number {\n\t\treturn this.headerHeight;\n\t}\n\n\tprivate getPagerHeight(): number {\n\t\treturn this.pagerHeight;\n\t}\n\n\tprivate calculateContainerHeight(): void {\n\n\t\tif (!this.height) {\n\t\t\tthis.active = false;\n\t\t\treturn;\n\t\t} else {\n\t\t\tthis.active = true;\n\t\t}\n\n\t\tthis.containerHeight = this.height - this.getHeaderHeight() - this.getPagerHeight();\n\t}\n\n}\n","import { OriginItemEntity } from '../../../source/command/origin/origin-item-entity';\nimport { Field } from '../field/data-type/field';\nimport { DataType } from '../field/data-type/data-type';\n\n\nexport class SearchManager {\n\n\tprivate searchFields: Array<Field> = [];\n\n\tprivate searchPhrase: string;\n\n\taddSearchPhrase(fields: Array<Field>, searchPhrase: string): void {\n\n\t\tif (!searchPhrase) {\n\t\t\tthis.searchFields = [];\n\t\t\treturn;\n\t\t}\n\n\t\tlet searchableFields =\n\t\t\tfields.filter((field: Field) => {\n\t\t\t\treturn field.getDataType() === DataType.STRING;\n\t\t\t});\n\n\t\tif (searchableFields.length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.searchFields = searchableFields;\n\n\t\tthis.searchPhrase = searchPhrase;\n\t}\n\n\tremoveSearchFilters(): void {\n\t\tthis.searchFields = [];\n\t}\n\n\tsearch(entities: Array<OriginItemEntity>): Array<OriginItemEntity> {\n\n\t\tif (entities.length === 0 || this.searchFields.length === 0) {\n\t\t\treturn entities;\n\t\t}\n\n\t\tlet searchedItems = new Set<OriginItemEntity>();\n\n\t\tfor (let i = 0; i < entities.length; i += 1) {\n\n\t\t\tfor (let field of this.searchFields) {\n\n\t\t\t\tif (this.filterString(entities[i], field)) {\n\t\t\t\t\tsearchedItems.add(entities[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn Array.from(searchedItems);\n\t}\n\n\tprivate filterString(item: OriginItemEntity, field: Field): boolean {\n\t\tconst value = field.getValue(item);\n\n\t\tif (typeof value === 'string') {\n\t\t\treturn value.toLowerCase().indexOf(this.searchPhrase.toLowerCase()) > -1;\n\t\t} else {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\tprivate filterNumber(item: OriginItemEntity, field: Field): boolean {\n\t\tconst numberValue = field.getValue(item);\n\n\t\treturn numberValue > this.searchPhrase;\n\t}\n\n\tprivate filterBoolean(item: OriginItemEntity, field: Field): boolean {\n\t\tconst booleanValue = field.getValue(item);\n\n\t\treturn booleanValue === this.searchPhrase;\n\t}\n\n}\n","import { AggregateEvent, AggregateId } from '@generic-ui/hermes';\n\nimport { OriginItemEntity } from '../origin/origin-item-entity';\n\n\nexport class StructurePreparedEntitiesSetAggregateEvent extends AggregateEvent {\n\n\tconstructor(aggregateId: AggregateId,\n\t\t\t\tprivate readonly preparedItems: Array<OriginItemEntity>) {\n\t\tsuper(aggregateId, 'StructurePreparedEntitiesSetAggregateEvent');\n\t}\n\n\tgetPreparedItems(): Array<OriginItemEntity> {\n\t\treturn this.preparedItems;\n\t}\n\n}\n","import { Aggregate, AggregateEvent, RootAggregate } from '@generic-ui/hermes';\n\nimport { PagingAggregate } from '../../paging/command/paging.aggregate';\nimport { SourceManager } from '../../source/command/source.manager';\nimport { VerticalFormation } from './vertical-formation/vertical-formation';\nimport { AggregationManager } from './aggregation/aggregation.manager';\nimport { SorterCollection } from './sort/sorter.collection';\nimport { FilterManager } from './filter/filter.manager';\nimport { FieldCollection } from './field/field.collection';\nimport { FormationAggregate } from '../../formation/command/formation-aggregate';\nimport { SchemaAggregate } from '../../schema/command/schema-aggregate';\nimport { StructureId } from '../../structure-id';\nimport { StructureEditSourceItemParams } from '../../source/command/origin/edit/structure.edit-source-item.params';\nimport { PagingConfig } from '../../paging/paging-config';\nimport { OriginItemEntity } from '../../source/command/origin/origin-item-entity';\nimport { ColumnConfig } from '../../../../composition/domain/column.config';\nimport { Field } from './field/data-type/field';\nimport { SortingConfig } from '../../../ui-api/structure/sorting-config';\nimport { FieldId } from './field/data-type/field.id';\nimport { StructureSorter } from './sort/structure.sorter';\nimport { FilterConfig } from '../../../ui-api/structure/filter/filter-config';\nimport { QuickFiltersConfig } from '../../../ui-api/structure/filter/quick-filters.config';\nimport { SearchConfig } from '../../../ui-api/structure/search/search-config';\nimport { SearchManager } from './search/search.manager';\nimport { StructurePreparedEntitiesSetAggregateEvent } from '../../source/command/prepared/structure.prepared-entities-set.aggregate-event';\nimport { SortStatus } from '../../../../composition/domain/command/column/sort/sort-status';\n\n@RootAggregate\nexport class StructureAggregate extends Aggregate {\n\n\tprivate formationAggregate: FormationAggregate;\n\n\tprivate schema: SchemaAggregate;\n\n\tprivate pagingAggregate: PagingAggregate;\n\n\tprivate sourceManager: SourceManager;\n\n\tprivate sorterCollection: SorterCollection;\n\n\tprivate filterManager: FilterManager;\n\n\tprivate searchManager: SearchManager;\n\n\tprivate verticalFormation: VerticalFormation;\n\n\tprivate fieldCollection: FieldCollection;\n\n\tprivate aggregationManager: AggregationManager;\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tpagingAggregate: PagingAggregate,\n\t\t\t\tformationAggregate: FormationAggregate,\n\t\t\t\tsourceManager: SourceManager,\n\t\t\t\tverticalFormation: VerticalFormation,\n\t\t\t\taggregationManager: AggregationManager,\n\t\t\t\tsorterCollection: SorterCollection,\n\t\t\t\tfilterCollection: FilterManager,\n\t\t\t\tsearchManager: SearchManager,\n\t\t\t\tfieldCollection: FieldCollection,\n\t\t\t\tschema: SchemaAggregate) {\n\t\tsuper(structureId);\n\t\tthis.pagingAggregate = pagingAggregate;\n\t\tthis.formationAggregate = formationAggregate;\n\t\tthis.sourceManager = sourceManager;\n\t\tthis.verticalFormation = verticalFormation;\n\t\tthis.aggregationManager = aggregationManager;\n\t\tthis.sorterCollection = sorterCollection;\n\t\tthis.filterManager = filterCollection;\n\t\tthis.searchManager = searchManager;\n\t\tthis.fieldCollection = fieldCollection;\n\t\tthis.schema = schema;\n\t}\n\n\tgetVerticalFormation(): VerticalFormation {\n\t\treturn this.verticalFormation;\n\t}\n\n\tsetAggregationEnabled(enabled: boolean): ReadonlyArray<AggregateEvent> {\n\n\t\tthis.aggregationManager.setEnabled(enabled);\n\n\t\tthis.calculateSource();\n\n\t\treturn this.getEvents();\n\t}\n\n\tsetOrigin(items: Array<any>): ReadonlyArray<AggregateEvent> {\n\n\t\tthis.addEvent(\n\t\t\tthis.sourceManager.setOrigin(items, this.getId())\n\t\t);\n\n\t\tthis.calculateSource();\n\n\t\treturn this.getEvents();\n\t}\n\n\teditItem(editParams: StructureEditSourceItemParams): ReadonlyArray<AggregateEvent> {\n\n\t\tconst itemId = editParams.getItemId(),\n\t\t\tfieldId = editParams.getColumnFieldId(),\n\t\t\tfield = this.fieldCollection.getField(fieldId as any), // as FieldId\n\t\t\tvalue = editParams.getValue();\n\n\t\tconst editItemEvents = this.sourceManager.editOriginItem(itemId, value, field, this.getId());\n\n\t\teditItemEvents.forEach((e) => this.addEvent(e));\n\n\t\tthis.calculateSource();\n\n\t\treturn this.getEvents();\n\t}\n\n\tsetHeight(height: number): void {\n\t\tthis.getSchema().setHeight(height);\n\n\t\tconst viewportHeight = this.getSchema().getContainerHeight();\n\n\t\tthis.verticalFormation.setViewportHeight(viewportHeight);\n\n\t\tthis.calculateSourceBasedOnVirtualScroll();\n\t}\n\n\tsetFormation(formation: FormationAggregate): void {\n\t\tthis.formationAggregate = formation;\n\t}\n\n\tsetScrollPosition(position: number): void {\n\t\tthis.verticalFormation.setScrollPosition(position);\n\t\tthis.calculateSourceBasedOnVirtualScroll();\n\t}\n\n\tgetFormation(): FormationAggregate {\n\t\treturn this.formationAggregate;\n\t}\n\n\tsetSchema(schema: SchemaAggregate): void {\n\t\tthis.schema = schema;\n\t}\n\n\tgetSchema(): SchemaAggregate {\n\t\treturn this.schema;\n\t}\n\n\tgetPaging(): PagingAggregate {\n\t\treturn this.pagingAggregate;\n\t}\n\n\tchangePaging(config: PagingConfig) {\n\t\tthis.pagingAggregate.change(config);\n\t\tthis.calculateSource();\n\t}\n\n\tsetPaging(paging: PagingAggregate): void {\n\t\tthis.pagingAggregate = paging;\n\t\tthis.calculateSource();\n\t}\n\n\tnextPage(): void {\n\n\t\tthis.pagingAggregate.nextPage();\n\n\t\tthis.calculateSource();\n\t}\n\n\tprevPage(): void {\n\t\tthis.pagingAggregate.prevPage();\n\t\tthis.calculateSource();\n\t}\n\n\tchangePageSize(pageSize: number): ReadonlyArray<AggregateEvent> {\n\n\t\tconst pagingEvents = this.pagingAggregate.changePageSize(pageSize);\n\n\t\t// TODO\n\t\tpagingEvents.forEach((event) => {\n\t\t\tthis.addEvent(event);\n\t\t});\n\n\t\tthis.calculateSource();\n\n\t\treturn this.getEvents();\n\t}\n\n\tgetEntities(): Array<OriginItemEntity> {\n\t\treturn this.sourceManager.getSlicedEntities();\n\t}\n\n\tgetSource(): SourceManager {\n\t\treturn this.sourceManager;\n\t}\n\n\tcreateFields(columns: Array<ColumnConfig>): Array<Field> {\n\t\tthis.fieldCollection.initFields(columns);\n\n\t\t// TODO Should throw event fields created\n\t\treturn this.fieldCollection.getAllFields();\n\t}\n\n\tsetSortingConfig(config: SortingConfig): void {\n\t\tthis.sorterCollection.setConfig(config);\n\t}\n\n\ttoggleSort(fieldId: FieldId): Array<StructureSorter> {\n\n\t\tconst field = this.fieldCollection.getField(fieldId);\n\n\t\tthis.sorterCollection.toggle(field);\n\n\t\tthis.calculateSource();\n\n\t\treturn this.sorterCollection.getAll();\n\t}\n\n\tsetSortOrder(fieldId: FieldId, sortOrder: SortStatus): Array<StructureSorter> {\n\n\t\tconst field = this.fieldCollection.getField(fieldId);\n\n\t\tthis.sorterCollection.setSortOrder(field, sortOrder);\n\n\t\tthis.calculateSource();\n\n\t\treturn this.sorterCollection.getAll();\n\t}\n\n\tsetFilterConfig(config: FilterConfig): void {\n\t\tthis.filterManager.getSettings().setFilterConfig(config);\n\t}\n\n\tsetSearchingConfig(config: SearchConfig): void {\n\t\tthis.filterManager.getSettings().setSearchingConfig(config);\n\t}\n\n\tsetQuickFiltersConfig(config: QuickFiltersConfig): void {\n\t\tthis.filterManager.getSettings().setQuickFiltersConfig(config);\n\t}\n\n\ttoggleFilter(fieldId: FieldId, externalFilterId: string, filterValue: string): Array<AggregateEvent> {\n\n\t\tconst field = this.fieldCollection.getField(fieldId);\n\n\t\t// Field not found\n\t\t// TODO throw aggregate event\n\t\tif (field === undefined) {\n\t\t\treturn [];\n\t\t}\n\n\t\tthis.filterManager.addFilter(field, externalFilterId, filterValue);\n\n\t\tthis.calculateSource();\n\n\t\treturn [];\n\t}\n\n\taddSearchPhrase(phrase: string): Array<AggregateEvent> {\n\n\t\tconst fields = this.fieldCollection.getAllFields();\n\n\t\tthis.searchManager.addSearchPhrase(fields, phrase);\n\n\t\tthis.calculateSource();\n\n\t\treturn [];\n\t}\n\n\tremoveSearchPhrase(): Array<AggregateEvent> {\n\n\t\tthis.searchManager.removeSearchFilters();\n\n\t\tthis.calculateSource();\n\n\t\treturn [];\n\t}\n\n\tprivate calculateSource(): void {\n\n\t\tif (!this.sourceManager.getOrigin() || !this.pagingAggregate) {\n\t\t\treturn;\n\t\t}\n\n\t\t// TODO Refactor\n\t\tthis.sourceManager.setEntities(this.sourceManager.getOrigin());\n\n\t\t// filtering\n\t\tthis.sourceManager.setEntities(this.filterManager.filter(this.sourceManager.getEntities()));\n\n\t\t// search\n\t\tconst searchedEntities = this.searchManager.search(this.sourceManager.getEntities());\n\t\tthis.sourceManager.setEntities(searchedEntities);\n\n\t\t// sorting\n\t\tconst ents = this.sorterCollection.sort(this.sourceManager.getEntities());\n\t\tthis.sourceManager.setEntities(ents);\n\n\t\t// calculate filteredEntities\n\t\tthis.sourceManager.setPreparedEntities();\n\n\t\tthis.pagingAggregate.setSourceSize(this.sourceManager.getPreparedEntities().length);\n\n\t\tthis.addEvent(new StructurePreparedEntitiesSetAggregateEvent(this.getId(), ents));\n\n\t\t// aggregations\n\t\tconst aggregationEvents = this.aggregationManager.calculate(\n\t\t\tthis.fieldCollection.getAllFields(),\n\t\t\tthis.sourceManager.getEntities()\n\t\t);\n\n\t\taggregationEvents.forEach((ae: AggregateEvent) => {\n\t\t\tthis.addEvent(ae);\n\t\t});\n\n\t\t// paging\n\t\tthis.sourceManager.setEntities(this.pagingAggregate.sample(this.sourceManager.getEntities()));\n\n\t\tthis.verticalFormation.setSourceSize(this.sourceManager.getEntities().length);\n\n\t\tthis.calculateSourceBasedOnVirtualScroll();\n\t}\n\n\tprivate calculateSourceBasedOnVirtualScroll(): void {\n\n\t\tif (this.verticalFormation.isEnabled()) {\n\n\t\t\tconst range = this.verticalFormation.getRange();\n\n\t\t\tthis.sourceManager.setSlicedEntities(\n\t\t\t\tthis.sourceManager.getEntities().slice(range.getStart(), range.getEnd())\n\t\t\t);\n\t\t} else {\n\t\t\tthis.sourceManager.setSlicedEntities(\n\t\t\t\tthis.sourceManager.getEntities()\n\t\t\t);\n\t\t}\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { SchemaAggregate } from './schema-aggregate';\n\n\n@Injectable()\nexport class SchemaAggregateFactory {\n\n\tcreate(): SchemaAggregate {\n\t\treturn new SchemaAggregate();\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { FormationAggregate } from './formation-aggregate';\n\n\n@Injectable()\nexport class FormationAggregateFactory {\n\n\tcreate(): FormationAggregate {\n\t\treturn new FormationAggregate([]);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { SearchManager } from './search.manager';\n\n@Injectable()\nexport class SearchManagerFactory {\n\n\tcreate(): SearchManager {\n\t\treturn new SearchManager();\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { PagingAggregateFactory } from '../../paging/command/paging.aggregate-factory';\nimport { SourceManagerFactory } from '../../source/command/source.manager-factory';\nimport { VerticalFormationFactory } from './vertical-formation/vertical-formation.factory';\nimport { AggregationManagerFactory } from './aggregation/aggregation.manager.factory';\nimport { FilterManagerFactory } from './filter/filter.manager-factory';\nimport { FieldCollectionFactory } from './field/field-collection.factory';\nimport { StructureId } from '../../structure-id';\nimport { StructureAggregate } from './structure.aggregate';\nimport { SorterCollection } from './sort/sorter.collection';\nimport { SchemaAggregateFactory } from '../../schema/command/schema.aggregate-factory';\nimport { FormationAggregateFactory } from '../../formation/command/formation.aggregate-factory';\nimport { SearchManagerFactory } from './search/search.manager-factory';\n\n\n@Injectable()\nexport class StructureAggregateFactory {\n\n\tconstructor(private readonly pagingAggregateFactory: PagingAggregateFactory,\n\t\t\t\tprivate readonly sourceManagerFactory: SourceManagerFactory,\n\t\t\t\tprivate readonly formationAggregateFactory: FormationAggregateFactory,\n\t\t\t\tprivate readonly verticalFormationFactory: VerticalFormationFactory,\n\t\t\t\tprivate readonly aggregationManagerFactory: AggregationManagerFactory,\n\t\t\t\tprivate readonly filterManagerFactory: FilterManagerFactory,\n\t\t\t\tprivate readonly searchManagerFactory: SearchManagerFactory,\n\t\t\t\tprivate readonly fieldCollectionFactory: FieldCollectionFactory,\n\t\t\t\tprivate readonly schemaAggregateFactory: SchemaAggregateFactory) {\n\t}\n\n\tcreate(structureId: StructureId): StructureAggregate {\n\n\t\tconst paging = this.pagingAggregateFactory.createDefault(),\n\t\t\tsource = this.sourceManagerFactory.createDefault(),\n\t\t\tverticalFormation = this.verticalFormationFactory.create(),\n\t\t\tformationAggregate = this.formationAggregateFactory.create();\n\n\t\tconst sorterContainer: SorterCollection = new SorterCollection(),\n\t\t\tfilterContainer = this.filterManagerFactory.create(false),\n\t\t\tfieldContainer = this.fieldCollectionFactory.create(),\n\t\t\taggregationManager = this.aggregationManagerFactory.create(structureId),\n\t\t\tschema = this.schemaAggregateFactory.create(),\n\t\t\tsearchManager = this.searchManagerFactory.create();\n\n\t\treturn new StructureAggregate(structureId,\n\t\t\tpaging,\n\t\t\tformationAggregate,\n\t\t\tsource,\n\t\t\tverticalFormation,\n\t\t\taggregationManager,\n\t\t\tsorterContainer,\n\t\t\tfilterContainer,\n\t\t\tsearchManager,\n\t\t\tfieldContainer,\n\t\t\tschema\n\t\t);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { CommandHandler, DomainEventPublisher, ExecuteResponse } from '@generic-ui/hermes';\n\nimport { StructureAggregateRepository } from '../structure-aggregate.repository';\nimport { StructureAggregateFactory } from '../structure.aggregate-factory';\nimport { InitStructureCommand } from './init-structure.command';\nimport { StructureInitedEvent } from './structure-inited.event';\n\n\n@Injectable()\nexport class InitStructureCommandHandler extends CommandHandler {\n\n\tconstructor(private readonly structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tprivate readonly structureAggregateFactory: StructureAggregateFactory,\n\t\t\t\tdomainEventPublisher: DomainEventPublisher) {\n\t\tsuper(InitStructureCommand,\n\t\t\tStructureInitedEvent,\n\t\t\tdomainEventPublisher);\n\t}\n\n\thandle(command: InitStructureCommand): ExecuteResponse | Observable<ExecuteResponse> {\n\n\t\tconst aggregateId = command.structureId;\n\n\t\tconst structure = this.structureAggregateFactory.create(aggregateId);\n\n\t\tthis.structureAggregateRepository.save(structure);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { CommandHandler, DomainEventPublisher, ExecuteResponse } from '@generic-ui/hermes';\nimport { StructureAggregateRepository } from '../../structure-aggregate.repository';\nimport { SetVerticalScrollEnabledCommand } from './set-vertical-scroll-enabled.command';\nimport { VerticalScrollEnabledSetEvent } from './vertical-scroll-enabled-set.event';\n\n\n@Injectable()\nexport class SetVerticalScrollEnabledCommandHandler extends CommandHandler {\n\n\tconstructor(private readonly structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tprotected domainEventPublisher: DomainEventPublisher) {\n\t\tsuper(SetVerticalScrollEnabledCommand);\n\t}\n\n\thandle(command: SetVerticalScrollEnabledCommand): ExecuteResponse | Observable<ExecuteResponse> {\n\n\t\tconst structureId = command.structureId,\n\t\t\tenabled = command.enabled;\n\n\t\tconst structure = this.structureAggregateRepository.getById(structureId);\n\n\t\tconst formation = structure.getVerticalFormation();\n\n\t\tformation.setEnabled(enabled);\n\n\t\tthis.structureAggregateRepository.save(structure);\n\n\t\tthis.domainEventPublisher.publish(new VerticalScrollEnabledSetEvent(structureId));\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { CommandHandler, DomainEventPublisher, ExecuteResponse } from '@generic-ui/hermes';\nimport { StructureAggregateRepository } from '../../structure-aggregate.repository';\nimport { SetScrollPositionCommand } from './set-scroll-position.command';\nimport { ScrollPositionSetEvent } from './scroll-position-set.event';\n\n\n@Injectable()\nexport class SetScrollPositionCommandHandler extends CommandHandler {\n\n\tconstructor(private readonly structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tprotected domainEventPublisher: DomainEventPublisher) {\n\t\tsuper(SetScrollPositionCommand);\n\t}\n\n\thandle(command: SetScrollPositionCommand): ExecuteResponse | Observable<ExecuteResponse> {\n\n\t\tconst structureId = command.structureId,\n\t\t\tposition = command.position;\n\n\t\tconst structure = this.structureAggregateRepository.getById(structureId);\n\n\t\tstructure.setScrollPosition(position);\n\n\t\tthis.structureAggregateRepository.save(structure);\n\n\t\tthis.domainEventPublisher.publish(new ScrollPositionSetEvent(structureId));\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { CommandHandler, DomainEventPublisher, ExecuteResponse } from '@generic-ui/hermes';\n\nimport { StructureAggregateRepository } from '../../structure-aggregate.repository';\nimport { StructureAggregateFactory } from '../../structure.aggregate-factory';\nimport { InitFieldsCommand } from './init-fields.command';\nimport { FieldsInitedEvent } from './fields-inited.event';\n\n\n@Injectable()\nexport class InitFieldsCommandHandler extends CommandHandler {\n\n\tconstructor(private readonly structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tprivate readonly structureAggregateFactory: StructureAggregateFactory,\n\t\t\t\tprivate domainEventPublisher: DomainEventPublisher) {\n\t\tsuper(InitFieldsCommand);\n\t}\n\n\thandle(command: InitFieldsCommand): ExecuteResponse | Observable<ExecuteResponse> {\n\n\t\tconst structureId = command.structureId,\n\t\t\tcompositionId = command.compositionId,\n\t\t\tcolumns = command.columns;\n\n\t\tconst structure = this.structureAggregateRepository.getById(structureId);\n\n\t\tconst fields = structure.createFields(columns); // tODO convert don't let dandruff into the domain\n\n\t\tthis.structureAggregateRepository.save(structure);\n\n\t\tthis.domainEventPublisher.publish(new FieldsInitedEvent(structureId, compositionId, columns, fields));\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { AggregateId, CommandHandler, DomainEventPublisher, ExecuteResponse } from '@generic-ui/hermes';\nimport { StructureAggregateRepository } from '../../structure-aggregate.repository';\nimport { ToggleSortCommand } from './toggle-sort.command';\nimport { CompositionId } from '../../../../../../composition/domain/composition-id';\nimport { FieldId } from '../../field/data-type/field.id';\nimport { StructureSorter } from '../structure.sorter';\nimport { SortToggledEvent } from './sort-toggled.event';\n\n\n@Injectable()\nexport class ToggleSortCommandHandler extends CommandHandler {\n\n\tconstructor(private readonly structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tprivate domainEventPublisher: DomainEventPublisher) {\n\t\tsuper(ToggleSortCommand);\n\t}\n\n\thandle(command: ToggleSortCommand): ExecuteResponse | Observable<ExecuteResponse> {\n\n\t\tconst aggregateId = command.structureId,\n\t\t\tcompositionId = command.getCompositionId(),\n\t\t\tfieldId = command.getFieldId();\n\n\t\tconst structure = this.structureAggregateRepository.getById(aggregateId);\n\n\t\tconst sorters = structure.toggleSort(fieldId);\n\n\t\tthis.structureAggregateRepository.save(structure);\n\n\t\tthis.publishSortEvent(aggregateId, compositionId, fieldId, sorters);\n\t}\n\n\tpublishSortEvent(aggregateId: AggregateId, compositionId: CompositionId, fieldId: FieldId, sorters: Array<StructureSorter>): void {\n\n\t\tconst directions = sorters.map((sorter: StructureSorter) => {\n\t\t\treturn {\n\t\t\t\tdirection: sorter.hasDirection(),\n\t\t\t\tfieldId: sorter.getField().getId()\n\t\t\t};\n\t\t});\n\n\t\tthis.domainEventPublisher.publish(new SortToggledEvent(aggregateId, compositionId, directions));\n\t}\n\n}\n","import { AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nexport class SortingSetEvent extends DomainEvent {\n\n\tconstructor(aggregateId: AggregateId) {\n\t\tsuper(aggregateId, 'SortingSetEvent');\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { CommandHandler, DomainEventPublisher, ExecuteResponse } from '@generic-ui/hermes';\nimport { StructureAggregateRepository } from '../../structure-aggregate.repository';\nimport { SetSortingCommand } from './set-sorting.command';\nimport { SortingSetEvent } from './sorting-set.event';\n\n\n@Injectable()\nexport class SetSortingCommandHandler extends CommandHandler {\n\n\tconstructor(private readonly structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tprivate domainEventPublisher: DomainEventPublisher) {\n\t\tsuper(SetSortingCommand);\n\t}\n\n\thandle(command: SetSortingCommand): ExecuteResponse | Observable<ExecuteResponse> {\n\n\t\tconst structureId = command.structureId,\n\t\t\tsortingConfig = command.getSortingConfig();\n\n\t\tconst structure = this.structureAggregateRepository.getById(structureId);\n\n\t\tstructure.setSortingConfig(sortingConfig);\n\n\t\tthis.structureAggregateRepository.save(structure);\n\n\t\tthis.domainEventPublisher.publish(new SortingSetEvent(structureId));\n\t}\n\n}\n","import { AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nexport class StructureConfigFilterSetEvent extends DomainEvent {\n\n\tconstructor(aggregateId: AggregateId,\n\t\t\t\tprivate readonly enabled: boolean) {\n\t\tsuper(aggregateId, 'StructureConfigFilterSetEvent');\n\t}\n\n\tgetEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { CommandHandler, DomainEventPublisher, ExecuteResponse } from '@generic-ui/hermes';\n\nimport { StructureAggregateRepository } from '../../structure-aggregate.repository';\nimport { StructureSetConfigFilterCommand } from './structure.set-config-filter.command';\nimport { StructureConfigFilterSetEvent } from './structure.config-filter-set.event';\n\n\n@Injectable()\nexport class StructureSetConfigFilterCommandHandler extends CommandHandler {\n\n\tconstructor(private readonly structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tprivate domainEventPublisher: DomainEventPublisher) {\n\t\tsuper(StructureSetConfigFilterCommand);\n\t}\n\n\thandle(command: StructureSetConfigFilterCommand): ExecuteResponse | Observable<ExecuteResponse> {\n\n\t\tconst structureId = command.structureId,\n\t\t\tfilterConfig = command.getConfig();\n\n\t\tconst structure = this.structureAggregateRepository.getById(structureId);\n\n\t\tstructure.setFilterConfig(filterConfig);\n\n\t\tthis.structureAggregateRepository.save(structure);\n\n\t\tthis.domainEventPublisher.publish(new StructureConfigFilterSetEvent(structureId, filterConfig.enabled));\n\t}\n\n}\n","import { AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nexport class StructureConfigSearchingSetEvent extends DomainEvent {\n\n\tconstructor(aggregateId: AggregateId,\n\t\t\t\tprivate readonly enabled: boolean) {\n\t\tsuper(aggregateId, 'StructureConfigSearchingSetEvent');\n\t}\n\n\tgetEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { CommandHandler, DomainEventPublisher, ExecuteResponse } from '@generic-ui/hermes';\nimport { StructureAggregateRepository } from '../../structure-aggregate.repository';\nimport { StructureSetConfigSearchingCommand } from './structure.set-config-searching.command';\nimport { StructureConfigSearchingSetEvent } from './structure.config-searching-set.event';\n\n\n@Injectable()\nexport class StructureSetConfigSearchingCommandHandler extends CommandHandler {\n\n\tconstructor(private readonly structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tprivate domainEventPublisher: DomainEventPublisher) {\n\t\tsuper(StructureSetConfigSearchingCommand);\n\t}\n\n\thandle(command: StructureSetConfigSearchingCommand): ExecuteResponse | Observable<ExecuteResponse> {\n\n\t\tconst structureId = command.structureId,\n\t\t\tsearchingConfig = command.getConfig();\n\n\t\tconst structure = this.structureAggregateRepository.getById(structureId);\n\n\t\tstructure.setSearchingConfig(searchingConfig);\n\n\t\tthis.structureAggregateRepository.save(structure);\n\n\t\tthis.domainEventPublisher.publish(new StructureConfigSearchingSetEvent(structureId, searchingConfig.enabled));\n\t}\n\n}\n","import { AggregateId, DomainEvent } from '@generic-ui/hermes';\n\n\nexport class StructureConfigQuickFilterSetEvent extends DomainEvent {\n\n\tconstructor(aggregateId: AggregateId,\n\t\t\t\tprivate readonly enabled: boolean) {\n\t\tsuper(aggregateId, 'StructureConfigQuickFilterSetEvent');\n\t}\n\n\tgetEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { CommandHandler, DomainEventPublisher, ExecuteResponse } from '@generic-ui/hermes';\n\nimport { StructureAggregateRepository } from '../../structure-aggregate.repository';\nimport { StructureSetConfigQuickFilterCommand } from './structure.set-config-quick-filter.command';\nimport { StructureConfigQuickFilterSetEvent } from './structure.config-quick-filter-set.event';\n\n\n@Injectable()\nexport class StructureSetConfigQuickFilterCommandHandler extends CommandHandler {\n\n\tconstructor(private readonly structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tprivate domainEventPublisher: DomainEventPublisher) {\n\t\tsuper(StructureSetConfigQuickFilterCommand);\n\t}\n\n\thandle(command: StructureSetConfigQuickFilterCommand): ExecuteResponse | Observable<ExecuteResponse> {\n\n\t\tconst structureId = command.structureId,\n\t\t\tquickFiltersConfig = command.getConfig();\n\n\t\tconst structure = this.structureAggregateRepository.getById(structureId);\n\n\t\tstructure.setQuickFiltersConfig(quickFiltersConfig);\n\n\t\tthis.structureAggregateRepository.save(structure);\n\n\t\tthis.domainEventPublisher.publish(new StructureConfigQuickFilterSetEvent(structureId, quickFiltersConfig.enabled));\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { CommandHandler, DomainEventPublisher, ExecuteResponse } from '@generic-ui/hermes';\n\nimport { StructureAggregateRepository } from '../../structure-aggregate.repository';\nimport { StructureToggleFilterCommand } from './structure.toggle-filter.command';\nimport { FieldId } from '../../field/data-type/field.id';\nimport { StructureFilterToggledEvent } from './structure.filter-toggled.event';\n\n\n@Injectable()\nexport class StructureToggleFilterCommandHandler extends CommandHandler {\n\n\tconstructor(private readonly structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tprivate domainEventPublisher: DomainEventPublisher) {\n\t\tsuper(StructureToggleFilterCommand);\n\t}\n\n\thandle(command: StructureToggleFilterCommand): ExecuteResponse | Observable<ExecuteResponse> {\n\n\t\tconst structureId = command.structureId,\n\t\t\tfieldId: FieldId = command.fieldId,\n\t\t\texternalFieldId: string = command.externalFilterId,\n\t\t\tfilterValue = command.filterValue;\n\n\t\tconst structure = this.structureAggregateRepository.getById(structureId);\n\n\t\tstructure.toggleFilter(fieldId, externalFieldId, filterValue);\n\n\t\tthis.structureAggregateRepository.save(structure);\n\n\t\tthis.domainEventPublisher.publish(new StructureFilterToggledEvent(structureId));\n\t}\n\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../structure-id';\nimport { AggregatedValues } from './calculation/aggregated.values';\n\n\nexport class StructureAggregationsChangedEvent extends DomainEvent {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly values: Map<string, AggregatedValues>) {\n\t\tsuper(structureId, 'StructureAggregationsChangedEvent');\n\t}\n\n\tgetAggregations() {\n\t\treturn this.values;\n\t}\n\n}\n","import { AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nimport { OriginItemEntity } from '../origin/origin-item-entity';\n\nexport class StructurePreparedEntitiesSetEvent extends DomainEvent {\n\n\tconstructor(aggregateId: AggregateId,\n\t\t\t\tprivate readonly preparedItems: Array<OriginItemEntity>) {\n\t\tsuper(aggregateId, 'StructurePreparedEntitiesSetEvent');\n\t}\n\n\tgetPreparedItems(): Array<OriginItemEntity> {\n\t\treturn this.preparedItems;\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateEvent, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { StructureOriginChangedAggregateEvent } from './origin/structure.origin-changed.aggregate-event';\nimport { OriginSetEvent } from './origin/set-origin/origin-set.event';\nimport { StructureSourceItemEditedAggregateEvent } from './origin/edit/structure.source-item-edited.aggregate-event';\nimport { StructureSourceItemEditedEvent } from './origin/edit/structure.source-item-edited.event';\nimport { StructureAggregationsChangedAggregateEvent } from '../../structure/command/aggregation/structure.aggregations-changed.aggregate-event';\nimport { StructureAggregationsChangedEvent } from '../../structure/command/aggregation/structure.aggregations-changed.event';\nimport { StructurePreparedEntitiesSetAggregateEvent } from './prepared/structure.prepared-entities-set.aggregate-event';\nimport { StructurePreparedEntitiesSetEvent } from './prepared/structure.prepared-entities-set.event';\n\n\n@Injectable()\nexport class StructureSourceDomainEventPublisher {\n\n\tconstructor(private domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tpublish(events: ReadonlyArray<AggregateEvent>): void {\n\n\t\tevents.forEach((event) => {\n\t\t\tthis.publishEvent(event);\n\t\t});\n\t}\n\n\tprivate publishEvent(event: AggregateEvent): void {\n\n\t\tif (event.getType() === 'StructureOriginChangedAggregateEvent') {\n\n\t\t\tconst structureOriginChangedAggregateEvent = (event as StructureOriginChangedAggregateEvent);\n\n\t\t\tconst domainEvent = new OriginSetEvent(structureOriginChangedAggregateEvent.getAggregateId(), structureOriginChangedAggregateEvent.getOrigin());\n\n\t\t\tthis.domainEventPublisher.publish(domainEvent);\n\t\t}\n\n\t\tif (event.getType() === 'StructureSourceItemEditedAggregateEvent') {\n\n\t\t\tconst structureSourceItemEditedAggregateEvent = (event as StructureSourceItemEditedAggregateEvent);\n\n\t\t\tconst domainEvent = new StructureSourceItemEditedEvent(\n\t\t\t\tstructureSourceItemEditedAggregateEvent.getAggregateId(),\n\t\t\t\tstructureSourceItemEditedAggregateEvent.getBeforeItem(),\n\t\t\t\tstructureSourceItemEditedAggregateEvent.getAfterItem()\n\t\t\t);\n\n\t\t\tthis.domainEventPublisher.publish(domainEvent);\n\t\t}\n\n\t\tif (event.getType() === 'StructureAggregationsChangedAggregateEvent') {\n\n\t\t\tconst structureAggregationsChangedAggregateEvent = (event as StructureAggregationsChangedAggregateEvent);\n\n\t\t\tconst domainEvent = new StructureAggregationsChangedEvent(structureAggregationsChangedAggregateEvent.getAggregateId(), structureAggregationsChangedAggregateEvent.getAggregations());\n\n\t\t\tthis.domainEventPublisher.publish(domainEvent);\n\n\t\t}\n\n\t\tif (event.getType() === 'StructurePreparedEntitiesSetAggregateEvent') {\n\n\t\t\tconst structurePreparedEntitiesSetAggregateEvent = (event as StructurePreparedEntitiesSetAggregateEvent);\n\n\t\t\tconst domainEvent = new StructurePreparedEntitiesSetEvent(structurePreparedEntitiesSetAggregateEvent.getAggregateId(), structurePreparedEntitiesSetAggregateEvent.getPreparedItems());\n\n\t\t\tthis.domainEventPublisher.publish(domainEvent);\n\t\t}\n\t}\n\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../structure-id';\n\n\nexport class StructureAggregationEnabledSetEvent extends DomainEvent {\n\n\tconstructor(aggregateId: StructureId,\n\t\t\t\tpublic readonly enabled: boolean) {\n\t\tsuper(aggregateId, 'StructureAggregationEnabledSetEvent');\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { CommandHandler, DomainEventPublisher, ExecuteResponse } from '@generic-ui/hermes';\nimport { StructureAggregateRepository } from '../../structure-aggregate.repository';\nimport { StructureAggregateFactory } from '../../structure.aggregate-factory';\nimport { StructureSourceDomainEventPublisher } from '../../../../source/command/structure.source.domain-event.publisher';\nimport { StructureSetAggregationEnabledCommand } from './structure.set-aggregation-enabled.command';\nimport { StructureAggregationEnabledSetEvent } from './structure.aggregation-enabled-set.event';\n\n\n@Injectable()\nexport class StructureSetAggregationEnabledCommandHandler extends CommandHandler {\n\n\tconstructor(private readonly structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tprivate readonly structureAggregateFactory: StructureAggregateFactory,\n\t\t\t\tprivate readonly structureSourceDomainEventPublisher: StructureSourceDomainEventPublisher,\n\t\t\t\tprivate domainEventPublisher: DomainEventPublisher) {\n\t\tsuper(StructureSetAggregationEnabledCommand);\n\t}\n\n\thandle(command: StructureSetAggregationEnabledCommand): ExecuteResponse | Observable<ExecuteResponse> {\n\n\t\tconst structureId = command.structureId,\n\t\t\tenabled = command.enabled;\n\n\t\tconst structure = this.structureAggregateRepository.getById(structureId);\n\n\t\tconst aggregateEvents = structure.setAggregationEnabled(enabled);\n\n\t\tthis.structureAggregateRepository.save(structure);\n\n\t\tthis.domainEventPublisher.publish(new StructureAggregationEnabledSetEvent(structureId, enabled));\n\t\tthis.structureSourceDomainEventPublisher.publish(aggregateEvents);\n\t}\n\n}\n","import { AggregatedValues } from './aggregated.values';\nimport { DataType } from '../../field/data-type/data-type';\nimport { Field } from '../../field/data-type/field';\nimport { OriginItemEntity } from '../../../../source/command/origin/origin-item-entity';\nimport { AggregationType } from '../aggregation.type';\n\n\nexport abstract class AggregationCalculator<T, A extends AggregatedValues> {\n\n\tabstract forDataType(dataType: DataType): boolean;\n\n\tabstract prepare(field: Field): void;\n\n\tabstract postCalculate(field: Field, items: Array<OriginItemEntity>): void;\n\n\tabstract aggregate(field: Field, value: T): void;\n\n\tabstract generateAggregatedValues(field: Field): A;\n\n\tcalculate(fields: Array<Field>, items: Array<OriginItemEntity>): Map<string, A> {\n\n\t\tconst filteredFields = fields.filter((field: Field) => this.forDataType(field.getDataType()));\n\n\t\tif (!filteredFields || filteredFields.length === 0 || items.length === 0) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet count = new Map<string, number>(),\n\t\t\tdistinct = new Map<string, Set<string>>();\n\n\t\t// init\n\t\tfilteredFields.forEach((field: Field) => {\n\n\t\t\tconst key = field.getKey();\n\n\t\t\tcount.set(key, 0);\n\t\t\tdistinct.set(key, new Set());\n\n\t\t\tthis.prepare(field);\n\t\t});\n\n\t\t// calculate\n\t\titems.forEach((item: OriginItemEntity) => {\n\n\t\t\tfilteredFields.forEach((field: Field) => {\n\n\t\t\t\tconst key = field.getKey(),\n\t\t\t\t\tvalue = field.getValue(item);\n\n\t\t\t\tif (value !== null || value !== undefined || value !== '') {\n\n\t\t\t\t\tif (field.isAggregation(AggregationType.COUNT)) {\n\t\t\t\t\t\tconst countForField = count.get(key);\n\t\t\t\t\t\tcount.set(key, countForField + 1);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (field.isAggregation(AggregationType.DISTINCT)) {\n\t\t\t\t\t\tconst distinctSet = distinct.get(key);\n\t\t\t\t\t\tdistinctSet.add(value);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.aggregate(field, value);\n\t\t\t});\n\t\t});\n\n\t\tfilteredFields.forEach((field: Field) => {\n\n\t\t\tthis.postCalculate(field, items);\n\n\t\t});\n\n\t\tlet aggregations = new Map();\n\n\t\tfilteredFields.forEach((field: Field) => {\n\n\t\t\tconst key = field.getId().getId();\n\n\t\t\tlet aggregatedValues = this.generateAggregatedValues(field);\n\n\t\t\tif (field.isAggregation(AggregationType.COUNT)) {\n\t\t\t\taggregatedValues.setCount(count.get(key));\n\t\t\t}\n\n\t\t\tif (field.isAggregation(AggregationType.DISTINCT)) {\n\t\t\t\taggregatedValues.setDistinct((distinct.get(key)).size);\n\t\t\t}\n\n\t\t\taggregations.set(key, aggregatedValues);\n\t\t});\n\n\t\treturn aggregations;\n\t}\n\n}\n","export abstract class AggregatedValues {\n\n\tpublic count: number;\n\tpublic distinct: number;\n\n\tsetCount(value: number): void {\n\t\tthis.count = value;\n\t}\n\n\tsetDistinct(value: number): void {\n\t\tthis.distinct = value;\n\t}\n\n}\n","import { AggregatedValues } from '../aggregated.values';\n\nexport class BooleanAggregatedValues extends AggregatedValues {\n\n\tpublic readonly truthy: number;\n\n\tpublic readonly falsy: number;\n\n\tconstructor(truthy: number,\n\t\t\t\tfalsy: number) {\n\t\tsuper();\n\t\tthis.truthy = truthy;\n\t\tthis.falsy = falsy;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregationCalculator } from '../aggregation.calculator';\nimport { BooleanAggregatedValues } from './boolean-aggregated.values';\nimport { DataType } from '../../../field/data-type/data-type';\nimport { Field } from '../../../field/data-type/field';\nimport { AggregationType } from '../../aggregation.type';\nimport { OriginItemEntity } from '../../../../../source/command/origin/origin-item-entity';\n\n\n@Injectable()\nexport class BooleanAggregationCalculator extends AggregationCalculator<boolean, BooleanAggregatedValues> {\n\n\tprivate readonly truthy = new Map<string, number>();\n\tprivate readonly falsy = new Map<string, number>();\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tforDataType(dataType: DataType): boolean {\n\t\treturn dataType === DataType.BOOLEAN;\n\t}\n\n\tprepare(field: Field): void {\n\n\t\tconst key = field.getKey();\n\n\t\tif (field.isAggregation(AggregationType.TRUTHY)) {\n\t\t\tthis.truthy.set(key, 0);\n\t\t}\n\n\t\tif (field.isAggregation(AggregationType.FALSY)) {\n\t\t\tthis.falsy.set(key, 0);\n\t\t}\n\t}\n\n\tpostCalculate(field: Field, items: Array<OriginItemEntity>): void {\n\t}\n\n\taggregate(field: Field, value: boolean): void {\n\n\t\tconst booleanValue = value, // (value as any === 'true'),\n\t\t\tkey = field.getKey(),\n\t\t\ttruthyForField = this.truthy.get(key),\n\t\t\tfalsyForField = this.falsy.get(key);\n\n\t\tif (booleanValue) {\n\t\t\tif (field.isAggregation(AggregationType.TRUTHY)) {\n\t\t\t\tthis.truthy.set(key, truthyForField + 1);\n\t\t\t}\n\t\t} else {\n\t\t\tif (field.isAggregation(AggregationType.FALSY)) {\n\t\t\t\tthis.falsy.set(key, falsyForField + 1);\n\t\t\t}\n\t\t}\n\n\t}\n\n\tgenerateAggregatedValues(field: Field): BooleanAggregatedValues {\n\n\t\tconst key = field.getKey();\n\n\t\treturn new BooleanAggregatedValues(\n\t\t\tthis.truthy.get(key),\n\t\t\tthis.falsy.get(key)\n\t\t);\n\t}\n\n}\n","import { AggregatedValues } from '../aggregated.values';\n\nexport class DateAggregatedValues extends AggregatedValues {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { AggregationCalculator } from '../aggregation.calculator';\nimport { DateAggregatedValues } from './date-aggregated.values';\nimport { DataType } from '../../../field/data-type/data-type';\nimport { Field } from '../../../field/data-type/field';\nimport { OriginItemEntity } from '../../../../../source/command/origin/origin-item-entity';\n\n\n@Injectable()\nexport class DateAggregationCalculator extends AggregationCalculator<Date, DateAggregatedValues> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tforDataType(dataType: DataType): boolean {\n\t\treturn dataType === DataType.DATE;\n\t}\n\n\tprepare(field: Field): void {\n\t}\n\n\tpostCalculate(field: Field, items: Array<OriginItemEntity>): void {\n\t}\n\n\taggregate(field: Field, value: Date): void {\n\t}\n\n\tgenerateAggregatedValues(field: Field): DateAggregatedValues {\n\t\treturn new DateAggregatedValues();\n\t}\n\n}\n","import { AggregatedValues } from '../aggregated.values';\n\nexport class NumberAggregatedValues extends AggregatedValues {\n\n\tpublic readonly sum: number;\n\tpublic readonly min: number;\n\tpublic readonly max: number;\n\tpublic readonly average: number;\n\tpublic readonly median: number;\n\n\tconstructor(sum: number,\n\t\t\t\tmin: number,\n\t\t\t\tmax: number,\n\t\t\t\taverage: number,\n\t\t\t\tmedian: number) {\n\t\tsuper();\n\t\tthis.sum = this.setValueWithPrecision(sum);\n\t\tthis.min = this.setValueWithPrecision(min);\n\t\tthis.max = this.setValueWithPrecision(max);\n\t\tthis.average = this.setValueWithPrecision(average);\n\t\tthis.median = this.setValueWithPrecision(median);\n\t}\n\n\tprivate setValueWithPrecision(value: number): number {\n\t\tif (!value && value !== 0) {\n\t\t\treturn null;\n\t\t}\n\n\t\tif (value === 0) {\n\t\t\treturn 0;\n\t\t}\n\n\t\treturn +((value).toFixed(2));\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { AggregationCalculator } from '../aggregation.calculator';\nimport { NumberAggregatedValues } from './number-aggregated.values';\nimport { DataType } from '../../../field/data-type/data-type';\nimport { Field } from '../../../field/data-type/field';\nimport { AggregationType } from '../../aggregation.type';\nimport { OriginItemEntity } from '../../../../../source/command/origin/origin-item-entity';\n\n\n@Injectable()\nexport class NumberAggregationCalculator extends AggregationCalculator<number, NumberAggregatedValues> {\n\n\tprivate readonly sum = new Map<string, number>();\n\tprivate readonly min = new Map<string, number>();\n\tprivate readonly max = new Map<string, number>();\n\tprivate readonly average = new Map<string, number>();\n\tprivate readonly median = new Map<string, number>();\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tforDataType(dataType: DataType): boolean {\n\t\treturn dataType === DataType.NUMBER;\n\t}\n\n\tprepare(field: Field): void {\n\n\t\tconst key = field.getKey();\n\n\t\tthis.sum.set(key, 0);\n\t\tthis.min.set(key, Number.MAX_SAFE_INTEGER);\n\t\tthis.max.set(key, 0);\n\t}\n\n\tpostCalculate(field: Field, items: Array<OriginItemEntity>): void {\n\n\t\tconst key = field.getKey();\n\n\t\tif (field.isAggregation(AggregationType.AVERAGE)) {\n\t\t\tthis.average.set(key, this.sum.get(key) / items.length);\n\t\t}\n\n\t\tif (field.isAggregation(AggregationType.MEDIAN)) {\n\t\t\tthis.median.set(key, field.getValue(items[Math.floor(items.length / 2)]));\n\t\t}\n\t}\n\n\taggregate(field: Field, value: number): void {\n\n\t\tconst numberValue = +value,\n\t\t\tkey = field.getKey(),\n\t\t\tsumForField = this.sum.get(key),\n\t\t\tminForField = this.min.get(key),\n\t\t\tmaxForField = this.max.get(key);\n\n\t\tif (field.isAggregation(AggregationType.SUM) || field.isAggregation(AggregationType.AVERAGE)) {\n\t\t\tthis.sum.set(key, sumForField + numberValue);\n\t\t}\n\n\t\tif (field.isAggregation(AggregationType.MIN)) {\n\t\t\tif (minForField > numberValue) {\n\t\t\t\tthis.min.set(key, numberValue);\n\t\t\t}\n\t\t}\n\n\t\tif (field.isAggregation(AggregationType.MAX)) {\n\t\t\tif (maxForField < numberValue) {\n\t\t\t\tthis.max.set(key, numberValue);\n\t\t\t}\n\t\t}\n\n\t}\n\n\tgenerateAggregatedValues(field: Field): NumberAggregatedValues {\n\n\t\tconst key = field.getKey(),\n\t\t\tsum = field.isAggregation(AggregationType.SUM) ? this.sum.get(key) : undefined,\n\t\t\tmin = field.isAggregation(AggregationType.MIN) ? this.min.get(key) : undefined,\n\t\t\tmax = field.isAggregation(AggregationType.MAX) ? this.max.get(key) : undefined,\n\t\t\taverage = field.isAggregation(AggregationType.AVERAGE) ? this.average.get(key) : undefined,\n\t\t\tmedian = field.isAggregation(AggregationType.MEDIAN) ? this.median.get(key) : undefined;\n\n\t\treturn new NumberAggregatedValues(\n\t\t\tsum,\n\t\t\tmin,\n\t\t\tmax,\n\t\t\taverage,\n\t\t\tmedian\n\t\t);\n\t}\n\n}\n","import { AggregatedValues } from '../aggregated.values';\n\nexport class StringAggregatedValues extends AggregatedValues {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { AggregationCalculator } from '../aggregation.calculator';\nimport { StringAggregatedValues } from './string-aggregated.values';\nimport { DataType } from '../../../field/data-type/data-type';\nimport { Field } from '../../../field/data-type/field';\nimport { OriginItemEntity } from '../../../../../source/command/origin/origin-item-entity';\n\n\n@Injectable()\nexport class StringAggregationCalculator extends AggregationCalculator<string, StringAggregatedValues> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tforDataType(dataType: DataType): boolean {\n\t\treturn dataType === DataType.STRING;\n\t}\n\n\tprepare(field: Field): void {\n\t}\n\n\tpostCalculate(field: Field, items: Array<OriginItemEntity>): void {\n\t}\n\n\taggregate(field: Field, value: string): void {\n\t}\n\n\tgenerateAggregatedValues(field: Field): StringAggregatedValues {\n\t\treturn new StringAggregatedValues();\n\t}\n\n}\n","import { AggregatedValues } from '../aggregated.values';\n\nexport class UnknownAggregatedValues extends AggregatedValues {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { AggregationCalculator } from '../aggregation.calculator';\nimport { UnknownAggregatedValues } from './unknown-aggregated.values';\nimport { DataType } from '../../../field/data-type/data-type';\nimport { Field } from '../../../field/data-type/field';\nimport { OriginItemEntity } from '../../../../../source/command/origin/origin-item-entity';\n\n\n@Injectable()\nexport class UnknownAggregationCalculator extends AggregationCalculator<any, UnknownAggregatedValues> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tforDataType(dataType: DataType): boolean {\n\t\treturn dataType === DataType.UNKNOWN;\n\t}\n\n\tprepare(field: Field): void {\n\t}\n\n\tpostCalculate(field: Field, items: Array<OriginItemEntity>): void {\n\t}\n\n\taggregate(field: Field, value: any): void {\n\t}\n\n\tgenerateAggregatedValues(field: Field): UnknownAggregatedValues {\n\t\treturn new UnknownAggregatedValues();\n\t}\n\n}\n","import { Provider, Type } from '@angular/core';\nimport { AGGREGATION_CALCULATORS } from './calculation/aggregation.calculators.token';\nimport { BooleanAggregationCalculator } from './calculation/boolean/boolean-aggregation.calculator';\nimport { DateAggregationCalculator } from './calculation/date/date-aggregation.calculator';\nimport { NumberAggregationCalculator } from './calculation/number/number-aggregation.calculator';\nimport { StringAggregationCalculator } from './calculation/string/string-aggregation.calculator';\nimport { UnknownAggregationCalculator } from './calculation/unknown/unknown-aggregation.calculator';\nimport { AggregationManagerFactory } from './aggregation.manager.factory';\n\n\nexport function provideAggregationCalculator(clazz: Type<any>): Provider {\n\treturn {\n\t\tprovide: AGGREGATION_CALCULATORS,\n\t\tuseClass: clazz,\n\t\tmulti: true\n\t};\n}\n\nexport const aggregationProviders = [\n\tprovideAggregationCalculator(BooleanAggregationCalculator),\n\tprovideAggregationCalculator(DateAggregationCalculator),\n\tprovideAggregationCalculator(NumberAggregationCalculator),\n\tprovideAggregationCalculator(StringAggregationCalculator),\n\tprovideAggregationCalculator(UnknownAggregationCalculator),\n\n\tAggregationManagerFactory\n];\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventHandler } from '@generic-ui/hermes';\nimport { StructureFilterRepository } from './structure.filter.repository';\nimport { StructureConfigFilterSetEvent } from '../../command/filter/config/structure.config-filter-set.event';\n\n\n@Injectable()\nexport class StructureConfigFilterSetEventHandler extends DomainEventHandler {\n\n\tconstructor(private structureFilterRepository: StructureFilterRepository) {\n\t\tsuper();\n\t}\n\n\thandle(event: StructureConfigFilterSetEvent): void {\n\n\t\tif (event instanceof StructureConfigFilterSetEvent) {\n\t\t\tthis.structureFilterRepository.setEnabled(event.getEnabled(), event.getAggregateId());\n\t\t}\n\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventHandler } from '@generic-ui/hermes';\n\nimport { StructureSearchingRepository } from './structure.searching.repository';\n\nimport { StructureConfigSearchingSetEvent } from '../../command/search/config/structure.config-searching-set.event';\n\n\n@Injectable()\nexport class StructureConfigSearchingSetEventHandler extends DomainEventHandler {\n\n\tconstructor(private structureSearchingRepository: StructureSearchingRepository) {\n\t\tsuper();\n\t}\n\n\thandle(event: StructureConfigSearchingSetEvent): void {\n\n\t\tif (event instanceof StructureConfigSearchingSetEvent) {\n\t\t\tthis.structureSearchingRepository.setEnabled(event.getEnabled(), event.getAggregateId());\n\t\t}\n\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventHandler } from '@generic-ui/hermes';\n\nimport { StructureQuickFilterRepository } from './structure.quick-filter.repository';\nimport { StructureConfigQuickFilterSetEvent } from '../../command/filter/quick/structure.config-quick-filter-set.event';\n\n\n@Injectable()\nexport class StructureConfigQuickFilterSetEventHandler extends DomainEventHandler {\n\n\tconstructor(private structureQuickFilterRepository: StructureQuickFilterRepository) {\n\t\tsuper();\n\t}\n\n\thandle(event: StructureConfigQuickFilterSetEvent): void {\n\n\t\tif (event instanceof StructureConfigQuickFilterSetEvent) {\n\t\t\tthis.structureQuickFilterRepository.setEnabled(event.getEnabled(), event.getAggregateId());\n\t\t}\n\n\t}\n\n}\n","import { FieldId } from '../../../domain/structure/command/field/data-type/field.id';\nimport { DataType } from '../../../domain/structure/command/field/data-type/data-type';\n\n\nexport class StructureFieldUiModel {\n\n\tconstructor(private readonly id: FieldId,\n\t\t\t\tprivate readonly dataType: DataType) {\n\t}\n\n\tgetId(): string {\n\t\treturn this.id.getId();\n\t}\n\n\tgetDataType(): DataType {\n\t\treturn this.dataType;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { Field } from '../../../domain/structure/command/field/data-type/field';\nimport { StructureFieldUiModel } from './structure.field.ui-model';\n\n\n@Injectable()\nexport class StructureFieldUiConverter {\n\n\tconvert(fields: Array<Field>): Array<StructureFieldUiModel> {\n\t\treturn fields.map((field: Field) => {\n\t\t\treturn this.convertOne(field);\n\t\t});\n\t}\n\n\tprivate convertOne(field: Field): StructureFieldUiModel {\n\n\t\treturn new StructureFieldUiModel(field.getId(), field.getDataType());\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventHandler } from '@generic-ui/hermes';\n\nimport { StructureFieldUiArchive } from './structure.field.ui-archive';\nimport { StructureFieldUiConverter } from './structure.field.ui-converter';\nimport { FieldsInitedEvent } from '../../../domain/structure/command/field/init/fields-inited.event';\n\n\n@Injectable()\nexport class StructureFieldsInitedEventHandler extends DomainEventHandler {\n\n\tconstructor(private structureFieldsRepository: StructureFieldUiArchive,\n\t\t\t\tprivate structureFieldUiConverter: StructureFieldUiConverter) {\n\t\tsuper();\n\t}\n\n\thandle(event: FieldsInitedEvent): void {\n\n\t\tif (event instanceof FieldsInitedEvent) {\n\n\t\t\tconst fields = this.structureFieldUiConverter.convert(event.getFields());\n\n\t\t\tthis.structureFieldsRepository.next(event.getAggregateId(), fields);\n\t\t}\n\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { filter } from 'rxjs/operators';\n\nimport { DomainEvent, DomainEventBus } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../domain/structure-id';\nimport { StructureAggregationsChangedEvent } from '../../../domain/structure/command/aggregation/structure.aggregations-changed.event';\n\n\n@Injectable()\nexport class StructureAggregationUiEventsRepository {\n\n\tconstructor(private readonly domainEventBus: DomainEventBus) {\n\t}\n\n\tonAggregationsChanged(structureId: StructureId): Observable<DomainEvent> {\n\n\t\treturn this.domainEventBus\n\t\t\t\t   .pipe(\n\t\t\t\t\t   filter((event: DomainEvent) => event instanceof StructureAggregationsChangedEvent),\n\t\t\t\t\t   filter((event: DomainEvent) => event.aggregateId.toString() === structureId.toString())\n\t\t\t\t   );\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { CommandHandler, DomainEventPublisher, ExecuteResponse } from '@generic-ui/hermes';\n\nimport { StructureAggregateRepository } from '../../../structure/command/structure-aggregate.repository';\n\nimport { SetPagingCommand } from './set-paging.command';\nimport { PagingSetEvent } from './paging-set.event';\nimport { PagingConfig } from '../../paging-config';\n\n\n@Injectable()\nexport class SetPagingCommandHandler extends CommandHandler {\n\n\tconstructor(private structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tdomainEventPublisher: DomainEventPublisher) {\n\t\tsuper(SetPagingCommand,\n\t\t\tPagingSetEvent,\n\t\t\tdomainEventPublisher);\n\t}\n\n\thandle(command: SetPagingCommand): ExecuteResponse | Observable<ExecuteResponse> {\n\n\t\tconst pagingConfig = command.payload as PagingConfig,\n\t\t\tstructureId = command.structureId;\n\n\t\tconst structure = this.structureAggregateRepository.getById(structureId);\n\n\t\tstructure.changePaging(pagingConfig);\n\n\t\tthis.structureAggregateRepository.save(structure);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { CommandHandler, DomainEventPublisher, ExecuteResponse } from '@generic-ui/hermes';\nimport { StructureAggregateRepository } from '../../../structure/command/structure-aggregate.repository';\nimport { NextPageCommand } from './next-page.command';\nimport { NextPageEvent } from './next-page.event';\n\n\n@Injectable()\nexport class NextPageCommandHandler extends CommandHandler {\n\n\tconstructor(private structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tdomainEventPublisher: DomainEventPublisher) {\n\t\tsuper(NextPageCommand,\n\t\t\tNextPageEvent,\n\t\t\tdomainEventPublisher);\n\t}\n\n\thandle(command: NextPageCommand): ExecuteResponse | Observable<ExecuteResponse> {\n\n\t\tconst structureId = command.structureId;\n\n\t\tconst structure = this.structureAggregateRepository.getById(structureId);\n\n\t\tstructure.nextPage();\n\n\t\tthis.structureAggregateRepository.save(structure);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { CommandHandler, DomainEventPublisher, ExecuteResponse } from '@generic-ui/hermes';\n\nimport { StructureAggregateRepository } from '../../../structure/command/structure-aggregate.repository';\n\nimport { PrevPageCommand } from './prev-page.command';\nimport { PrevPageEvent } from './prev-page.event';\n\n\n@Injectable()\nexport class PrevPageCommandHandler extends CommandHandler {\n\n\tconstructor(private structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tdomainEventPublisher: DomainEventPublisher) {\n\t\tsuper(PrevPageCommand,\n\t\t\tPrevPageEvent,\n\t\t\tdomainEventPublisher);\n\t}\n\n\thandle(command: PrevPageCommand): ExecuteResponse | Observable<ExecuteResponse> {\n\n\t\tconst structureId = command.structureId;\n\n\t\tconst structure = this.structureAggregateRepository.getById(structureId);\n\n\t\tstructure.prevPage();\n\n\t\tthis.structureAggregateRepository.save(structure);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { AggregateEvent, CommandHandler, DomainEventPublisher, ExecuteResponse } from '@generic-ui/hermes';\nimport { StructureAggregateRepository } from '../../../structure/command/structure-aggregate.repository';\nimport { ChangePagesizeCommand } from './change-pagesize.command';\nimport { PageChangedEvent } from '../page/page-changed.event';\nimport { PagesizeChangedEvent } from './pagesize-changed.event';\n\n\n@Injectable()\nexport class ChangePagesizeCommandHandler extends CommandHandler {\n\n\tconstructor(private structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tprotected domainEventPublisher: DomainEventPublisher) {\n\t\tsuper(ChangePagesizeCommand);\n\t}\n\n\thandle(command: ChangePagesizeCommand): ExecuteResponse | Observable<ExecuteResponse> {\n\n\t\tconst newPageSize = command.pageSize as number,\n\t\t\tstructureId = command.structureId;\n\n\t\tconst structure = this.structureAggregateRepository.getById(structureId);\n\n\t\tconst aggregateEvents = structure.changePageSize(newPageSize);\n\n\t\t// aggregateEvents => DomainEvents\n\n\t\t// DomainEvent\n\t\t// causationId -> aka commandId\n\t\t// correlationId -> actual or previous commandId\n\n\t\t// event publisher should take aggregate events\n\t\t// and convert them to domain events\n\n\t\tthis.structureAggregateRepository.save(structure);\n\n\t\t// TODO\n\t\t(aggregateEvents as any).forEach((event: AggregateEvent) => {\n\t\t\t(event as any).aggregateId = structureId;\n\t\t});\n\n\t\tthis.publishAggregateEvents(aggregateEvents, command);\n\t}\n\n\tprivate publishAggregateEvents(events: ReadonlyArray<AggregateEvent>, command: ChangePagesizeCommand): void {\n\n\t\tfor (let event of events) {\n\t\t\tthis.publishAggregateEvent(event, command);\n\t\t}\n\t}\n\n\tprivate publishAggregateEvent(event: AggregateEvent, command: ChangePagesizeCommand): void {\n\n\t\tswitch (event.getType()) {\n\t\t\tcase 'PageChangedAggregateEvent':\n\n\t\t\t\tconst pageChangedEvent = new PageChangedEvent(command.getAggregateId());\n\n\t\t\t\tthis.domainEventPublisher.publish(pageChangedEvent);\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PagesizeChangedAggregateEvent':\n\n\t\t\t\tconst pagesizeChangedEvent = new PagesizeChangedEvent(command.getAggregateId());\n\n\t\t\t\tthis.domainEventPublisher.publish(pagesizeChangedEvent);\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n}\n","import { COMMAND_HANDLERS } from '@generic-ui/hermes';\n\nimport { PagingDispatcher } from '../../domain/paging/command/paging.dispatcher';\nimport { SetPagingCommandHandler } from '../../domain/paging/command/set/set-paging.command-handler';\nimport { NextPageCommandHandler } from '../../domain/paging/command/next-page/next-page.command-handler';\nimport { PrevPageCommandHandler } from '../../domain/paging/command/prev-page/prev-page.command-handler';\nimport { ChangePagesizeCommandHandler } from '../../domain/paging/command/change-pagesize/change-pagesize.command-handler';\nimport { PagingRepository } from '../../domain/paging/read/paging.repository';\nimport { PagingAggregateFactory } from '../../domain/paging/command/paging.aggregate-factory';\nimport { PagingConverter } from '../../domain/paging/paging.converter';\nimport { PagingCommandService } from './paging-command.service';\nimport { PagingReadModelService } from './paging-read-model.service';\nimport { PagingEventService } from './paging-event.service';\n\n\nconst commandProviders = [\n\tPagingDispatcher,\n\t{\n\t\tprovide: COMMAND_HANDLERS,\n\t\tuseClass: SetPagingCommandHandler,\n\t\tmulti: true\n\t},\n\t{\n\t\tprovide: COMMAND_HANDLERS,\n\t\tuseClass: NextPageCommandHandler,\n\t\tmulti: true\n\t},\n\t{\n\t\tprovide: COMMAND_HANDLERS,\n\t\tuseClass: PrevPageCommandHandler,\n\t\tmulti: true\n\t},\n\t{\n\t\tprovide: COMMAND_HANDLERS,\n\t\tuseClass: ChangePagesizeCommandHandler,\n\t\tmulti: true\n\t}\n];\n\nconst readProviders = [\n\tPagingRepository\n];\n\nexport const pagingProviders = [\n\t...commandProviders,\n\t...readProviders,\n\n\tPagingAggregateFactory,\n\tPagingConverter,\n\n\tPagingCommandService,\n\tPagingReadModelService,\n\tPagingEventService\n];\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { CommandHandler, DomainEventPublisher, ExecuteResponse } from '@generic-ui/hermes';\n\nimport { StructureAggregateRepository } from '../../../../structure/command/structure-aggregate.repository';\n\nimport { SetSchemaVerticalGridCommand } from './set-schema-vertical-grid.command';\nimport { SchemaVerticalGridSetEvent } from './schema-vertical-grid-set.event';\n\n\n@Injectable()\nexport class SetSchemaVerticalGridCommandHandler extends CommandHandler {\n\n\tconstructor(private structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tdomainEventPublisher: DomainEventPublisher) {\n\t\tsuper(SetSchemaVerticalGridCommand,\n\t\t\tSchemaVerticalGridSetEvent,\n\t\t\tdomainEventPublisher);\n\t}\n\n\thandle(command: SetSchemaVerticalGridCommand): ExecuteResponse | Observable<ExecuteResponse> {\n\n\t\tconst enabled = command.enabled,\n\t\t\tstructureId = command.structureId;\n\n\t\tconst structure = this.structureAggregateRepository.getById(structureId),\n\t\t\tschema = structure.getSchema();\n\n\t\tschema.setVerticalGrid(enabled);\n\n\t\tthis.structureAggregateRepository.save(structure);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { CommandHandler, DomainEventPublisher, ExecuteResponse } from '@generic-ui/hermes';\n\nimport { StructureAggregateRepository } from '../../../../structure/command/structure-aggregate.repository';\n\nimport { SetSchemaHorizontalGridCommand } from './set-schema-horizontal-grid.command';\nimport { SchemaHorizontalGridSetEvent } from './schema-horizontal-grid-set.event';\n\n@Injectable()\nexport class SetSchemaHorizontalGridCommandHandler extends CommandHandler {\n\n\tconstructor(private structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tdomainEventPublisher: DomainEventPublisher) {\n\t\tsuper(SetSchemaHorizontalGridCommand,\n\t\t\tSchemaHorizontalGridSetEvent,\n\t\t\tdomainEventPublisher);\n\t}\n\n\thandle(command: SetSchemaHorizontalGridCommand): ExecuteResponse | Observable<ExecuteResponse> {\n\n\t\tconst enabled = command.enabled,\n\t\t\tstructureId = command.structureId;\n\n\t\tconst structure = this.structureAggregateRepository.getById(structureId),\n\t\t\tschema = structure.getSchema();\n\n\t\tschema.setHorizontalGrid(enabled);\n\n\t\tthis.structureAggregateRepository.save(structure);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { CommandHandler, DomainEventPublisher, ExecuteResponse } from '@generic-ui/hermes';\nimport { StructureAggregateRepository } from '../../../structure/command/structure-aggregate.repository';\nimport { SetSchemaThemeCommand } from './set-schema-theme.command';\nimport { SchemaThemeSetEvent } from './schema-theme-set.event';\n\n@Injectable()\nexport class SetSchemaThemeCommandHandler extends CommandHandler {\n\n\tconstructor(private structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tdomainEventPublisher: DomainEventPublisher) {\n\t\tsuper(SetSchemaThemeCommand,\n\t\t\tSchemaThemeSetEvent,\n\t\t\tdomainEventPublisher);\n\t}\n\n\thandle(command: SetSchemaThemeCommand): ExecuteResponse | Observable<ExecuteResponse> {\n\n\t\tconst theme = command.theme,\n\t\t\tstructureId = command.structureId;\n\n\t\tconst structure = this.structureAggregateRepository.getById(structureId),\n\t\t\tschema = structure.getSchema();\n\n\t\tschema.setTheme(theme);\n\n\t\tthis.structureAggregateRepository.save(structure);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { CommandHandler, DomainEventPublisher, ExecuteResponse } from '@generic-ui/hermes';\nimport { StructureAggregateRepository } from '../../../../structure/command/structure-aggregate.repository';\nimport { ChangeSchemaBottomHeaderCommand } from './change-schema-bottom-header.command';\nimport { SchemaBottomHeaderChangedEvent } from './schema-bottom-header-changed.event';\n\n\n@Injectable()\nexport class ChangeSchemaBottomHeaderCommandHandler extends CommandHandler {\n\n\tconstructor(private structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tdomainEventPublisher: DomainEventPublisher) {\n\t\tsuper(ChangeSchemaBottomHeaderCommand,\n\t\t\tSchemaBottomHeaderChangedEvent,\n\t\t\tdomainEventPublisher);\n\t}\n\n\thandle(command: ChangeSchemaBottomHeaderCommand): ExecuteResponse | Observable<ExecuteResponse> {\n\n\t\tconst enabled = command.enabled,\n\t\t\tstructureId = command.structureId;\n\n\t\tconst structure = this.structureAggregateRepository.getById(structureId),\n\t\t\tschema = structure.getSchema();\n\n\t\tschema.setHeaderBottom(enabled);\n\n\t\tthis.structureAggregateRepository.save(structure);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\n\nimport { CommandHandler, DomainEventPublisher, ExecuteResponse } from '@generic-ui/hermes';\nimport { StructureAggregateRepository } from '../../../../structure/command/structure-aggregate.repository';\nimport { ChangeSchemaTopHeaderCommand } from './change-schema-top-header.command';\nimport { SchemaTopHeaderChangedEvent } from './schema-top-header-changed.event';\n\n\n@Injectable()\nexport class ChangeSchemaTopHeaderCommandHandler extends CommandHandler {\n\n\tconstructor(private structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tdomainEventPublisher: DomainEventPublisher) {\n\t\tsuper(ChangeSchemaTopHeaderCommand,\n\t\t\tSchemaTopHeaderChangedEvent,\n\t\t\tdomainEventPublisher);\n\t}\n\n\thandle(command: ChangeSchemaTopHeaderCommand): ExecuteResponse | Observable<ExecuteResponse> {\n\n\t\tconst enabled = command.enabled,\n\t\t\tstructureId = command.structureId;\n\n\t\tconst structure = this.structureAggregateRepository.getById(structureId),\n\t\t\tschema = structure.getSchema();\n\n\t\tschema.setHeaderTop(enabled);\n\n\t\tthis.structureAggregateRepository.save(structure);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { CommandHandler, DomainEventPublisher, ExecuteResponse } from '@generic-ui/hermes';\n\nimport { StructureAggregateRepository } from '../../../../structure/command/structure-aggregate.repository';\n\nimport { SetRowColoringCommand } from './set-row-coloring.command';\nimport { RowColoringSetEvent } from './row-coloring-set.event';\n\n\n@Injectable()\nexport class SetRowColoringCommandHandler extends CommandHandler {\n\n\tconstructor(private structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tdomainEventPublisher: DomainEventPublisher) {\n\t\tsuper(SetRowColoringCommand,\n\t\t\tRowColoringSetEvent,\n\t\t\tdomainEventPublisher);\n\t}\n\n\thandle(command: SetRowColoringCommand): ExecuteResponse | Observable<ExecuteResponse> {\n\n\t\tconst coloring = command.coloring,\n\t\t\tstructureId = command.structureId;\n\n\t\tconst structure = this.structureAggregateRepository.getById(structureId),\n\t\t\tschema = structure.getSchema();\n\n\t\tschema.setRowColoring(coloring);\n\n\t\tthis.structureAggregateRepository.save(structure);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { CommandHandler, DomainEventPublisher, ExecuteResponse } from '@generic-ui/hermes';\nimport { StructureAggregateRepository } from '../../../structure/command/structure-aggregate.repository';\nimport { SetSchemaCommand } from './set-schema.command';\nimport { SchemaSetEvent } from './schema-set.event';\n\n\n@Injectable()\nexport class SetSchemaCommandHandler extends CommandHandler {\n\n\tconstructor(private structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tdomainEventPublisher: DomainEventPublisher) {\n\t\tsuper(SetSchemaCommand,\n\t\t\tSchemaSetEvent,\n\t\t\tdomainEventPublisher);\n\t}\n\n\thandle(command: SetSchemaCommand): ExecuteResponse | Observable<ExecuteResponse> {\n\n\t\tconst height = command.height,\n\t\t\tstructureId = command.structureId;\n\n\t\tconst structure = this.structureAggregateRepository.getById(structureId);\n\n\t\tstructure.setHeight(height);\n\n\t\tthis.structureAggregateRepository.save(structure);\n\t}\n\n}\n","import { COMMAND_HANDLERS } from '@generic-ui/hermes';\n\nimport { SchemaDispatcher } from '../../domain/schema/command/schema.dispatcher';\nimport { SetSchemaVerticalGridCommandHandler } from '../../domain/schema/command/grid/vertical/set-schema-vertical-grid.command-handler';\nimport { SetSchemaHorizontalGridCommandHandler } from '../../domain/schema/command/grid/horizontal/set-schema-horizontal-grid.command-handler';\nimport { SetSchemaThemeCommandHandler } from '../../domain/schema/command/theme/set-schema-theme.command-handler';\nimport { ChangeSchemaBottomHeaderCommandHandler } from '../../domain/schema/command/column-header/bottom/change-schema-bottom-header.command-handler';\nimport { ChangeSchemaTopHeaderCommandHandler } from '../../domain/schema/command/column-header/top/change-schema-top-header.command-handler';\nimport { SetRowColoringCommandHandler } from '../../domain/schema/command/coloring/set/set-row-coloring.command-handler';\nimport { SetSchemaCommandHandler } from '../../domain/schema/command/set/set-schema.command-handler';\nimport { SchemaRepository } from '../../domain/schema/read/schema-repository';\nimport { SchemaConverter } from '../../domain/schema/schema.converter';\nimport { SchemaCommandService } from './schema-command.service';\nimport { SchemaReadModelService } from './schema-read-model.service';\nimport { SchemaAggregateFactory } from '../../domain/schema/command/schema.aggregate-factory';\n\n\nconst commandProviders = [\n\tSchemaDispatcher,\n\t{\n\t\tprovide: COMMAND_HANDLERS,\n\t\tuseClass: SetSchemaCommandHandler,\n\t\tmulti: true\n\t},\n\t{\n\t\tprovide: COMMAND_HANDLERS,\n\t\tuseClass: SetSchemaVerticalGridCommandHandler,\n\t\tmulti: true\n\t},\n\t{\n\t\tprovide: COMMAND_HANDLERS,\n\t\tuseClass: SetSchemaHorizontalGridCommandHandler,\n\t\tmulti: true\n\t},\n\t{\n\t\tprovide: COMMAND_HANDLERS,\n\t\tuseClass: SetSchemaThemeCommandHandler,\n\t\tmulti: true\n\t},\n\t{\n\t\tprovide: COMMAND_HANDLERS,\n\t\tuseClass: ChangeSchemaBottomHeaderCommandHandler,\n\t\tmulti: true\n\t},\n\t{\n\t\tprovide: COMMAND_HANDLERS,\n\t\tuseClass: ChangeSchemaTopHeaderCommandHandler,\n\t\tmulti: true\n\t},\n\t{\n\t\tprovide: COMMAND_HANDLERS,\n\t\tuseClass: SetRowColoringCommandHandler,\n\t\tmulti: true\n\t},\n\tSchemaAggregateFactory\n];\n\nconst readProviders = [\n\tSchemaRepository\n];\n\nexport const schemaProviders = [\n\t...commandProviders,\n\t...readProviders,\n\n\tSchemaConverter,\n\n\tSchemaCommandService,\n\tSchemaReadModelService\n\n];\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { CommandHandler, DomainEventPublisher, ExecuteResponse } from '@generic-ui/hermes';\n\nimport { StructureAggregateRepository } from '../../../structure/command/structure-aggregate.repository';\n\nimport { SetFormationCommand } from './set-formation.command';\nimport { FormationSetEvent } from './formation-set.event';\n\n\n@Injectable()\nexport class SetFormationCommandHandler extends CommandHandler {\n\n\tconstructor(private structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tdomainEventPublisher: DomainEventPublisher) {\n\t\tsuper(SetFormationCommand,\n\t\t\tFormationSetEvent,\n\t\t\tdomainEventPublisher);\n\t}\n\n\thandle(command: SetFormationCommand): ExecuteResponse | Observable<ExecuteResponse> {\n\n\t\tconst rawFormation = command.payload as any,\n\t\t\tstructureId = command.structureId;\n\n\t\tconst structure = this.structureAggregateRepository.getById(structureId);\n\n\t\t// missing implementation\n\n\t\tthis.structureAggregateRepository.save(structure);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { CommandHandler, DomainEventPublisher, ExecuteResponse } from '@generic-ui/hermes';\nimport { StructureAggregateRepository } from '../../../structure/command/structure-aggregate.repository';\nimport { ToggleSelectedRowCommand } from './toggle-selected-row.command';\nimport { SelectedRowToggledEvent } from './selected-row-toggled.event';\n\n\n@Injectable()\nexport class ToggleSelectedRowCommandHandler extends CommandHandler {\n\n\tconstructor(private structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tdomainEventPublisher: DomainEventPublisher) {\n\t\tsuper(ToggleSelectedRowCommand,\n\t\t\tSelectedRowToggledEvent,\n\t\t\tdomainEventPublisher);\n\t}\n\n\thandle(command: ToggleSelectedRowCommand): ExecuteResponse | Observable<ExecuteResponse> {\n\n\t\tconst selectedRow = command.selectedRow,\n\t\t\tstructureId = command.structureId;\n\n\t\tconst structure = this.structureAggregateRepository.getById(structureId);\n\n\t\tif (!structure) {\n\t\t\tconsole.error(`There is no aggregate 'Structure' for aggregateId: ${structureId}`);\n\t\t\treturn;\n\t\t}\n\n\t\tconst formation = structure.getFormation();\n\n\t\tformation.toggleRow(selectedRow);\n\n\t\tthis.structureAggregateRepository.save(structure);\n\t}\n\n}\n","import { COMMAND_HANDLERS } from '@generic-ui/hermes';\n\nimport { FormationDispatcher } from '../../domain/formation/command/formation.dispatcher';\nimport { SetFormationCommandHandler } from '../../domain/formation/command/set/set-formation.command-handler';\nimport { ToggleSelectedRowCommandHandler } from '../../domain/formation/command/toggle/toggle-selected-row.command-handler';\nimport { FormationRepository } from '../../domain/formation/read/formation-repository';\nimport { FormationAggregateFactory } from '../../domain/formation/command/formation.aggregate-factory';\nimport { FormationConverter } from '../../domain/formation/formation.converter';\nimport { FormationEventService } from './formation-event.service';\nimport { FormationCommandService } from './formation-command.service';\nimport { FormationReadModelService } from './formation-read-model.service';\n\nconst commandProviders = [\n\tFormationDispatcher,\n\t{\n\t\tprovide: COMMAND_HANDLERS,\n\t\tuseClass: SetFormationCommandHandler,\n\t\tmulti: true\n\t},\n\t{\n\t\tprovide: COMMAND_HANDLERS,\n\t\tuseClass: ToggleSelectedRowCommandHandler,\n\t\tmulti: true\n\t},\n\tFormationAggregateFactory\n];\n\nconst readProviders = [\n\tFormationRepository\n];\n\nexport const formationProviders = [\n\t...commandProviders,\n\t...readProviders,\n\n\tFormationEventService,\n\n\tFormationConverter,\n\n\tFormationCommandService,\n\tFormationReadModelService\n];\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { CommandHandler, ExecuteResponse } from '@generic-ui/hermes';\n\nimport { StructureAggregateRepository } from '../../../../structure/command/structure-aggregate.repository';\nimport { StructureSourceDomainEventPublisher } from '../../structure.source.domain-event.publisher';\nimport { SetOriginCommand } from './set-origin.command';\n\n\n@Injectable()\nexport class SetOriginCommandHandler extends CommandHandler {\n\n\tconstructor(private structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tprivate structureSourceDomainEventPublisher: StructureSourceDomainEventPublisher) {\n\t\tsuper(SetOriginCommand);\n\t}\n\n\thandle(command: SetOriginCommand): ExecuteResponse | Observable<ExecuteResponse> {\n\n\t\tconst structureId = command.structureId,\n\t\t\titems = command.items as Array<any>;\n\n\t\tconst structure = this.structureAggregateRepository.getById(structureId);\n\n\t\tif (!structure) {\n\t\t\tconsole.error(`There is no aggregate 'Structure' for aggregateId: ${structureId}`);\n\t\t\treturn;\n\t\t}\n\n\t\tconst aggregateEvents = structure.setOrigin(items);\n\n\t\tthis.structureAggregateRepository.save(structure);\n\n\t\tthis.structureSourceDomainEventPublisher.publish(aggregateEvents);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { CommandHandler, DomainEventPublisher, ExecuteResponse } from '@generic-ui/hermes';\n\nimport { StructureEditSourceItemCommand } from './structure.edit-source-item.command';\nimport { StructureAggregateRepository } from '../../../../structure/command/structure-aggregate.repository';\nimport { StructureSourceDomainEventPublisher } from '../../structure.source.domain-event.publisher';\n\n\n@Injectable()\nexport class StructureEditSourceItemCommandHandler extends CommandHandler {\n\n\tconstructor(private structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tprivate domainEventPublisher: DomainEventPublisher,\n\t\t\t\tprivate structureSourceDomainEventPublisher: StructureSourceDomainEventPublisher) {\n\t\tsuper(StructureEditSourceItemCommand);\n\t}\n\n\thandle(command: StructureEditSourceItemCommand): ExecuteResponse | Observable<ExecuteResponse> {\n\n\t\tconst structureId = command.getAggregateId(),\n\t\t\tparams = command.getParams();\n\n\t\tconst structure = this.structureAggregateRepository.getById(structureId);\n\n\t\tconst aggregateEvents = structure.editItem(params);\n\n\t\tthis.structureAggregateRepository.save(structure);\n\n\t\tthis.structureSourceDomainEventPublisher.publish(aggregateEvents);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventHandler } from '@generic-ui/hermes';\nimport { StructureSourceOriginRepository } from './structure.source-origin.repository';\nimport { OriginSetEvent } from '../../command/origin/set-origin/origin-set.event';\n\n\n@Injectable()\nexport class StructureOriginChangedEventHandler extends DomainEventHandler {\n\n\tconstructor(private structureSourceOriginRepository: StructureSourceOriginRepository) {\n\t\tsuper();\n\t}\n\n\thandle(event: OriginSetEvent): void {\n\n\t\tif (event instanceof OriginSetEvent) {\n\t\t\tconst origin = event.getOrigin();\n\n\t\t\tthis.structureSourceOriginRepository.setOrigin(origin, event.getAggregateId());\n\t\t}\n\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { filter, map } from 'rxjs/operators';\n\nimport { StructureRepository } from '../../structure/read/structure.repository';\nimport { StructureId } from '../../structure-id';\nimport { Schema } from '../../schema/read/schema';\nimport { Structure } from '../../structure/read/structure';\n\n\n@Injectable()\nexport class SourceRepository {\n\n\tconstructor(private structureRepository: StructureRepository) {\n\t}\n\n\tselect(structureId: StructureId): Observable<Schema> {\n\n\t\treturn this.structureRepository\n\t\t\t\t   .onStructure(structureId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   filter((structure: Structure) => structure.getId().toString() === structureId.toString()),\n\t\t\t\t\t   map((structure: Structure) => structure.getSchema())\n\t\t\t\t   );\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { CommandHandler, DomainEventPublisher, ExecuteResponse } from '@generic-ui/hermes';\n\nimport { StructureAggregateRepository } from '../../../structure/command/structure-aggregate.repository';\nimport { SetSourceLoadingEvent } from './set-source-loading.event';\nimport { SourceSetLoadingCommand } from './source-set-loading.command';\n\n\n@Injectable()\nexport class SourceSetLoadingCommandHandler extends CommandHandler {\n\n\tconstructor(private structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tdomainEventPublisher: DomainEventPublisher) {\n\t\tsuper(SourceSetLoadingCommand,\n\t\t\tSetSourceLoadingEvent,\n\t\t\tdomainEventPublisher);\n\t}\n\n\thandle(command: SourceSetLoadingCommand): ExecuteResponse | Observable<ExecuteResponse> {\n\n\t\tconst enabled = command.enabled,\n\t\t\tstructureId = command.structureId;\n\n\t\tconst structure = this.structureAggregateRepository.getById(structureId),\n\t\t\tsource = structure.getSource();\n\n\t\tsource.setLoading(enabled);\n\n\t\tthis.structureAggregateRepository.save(structure);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { DomainEventHandler } from '@generic-ui/hermes';\n\nimport { StructurePreparedEntitiesSetEvent } from '../../command/prepared/structure.prepared-entities-set.event';\nimport { StructurePreparedItemsRepository } from './structure.prepared-items.repository';\n\n\n@Injectable()\nexport class StructurePreparedItemsEventHandler extends DomainEventHandler {\n\n\tconstructor(private structurePreparedItemsRepository: StructurePreparedItemsRepository) {\n\t\tsuper();\n\t}\n\n\thandle(event: StructurePreparedEntitiesSetEvent): void {\n\n\t\tif (event instanceof StructurePreparedEntitiesSetEvent) {\n\t\t\tconst preparedItems = event.getPreparedItems();\n\n\t\t\tthis.structurePreparedItemsRepository.setItems(preparedItems, event.getAggregateId());\n\t\t}\n\n\t}\n}\n","import { COMMAND_HANDLERS, DOMAIN_EVENT_HANDLERS } from '@generic-ui/hermes';\nimport { SourceDispatcher } from '../../domain/source/command/source.dispatcher';\nimport { SourceManagerFactory } from '../../domain/source/command/source.manager-factory';\nimport { SetOriginCommandHandler } from '../../domain/source/command/origin/set-origin/set-origin.command-handler';\nimport { StructureEditSourceItemCommandHandler } from '../../domain/source/command/origin/edit/structure.edit-source-item.command-handler';\nimport { StructureSourceDomainEventPublisher } from '../../domain/source/command/structure.source.domain-event.publisher';\nimport { StructureOriginChangedEventHandler } from '../../domain/source/read/origin/structure.origin-changed.event-handler';\nimport { SourceConverter } from '../../domain/source/source.converter';\nimport { SourceCommandService } from './source-command.service';\nimport { SourceReadModelService } from './source-read-model.service';\nimport { SourceEventService } from './event/source-event.service';\nimport { SourceRepository } from '../../domain/source/read/source.repository';\nimport { StructureSourceOriginRepository } from '../../domain/source/read/origin/structure.source-origin.repository';\nimport { SourceSetLoadingCommandHandler } from '../../domain/source/command/loading/source-set-loading.command-handler';\nimport { StructurePreparedItemsRepository } from '../../domain/source/read/prepared/structure.prepared-items.repository';\nimport { StructurePreparedItemsEventHandler } from '../../domain/source/read/prepared/structure.prepared-items.event-handler';\n\n\nconst commandProviders = [\n\tSourceDispatcher,\n\tSourceManagerFactory,\n\t{\n\t\tprovide: COMMAND_HANDLERS,\n\t\tuseClass: SourceSetLoadingCommandHandler,\n\t\tmulti: true\n\t}, {\n\t\tprovide: COMMAND_HANDLERS,\n\t\tuseClass: SetOriginCommandHandler,\n\t\tmulti: true\n\t}, {\n\t\tprovide: COMMAND_HANDLERS,\n\t\tuseClass: StructureEditSourceItemCommandHandler,\n\t\tmulti: true\n\t},\n\tStructureSourceDomainEventPublisher\n];\n\nconst readProviders = [\n\tSourceRepository,\n\t{\n\t\tprovide: DOMAIN_EVENT_HANDLERS,\n\t\tuseClass: StructureOriginChangedEventHandler,\n\t\tmulti: true\n\t}, {\n\t\tprovide: DOMAIN_EVENT_HANDLERS,\n\t\tuseClass: StructurePreparedItemsEventHandler,\n\t\tmulti: true\n\t},\n\tStructureSourceOriginRepository,\n\tStructurePreparedItemsRepository\n];\n\nexport const sourceProviders = [\n\t...commandProviders,\n\t...readProviders,\n\n\tSourceConverter,\n\n\tSourceCommandService,\n\tSourceReadModelService,\n\tSourceEventService\n];\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { CommandHandler, DomainEventPublisher, ExecuteResponse } from '@generic-ui/hermes';\n\nimport { StructureAggregateRepository } from '../../structure-aggregate.repository';\nimport { StructureSetSearchPhraseCommand } from './structure.set-search-phrase.command';\nimport { StructureSearchPhraseSetDomainEvent } from './structure.search-phrase-set.domain-event';\nimport { StructureSourceDomainEventPublisher } from '../../../../source/command/structure.source.domain-event.publisher';\n\n\n@Injectable()\nexport class StructureSetSearchPhraseCommandHandler extends CommandHandler {\n\n\tconstructor(private readonly structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tprivate structureSourceDomainEventPublisher: StructureSourceDomainEventPublisher,\n\t\t\t\tprivate domainEventPublisher: DomainEventPublisher) {\n\t\tsuper(StructureSetSearchPhraseCommand);\n\t}\n\n\thandle(command: StructureSetSearchPhraseCommand): ExecuteResponse | Observable<ExecuteResponse> {\n\n\t\tconst structureId = command.structureId,\n\t\t\tphrase = command.phrase,\n\t\t\tstructure = this.structureAggregateRepository.getById(structureId);\n\n\t\tstructure.addSearchPhrase(phrase);\n\n\t\tthis.structureAggregateRepository.save(structure);\n\t\tthis.domainEventPublisher.publish(new StructureSearchPhraseSetDomainEvent(structureId));\n\t\tthis.structureSourceDomainEventPublisher.publish(structure.getEvents());\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { AggregateId, CommandHandler, DomainEventPublisher, ExecuteResponse } from '@generic-ui/hermes';\n\nimport { StructureAggregateRepository } from '../../structure-aggregate.repository';\nimport { SetSortOrderCommand } from './set-sort-order.command';\nimport { SortOrderSetEvent } from './sort-order-set.event';\nimport { CompositionId } from '../../../../../../composition/domain/composition-id';\nimport { FieldId } from '../../field/data-type/field.id';\nimport { StructureSorter } from '../structure.sorter';\n\n\n@Injectable()\nexport class SetSortOrderCommandHandler extends CommandHandler {\n\n\tconstructor(private readonly structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tprivate domainEventPublisher: DomainEventPublisher) {\n\t\tsuper(SetSortOrderCommand);\n\t}\n\n\thandle(command: SetSortOrderCommand): ExecuteResponse | Observable<ExecuteResponse> {\n\n\t\tconst structureId = command.getAggregateId(),\n\t\t\tcompositionId = command.getCompositionId(),\n\t\t\tfieldId = command.getFieldId(),\n\t\t\tsortOrder = command.getSortOrder();\n\n\t\tconst structure = this.structureAggregateRepository.getById(structureId);\n\n\t\tconst sorters = structure.setSortOrder(fieldId, sortOrder);\n\n\t\tthis.structureAggregateRepository.save(structure);\n\n\t\tthis.publishSortEvent(structureId, compositionId, fieldId, sorters);\n\t}\n\n\tpublishSortEvent(aggregateId: AggregateId, compositionId: CompositionId, fieldId: FieldId, sorters: Array<StructureSorter>): void {\n\n\t\tconst directions = sorters.map((sorter: StructureSorter) => {\n\t\t\treturn {\n\t\t\t\tdirection: sorter.hasDirection(),\n\t\t\t\tfieldId: sorter.getField().getId()\n\t\t\t};\n\t\t});\n\n\t\tthis.domainEventPublisher.publish(new SortOrderSetEvent(aggregateId, compositionId, directions));\n\t}\n\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { CommandHandler, DomainEventPublisher, ExecuteResponse } from '@generic-ui/hermes';\n\nimport { StructureAggregateRepository } from '../../structure-aggregate.repository';\nimport { SetRowHeightCommand } from './set-row-height.command';\nimport { RowHeightSetEvent } from './row-height-set.event';\n\n\n@Injectable()\nexport class SetRowHeightCommandHandler extends CommandHandler {\n\n\tconstructor(private readonly structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tprotected domainEventPublisher: DomainEventPublisher) {\n\t\tsuper(SetRowHeightCommand);\n\t}\n\n\thandle(command: SetRowHeightCommand): ExecuteResponse | Observable<ExecuteResponse> {\n\n\t\tconst structureId = command.structureId,\n\t\t\trowHeight = command.rowHeight;\n\n\t\tconst structure = this.structureAggregateRepository.getById(structureId);\n\n\t\tconst formation = structure.getVerticalFormation();\n\n\t\tformation.setRowHeight(rowHeight);\n\n\t\tthis.structureAggregateRepository.save(structure);\n\n\t\tthis.domainEventPublisher.publish(new RowHeightSetEvent(structureId));\n\t}\n\n}\n","import { COMMAND_HANDLERS, DOMAIN_EVENT_HANDLERS } from '@generic-ui/hermes';\nimport {\n\tinMemoryStructureCommandProviders,\n\tinMemoryStructureProviders,\n\tinMemoryStructureReadProviders\n} from '../../infrastructure/in-memory/structure/in-memory.structure.providers';\nimport { InitStructureCommandHandler } from '../../domain/structure/command/init/init-structure.command-handler';\nimport { SetVerticalScrollEnabledCommandHandler } from '../../domain/structure/command/vertical-formation/set-enabled/set-vertical-scroll-enabled.command-handler';\nimport { SetScrollPositionCommandHandler } from '../../domain/structure/command/vertical-formation/scroll-position/set-scroll-position.command-handler';\nimport { InitFieldsCommandHandler } from '../../domain/structure/command/field/init/init-fields.command-handler';\nimport { ToggleSortCommandHandler } from '../../domain/structure/command/sort/toggle/toggle-sort.command-handler';\nimport { SetSortingCommandHandler } from '../../domain/structure/command/sort/set-config/set-sorting.command-handler';\nimport { StructureSetConfigFilterCommandHandler } from '../../domain/structure/command/filter/config/structure.set-config-filter.command-handler';\nimport { StructureSetConfigSearchingCommandHandler } from '../../domain/structure/command/search/config/structure.set-config-searching.command-handler';\nimport { StructureSetConfigQuickFilterCommandHandler } from '../../domain/structure/command/filter/quick/structure.set-config-quick-filter.command-handler';\nimport { StructureToggleFilterCommandHandler } from '../../domain/structure/command/filter/toggle/structure.toggle-filter.command-handler';\nimport { StructureSetAggregationEnabledCommandHandler } from '../../domain/structure/command/aggregation/set/structure.set-aggregation-enabled.command-handler';\nimport { VerticalFormationFactory } from '../../domain/structure/command/vertical-formation/vertical-formation.factory';\nimport { FieldCollectionFactory } from '../../domain/structure/command/field/field-collection.factory';\nimport { FilterManagerFactory } from '../../domain/structure/command/filter/filter.manager-factory';\nimport { FieldIdGenerator } from '../../domain/structure/command/field/field-id.generator';\nimport { StructureFilterCommandService } from './filter/structure.filter.command.service';\nimport { FieldFactory } from '../../domain/structure/command/field/data-type/field.factory';\nimport { aggregationProviders } from '../../domain/structure/command/aggregation/aggregation.providers';\nimport { StructureConfigFilterSetEventHandler } from '../../domain/structure/read/filter/structure.config-filter-set.event-handler';\nimport { StructureConfigSearchingSetEventHandler } from '../../domain/structure/read/searching/structure.config-searching-set.event-handler';\nimport { StructureConfigQuickFilterSetEventHandler } from '../../domain/structure/read/filter/structure.config-quick-filter-set.event-handler';\nimport { StructureFieldsInitedEventHandler } from './field/structure.fields-inited.event-handler';\nimport { VerticalFormationConverter } from '../../domain/structure/read/vertical-formation/vertical-formation.converter';\nimport { StructureFilterReadModelRepository } from './filter/structure.filter.read-model.repository';\nimport { StructureFilterRepository } from '../../domain/structure/read/filter/structure.filter.repository';\nimport { StructureQuickFilterRepository } from '../../domain/structure/read/filter/structure.quick-filter.repository';\nimport { StructureSearchingRepository } from '../../domain/structure/read/searching/structure.searching.repository';\nimport { StructureSearchReadModelRepository } from './search/structure-search.read-model.repository';\nimport { StructureFieldUiArchive } from './field/structure.field.ui-archive';\nimport { StructureFieldUiConverter } from './field/structure.field.ui-converter';\nimport { StructureFieldUiRepository } from './field/structure.field.ui-repository';\nimport { StructureAggregationCommandService } from './aggregation/structure.aggregation.command-service';\nimport { StructureAggregationUiEventsRepository } from './aggregation/structure.aggregation.ui-events-repository';\nimport { StructureCommandService } from './structure-command.service';\nimport { StructureConverter } from '../../domain/structure/structure.converter';\nimport { StructureAggregateFactory } from '../../domain/structure/command/structure.aggregate-factory';\nimport { StructureReadModelService } from './structure-read-model.service';\nimport { pagingProviders } from '../paging/paging.providers';\nimport { schemaProviders } from '../schema/schema.providers';\nimport { formationProviders } from '../formation/formation.providers';\nimport { sourceProviders } from '../source/source.providers';\nimport { StructureSetSearchPhraseCommandHandler } from '../../domain/structure/command/search/set/structure.set-search-phrase.command-handler';\nimport { SearchManagerFactory } from '../../domain/structure/command/search/search.manager-factory';\nimport { SetSortOrderCommandHandler } from '../../domain/structure/command/sort/order/set-sort-order.command-handler';\nimport { VerticalFormationRepository } from '../../domain/structure/read/vertical-formation/vertical-formation.repository';\nimport { SetRowHeightCommandHandler } from '../../domain/structure/command/vertical-formation/set-row-height/set-row-height.command-handler';\n\n\nconst commandProviders = [\n\t...inMemoryStructureCommandProviders,\n\t{\n\t\tprovide: COMMAND_HANDLERS,\n\t\tuseClass: InitStructureCommandHandler,\n\t\tmulti: true\n\t}, {\n\t\tprovide: COMMAND_HANDLERS,\n\t\tuseClass: SetVerticalScrollEnabledCommandHandler,\n\t\tmulti: true\n\t}, {\n\t\tprovide: COMMAND_HANDLERS,\n\t\tuseClass: SetScrollPositionCommandHandler,\n\t\tmulti: true\n\t}, {\n\t\tprovide: COMMAND_HANDLERS,\n\t\tuseClass: InitFieldsCommandHandler,\n\t\tmulti: true\n\t}, {\n\t\tprovide: COMMAND_HANDLERS,\n\t\tuseClass: ToggleSortCommandHandler,\n\t\tmulti: true\n\t}, {\n\t\tprovide: COMMAND_HANDLERS,\n\t\tuseClass: SetSortingCommandHandler,\n\t\tmulti: true\n\t}, {\n\t\tprovide: COMMAND_HANDLERS,\n\t\tuseClass: StructureSetConfigFilterCommandHandler,\n\t\tmulti: true\n\t}, {\n\t\tprovide: COMMAND_HANDLERS,\n\t\tuseClass: StructureSetConfigSearchingCommandHandler,\n\t\tmulti: true\n\t}, {\n\t\tprovide: COMMAND_HANDLERS,\n\t\tuseClass: StructureSetConfigQuickFilterCommandHandler,\n\t\tmulti: true\n\t}, {\n\t\tprovide: COMMAND_HANDLERS,\n\t\tuseClass: StructureToggleFilterCommandHandler,\n\t\tmulti: true\n\t}, {\n\t\tprovide: COMMAND_HANDLERS,\n\t\tuseClass: StructureSetAggregationEnabledCommandHandler,\n\t\tmulti: true\n\t}, {\n\t\tprovide: COMMAND_HANDLERS,\n\t\tuseClass: StructureSetSearchPhraseCommandHandler,\n\t\tmulti: true\n\t}, {\n\t\tprovide: COMMAND_HANDLERS,\n\t\tuseClass: SetSortOrderCommandHandler,\n\t\tmulti: true\n\t}, {\n\t\tprovide: COMMAND_HANDLERS,\n\t\tuseClass: SetRowHeightCommandHandler,\n\t\tmulti: true\n\t},\n\tVerticalFormationFactory,\n\tFieldCollectionFactory,\n\tFilterManagerFactory,\n\tSearchManagerFactory,\n\tFieldIdGenerator,\n\tStructureFilterCommandService,\n\tFieldFactory,\n\n\t...aggregationProviders\n];\n\nconst readProviders = [\n\t{\n\t\tprovide: DOMAIN_EVENT_HANDLERS,\n\t\tuseClass: StructureConfigFilterSetEventHandler,\n\t\tmulti: true\n\t}, {\n\t\tprovide: DOMAIN_EVENT_HANDLERS,\n\t\tuseClass: StructureConfigSearchingSetEventHandler,\n\t\tmulti: true\n\t}, {\n\t\tprovide: DOMAIN_EVENT_HANDLERS,\n\t\tuseClass: StructureConfigQuickFilterSetEventHandler,\n\t\tmulti: true\n\t}, {\n\t\tprovide: DOMAIN_EVENT_HANDLERS,\n\t\tuseClass: StructureFieldsInitedEventHandler,\n\t\tmulti: true\n\t},\n\t...inMemoryStructureReadProviders,\n\tVerticalFormationConverter,\n\tVerticalFormationRepository,\n\tStructureFilterReadModelRepository,\n\tStructureFilterRepository,\n\tStructureQuickFilterRepository,\n\tStructureSearchingRepository,\n\tStructureSearchReadModelRepository,\n\tStructureFieldUiArchive,\n\tStructureFieldUiConverter,\n\tStructureFieldUiRepository\n];\n\nexport const structureProviders = [\n\t...inMemoryStructureProviders,\n\n\t...commandProviders,\n\t...readProviders,\n\n\tStructureAggregationCommandService,\n\tStructureAggregationUiEventsRepository,\n\n\tStructureAggregateFactory,\n\tStructureConverter,\n\n\tStructureReadModelService,\n\tStructureCommandService,\n\n\t...pagingProviders,\n\t...schemaProviders,\n\t...formationProviders,\n\t...sourceProviders\n];\n","import { Logger } from './logger';\n\nexport class ConsoleLogger extends Logger {\n\n\twarn(text: string): void {\n\t\tconsole.warn(text);\n\t}\n\n\terror(text: string): void {\n\t\tconsole.error(text);\n\t}\n\n}\n","import { NgModule } from '@angular/core';\nimport { Logger } from './logger';\nimport { ConsoleLogger } from './console.logger';\n\n\n@NgModule({\n\tproviders: [{\n\t\tprovide: Logger,\n\t\tuseClass: ConsoleLogger\n\t}]\n})\nexport class LoggerModule {\n}\n","import { Injectable } from '@angular/core';\n\nimport { ItemEntity } from './item.entity';\nimport { OriginItemEntity } from './command/origin/origin-item-entity';\n\n@Injectable()\nexport class ItemEntityFactory {\n\n\tcreate(data: any): ItemEntity;\n\tcreate(data: Array<any>): Array<ItemEntity>;\n\tcreate(data: any): any {\n\n\t\tif (Array.isArray(data)) {\n\t\t\treturn this.createEntities(data);\n\t\t} else {\n\t\t\treturn this.createEntity(data);\n\t\t}\n\t}\n\n\tcreateEntities(data: Array<any>): Array<ItemEntity> {\n\t\treturn data.map((data: any) => this.createEntity(data));\n\t}\n\n\tprivate createEntity(item: OriginItemEntity | any): ItemEntity {\n\n\t\tif (item instanceof OriginItemEntity) {\n\t\t\treturn new ItemEntity(item.rawData, item.getPosition(), item.id, item.getVersion());\n\t\t} else {\n\t\t\treturn new ItemEntity(item, 0);\n\t\t}\n\t}\n}\n","import { ChangeDetectionStrategy, Component, ViewEncapsulation } from '@angular/core';\n\nimport { SmartComponent } from '../../../../../common/cdk/smart-component';\n\n@Component({\n\tselector: 'gui-structure-top-panel',\n\ttemplate: `\n\t\t\n\t\t<gui-structure-search-bar></gui-structure-search-bar>\n\t\t\n\t\t\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureTopPanelComponent extends SmartComponent {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\n}\n","import { AfterViewInit, ChangeDetectionStrategy, Component, ElementRef, OnInit, Renderer2, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { debounceTime } from 'rxjs/operators';\n\nimport { SmartComponent } from '../../../../../../common/cdk/smart-component';\n\nimport { StructureCommandService } from '../../../../ui-api/structure/structure-command.service';\nimport { StructureReadModelService } from '../../../../ui-api/structure/structure-read-model.service';\n\n\n@Component({\n\tselector: 'gui-structure-search-bar',\n\ttemplate: `\n\t\t<form #formRef\n\t\t\t  [formGroup]=\"searchForm\">\n\t\t\t<div class=\"gui-search-icon\"></div>\n\t\t\t<input formControlName=\"searchPhrase\" [placeholder]=\"'Search ...'\">\n\t\t</form>\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureSearchComponent extends SmartComponent implements OnInit, AfterViewInit {\n\n\t@ViewChild('formRef', { static: false })\n\tformRef: ElementRef;\n\n\tsearchForm: FormGroup;\n\n\tconstructor(private formBuilder: FormBuilder,\n\t\t\t\tprivate renderer2: Renderer2,\n\t\t\t\tprivate structureCommandService: StructureCommandService,\n\t\t\t\tprivate structureReadModelService: StructureReadModelService) {\n\t\tsuper();\n\t\tthis.searchForm = this.formBuilder.group({\n\t\t\t'searchPhrase': ''\n\t\t});\n\t}\n\n\tngOnInit() {\n\t\tthis.observeChanges();\n\t}\n\n\tngAfterViewInit() {\n\t\tthis.structureReadModelService\n\t\t\t.onRowHeight()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((rowHeight: number) => {\n\t\t\t\tthis.renderer2.setStyle(this.formRef.nativeElement, 'height', '30px');\n\t\t\t});\n\t}\n\n\tprivate observeChanges(): void {\n\t\tthis.searchForm\n\t\t\t.controls['searchPhrase']\n\t\t\t.valueChanges\n\t\t\t.pipe(\n\t\t\t\tdebounceTime(200),\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((phrase: string) => {\n\t\t\t\tthis.structureCommandService.search(phrase);\n\t\t\t});\n\t}\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\n\nimport { StructureTopPanelComponent } from './structure.top-panel.component';\nimport { StructureSearchComponent } from './search/structure.search.component';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tReactiveFormsModule\n\t],\n\tdeclarations: [\n\t\tStructureTopPanelComponent,\n\t\tStructureSearchComponent\n\t],\n\texports: [\n\t\tStructureTopPanelComponent,\n\t\tStructureSearchComponent\n\t]\n})\nexport class StructureTopPanelModule {\n}\n","import { ChangeDetectionStrategy, Component, ViewEncapsulation } from '@angular/core';\n\n\n@Component({\n\tselector: 'gui-structure-empty-source',\n\ttemplateUrl: `structure-empty-source.component.html`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None,\n\thost: {\n\t\t'[class.gui-structure-empty-source]': 'true'\n\t}\n})\nexport class StructureEmptySourceComponent {\n}\n","import { ChangeDetectorRef, Component, ElementRef, Input, OnInit, ViewChild } from '@angular/core';\n\nimport { CellTemplateWithContext } from '../../../../composition/domain/read/definition/cell-template-with-context';\nimport { StructureCommandService } from '../../../ui-api/structure/structure-command.service';\nimport { StructureColumnConfigService } from './structure.column-config.service';\nimport { StructureColumnMenuConfig } from './config/structure.column-menu-config';\nimport { SmartComponent } from '../../../../../common/cdk/smart-component';\nimport { StructureColumnMenuConfigArchive } from './config/structure.column-menu-config.archive';\n\n\n@Component({\n\tselector: 'gui-structure-column-config-trigger',\n\ttemplate: `\n\t\t<div #headerDialogContainer\n\t\t\t *ngIf=\"isEnabled()\"\n\t\t\t class=\"gui-header-menu-icon-wrapper\"\n\t\t\t (click)=\"openConfigDialog()\">\n\t\t\t<span class=\"gui-header-menu-icon\"></span>\n\t\t</div>\n\t`\n})\nexport class StructureColumnConfigTriggerComponent extends SmartComponent implements OnInit {\n\n\t@ViewChild('headerDialogContainer', { static: false })\n\theaderDialogContainer: ElementRef;\n\n\t@Input()\n\tcolumn: CellTemplateWithContext;\n\n\tconfig: StructureColumnMenuConfig;\n\n\tconstructor(private elementRef: ElementRef,\n\t\t\t\tprivate changeDetectorRef: ChangeDetectorRef,\n\t\t\t\tprivate structureCommandService: StructureCommandService,\n\t\t\t\tprivate structureColumnMenuConfigArchive: StructureColumnMenuConfigArchive,\n\t\t\t\tprivate structureColumnConfigService: StructureColumnConfigService) {\n\t\tsuper();\n\t}\n\n\tngOnInit() {\n\t\tthis.structureColumnMenuConfigArchive\n\t\t\t.onValue()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((config: StructureColumnMenuConfig) => {\n\t\t\t\tthis.config = config;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\t}\n\n\topenConfigDialog(): void {\n\t\tthis.structureColumnConfigService.open(this.headerDialogContainer, this.column);\n\t}\n\n\tcloseConfigDialog(): void {\n\t\tthis.structureColumnConfigService.close();\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.config && this.config.isEnabled();\n\t}\n\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, OnInit, ViewEncapsulation } from '@angular/core';\n\nimport { SmartComponent } from '../../../../../../common/cdk/smart-component';\n\nimport { CompositionReadModelService } from '../../../../../composition/ui-api/composition-read-model.service';\nimport { CellTemplateWithContext } from '../../../../../composition/domain/read/definition/cell-template-with-context';\nimport { CompositionCommandService } from '../../../../../composition/ui-api/composition.command-service';\n\n\n@Component({\n\tselector: 'gui-structure-menu-column-manager',\n\ttemplate: `\n\n\t\t<div *ngFor=\"let column of columns\">\n\n\t\t\t<gui-checkbox [checked]=\"column.isEnabled()\"\n\t\t\t\t\t\t  [disabled]=\"enabledColumnsCount === 1 && column.isEnabled()\"\n\t\t\t\t\t\t  (click)=\"toggleColumn(column)\">\n\n\t\t\t\t<ng-container\n\t\t\t\t\t\t*ngTemplateOutlet=\"column.viewTemplate;\n\t\t\t\t\t\t\t\t\t\t\tcontext: column.context\">\n\t\t\t\t</ng-container>\n\t\t\t</gui-checkbox>\n\t\t\t\n\t\t</div>\n\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None,\n\thost: {\n\t\t'[class.gui-structure-menu-column-manager]': 'true'\n\t}\n})\nexport class StructureMenuColumnManagerComponent extends SmartComponent implements OnInit {\n\n\tcolumns: Array<CellTemplateWithContext>;\n\n\tenabledColumnsCount: number;\n\n\tconstructor(private changeDetectorRef: ChangeDetectorRef,\n\t\t\t\tprivate compositionCommandService: CompositionCommandService,\n\t\t\t\tprivate compositionReadModelService: CompositionReadModelService) {\n\t\tsuper();\n\t}\n\n\tngOnInit() {\n\t\tthis.compositionReadModelService\n\t\t\t.onAllColumns()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((columns: Array<CellTemplateWithContext>) => {\n\t\t\t\tthis.columns = columns;\n\t\t\t\tthis.enabledColumnsCount = this.columns\n\t\t\t\t\t\t\t\t\t\t\t   .map((c) => +c.isEnabled())\n\t\t\t\t\t\t\t\t\t\t\t   .reduce((accumulator, currentValue) => accumulator + currentValue);\n\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\t}\n\n\ttoggleColumn(column: CellTemplateWithContext): void {\n\t\tevent.stopPropagation();\n\t\tif (column.isEnabled()) {\n\t\t\tthis.compositionCommandService.disableColumn(column.getColumnId());\n\t\t} else {\n\t\t\tthis.compositionCommandService.enableColumn(column.getColumnId());\n\t\t}\n\t}\n}\n","import { ChangeDetectorRef, Component, Input, OnInit } from '@angular/core';\n\nimport { Placement } from '@generic-ui/fabric';\n\nimport { SortStatus } from '../../../../../../composition/domain/command/column/sort/sort-status';\nimport { CellTemplateWithContext } from '../../../../../../composition/domain/read/definition/cell-template-with-context';\nimport { StructureCommandService } from '../../../../../ui-api/structure/structure-command.service';\nimport { CompositionReadModelService } from '../../../../../../composition/ui-api/composition-read-model.service';\nimport { SmartComponent } from '../../../../../../../common/cdk/smart-component';\n\n@Component({\n\tselector: 'gui-structure-column-config-sort',\n\ttemplate: `\n\n\t\t<gui-dropdown [placement]=\"placement\"\n\t\t\t\t\t  [dropdownText]=\"'Column Sort'\"\n\t\t\t\t\t  [width]=\"225\"\n\t\t\t\t\t  [showOnHover]=\"true\"\n\t\t\t\t\t  class=\"gui-header-menu-dropdown\">\n\n\t\t\t<gui-dropdown-item (click)=\"setSortOrder(status.ASC)\"\n\t\t\t\t\t\t\t   [class.gui-header-item-active]=\"isAscSort()\">\n\t\t\t\t<div class=\"gui-sort-title\">Ascending<span class=\"gui-sort gui-sort-asc\"></span></div>\n\t\t\t</gui-dropdown-item>\n\n\t\t\t<gui-dropdown-item (click)=\"setSortOrder(status.DESC)\"\n\t\t\t\t\t\t\t   [class.gui-header-item-active]=\"isDescSort()\">\n\t\t\t\t<div class=\"gui-sort-title\">Descending<span class=\"gui-sort gui-sort-desc\"></span></div>\n\t\t\t</gui-dropdown-item>\n\n\t\t\t<gui-dropdown-item (click)=\"setSortOrder(status.NONE)\"\n\t\t\t\t\t\t\t   [class.gui-header-item-active]=\"isNoneSort()\">\n\t\t\t\tNone\n\t\t\t</gui-dropdown-item>\n\n\t\t</gui-dropdown>\n\t`\n})\nexport class StructureColumnConfigSortComponent extends SmartComponent implements OnInit {\n\n\t@Input()\n\tcolumn: CellTemplateWithContext;\n\n\tplacement: Placement = Placement.Right;\n\n\tstatus = SortStatus;\n\n\tsortStatus: SortStatus;\n\n\tconstructor(private changeDetectorRef: ChangeDetectorRef,\n\t\t\t\tprivate structureCommandService: StructureCommandService,\n\t\t\t\tprivate compositionReadModelService: CompositionReadModelService) {\n\t\tsuper();\n\t}\n\n\tngOnInit() {\n\t\tthis.sortStatus = this.column.getSortStatus();\n\n\t\tthis.compositionReadModelService\n\t\t\t.onSortOrder(this.column.getFieldId())\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((sortStatus: SortStatus) => {\n\t\t\t\tthis.sortStatus = sortStatus;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\t}\n\n\tisAscSort(): boolean {\n\t\treturn this.sortStatus === SortStatus.ASC;\n\t}\n\n\tisDescSort(): boolean {\n\t\treturn this.sortStatus === SortStatus.DESC;\n\t}\n\n\tisNoneSort(): boolean {\n\t\treturn this.sortStatus === SortStatus.NONE;\n\t}\n\n\tsetSortOrder(sort: SortStatus): void {\n\t\tevent.stopPropagation();\n\t\tthis.structureCommandService.setSortOrder(this.column.getFieldId(), sort);\n\t}\n}\n","import { Component, Input } from '@angular/core';\n\nimport { CellTemplateWithContext } from '../../../../../../composition/domain/read/definition/cell-template-with-context';\nimport { CompositionCommandService } from '../../../../../../composition/ui-api/composition.command-service';\nimport { StructureColumnConfigService } from '../../structure.column-config.service';\n\n\n@Component({\n\tselector: 'gui-structure-column-config-column-hide',\n\ttemplate: `\n\n\t\t<div class=\"gui-header-menu-item\"\n\t\t\t (click)=\"hideColumn(column)\">\n\t\t\tHide Column\n\t\t</div>\n\t`\n})\nexport class StructureColumnConfigColumnHideComponent {\n\n\t@Input()\n\tcolumn: CellTemplateWithContext;\n\n\tconstructor(private compositionCommandService: CompositionCommandService,\n\t\t\t\tprivate structureColumnConfigService: StructureColumnConfigService) {\n\t}\n\n\thideColumn(column: CellTemplateWithContext): void {\n\t\tthis.compositionCommandService.disableColumn(column.getColumnId());\n\n\t\tthis.structureColumnConfigService.close();\n\t}\n\n}\n","import { Component, Input } from '@angular/core';\n\nimport { CellTemplateWithContext } from '../../../../../../composition/domain/read/definition/cell-template-with-context';\nimport { CompositionCommandService } from '../../../../../../composition/ui-api/composition.command-service';\nimport { StructureColumnConfigService } from '../../structure.column-config.service';\n\n@Component({\n\tselector: 'gui-structure-column-config-column-move',\n\ttemplate: `\n\t\t<div class=\"gui-header-menu-column-move\">\n\t\t\t<div class=\"gui-header-menu-column-move-left\"\n\t\t\t\t (click)=\"moveLeft(column)\">\n\t\t\t\tMove Left\n\t\t\t</div>\n\n\t\t\t<div class=\"gui-header-menu-column-move-right\"\n\t\t\t\t (click)=\"moveRight(column)\">\n\t\t\t\tMove Right\n\t\t\t</div>\n\t\t</div>\n\t`\n})\nexport class StructureColumnConfigColumnMoveComponent {\n\n\t@Input()\n\tcolumn: CellTemplateWithContext;\n\n\tconstructor(private compositionCommandService: CompositionCommandService,\n\t\t\t\tprivate structureColumnConfigService: StructureColumnConfigService) {\n\t}\n\n\tmoveLeft(column: CellTemplateWithContext): void {\n\t\tthis.compositionCommandService.moveLeft(column.getColumnId());\n\t\tthis.structureColumnConfigService.close();\n\t}\n\n\tmoveRight(column: CellTemplateWithContext): void {\n\t\tthis.compositionCommandService.moveRight(column.getColumnId());\n\t\tthis.structureColumnConfigService.close();\n\t}\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { StructureColumnConfigComponent } from './structure.column-config.component';\nimport { StructureColumnConfigTriggerComponent } from './structure.column-config-trigger.component';\nimport { StructureMenuColumnManagerComponent } from './column-manager/structure.menu-column-manager.component';\nimport { StructureColumnConfigSortComponent } from './main/sort/structure.column-config-sort.component';\nimport { StructureColumnConfigColumnHideComponent } from './main/hide/structure.column-config-column-hide.component';\nimport { StructureColumnConfigColumnMoveComponent } from './main/move/structure.column-config-column-move.component';\nimport { fabricImports } from '../../structure-fabric.imports';\n\nconst declarations = [\n\tStructureColumnConfigComponent,\n\tStructureColumnConfigTriggerComponent,\n\tStructureMenuColumnManagerComponent,\n\tStructureColumnConfigSortComponent,\n\tStructureColumnConfigColumnHideComponent,\n\tStructureColumnConfigColumnMoveComponent\n];\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tfabricImports\n\t],\n\tdeclarations: declarations,\n\texports: declarations\n})\nexport class StructureColumnMenuModule {\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, Input, ViewEncapsulation } from '@angular/core';\n\nimport { CellTemplateWithContext } from '../../../../composition/domain/read/definition/cell-template-with-context';\nimport { StructureId } from '../../../domain/structure-id';\nimport { StructureAggregationUiEventsRepository } from '../../../ui-api/structure/aggregation/structure.aggregation.ui-events-repository';\nimport { CompositionReadModelService } from '../../../../composition/ui-api/composition-read-model.service';\nimport { StructureAggregationsChangedEvent } from '../../../domain/structure/command/aggregation/structure.aggregations-changed.event';\nimport { SmartComponent } from '../../../../../common/cdk/smart-component';\nimport { SourceReadModelService } from '../../../ui-api/source/source-read-model.service';\n\n\n@Component({\n\tselector: 'gui-structure-aggregation-panel',\n\ttemplate: `\n\n\t\t<ng-container *ngIf=\"enabled && aggregations && !sourceEmpty\">\n\n\t\t\t<div *ngFor=\"let column of headerColumns\"\n\t\t\t\t [style.width.px]=\"column.width\"\n\t\t\t\t class=\"gui-header-cell gui-structure-aggregation-cell\">\n\n\t\t\t\t<ng-container *ngIf=\"aggregations && !!aggregations.get(column.getFieldId().getId())\">\n\n\t\t\t\t\t<div *ngIf=\"isAggregateTypePresent(aggregations.get(column.getFieldId().getId()).count)\" class=\"gui-structure-aggregation-value\">\n\t\t\t\t\t\tCount: <span>{{ aggregations.get(column.getFieldId().getId()).count }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf=\"isAggregateTypePresent(aggregations.get(column.getFieldId().getId()).distinct)\" class=\"gui-structure-aggregation-value\">\n\t\t\t\t\t\tDistinct: <span>{{ aggregations.get(column.getFieldId().getId()).distinct }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf=\" isAggregateTypePresent(aggregations.get(column.getFieldId().getId()).sum)\" class=\"gui-structure-aggregation-value\">\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<span [gui-tooltip]=\"'Sum'\" \n\t\t\t\t\t\t\t\t  class=\"gui-math-symbol\">&sum;</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<span>{{ aggregations.get(column.getFieldId().getId()).sum }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf=\"isAggregateTypePresent(aggregations.get(column.getFieldId().getId()).average)\" class=\"gui-structure-aggregation-value\">\n\n\t\t\t\t\t\t<div [gui-tooltip]=\"'Average'\"\n\t\t\t\t\t\t\t class=\"gui-mean\">\n\t\t\t\t\t\t\t<span>_</span><span>X</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<span>{{ aggregations.get(column.getFieldId().getId()).average }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf=\" isAggregateTypePresent(aggregations.get(column.getFieldId().getId()).min)\" class=\"gui-structure-aggregation-value\">\n\n\t\t\t\t\t\t<div [gui-tooltip]=\"'Min'\">\n\t\t\t\t\t\t\t<span class=\"gui-math-symbol\">&and;</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<span>{{ aggregations.get(column.getFieldId().getId()).min }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf=\" isAggregateTypePresent(aggregations.get(column.getFieldId().getId()).max)\" class=\"gui-structure-aggregation-value\">\n\n\t\t\t\t\t\t<div [gui-tooltip]=\"'Max'\">\n\t\t\t\t\t\t\t<span class=\"gui-math-symbol\">&or;</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<span>{{ aggregations.get(column.getFieldId().getId()).max }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf=\"isAggregateTypePresent(aggregations.get(column.getFieldId().getId()).median)\" class=\"gui-structure-aggregation-value\">\n\n\t\t\t\t\t\t<div [gui-tooltip]=\"'Median'\"\n\t\t\t\t\t\t\t class=\"gui-median\">\n\t\t\t\t\t\t\t<span>~</span>\n\t\t\t\t\t\t\t<span>X</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<span>{{ aggregations.get(column.getFieldId().getId()).median }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf=\"isAggregateTypePresent(aggregations.get(column.getFieldId().getId()).truthy)\" class=\"gui-structure-aggregation-value\">\n\t\t\t\t\t\tTruthy: <span>{{ aggregations.get(column.getFieldId().getId()).truthy }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf=\"isAggregateTypePresent(aggregations.get(column.getFieldId().getId()).falsy)\" class=\"gui-structure-aggregation-value\">\n\t\t\t\t\t\tFalsy: <span>{{ aggregations.get(column.getFieldId().getId()).falsy }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t</ng-container>\n\t\t\t</div>\n\n\t\t</ng-container>\n\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureAggregationPanelComponent extends SmartComponent {\n\n\t@Input()\n\tenabled: boolean;\n\n\tsourceEmpty: boolean = false;\n\n\theaderColumns: Array<CellTemplateWithContext>;\n\n\taggregations: Map<string, any>;\n\n\tconstructor(private changeDetectorRef: ChangeDetectorRef,\n\t\t\t\tprivate structureId: StructureId,\n\t\t\t\tprivate structureAggregationUiEventsRepository: StructureAggregationUiEventsRepository,\n\t\t\t\tprivate sourceReadModelService: SourceReadModelService,\n\t\t\t\tprivate readonly compositionQueryService: CompositionReadModelService) {\n\t\tsuper();\n\n\t\tthis.structureAggregationUiEventsRepository\n\t\t\t.onAggregationsChanged(this.structureId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((event: StructureAggregationsChangedEvent) => {\n\n\t\t\t\tthis.aggregations = event.getAggregations();\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\t}\n\n\tngOnInit() {\n\n\t\tthis.sourceReadModelService\n\t\t\t.onEntitiesSize()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((size: number) => {\n\t\t\t\tthis.sourceEmpty = size === 0;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.compositionQueryService\n\t\t\t.onHeaderColumns()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((columns: Array<CellTemplateWithContext>) => {\n\t\t\t\tthis.headerColumns = columns;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t}\n\n\tisAggregateTypePresent(aggregation: number): boolean {\n\t\treturn aggregation !== undefined && aggregation !== null;\n\t}\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { FabricModule } from '@generic-ui/fabric';\n\nimport { StructureAggregationArchive } from './structure.aggregation.archive';\nimport { StructureAggregationConfigService } from './structure.aggregation-config.service';\nimport { StructureAggregationPanelConfigConverter } from './structure.aggregation-panel.config-converter';\nimport { StructureAggregationPanelComponent } from './structure.aggregation-panel.component';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tFabricModule\n\t],\n\tdeclarations: [\n\t\tStructureAggregationPanelComponent\n\t],\n\texports: [\n\t\tStructureAggregationPanelComponent\n\t],\n\tproviders: [\n\t\tStructureAggregationArchive,\n\t\tStructureAggregationConfigService,\n\t\tStructureAggregationPanelConfigConverter\n\t]\n})\nexport class StructureAggregationPanelModule {\n}\n","import { Inject, ModuleWithProviders, NgModule, PLATFORM_ID } from '@angular/core';\nimport { CommonModule, isPlatformBrowser } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\n\nimport { FabricModule } from '@generic-ui/fabric';\n\nimport { COMMAND_LOGGER_ENABLED, EVENT_LOGGER_ENABLED, HermesModule } from '@generic-ui/hermes';\n\nimport { fabricImports } from './structure-fabric.imports';\nimport { StructurePagingModule } from './paging/structure-paging.module';\nimport { StructureInfoPanelModule } from './panel/info/structure.info-panel.module';\nimport { CompositionModule } from '../../composition/ui-api/composition.module';\nimport { StructureComponent } from './structure.component';\nimport { StructureHeaderComponent } from './header/structure-header.component';\nimport { StructureHeaderColumnsComponent } from './header/columns/structure-header-columns.component';\nimport { StructureHeaderFiltersComponent } from './header/filters/structure-header-filters.component';\nimport { StructureHeaderFilterComponent } from './header/filters/structure.header-filter.component';\nimport { StructureContentComponent } from './content/structure-content.component';\nimport { StructureRowComponent } from './content/row/structure-row.component';\nimport { StructureCellComponent } from './content/cell/structure.cell.component';\nimport { StructureContainerComponent } from './content/structure-container.component';\nimport { StructureQuickFiltersComponent } from './header/quick-filters/structure.quick-filters.component';\nimport { StructureBlueprintComponent } from './blueprint/structure.blueprint.component';\nimport { StructureColumnConfigComponent } from './header/menu/structure.column-config.component';\nimport { STRUCTURE_CSS_CLASS_NAME } from '../ui-api/structure/structure-tokens';\nimport { StructureDefinition } from './structure-definition';\nimport { SourceReadModelService } from '../ui-api/source/source-read-model.service';\nimport { StructureIdGenerator } from './structure-id.generator';\nimport { structureProviders } from '../ui-api/structure/structure.providers';\nimport { StructureModuleConfig } from './structure-module-config';\nimport { LoggerModule } from '../../../common/cdk/logger/logger.module';\nimport { ItemEntityFactory } from '../domain/source/item.entity-factory';\nimport { StructureTopPanelModule } from './panel/top/structure.top-panel.module';\nimport { StructureEmptySourceComponent } from './content/empty-source/structure-empty-source.component';\nimport { StructureColumnMenuModule } from './header/menu/structure.column-menu.module';\nimport { StructureAggregationPanelModule } from './panel/aggregation/structure.aggregation-panel.module';\n\nexport function createStructureDefinition() {\n\treturn new StructureDefinition.DefaultBuilder().build();\n}\n\n\nconst imports = [\n\tCommonModule,\n\tReactiveFormsModule,\n\tHermesModule,\n\t// .withConfig({\n\t// \tloggers: false\n\t// }),\n\t...fabricImports,\n\n\tStructurePagingModule,\n\tStructureInfoPanelModule,\n\tStructureAggregationPanelModule,\n\tStructureTopPanelModule,\n\tStructureColumnMenuModule,\n\n\tCompositionModule,\n\n\tLoggerModule\n];\n\nconst declarations = [\n\tStructureComponent,\n\tStructureHeaderComponent,\n\tStructureHeaderColumnsComponent,\n\tStructureHeaderFiltersComponent,\n\tStructureHeaderFilterComponent,\n\tStructureContentComponent,\n\tStructureRowComponent,\n\tStructureCellComponent,\n\tStructureContainerComponent,\n\tStructureEmptySourceComponent,\n\tStructureQuickFiltersComponent,\n\tStructureBlueprintComponent\n];\n\nconst entryComponents = [\n\tStructureColumnConfigComponent\n];\n\nconst providers = [\n\t{\n\t\tprovide: STRUCTURE_CSS_CLASS_NAME,\n\t\tuseValue: 'structure'\n\t},\n\t{\n\t\tprovide: StructureDefinition,\n\t\tuseFactory: createStructureDefinition\n\t},\n\tItemEntityFactory,\n\n\tSourceReadModelService,\n\n\tStructureIdGenerator,\n\n\t...structureProviders\n\n];\n\nconst exportDeclarations = [\n\tFabricModule,\n\tStructureComponent,\n\tStructureHeaderComponent,\n\tStructureContentComponent,\n\tStructureRowComponent,\n\tStructureContainerComponent,\n\n\t...fabricImports,\n\tStructurePagingModule\n];\n\n@NgModule({\n\timports,\n\tdeclarations,\n\texports: exportDeclarations,\n\tentryComponents\n})\nexport class StructureModule {\n\n\tstatic exportDeclarations = [...exportDeclarations];\n\n\tstatic withConfig(structureConfig: StructureModuleConfig = { cssClassName: '', hermesModuleConfig: { loggers: false } }): ModuleWithProviders {\n\t\treturn {\n\t\t\tngModule: StructureModule,\n\t\t\tproviders: [\n\t\t\t\t{\n\t\t\t\t\tprovide: STRUCTURE_CSS_CLASS_NAME,\n\t\t\t\t\tuseValue: structureConfig.cssClassName\n\t\t\t\t},\n\t\t\t\t{ provide: COMMAND_LOGGER_ENABLED, useValue: structureConfig.hermesModuleConfig.loggers },\n\t\t\t\t{ provide: EVENT_LOGGER_ENABLED, useValue: structureConfig.hermesModuleConfig.loggers },\n\t\t\t\t...providers\n\t\t\t]\n\t\t};\n\t}\n\n\tconstructor(@Inject(PLATFORM_ID) private platformId: any) {\n\t\tif (isPlatformBrowser(this.platformId)) {\n\t\t\twindow['hermesApi'].loggers = false;\n\t\t}\n\t}\n\n}\n","import { NgModule, Provider } from '@angular/core';\n\nimport { GridComponent } from '../ui/grid/grid.component';\n\nimport { StructureModule } from '../../../lib/structure/ui/structure.module';\n\nimport { GridIdGenerator } from '../ui/grid/register/grid-id.generator';\nimport { GridRegister } from '../ui/grid/register/grid.register';\n\n\nconst imports = [\n\tStructureModule.withConfig({\n\t\tcssClassName: 'grid',\n\t\thermesModuleConfig: {\n\t\t\tloggers: true\n\t\t}\n\t})\n];\n\nconst declarations = [\n\tGridComponent\n];\n\nconst providers = [\n\tGridIdGenerator,\n\tGridRegister\n] as Array<Provider>;\n\nconst exportDeclarations = [\n\tGridComponent\n];\n\nconst entryComponents = [] as Array<any>;\n\nconst elementComponents = [\n\tGridComponent\n];\n\n@NgModule({\n\timports,\n\tdeclarations,\n\tproviders,\n\texports: exportDeclarations,\n\tentryComponents\n})\nexport class GridModule {\n\n\tstatic entryComponents = [...entryComponents];\n\n\tstatic exportDeclarations = [...exportDeclarations];\n\n\tstatic elementComponents = [...elementComponents];\n}\n"],"names":["Injectable","EventEmitter","Input","Output","tslib_1.__extends","InjectionToken","isPlatformBrowser","Component","ViewEncapsulation","Inject","PLATFORM_ID","ElementRef","ChangeDetectorRef","ViewChild","FabricBadgeModule","FabricButtonModule","FabricButtonGroupModule","FabricCheckboxModule","FabricChipModule","FabricDropdownModule","FabricRadioButtonModule","FabricRadioGroupModule","FabricProgressBarModule","FabricProgressSpinnerModule","FabricSelectModule","FabricSpinnerModule","FabricTabModule","FabricToggleButtonModule","FabricInputModule","FabricDialogModule","FabricInlineDialogModule","Subject","takeUntil","filter","map","AggregateId","take","Command","CommandDispatcher","ReplaySubject","distinctUntilChanged","BehaviorSubject","ChangeDetectionStrategy","NgModule","CommonModule","FabricModule","Pipe","DomainEvent","InMemoryStore","ReadModel","RandomStringGenerator","Entity","InMemoryReadModelStore","DomainEventBus","Renderer2","FabricDialogService","TemplateRef","fromEvent","FormBuilder","tslib_1.__decorate","debounceTime","ContentChild","DomSanitizer","AggregateStoreRegister","InMemoryAggregateStore","Injector","ComponentFactoryResolver","AggregateEvent","tslib_1.__values","RootAggregate","Aggregate","DomainEventPublisher","CommandHandler","DomainEventHandler","COMMAND_HANDLERS","DOMAIN_EVENT_HANDLERS","ReactiveFormsModule","FabricChipComponent","FabricCheckboxComponent","FabricButtonComponent","FabricInputComponent","Observable","AggregateArchive","zip","RendererFactory2","skip","switchMap","timer","InlineDialogPlacement","FabricInlineDialogService","combineLatest","NgZone","ResizeDetector","Optional","commandProviders","readProviders","Placement","HermesModule","declarations","exportDeclarations","COMMAND_LOGGER_ENABLED","EVENT_LOGGER_ENABLED","imports","providers","entryComponents"],"mappings":"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"}