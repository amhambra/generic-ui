{"version":3,"file":"generic-ui-ngx-grid.umd.js","sources":["../../../../../node_modules/tslib/tslib.es6.js","ng://@generic-ui/ngx-grid/gui/grid/domain-api/gui.grid.public-api.ts","ng://@generic-ui/ngx-grid/structure/field/domain/core/field/data/data-type.ts","ng://@generic-ui/ngx-grid/gui/grid/feature/grid/column/gui.grid.column-type.converter.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/summaries/summaries.type.ts","ng://@generic-ui/ngx-grid/gui/grid/feature/grid/column/summaries/gui.grid.column-summaries.converter.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/column/cell-view.ts","ng://@generic-ui/ngx-grid/gui/grid/feature/grid/column/gui.grid.column-view.converter.ts","ng://@generic-ui/ngx-grid/gui/grid/feature/grid/column/sorting/gui.grid.column-sorting.converter.ts","ng://@generic-ui/ngx-grid/gui/grid/feature/grid/column/cell-editing/gui.grid.column-cell-editing.converter.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/column/column-align.ts","ng://@generic-ui/ngx-grid/gui/grid/feature/grid/column/align/gui.grid.column-align.converter.ts","ng://@generic-ui/ngx-grid/gui/grid/feature/grid/column/gui.grid.column.converter.ts","ng://@generic-ui/ngx-grid/schema/domain/theme/schema-theme.ts","ng://@generic-ui/ngx-grid/gui/grid/feature/grid/theme/gui.grid.theme.converter.ts","ng://@generic-ui/ngx-grid/schema/domain-api/row-coloring.ts","ng://@generic-ui/ngx-grid/gui/grid/feature/grid/coloring/gui.grid.row-coloring.converter.ts","ng://@generic-ui/ngx-grid/gui/grid/feature/grid/column/menu/gui.grid.column-menu.converter.ts","ng://@generic-ui/ngx-grid/structure/paging/feature/mode/paging-display-mode.ts","ng://@generic-ui/ngx-grid/gui/grid/feature/grid/paging/gui.grid.paging.converter.ts","ng://@generic-ui/ngx-grid/common/cdk/generic-builder.ts","ng://@generic-ui/ngx-grid/structure/source/domain-api/row-selection.ts","ng://@generic-ui/ngx-grid/gui/grid/feature/grid/row-selection/gui.grid.row-selection.converter.ts","ng://@generic-ui/ngx-grid/gui/grid/feature/grid/gui.grid-gateway.ts","ng://@generic-ui/ngx-grid/structure/paging/feature/paging-definition.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/structure-definition.ts","ng://@generic-ui/ngx-grid/gui/grid/feature/grid/gui.grid-structure-definition.ts","ng://@generic-ui/ngx-grid/gui/grid/feature/grid/gui.grid.providers.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/structure-parent-component.ts","ng://@generic-ui/ngx-grid/gui/grid/feature/grid/register/gui.grid-id.generator.ts","ng://@generic-ui/ngx-grid/gui/grid/feature/grid/register/gui.grid.register.ts","ng://@generic-ui/ngx-grid/gui/grid/feature/grid/console/gui.grid.console.api.ts","ng://@generic-ui/ngx-grid/structure/source/domain-api/formation/selected-row.ts","ng://@generic-ui/ngx-grid/gui/grid/feature/grid/api/gui.grid.api-provider.ts","ng://@generic-ui/ngx-grid/structure/source/domain/formation/toggle/toggle-selected-row.command.ts","ng://@generic-ui/ngx-grid/structure/source/domain/formation/formation.dispatcher.ts","ng://@generic-ui/ngx-grid/lib/structure/domain-api/read/structure.read-model-root-id.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure.id.ts","ng://@generic-ui/ngx-grid/lib/structure/domain-api/structure.global-id.ts","ng://@generic-ui/ngx-grid/structure/source/domain/formation/set-enabled/set-enabled-selection.command.ts","ng://@generic-ui/ngx-grid/structure/source/domain/formation/mode/set-selection-mode.command.ts","ng://@generic-ui/ngx-grid/structure/source/domain/formation/select-all/select-all-rows.command.ts","ng://@generic-ui/ngx-grid/structure/source/domain/formation/unselect-all/unselect-all-rows.command.ts","ng://@generic-ui/ngx-grid/structure/source/domain-api/formation/formation.command-dispatcher.ts","ng://@generic-ui/ngx-grid/common/cdk/reactive.ts","ng://@generic-ui/ngx-grid/structure/source/domain/loading/source-set-loading.command.ts","ng://@generic-ui/ngx-grid/structure/source/domain/origin/set-origin/set-origin.command.ts","ng://@generic-ui/ngx-grid/structure/source/domain/origin/edit/structure.edit-source-item.command.ts","ng://@generic-ui/ngx-grid/structure/source/domain/source.dispatcher.ts","ng://@generic-ui/ngx-grid/lib/structure/domain-api/read/structure.read-model-repository.ts","ng://@generic-ui/ngx-grid/structure/source/domain-api/origin/structure.source-origin.repository.ts","ng://@generic-ui/ngx-grid/structure/source/domain-api/prepared/structure.prepared-items.repository.ts","ng://@generic-ui/ngx-grid/structure/source/domain-api/source.warehouse.ts","ng://@generic-ui/ngx-grid/structure/source/domain/origin/edit/structure.edit-source-item.params.ts","ng://@generic-ui/ngx-grid/structure/field/domain-api/read/field.read-model-repository.ts","ng://@generic-ui/ngx-grid/structure/field/domain-api/field.warehouse.ts","ng://@generic-ui/ngx-grid/structure/source/domain/origin/delete/delete-origin-item.command.ts","ng://@generic-ui/ngx-grid/structure/source/domain-api/source.command-dispatcher.ts","ng://@generic-ui/ngx-grid/structure/source/domain-api/formation/row-selected/row-selected.repository.ts","ng://@generic-ui/ngx-grid/structure/source/domain-api/formation/mode/row-selection-mode.repository.ts","ng://@generic-ui/ngx-grid/structure/source/domain-api/formation/formation.warehouse.ts","ng://@generic-ui/ngx-grid/gui/grid/feature/grid/gui.grid.component.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/structure-fabric.imports.ts","ng://@generic-ui/ngx-grid/common/cdk/smart-component.ts","ng://@generic-ui/ngx-grid/structure/paging/domain-api/read/paging.repository.ts","ng://@generic-ui/ngx-grid/structure/paging/domain-api/paging.warehouse.ts","ng://@generic-ui/ngx-grid/structure/paging/domain/set/set-paging.command.ts","ng://@generic-ui/ngx-grid/structure/paging/domain/change-pagesize/change-pagesize.command.ts","ng://@generic-ui/ngx-grid/structure/paging/domain/next-page/next-page.command.ts","ng://@generic-ui/ngx-grid/structure/paging/domain/prev-page/prev-page.command.ts","ng://@generic-ui/ngx-grid/structure/paging/domain/paging.dispatcher.ts","ng://@generic-ui/ngx-grid/structure/paging/domain-api/paging.command-dispatcher.ts","ng://@generic-ui/ngx-grid/structure/paging/feature/mode/paging-display-mode.archive.ts","ng://@generic-ui/ngx-grid/structure/paging/feature/paging-position.ts","ng://@generic-ui/ngx-grid/structure/paging/feature/paging.component.ts","ng://@generic-ui/ngx-grid/structure/paging/domain-api/read/paging.ts","ng://@generic-ui/ngx-grid/structure/paging/feature/select/paging-select.component.ts","ng://@generic-ui/ngx-grid/structure/paging/feature/advanced/navigator/alternative-paging-navigator.component.ts","ng://@generic-ui/ngx-grid/structure/paging/feature/advanced/pages/alternative-paging-pages.component.ts","ng://@generic-ui/ngx-grid/structure/paging/domain/next-page/next-page.event.ts","ng://@generic-ui/ngx-grid/structure/paging/domain/prev-page/prev-page.event.ts","ng://@generic-ui/ngx-grid/structure/paging/domain/page/page-changed.event.ts","ng://@generic-ui/ngx-grid/structure/paging/domain/change-pagesize/pagesize-changed.event.ts","ng://@generic-ui/ngx-grid/structure/paging/domain-api/paging.event-repository.ts","ng://@generic-ui/ngx-grid/common/cdk/logger/logger.ts","ng://@generic-ui/ngx-grid/structure/paging/domain/page/page-changed.aggregate-event.ts","ng://@generic-ui/ngx-grid/structure/paging/domain/pagesize/pagesize-changed.aggregate-event.ts","ng://@generic-ui/ngx-grid/structure/paging/domain/paging.manager.ts","ng://@generic-ui/ngx-grid/structure/paging/domain/paging.manager-factory.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/structure-aggregate.repository.ts","ng://@generic-ui/ngx-grid/structure/paging/domain/set/paging-set.event.ts","ng://@generic-ui/ngx-grid/structure/paging/domain/set/set-paging.command-handler.ts","ng://@generic-ui/ngx-grid/structure/paging/domain/next-page/next-page.command-handler.ts","ng://@generic-ui/ngx-grid/structure/paging/domain/prev-page/prev-page.command-handler.ts","ng://@generic-ui/ngx-grid/structure/paging/domain/change-pagesize/change-pagesize.command-handler.ts","ng://@generic-ui/ngx-grid/structure/paging/domain/paging.domain-module.ts","ng://@generic-ui/ngx-grid/structure/paging/domain-api/read/paging.converter.ts","ng://@generic-ui/ngx-grid/structure/paging/domain-api/paging.api-module.ts","ng://@generic-ui/ngx-grid/structure/paging/feature/basic/navigator/paging-navigator.component.ts","ng://@generic-ui/ngx-grid/common/cdk/pure-component.ts","ng://@generic-ui/ngx-grid/structure/paging/feature/basic/stats/paging-stats.component.ts","ng://@generic-ui/ngx-grid/structure/paging/feature/paging.feature-module.ts","ng://@generic-ui/ngx-grid/common/cdk/number-formatter/number-formatter.pipe.ts","ng://@generic-ui/ngx-grid/common/cdk/number-formatter/number-formatter.module.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/panel/info/info-modal/structure-info-modal.component.ts","ng://@generic-ui/ngx-grid/lib/composition/domain-api/read/composition.read-model-root-id.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/composition.id.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/column-manager/dialog/structure.dialog-column-manager.component.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/schema/structure.theme.converter.ts","ng://@generic-ui/ngx-grid/schema/domain/schema.id.ts","ng://@generic-ui/ngx-grid/schema/domain-api/read/schema.read-model-root-id.ts","ng://@generic-ui/ngx-grid/schema/domain-api/read/schema.global-id.ts","ng://@generic-ui/ngx-grid/schema/domain-api/theme/schema.theme.repository.ts","ng://@generic-ui/ngx-grid/schema/domain-api/css-classes/schema.css-classes.repository.ts","ng://@generic-ui/ngx-grid/schema/domain-api/horizontal-grid/schema.horizontal-grid.repository.ts","ng://@generic-ui/ngx-grid/schema/domain-api/row-coloring/schema.row-coloring.repository.ts","ng://@generic-ui/ngx-grid/schema/domain-api/vertical-grid/schema.vertical-grid.repository.ts","ng://@generic-ui/ngx-grid/schema/domain-api/schema.warehouse.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/column-manager/dialog/structure.dialog-column-manager.service.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/panel/info/structure.info-panel.config.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/panel/info/structure.info-panel.archive.ts","ng://@generic-ui/ngx-grid/schema/feature/manager/dialog/structure.dialog-schema-manager.component.ts","ng://@generic-ui/ngx-grid/schema/feature/manager/dialog/structure.dialog-schema-manager.service.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/panel/info/structure.info-panel.component.ts","ng://@generic-ui/ngx-grid/lib/composition/domain-api/read/composition.read-model-root-repository.ts","ng://@generic-ui/ngx-grid/lib/composition/domain-api/composition.global-id.ts","ng://@generic-ui/ngx-grid/lib/composition/domain-api/composition.warehouse.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/create/create-composition.command.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/column/set-columns/set-columns.command.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/width/set-width/set-composition-width.command.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/width/set-container-width/set-composition-container-width.command.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/width/resize-width/set-composition-resize-width.command.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/column/sort/composition-change-sort-status.command.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/column/set-enabled/composition.set-column-enabled.command.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/column/move/left/composition.move-left-column.command.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/column/move/right/composition.move-right-column.command.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/composition.dispatcher.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/column/column.id.ts","ng://@generic-ui/ngx-grid/lib/composition/domain-api/composition.command-dispatcher.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/column-manager/structure.column-manager.component.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/column-manager/menu/structure.menu-column-manager.component.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/column-manager/icon/structure.column-manager-icon.component.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/column-manager/structure.column-manager.module.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/panel/info/icon/structure.info-icon.component.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/panel/info/structure.info-panel.config-converter.ts","ng://@generic-ui/ngx-grid/schema/domain/coloring/schema-row-coloring.ts","ng://@generic-ui/ngx-grid/schema/domain/theme/set-schema-theme.command.ts","ng://@generic-ui/ngx-grid/schema/domain/create/create-schema.command.ts","ng://@generic-ui/ngx-grid/schema/domain/coloring/set-row-coloring.command.ts","ng://@generic-ui/ngx-grid/schema/domain/grid/vertical/set-schema-vertical-grid.command.ts","ng://@generic-ui/ngx-grid/schema/domain/grid/horizontal/set-schema-horizontal-grid.command.ts","ng://@generic-ui/ngx-grid/schema/domain/schema.dispatcher.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/config/set-config-filter.command.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/core/remove-all/remove-all-filters.command.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/core/add/add-filter.command.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/core/remove/remove-filter.command.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/unique/select-all/select-all-unique-filter.command.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/unique/unselect-all/unselect-all-unique-filter.command.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/unique/select/select-unique-filter.command.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/unique/unselect/unselect-unique-filter.command.ts","ng://@generic-ui/ngx-grid/structure/filter/domain-api/filter.command-dispatcher.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/create-structure/create-structure.command.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/vertical-formation/set-enabled/set-vertical-scroll-enabled.command.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/vertical-formation/scroll-position/set-scroll-position.command.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/quick/set-config-quick-filter.command.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/vertical-formation/set-row-height/set-row-height.command.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/vertical-formation/container/set-height/structure-set-height.command.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/vertical-formation/set-row-height-theme/set-row-height-based-on-theme.command.ts","ng://@generic-ui/ngx-grid/lib/structure/domain-api/structure.command-dispatcher.ts","ng://@generic-ui/ngx-grid/schema/domain-api/schema.command-dispatcher.ts","ng://@generic-ui/ngx-grid/schema/feature/manager/structure.schema-manger.component.ts","ng://@generic-ui/ngx-grid/schema/feature/manager/manager-icon/structure.schema-manager-icon.component.ts","ng://@generic-ui/ngx-grid/schema/feature/manager/structure.schema-manager.module.ts","ng://@generic-ui/ngx-grid/structure/source-counter/feature/filter/active-filter-menu.component.ts","ng://@generic-ui/ngx-grid/structure/source-counter/feature/filter/active-filter.service.ts","ng://@generic-ui/ngx-grid/structure/source-counter/feature/filter/active-filter-menu-trigger.directive.ts","ng://@generic-ui/ngx-grid/structure/filter/feature/icon/filter-icon.component.ts","ng://@generic-ui/ngx-grid/structure/filter/domain-api/read/filter-enabled.repository.ts","ng://@generic-ui/ngx-grid/structure/filter/domain-api/read/quick-filter-enabled.repository.ts","ng://@generic-ui/ngx-grid/structure/filter/domain-api/type/filter-type.repository.ts","ng://@generic-ui/ngx-grid/structure/filter/domain-api/active/active-filter.repository.ts","ng://@generic-ui/ngx-grid/structure/filter/domain-api/unique/unique-values.repository.ts","ng://@generic-ui/ngx-grid/structure/filter/domain-api/filter.warehouse.ts","ng://@generic-ui/ngx-grid/structure/filter/feature/menu/filter-menu.component.ts","ng://@generic-ui/ngx-grid/structure/filter/feature/config/filter-container-token.ts","ng://@generic-ui/ngx-grid/structure/filter/feature/filter-menu-trigger.component.ts","ng://@generic-ui/ngx-grid/structure/filter/feature/column-selector/column-selector.component.ts","ng://@generic-ui/ngx-grid/structure/filter/feature/filter-selector/filter-type-selector.component.ts","ng://@generic-ui/ngx-grid/structure/filter/feature/menu/value/filter-value.component.ts","ng://@generic-ui/ngx-grid/structure/filter/feature/active-filters/active-filter-list.component.ts","ng://@generic-ui/ngx-grid/structure/filter/feature/field-selector/field-selector.component.ts","ng://@generic-ui/ngx-grid/structure/search/domain-api/enabled/searching.repository.ts","ng://@generic-ui/ngx-grid/structure/search/domain-api/phrase/search-phrase.repository.ts","ng://@generic-ui/ngx-grid/structure/search/domain-api/search.warehouse.ts","ng://@generic-ui/ngx-grid/structure/search/domain/config/set-config-searching.command.ts","ng://@generic-ui/ngx-grid/structure/search/domain/set-phrase/set-search-phrase.command.ts","ng://@generic-ui/ngx-grid/structure/search/domain-api/highlight/search-highlight.archive.ts","ng://@generic-ui/ngx-grid/structure/search/domain-api/placeholder/search-placeholder.archive.ts","ng://@generic-ui/ngx-grid/structure/search/domain/search.dispatcher.ts","ng://@generic-ui/ngx-grid/structure/search/domain-api/search.command-dispatcher.ts","ng://@generic-ui/ngx-grid/structure/filter/feature/active-filters/search/active-search.component.ts","ng://@generic-ui/ngx-grid/structure/filter/feature/filter-menu.feature-module.ts","ng://@generic-ui/ngx-grid/structure/source-counter/feature/source-counter.feature-module.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/panel/info/structure.info-panel.module.ts","ng://@generic-ui/ngx-grid/lib/composition/domain-api/read/view/view-templates.component.ts","ng://@generic-ui/ngx-grid/lib/composition/domain-api/read/edit/changed-value.emitter.ts","ng://@generic-ui/ngx-grid/lib/composition/domain-api/read/edit/state/edit.event-type.ts","ng://@generic-ui/ngx-grid/lib/composition/domain-api/read/edit/edit-communication.component.ts","ng://@generic-ui/ngx-grid/lib/composition/domain-api/read/edit/template/input-edit-template.component.ts","ng://@generic-ui/ngx-grid/lib/composition/domain-api/read/edit/template/number-edit-template.component.ts","ng://@generic-ui/ngx-grid/common/cdk/decorators.ts","ng://@generic-ui/ngx-grid/lib/composition/domain-api/read/edit/template/string-edit-template.component.ts","ng://@generic-ui/ngx-grid/lib/composition/domain-api/read/edit/edit-templates.component.ts","ng://@generic-ui/ngx-grid/lib/composition/domain-api/read/edit/template/boolean-edit-template.component.ts","ng://@generic-ui/ngx-grid/lib/composition/feature/column-query.component.ts","ng://@generic-ui/ngx-grid/lib/composition/domain-api/read/definition/cell-value.ts","ng://@generic-ui/ngx-grid/lib/composition/domain-api/read/view/function/function-view.component.ts","ng://@generic-ui/ngx-grid/lib/composition/infrastructure/in-memory/in-memory.composition.store.ts","ng://@generic-ui/ngx-grid/lib/composition/infrastructure/in-memory/domain/in-memory.composition.aggregate-store.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/composition.aggregate-repository.ts","ng://@generic-ui/ngx-grid/lib/composition/infrastructure/in-memory/domain/in-memory.composition.aggregate-repository.ts","ng://@generic-ui/ngx-grid/lib/composition/domain-api/read/template/template.factory.ts","ng://@generic-ui/ngx-grid/lib/composition/domain-api/read/view/view-template.factory.ts","ng://@generic-ui/ngx-grid/lib/composition/domain-api/read/view/view-template.repository.ts","ng://@generic-ui/ngx-grid/lib/composition/domain-api/read/edit/edit-template.factory.ts","ng://@generic-ui/ngx-grid/lib/composition/domain-api/read/edit/edit-template.repository.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/column/sort/sort-order.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/column/view.entity.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/column/abstract-column.entity.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/column/column.entity.ts","ng://@generic-ui/ngx-grid/lib/composition/domain-api/read/definition/cell-template-with-context.ts","ng://@generic-ui/ngx-grid/lib/composition/domain-api/read/definition/cell-context.ts","ng://@generic-ui/ngx-grid/structure/field/domain/core/field/field.id.ts","ng://@generic-ui/ngx-grid/lib/composition/domain-api/read/definition/cell-template-with-accessor.ts","ng://@generic-ui/ngx-grid/lib/composition/domain-api/read/definition/column-definition.ts","ng://@generic-ui/ngx-grid/lib/composition/domain-api/read/definition/column-definition-id.ts","ng://@generic-ui/ngx-grid/lib/composition/domain-api/read/definition/column-definition.factory.ts","ng://@generic-ui/ngx-grid/lib/composition/domain-api/read/composition.read-mode-root.ts","ng://@generic-ui/ngx-grid/lib/composition/domain-api/read/composition.read-model-root-converter.ts","ng://@generic-ui/ngx-grid/lib/composition/infrastructure/in-memory/feature-api/in-memory.composition.read-store.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/create/composition-created.event.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/width/resize-width/composition-resize-width-set.event.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/column/set-columns/composition.columns-set.event.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/width/set-container-width/composition-container-width-set.event.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/width/set-width/composition-width-set.event.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/column/sort/composition-change-sort-status.event.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/column/set-enabled/composition.column-set-enabled.event.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/column/move/left/composition.column-moved-left.event.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/column/move/right/composition.column-moved-right.event.ts","ng://@generic-ui/ngx-grid/lib/composition/infrastructure/in-memory/feature-api/in-memory.composition.repository.ts","ng://@generic-ui/ngx-grid/lib/composition/infrastructure/in-memory/in-memory.composition.providers.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/column/presentation/column.presentation.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/column/presentation/data-type/number-column.presentation.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/column/presentation/data-type/boolean-column.presentation.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/column/presentation/data-type/date-column.presentation.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/column/presentation/data-type/string-column.presentation.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/column/presentation/data-type/unknown-column.presentation.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/column/presentation/column.presentation.converter.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/column/column-entity.factory.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/composition.events.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/composition.event-converter.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/column/field/column-field.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/column/field/colum-field.factory.ts","ng://@generic-ui/ngx-grid/lib/composition/domain-api/composition.event-repository.ts","ng://@generic-ui/ngx-grid/lib/composition/domain-api/composition.providers.ts","ng://@generic-ui/ngx-grid/common/cdk/sanitize/safe.pipe.ts","ng://@generic-ui/ngx-grid/common/cdk/sanitize/sanitize.module.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/width/composition-container-width.calculator.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/width/set-width/composition-width-set.aggregate-event.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/width/set-container-width/composition-container-width-set.aggregate-event.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/width/resize-width/composition-resize-width-set.aggregate-event.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/column/set-enabled/composition.column-set-enabled.aggregate-event.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/column/column-width/column-width-type.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/column/column-width/column-width.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/width/composition-width.calculator.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/column/column-width/column-width-collection.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/column/sort/composition-change-sort-status.aggregate-event.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/column/active/active-column.container.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/column/active/active-column.entity.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/column/active/active-column.entity-converter.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/column/move/left/composition.column-moved-left.aggregate-event.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/column/move/right/composition.column-moved-right.aggregate-event.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/column/set-columns/columns-set.aggregate-event.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/create/composition-created.aggregate-event.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/composition.aggregate.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/composition.aggregate-factory.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/create/create-composition.command-handler.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/column/set-enabled/composition.set-column-enabled.command-handler.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/column/set-columns/set-columns.command-handler.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/width/set-width/set-composition-width.command-handler.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/column/move/left/composition.move-left-column.command-handler.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/column/move/right/composition.move-right-column.command-handler.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/column/sort/composition-change-sort-status.command-handler.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/width/set-container-width/set-composition-container-width.command-handler.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/width/resize-width/set-composition-resize-width.command-handler.ts","ng://@generic-ui/ngx-grid/lib/composition/domain-api/read/edit/template/date-edit-template.component.ts","ng://@generic-ui/ngx-grid/lib/composition/domain-api/read/view/bar/bar-view.component.ts","ng://@generic-ui/ngx-grid/lib/composition/domain-api/read/view/percentage/percentage-view.component.ts","ng://@generic-ui/ngx-grid/lib/composition/domain-api/read/view/text/text-view.component.ts","ng://@generic-ui/ngx-grid/structure/sorting/domain/toggle/sort-toggled.event.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/column/field/column-field.id.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/column/sort/change-sort.params.ts","ng://@generic-ui/ngx-grid/structure/sorting/domain/order/sort-order-set.event.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/column/sort/composition-change-sort-status.event-handler.ts","ng://@generic-ui/ngx-grid/lib/composition/domain-api/composition.module.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/structure-id.generator.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/local/paging/local-paging.command-dispatcher.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/local/paging/local-paging.warehouse.ts","ng://@generic-ui/ngx-grid/structure/source/domain/formation/core/row-select-toggle-type.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/local/formation/local-formation.command-dispatcher.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/local/formation/local-formation.warehouse.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/local/structure/local-structure.command-dispatcher.ts","ng://@generic-ui/ngx-grid/lib/structure/domain-api/structure.warehouse.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/local/structure/local-structure.warehouse.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/local/source/local-source.command-dispatcher.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/local/source/local-source.warehouse.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/local/composition/local-composition.command-dispatcher.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/local/composition/local-composition.warehouse.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/local/search/local-structure-search.command-dispatcher.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/local/schema/local-schema.warehouse.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/local/schema/local-schema.command-dispatcher.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/create-structure/structure-created.event.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/vertical-formation/set-enabled/vertical-scroll-enabled-set.event.ts","ng://@generic-ui/ngx-grid/lib/structure/infrastructure/in-memory/in-memory.structure.store.ts","ng://@generic-ui/ngx-grid/structure/source/domain-api/read/source.ts","ng://@generic-ui/ngx-grid/structure/source/domain-api/source.converter.ts","ng://@generic-ui/ngx-grid/lib/structure/domain-api/vertical-formation/vertical-formation.read-model.ts","ng://@generic-ui/ngx-grid/lib/structure/domain-api/vertical-formation/vertical-formation.converter.ts","ng://@generic-ui/ngx-grid/lib/structure/domain-api/read/structure.read-model-root.ts","ng://@generic-ui/ngx-grid/structure/source/domain/core/item/item.entity.ts","ng://@generic-ui/ngx-grid/lib/structure/domain-api/read/structure.read-model-root-converter.ts","ng://@generic-ui/ngx-grid/lib/structure/infrastructure/in-memory/domain-api/in-memory-structure.read-store.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/vertical-formation/set-row-height/row-height-set.event.ts","ng://@generic-ui/ngx-grid/schema/domain/theme/schema-theme-set.event.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/vertical-formation/container/set-height/structure-height-set.event.ts","ng://@generic-ui/ngx-grid/structure/source/domain/origin/set-origin/origin-set.event.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/vertical-formation/scroll-position/scroll-position-set.event.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/vertical-formation/set-row-height-theme/row-height-set-based-on-theme.event.ts","ng://@generic-ui/ngx-grid/structure/search/domain/set-phrase/search-phrase-set.domain-event.ts","ng://@generic-ui/ngx-grid/lib/structure/domain-api/vertical-formation/vertical-formation.repository.ts","ng://@generic-ui/ngx-grid/lib/structure/domain-api/vertical-formation/structure-vertical-formation.warehouse.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/local/vertical-formation/local-structure-vertical-formation.warehouse.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/local/local-providers.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/schema/schema-css-class.manager.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/edit/structure.cell-edit.archive.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/edit/structure.cell-edit.store.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/edit/structure.edit-mode.archive.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/panel/summaries/structure.summaries-panel.config.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/panel/summaries/structure.summaries.archive.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/panel/summaries/structure.summaries-panel.config-converter.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/summaries/set/structure.set-summaries-enabled.command.ts","ng://@generic-ui/ngx-grid/lib/structure/domain-api/summaries/structure-summaries.command-dispatcher.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/panel/summaries/structure.summaries-config.service.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/structure-component-token.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/edit/structure.cell-edit.state.ts","ng://@generic-ui/ngx-grid/lib/structure/domain-api/column-menu-config.ts","ng://@generic-ui/ngx-grid/structure/field/domain/init/init-fields.command.ts","ng://@generic-ui/ngx-grid/structure/field/domain/init/fields-inited.event.ts","ng://@generic-ui/ngx-grid/lib/composition/domain/column/set-columns/column.params.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/gateway/column/structure-column.input-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/gateway/structure.gateway.ts","ng://@generic-ui/ngx-grid/structure/source/domain-api/event/editem-item.values.ts","ng://@generic-ui/ngx-grid/structure/source/domain/origin/edit/structure.source-item-edited.event.ts","ng://@generic-ui/ngx-grid/structure/source/domain-api/event/source-event.service.ts","ng://@generic-ui/ngx-grid/structure/source/domain/formation/selected-row-changed.event.ts","ng://@generic-ui/ngx-grid/structure/source/domain-api/formation/formation-event.service.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/header/menu/config/structure.column-menu-config.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/header/menu/config/structure.column-menu-config.archive.ts","ng://@generic-ui/ngx-grid/structure/source/domain-api/formation/set-enabled/row-select-enabled.repository.ts","ng://@generic-ui/ngx-grid/structure/search/domain-api/search.event-repository.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/edit/structure.cell-edit-close-all.service.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/header/structure-header-bottom-enabled.archive.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/header/structure-header-top-enabled.archive.ts","ng://@generic-ui/ngx-grid/schema/domain/grid/horizontal/schema-horizontal-grid-set.event.ts","ng://@generic-ui/ngx-grid/schema/domain/grid/vertical/schema-vertical-grid-set.event.ts","ng://@generic-ui/ngx-grid/schema/domain/coloring/row-coloring-set.event.ts","ng://@generic-ui/ngx-grid/schema/domain-api/schema.event-repository.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/row-detail/structure.row-detail.config-archive.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/row-detail/view/structure.row-detail-view.tokens.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/row-detail/view/structure.row-detail-view.component.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/row-detail/structure.row-detail.service.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/panel/title-panel/structure.title-panel.config-archive.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/panel/footer-panel/structure.footer-panel.config-archive.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/panel/info/structure.info-panel-config.service.ts","ng://@generic-ui/ngx-grid/structure/sorting/domain/set-config/set-sorting.command.ts","ng://@generic-ui/ngx-grid/structure/sorting/domain/toggle/toggle-sort.command.ts","ng://@generic-ui/ngx-grid/structure/sorting/domain/order/set-sort-order.command.ts","ng://@generic-ui/ngx-grid/structure/sorting/domain-api/sorting.command-dispatcher.ts","ng://@generic-ui/ngx-grid/structure/sorting/domain-api/sorting.warehouse.ts","ng://@generic-ui/ngx-grid/structure/sorting/domain-api/sorting.event-repository.ts","ng://@generic-ui/ngx-grid/structure/sorting/domain/toggle/toggle-sort.command-handler.ts","ng://@generic-ui/ngx-grid/structure/sorting/domain/set-config/sorting-set.event.ts","ng://@generic-ui/ngx-grid/structure/sorting/domain/set-config/set-sorting.command-handler.ts","ng://@generic-ui/ngx-grid/structure/sorting/domain/order/set-sort-order.command-handler.ts","ng://@generic-ui/ngx-grid/structure/sorting/domain/sorting.domain-module.ts","ng://@generic-ui/ngx-grid/structure/sorting/domain-api/sorting.api-module.ts","ng://@generic-ui/ngx-grid/structure/sorting/feature/sorting.feature-module.ts","ng://@generic-ui/ngx-grid/structure/search/domain/config/config-searching-set.event.ts","ng://@generic-ui/ngx-grid/structure/search/domain/config/set-config-searching.command-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/summaries/structure.summaries-changed.event.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/summaries/structure.summaries-changed.aggregate-event.ts","ng://@generic-ui/ngx-grid/structure/source/domain/prepared/structure.prepared-entities-set.event.ts","ng://@generic-ui/ngx-grid/structure/source/domain/source.domain-event.publisher.ts","ng://@generic-ui/ngx-grid/structure/search/domain/set-phrase/structure.set-search-phrase.command-handler.ts","ng://@generic-ui/ngx-grid/structure/search/domain/search.manager.ts","ng://@generic-ui/ngx-grid/structure/search/domain/search.manager-factory.ts","ng://@generic-ui/ngx-grid/structure/search/domain-api/phrase/search-phrase-set.event-handler.ts","ng://@generic-ui/ngx-grid/structure/search/domain-api/enabled/config-searching-set.event-handler.ts","ng://@generic-ui/ngx-grid/structure/search/domain/search.domain-module.ts","ng://@generic-ui/ngx-grid/structure/search/domain-api/search.api-module.ts","ng://@generic-ui/ngx-grid/structure/search/feature/icon/search-icon.component.ts","ng://@generic-ui/ngx-grid/structure/search/feature/search.component.ts","ng://@generic-ui/ngx-grid/structure/search/feature/search.feature-module.ts","ng://@generic-ui/ngx-grid/structure/field/domain-api/read/field.read-model.ts","ng://@generic-ui/ngx-grid/structure/field/domain-api/read/field.ui-converter.ts","ng://@generic-ui/ngx-grid/structure/field/domain/core/field-collection.ts","ng://@generic-ui/ngx-grid/structure/field/domain/core/field/field.ts","ng://@generic-ui/ngx-grid/structure/field/domain/core/field/data/base-data-field.ts","ng://@generic-ui/ngx-grid/structure/field/domain/core/field/data/data-field.ts","ng://@generic-ui/ngx-grid/structure/field/domain/core/field/data/type/unknown-data-field.ts","ng://@generic-ui/ngx-grid/structure/field/domain/core/field/data/type/number-data-field.ts","ng://@generic-ui/ngx-grid/structure/field/domain/core/field/data/type/string-data-field.ts","ng://@generic-ui/ngx-grid/structure/field/domain/core/field/data/type/boolean-data-field.ts","ng://@generic-ui/ngx-grid/structure/field/domain/core/field/data/type/date-data-field.ts","ng://@generic-ui/ngx-grid/structure/field/domain/core/matcher/field.matchers.ts","ng://@generic-ui/ngx-grid/structure/field/domain/core/field/data/data-field.factory.ts","ng://@generic-ui/ngx-grid/structure/field/domain/core/field/field-id.generator.ts","ng://@generic-ui/ngx-grid/structure/field/domain/core/field/field.factory.ts","ng://@generic-ui/ngx-grid/structure/field/domain/core/field-collection.factory.ts","ng://@generic-ui/ngx-grid/structure/field/domain/init/init-fields.command-handler.ts","ng://@generic-ui/ngx-grid/structure/field/domain/field.domain-module.ts","ng://@generic-ui/ngx-grid/structure/field/domain-api/field.command-dispatcher.ts","ng://@generic-ui/ngx-grid/structure/field/domain-api/field.api-module.ts","ng://@generic-ui/ngx-grid/structure/field/feature/field.feature-module.ts","ng://@generic-ui/ngx-grid/structure/source/domain-api/formation/type/row-selection-type.archive.ts","ng://@generic-ui/ngx-grid/structure/source/domain/loading/set-source-loading.event.ts","ng://@generic-ui/ngx-grid/structure/source/domain/loading/source-set-loading.command-handler.ts","ng://@generic-ui/ngx-grid/structure/source/domain/origin/set-origin/set-origin.command-handler.ts","ng://@generic-ui/ngx-grid/structure/source/domain/origin/edit/structure.edit-source-item.command-handler.ts","ng://@generic-ui/ngx-grid/structure/source/domain/origin/origin-item-entity.ts","ng://@generic-ui/ngx-grid/structure/source/domain/origin/edit/structure.source-item-edited.aggregate-event.ts","ng://@generic-ui/ngx-grid/structure/source/domain/origin/structure.origin-changed.aggregate-event.ts","ng://@generic-ui/ngx-grid/structure/source/domain/origin/origin-id.ts","ng://@generic-ui/ngx-grid/structure/source/domain/core/source.manager.ts","ng://@generic-ui/ngx-grid/structure/source/domain/formation/core/formation-manager.ts","ng://@generic-ui/ngx-grid/structure/source/domain/formation/core/formation.manager-factory.ts","ng://@generic-ui/ngx-grid/structure/source/domain/core/source.manager-factory.ts","ng://@generic-ui/ngx-grid/structure/source/domain-api/origin/structure.origin-changed.event-handler.ts","ng://@generic-ui/ngx-grid/structure/source/domain-api/prepared/structure.prepared-items.event-handler.ts","ng://@generic-ui/ngx-grid/structure/source/domain/formation/set-enabled/set-enabled-selection.command-handler.ts","ng://@generic-ui/ngx-grid/structure/source/domain/formation/toggle/toggle-selected-row.command-handler.ts","ng://@generic-ui/ngx-grid/structure/source/domain-api/formation/row-selected.read-model.ts","ng://@generic-ui/ngx-grid/structure/source/domain-api/formation/row-selected/selected-row-changed.event-handler.ts","ng://@generic-ui/ngx-grid/structure/source/domain/formation/mode/set-selection-mode.command-handler.ts","ng://@generic-ui/ngx-grid/structure/source/domain/formation/select-all/select-all-rows.command-handler.ts","ng://@generic-ui/ngx-grid/structure/source/domain/formation/unselect-all/unselect-all-rows.command-handler.ts","ng://@generic-ui/ngx-grid/structure/source/domain/formation/mode/selection-mode-set.event.ts","ng://@generic-ui/ngx-grid/structure/source/domain-api/formation/mode/selection-mode-set.event-handler.ts","ng://@generic-ui/ngx-grid/structure/source/domain/origin/delete/delete-origin-item.command-handler.ts","ng://@generic-ui/ngx-grid/structure/source/domain/source.domain-module.ts","ng://@generic-ui/ngx-grid/structure/source/domain-api/source.api-module.ts","ng://@generic-ui/ngx-grid/structure/source/feature/source.feature-module.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/structure.component.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/header/menu/structure.column-config.component.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/header/menu/structure.column-config.service.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/header/columns/structure-header-columns.component.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/header/filters/structure-header-filters.component.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/header/structure-header.component.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/header/filters/structure.header-filter.component.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/content/structure-content.component.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/content/row/structure-row.component.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/content/cell/structure.cell.component.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/content/structure-container.component.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/header/quick-filters/structure.quick-filters.component.ts","ng://@generic-ui/ngx-grid/lib/structure/domain-api/structure-tokens.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/blueprint/structure.blueprint.component.ts","ng://@generic-ui/ngx-grid/lib/structure/infrastructure/in-memory/domain/in-memory.structure.aggregate-store.ts","ng://@generic-ui/ngx-grid/lib/structure/infrastructure/in-memory/domain/in-memory.structure-aggregate.repository.ts","ng://@generic-ui/ngx-grid/structure/source/domain/formation/set-enabled/selection-enabled-set.event.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/toggle/filter-toggled.event.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/core/add/filter-added.event.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/core/active-filters-set.event.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/unique/select/unique-filter-selected.event.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/unique/select-all/all-unique-filter-selected.event.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/unique/unselect/unique-filter-unselected.event.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/unique/unselect-all/all-unique-filter-unselected.event.ts","ng://@generic-ui/ngx-grid/lib/structure/infrastructure/in-memory/domain-api/in-memory.structure.repository.ts","ng://@generic-ui/ngx-grid/lib/structure/infrastructure/in-memory/in-memory.structure.providers.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/vertical-formation/set-enabled/set-vertical-scroll-enabled.command-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/vertical-formation/scroll-position/set-scroll-position.command-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/summaries/set/structure.summaries-enabled-set.event.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/summaries/set/structure.set-summaries-enabled.command-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/vertical-formation/vertical-range.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/vertical-formation/container/vertical-formation.container-height.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/vertical-formation/vertical-formation.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/vertical-formation/vertical-formation.factory.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/summaries/calculation/summaries.calculators.token.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/summaries/calculation/summaries.calculator.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/summaries/calculation/summaries.values.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/summaries/calculation/boolean/boolean-summarized.values.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/summaries/calculation/boolean/boolean-summaries.calculator.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/summaries/calculation/date/date-summarized.values.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/summaries/calculation/date/date-summaries.calculator.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/summaries/calculation/number/number-summarized.values.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/summaries/calculation/number/number-summaries.calculator.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/summaries/calculation/string/string-summarized.values.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/summaries/calculation/string/string-summaries.calculator.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/summaries/calculation/unknown/unknown-summarized.values.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/summaries/calculation/unknown/unknown-summaries.calculator.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/summaries/summaries.manager.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/summaries/summaries.manager.factory.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/summaries/summaries.providers.ts","ng://@generic-ui/ngx-grid/structure/field/domain-api/read/fields-inited.event-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/domain-api/summaries/structure-summaries.ui-events-repository.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/filter.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/filter.settings.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/type/base-filter-type.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/type/filter-types/contains/contains-filter-type.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/type/filter-type.id.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/type/filter-type.id-generator.ts","ng://@generic-ui/ngx-grid/structure/filter/domain-api/type/filter-type.read-model.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/type/filter-type.manager.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/filter.id.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/filter.id-generator.ts","ng://@generic-ui/ngx-grid/structure/filter/domain-api/active/active-filter.read-model.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/filter.manager.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/filter.manager-factory.ts","ng://@generic-ui/ngx-grid/structure/source/domain/prepared/structure.prepared-entities-set.aggregate-event.ts","ng://@generic-ui/ngx-grid/structure/field/domain/init/fields-inited.aggregate-event.ts","ng://@generic-ui/ngx-grid/schema/domain/theme/schema-theme-set.aggregate-event.ts","ng://@generic-ui/ngx-grid/schema/domain/coloring/row-coloring-set.aggregate-event.ts","ng://@generic-ui/ngx-grid/schema/domain/grid/vertical/schema-vertical-grid-set.aggregate-event.ts","ng://@generic-ui/ngx-grid/schema/domain/grid/horizontal/schema-horizontal-grid-set.aggregate-event.ts","ng://@generic-ui/ngx-grid/schema/domain/create/schema-created.event.ts","ng://@generic-ui/ngx-grid/schema/domain/create/schema-created.aggregate-event.ts","ng://@generic-ui/ngx-grid/schema/domain/schema.aggregate.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/create-structure/structure-created.aggregate-event.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/type/init/filter-types-inited.event.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/type/init/filter-types-inited.aggregate-event.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/core/remove-all/all-filters-removed.aggregate-event.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/core/add/filter-added.aggregate-event.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/core/remove/filter-removed.aggregate-event.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/unique/calculate/unique-filter-calculated.event.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/unique/calculate/unique-filter-calculated.aggregate-event.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/unique/select/unique-filter-selected.aggregate-event.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/unique/unselect/unique-filter-unselected.aggregate-event.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/unique/unselect-all/all-unique-filter-unselected.aggregate-event.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/unique/select-all/all-unique-filter-selected.aggregate-event.ts","ng://@generic-ui/ngx-grid/structure/source/domain/formation/selected-row-changed.aggregate-event.ts","ng://@generic-ui/ngx-grid/structure/source/domain/formation/set-enabled/selection-enabled-set.aggregate-event.ts","ng://@generic-ui/ngx-grid/structure/source/domain/formation/mode/selection-mode-set.aggregate-event.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/structure.aggregate.ts","ng://@generic-ui/ngx-grid/structure/sorting/domain/structure.sorter.ts","ng://@generic-ui/ngx-grid/structure/sorting/domain/sorter.id.ts","ng://@generic-ui/ngx-grid/structure/sorting/domain/sorter.collection.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/unique/unique-value.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/unique/unique-value-id.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/unique/unique-value.id-generator.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/unique/unique-value-collection.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/unique/unique-filter-manager.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/structure.aggregate-factory.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/vertical-formation/set-row-height/set-row-height.command-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/vertical-formation/container/set-height/structure-set-height.command-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/vertical-formation/set-row-height-theme/set-row-height-based-on-theme.command-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/domain-api/summaries/enabled/structure.summaries.repository.ts","ng://@generic-ui/ngx-grid/lib/structure/domain-api/summaries/structure-summaries.warehouse.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/create-structure/structure-created.event-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/domain-api/summaries/enabled/structure.summaries-enabled-set.event-handler.ts","ng://@generic-ui/ngx-grid/lib/structure/domain-api/structure.providers.ts","ng://@generic-ui/ngx-grid/common/cdk/logger/console.logger.ts","ng://@generic-ui/ngx-grid/common/cdk/logger/logger.module.ts","ng://@generic-ui/ngx-grid/structure/source/domain/core/item/item.entity-factory.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/panel/top/structure.top-panel.component.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/panel/top/structure.top-panel.module.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/header/menu/structure.column-config-trigger.component.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/header/menu/main/sort/structure.column-config-sort.component.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/header/menu/main/hide/structure.column-config-column-hide.component.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/header/menu/main/move/structure.column-config-column-move.component.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/header/menu/icon/structure.column-menu-icon.component.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/header/menu/icon/structure.column-menu-arrow-icon.component.ts","ng://@generic-ui/ngx-grid/structure/filter/feature/unique/unique-value-list.component.ts","ng://@generic-ui/ngx-grid/structure/filter/feature/unique/unique-value-list.module.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/header/menu/structure.column-menu.module.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/panel/summaries/structure.summaries-panel.component.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/panel/summaries/structure.summaries-panel.module.ts","ng://@generic-ui/ngx-grid/lib/structure/domain/structure/create-structure/create-structure-command-handler.service.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/content/cell/edit/structure.cell-edit.component.ts","ng://@generic-ui/ngx-grid/schema/domain/schema.aggregate-factory.ts","ng://@generic-ui/ngx-grid/schema/domain/create/create-schema.command-handler.ts","ng://@generic-ui/ngx-grid/schema/domain/theme/set-schema-theme.command-handler.ts","ng://@generic-ui/ngx-grid/schema/domain/schema.aggregate-repository.ts","ng://@generic-ui/ngx-grid/schema/infrastructure/in-memory/in-memory.schema.store.ts","ng://@generic-ui/ngx-grid/schema/infrastructure/in-memory/in-memory.schema.aggregate-store.ts","ng://@generic-ui/ngx-grid/schema/infrastructure/in-memory/in-memory.schema.aggregate-repository.ts","ng://@generic-ui/ngx-grid/schema/domain/coloring/set-row-coloring.command-handler.ts","ng://@generic-ui/ngx-grid/schema/domain/grid/horizontal/set-schema-horizontal-grid.command-handler.ts","ng://@generic-ui/ngx-grid/schema/domain/grid/vertical/set-schema-vertical-grid.command-handler.ts","ng://@generic-ui/ngx-grid/schema/domain-api/css-classes/schema-css-class.ts","ng://@generic-ui/ngx-grid/schema/domain-api/css-classes/schema-css-classes.event-handler.ts","ng://@generic-ui/ngx-grid/schema/domain-api/theme/schema-theme-set.event-handler.ts","ng://@generic-ui/ngx-grid/schema/domain-api/horizontal-grid/schema.horizontal-grid-set.event-handler.ts","ng://@generic-ui/ngx-grid/schema/domain-api/row-coloring/schema.row-coloring-set.event-handler.ts","ng://@generic-ui/ngx-grid/schema/domain-api/vertical-grid/schema.vertical-grid-set.event-handler.ts","ng://@generic-ui/ngx-grid/schema/domain-api/schema.module.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/content/cell/boolean/structure.cell-edit-boolean.component.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/panel/title-panel/structure.title-panel.component.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/panel/footer-panel/structure.footer-panel.component.ts","ng://@generic-ui/ngx-grid/structure/empty-source/feature/empty-source.component.ts","ng://@generic-ui/ngx-grid/structure/empty-source/feature/empty-source.feature-module.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/gateway/schema/structure-theme.gateway.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/toggle/toggle-filter.command.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/toggle/toggle-filter.command-handler.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/core/add/add-filter.command-handler.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/core/remove-all/remove-all-filters.command-handler.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/core/remove/remove-filter.command-handler.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/config/config-filter-set.event.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/config/set-config-filter.command-handler.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/quick/config-quick-filter-set.event.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/quick/set-config-quick-filter.command-handler.ts","ng://@generic-ui/ngx-grid/structure/filter/domain-api/read/config-quick-filter-set.event-handler.ts","ng://@generic-ui/ngx-grid/structure/filter/domain-api/read/config-filter-set.event-handler.ts","ng://@generic-ui/ngx-grid/structure/filter/domain-api/type/filter-type-map.ts","ng://@generic-ui/ngx-grid/structure/filter/domain-api/type/filter-type.config-filter-set.event-handler.ts","ng://@generic-ui/ngx-grid/structure/filter/domain-api/active/active-filters-set.event-handler.ts","ng://@generic-ui/ngx-grid/structure/filter/domain-api/unique/unique-values.read-model.ts","ng://@generic-ui/ngx-grid/structure/filter/domain-api/unique/unique-value.read-model.ts","ng://@generic-ui/ngx-grid/structure/filter/domain-api/unique/unique-filter-calculated.event-handler.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/type/init/filter-type.fields-inited.event-handler.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/unique/unselect-all/unselect-all-unique-filter.command-handler.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/unique/unselect/unselect-unique-filter.command-handler.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/unique/select-all/select-all-unique-filter.command-handler.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/unique/select/select-unique-filter.command-handler.ts","ng://@generic-ui/ngx-grid/structure/filter/domain/filter.domain-module.ts","ng://@generic-ui/ngx-grid/structure/filter/domain-api/filter.api-module.ts","ng://@generic-ui/ngx-grid/lib/structure/feature/header/columns/select-all/select-all.component.ts","ng://@generic-ui/ngx-grid/lib/structure/domain-api/structure.module.ts","ng://@generic-ui/ngx-grid/gui/grid/domain-api/gui.grid.module.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","export type FieldAccessor = (element?: any) => any;\nexport type ViewTemplateMethod = (cellValue: any) => string;\n\nexport interface GuiColumn {\n\n\tfield?: string | FieldAccessor;\n\n\ttype?: string | GuiDataType;\n\n\tview?: string | GuiCellView | ViewTemplateMethod;\n\n\theader?: string;\n\n\twidth?: string | number;\n\n\tenabled?: boolean;\n\n\talign?: string | GuiColumnAlign;\n\n\tsummaries?: GuiColumnSummaries;\n\n\tsorting?: GuiColumnSorting;\n\n\tcellEditing?: GuiColumnCellEditing;\n\n\tmatcher?: (item: any) => any;\n\n}\n\nexport enum GuiDataType {\n\tUNKNOWN,\n\tNUMBER,\n\tSTRING,\n\tBOOLEAN,\n\tDATE,\n\tCUSTOM\n}\n\nexport enum GuiCellView {\n\tTEXT,\n\tCHIP,\n\tLINK,\n\tIMAGE,\n\tBOLD,\n\tITALIC,\n\tCHECKBOX,\n\tCUSTOM,\n\tBAR,\n\tPERCENTAGE_BAR,\n\tPERCENTAGE\n}\n\nexport enum GuiNumberCellView {\n\tTEXT,\n\tBOLD,\n\tITALIC,\n\tCHIP\n}\n\nexport enum GuiStringCellView {\n\tTEXT,\n\tBOLD,\n\tITALIC,\n\tCHIP\n}\n\nexport enum GuiBooleanCellView {\n\tTEXT,\n\tBOLD,\n\tITALIC,\n\tCHIP,\n\tCHECKBOX\n}\n\nexport enum GuiDateCellView {\n\tTEXT,\n\tBOLD,\n\tITALIC,\n\tCHIP\n}\n\nexport interface GuiPaging {\n\n\tenabled?: boolean;\n\n\tpage?: number;\n\n\tpageSize?: number;\n\n\tpageSizes?: Array<number>;\n\n\tpagerTop?: boolean;\n\n\tpagerBottom?: boolean;\n\n\tdisplay?: string | GuiPagingDisplay;\n\n}\n\nexport enum GuiTheme {\n\tFABRIC,\n\tMATERIAL,\n\tLIGHT,\n\tDARK,\n\tGENERIC\n}\n\nexport enum GuiRowColoring {\n\tNONE,\n\tEVEN,\n\tODD\n}\n\nexport enum GuiSortingOrder {\n\tNONE,\n\tASC,\n\tDESC\n}\n\nexport interface GuiSorting {\n\n\tenabled?: boolean;\n\n\t/**\n\t * @experimental\n\t */\n\tmultiSorting?: boolean;\n\n}\n\nexport interface GuiFiltering {\n\n\tenabled?: boolean;\n\n}\n\nexport interface GuiQuickFilters {\n\n\tenabled?: boolean;\n\n}\n\nexport interface GuiSearching {\n\n\tenabled?: boolean;\n\n\thighlighting?: boolean;\n\n\tplaceholder?: string;\n\n\tphrase?: string;\n\n}\n\nexport interface GuiSummaries {\n\n\tenabled?: boolean;\n\n\ttop?: boolean;\n\n\tbottom?: boolean;\n\n}\n\nexport interface GuiColumnSummaries {\n\n\tenabled?: boolean;\n\n\tsummariesTypes?: Array<any>;\n\n}\n\nexport interface GuiColumnSorting {\n\n\tenabled?: boolean;\n\n\tmatcher?: (item: any) => any;\n\n\torder?: GuiSortingOrder\n\n}\n\nexport interface GuiColumnCellEditing {\n\n\tenabled?: boolean;\n\n}\n\nexport interface GuiColumnMenu {\n\n\tenabled?: boolean;\n\n\tsort?: boolean;\n\n\tfilter?: boolean;\n\n\tcolumnsManager?: boolean;\n\n}\n\nexport enum GuiPagingDisplay {\n\tBASIC,\n\tADVANCED\n}\n\nexport enum GuiColumnAlign {\n\tRIGHT,\n\tCENTER,\n\tLEFT\n}\n\nexport interface GuiRowDetail {\n\n\tenabled?: boolean;\n\n\ttemplate?: (item: any) => string;\n\n}\n\nexport interface GuiTitlePanel {\n\n\tenabled?: boolean;\n\n\ttemplate?: string | ((title: any) => string);\n\n}\n\nexport interface GuiFooterPanel {\n\n\tenabled?: boolean\n\n\ttemplate?: string | ((title: any) => string);\n\n}\n\nexport interface GuiInfoPanel {\n\n\tenabled?: boolean;\n\n\tinfoDialog?: boolean;\n\n\tcolumnsManager?: boolean;\n\n\tschemaManager?: boolean;\n\n\tsourceSize?: boolean\n\n}\n\nexport enum GuiRowSelectionType {\n\tROW,\n\tCHECKBOX\n}\n\nexport enum GuiRowSelectionMode {\n\tSINGLE,\n\tMULTIPLE\n}\n\nexport interface GuiRowSelection {\n\n\tenabled?: boolean;\n\n\ttype?: string | GuiRowSelectionType;\n\n\tmode?: string | GuiRowSelectionMode;\n\n}\n\nexport interface GuiSelectedRow {\n\n\tdata?: any;\n\n\tindex: number;\n\n\titemId: any;\n\n}\n","export enum DataType {\n\tUNKNOWN,\n\tNUMBER,\n\tSTRING,\n\tBOOLEAN,\n\tDATE,\n\tCUSTOM\n}\n","import { GuiDataType } from '../../../domain-api/gui.grid.public-api';\nimport { DataType } from '../../../../../structure/field/domain/core/field/data/data-type';\n\nexport class GuiGridColumnTypeConverter {\n\n\tconvertType(type: string | GuiDataType): DataType {\n\n\t\tif (typeof type === 'string') {\n\t\t\treturn this.convertTypeString(type);\n\t\t} else {\n\t\t\treturn this.convertTypeEnum(type);\n\t\t}\n\t}\n\n\tprivate convertTypeEnum(enumType: GuiDataType): DataType {\n\n\t\tswitch (enumType) {\n\n\t\t\tcase GuiDataType.STRING:\n\t\t\t\treturn DataType.STRING;\n\n\t\t\tcase GuiDataType.NUMBER:\n\t\t\t\treturn DataType.NUMBER;\n\n\t\t\tcase GuiDataType.BOOLEAN:\n\t\t\t\treturn DataType.BOOLEAN;\n\n\t\t\tcase GuiDataType.DATE:\n\t\t\t\treturn DataType.DATE;\n\n\t\t\tcase GuiDataType.UNKNOWN:\n\t\t\t\treturn DataType.UNKNOWN;\n\n\t\t\tcase GuiDataType.CUSTOM:\n\t\t\t\treturn DataType.CUSTOM;\n\n\t\t\tdefault:\n\t\t\t\treturn DataType.STRING;\n\t\t}\n\t}\n\n\tprivate convertTypeString(type: string): DataType {\n\t\tconst loweredType = type.toLocaleLowerCase();\n\n\t\tswitch (loweredType) {\n\n\t\t\tcase 'string':\n\t\t\t\treturn DataType.STRING;\n\n\t\t\tcase 'number':\n\t\t\t\treturn DataType.NUMBER;\n\n\t\t\tcase 'boolean':\n\t\t\t\treturn DataType.BOOLEAN;\n\n\t\t\tcase 'date':\n\t\t\t\treturn DataType.DATE;\n\n\t\t\tcase 'unknown':\n\t\t\t\treturn DataType.UNKNOWN;\n\n\t\t\tcase 'custom':\n\t\t\t\treturn DataType.CUSTOM;\n\n\t\t\tdefault:\n\t\t\t\treturn DataType.STRING;\n\t\t}\n\t}\n\n}\n","export enum SummariesType {\n\tCOUNT = 1 << 10,\n\tDISTINCT = 1 << 0,\n\tSUM = 1 << 1,\n\tAVERAGE = 1 << 2,\n\tMIN = 1 << 3,\n\tMAX = 1 << 4,\n\tMEDIAN = 1 << 5,\n\tTRUTHY = 1 << 6, // doesn't work\n\tFALSY = 1 << 7, // doesn't work\n\tEARLIEST = 1 << 8, // doesn't work\n\tLATEST = 1 << 9, // doesn't work\n}\n\n// count\n// count distinct\n// percentile\n// std.dev\n// std.dev Pop\n// variance\n// variance pop\n","import { ColumnSummariesConfig } from '../../../../../../lib/composition/domain/column/column-summaries.config';\nimport { SummariesType } from '../../../../../../lib/structure/domain/structure/summaries/summaries.type';\n\nimport { GuiColumnSummaries } from '../../../../../../gui.grid.index';\n\n\nexport class GuiGridColumnSummariesConverter {\n\n\tconvert(summariesConfig: GuiColumnSummaries): ColumnSummariesConfig {\n\t\tlet columnSummariesConfig: ColumnSummariesConfig = {};\n\n\t\tif (summariesConfig.enabled !== undefined && summariesConfig.enabled !== null) {\n\t\t\tcolumnSummariesConfig.enabled = summariesConfig.enabled;\n\t\t}\n\n\t\tif (summariesConfig.summariesTypes !== undefined && summariesConfig.summariesTypes !== null) {\n\t\t\tcolumnSummariesConfig.summariesTypes = this.convertSummariesTypes(summariesConfig.summariesTypes);\n\t\t}\n\n\t\treturn columnSummariesConfig;\n\t}\n\n\tprivate convertSummariesTypes(configSummariesTypes: Array<string>): Array<SummariesType> {\n\n\t\tconst summariesTypes: Array<SummariesType> = [];\n\n\t\tconfigSummariesTypes.forEach((type: string) => {\n\n\t\t\tconst summariesType = this.convertSummariesType(type);\n\n\t\t\tif (summariesType !== undefined && summariesType !== null) {\n\t\t\t\tsummariesTypes.push(summariesType);\n\t\t\t}\n\t\t});\n\n\t\treturn summariesTypes;\n\t}\n\n\tprivate convertSummariesType(type: string): SummariesType {\n\n\t\tconst loweredSummariesType = type.toLocaleLowerCase();\n\n\t\tswitch (loweredSummariesType) {\n\n\t\t\tcase 'count':\n\t\t\t\treturn SummariesType.COUNT;\n\n\t\t\tcase 'distinct':\n\t\t\t\treturn SummariesType.DISTINCT;\n\n\t\t\tcase 'sum':\n\t\t\t\treturn SummariesType.SUM;\n\n\t\t\tcase 'average':\n\t\t\t\treturn SummariesType.AVERAGE;\n\n\t\t\tcase 'min':\n\t\t\t\treturn SummariesType.MIN;\n\n\t\t\tcase 'max':\n\t\t\t\treturn SummariesType.MAX;\n\n\t\t\tcase 'median':\n\t\t\t\treturn SummariesType.MEDIAN;\n\n\t\t\tcase 'truthy':\n\t\t\t\treturn SummariesType.TRUTHY;\n\n\t\t\tcase 'falsy':\n\t\t\t\treturn SummariesType.FALSY;\n\n\t\t\tcase 'earliest':\n\t\t\t\treturn SummariesType.EARLIEST;\n\n\t\t\tcase 'latest':\n\t\t\t\treturn SummariesType.LATEST;\n\n\t\t\tdefault:\n\t\t\t\treturn null;\n\n\t\t}\n\t}\n\n}\n","export enum CellView {\n\tTEXT,\n\tNUMBER,\n\tCHIP,\n\tLINK,\n\tIMAGE,\n\tBOLD,\n\tITALIC,\n\tCHECKBOX,\n\tCUSTOM,\n\tFUNCTION,\n\tDATE,\n\tBAR,\n\tPERCENTAGE_BAR,\n\tPERCENTAGE\n}\n","import { GuiCellView, ViewTemplateMethod } from '../../../domain-api/gui.grid.public-api';\nimport { CellView } from '../../../../../lib/composition/domain/column/cell-view';\n\nexport class GuiGridColumnViewConverter {\n\n\tconvert(view: string | GuiCellView | ViewTemplateMethod): CellView | ViewTemplateMethod {\n\n\t\tif (typeof view === 'string') {\n\t\t\treturn this.convertString(view);\n\t\t} else if (typeof view === 'function') {\n\t\t\treturn view;\n\t\t} else {\n\t\t\treturn this.convertEnum(view);\n\t\t}\n\t}\n\n\tprivate convertString(view: string): CellView {\n\n\t\tconst loweredView = view.toLocaleLowerCase();\n\n\t\tswitch (loweredView) {\n\n\t\t\tcase 'text':\n\t\t\t\treturn CellView.TEXT;\n\n\t\t\tcase 'chip':\n\t\t\t\treturn CellView.CHIP;\n\n\t\t\tcase 'link':\n\t\t\t\treturn CellView.LINK;\n\n\t\t\tcase 'image':\n\t\t\t\treturn CellView.IMAGE;\n\n\t\t\tcase 'bold':\n\t\t\t\treturn CellView.BOLD;\n\n\t\t\tcase 'italic':\n\t\t\t\treturn CellView.ITALIC;\n\n\t\t\tcase 'checkbox':\n\t\t\t\treturn CellView.CHECKBOX;\n\n\t\t\tcase 'custom':\n\t\t\t\treturn CellView.CUSTOM;\n\n\t\t\tcase 'bar':\n\t\t\t\treturn CellView.BAR;\n\n\t\t\tcase 'percentage_bar':\n\t\t\t\treturn CellView.PERCENTAGE_BAR;\n\n\t\t\tcase 'percentage':\n\t\t\t\treturn CellView.PERCENTAGE;\n\n\t\t\tdefault:\n\t\t\t\treturn CellView.TEXT;\n\t\t}\n\t}\n\n\tprivate convertEnum(view: GuiCellView): CellView {\n\n\t\tswitch (view) {\n\n\t\t\tcase GuiCellView.TEXT:\n\t\t\t\treturn CellView.TEXT;\n\n\t\t\tcase GuiCellView.CHIP:\n\t\t\t\treturn CellView.CHIP;\n\n\t\t\tcase GuiCellView.LINK:\n\t\t\t\treturn CellView.LINK;\n\n\t\t\tcase GuiCellView.IMAGE:\n\t\t\t\treturn CellView.IMAGE;\n\n\t\t\tcase GuiCellView.BOLD:\n\t\t\t\treturn CellView.BOLD;\n\n\t\t\tcase GuiCellView.ITALIC:\n\t\t\t\treturn CellView.ITALIC;\n\n\t\t\tcase GuiCellView.CHECKBOX:\n\t\t\t\treturn CellView.CHECKBOX;\n\n\t\t\tcase GuiCellView.CUSTOM:\n\t\t\t\treturn CellView.CUSTOM;\n\n\t\t\tcase GuiCellView.BAR:\n\t\t\t\treturn CellView.BAR;\n\n\t\t\tcase GuiCellView.PERCENTAGE_BAR:\n\t\t\t\treturn CellView.PERCENTAGE_BAR;\n\n\t\t\tcase GuiCellView.PERCENTAGE:\n\t\t\t\treturn CellView.PERCENTAGE;\n\n\t\t\tdefault:\n\t\t\t\treturn CellView.TEXT;\n\t\t}\n\t}\n\n}\n","import { ColumnSortingConfig } from '../../../../../../lib/composition/domain/sort/column-sorting.config';\n\nimport { GuiColumnSorting } from '../../../../../../gui.grid.index';\n\nexport class GuiGridColumnSortingConverter {\n\n\tconvert(sortingConfig: GuiColumnSorting): ColumnSortingConfig {\n\n\t\treturn sortingConfig as any;\n\t}\n\n}\n","import { GuiColumnCellEditing } from '../../../../../../gui.grid.index';\nimport { ColumnCellEditingConfig } from '../../../../../../lib/composition/domain/column/column-cell-editing.config';\n\nexport class GuiGridColumnCellEditingConverter {\n\n\tconvert(config: GuiColumnCellEditing): ColumnCellEditingConfig {\n\n\t\treturn config as any;\n\t}\n\n}\n","export enum ColumnAlign {\n\tRIGHT,\n\tCENTER,\n\tLEFT\n}\n","import { GuiColumnAlign } from '../../../../domain-api/gui.grid.public-api';\nimport { ColumnAlign } from '../../../../../../lib/composition/domain/column/column-align';\n\nexport class GuiGridColumnAlignConverter {\n\n\tconvert(align: string | GuiColumnAlign): ColumnAlign {\n\n\t\tif (typeof align === 'string') {\n\t\t\treturn this.convertTypeString(align);\n\t\t} else {\n\t\t\treturn this.convertTypeEnum(align);\n\t\t}\n\t}\n\n\tprivate convertTypeEnum(align: GuiColumnAlign): ColumnAlign {\n\n\t\tswitch (align) {\n\n\t\t\tcase GuiColumnAlign.RIGHT:\n\t\t\t\treturn ColumnAlign.RIGHT;\n\n\t\t\tcase GuiColumnAlign.CENTER:\n\t\t\t\treturn ColumnAlign.CENTER;\n\n\t\t\tcase GuiColumnAlign.LEFT:\n\t\t\t\treturn ColumnAlign.LEFT;\n\n\t\t\tdefault:\n\t\t\t\treturn ColumnAlign.LEFT;\n\t\t}\n\t}\n\n\tprivate convertTypeString(align: string): ColumnAlign {\n\t\tconst loweredType = align.toLocaleLowerCase();\n\n\t\tswitch (loweredType) {\n\n\t\t\tcase 'right':\n\t\t\t\treturn ColumnAlign.RIGHT;\n\n\t\t\tcase 'center':\n\t\t\t\treturn ColumnAlign.CENTER;\n\n\t\t\tcase 'left':\n\t\t\t\treturn ColumnAlign.LEFT;\n\n\t\t\tdefault:\n\t\t\t\treturn ColumnAlign.LEFT;\n\t\t}\n\t}\n}\n","import { GuiColumn } from '../../../domain-api/gui.grid.public-api';\nimport { ColumnConfig } from '../../../../../lib/composition/domain/column/column.config';\n\nimport { GuiGridColumnTypeConverter } from './gui.grid.column-type.converter';\nimport { GuiGridColumnSummariesConverter } from './summaries/gui.grid.column-summaries.converter';\nimport { GuiGridColumnViewConverter } from './gui.grid.column-view.converter';\nimport { GuiGridColumnSortingConverter } from './sorting/gui.grid.column-sorting.converter';\nimport { GuiGridColumnCellEditingConverter } from './cell-editing/gui.grid.column-cell-editing.converter';\nimport { GuiGridColumnAlignConverter } from './align/gui.grid.column-align.converter';\n\n\nexport class GuiGridColumnConverter {\n\n\tprivate readonly columnTypeConverter = new GuiGridColumnTypeConverter();\n\n\tprivate readonly columnSummariesConverter = new GuiGridColumnSummariesConverter();\n\n\tprivate readonly columnViewConverter = new GuiGridColumnViewConverter();\n\n\tprivate readonly columnSortingConverter = new GuiGridColumnSortingConverter();\n\n\tprivate readonly columnCellEditingConverter = new GuiGridColumnCellEditingConverter();\n\n\tprivate readonly columnAlignConverter = new GuiGridColumnAlignConverter();\n\n\tconvert(config: Array<GuiColumn>): Array<ColumnConfig> {\n\t\treturn config.map((c) => this.convertColumn(c));\n\t}\n\n\tprivate convertColumn(guiColumn: GuiColumn): ColumnConfig {\n\t\tlet columnConfig: ColumnConfig = {};\n\n\t\tif (guiColumn.type !== undefined && guiColumn.type !== null) {\n\t\t\tcolumnConfig.type = this.columnTypeConverter.convertType(guiColumn.type);\n\t\t}\n\n\t\tif (guiColumn.header !== undefined && guiColumn.header !== null) {\n\t\t\tcolumnConfig.header = guiColumn.header;\n\t\t}\n\n\t\tif (guiColumn.enabled !== undefined && guiColumn.enabled !== null) {\n\t\t\tcolumnConfig.enabled = guiColumn.enabled;\n\t\t}\n\n\t\tif (guiColumn.field !== undefined && guiColumn.field !== null) {\n\t\t\tcolumnConfig.field = guiColumn.field;\n\t\t}\n\n\t\tif (guiColumn.width !== undefined && guiColumn.width !== null) {\n\t\t\tcolumnConfig.width = guiColumn.width;\n\t\t}\n\n\t\tif (guiColumn.align !== undefined && guiColumn.align !== null) {\n\t\t\tcolumnConfig.align = this.columnAlignConverter.convert(guiColumn.align);\n\t\t}\n\n\t\tif (guiColumn.view !== undefined && guiColumn.view !== null) {\n\t\t\tcolumnConfig.view = this.columnViewConverter.convert(guiColumn.view);\n\t\t}\n\n\t\tif (guiColumn.summaries !== undefined && guiColumn.summaries !== null) {\n\t\t\tcolumnConfig.summaries = this.columnSummariesConverter.convert(guiColumn.summaries);\n\t\t}\n\n\t\tif (guiColumn.sorting !== undefined && guiColumn.sorting !== null) {\n\t\t\tcolumnConfig.sorting = this.columnSortingConverter.convert(guiColumn.sorting);\n\t\t}\n\n\t\tif (guiColumn.cellEditing !== undefined && guiColumn.cellEditing !== null) {\n\t\t\tcolumnConfig.cellEditing = this.columnCellEditingConverter.convert(guiColumn.cellEditing);\n\t\t}\n\n\t\tif (guiColumn.matcher !== undefined && guiColumn.matcher !== null) {\n\t\t\tcolumnConfig.matcher = guiColumn.matcher;\n\t\t}\n\n\t\treturn columnConfig;\n\t}\n\n}\n","export enum SchemaTheme {\n\tFABRIC,\n\tMATERIAL,\n\tLIGHT,\n\tDARK,\n\tGENERIC\n}\n","import { GuiTheme } from '../../../domain-api/gui.grid.public-api';\nimport { SchemaTheme } from '../../../../../schema/domain/theme/schema-theme';\n\n\nexport class GuiGridThemeConverter {\n\n\tconvert(theme: string | GuiTheme): SchemaTheme {\n\n\t\tif (typeof theme === 'string') {\n\t\t\treturn this.convertString(theme);\n\t\t} else {\n\t\t\treturn this.convertEnum(theme);\n\t\t}\n\n\t}\n\n\tconvertToGuiTheme(theme: SchemaTheme): GuiTheme {\n\n\t\tswitch (theme) {\n\n\t\t\tcase SchemaTheme.MATERIAL:\n\t\t\t\treturn GuiTheme.MATERIAL;\n\n\t\t\tcase SchemaTheme.FABRIC:\n\t\t\t\treturn GuiTheme.FABRIC;\n\n\t\t\tcase SchemaTheme.LIGHT:\n\t\t\t\treturn GuiTheme.LIGHT;\n\n\t\t\tcase SchemaTheme.DARK:\n\t\t\t\treturn GuiTheme.DARK;\n\n\t\t\tcase SchemaTheme.GENERIC:\n\t\t\t\treturn GuiTheme.GENERIC;\n\n\t\t\tdefault:\n\t\t\t\treturn GuiTheme.GENERIC;\n\n\t\t}\n\t}\n\n\tprivate convertString(theme: string): SchemaTheme {\n\n\t\tconst loweredTheme = theme.toLocaleLowerCase();\n\n\t\tswitch (loweredTheme) {\n\n\t\t\tcase 'material':\n\t\t\t\treturn SchemaTheme.MATERIAL;\n\n\t\t\tcase 'fabric':\n\t\t\t\treturn SchemaTheme.FABRIC;\n\n\t\t\tcase 'light':\n\t\t\t\treturn SchemaTheme.LIGHT;\n\n\t\t\tcase 'dark':\n\t\t\t\treturn SchemaTheme.DARK;\n\n\t\t\tcase 'generic':\n\t\t\t\treturn SchemaTheme.GENERIC;\n\n\t\t\tdefault:\n\t\t\t\treturn SchemaTheme.FABRIC;\n\n\t\t}\n\n\t}\n\n\tprivate convertEnum(theme: GuiTheme): SchemaTheme {\n\n\t\tswitch (theme) {\n\n\t\t\tcase GuiTheme.MATERIAL:\n\t\t\t\treturn SchemaTheme.MATERIAL;\n\n\t\t\tcase GuiTheme.FABRIC:\n\t\t\t\treturn SchemaTheme.FABRIC;\n\n\t\t\tcase GuiTheme.LIGHT:\n\t\t\t\treturn SchemaTheme.LIGHT;\n\n\t\t\tcase GuiTheme.DARK:\n\t\t\t\treturn SchemaTheme.DARK;\n\n\t\t\tcase GuiTheme.GENERIC:\n\t\t\t\treturn SchemaTheme.GENERIC;\n\n\t\t\tdefault:\n\t\t\t\treturn SchemaTheme.FABRIC;\n\n\t\t}\n\n\t}\n\n}\n","export enum RowColoring {\n\tNONE,\n\tEVEN,\n\tODD\n}\n","import { GuiRowColoring } from '../../../domain-api/gui.grid.public-api';\nimport { RowColoring } from '../../../../../schema/domain-api/row-coloring';\n\n\nexport class GuiGridRowColoringConverter {\n\n\tconvert(rowColoring: string | GuiRowColoring): RowColoring {\n\n\t\tif (typeof rowColoring === 'string') {\n\t\t\treturn this.convertString(rowColoring);\n\t\t} else {\n\t\t\treturn this.convertEnum(rowColoring);\n\t\t}\n\n\t}\n\n\tconvertToGuiRowColoring(value: RowColoring): GuiRowColoring {\n\t\tswitch (value) {\n\n\t\t\tcase RowColoring.NONE:\n\t\t\t\treturn GuiRowColoring.NONE;\n\n\t\t\tcase RowColoring.EVEN:\n\t\t\t\treturn GuiRowColoring.EVEN;\n\n\t\t\tcase RowColoring.ODD:\n\t\t\t\treturn GuiRowColoring.ODD;\n\n\t\t\tdefault:\n\t\t\t\treturn GuiRowColoring.EVEN;\n\n\t\t}\n\t}\n\n\tprivate convertString(rowColoring: string): RowColoring {\n\n\t\tconst loweredRowColoring = rowColoring.toLocaleLowerCase();\n\n\t\tswitch (loweredRowColoring) {\n\n\t\t\tcase 'none':\n\t\t\t\treturn RowColoring.NONE;\n\n\t\t\tcase 'even':\n\t\t\t\treturn RowColoring.EVEN;\n\n\t\t\tcase 'odd':\n\t\t\t\treturn RowColoring.ODD;\n\n\t\t\tdefault:\n\t\t\t\treturn RowColoring.EVEN;\n\n\t\t}\n\n\t}\n\n\tprivate convertEnum(rowColoring: GuiRowColoring): RowColoring {\n\n\t\tswitch (rowColoring) {\n\n\t\t\tcase GuiRowColoring.NONE:\n\t\t\t\treturn RowColoring.NONE;\n\n\t\t\tcase GuiRowColoring.EVEN:\n\t\t\t\treturn RowColoring.EVEN;\n\n\t\t\tcase GuiRowColoring.ODD:\n\t\t\t\treturn RowColoring.ODD;\n\n\t\t\tdefault:\n\t\t\t\treturn RowColoring.EVEN;\n\n\t\t}\n\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { GuiColumnMenu } from '../../../../domain-api/gui.grid.public-api';\n\nimport { ColumnMenuConfig } from '../../../../../../lib/structure/domain-api/column-menu-config';\n\n@Injectable()\nexport class GuiGridColumnMenuConverter {\n\n\tconvert(config: GuiColumnMenu): ColumnMenuConfig {\n\t\treturn config as ColumnMenuConfig;\n\t}\n}\n","export enum PagingDisplayMode {\n\tBASIC,\n\tADVANCED\n}\n","import { PagingDisplayMode } from '../../../../../structure/paging/feature/mode/paging-display-mode';\nimport { GuiPaging, GuiPagingDisplay } from '../../../domain-api/gui.grid.public-api';\nimport { PagingConfig } from '../../../../../structure/paging/domain-api/paging-config';\n\n\nexport class GuiGridPagingConverter {\n\n\tconvert(guiPaging: GuiPaging): PagingConfig {\n\n\t\tlet pagingConfig: PagingConfig = {};\n\n\t\tif (guiPaging.enabled !== undefined && guiPaging.enabled !== null) {\n\t\t\tpagingConfig.enabled = guiPaging.enabled;\n\t\t}\n\n\t\tif (guiPaging.page !== undefined && guiPaging.page !== null) {\n\t\t\tpagingConfig.page = guiPaging.page;\n\t\t}\n\n\t\tif (guiPaging.pageSize !== undefined && guiPaging.pageSize !== null) {\n\t\t\tpagingConfig.pageSize = guiPaging.pageSize;\n\t\t}\n\n\t\tif (guiPaging.pageSizes !== undefined && guiPaging.pageSizes !== null) {\n\t\t\tpagingConfig.pageSizes = guiPaging.pageSizes;\n\t\t}\n\n\t\tif (guiPaging.pagerTop !== undefined && guiPaging.pagerTop !== null) {\n\t\t\tpagingConfig.pagerTop = guiPaging.pagerTop;\n\t\t}\n\n\t\tif (guiPaging.pagerBottom !== undefined && guiPaging.pagerBottom !== null) {\n\t\t\tpagingConfig.pagerBottom = guiPaging.pagerBottom;\n\t\t}\n\n\t\tif (guiPaging.display !== undefined && guiPaging.display !== null) {\n\t\t\tpagingConfig.displayMode = this.convertDisplay(guiPaging.display);\n\t\t}\n\n\t\treturn pagingConfig;\n\t}\n\n\tprivate convertDisplay(pagingDisplay: string | GuiPagingDisplay): PagingDisplayMode {\n\n\t\tif (typeof pagingDisplay === 'string') {\n\t\t\treturn this.convertString(pagingDisplay);\n\t\t} else {\n\t\t\treturn this.convertEnum(pagingDisplay);\n\t\t}\n\t}\n\n\tprivate convertString(pagingDisplay: string): PagingDisplayMode {\n\n\t\tconst loweredPaging = pagingDisplay.toLocaleLowerCase();\n\n\t\tswitch (loweredPaging) {\n\n\t\t\tcase 'basic':\n\t\t\t\treturn PagingDisplayMode.BASIC;\n\n\t\t\tcase 'advanced':\n\t\t\t\treturn PagingDisplayMode.ADVANCED;\n\n\t\t\tdefault:\n\t\t\t\treturn PagingDisplayMode.BASIC;\n\t\t}\n\t}\n\n\tprivate convertEnum(pagingDisplay: GuiPagingDisplay): PagingDisplayMode {\n\n\t\tswitch (pagingDisplay) {\n\n\t\t\tcase GuiPagingDisplay.BASIC:\n\t\t\t\treturn PagingDisplayMode.BASIC;\n\n\t\t\tcase GuiPagingDisplay.ADVANCED:\n\t\t\t\treturn PagingDisplayMode.ADVANCED;\n\n\t\t\tdefault:\n\t\t\t\treturn PagingDisplayMode.BASIC;\n\t\t}\n\t}\n\n}\n","export abstract class GenericBuilder<T> {\n\n\tprotected abstract buildObject(): T;\n\n\tbuild(): T {\n\t\treturn this.buildObject();\n\t}\n\n}\n","import { GenericBuilder } from '../../../common/cdk/generic-builder';\n\nexport enum RowSelectionType {\n\tROW,\n\tCHECKBOX\n}\n\nexport enum RowSelectionMode {\n\tSINGLE,\n\tMULTIPLE\n}\n\nexport class RowSelection {\n\n\tprivate readonly enabled: boolean;\n\n\tprivate readonly type: RowSelectionType;\n\n\tprivate readonly mode: RowSelectionMode;\n\n\tprivate constructor(config: {\n\t\tenabled?: boolean,\n\t\tmode?: RowSelectionMode,\n\t\ttype?: RowSelectionType\n\t}) {\n\t\tif (config.enabled !== undefined) {\n\t\t\tthis.enabled = config.enabled;\n\t\t}\n\n\t\tif (config.mode !== undefined) {\n\t\t\tthis.mode = config.mode;\n\t\t}\n\n\t\tif (config.type !== undefined) {\n\t\t\tthis.type = config.type;\n\t\t}\n\t}\n\n\tisModeDefined(): boolean {\n\t\treturn this.mode !== undefined;\n\t}\n\n\tisTypeDefined(): boolean {\n\t\treturn this.type !== undefined;\n\t}\n\n\tisEnabledDefined(): boolean {\n\t\treturn this.enabled !== undefined;\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n\tgetMode(): RowSelectionMode {\n\t\treturn this.mode;\n\t}\n\n\tgetType(): RowSelectionType {\n\t\treturn this.type;\n\t}\n\n\tstatic Builder = class RowSelectionBuilder extends GenericBuilder<RowSelection> {\n\n\t\tenabled: boolean;\n\n\t\ttype: RowSelectionType;\n\n\t\tmode: RowSelectionMode;\n\n\t\tconstructor() {\n\t\t\tsuper();\n\t\t}\n\n\t\tbuildObject(): RowSelection {\n\t\t\treturn new RowSelection({\n\t\t\t\tenabled: this.enabled,\n\t\t\t\ttype: this.type,\n\t\t\t\tmode: this.mode\n\t\t\t});\n\t\t}\n\n\t\twithEnabled(enabled: boolean): RowSelectionBuilder {\n\t\t\tthis.enabled = enabled;\n\t\t\treturn this;\n\t\t}\n\n\t\twithType(type: RowSelectionType): RowSelectionBuilder {\n\t\t\tthis.type = type;\n\t\t\treturn this;\n\t\t}\n\n\t\twithMode(mode: RowSelectionMode): RowSelectionBuilder {\n\t\t\tthis.mode = mode;\n\t\t\treturn this;\n\t\t}\n\n\t};\n\n}\n","import { GuiRowSelection, GuiRowSelectionMode, GuiRowSelectionType } from '../../../domain-api/gui.grid.public-api';\nimport { RowSelection, RowSelectionMode, RowSelectionType } from '../../../../../structure/source/domain-api/row-selection';\n\nexport class GuiGridRowSelectionConverter {\n\n\tconvert(selection: boolean | GuiRowSelection): RowSelection {\n\n\t\tlet builder = new RowSelection.Builder();\n\n\t\tif (typeof selection === 'boolean') {\n\t\t\treturn builder.withEnabled(selection).build();\n\t\t} else {\n\n\t\t\tif (selection.enabled !== undefined) {\n\t\t\t\tbuilder.withEnabled(selection.enabled);\n\t\t\t}\n\n\t\t\tif (selection.mode !== undefined) {\n\t\t\t\tconst mode = this.convertMode(selection.mode);\n\n\t\t\t\tbuilder.withMode(mode);\n\t\t\t}\n\n\t\t\tif (selection.type !== undefined) {\n\t\t\t\tconst type = this.convertType(selection.type);\n\n\t\t\t\tbuilder.withType(type);\n\t\t\t}\n\n\t\t\treturn builder.build();\n\t\t}\n\n\t}\n\n\tprivate convertMode(mode: string | GuiRowSelectionMode): RowSelectionMode {\n\n\t\tif (typeof mode === 'string') {\n\n\t\t\tswitch (mode) {\n\t\t\t\tcase 'single':\n\t\t\t\t\treturn RowSelectionMode.SINGLE;\n\t\t\t\tcase 'multiple':\n\t\t\t\t\treturn RowSelectionMode.MULTIPLE;\n\t\t\t\tdefault:\n\t\t\t\t\treturn RowSelectionMode.SINGLE;\n\t\t\t}\n\t\t} else {\n\t\t\tswitch (mode) {\n\n\t\t\t\tcase GuiRowSelectionMode.SINGLE:\n\t\t\t\t\treturn RowSelectionMode.SINGLE;\n\n\t\t\t\tcase GuiRowSelectionMode.MULTIPLE:\n\t\t\t\t\treturn RowSelectionMode.MULTIPLE;\n\t\t\t}\n\t\t}\n\n\t}\n\n\tprivate convertType(type: string | GuiRowSelectionType): RowSelectionType {\n\n\t\tif (typeof type === 'string') {\n\n\t\t\tswitch (type) {\n\t\t\t\tcase 'row':\n\t\t\t\t\treturn RowSelectionType.ROW;\n\t\t\t\tcase 'checkbox':\n\t\t\t\t\treturn RowSelectionType.CHECKBOX;\n\t\t\t\tdefault:\n\t\t\t\t\treturn RowSelectionType.ROW;\n\t\t\t}\n\t\t} else {\n\t\t\tswitch (type) {\n\n\t\t\t\tcase GuiRowSelectionType.ROW:\n\t\t\t\t\treturn RowSelectionType.ROW;\n\n\t\t\t\tcase GuiRowSelectionType.CHECKBOX:\n\t\t\t\t\treturn RowSelectionType.CHECKBOX;\n\t\t\t}\n\t\t}\n\t}\n\n}\n","import { EventEmitter, Input, OnChanges, Output, SimpleChanges } from '@angular/core';\n\nimport {\n\tGuiColumn,\n\tGuiColumnMenu,\n\tGuiFiltering,\n\tGuiFooterPanel,\n\tGuiInfoPanel,\n\tGuiPaging,\n\tGuiQuickFilters,\n\tGuiRowColoring,\n\tGuiRowDetail,\n\tGuiRowSelection,\n\tGuiSearching,\n\tGuiSelectedRow,\n\tGuiSorting,\n\tGuiSummaries,\n\tGuiTheme,\n\tGuiTitlePanel\n} from '../../domain-api/gui.grid.public-api';\nimport { ColumnConfig } from '../../../../lib/composition/domain/column/column.config';\n\nimport { GuiGridColumnConverter } from './column/gui.grid.column.converter';\nimport { GuiGridThemeConverter } from './theme/gui.grid.theme.converter';\nimport { GuiGridRowColoringConverter } from './coloring/gui.grid.row-coloring.converter';\nimport { ColumnMenuConfig } from '../../../../lib/structure/domain-api/column-menu-config';\nimport { GuiGridColumnMenuConverter } from './column/menu/gui.grid.column-menu.converter';\nimport { GuiGridPagingConverter } from './paging/gui.grid.paging.converter';\nimport { SchemaTheme } from '../../../../schema/domain/theme/schema-theme';\nimport { RowColoring } from '../../../../schema/domain-api/row-coloring';\nimport { GuiGridRowSelectionConverter } from './row-selection/gui.grid.row-selection.converter';\nimport { RowSelection } from '../../../../structure/source/domain-api/row-selection';\nimport { SelectedRow } from '../../../../structure/source/domain-api/formation/selected-row';\n\nexport abstract class GuiGridGateway implements OnChanges {\n\n\t/**\n\t * INPUTS\n\t */\n\t@Input()\n\tcolumnHeaderTop: boolean;\n\n\t@Input()\n\tcolumnHeaderBottom: boolean;\n\n\t@Input()\n\tmaxHeight: number;\n\n\t@Input()\n\twidth: number;\n\n\t@Input()\n\trowHeight: number;\n\n\t@Input()\n\tautoResizeWidth: boolean;\n\n\t@Input()\n\tsource: Array<any> = [];\n\n\t@Input()\n\tcolumns: Array<GuiColumn> = [];\n\n\t@Input()\n\tpaging: boolean | GuiPaging;\n\n\t@Input()\n\tverticalGrid: boolean;\n\n\t@Input()\n\thorizontalGrid: boolean;\n\n\t@Input()\n\ttheme: string | GuiTheme;\n\n\t@Input()\n\trowColoring: string | GuiRowColoring;\n\n\t@Input()\n\trowSelection: boolean | GuiRowSelection;\n\n\t@Input()\n\tloading: boolean;\n\n\t@Input()\n\tvirtualScroll: boolean;\n\n\t@Input()\n\tsorting: boolean | GuiSorting;\n\n\t@Input()\n\tsearching: boolean | GuiSearching;\n\n\t@Input()\n\ttitlePanel: GuiTitlePanel;\n\n\t@Input()\n\tfooterPanel: GuiFooterPanel;\n\n\t/**\n\t * @experimental\n\t */\n\t@Input()\n\tfiltering: boolean | GuiFiltering;\n\n\t/**\n\t * @experimental\n\t */\n\t@Input()\n\tquickFilters: boolean | GuiQuickFilters;\n\n\t/**\n\t * @experimental\n\t */\n\t@Input()\n\teditMode: boolean;\n\n\t/**\n\t * @experimental\n\t */\n\t@Input()\n\tcellEditing: boolean;\n\n\t@Input()\n\tinfoPanel: boolean | GuiInfoPanel;\n\n\t/**\n\t * @experimental\n\t */\n\t@Input()\n\tsummaries: GuiSummaries;\n\n\t@Input()\n\tcolumnMenu: GuiColumnMenu;\n\n\t@Input()\n\trowDetail: GuiRowDetail;\n\n\n\t/**\n\t * OUTPUTS\n\t */\n\t@Output()\n\tpageChanged: EventEmitter<number> = new EventEmitter<number>();\n\n\t@Output()\n\tpageSizeChanged: EventEmitter<number> = new EventEmitter<number>();\n\n\t@Output()\n\titemsSelected: EventEmitter<any> = new EventEmitter();\n\n\t@Output()\n\tselectedRows: EventEmitter<Array<GuiSelectedRow>> = new EventEmitter();\n\n\t@Output()\n\tcolumnsChanged: EventEmitter<void> = new EventEmitter();\n\n\t@Output()\n\tcontainerWidthChanged: EventEmitter<number> = new EventEmitter();\n\n\t@Output()\n\tsourceEdited: EventEmitter<{ after: any, before: any }> = new EventEmitter();\n\n\t@Output()\n\tcellEditEntered: EventEmitter<void> = new EventEmitter();\n\n\t@Output()\n\tcellEditCanceled: EventEmitter<void> = new EventEmitter();\n\n\t@Output()\n\tcellEditSubmitted: EventEmitter<void> = new EventEmitter();\n\n\t@Output()\n\tsearchPhraseChanged: EventEmitter<string> = new EventEmitter();\n\n\t@Output()\n\tthemeChanged: EventEmitter<GuiTheme> = new EventEmitter();\n\n\t@Output()\n\thorizontalGridChanged: EventEmitter<boolean> = new EventEmitter();\n\n\t@Output()\n\tverticalGridChanged: EventEmitter<boolean> = new EventEmitter();\n\n\t@Output()\n\trowColoringChanged: EventEmitter<GuiRowColoring> = new EventEmitter();\n\n\n\t/** @internal */\n\tcolumnsConfig: Array<ColumnConfig>;\n\n\tthemeConfig: any; // SchemaTheme;\n\n\trowColoringConfig: any; // RowColoring;\n\n\tcolumnMenuConfig: ColumnMenuConfig;\n\n\trowSelectionConfig: RowSelection;\n\n\tprivate readonly gridColumnConverter: GuiGridColumnConverter = new GuiGridColumnConverter();\n\n\tprivate readonly gridThemeConverter: GuiGridThemeConverter = new GuiGridThemeConverter();\n\n\tprivate readonly gridRowColoringConverter: GuiGridRowColoringConverter = new GuiGridRowColoringConverter();\n\n\tprivate readonly gridColumnMenuConverter: GuiGridColumnMenuConverter = new GuiGridColumnMenuConverter();\n\n\tprivate readonly gridPagingConverter: GuiGridPagingConverter = new GuiGridPagingConverter();\n\n\tprivate readonly gridRowSelectionConverter: GuiGridRowSelectionConverter = new GuiGridRowSelectionConverter();\n\n\tprotected constructor() {\n\t}\n\n\tngOnChanges(changes: SimpleChanges): void {\n\n\t\tif (changes.columns !== undefined && changes.columns.currentValue !== undefined) {\n\t\t\tthis.columnsConfig = this.gridColumnConverter.convert(this.columns);\n\t\t}\n\n\t\tif (changes.theme !== undefined && changes.theme.currentValue !== undefined) {\n\t\t\tthis.themeConfig = this.gridThemeConverter.convert(this.theme);\n\t\t}\n\n\t\tif (changes.rowColoring !== undefined && changes.rowColoring.currentValue !== undefined) {\n\t\t\tthis.rowColoringConfig = this.gridRowColoringConverter.convert(this.rowColoring);\n\t\t}\n\n\t\tif (changes.columnMenu !== undefined && changes.columnMenu.currentValue !== undefined) {\n\t\t\tthis.columnMenuConfig = this.gridColumnMenuConverter.convert(this.columnMenu);\n\t\t}\n\n\t\tif (changes.rowSelection !== undefined && changes.rowSelection.currentValue !== undefined) {\n\t\t\tthis.rowSelectionConfig = this.gridRowSelectionConverter.convert(this.rowSelection);\n\t\t}\n\n\t\t// TODO\n\t\tif (changes.paging !== undefined && changes.paging.currentValue !== undefined) {\n\n\t\t\tif (typeof this.paging !== 'boolean') {\n\t\t\t\tthis.paging = this.gridPagingConverter.convert(this.paging);\n\t\t\t}\n\t\t}\n\t}\n\n\tonPageChange(page: number): void {\n\t\tthis.pageChanged.emit(page);\n\t}\n\n\tonPageSizeChange(pageSize: number): void {\n\t\tthis.pageSizeChanged.emit(pageSize);\n\t}\n\n\tonItemSelect(item: any): void {\n\t\tthis.itemsSelected.emit(item);\n\t}\n\n\tonRowsSelect(rows: Array<SelectedRow>): void {\n\n\t\tconst guiRows: Array<GuiSelectedRow> = rows.map((row) => {\n\t\t\treturn {\n\t\t\t\tindex: row.getIndex(),\n\t\t\t\tdata: row.getData(),\n\t\t\t\titemId: row.getItemId()\n\t\t\t};\n\t\t});\n\n\t\tthis.selectedRows.emit(guiRows);\n\t}\n\n\tonColumnsChange(): void {\n\t\tthis.columnsChanged.emit();\n\t}\n\n\tonContainerWidthChange(containerWidth: number): void {\n\t\tthis.containerWidthChanged.emit(containerWidth);\n\t}\n\n\tonSourceEdit(value: any): void {\n\t\tthis.sourceEdited.emit(value);\n\t}\n\n\tonCellEditEnter(): void {\n\t\tthis.cellEditEntered.emit();\n\t}\n\n\tonCellEditSubmit(): void {\n\t\tthis.cellEditSubmitted.emit();\n\t}\n\n\tonCellEditCancel(): void {\n\t\tthis.cellEditCanceled.emit();\n\t}\n\n\tonSearchPhrase(value: string): void {\n\t\tthis.searchPhraseChanged.emit(value);\n\t}\n\n\tonTheme(value: SchemaTheme): void {\n\t\tthis.themeChanged.emit(this.gridThemeConverter.convertToGuiTheme(value));\n\t}\n\n\tonHorizontalGrid(value: boolean): void {\n\t\tthis.horizontalGridChanged.emit(value);\n\t}\n\n\tonVerticalGrid(value: boolean): void {\n\t\tthis.verticalGridChanged.emit(value);\n\t}\n\n\tonRowColoring(value: RowColoring): void {\n\t\tthis.rowColoringChanged.emit(this.gridRowColoringConverter.convertToGuiRowColoring(value));\n\t}\n\n\n}\n","import { GenericBuilder } from '../../../common/cdk/generic-builder';\n\nexport class StructurePagingDefinitionBuilder extends GenericBuilder<PagingDefinition> {\n\n\tprivate enabled: boolean;\n\n\tconstructor(enabled: boolean) {\n\t\tsuper();\n\t\tthis.enabled = enabled;\n\t}\n\n\tprotected buildObject(): PagingDefinition {\n\t\treturn new PagingDefinition(this.enabled);\n\t}\n\n\twithEnabled(enabled: boolean): StructurePagingDefinitionBuilder {\n\t\tthis.enabled = enabled;\n\t\treturn this;\n\t}\n}\n\nexport class StructurePagingDefinitionDefaultBuilder extends StructurePagingDefinitionBuilder {\n\n\tprivate static readonly defaultEnabled = true;\n\n\tconstructor() {\n\t\tsuper(StructurePagingDefinitionDefaultBuilder.defaultEnabled);\n\t}\n}\n\nexport class PagingDefinition {\n\n\tprivate readonly enabled: boolean;\n\n\tconstructor(enabled: boolean) {\n\t\tthis.enabled = enabled;\n\t}\n\n\tstatic Builder = StructurePagingDefinitionBuilder;\n\n\tstatic DefaultBuilder = StructurePagingDefinitionDefaultBuilder;\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n}\n","import { GenericBuilder } from '../../../common/cdk/generic-builder';\nimport { PagingDefinition } from '../../../structure/paging/feature/paging-definition';\n\nexport class StructureDefinitionBuilder extends GenericBuilder<StructureDefinition> {\n\n\tprivate border: boolean = true;\n\n\tconstructor(private headerEnabled: boolean,\n\t\t\t\tprivate bottomPaging: PagingDefinition,\n\t\t\t\tprivate topPaging: PagingDefinition) {\n\t\tsuper();\n\t}\n\n\tprotected buildObject(): StructureDefinition {\n\t\treturn new StructureDefinition(\n\t\t\tthis.headerEnabled,\n\t\t\tthis.bottomPaging,\n\t\t\tthis.topPaging,\n\t\t\tthis.border\n\t\t);\n\t}\n\n\twithHeader(enabled: boolean): StructureDefinitionBuilder {\n\t\tthis.headerEnabled = enabled;\n\t\treturn this;\n\t}\n\n\twithBottomPaging(paging: PagingDefinition): StructureDefinitionBuilder {\n\t\tthis.bottomPaging = paging;\n\t\treturn this;\n\t}\n\n\twithTopPaging(paging: PagingDefinition): StructureDefinitionBuilder {\n\t\tthis.topPaging = paging;\n\t\treturn this;\n\t}\n\n\twithBorder(enabled: boolean): StructureDefinitionBuilder {\n\t\tthis.border = enabled;\n\t\treturn this;\n\t}\n\n}\n\nexport class StructureDefinitionDefaultBuilder extends StructureDefinitionBuilder {\n\n\tprivate static readonly defaultHeaderEnabled: boolean = true;\n\tprivate static readonly defaultBottomPaging: PagingDefinition = new PagingDefinition.DefaultBuilder().build();\n\tprivate static readonly defaultTopPaging: PagingDefinition = new PagingDefinition.DefaultBuilder().build();\n\n\tconstructor() {\n\t\tsuper(\n\t\t\tStructureDefinitionDefaultBuilder.defaultHeaderEnabled,\n\t\t\tStructureDefinitionDefaultBuilder.defaultBottomPaging,\n\t\t\tStructureDefinitionDefaultBuilder.defaultTopPaging\n\t\t);\n\t}\n}\n\nexport class StructureDefinition {\n\n\tprivate readonly headerEnabled: boolean;\n\n\tprivate readonly bottomPaging: PagingDefinition;\n\n\tprivate readonly topPaging: PagingDefinition;\n\n\tprivate readonly border: boolean;\n\n\tconstructor(headerEnabled: boolean,\n\t\t\t\tbottomPaging: PagingDefinition,\n\t\t\t\ttopPaging: PagingDefinition,\n\t\t\t\tborder: boolean) {\n\t\tthis.headerEnabled = headerEnabled;\n\t\tthis.bottomPaging = bottomPaging;\n\t\tthis.topPaging = topPaging;\n\t\tthis.border = border;\n\t}\n\n\tstatic Builder = StructureDefinitionBuilder;\n\n\tstatic DefaultBuilder = StructureDefinitionDefaultBuilder;\n\n\tisHeaderEnabled(): boolean {\n\t\treturn this.headerEnabled;\n\t}\n\n\tisBorderEnabled(): boolean {\n\t\treturn this.border;\n\t}\n\n\tgetBottomPaging(): PagingDefinition {\n\t\treturn this.bottomPaging;\n\t}\n\n\tgetTopPaging(): PagingDefinition {\n\t\treturn this.topPaging;\n\t}\n\n}\n","import { StructureDefinition } from '../../../../lib/structure/feature/structure-definition';\n\n/** @internal */\nexport const guiGridStructureDefinition = new StructureDefinition.DefaultBuilder().build();\n","import { Provider } from '@angular/core';\n\nimport { StructureDefinition } from '../../../../lib/structure/feature/structure-definition';\n\nimport { guiGridStructureDefinition } from './gui.grid-structure-definition';\n\nexport const guiGridProviders = [{\n\tprovide: StructureDefinition,\n\tuseValue: guiGridStructureDefinition\n}] as Array<Provider>;\n","import { InjectionToken } from '@angular/core';\n\nexport const structureParentComponent = new InjectionToken('StructureParentComponent');\n","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class GuiGridIdGenerator {\n\n\tprivate static readonly PREFIX = 'gui-grid-';\n\n\tprivate static index = 0;\n\n\tgenerateId(): string {\n\t\tGuiGridIdGenerator.index++;\n\n\t\treturn GuiGridIdGenerator.PREFIX + GuiGridIdGenerator.index;\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { GuiGridComponent } from '../gui.grid.component';\n\n@Injectable()\nexport class GuiGridRegister {\n\n\tprivate readonly gridMap = new Map();\n\n\t// structureId: StructureId\n\tregister(gridId: string, component: GuiGridComponent, structureId: any): void {\n\t\tthis.gridMap.set(gridId, { component, structureId });\n\t}\n\n\tunregister(gridId: string): void {\n\t\tthis.gridMap.delete(gridId);\n\t}\n\n\tgetValues(gridId: string): any {\n\t\treturn this.gridMap.get(gridId);\n\t}\n\n}\n","import { GuiGridComponent } from '../gui.grid.component';\n\nexport interface GuiGridConsoleApi {\n\n\tchangeColumnHeaderTop(enabled: boolean): void;\n\n\n}\n\nexport class GridConsoleApiProvider {\n\n\tconstructor(private readonly gridComponent: GuiGridComponent,\n\t\t\t\tprivate readonly structureId: any) {\n\t} // StructureId\n\n\tprovide(): GuiGridConsoleApi {\n\n\t\tconst component = this.gridComponent;\n\n\t\treturn {\n\t\t\tchangeColumnHeaderTop(enabled: boolean): void {\n\t\t\t\tcomponent.columnHeaderTop = enabled;\n\t\t\t\tcomponent.detectChanges();\n\t\t\t}\n\t\t};\n\n\t}\n\n}\n","import { OriginId } from '../../domain/origin/origin-id';\n\nexport class SelectedRow {\n\n\tprivate readonly index: number;\n\n\tprivate readonly itemId: OriginId;\n\n\tprivate readonly data: any;\n\n\tconstructor(data: any,\n\t\t\t\tindex: number,\n\t\t\t\titemId: OriginId) {\n\t\tthis.data = data;\n\t\tthis.index = index;\n\t\tthis.itemId = itemId;\n\t}\n\n\tgetData(): any {\n\t\treturn this.data;\n\t}\n\n\tgetIndex(): number {\n\t\treturn this.index;\n\t}\n\n\tgetItemId(): OriginId {\n\t\treturn this.itemId;\n\t}\n\n}\n","import { GuiSelectedRow } from '../../../domain-api/gui.grid.public-api';\nimport { FormationCommandDispatcher } from '../../../../../structure/source/domain-api/formation/formation.command-dispatcher';\nimport { StructureId } from '../../../../../lib/structure/domain/structure.id';\nimport { SourceCommandDispatcher } from '../../../../../structure/source/domain-api/source.command-dispatcher';\nimport { SelectedRow } from '../../../../../structure/source/domain-api/formation/selected-row';\nimport { FormationWarehouse } from '../../../../../structure/source/domain-api/formation/formation.warehouse';\n\nexport interface GuiGridApi {\n\n\tgetSelectedRows(): Array<GuiSelectedRow>;\n\n\tselectAll(): void;\n\n\tunselectAll(): void;\n\n\tdeleteSelectedRows(): void;\n\n\tdeleteRow(row: GuiSelectedRow): void;\n\n\tdeleteRows(rows: Array<GuiSelectedRow>): void;\n\n}\n\nexport class GuiGridApiProvider {\n\n\tprivate readonly structureId: StructureId;\n\n\tprivate readonly formationCommandDispatcher: FormationCommandDispatcher;\n\n\tprivate readonly formationWarehouse: FormationWarehouse;\n\n\tprivate readonly sourceCommandDispatcher: SourceCommandDispatcher;\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tformationCommandDispatcher: FormationCommandDispatcher,\n\t\t\t\tformationWarehouse: FormationWarehouse,\n\t\t\t\tsourceCommandDispatcher: SourceCommandDispatcher) {\n\t\tthis.structureId = structureId;\n\t\tthis.formationCommandDispatcher = formationCommandDispatcher;\n\t\tthis.formationWarehouse = formationWarehouse;\n\t\tthis.sourceCommandDispatcher = sourceCommandDispatcher;\n\t}\n\n\tprovide(): GuiGridApi {\n\n\t\tconst structureId = this.structureId,\n\t\t\tfcd = this.formationCommandDispatcher,\n\t\t\tfw = this.formationWarehouse,\n\t\t\tscd = this.sourceCommandDispatcher;\n\n\t\treturn {\n\n\t\t\tdeleteRow(row: GuiSelectedRow): void {\n\t\t\t\tscd.deleteRow(new SelectedRow(row.data, row.index, row.itemId), structureId);\n\t\t\t},\n\n\t\t\tdeleteRows(rows: Array<GuiSelectedRow>): void {\n\t\t\t\tconst selectedRows = rows.map((row: GuiSelectedRow) => new SelectedRow(row.data, row.index, row.itemId));\n\n\t\t\t\tscd.deleteRows(selectedRows, structureId);\n\t\t\t},\n\n\t\t\tdeleteSelectedRows(): void {\n\t\t\t\t// this.sourceCommandDispatcher.\n\t\t\t},\n\n\t\t\tgetSelectedRows(): Array<GuiSelectedRow> {\n\n\t\t\t\tconst rows = fw.getSelectedRows(structureId);\n\n\t\t\t\treturn rows.map((r: SelectedRow) => {\n\t\t\t\t\treturn { data: r.getData(), index: r.getIndex(), itemId: r.getItemId() };\n\t\t\t\t});\n\t\t\t},\n\n\t\t\tselectAll(): void {\n\t\t\t\tfcd.selectAll(structureId);\n\t\t\t},\n\n\t\t\tunselectAll(): void {\n\t\t\t\tfcd.unselectAll(structureId);\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../lib/structure/domain/structure.id';\nimport { RowSelectToggleType } from '../core/row-select-toggle-type';\n\nexport class ToggleSelectedRowCommand extends Command {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly selectedRow: string,\n\t\t\t\tprivate readonly type: RowSelectToggleType) {\n\t\tsuper(structureId, 'ToggleSelectedRowCommand');\n\t}\n\n\tgetSelectedRow(): string {\n\t\treturn this.selectedRow;\n\t}\n\n\tgetType(): RowSelectToggleType {\n\t\treturn this.type;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\n\nimport { CommandDispatcher } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\nimport { ToggleSelectedRowCommand } from './toggle/toggle-selected-row.command';\nimport { RowSelectToggleType } from './core/row-select-toggle-type';\n\n@Injectable()\nexport class FormationDispatcher {\n\n\tconstructor(private commandDispatcher: CommandDispatcher) {\n\t}\n\n\ttoggleSelectedRow(structureId: StructureId, selectedRow: string, type: RowSelectToggleType): void {\n\t\tthis.commandDispatcher.dispatch(new ToggleSelectedRowCommand(structureId, selectedRow, type));\n\t}\n\n}\n","import { AggregateId, ReadModelRootId } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../domain/structure.id';\n\n\nexport class StructureReadModelRootId extends ReadModelRootId {\n\n\tconstructor(id: string) {\n\t\tsuper(id);\n\t}\n\n\ttoAggregateId(): AggregateId {\n\t\treturn new StructureId(this.toString());\n\t}\n}\n","import { AggregateId } from '@generic-ui/hermes';\n\nimport { StructureReadModelRootId } from '../domain-api/read/structure.read-model-root-id';\n\n\nexport class StructureId extends AggregateId {\n\n\tconstructor(id: string) {\n\t\tsuper(id);\n\t}\n\n\ttoReadModelRootId(): StructureReadModelRootId {\n\t\treturn new StructureReadModelRootId(this.getId());\n\t}\n\n}\n","import { StructureId } from '../domain/structure.id';\n\nexport const structureGlobalId = new StructureId('-1');\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../lib/structure/domain/structure.id';\n\nexport class SetEnabledSelectionCommand extends Command {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly enabled: boolean) {\n\t\tsuper(structureId, 'SetEnabledSelectionCommand');\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../lib/structure/domain/structure.id';\nimport { RowSelectionMode } from '../../../domain-api/row-selection';\n\nexport class SetSelectionModeCommand extends Command {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly mode: RowSelectionMode) {\n\t\tsuper(structureId, 'SetSelectionModeCommand');\n\t}\n\n\tgetMode(): RowSelectionMode {\n\t\treturn this.mode;\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../lib/structure/domain/structure.id';\n\nexport class SelectAllRowsCommand extends Command {\n\n\tconstructor(structureId: StructureId) {\n\t\tsuper(structureId, 'SelectAllRowsCommand');\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../lib/structure/domain/structure.id';\n\nexport class UnselectAllRowsCommand extends Command {\n\n\tconstructor(structureId: StructureId) {\n\t\tsuper(structureId, 'UnselectAllRowsCommand');\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { FormationDispatcher } from '../../domain/formation/formation.dispatcher';\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\nimport { structureGlobalId } from '../../../../lib/structure/domain-api/structure.global-id';\nimport { RowSelectionMode } from '../row-selection';\nimport { RowSelectToggleType } from '../../domain/formation/core/row-select-toggle-type';\nimport { CommandDispatcher } from '@generic-ui/hermes';\nimport { SetEnabledSelectionCommand } from '../../domain/formation/set-enabled/set-enabled-selection.command';\nimport { SetSelectionModeCommand } from '../../domain/formation/mode/set-selection-mode.command';\nimport { SelectAllRowsCommand } from '../../domain/formation/select-all/select-all-rows.command';\nimport { UnselectAllRowsCommand } from '../../domain/formation/unselect-all/unselect-all-rows.command';\n\n\n@Injectable()\nexport class FormationCommandDispatcher {\n\n\tconstructor(private readonly commandDispatcher: CommandDispatcher,\n\t\t\t\tprivate readonly formationDispatcher: FormationDispatcher) {\n\t}\n\n\tsetDefaultFormation(structureId: StructureId = structureGlobalId): void {\n\t\t// this.commandDispatcher.dispatch(new )\n\t}\n\n\ttoggleSelectedRow(selectedRow: string, type: RowSelectToggleType, structureId: StructureId = structureGlobalId): void {\n\t\tthis.formationDispatcher.toggleSelectedRow(structureId, selectedRow, type);\n\t}\n\n\tchangeMode(mode: RowSelectionMode, structureId: StructureId = structureGlobalId): void {\n\t\tthis.commandDispatcher.dispatch(new SetSelectionModeCommand(structureId, mode));\n\t}\n\n\tsetSelection(enabled: boolean, structureId: StructureId = structureGlobalId): void {\n\t\tthis.commandDispatcher.dispatch(new SetEnabledSelectionCommand(structureId, enabled));\n\t}\n\n\tselectAll(structureId: StructureId = structureGlobalId): void {\n\t\tthis.commandDispatcher.dispatch(new SelectAllRowsCommand(structureId));\n\t}\n\n\tunselectAll(structureId: StructureId = structureGlobalId): void {\n\t\tthis.commandDispatcher.dispatch(new UnselectAllRowsCommand(structureId));\n\t}\n\n}\n","import { OnDestroy } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\nexport abstract class Reactive implements OnDestroy {\n\n\tprivate readonly unsubscribe$ = new Subject<void>();\n\n\tprotected constructor() {\n\t}\n\n\tngOnDestroy() {\n\t\tthis.unsubscribe();\n\t}\n\n\tprotected unsubscribe(): void {\n\n\t\tif (this.unsubscribe$.isStopped) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.unsubscribe$.next();\n\t\tthis.unsubscribe$.complete();\n\t}\n\n\tprotected takeUntil() {\n\t\treturn takeUntil(this.unsubscribe$);\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\n\n\nexport class SourceSetLoadingCommand extends Command {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly enabled: boolean) {\n\t\tsuper(structureId, 'SourceSetLoadingCommand');\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../lib/structure/domain/structure.id';\n\nexport class SetOriginCommand extends Command {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly items: Array<any> = []) {\n\t\tsuper(structureId, 'SetOriginCommand');\n\t}\n\n\tgetItems(): Array<any> {\n\t\treturn this.items;\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureEditSourceItemParams } from './structure.edit-source-item.params';\nimport { StructureId } from '../../../../../lib/structure/domain/structure.id';\n\nexport class StructureEditSourceItemCommand extends Command {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly params: StructureEditSourceItemParams) {\n\t\tsuper(structureId, 'StructureEditSourceItemCommand');\n\t}\n\n\tgetParams(): StructureEditSourceItemParams {\n\t\treturn this.params;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandDispatcher } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../lib/structure/domain/structure.id';\nimport { SourceSetLoadingCommand } from './loading/source-set-loading.command';\nimport { SetOriginCommand } from './origin/set-origin/set-origin.command';\nimport { StructureEditSourceItemParams } from './origin/edit/structure.edit-source-item.params';\nimport { StructureEditSourceItemCommand } from './origin/edit/structure.edit-source-item.command';\n\n\n@Injectable()\nexport class SourceDispatcher {\n\n\tconstructor(private commandDispatcher: CommandDispatcher) {\n\t}\n\n\tsetLoading(structureId: StructureId, enabled: boolean): void {\n\t\tthis.commandDispatcher.dispatch(new SourceSetLoadingCommand(structureId, enabled));\n\t}\n\n\tsetOrigin(structureId: StructureId, items: Array<any>): void {\n\t\tthis.commandDispatcher.dispatch(new SetOriginCommand(structureId, items));\n\t}\n\n\teditItem(structureId: StructureId, params: StructureEditSourceItemParams): void {\n\t\tthis.commandDispatcher.dispatch(new StructureEditSourceItemCommand(structureId, params));\n\t}\n\n}\n","import { Observable } from 'rxjs';\n\nimport { AggregateId, DomainEvent, DomainEventBus } from '@generic-ui/hermes';\n\nimport { Reactive } from '../../../../common/cdk/reactive';\n\nimport { StructureReadModelRoot } from './structure.read-model-root';\nimport { StructureId } from '../../domain/structure.id';\n\n\nexport abstract class StructureReadModelRepository extends Reactive {\n\n\tprotected constructor(domainEventBus: DomainEventBus) {\n\t\tsuper();\n\t\tdomainEventBus\n\t\t\t.ofEvent(\n\t\t\t\t...this.forEvents()\n\t\t\t)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((event: DomainEvent<StructureId>) => {\n\n\t\t\t\ttry {\n\t\t\t\t\tthis.subs(event);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error(e);\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tabstract getStructure(aggregateId: AggregateId): StructureReadModelRoot;\n\n\tabstract onStructure(aggregateId: AggregateId): Observable<StructureReadModelRoot>;\n\n\tprotected abstract forEvents(): Array<typeof DomainEvent>;\n\n\tprotected abstract subs(event: DomainEvent<StructureId>): void;\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, ReplaySubject } from 'rxjs';\nimport { distinctUntilChanged, map } from 'rxjs/operators';\nimport { OriginItemEntity } from '../../domain/origin/origin-item-entity';\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\n\n\n@Injectable()\nexport class StructureSourceOriginRepository {\n\n\tprivate origin = new Map<string, Array<any>>();\n\n\tprivate origin$ = new ReplaySubject<Map<string, Array<any>>>();\n\n\tsetOrigin(origin: Array<OriginItemEntity>, structureId: StructureId): void {\n\t\tthis.origin.set(structureId.toString(), origin);\n\t\tthis.origin$.next(this.origin);\n\t}\n\n\tonOrigin(structureId: StructureId): Observable<Array<any>> {\n\n\t\treturn this.origin$\n\t\t\t\t   .asObservable()\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((map: Map<string, Array<any>>) => {\n\t\t\t\t\t\t   return map.get(structureId.toString());\n\t\t\t\t\t   }),\n\t\t\t\t\t   distinctUntilChanged()\n\t\t\t\t   );\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, ReplaySubject } from 'rxjs';\nimport { distinctUntilChanged, map } from 'rxjs/operators';\n\nimport { OriginItemEntity } from '../../domain/origin/origin-item-entity';\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\n\n\n@Injectable()\nexport class StructurePreparedItemsRepository {\n\n\tprivate origin = new Map<string, Array<any>>();\n\n\tprivate origin$ = new ReplaySubject<Map<string, Array<any>>>();\n\n\tsetItems(origin: Array<OriginItemEntity>, structureId: StructureId): void {\n\t\tthis.origin.set(structureId.toString(), origin);\n\t\tthis.origin$.next(this.origin);\n\t}\n\n\tgetPreparedItems(structureId: StructureId): Array<OriginItemEntity> {\n\t\treturn this.origin.get(structureId.getId());\n\t}\n\n\tonPreparedItems(structureId: StructureId): Observable<Array<OriginItemEntity>> {\n\n\t\treturn this.origin$\n\t\t\t\t   .asObservable()\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((map: Map<string, Array<any>>) => {\n\t\t\t\t\t\t   return map.get(structureId.toString());\n\t\t\t\t\t   }),\n\t\t\t\t\t   distinctUntilChanged()\n\t\t\t\t   );\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { distinctUntilChanged, map, take } from 'rxjs/operators';\n\nimport { StructureReadModelRepository } from '../../../lib/structure/domain-api/read/structure.read-model-repository';\nimport { StructureSourceOriginRepository } from './origin/structure.source-origin.repository';\nimport { StructureId } from '../../../lib/structure/domain/structure.id';\nimport { structureGlobalId } from '../../../lib/structure/domain-api/structure.global-id';\nimport { StructureReadModelRoot } from '../../../lib/structure/domain-api/read/structure.read-model-root';\nimport { ItemEntity } from '../domain/core/item/item.entity';\nimport { StructurePreparedItemsRepository } from './prepared/structure.prepared-items.repository';\nimport { SelectedRow } from './formation/selected-row';\nimport { OriginItemEntity } from '../domain/origin/origin-item-entity';\n\n\n@Injectable()\nexport class SourceWarehouse {\n\n\tconstructor(private structureRepository: StructureReadModelRepository,\n\t\t\t\tprivate structurePreparedItemsRepository: StructurePreparedItemsRepository,\n\t\t\t\tprivate structureSourceOriginRepository: StructureSourceOriginRepository) {\n\t}\n\n\tgetEntities(structureId: StructureId = structureGlobalId): Array<ItemEntity> {\n\t\treturn this.structureRepository.getStructure(structureId).getEntities();\n\t}\n\n\tonEntities(structureId: StructureId = structureGlobalId): Observable<Array<ItemEntity>> {\n\n\t\treturn this.structureRepository\n\t\t\t\t   .onStructure(structureId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((structure: StructureReadModelRoot) => structure.getEntities()),\n\t\t\t\t\t   distinctUntilChanged((ents1: Array<ItemEntity>, ents2: Array<ItemEntity>) => {\n\t\t\t\t\t\t   if (ents1.length !== ents2.length) {\n\t\t\t\t\t\t\t   return false;\n\t\t\t\t\t\t   }\n\n\t\t\t\t\t\t   let flag = true;\n\n\t\t\t\t\t\t   ents1.forEach((ent, index) => {\n\t\t\t\t\t\t\t   if (!ent.equals(ents2[index])) {\n\t\t\t\t\t\t\t\t   flag = false;\n\t\t\t\t\t\t\t\t   return;\n\t\t\t\t\t\t\t   }\n\t\t\t\t\t\t   });\n\n\t\t\t\t\t\t   return flag;\n\t\t\t\t\t   })\n\t\t\t\t   );\n\t}\n\n\tonEntitiesSize(structureId: StructureId = structureGlobalId): Observable<number> {\n\n\t\treturn this.onEntities(structureId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((entities: Array<ItemEntity>) => {\n\t\t\t\t\t\t   return entities.length;\n\t\t\t\t\t   })\n\t\t\t\t   );\n\t}\n\n\tonSingleEntities(structureId: StructureId = structureGlobalId): Observable<Array<ItemEntity>> {\n\n\t\treturn this.onEntities(structureId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   take(1)\n\t\t\t\t   );\n\t}\n\n\tonOriginSize(structureId: StructureId = structureGlobalId): Observable<number> {\n\t\treturn this.structureSourceOriginRepository\n\t\t\t\t   .onOrigin(structureId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map(origin => origin.length)\n\t\t\t\t   );\n\t}\n\n\tonLoading(structureId: StructureId = structureGlobalId): Observable<boolean> {\n\t\treturn this.structureRepository\n\t\t\t\t   .onStructure(structureId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((structure: StructureReadModelRoot) => structure.getSource().isLoading())\n\t\t\t\t   );\n\t}\n\n\tonPreparedEntities(structureId: StructureId = structureGlobalId): Observable<Array<OriginItemEntity>> {\n\t\treturn this.structurePreparedItemsRepository.onPreparedItems(structureId);\n\t}\n\n\tgetPreparedEntities(structureId: StructureId = structureGlobalId): Array<OriginItemEntity> {\n\t\treturn this.structurePreparedItemsRepository.getPreparedItems(structureId);\n\t}\n\n}\n","import { ColumnFieldId } from '../../../../../lib/composition/domain/column/field/column-field.id';\n\nexport class StructureEditSourceItemParams {\n\n\tconstructor(private readonly itemId: string,\n\t\t\t\tprivate readonly columnFieldId: ColumnFieldId, // TODO Rethink\n\t\t\t\tprivate readonly value: any) {\n\t}\n\n\tgetItemId(): string {\n\t\treturn this.itemId;\n\t}\n\n\tgetColumnFieldId(): ColumnFieldId {\n\t\treturn this.columnFieldId;\n\t}\n\n\tgetValue(): any {\n\t\treturn this.value;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateArchive } from '@generic-ui/hermes';\n\nimport { FieldReadModel } from './field.read-model';\n\n\n@Injectable()\nexport class FieldReadModelRepository extends AggregateArchive<Array<FieldReadModel>> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { FieldReadModelRepository } from './read/field.read-model-repository';\nimport { StructureId } from '../../../lib/structure/domain/structure.id';\nimport { FieldReadModel } from './read/field.read-model';\n\n\n@Injectable()\nexport class FieldWarehouse {\n\n\tconstructor(private fieldReadModelRepository: FieldReadModelRepository) {\n\t}\n\n\tonFields(structureId: StructureId): Observable<Array<FieldReadModel>> {\n\t\treturn this.fieldReadModelRepository.on(structureId);\n\t}\n\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../lib/structure/domain/structure.id';\nimport { OriginId } from '../origin-id';\n\nexport enum DeleteCommandPayloadType {\n\tINDEX,\n\tITEM_ID,\n\tMANY_INDEX,\n\tMANY_ITEM_ID\n}\n\nexport type DeleteOriginItemPayload = {\n\n\tindex?: number;\n\n\titemId?: OriginId;\n\n}\n\nexport class DeleteOriginItemCommand extends Command {\n\n\tstatic byIndex(structureId: StructureId, index: number): DeleteOriginItemCommand {\n\t\treturn new DeleteOriginItemCommand(structureId, index, DeleteCommandPayloadType.INDEX);\n\t}\n\n\tstatic byManyIndex(structureId: StructureId, indexes: Array<number>): DeleteOriginItemCommand {\n\t\treturn new DeleteOriginItemCommand(structureId, indexes, DeleteCommandPayloadType.MANY_INDEX);\n\t}\n\n\tstatic byItemId(structureId: StructureId, itemId: OriginId): DeleteOriginItemCommand {\n\t\treturn new DeleteOriginItemCommand(structureId, itemId, DeleteCommandPayloadType.ITEM_ID);\n\t}\n\n\tstatic byManyItemId(structureId: StructureId, itemIds: Array<OriginId>): DeleteOriginItemCommand {\n\t\treturn new DeleteOriginItemCommand(structureId, itemIds, DeleteCommandPayloadType.MANY_ITEM_ID);\n\t}\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly payload: number | OriginId | Array<number> | Array<OriginId>,\n\t\t\t\tprivate readonly type: DeleteCommandPayloadType) {\n\t\tsuper(structureId, 'DeleteOriginItemCommand');\n\t}\n\n\tgetType(): DeleteCommandPayloadType {\n\t\treturn this.type;\n\t}\n\n\tgetPayload(): number | OriginId | Array<number> | Array<OriginId> {\n\t\treturn this.payload;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { zip } from 'rxjs';\nimport { map, take } from 'rxjs/operators';\n\nimport { Reactive } from '../../../common/cdk/reactive';\n\nimport { SourceDispatcher } from '../domain/source.dispatcher';\nimport { SourceWarehouse } from './source.warehouse';\nimport { StructureId } from '../../../lib/structure/domain/structure.id';\nimport { structureGlobalId } from '../../../lib/structure/domain-api/structure.global-id';\nimport { StructureEditSourceItemParams } from '../domain/origin/edit/structure.edit-source-item.params';\nimport { ItemEntity } from '../domain/core/item/item.entity';\nimport { FieldWarehouse } from '../../field/domain-api/field.warehouse';\nimport { SelectedRow } from './formation/selected-row';\nimport { OriginId } from '../domain/origin/origin-id';\nimport { CommandDispatcher } from '@generic-ui/hermes';\nimport { DeleteOriginItemCommand } from '../domain/origin/delete/delete-origin-item.command';\n\n\n@Injectable()\nexport class SourceCommandDispatcher extends Reactive {\n\n\tconstructor(private readonly commandDispatcher: CommandDispatcher,\n\t\t\t\tprivate readonly sourceDispatcher: SourceDispatcher,\n\t\t\t\tprivate readonly fieldWarehouse: FieldWarehouse,\n\t\t\t\tprivate readonly sourceReadModelService: SourceWarehouse) {\n\t\tsuper();\n\t}\n\n\tsetOrigin(items: Array<any>, structureId: StructureId = structureGlobalId): void {\n\t\tthis.sourceDispatcher.setOrigin(structureId, items);\n\t}\n\n\tsetLoading(enabled: boolean, structureId: StructureId = structureGlobalId): void {\n\t\tthis.sourceDispatcher.setLoading(structureId, enabled);\n\t}\n\n\teditItem(params: StructureEditSourceItemParams, structureId: StructureId = structureGlobalId): void {\n\t\tthis.sourceDispatcher.editItem(structureId, params);\n\t}\n\n\teditItemByIndex(itemIndex: number, fieldIndex: number, value: any, structureId: StructureId = structureGlobalId): void {\n\n\t\tconst itemId$ = this.sourceReadModelService\n\t\t\t\t\t\t\t.onSingleEntities()\n\t\t\t\t\t\t\t.pipe(\n\t\t\t\t\t\t\t\tmap((entities: Array<ItemEntity>) => {\n\t\t\t\t\t\t\t\t\treturn entities[itemIndex].getId();\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t);\n\n\t\tconst fieldId$ = this.fieldWarehouse\n\t\t\t\t\t\t\t .onFields(structureId);\n\n\t\tzip(itemId$, fieldId$)\n\t\t\t.pipe(\n\t\t\t\ttake(1),\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((array: Array<any>) => {\n\n\t\t\t\tconst itemId = array[0],\n\t\t\t\t\tfields = array[1];\n\n\t\t\t\tthis.editItem(\n\t\t\t\t\tnew StructureEditSourceItemParams(itemId, fields[fieldIndex], value),\n\t\t\t\t\tstructureId\n\t\t\t\t);\n\t\t\t});\n\t}\n\n\tdeleteRow(row: SelectedRow, structureId: StructureId = structureGlobalId): void {\n\n\t\tif (row.getItemId() !== undefined) {\n\t\t\tthis.deleteItemById(row.getItemId(), structureId);\n\t\t} else if (row.getIndex() !== undefined) {\n\t\t\tthis.deleteItemByIndex(row.getIndex(), structureId);\n\t\t}\n\t}\n\n\tdeleteRows(rows: Array<SelectedRow>, structureId: StructureId = structureGlobalId): void {\n\n\t\tif (rows.length > 0) {\n\t\t\tif (rows[0].getItemId() !== undefined) {\n\t\t\t\tthis.deleteManyItemsByItemIds(rows.map(r => r.getItemId()), structureId);\n\t\t\t} else if (rows[0].getIndex() !== undefined) {\n\t\t\t\tthis.deleteManyItemsByIndex(rows.map(r => r.getIndex()), structureId);\n\t\t\t}\n\t\t}\n\t}\n\n\tdeleteItemByIndex(index: number, structureId: StructureId = structureGlobalId): void {\n\t\tthis.commandDispatcher.dispatch(DeleteOriginItemCommand.byIndex(structureId, index));\n\t}\n\n\tdeleteItemById(itemId: OriginId, structureId: StructureId = structureGlobalId): void {\n\t\tthis.commandDispatcher.dispatch(DeleteOriginItemCommand.byItemId(structureId, itemId));\n\t}\n\n\tdeleteManyItemsByIndex(indexes: Array<number>, structureId: StructureId = structureGlobalId): void {\n\t\tthis.commandDispatcher.dispatch(DeleteOriginItemCommand.byManyIndex(structureId, indexes));\n\t}\n\n\tdeleteManyItemsByItemIds(itemIds: Array<OriginId>, structureId: StructureId = structureGlobalId): void {\n\t\tthis.commandDispatcher.dispatch(DeleteOriginItemCommand.byManyItemId(structureId, itemIds));\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateArchive } from '@generic-ui/hermes';\n\nimport { RowSelectedReadModel } from '../row-selected.read-model';\n\n@Injectable()\nexport class RowSelectedRepository extends AggregateArchive<RowSelectedReadModel> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateArchive } from '@generic-ui/hermes';\n\nimport { RowSelectionMode } from '../../row-selection';\n\n@Injectable()\nexport class RowSelectionModeRepository extends AggregateArchive<RowSelectionMode> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\nimport { structureGlobalId } from '../../../../lib/structure/domain-api/structure.global-id';\nimport { RowSelectedRepository } from './row-selected/row-selected.repository';\nimport { RowSelectedReadModel } from './row-selected.read-model';\nimport { RowSelectionModeRepository } from './mode/row-selection-mode.repository';\nimport { RowSelectionMode } from '../row-selection';\nimport { SelectedRow } from './selected-row';\nimport { SourceWarehouse } from '../source.warehouse';\n\n\n@Injectable()\nexport class FormationWarehouse {\n\n\tconstructor(private readonly rowSelectedRepository: RowSelectedRepository,\n\t\t\t\tprivate readonly rowSelectionModeRepository: RowSelectionModeRepository,\n\t\t\t\tprivate readonly sourceWarehouse: SourceWarehouse) {\n\t}\n\n\tgetSelectedRows(structureId: StructureId = structureGlobalId): Array<SelectedRow> {\n\n\t\tconst items = this.sourceWarehouse.getPreparedEntities(structureId),\n\t\t\tselectedItemIds = this.getSelectedItemIds(structureId);\n\n\t\tlet selectedItems = [],\n\t\t\tlength = items.length;\n\n\t\tfor (let i = 0; i < length; i += 1) {\n\n\t\t\tlet item = items[i];\n\n\t\t\tif (selectedItemIds.some((itemId: string) => itemId === item.getId().toString())) {\n\t\t\t\tselectedItems.push(new SelectedRow(item.getData(), i, item.getId()));\n\t\t\t}\n\t\t}\n\t\treturn selectedItems;\n\t}\n\n\tonRowSelectedReadModel(structureId: StructureId = structureGlobalId): Observable<RowSelectedReadModel> {\n\t\treturn this.rowSelectedRepository\n\t\t\t\t   .on(structureId);\n\t}\n\n\tgetSelectedItemIds(structureId: StructureId = structureGlobalId): Array<string> {\n\t\treturn this.rowSelectedRepository.get(structureId).getAll();\n\t}\n\n\tonSelectedRows(structureId: StructureId = structureGlobalId): Observable<Array<string>> {\n\t\treturn this.rowSelectedRepository\n\t\t\t\t   .on(structureId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((rm: RowSelectedReadModel) => {\n\t\t\t\t\t\t   return rm.getAll();\n\t\t\t\t\t   })\n\t\t\t\t   );\n\t}\n\n\tonMode(structureId: StructureId = structureGlobalId): Observable<RowSelectionMode> {\n\t\treturn this.rowSelectionModeRepository.on(structureId);\n\t}\n\n}\n","import { ChangeDetectorRef, Component, ElementRef, Inject, Input, OnInit, PLATFORM_ID, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { isPlatformBrowser } from '@angular/common';\n\nimport { GuiGridGateway } from './gui.grid-gateway';\nimport { guiGridProviders } from './gui.grid.providers';\n\nimport { structureParentComponent } from '../../../../lib/structure/feature/structure-parent-component';\n\nimport { GuiGridIdGenerator } from './register/gui.grid-id.generator';\nimport { GuiGridRegister } from './register/gui.grid.register';\nimport { GridConsoleApiProvider } from './console/gui.grid.console.api';\nimport { GuiGridApi, GuiGridApiProvider } from './api/gui.grid.api-provider';\nimport { FormationCommandDispatcher } from '../../../../structure/source/domain-api/formation/formation.command-dispatcher';\nimport { SourceCommandDispatcher } from '../../../../structure/source/domain-api/source.command-dispatcher';\nimport { FormationWarehouse } from '../../../../structure/source/domain-api/formation/formation.warehouse';\n\n@Component({\n\tselector: 'gui-grid',\n\ttemplateUrl: './gui.grid.component.html',\n\tstyleUrls: [\n\t\t'../gui.grid.ngx.scss'\n\t],\n\tproviders: [\n\t\t...guiGridProviders,\n\t\t{\n\t\t\tprovide: structureParentComponent,\n\t\t\tuseExisting: GuiGridComponent\n\t\t}\n\t],\n\thost: {\n\t\t'[class.gui-grid]': `\"true\"`,\n\t\t'[style.height]': 'maxHeight'\n\t},\n\tencapsulation: ViewEncapsulation.None\n})\nexport class GuiGridComponent extends GuiGridGateway implements OnInit {\n\n\t@ViewChild('structure', { static: true })\n\tstructureRef: any;\n\n\t@Input()\n\tgridId: string; // can be set once\n\n\tprivate localGridId: string;\n\n\tpublic api: GuiGridApi;\n\n\tconstructor(@Inject(PLATFORM_ID) private readonly platformId: any,\n\t\t\t\tprivate readonly elementRef: ElementRef,\n\t\t\t\tprivate readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\tprivate readonly gridRegister: GuiGridRegister,\n\t\t\t\tprivate readonly gridIdGenerator: GuiGridIdGenerator,\n\t\t\t\t// delegate\n\t\t\t\tprivate readonly formationCommandDispatcher: FormationCommandDispatcher,\n\t\t\t\tprivate readonly formationWarehouse: FormationWarehouse,\n\t\t\t\tprivate readonly sourceCommandDispatcher: SourceCommandDispatcher,\n\t\t\t\t) {\n\t\tsuper();\n\t}\n\n\tngOnInit() {\n\t\tthis.initApi();\n\n\t\tlet gridId = this.gridId;\n\n\t\tif (gridId === undefined) {\n\t\t\tgridId = this.gridIdGenerator.generateId();\n\t\t}\n\n\t\tthis.localGridId = gridId;\n\n\t\tthis.exposeGridId();\n\n\t\t// register\n\t\tthis.gridRegister.register(gridId, this, this.structureRef.getStructureId());\n\n\t\tif (isPlatformBrowser(this.platformId)) {\n\t\t\twindow['getGuiGrid'] = (gridId: string) => {\n\n\t\t\t\tconst gridConsoleConfig = this.gridRegister.getValues(gridId);\n\n\t\t\t\tif (gridConsoleConfig) {\n\t\t\t\t\treturn new GridConsoleApiProvider(gridConsoleConfig.component, gridConsoleConfig.structureId).provide();\n\t\t\t\t} else {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n\n\tngOnDestroy() {\n\t\tthis.gridRegister.unregister(this.localGridId);\n\t}\n\n\tgetElementRef(): ElementRef {\n\t\treturn this.elementRef;\n\t}\n\n\tgetGridId(): string {\n\t\treturn '';\n\t}\n\n\tdetectChanges(): void {\n\t\tthis.changeDetectorRef.detectChanges();\n\t}\n\n\tprivate exposeGridId(): void {\n\t\tthis.elementRef.nativeElement.setAttribute('gui-grid-id', this.localGridId);\n\t}\n\n\tprivate initApi(): void {\n\t\tthis.api = new GuiGridApiProvider(\n\t\t\tthis.structureRef.structureId,\n\t\t\tthis.formationCommandDispatcher,\n\t\t\tthis.formationWarehouse,\n\t\t\tthis.sourceCommandDispatcher\n\t\t).provide();\n\t}\n\n}\n","import {\n\tFabricBadgeModule,\n\tFabricButtonGroupModule,\n\tFabricButtonModule,\n\tFabricCheckboxModule,\n\tFabricChipModule,\n\tFabricDialogModule,\n\tFabricDrawerModule,\n\tFabricDropdownModule,\n\tFabricInlineDialogModule,\n\tFabricInputModule,\n\tFabricProgressBarModule,\n\tFabricProgressSpinnerModule,\n\tFabricRadioButtonModule,\n\tFabricRadioGroupModule,\n\tFabricSelectModule,\n\tFabricSpinnerModule,\n\tFabricTooltipModule,\n\tFabricTabModule,\n\tFabricToggleButtonModule\n} from '@generic-ui/fabric';\n\n\nexport const fabricImports = [\n\tFabricBadgeModule,\n\tFabricButtonModule,\n\tFabricButtonGroupModule,\n\tFabricCheckboxModule,\n\tFabricChipModule,\n\tFabricDrawerModule,\n\tFabricDropdownModule,\n\tFabricRadioButtonModule,\n\tFabricRadioGroupModule,\n\tFabricProgressBarModule,\n\tFabricProgressSpinnerModule,\n\tFabricSelectModule,\n\tFabricSpinnerModule,\n\tFabricTabModule,\n\tFabricTooltipModule,\n\tFabricToggleButtonModule,\n\tFabricInputModule,\n\tFabricDialogModule,\n\tFabricInlineDialogModule,\n\tFabricTabModule\n];\n","import { Reactive } from './reactive';\n\nexport abstract class SmartComponent extends Reactive {\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { filter, map } from 'rxjs/operators';\nimport { StructureReadModelRepository } from '../../../../lib/structure/domain-api/read/structure.read-model-repository';\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\nimport { Paging } from './paging';\nimport { StructureReadModelRoot } from '../../../../lib/structure/domain-api/read/structure.read-model-root';\n\n\n@Injectable()\nexport class PagingRepository {\n\n\tconstructor(private readonly structureRepository: StructureReadModelRepository) {\n\t}\n\n\ton(structureId: StructureId): Observable<Paging> {\n\n\t\treturn this.structureRepository\n\t\t\t\t   .onStructure(structureId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   filter((structure: StructureReadModelRoot) => structure.getId().toString() === structureId.toString()),\n\t\t\t\t\t   map((structure: StructureReadModelRoot) => structure.getPaging())\n\t\t\t\t   );\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { take } from 'rxjs/operators';\n\nimport { PagingRepository } from './read/paging.repository';\nimport { StructureId } from '../../../lib/structure/domain/structure.id';\nimport { structureGlobalId } from '../../../lib/structure/domain-api/structure.global-id';\nimport { Paging } from './read/paging';\n\n\n@Injectable()\nexport class PagingWarehouse {\n\n\tconstructor(private pagingRepository: PagingRepository) {\n\t}\n\n\tonPaging(structureId: StructureId = structureGlobalId): Observable<Paging> {\n\t\treturn this.pagingRepository.on(structureId);\n\t}\n\n\tonSinglePaging(structureId: StructureId = structureGlobalId): Observable<Paging> {\n\t\treturn this.onPaging(structureId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   take(1)\n\t\t\t\t   );\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\nimport { PagingConfig } from '../../domain-api/paging-config';\n\nexport class SetPagingCommand extends Command {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly config: PagingConfig) {\n\t\tsuper(structureId, 'SetPagingCommand');\n\t}\n\n\tgetPagingConfig(): PagingConfig {\n\t\treturn this.config;\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\n\nexport class ChangePagesizeCommand extends Command {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly pageSize: number) {\n\t\tsuper(structureId, 'ChangePagesizeCommand');\n\t}\n\n\tgetPageSize(): number {\n\t\treturn this.pageSize;\n\t}\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\n\nexport class NextPageCommand extends Command {\n\n\tconstructor(structureId: StructureId) {\n\t\tsuper(structureId, 'NextPageCommand');\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\n\nexport class PrevPageCommand extends Command {\n\n\tconstructor(structureId: StructureId) {\n\t\tsuper(structureId, 'PrevPageCommand');\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandDispatcher } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../lib/structure/domain/structure.id';\nimport { PagingConfig } from '../domain-api/paging-config';\nimport { SetPagingCommand } from './set/set-paging.command';\nimport { ChangePagesizeCommand } from './change-pagesize/change-pagesize.command';\nimport { NextPageCommand } from './next-page/next-page.command';\nimport { PrevPageCommand } from './prev-page/prev-page.command';\n\n\n@Injectable()\nexport class PagingDispatcher {\n\n\tconstructor(private commandDispatcher: CommandDispatcher) {\n\t}\n\n\tsetPaging(structureId: StructureId, paging: PagingConfig): void {\n\t\tthis.commandDispatcher.dispatch(new SetPagingCommand(structureId, paging));\n\t}\n\n\tchangePageSize(structureId: StructureId, pageSize: number): void {\n\t\tthis.commandDispatcher.dispatch(new ChangePagesizeCommand(structureId, pageSize));\n\t}\n\n\tnextPage(structureId: StructureId): void {\n\t\tthis.commandDispatcher.dispatch(new NextPageCommand(structureId));\n\t}\n\n\tprevPage(structureId: StructureId): void {\n\t\tthis.commandDispatcher.dispatch(new PrevPageCommand(structureId));\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { PagingDispatcher } from '../domain/paging.dispatcher';\nimport { StructureId } from '../../../lib/structure/domain/structure.id';\nimport { structureGlobalId } from '../../../lib/structure/domain-api/structure.global-id';\nimport { PagingConfig } from './paging-config';\n\n\n@Injectable()\nexport class PagingCommandDispatcher {\n\n\tconstructor(private pagingDispatcher: PagingDispatcher) {\n\t}\n\n\tenable(structureId: StructureId = structureGlobalId): void {\n\t\tthis.pagingDispatcher.setPaging(structureId, { enabled: true });\n\t}\n\n\tdisable(structureId: StructureId = structureGlobalId): void {\n\t\tthis.pagingDispatcher.setPaging(structureId, { enabled: false });\n\t}\n\n\tsetPaging(paging: PagingConfig, structureId: StructureId = structureGlobalId): void {\n\t\tthis.pagingDispatcher.setPaging(structureId, paging);\n\t}\n\n\tchangePageSize(pageSize: number, structureId: StructureId = structureGlobalId): void {\n\t\tthis.pagingDispatcher.changePageSize(structureId, pageSize);\n\t}\n\n\tnextPage(structureId: StructureId = structureGlobalId): void {\n\t\tthis.pagingDispatcher.nextPage(structureId);\n\t}\n\n\tprevPage(structureId: StructureId = structureGlobalId): void {\n\t\tthis.pagingDispatcher.prevPage(structureId);\n\t}\n\n\tgoToPage(pageNumber: number, currentPage: number) {\n\n\t\tif (currentPage < pageNumber) {\n\t\t\twhile (currentPage !== pageNumber) {\n\t\t\t\tthis.nextPage();\n\t\t\t\tcurrentPage += 1;\n\t\t\t}\n\t\t} else {\n\t\t\twhile (currentPage !== pageNumber) {\n\t\t\t\tthis.prevPage();\n\t\t\t\tcurrentPage -= 1;\n\t\t\t}\n\t\t}\n\t}\n\n\tchangePagerTop(enabled: boolean, structureId: StructureId = structureGlobalId): void {\n\t\tthis.pagingDispatcher.setPaging(structureId, { pagerTop: enabled });\n\t}\n\n\tchangePagerBottom(enabled: boolean, structureId: StructureId = structureGlobalId): void {\n\t\tthis.pagingDispatcher.setPaging(structureId, { pagerBottom: enabled });\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { Archive } from '@generic-ui/hermes';\n\nimport { PagingDisplayMode } from './paging-display-mode';\n\n\n@Injectable()\nexport class PagingDisplayModeArchive extends Archive<PagingDisplayMode> {\n\n\tconstructor() {\n\t\tsuper(PagingDisplayMode.BASIC);\n\t}\n\n\tonValue(): Observable<PagingDisplayMode> {\n\t\treturn super.onValue();\n\t\t// .pipe(\n\t\t// \tdistinctUntilChanged()\n\t\t// );\n\t}\n\n}\n","export enum PagingPosition {\n\tTOP,\n\tBOTTOM\n}\n","import {\n\tChangeDetectionStrategy,\n\tChangeDetectorRef,\n\tComponent,\n\tElementRef,\n\tInput,\n\tOnInit,\n\tRenderer2,\n\tSimpleChanges,\n\tViewEncapsulation\n} from '@angular/core';\n\nimport { SmartComponent } from '../../../common/cdk/smart-component';\n\nimport { Paging } from '../domain-api/read/paging';\nimport { PagingWarehouse } from '../domain-api/paging.warehouse';\nimport { PagingCommandDispatcher } from '../domain-api/paging.command-dispatcher';\nimport { SourceWarehouse } from '../../source/domain-api/source.warehouse';\nimport { PagingDisplayModeArchive } from './mode/paging-display-mode.archive';\nimport { PagingDisplayMode } from './mode/paging-display-mode';\nimport { PagingPosition } from './paging-position';\n\n\n@Component({\n\tselector: 'gui-paging[position]',\n\ttemplateUrl: 'paging.component.html',\n\tstyleUrls: [\n\t\t'./style/paging.ngx.scss',\n\t\t'./style/theme/generic.paging.ngx.scss'\n\t],\n\thost: {\n\t\t'[class.gui-paging]': `\"true\"`\n\t},\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class PagingComponent extends SmartComponent implements OnInit {\n\n\t@Input()\n\tposition: PagingPosition;\n\n\t@Input()\n\tminimal: boolean;\n\n\tsourceSize: number;\n\n\tpaging: Paging;\n\n\talternativeDisplay: boolean = false;\n\n\tconstructor(private readonly renderer2: Renderer2,\n\t\t\t\tprivate readonly elementRef: ElementRef,\n\t\t\t\tprivate readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\tprivate readonly structurePagingWarehouse: PagingWarehouse,\n\t\t\t\tprivate readonly pagingCommandService: PagingCommandDispatcher,\n\t\t\t\tprivate readonly structureSourceWarehouse: SourceWarehouse,\n\t\t\t\tprivate readonly structurePagingDisplayModeArchive: PagingDisplayModeArchive) {\n\t\tsuper();\n\t}\n\n\tngOnChanges(changes: SimpleChanges) {\n\n\t\tif (changes.position) {\n\n\t\t\tif (this.position === PagingPosition.BOTTOM) {\n\t\t\t\tthis.renderer2.removeClass(this.elementRef.nativeElement, 'gui-paging-top');\n\t\t\t\tthis.renderer2.addClass(this.elementRef.nativeElement, 'gui-paging-bottom');\n\t\t\t} else {\n\t\t\t\tthis.renderer2.removeClass(this.elementRef.nativeElement, 'gui-paging-bottom');\n\t\t\t\tthis.renderer2.addClass(this.elementRef.nativeElement, 'gui-paging-top');\n\t\t\t}\n\n\t\t}\n\t}\n\n\tngOnInit() {\n\n\t\tthis.structurePagingDisplayModeArchive\n\t\t\t.onValue()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((mode: PagingDisplayMode) => {\n\t\t\t\tthis.alternativeDisplay = mode === PagingDisplayMode.ADVANCED;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.structurePagingWarehouse\n\t\t\t.onPaging()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((paging: Paging) => {\n\t\t\t\tthis.paging = paging;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.structureSourceWarehouse\n\t\t\t.onOriginSize()\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((size: number) => {\n\t\t\t\tthis.sourceSize = size;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\t}\n\n\tisPagingVisible(): boolean {\n\t\treturn this.paging && this.paging.isEnabled() &&\n\t\t\t(((this.position === PagingPosition.TOP) && this.paging.isPagerTop()) ||\n\t\t\t\t((this.position === PagingPosition.BOTTOM) && this.paging.isPagerBottom()));\n\t}\n\n\tchangePageSize(pageSize: number) {\n\t\tthis.pagingCommandService.changePageSize(pageSize);\n\t}\n\n\tnextPage(): void {\n\n\t\tif (!this.sourceSize) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.pagingCommandService.nextPage();\n\t}\n\n\tprevPage(): void {\n\t\tthis.pagingCommandService.prevPage();\n\t}\n\n}\n","import { ReadModelObject } from '@generic-ui/hermes';\n\n@ReadModelObject\nexport class Paging {\n\n\tconstructor(private readonly enabled: boolean,\n\t\t\t\tprivate readonly page: number,\n\t\t\t\tprivate readonly pageSize: number,\n\t\t\t\tprivate readonly pageSizes: Array<number>,\n\t\t\t\tprivate readonly pagerTop: boolean,\n\t\t\t\tprivate readonly pagerBottom: boolean,\n\t\t\t\tprivate readonly isNextDisabled: boolean,\n\t\t\t\tprivate readonly isPrevDisabled: boolean,\n\t\t\t\tprivate readonly start: number,\n\t\t\t\tprivate readonly end: number,\n\t\t\t\tprivate readonly sourceSize: number) {\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n\tgetPage(): number {\n\t\treturn this.page;\n\t}\n\n\tgetPageSize(): number {\n\t\treturn this.pageSize;\n\t}\n\n\tgetPageSizes(): Array<number> {\n\t\treturn this.pageSizes;\n\t}\n\n\tisPagerTop(): boolean {\n\t\treturn this.pagerTop;\n\t}\n\n\tisPagerBottom(): boolean {\n\t\treturn this.pagerBottom;\n\t}\n\n\tisNextPageDisabled(): boolean {\n\t\treturn this.isNextDisabled;\n\t}\n\n\tisPrevPageDisabled(): boolean {\n\t\treturn this.isPrevDisabled;\n\t}\n\n\tgetStart(): number {\n\t\treturn this.start;\n\t}\n\n\tgetEnd(): number {\n\t\treturn this.end;\n\t}\n\n\tgetSourceSize(): number {\n\t\treturn this.sourceSize;\n\t}\n\n\tcalculateVisiblePages(currentPage: number, numberOfVisiblePages: number, page: number): boolean {\n\t\treturn currentPage - numberOfVisiblePages < page && page < currentPage + numberOfVisiblePages;\n\t}\n\n\tsample(source: Array<any>): Array<any> {\n\n\t\tlet start = this.getStart();\n\n\t\tif (start !== 0) {\n\t\t\tstart -= 1;\n\t\t}\n\n\t\treturn source.slice(start, this.getEnd());\n\t}\n\n}\n","import { ChangeDetectionStrategy, Component, EventEmitter, Input, Output, ViewEncapsulation } from '@angular/core';\n\nimport { Paging } from '../../domain-api/read/paging';\n\n\n@Component({\n\tselector: 'gui-paging-select',\n\ttemplateUrl: `paging-select.component.html`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None,\n\thost: {\n\t\t'[class.gui-paging-select]': `\"true\"`\n\t}\n})\nexport class PagingSelectComponent {\n\n\t@Input()\n\tpaging: Paging;\n\n\t@Output()\n\tpageSizeChanged = new EventEmitter();\n\n\tchangePageSize(pageSize: number): void {\n\t\tthis.pageSizeChanged.emit(pageSize);\n\t}\n}\n","import { ChangeDetectionStrategy, Component, EventEmitter, Input, OnChanges, Output, ViewEncapsulation } from '@angular/core';\n\nimport { Paging } from '../../../domain-api/read/paging';\nimport { PagingCommandDispatcher } from '../../../domain-api/paging.command-dispatcher';\n\n\n@Component({\n\tselector: 'gui-alternative-paging-navigator',\n\ttemplateUrl: `alternative-paging-navigator.component.html`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None,\n\thost: {\n\t\t'[class.gui-alternative-paging-navigator]': `\"true\"`\n\t}\n})\nexport class AlternativePagingNavigatorComponent implements OnChanges {\n\n\t@Input()\n\tpaging: Paging;\n\n\t@Input()\n\tsourceSize: number;\n\n\t@Output()\n\tnextPageChanged = new EventEmitter();\n\n\t@Output()\n\tprevPageChanged = new EventEmitter();\n\n\tprevDisabled: boolean = false;\n\n\tnextDisabled: boolean = false;\n\n\tconstructor(private pagingCommandService: PagingCommandDispatcher) {\n\t}\n\n\tngOnChanges() {\n\t\tthis.calculatePrev();\n\t\tthis.calculateNext();\n\t}\n\n\tprevPage(): void {\n\t\tthis.prevPageChanged.emit();\n\t}\n\n\tnextPage(): void {\n\t\tthis.nextPageChanged.emit();\n\t}\n\n\tfirstPage(): void {\n\t\tthis.pagingCommandService.goToPage(1, this.paging.getPage());\n\t}\n\n\tlastPage(): void {\n\t\tlet numberOfPages = Math.ceil(this.sourceSize / this.paging.getPageSize());\n\t\tthis.pagingCommandService.goToPage(numberOfPages, this.paging.getPage());\n\t}\n\n\tprivate calculatePrev(): void {\n\n\t\tif (!this.paging) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.prevDisabled = this.paging.isPrevPageDisabled();\n\t}\n\n\tprivate calculateNext(): void {\n\n\t\tif (!this.paging && !this.sourceSize) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.nextDisabled = this.paging.isNextPageDisabled();\n\t}\n\n}\n","import { ChangeDetectionStrategy, Component, Input, OnChanges, SimpleChanges, ViewEncapsulation } from '@angular/core';\n\nimport { Paging } from '../../../domain-api/read/paging';\nimport { PagingCommandDispatcher } from '../../../domain-api/paging.command-dispatcher';\n\n\n@Component({\n\tselector: 'gui-alternative-paging-pages',\n\ttemplateUrl: `alternative-paging-pages.component.html`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None,\n\thost: {\n\t\t'[class.gui-alternative-paging-pages]': `\"true\"`\n\t}\n})\nexport class AlternativePagingPagesComponent implements OnChanges {\n\n\t@Input()\n\tpaging: Paging;\n\n\t@Input()\n\tsourceSize: number = 0;\n\n\tcurrentPage: number;\n\n\tpages: Array<number>;\n\n\tnumberOfVisiblePages: number = 3;\n\n\tconstructor(private pagingCommandService: PagingCommandDispatcher) {\n\t}\n\n\tngOnChanges(changes: SimpleChanges) {\n\t\tthis.calculate();\n\t}\n\n\tcalculate(): void {\n\t\tif (this.paging && this.sourceSize) {\n\t\t\tlet numberOfPages = Math.ceil(this.sourceSize / this.paging.getPageSize());\n\n\t\t\tthis.currentPage = this.paging.getPage();\n\n\t\t\tthis.pages = [];\n\t\t\tif (this.pages.length <= numberOfPages) {\n\t\t\t\tfor (let i = 1; i <= numberOfPages; i++) {\n\t\t\t\t\tthis.pages.push(i);\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t}\n\n\tisSourceNotEmpty(): boolean {\n\t\treturn this.sourceSize > 0;\n\t}\n\n\tgoToPage(pageNumber: number) {\n\t\tconst currentPage = this.paging.getPage();\n\t\tthis.pagingCommandService.goToPage(pageNumber, currentPage);\n\t}\n\n\tcalculateVisiblePages(page: number): boolean {\n\t\treturn this.paging.calculateVisiblePages(this.currentPage, this.numberOfVisiblePages, page);\n\t}\n\n\tactivePage(page: number): boolean {\n\t\treturn this.currentPage === page;\n\t}\n\n}\n","import { DomainEvent } from '@generic-ui/hermes';\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\n\nexport class NextPageEvent extends DomainEvent<StructureId> {\n\n\tconstructor(aggregateId: StructureId) {\n\t\tsuper(aggregateId, 'NextPageEvent');\n\t}\n}\n","import { DomainEvent } from '@generic-ui/hermes';\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\n\nexport class PrevPageEvent extends DomainEvent<StructureId> {\n\n\tconstructor(aggregateId: StructureId) {\n\t\tsuper(aggregateId, 'PrevPageEvent');\n\t}\n}\n","import { DomainEvent } from '@generic-ui/hermes';\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\n\nexport class PageChangedEvent extends DomainEvent<StructureId> {\n\n\tconstructor(aggregateId: StructureId) {\n\t\tsuper(aggregateId, 'PageChangedEvent');\n\t}\n}\n","import { DomainEvent } from '@generic-ui/hermes';\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\n\nexport class PagesizeChangedEvent extends DomainEvent<StructureId> {\n\n\tconstructor(aggregateId: StructureId) {\n\t\tsuper(aggregateId, 'PagesizeChangedEvent');\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { filter, map, switchMap, take } from 'rxjs/operators';\n\nimport { DomainEvent, DomainEventBus } from '@generic-ui/hermes';\n\nimport { PagingWarehouse } from './paging.warehouse';\nimport { StructureId } from '../../../lib/structure/domain/structure.id';\nimport { NextPageEvent } from '../domain/next-page/next-page.event';\nimport { PrevPageEvent } from '../domain/prev-page/prev-page.event';\nimport { PageChangedEvent } from '../domain/page/page-changed.event';\nimport { Paging } from './read/paging';\nimport { PagesizeChangedEvent } from '../domain/change-pagesize/pagesize-changed.event';\n\n\n@Injectable()\nexport class PagingEventRepository {\n\n\tconstructor(private readonly domainEventBus: DomainEventBus,\n\t\t\t\tprivate readonly pagingReadModelService: PagingWarehouse) {\n\t}\n\n\tonPageChange(structureId: StructureId): Observable<number> {\n\n\t\treturn this.domainEventBus\n\t\t\t\t   .ofEvent(\n\t\t\t\t\t   PrevPageEvent as any,\n\t\t\t\t\t   NextPageEvent as any,\n\t\t\t\t\t   PageChangedEvent as any\n\t\t\t\t   )\n\t\t\t\t   .pipe(\n\t\t\t\t\t   filter((event: DomainEvent<StructureId>) => event.getAggregateId().toString() === structureId.toString()),\n\t\t\t\t\t   switchMap((event: DomainEvent<StructureId>) => {\n\n\t\t\t\t\t\t   return this.pagingReadModelService\n\t\t\t\t\t\t\t\t\t  .onPaging(structureId)\n\t\t\t\t\t\t\t\t\t  .pipe(\n\t\t\t\t\t\t\t\t\t\t  map((paging: Paging) => paging.getPage()),\n\t\t\t\t\t\t\t\t\t\t  take(1)\n\t\t\t\t\t\t\t\t\t  );\n\t\t\t\t\t   })\n\t\t\t\t   );\n\t}\n\n\tonPageSizeChange(structureId: StructureId): Observable<number> {\n\n\t\treturn this.domainEventBus\n\t\t\t\t   .ofEvent(\n\t\t\t\t\t   PagesizeChangedEvent as any\n\t\t\t\t   )\n\t\t\t\t   .pipe(\n\t\t\t\t\t   filter((event: DomainEvent<StructureId>) => event.getAggregateId().toString() === structureId.toString()),\n\t\t\t\t\t   switchMap((event: DomainEvent<StructureId>) => {\n\n\t\t\t\t\t\t   return this.pagingReadModelService\n\t\t\t\t\t\t\t\t\t  .onPaging(structureId)\n\t\t\t\t\t\t\t\t\t  .pipe(\n\t\t\t\t\t\t\t\t\t\t  map((paging: Paging) => paging.getPageSize()),\n\t\t\t\t\t\t\t\t\t\t  take(1)\n\t\t\t\t\t\t\t\t\t  );\n\t\t\t\t\t   })\n\t\t\t\t   );\n\t}\n\n}\n","export abstract class Logger {\n\n\tabstract warn(text: string): void;\n\n\tabstract error(text: string): void;\n\n}\n","import { AggregateEvent, DomainEvent } from '@generic-ui/hermes';\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\nimport { PageChangedEvent } from './page-changed.event';\n\n\nexport class PageChangedAggregateEvent extends AggregateEvent<StructureId> {\n\n\tconstructor(structureId: StructureId) {\n\t\tsuper(structureId, 'PageChangedAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<StructureId> {\n\t\treturn new PageChangedEvent(this.getAggregateId());\n\t}\n\n}\n","import { AggregateEvent, DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\nimport { PagesizeChangedEvent } from '../change-pagesize/pagesize-changed.event';\n\n\nexport class PagesizeChangedAggregateEvent extends AggregateEvent<StructureId> {\n\n\tconstructor(structureId: StructureId) {\n\t\tsuper(structureId, 'PagesizeChangedAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<StructureId> {\n\t\treturn new PagesizeChangedEvent(this.getAggregateId());\n\t}\n\n}\n","import { AggregateEvent } from '@generic-ui/hermes';\n\nimport { Logger } from '../../../common/cdk/logger/logger';\n\nimport { PagingConfigWithId } from './paging-config-with-id';\nimport { PagingConfig } from '../domain-api/paging-config';\nimport { PageChangedAggregateEvent } from './page/page-changed.aggregate-event';\nimport { StructureId } from '../../../lib/structure/domain/structure.id';\nimport { PagesizeChangedAggregateEvent } from './pagesize/pagesize-changed.aggregate-event';\n\n\nexport class PagingManager {\n\n\t// TODO\n\tprivate readonly events: Array<AggregateEvent<StructureId>> = [];\n\n\t// TODO Remove\n\tstatic default(logger: Logger) {\n\t\treturn new PagingManager(\n\t\t\tfalse,\n\t\t\t1,\n\t\t\t25,\n\t\t\t[10, 25, 50, 100],\n\t\t\tfalse,\n\t\t\ttrue,\n\t\t\t0,\n\t\t\tlogger\n\t\t);\n\t}\n\n\tprivate readonly logger: Logger;\n\n\tprivate constructor(private enabled: boolean,\n\t\t\t\t\t\tprivate page: number,\n\t\t\t\t\t\tprivate pageSize: number,\n\t\t\t\t\t\tprivate pageSizes: Array<number>,\n\t\t\t\t\t\tprivate pagerTop: boolean,\n\t\t\t\t\t\tprivate pagerBottom: boolean,\n\t\t\t\t\t\tprivate sourceSize: number,\n\t\t\t\t\t\tlogger: Logger) {\n\t\tthis.logger = logger;\n\t}\n\n\t// TODO Remove\n\tstatic fromConfig(paging: PagingConfigWithId, logger: Logger): PagingManager {\n\n\t\tconst defaultPagingDefinition = PagingManager.default(logger),\n\t\t\tenabled = paging.enabled || defaultPagingDefinition.isEnabled(),\n\t\t\tpage = paging.page || defaultPagingDefinition.getPage(),\n\t\t\tpageSize = paging.pageSize || defaultPagingDefinition.getPageSize(),\n\t\t\tpageSizes = paging.pageSizes || defaultPagingDefinition.getPageSizes(),\n\t\t\tpagerTop = paging.pagerTop || defaultPagingDefinition.isPagerTop(),\n\t\t\tpagerBottom = paging.pagerBottom || defaultPagingDefinition.isPagerBottom();\n\n\t\treturn new PagingManager(\n\t\t\tenabled,\n\t\t\tpage,\n\t\t\tpageSize,\n\t\t\tpageSizes,\n\t\t\tpagerTop,\n\t\t\tpagerBottom,\n\t\t\t0,\n\t\t\tlogger\n\t\t);\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n\tisDisabled(): boolean {\n\t\treturn !this.enabled;\n\t}\n\n\tgetPage(): number {\n\t\treturn this.page;\n\t}\n\n\tgetPageSize(): number {\n\t\treturn this.pageSize;\n\t}\n\n\tgetPageSizes(): Array<number> {\n\t\treturn this.pageSizes;\n\t}\n\n\tisPagerTop(): boolean {\n\t\tif (this.isDisabled()) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn this.pagerTop;\n\t}\n\n\tisPagerBottom(): boolean {\n\t\tif (this.isDisabled()) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn this.pagerBottom;\n\t}\n\n\tgetSourceSize(): number {\n\t\treturn this.sourceSize;\n\t}\n\n\tchange(pagingConfig: PagingConfig): void {\n\n\t\tif (pagingConfig.enabled !== undefined) {\n\t\t\tthis.enabled = pagingConfig.enabled;\n\t\t}\n\n\t\tif (pagingConfig.page !== undefined) {\n\t\t\tthis.page = pagingConfig.page;\n\n\t\t\tif (pagingConfig.enabled === undefined) {\n\t\t\t\tthis.enabled = true;\n\t\t\t}\n\t\t}\n\n\t\tif (pagingConfig.pageSize !== undefined) {\n\t\t\tthis.pageSize = pagingConfig.pageSize;\n\n\t\t\tif (pagingConfig.enabled === undefined) {\n\t\t\t\tthis.enabled = true;\n\t\t\t}\n\t\t}\n\n\t\tif (pagingConfig.pageSizes !== undefined) {\n\t\t\tthis.pageSizes = pagingConfig.pageSizes;\n\n\t\t\tif (pagingConfig.enabled === undefined) {\n\t\t\t\tthis.enabled = true;\n\t\t\t}\n\t\t}\n\n\t\tif (pagingConfig.pagerTop !== undefined) {\n\t\t\tthis.pagerTop = pagingConfig.pagerTop;\n\n\t\t\tif (pagingConfig.enabled === undefined) {\n\t\t\t\tthis.enabled = true;\n\t\t\t}\n\t\t}\n\n\t\tif (pagingConfig.pagerBottom !== undefined) {\n\t\t\tthis.pagerBottom = pagingConfig.pagerBottom;\n\n\t\t\tif (pagingConfig.enabled === undefined) {\n\t\t\t\tthis.enabled = true;\n\t\t\t}\n\t\t}\n\n\t\tif (this.enabled === true &&\n\t\t\tpagingConfig.pagerTop === false &&\n\t\t\tpagingConfig.pagerBottom === false) {\n\t\t\tthis.pagerBottom = true;\n\n\t\t\tthis.logger.warn('Pagers cannot be turn off when paging is enabled.');\n\t\t}\n\n\t}\n\n\tsetSourceSize(size: number): void {\n\t\tthis.sourceSize = size;\n\t}\n\n\tnextPage(): void {\n\t\tlet nextPage = this.page;\n\n\t\tif (!this.isNextPageDisabled()) {\n\t\t\tnextPage += 1;\n\t\t}\n\n\t\tthis.page = nextPage;\n\t}\n\n\tprevPage(): void {\n\t\tlet prevPage = this.page;\n\n\t\tif (!this.isPrevPageDisabled()) {\n\t\t\tprevPage -= 1;\n\t\t}\n\n\t\tthis.page = prevPage;\n\t}\n\n\tchangePageSize(pageSize: number): ReadonlyArray<AggregateEvent<StructureId>> {\n\n\t\tif (this.pageSizes.find((ps: number) => ps === pageSize)) {\n\n\t\t\tthis.setPage(1);\n\t\t\tthis.setPageSize(pageSize);\n\t\t}\n\n\t\treturn this.events;\n\t}\n\n\tisNextPageDisabled(): boolean {\n\n\t\tif (this.sourceSize === 0) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn this.page === Math.ceil(this.sourceSize / this.pageSize);\n\t}\n\n\tisPrevPageDisabled(): boolean {\n\t\treturn this.page === 1;\n\t}\n\n\tcalculateStart(): number {\n\n\t\tconst firstItem = 1 + ((this.page - 1) * this.pageSize);\n\n\t\tif (this.sourceSize < firstItem) {\n\t\t\treturn 0;\n\t\t}\n\n\t\treturn firstItem;\n\t}\n\n\tcalculateEnd(): number {\n\n\t\tconst lastItem = this.page * this.pageSize;\n\n\t\tif (this.sourceSize < lastItem) {\n\t\t\treturn this.sourceSize;\n\t\t}\n\n\t\treturn lastItem;\n\t}\n\n\tsample(source: Array<any>): Array<any> {\n\n\t\tif (this.isDisabled()) {\n\t\t\treturn source;\n\t\t}\n\n\t\tlet start = this.calculateStart();\n\n\t\tif (start !== 0) {\n\t\t\tstart -= 1;\n\t\t}\n\n\t\treturn source.slice(start, this.calculateEnd());\n\t}\n\n\tclearEvents(): void {\n\t\tthis.events.length = 0;\n\t}\n\n\tprivate setPage(page: number): void {\n\t\tthis.page = page;\n\t\tthis.events.push(new PageChangedAggregateEvent(new StructureId('TODO need to be changed')));\n\t}\n\n\tprivate setPageSize(pageSize: number): void {\n\t\tthis.pageSize = pageSize;\n\t\tthis.events.push(new PagesizeChangedAggregateEvent(new StructureId('TODO need to be changed')));\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { Logger } from '../../../common/cdk/logger/logger';\n\nimport { PagingManager } from './paging.manager';\nimport { PagingConfigWithId } from './paging-config-with-id';\n\n\n@Injectable()\nexport class PagingManagerFactory {\n\n\tconstructor(private logger: Logger) {\n\t}\n\n\tcreateDefault(): PagingManager {\n\t\treturn PagingManager.default(this.logger);\n\t}\n\n\tcreateFromConfig(config: PagingConfigWithId): PagingManager {\n\t\treturn PagingManager.fromConfig(config, this.logger);\n\t}\n\n}\n","import { AggregateRepository, Optional } from '@generic-ui/hermes';\n\nimport { StructureAggregate } from './structure.aggregate';\nimport { StructureId } from '../structure.id';\n\nexport abstract class StructureAggregateRepository extends AggregateRepository<StructureId, StructureAggregate> {\n\n\tabstract getById(aggregateId: StructureId): Optional<StructureAggregate>;\n\n\tabstract save(aggregate: StructureAggregate): void;\n\n}\n","import { DomainEvent } from '@generic-ui/hermes';\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\n\nexport class PagingSetEvent extends DomainEvent<StructureId> {\n\n\tconstructor(aggregateId: StructureId) {\n\t\tsuper(aggregateId, 'PagingSetEvent');\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { StructureAggregateRepository } from '../../../../lib/structure/domain/structure/structure-aggregate.repository';\n\nimport { SetPagingCommand } from './set-paging.command';\nimport { PagingSetEvent } from './paging-set.event';\nimport { StructureAggregate } from '../../../../lib/structure/domain/structure/structure.aggregate';\n\n\n@Injectable()\nexport class SetPagingCommandHandler implements CommandHandler<StructureAggregate, SetPagingCommand> {\n\n\tconstructor(private structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tprivate domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SetPagingCommand> {\n\t\treturn SetPagingCommand;\n\t}\n\n\tpublishDomainEvents(aggregate: StructureAggregate, command: SetPagingCommand): void {\n\t\tthis.domainEventPublisher.publish(new PagingSetEvent(command.getAggregateId()));\n\t}\n\n\thandleAggregate(structureAggregate: StructureAggregate, command: SetPagingCommand): void {\n\n\t\tconst pagingConfig = command.getPagingConfig();\n\n\t\tstructureAggregate.changePaging(pagingConfig);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\nimport { NextPageCommand } from './next-page.command';\nimport { NextPageEvent } from './next-page.event';\nimport { StructureAggregate } from '../../../../lib/structure/domain/structure/structure.aggregate';\n\n\n@Injectable()\nexport class NextPageCommandHandler implements CommandHandler<StructureAggregate, NextPageCommand> {\n\n\tconstructor(private readonly domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<NextPageCommand> {\n\t\treturn NextPageCommand;\n\t}\n\n\tpublishDomainEvents(aggregate: StructureAggregate, command: NextPageCommand): void {\n\t\tthis.domainEventPublisher.publish(new NextPageEvent(command.getAggregateId()));\n\t}\n\n\thandleAggregate(aggregate: StructureAggregate, command: NextPageCommand): void {\n\n\t\t// missing implementation\n\t\taggregate.nextPage();\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { PrevPageCommand } from './prev-page.command';\nimport { PrevPageEvent } from './prev-page.event';\nimport { StructureAggregate } from '../../../../lib/structure/domain/structure/structure.aggregate';\n\n\n@Injectable()\nexport class PrevPageCommandHandler implements CommandHandler<StructureAggregate, PrevPageCommand> {\n\n\tconstructor(private domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<PrevPageCommand> {\n\t\treturn PrevPageCommand;\n\t}\n\n\tpublishDomainEvents(aggregate: StructureAggregate, command: PrevPageCommand): void {\n\t\tthis.domainEventPublisher.publish(new PrevPageEvent(command.getAggregateId()));\n\t}\n\n\thandleAggregate(structure: StructureAggregate, command: PrevPageCommand): void {\n\n\t\tstructure.prevPage();\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateEvent, CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { ChangePagesizeCommand } from './change-pagesize.command';\nimport { PageChangedEvent } from '../page/page-changed.event';\nimport { PagesizeChangedEvent } from './pagesize-changed.event';\nimport { StructureAggregate } from '../../../../lib/structure/domain/structure/structure.aggregate';\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\n\n\n@Injectable()\nexport class ChangePagesizeCommandHandler implements CommandHandler<StructureAggregate, ChangePagesizeCommand> {\n\n\tconstructor(protected domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<ChangePagesizeCommand> {\n\t\treturn ChangePagesizeCommand;\n\t}\n\n\tpublishDomainEvents(aggregate: StructureAggregate, command: ChangePagesizeCommand): void {\n\n\t\tconst aggregateEvents = aggregate.getEvents();\n\n\t\t(aggregateEvents as any).forEach((event: AggregateEvent<StructureId>) => {\n\t\t\t(event as any).aggregateId = aggregate.getId();\n\t\t});\n\n\t\tthis.publishAggregateEvents(aggregateEvents, command);\n\n\t\taggregate.clearEvents();\n\t}\n\n\thandleAggregate(structureAggregate: StructureAggregate, command: ChangePagesizeCommand): void {\n\n\t\tconst pageSize = command.getPageSize();\n\n\t\tstructureAggregate.changePageSize(pageSize);\n\t}\n\n\tprivate publishAggregateEvents(events: ReadonlyArray<AggregateEvent<StructureId>>, command: ChangePagesizeCommand): void {\n\n\t\tfor (let event of events) {\n\t\t\tthis.publishAggregateEvent(event, command);\n\t\t}\n\t}\n\n\tprivate publishAggregateEvent(event: AggregateEvent<StructureId>, command: ChangePagesizeCommand): void {\n\n\t\tswitch (event.getType()) {\n\t\t\tcase 'PageChangedAggregateEvent':\n\n\t\t\t\tconst pageChangedEvent = new PageChangedEvent(command.getAggregateId());\n\n\t\t\t\tthis.domainEventPublisher.publish(pageChangedEvent);\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PagesizeChangedAggregateEvent':\n\n\t\t\t\tconst pagesizeChangedEvent = new PagesizeChangedEvent(command.getAggregateId());\n\n\t\t\t\tthis.domainEventPublisher.publish(pagesizeChangedEvent);\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { DomainModule, HermesModule } from '@generic-ui/hermes';\n\nimport { PagingManagerFactory } from './paging.manager-factory';\nimport { PagingDispatcher } from './paging.dispatcher';\nimport { SetPagingCommandHandler } from './set/set-paging.command-handler';\nimport { NextPageCommandHandler } from './next-page/next-page.command-handler';\nimport { PrevPageCommandHandler } from './prev-page/prev-page.command-handler';\nimport { ChangePagesizeCommandHandler } from './change-pagesize/change-pagesize.command-handler';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule\n\t],\n\tproviders: [\n\t\tPagingDispatcher,\n\t\tPagingManagerFactory\n\t],\n\tdeclarations: [],\n\texports: []\n})\nexport class PagingDomainModule extends DomainModule {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tstatic commandHandlers() {\n\t\treturn [\n\t\t\t...HermesModule.registerCommandHandler(SetPagingCommandHandler, 'StructureAggregate'),\n\t\t\t...HermesModule.registerCommandHandler(NextPageCommandHandler, 'StructureAggregate'),\n\t\t\t...HermesModule.registerCommandHandler(PrevPageCommandHandler, 'StructureAggregate'),\n\t\t\t...HermesModule.registerCommandHandler(ChangePagesizeCommandHandler, 'StructureAggregate')\n\t\t];\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { PagingManager } from '../../domain/paging.manager';\nimport { Paging } from './paging';\n\n\n@Injectable()\nexport class PagingConverter {\n\n\tconvert(aggregate: PagingManager): Paging {\n\t\treturn new Paging(\n\t\t\taggregate.isEnabled(),\n\t\t\taggregate.getPage(),\n\t\t\taggregate.getPageSize(),\n\t\t\taggregate.getPageSizes(),\n\t\t\taggregate.isPagerTop(),\n\t\t\taggregate.isPagerBottom(),\n\t\t\taggregate.isNextPageDisabled(),\n\t\t\taggregate.isPrevPageDisabled(),\n\t\t\taggregate.calculateStart(),\n\t\t\taggregate.calculateEnd(),\n\t\t\taggregate.getSourceSize()\n\t\t);\n\t}\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { ApiModule } from '@generic-ui/hermes';\n\nimport { PagingCommandDispatcher } from './paging.command-dispatcher';\nimport { PagingWarehouse } from './paging.warehouse';\nimport { PagingEventRepository } from './paging.event-repository';\nimport { PagingDomainModule } from '../domain/paging.domain-module';\nimport { PagingConverter } from './read/paging.converter';\nimport { PagingRepository } from './read/paging.repository';\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tPagingDomainModule\n\t],\n\tproviders: [\n\t\tPagingCommandDispatcher,\n\t\tPagingWarehouse,\n\t\tPagingEventRepository,\n\n\t\tPagingRepository,\n\t\tPagingConverter\n\t],\n\tdeclarations: [],\n\texports: []\n})\nexport class PagingApiModule extends ApiModule {\n\n\n}\n","import { ChangeDetectionStrategy, Component, EventEmitter, Input, OnChanges, Output, ViewEncapsulation } from '@angular/core';\n\nimport { Paging } from '../../../domain-api/read/paging';\n\n\n@Component({\n\tselector: 'gui-paging-navigator',\n\ttemplateUrl: `paging-navigator.component.html`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None,\n\thost: {\n\t\t'[class.gui-paging-navigator]': `\"true\"`\n\t}\n})\nexport class PagingNavigatorComponent implements OnChanges {\n\n\t@Input()\n\tpaging: Paging;\n\n\t@Input()\n\tsourceSize: number;\n\n\t@Output()\n\tnextPageChanged = new EventEmitter();\n\n\t@Output()\n\tprevPageChanged = new EventEmitter();\n\n\tprevDisabled: boolean = false;\n\n\tnextDisabled: boolean = false;\n\n\tngOnChanges() {\n\t\tthis.calculatePrev();\n\t\tthis.calculateNext();\n\t}\n\n\tprevPage(): void {\n\t\tthis.prevPageChanged.emit();\n\t}\n\n\tnextPage(): void {\n\t\tthis.nextPageChanged.emit();\n\t}\n\n\tprivate calculatePrev(): void {\n\n\t\tif (!this.paging) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.prevDisabled = this.paging.isPrevPageDisabled();\n\t}\n\n\tprivate calculateNext(): void {\n\n\t\tif (!this.paging && !this.sourceSize) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.nextDisabled = this.paging.isNextPageDisabled();\n\t}\n\n}\n","export abstract class PureComponent {\n\n\tprivate readonly subClassConstructor: Function;\n\n\tprivate readonly subClassNgOnInit: Function;\n\n\tprotected constructor() {\n\t\tthis.subClassConstructor = this.constructor;\n\t\tthis.subClassNgOnInit = (this as any).ngOnInit;\n\n\t\tif (this.isEmptyConstructor() || arguments.length !== 0) {\n\t\t\tthis.throwError('it should not inject services');\n\t\t}\n\n\t\tif (this.subClassNgOnInit) {\n\t\t\tthis.throwError('it should not use ngOnInit');\n\t\t}\n\t}\n\n\tprivate isEmptyConstructor(): boolean {\n\t\treturn this.subClassConstructor.toString().split('(')[1][0] !== ')';\n\t}\n\n\tprivate throwError(reason: string): void {\n\t\tthrow new Error(`Component \"${this.subClassConstructor.name}\" is a PureComponent, ${reason}.`);\n\t}\n}\n","import { ChangeDetectionStrategy, Component, Input, OnChanges, SimpleChanges, ViewEncapsulation } from '@angular/core';\n\nimport { PureComponent } from '../../../../../common/cdk/pure-component';\nimport { Paging } from '../../../domain-api/read/paging';\n\n\n@Component({\n\tselector: 'gui-paging-stats',\n\ttemplateUrl: `paging-stats.component.html`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None,\n\thost: {\n\t\t'[class.gui-paging-stats]': `\"true\"`\n\t}\n})\nexport class PagingStatsComponent extends PureComponent implements OnChanges {\n\n\t@Input()\n\tpaging: Paging;\n\n\tsourceSize: number;\n\n\tfirstItemIndex: number;\n\n\tlastItemIndex: number;\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tngOnChanges(changes: SimpleChanges) {\n\t\tthis.calculate();\n\t}\n\n\tcalculate(): void {\n\t\tif (this.paging) {\n\t\t\tthis.firstItemIndex = this.paging.getStart();\n\t\t\tthis.lastItemIndex = this.paging.getEnd();\n\t\t\tthis.sourceSize = this.paging.getSourceSize();\n\t\t}\n\t}\n\n\tisSourceNotEmpty(): boolean {\n\t\treturn this.sourceSize > 0;\n\t}\n\n}\n","import { NgModule, Provider } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { FabricModule } from '@generic-ui/fabric';\nimport { FeatureModule } from '@generic-ui/hermes';\n\nimport { PagingComponent } from './paging.component';\nimport { PagingSelectComponent } from './select/paging-select.component';\nimport { AlternativePagingNavigatorComponent } from './advanced/navigator/alternative-paging-navigator.component';\nimport { AlternativePagingPagesComponent } from './advanced/pages/alternative-paging-pages.component';\nimport { PagingDisplayModeArchive } from './mode/paging-display-mode.archive';\nimport { PagingApiModule } from '../domain-api/paging.api-module';\nimport { PagingNavigatorComponent } from './basic/navigator/paging-navigator.component';\nimport { PagingStatsComponent } from './basic/stats/paging-stats.component';\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tFabricModule,\n\t\tPagingApiModule\n\t],\n\tdeclarations: [\n\t\tPagingComponent,\n\t\tPagingNavigatorComponent,\n\t\tPagingSelectComponent,\n\t\tPagingStatsComponent,\n\t\tAlternativePagingNavigatorComponent,\n\t\tAlternativePagingPagesComponent\n\t],\n\texports: [\n\t\tPagingComponent,\n\t\tPagingNavigatorComponent,\n\t\tPagingSelectComponent,\n\t\tPagingStatsComponent,\n\t\tAlternativePagingNavigatorComponent,\n\t\tAlternativePagingPagesComponent\n\t]\n})\nexport class PagingFeatureModule extends FeatureModule {\n\n\tstatic forComponent(): Array<Provider> {\n\t\treturn [\n\t\t\tPagingDisplayModeArchive\n\t\t];\n\t}\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({ name: 'numberFormatter' })\nexport class NumberFormatterPipe implements PipeTransform {\n\n\ttransform(number: number): string {\n\t\treturn number.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ' ');\n\t}\n\n}\n","import { NgModule } from '@angular/core';\n\nimport { NumberFormatterPipe } from './number-formatter.pipe';\n\n@NgModule({\n\tdeclarations: [\n\t\tNumberFormatterPipe\n\t],\n\texports: [\n\t\tNumberFormatterPipe\n\t]\n})\nexport class NumberFormatterModule {\n\n}\n","import { ChangeDetectionStrategy, Component } from '@angular/core';\n\n@Component({\n\tselector: 'gui-info-dialog',\n\ttemplate: `\n\t\t<div class=\"gui-structure-info-modal\">\n\n\t\t\t<p class=\"gui-dialog-title gui-info-title\">Generic UI Grid</p>\n\n\n\t\t\t<p class=\"gui-info-version\">\n\t\t\t\tver. 0.12.2\n\t\t\t</p>\n\n\t\t\t<p class=\"gui-quote\">\n\t\t\t\t\"The best way to success is to help others succeed.\"\n\t\t\t</p>\n\n\t\t\t<br/>\n\n\t\t\t<section>\n\t\t\t\t<p>Links:</p>\n\t\t\t\t<ul>\n\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"https://generic-ui.com/\">Website</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"https://generic-ui.com/guide/\">Documentation</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"https://github.com/generic-ui/generic-ui/tree/master/ngx-grid\">Github</a>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\n\t\t\t\t<br/>\n\n\t\t\t\t<p>Feedback:</p>\n\t\t\t\t<ul>\n\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"https://github.com/generic-ui/generic-ui/issues\">Report a bug</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"https://github.com/generic-ui/generic-ui/issues\">Suggest an idea</a>\n\t\t\t\t\t</li>\n\n\t\t\t\t</ul>\n\t\t\t</section>\n\t\t</div>\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class StructureInfoModalComponent {\n}\n","import { ReadModelRootId } from '@generic-ui/hermes';\n\nimport { CompositionId } from '../../domain/composition.id';\n\nexport class CompositionReadModelRootId extends ReadModelRootId {\n\n\tconstructor(id: string) {\n\t\tsuper(id);\n\t}\n\n\ttoAggregateId(): CompositionId {\n\t\treturn new CompositionId(this.toString());\n\t}\n}\n","import { AggregateId, ReadModelRootId } from '@generic-ui/hermes';\nimport { CompositionReadModelRootId } from '../domain-api/read/composition.read-model-root-id';\n\nexport class CompositionId extends AggregateId {\n\n\tconstructor(id: string) {\n\t\tsuper(id);\n\t}\n\n\ttoReadModelRootId(): ReadModelRootId {\n\t\treturn new CompositionReadModelRootId(this.getId());\n\t}\n\n}\n","import { ChangeDetectionStrategy, Component, ViewEncapsulation } from '@angular/core';\n\n@Component({\n\tselector: 'gui-structure-dialog-column-manager',\n\ttemplateUrl: `./structure.dialog-column-manager.component.html`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None,\n\thost: {\n\t\t'[class.gui-structure-dialog-column-manager]': 'true'\n\t}\n})\nexport class StructureDialogColumnManagerComponent {\n}\n","import { Injectable } from '@angular/core';\n\nimport { Theme } from '@generic-ui/fabric';\n\nimport { SchemaTheme } from '../../../../schema/domain/theme/schema-theme';\n\n\n@Injectable()\nexport class StructureThemeConverter {\n\n\tconvertTheme(schemaTheme: SchemaTheme): Theme {\n\t\tswitch (schemaTheme) {\n\n\t\t\tcase SchemaTheme.FABRIC:\n\t\t\t\treturn Theme.FABRIC;\n\n\t\t\tcase SchemaTheme.MATERIAL:\n\t\t\t\treturn Theme.MATERIAL;\n\n\t\t\tcase SchemaTheme.GENERIC:\n\t\t\t\treturn Theme.GENERIC;\n\n\t\t\tcase SchemaTheme.LIGHT:\n\t\t\t\treturn Theme.LIGHT;\n\n\t\t\tcase SchemaTheme.DARK:\n\t\t\t\treturn Theme.DARK;\n\n\t\t\tdefault:\n\t\t\t\treturn Theme.FABRIC;\n\n\t\t}\n\t}\n}\n","import { AggregateId } from '@generic-ui/hermes';\n\nimport { SchemaReadModelRootId } from '../domain-api/read/schema.read-model-root-id';\n\n\nexport class SchemaId extends AggregateId {\n\n\tconstructor(id: string) {\n\t\tsuper(id);\n\t}\n\n\ttoReadModelRootId(): SchemaReadModelRootId {\n\t\treturn new SchemaReadModelRootId(this.getId());\n\t}\n}\n","import { ReadModelRootId } from '@generic-ui/hermes';\n\nimport { SchemaId } from '../../domain/schema.id';\n\n\nexport class SchemaReadModelRootId extends ReadModelRootId {\n\n\tconstructor(id: string) {\n\t\tsuper(id);\n\t}\n\n\ttoAggregateId(): SchemaId {\n\t\treturn new SchemaId(this.getId());\n\t}\n}\n","import { SchemaReadModelRootId } from './schema.read-model-root-id';\n\nexport const schemaGlobalId = new SchemaReadModelRootId('-1');\n","import { Injectable } from '@angular/core';\n\nimport { AggregateArchive } from '@generic-ui/hermes';\n\nimport { SchemaTheme } from '../../domain/theme/schema-theme';\n\n\n@Injectable()\nexport class SchemaThemeRepository extends AggregateArchive<SchemaTheme> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, ReplaySubject } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nimport { SchemaId } from '../../domain/schema.id';\nimport { Reactive } from '../../../common/cdk/reactive';\nimport { SchemaCssClass } from './schema-css-class';\n\n\n@Injectable()\nexport class SchemaCssClassesRepository extends Reactive {\n\n\tprivate theme = new Map<string, SchemaCssClass>();\n\n\tprivate theme$ = new ReplaySubject<Map<string, SchemaCssClass>>();\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tsetCssClass(theme: SchemaCssClass, schemaId: SchemaId): void {\n\t\tthis.next(theme, schemaId);\n\t}\n\n\ton(schemaId: SchemaId): Observable<SchemaCssClass> {\n\n\t\treturn this.theme$\n\t\t\t\t   .asObservable()\n\t\t\t\t   .pipe(\n\t\t\t\t\t   this.takeUntil(),\n\t\t\t\t\t   map((map: Map<string, SchemaCssClass>) => {\n\t\t\t\t\t\t   return map.get(schemaId.toString());\n\t\t\t\t\t   })\n\t\t\t\t\t   // distinctUntilChanged()\n\t\t\t\t   );\n\t}\n\n\tprivate next(theme: SchemaCssClass, schemaId: SchemaId): void {\n\t\tthis.theme.set(schemaId.toString(), theme);\n\t\tthis.theme$.next(this.theme);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { AggregateArchive } from '@generic-ui/hermes';\n\n\n@Injectable()\nexport class SchemaHorizontalGridRepository extends AggregateArchive<boolean> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { AggregateArchive } from '@generic-ui/hermes';\nimport { SchemaRowColoring } from '../../domain/coloring/schema-row-coloring';\n\n\n@Injectable()\nexport class SchemaRowColoringRepository extends AggregateArchive<SchemaRowColoring> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { AggregateArchive } from '@generic-ui/hermes';\n\n\n@Injectable()\nexport class SchemaVerticalGridRepository extends AggregateArchive<boolean> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { take } from 'rxjs/operators';\n\nimport { schemaGlobalId } from './read/schema.global-id';\nimport { SchemaTheme } from '../domain/theme/schema-theme';\nimport { SchemaReadModelRootId } from './read/schema.read-model-root-id';\nimport { SchemaCssClass } from './css-classes/schema-css-class';\nimport { SchemaThemeRepository } from './theme/schema.theme.repository';\nimport { SchemaCssClassesRepository } from './css-classes/schema.css-classes.repository';\nimport { SchemaRowColoring } from '../domain/coloring/schema-row-coloring';\nimport { SchemaHorizontalGridRepository } from './horizontal-grid/schema.horizontal-grid.repository';\nimport { SchemaRowColoringRepository } from './row-coloring/schema.row-coloring.repository';\nimport { SchemaVerticalGridRepository } from './vertical-grid/schema.vertical-grid.repository';\n\n\n@Injectable()\nexport class SchemaWarehouse {\n\n\tconstructor(private readonly schemaCssClassesRepository: SchemaCssClassesRepository,\n\t\t\t\tprivate readonly schemaThemeRepository: SchemaThemeRepository,\n\t\t\t\tprivate readonly schemaHorizontalGridRepository: SchemaHorizontalGridRepository,\n\t\t\t\tprivate readonly schemaRowColoringRepository: SchemaRowColoringRepository,\n\t\t\t\tprivate readonly schemaVerticalGridRepository: SchemaVerticalGridRepository) {\n\t}\n\n\tonTheme(schemaId: SchemaReadModelRootId = schemaGlobalId): Observable<SchemaTheme> {\n\t\treturn this.schemaThemeRepository\n\t\t\t\t   .on(schemaId.toAggregateId());\n\t}\n\n\tonHorizontalGrid(schemaId: SchemaReadModelRootId = schemaGlobalId): Observable<boolean> {\n\t\treturn this.schemaHorizontalGridRepository.on(schemaId.toAggregateId());\n\t}\n\n\tonVerticalGrid(schemaId: SchemaReadModelRootId = schemaGlobalId): Observable<boolean> {\n\t\treturn this.schemaVerticalGridRepository.on(schemaId.toAggregateId());\n\t}\n\n\tonRowColoring(schemaId: SchemaReadModelRootId = schemaGlobalId): Observable<SchemaRowColoring> {\n\t\treturn this.schemaRowColoringRepository.on(schemaId.toAggregateId());\n\t}\n\n\tonSingleTheme(schemaId: SchemaReadModelRootId = schemaGlobalId): Observable<SchemaTheme> {\n\t\treturn this.schemaThemeRepository\n\t\t\t\t   .on(schemaId.toAggregateId())\n\t\t\t\t   .pipe(\n\t\t\t\t\t   take(1)\n\t\t\t\t   );\n\t}\n\n\tonCssClasses(schemaId: SchemaReadModelRootId = schemaGlobalId): Observable<SchemaCssClass> {\n\t\treturn this.schemaCssClassesRepository\n\t\t\t\t   .on(schemaId.toAggregateId());\n\t}\n\n}\n","import { Injectable, Injector } from '@angular/core';\n\nimport { FabricDialogService } from '@generic-ui/fabric';\n\nimport { CompositionId } from '../../../../composition/domain/composition.id';\nimport { StructureDialogColumnManagerComponent } from './structure.dialog-column-manager.component';\nimport { SchemaTheme } from '../../../../../schema/domain/theme/schema-theme';\nimport { Reactive } from '../../../../../common/cdk/reactive';\nimport { StructureThemeConverter } from '../../schema/structure.theme.converter';\nimport { SchemaWarehouse } from '../../../../../schema/domain-api/schema.warehouse';\nimport { SchemaReadModelRootId } from '../../../../../schema/domain-api/read/schema.read-model-root-id';\n\n\n@Injectable()\nexport class StructureDialogColumnManagerService extends Reactive {\n\n\tconstructor(private readonly injector: Injector,\n\t\t\t\tprivate readonly schemaReadModelRepository: SchemaWarehouse,\n\t\t\t\tprivate readonly structureThemeConverter: StructureThemeConverter,\n\t\t\t\tprivate readonly fabricDialogService: FabricDialogService) {\n\t\tsuper();\n\t}\n\n\topen(compositionId: CompositionId, readModelId: SchemaReadModelRootId) {\n\n\t\tconst injector = Injector.create({ parent: this.injector, providers: [{ provide: CompositionId, useValue: compositionId }] });\n\n\t\tthis.schemaReadModelRepository\n\t\t\t.onSingleTheme(readModelId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((theme: SchemaTheme) => {\n\n\t\t\t\tthis.fabricDialogService.open(StructureDialogColumnManagerComponent, {\n\t\t\t\t\tinjector: injector,\n\t\t\t\t\ttheme: this.structureThemeConverter.convertTheme(theme)\n\t\t\t\t});\n\t\t\t});\n\t}\n\n}\n","export class StructureInfoPanelConfig {\n\n\tprivate readonly enabled?: boolean = false;\n\tprivate readonly infoDialog?: boolean = true;\n\tprivate readonly columnsManager?: boolean = true;\n\tprivate readonly schemaManager?: boolean = true;\n\tprivate readonly sourceSize?: boolean = true;\n\n\tconstructor(enabled?: boolean,\n\t\t\t\tinfoDialog?: boolean,\n\t\t\t\tcolumnsManager?: boolean,\n\t\t\t\tschemaManager?: boolean,\n\t\t\t\tsourceSize?: boolean) {\n\n\t\tif (this.isNotUndefinedOrNull(enabled)) {\n\t\t\tthis.enabled = enabled;\n\t\t}\n\n\t\tif (this.isNotUndefinedOrNull(infoDialog)) {\n\t\t\tthis.infoDialog = infoDialog;\n\t\t}\n\n\t\tif (this.isNotUndefinedOrNull(columnsManager)) {\n\t\t\tthis.columnsManager = columnsManager;\n\t\t}\n\n\t\tif (this.isNotUndefinedOrNull(sourceSize)) {\n\t\t\tthis.sourceSize = sourceSize;\n\t\t}\n\n\t\tif (this.isNotUndefinedOrNull(schemaManager)) {\n\t\t\tthis.schemaManager = schemaManager;\n\t\t}\n\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n\tisInfoDialogEnabled(): boolean {\n\t\treturn this.infoDialog;\n\t}\n\n\tisColumnsManagerEnabled(): boolean {\n\t\treturn this.columnsManager;\n\t}\n\n\tisSourceSizeEnabled(): boolean {\n\t\treturn this.sourceSize;\n\t}\n\n\tisSchemaManagerEnabled(): boolean {\n\t\treturn this.schemaManager;\n\t}\n\n\tprivate isNotUndefinedOrNull(config: boolean): boolean {\n\t\treturn config !== undefined && config !== null;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { Archive } from '@generic-ui/hermes';\nimport { StructureInfoPanelConfig } from './structure.info-panel.config';\n\n\n@Injectable()\nexport class StructureInfoPanelArchive extends Archive<StructureInfoPanelConfig> {\n\n\tconstructor() {\n\t\tsuper(new StructureInfoPanelConfig());\n\t}\n}\n","import { Component } from '@angular/core';\n\n@Component({\n\ttemplate: `\n\t\t<div class=\"gui-schema-manager-dialog\">\n\t\t\t<gui-structure-schema-manager></gui-structure-schema-manager>\n\t\t</div>\n\t`\n})\nexport class StructureDialogSchemaManagerComponent {\n\n}\n","import { Injectable, Injector } from '@angular/core';\n\nimport { FabricDialogService } from '@generic-ui/fabric';\n\nimport { SchemaWarehouse } from '../../../domain-api/schema.warehouse';\nimport { StructureThemeConverter } from '../../../../lib/structure/feature/schema/structure.theme.converter';\nimport { SchemaReadModelRootId } from '../../../domain-api/read/schema.read-model-root-id';\nimport { SchemaTheme } from '../../../domain/theme/schema-theme';\nimport { StructureDialogSchemaManagerComponent } from './structure.dialog-schema-manager.component';\nimport { Reactive } from '../../../../common/cdk/reactive';\n\n\n@Injectable()\nexport class StructureDialogSchemaManagerService extends Reactive {\n\n\tconstructor(private readonly injector: Injector,\n\t\t\t\tprivate readonly schemaReadModelRepository: SchemaWarehouse,\n\t\t\t\tprivate readonly structureThemeConverter: StructureThemeConverter,\n\t\t\t\tprivate readonly fabricDialogService: FabricDialogService) {\n\t\tsuper();\n\t}\n\n\topen(readModelId: SchemaReadModelRootId): void {\n\n\t\tconst injector = Injector.create({\n\t\t\tparent: this.injector,\n\t\t\tproviders: [{ provide: SchemaReadModelRootId, useValue: readModelId }]\n\t\t});\n\n\t\tthis.schemaReadModelRepository\n\t\t\t.onSingleTheme(readModelId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((theme: SchemaTheme) => {\n\n\t\t\t\tthis.fabricDialogService.open(StructureDialogSchemaManagerComponent, {\n\t\t\t\t\tinjector: injector,\n\t\t\t\t\ttheme: this.structureThemeConverter.convertTheme(theme)\n\t\t\t\t});\n\t\t\t});\n\t}\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, OnInit, Renderer2, ViewEncapsulation } from '@angular/core';\n\nimport { FabricDialogService } from '@generic-ui/fabric';\n\nimport { SmartComponent } from '../../../../../common/cdk/smart-component';\n\nimport { StructureInfoModalComponent } from './info-modal/structure-info-modal.component';\n\nimport { SourceWarehouse } from '../../../../../structure/source/domain-api/source.warehouse';\nimport { StructureDialogColumnManagerService } from '../../column-manager/dialog/structure.dialog-column-manager.service';\nimport { CompositionId } from '../../../../composition/domain/composition.id';\nimport { StructureId } from '../../../domain/structure.id';\nimport { SchemaReadModelRootId } from '../../../../../schema/domain-api/read/schema.read-model-root-id';\nimport { StructureInfoPanelArchive } from './structure.info-panel.archive';\nimport { StructureInfoPanelConfig } from './structure.info-panel.config';\nimport { StructureDialogSchemaManagerService } from '../../../../../schema/feature/manager/dialog/structure.dialog-schema-manager.service';\n\n\n@Component({\n\tselector: 'gui-structure-info-panel',\n\ttemplate: `\n\n\t\t<div>\n\t\t\t<div *ngIf=\"infoPanelConfig.isSourceSizeEnabled()\">\n\n\t\t\t\t<ng-container *ngIf=\"preparedItemsSize !== undefined && totalItemsSize !== undefined\">\n\n\t\t\t\t\t<ng-container *ngIf=\"preparedItemsSize === totalItemsSize\">\n\t\t\t\t\t\tShowing <b>{{totalItemsSize | numberFormatter}}</b> items\n\t\t\t\t\t</ng-container>\n\n\t\t\t\t\t<span *ngIf=\"preparedItemsSize !== totalItemsSize\"\n\t\t\t\t\t\t  gui-active-filter-menu-trigger>\n\t\t\t\t\t\tShowing <b>{{preparedItemsSize | numberFormatter}}</b> out of <b>{{totalItemsSize | numberFormatter}}</b> items\n\t\t\t\t\t</span>\n\n\t\t\t\t</ng-container>\n\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div>\n\t\t\t<div class=\"gui-right-section\">\n\n\t\t\t\t<span *ngIf=\"infoPanelConfig.isSchemaManagerEnabled()\"\n\t\t\t\t\t  (click)=\"openSchemaManager()\">\n\t\t\t\t\t<gui-structure-schema-manager-icon></gui-structure-schema-manager-icon>\n\t\t\t\t</span>\n\n\t\t\t\t<span *ngIf=\"infoPanelConfig.isColumnsManagerEnabled()\"\n\t\t\t\t\t  (click)=\"openColumnManager()\">\n\t\t\t\t\t<gui-structure-column-manager-icon>\n\t\t\t\t\t</gui-structure-column-manager-icon>\n\t\t\t\t</span>\n\n\t\t\t\t<span *ngIf=\"infoPanelConfig.isInfoDialogEnabled()\"\n\t\t\t\t\t  [gui-tooltip]=\"'Info'\"\n\t\t\t\t\t  (click)=\"openInfo()\">\n\t\t\t\t\t<gui-structure-info-icon></gui-structure-info-icon>\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t</div>\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureInfoPanelComponent extends SmartComponent implements OnInit {\n\n\ttotalItemsSize: number;\n\n\tpreparedItemsSize: number;\n\n\trowHeight: number;\n\n\tinfoModal = StructureInfoModalComponent;\n\n\tinfoPanelConfig: StructureInfoPanelConfig;\n\n\tconstructor(private readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\tprivate readonly renderer: Renderer2,\n\t\t\t\tprivate readonly elementRef: ElementRef,\n\t\t\t\tprivate readonly sourceReadModelService: SourceWarehouse,\n\t\t\t\tprivate readonly dialog: FabricDialogService,\n\t\t\t\tprivate readonly compositionId: CompositionId,\n\t\t\t\tprivate readonly structureId: StructureId,\n\t\t\t\tprivate readonly schemaReadModelRootId: SchemaReadModelRootId,\n\t\t\t\tprivate readonly menuColumnManagerService: StructureDialogColumnManagerService,\n\t\t\t\tprivate readonly schemaManagerService: StructureDialogSchemaManagerService,\n\t\t\t\tprivate readonly structureInfoPanelEnabledArchive: StructureInfoPanelArchive) {\n\t\tsuper();\n\t}\n\n\tngOnInit() {\n\n\t\tthis.structureInfoPanelEnabledArchive\n\t\t\t.onValue()\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe(\n\t\t\t\t(infoPanel: StructureInfoPanelConfig) => {\n\t\t\t\t\tthis.infoPanelConfig = infoPanel;\n\t\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t\t}\n\t\t\t);\n\n\t\tthis.sourceReadModelService\n\t\t\t.onOriginSize()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((size: number) => {\n\t\t\t\tthis.totalItemsSize = size;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.sourceReadModelService\n\t\t\t.onPreparedEntities()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((preparedItems: Array<any>) => {\n\t\t\t\tthis.preparedItemsSize = preparedItems.length;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\t}\n\n\topenInfo(): void {\n\t\tthis.dialog.open(this.infoModal);\n\t}\n\n\topenColumnManager(): void {\n\t\tthis.menuColumnManagerService.open(this.compositionId, this.schemaReadModelRootId);\n\t}\n\n\topenSchemaManager(): void {\n\t\tthis.schemaManagerService.open(this.schemaReadModelRootId);\n\t}\n\n}\n","import { Observable } from 'rxjs';\n\nimport { CompositionId } from '../../domain/composition.id';\nimport { CompositionReadModeRoot } from './composition.read-mode-root';\nimport { DomainEventBus, ReadModelRootRepository } from '@generic-ui/hermes';\n\n\nexport abstract class CompositionReadModelRootRepository extends ReadModelRootRepository<CompositionId> {\n\n\tprotected constructor(domainEventBus: DomainEventBus) {\n\t\tsuper(domainEventBus);\n\t}\n\n\tabstract on(compositionId: CompositionId): Observable<Readonly<CompositionReadModeRoot>>;\n}\n","import { CompositionId } from '../domain/composition.id';\n\nexport const compositionGlobalId = new CompositionId('-1');\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { filter, map } from 'rxjs/operators';\n\nimport { CompositionReadModelRootRepository } from './read/composition.read-model-root-repository';\nimport { CompositionId } from '../domain/composition.id';\nimport { compositionGlobalId } from './composition.global-id';\nimport { CompositionReadModeRoot } from './read/composition.read-mode-root';\nimport { CellTemplateWithContext } from './read/definition/cell-template-with-context';\nimport { CellTemplateWithAccessor } from './read/definition/cell-template-with-accessor';\nimport { SortOrder } from '../domain/column/sort/sort-order';\nimport { FieldId } from '../../../structure/field/domain/core/field/field.id';\n\n\n@Injectable()\nexport class CompositionWarehouse {\n\n\tconstructor(private compositionRepository: CompositionReadModelRootRepository) {\n\t}\n\n\tonWidth(compositionId: CompositionId = compositionGlobalId): Observable<number> {\n\t\treturn this.compositionRepository\n\t\t\t\t   .on(compositionId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((composition: CompositionReadModeRoot) => composition.getWidth())\n\t\t\t\t   );\n\t}\n\n\tonContainerWidth(compositionId: CompositionId = compositionGlobalId): Observable<number> {\n\t\treturn this.compositionRepository\n\t\t\t\t   .on(compositionId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((composition: CompositionReadModeRoot) => composition.getContainerWidth())\n\t\t\t\t   );\n\t}\n\n\tonWidthForEachColumn(compositionId: CompositionId = compositionGlobalId): Observable<Array<number>> {\n\t\treturn this.compositionRepository\n\t\t\t\t   .on(compositionId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((composition: CompositionReadModeRoot) => composition.getAllColumns().map(c => c.width))\n\t\t\t\t   );\n\t}\n\n\tonHeaderColumns(compositionId: CompositionId = compositionGlobalId): Observable<Array<CellTemplateWithContext>> {\n\t\treturn this.compositionRepository\n\t\t\t\t   .on(compositionId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((composition: CompositionReadModeRoot) => composition.getActiveHeaderColumns())\n\t\t\t\t   );\n\t}\n\n\tonAllColumns(compositionId: CompositionId = compositionGlobalId): Observable<Array<CellTemplateWithContext>> {\n\t\treturn this.compositionRepository\n\t\t\t\t   .on(compositionId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((composition: CompositionReadModeRoot) => composition.getHeaderColumns())\n\t\t\t\t   );\n\t}\n\n\tonSortOrder(fieldId: FieldId, compositionId: CompositionId = compositionGlobalId): Observable<SortOrder> {\n\t\treturn this.compositionRepository\n\t\t\t\t   .on(compositionId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((composition: CompositionReadModeRoot) => composition.getActiveHeaderColumns()),\n\t\t\t\t\t   map((columns: Array<CellTemplateWithContext>) => {\n\t\t\t\t\t\t   return columns.filter((c) => c.getFieldId().equals(fieldId));\n\t\t\t\t\t   }),\n\t\t\t\t\t   filter((columns: Array<CellTemplateWithContext>) => {\n\t\t\t\t\t\t   return columns.length > 0;\n\t\t\t\t\t   }),\n\t\t\t\t\t   map(columns => columns[0].getSortStatus())\n\t\t\t\t   );\n\t}\n\n\tonTemplateColumns(compositionId: CompositionId = compositionGlobalId): Observable<Array<CellTemplateWithAccessor>> {\n\t\treturn this.compositionRepository\n\t\t\t\t   .on(compositionId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((composition: CompositionReadModeRoot) => composition.getTemplateColumns())\n\t\t\t\t   );\n\t}\n\n\tonResizeWidth(compositionId: CompositionId = compositionGlobalId): Observable<boolean> {\n\t\treturn this.compositionRepository\n\t\t\t\t   .on(compositionId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((composition: CompositionReadModeRoot) => composition.isResizeWidthEnabled())\n\t\t\t\t   );\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { CompositionId } from '../composition.id';\n\n\nexport class CreateCompositionCommand extends Command {\n\n\tconstructor(private readonly compositionId: CompositionId) {\n\t\tsuper(compositionId, 'CreateCompositionCommand');\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { CompositionId } from '../../composition.id';\n\nimport { ColumnParams } from './column.params';\n\n\nexport class SetColumnsCommand extends Command {\n\n\tconstructor(readonly compositionId: CompositionId,\n\t\t\t\tprivate readonly columns: Array<ColumnParams>) {\n\t\tsuper(compositionId, 'SetColumnsCommand');\n\t}\n\n\tgetParams(): Array<ColumnParams> {\n\t\treturn this.columns;\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../structure/domain/structure.id';\n\nexport class SetCompositionWidthCommand extends Command {\n\n\tconstructor(private readonly structureId: StructureId,\n\t\t\t\tprivate readonly width: number) {\n\t\tsuper(structureId, 'SetCompositionWidthCommand');\n\t}\n\n\tgetWidth(): number {\n\t\treturn this.width;\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../structure/domain/structure.id';\n\nexport class SetCompositionContainerWidthCommand extends Command {\n\n\tconstructor(private readonly structureId: StructureId,\n\t\t\t\tprivate readonly width: number) {\n\t\tsuper(structureId, 'SetCompositionContainerWidthCommand');\n\t}\n\n\tgetWidth(): number {\n\t\treturn this.width;\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../structure/domain/structure.id';\n\nexport class SetCompositionResizeWidthCommand extends Command {\n\n\tconstructor(private readonly structureId: StructureId,\n\t\t\t\tprivate readonly enabled: boolean) {\n\t\tsuper(structureId, 'SetCompositionResizeWidthCommand');\n\t}\n\n\tgetEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { CompositionId } from '../../composition.id';\nimport { ChangeSortParams } from './change-sort.params';\n\n\nexport class CompositionChangeSortStatusCommand extends Command {\n\n\tconstructor(readonly compositionId: CompositionId,\n\t\t\t\tprivate readonly sortParams: Array<ChangeSortParams>) {\n\t\tsuper(compositionId, 'CompositionChangeSortStatusCommand');\n\t}\n\n\tgetCompositionId(): CompositionId {\n\t\treturn this.compositionId;\n\t}\n\n\tgetSortParams(): Array<ChangeSortParams> {\n\t\treturn this.sortParams;\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { CompositionId } from '../../composition.id';\nimport { ColumnId } from '../column.id';\n\nexport class CompositionSetColumnEnabledCommand extends Command {\n\n\tconstructor(readonly compositionId: CompositionId,\n\t\t\t\tprivate readonly columnId: ColumnId,\n\t\t\t\tprivate readonly enabled: boolean) {\n\t\tsuper(compositionId, 'CompositionSetColumnEnabledCommand');\n\t}\n\n\tgetColumnId(): ColumnId {\n\t\treturn this.columnId;\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { CompositionId } from '../../../composition.id';\nimport { ColumnId } from '../../column.id';\n\nexport class CompositionMoveLeftColumnCommand extends Command {\n\n\tconstructor(readonly compositionId: CompositionId,\n\t\t\t\tprivate readonly columnId: ColumnId) {\n\t\tsuper(compositionId, 'CompositionMoveLeftColumnCommand');\n\t}\n\n\tgetColumnId(): ColumnId {\n\t\treturn this.columnId;\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { CompositionId } from '../../../composition.id';\nimport { ColumnId } from '../../column.id';\n\nexport class CompositionMoveRightColumnCommand extends Command {\n\n\tconstructor(compositionId: CompositionId,\n\t\t\t\tprivate readonly columnId: ColumnId) {\n\t\tsuper(compositionId, 'CompositionMoveRightColumnCommand');\n\t}\n\n\tgetColumnId(): ColumnId {\n\t\treturn this.columnId;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandDispatcher } from '@generic-ui/hermes';\n\nimport { CompositionId } from './composition.id';\nimport { CreateCompositionCommand } from './create/create-composition.command';\nimport { ColumnParams } from './column/set-columns/column.params';\nimport { SetColumnsCommand } from './column/set-columns/set-columns.command';\nimport { SetCompositionWidthCommand } from './width/set-width/set-composition-width.command';\nimport { SetCompositionContainerWidthCommand } from './width/set-container-width/set-composition-container-width.command';\nimport { SetCompositionResizeWidthCommand } from './width/resize-width/set-composition-resize-width.command';\nimport { ChangeSortParams } from './column/sort/change-sort.params';\nimport { CompositionChangeSortStatusCommand } from './column/sort/composition-change-sort-status.command';\nimport { ColumnId } from './column/column.id';\nimport { CompositionSetColumnEnabledCommand } from './column/set-enabled/composition.set-column-enabled.command';\nimport { CompositionMoveLeftColumnCommand } from './column/move/left/composition.move-left-column.command';\nimport { CompositionMoveRightColumnCommand } from './column/move/right/composition.move-right-column.command';\n\n\n@Injectable()\nexport class CompositionDispatcher {\n\n\tconstructor(private commandDispatcher: CommandDispatcher) {\n\t}\n\n\tcreateComposition(compositionId: CompositionId): void {\n\t\tthis.commandDispatcher.dispatch(new CreateCompositionCommand(compositionId));\n\t}\n\n\tsetColumns(compositionId: CompositionId, params: Array<ColumnParams>): void {\n\t\tthis.commandDispatcher.dispatch(new SetColumnsCommand(compositionId, params));\n\t}\n\n\tsetWidth(compositionId: CompositionId, width: number): void {\n\t\tthis.commandDispatcher.dispatch(new SetCompositionWidthCommand(compositionId, width));\n\t}\n\n\tsetContainerWidth(compositionId: CompositionId, width: number): void {\n\t\tthis.commandDispatcher.dispatch(new SetCompositionContainerWidthCommand(compositionId, width));\n\t}\n\n\tsetResizeWidth(compositionId: CompositionId, enabled: boolean): void {\n\t\tthis.commandDispatcher.dispatch(new SetCompositionResizeWidthCommand(compositionId, enabled));\n\t}\n\n\tchangeSort(compositionId: CompositionId, params: Array<ChangeSortParams>): void {\n\t\tthis.commandDispatcher.dispatch(new CompositionChangeSortStatusCommand(compositionId, params));\n\t}\n\n\tsetColumnEnabled(compositionId: CompositionId, columnId: ColumnId, enabled: boolean): void {\n\t\tthis.commandDispatcher.dispatch(new CompositionSetColumnEnabledCommand(compositionId, columnId, enabled));\n\t}\n\n\tmoveLeft(compositionId: CompositionId, columnId: ColumnId): void {\n\t\tthis.commandDispatcher.dispatch(new CompositionMoveLeftColumnCommand(compositionId, columnId));\n\t}\n\n\tmoveRight(compositionId: CompositionId, columnId: ColumnId): void {\n\t\tthis.commandDispatcher.dispatch(new CompositionMoveRightColumnCommand(compositionId, columnId));\n\t}\n\n}\n","import { EntityId } from '@generic-ui/hermes';\n\nexport class ColumnId extends EntityId {\n\n\tconstructor(id: string) {\n\t\tsuper(id);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CompositionDispatcher } from '../domain/composition.dispatcher';\nimport { CompositionId } from '../domain/composition.id';\nimport { compositionGlobalId } from './composition.global-id';\nimport { ColumnParams } from '../domain/column/set-columns/column.params';\nimport { ColumnId } from '../domain/column/column.id';\nimport { ColumnDefinitionId } from './read/definition/column-definition-id';\n\n\n@Injectable()\nexport class CompositionCommandDispatcher {\n\n\tconstructor(private compositionDispatcher: CompositionDispatcher) {\n\t}\n\n\tcreateComposition(compositionId: CompositionId = compositionGlobalId): void {\n\t\tthis.compositionDispatcher.createComposition(compositionId);\n\t}\n\n\tsetColumns(params: Array<ColumnParams>, compositionId: CompositionId = compositionGlobalId): void {\n\t\tthis.compositionDispatcher.setColumns(compositionId, params);\n\t}\n\n\tsetWidth(width: number, compositionId: CompositionId = compositionGlobalId): void {\n\t\tthis.compositionDispatcher.setWidth(compositionId, width);\n\t}\n\n\tsetContainerWidth(width: number, compositionId: CompositionId = compositionGlobalId): void {\n\t\tthis.compositionDispatcher.setContainerWidth(compositionId, width);\n\t}\n\n\tsetResizeWidth(enabled: boolean, compositionId: CompositionId = compositionGlobalId): void {\n\t\tthis.compositionDispatcher.setResizeWidth(compositionId, enabled);\n\t}\n\n\tenableColumn(columnDefinitionId: ColumnDefinitionId, compositionId: CompositionId = compositionGlobalId): void {\n\t\tthis.compositionDispatcher.setColumnEnabled(compositionId, this.toColumnId(columnDefinitionId), true);\n\t}\n\n\tdisableColumn(columnDefinitionId: ColumnDefinitionId, compositionId: CompositionId = compositionGlobalId): void {\n\t\tthis.compositionDispatcher.setColumnEnabled(compositionId, this.toColumnId(columnDefinitionId), false);\n\t}\n\n\tmoveLeft(columnDefinitionId: ColumnDefinitionId, compositionId: CompositionId = compositionGlobalId): void {\n\t\tthis.compositionDispatcher.moveLeft(compositionId, this.toColumnId(columnDefinitionId));\n\t}\n\n\tmoveRight(columnDefinitionId: ColumnDefinitionId, compositionId: CompositionId = compositionGlobalId): void {\n\t\tthis.compositionDispatcher.moveRight(compositionId, this.toColumnId(columnDefinitionId));\n\t}\n\n\tprivate toColumnId(defId: ColumnDefinitionId): ColumnId {\n\t\treturn new ColumnId(defId.getId());\n\t}\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, OnInit, ViewEncapsulation } from '@angular/core';\n\nimport { SmartComponent } from '../../../../common/cdk/smart-component';\n\nimport { CompositionWarehouse } from '../../../composition/domain-api/composition.warehouse';\nimport { CellTemplateWithContext } from '../../../composition/domain-api/read/definition/cell-template-with-context';\nimport { CompositionCommandDispatcher } from '../../../composition/domain-api/composition.command-dispatcher';\nimport { CompositionId } from '../../../composition/domain/composition.id';\n\n\n@Component({\n\tselector: 'gui-structure-column-manager',\n\ttemplate: `\n\n\t\t<ol>\n\t\t\t<li *ngFor=\"let column of columns\"\n\t\t\t\t(click)=\"toggleColumn(column)\">\n\n\t\t\t\t<gui-checkbox [checked]=\"column.isEnabled()\"\n\t\t\t\t\t\t\t  [disabled]=\"enabledColumnsCount === 1 && column.isEnabled()\">\n\n\t\t\t\t\t<ng-container\n\t\t\t\t\t\t\t*ngTemplateOutlet=\"column.viewTemplate;\n\t\t\t\t\t\t\t\t\t\t\tcontext: column.context\">\n\t\t\t\t\t</ng-container>\n\t\t\t\t</gui-checkbox>\n\n\t\t\t</li>\n\t\t</ol>\n\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None,\n\thost: {\n\t\t'[class.gui-structure-column-manager]': 'true'\n\t}\n})\nexport class StructureColumnManagerComponent extends SmartComponent implements OnInit {\n\n\tcolumns: Array<CellTemplateWithContext>;\n\n\tenabledColumnsCount: number;\n\n\tconstructor(private changeDetectorRef: ChangeDetectorRef,\n\t\t\t\tprivate compositionId: CompositionId,\n\t\t\t\tprivate compositionCommandService: CompositionCommandDispatcher,\n\t\t\t\tprivate compositionReadModelService: CompositionWarehouse) {\n\t\tsuper();\n\t}\n\n\tngOnInit() {\n\n\t\tthis.compositionReadModelService\n\t\t\t.onAllColumns(this.compositionId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((columns: Array<CellTemplateWithContext>) => {\n\t\t\t\tthis.columns = columns;\n\t\t\t\tthis.enabledColumnsCount = this.columns\n\t\t\t\t\t\t\t\t\t\t\t   .map((c) => +c.isEnabled())\n\t\t\t\t\t\t\t\t\t\t\t   .reduce((accumulator, currentValue) => accumulator + currentValue);\n\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\t}\n\n\ttoggleColumn(column: CellTemplateWithContext): void {\n\t\tevent.stopPropagation();\n\t\tif (column.isEnabled()) {\n\t\t\tthis.compositionCommandService.disableColumn(column.getColumnDefinitionId(), this.compositionId);\n\t\t} else {\n\t\t\tthis.compositionCommandService.enableColumn(column.getColumnDefinitionId(), this.compositionId);\n\t\t}\n\t}\n}\n","import { ChangeDetectionStrategy, Component, ViewEncapsulation } from '@angular/core';\n\n@Component({\n\tselector: 'gui-structure-menu-column-manager',\n\ttemplateUrl: `./structure.menu-column-manager.component.html`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None,\n\thost: {\n\t\t'[class.gui-structure-menu-column-manager]': 'true'\n\t}\n})\nexport class StructureMenuColumnManagerComponent {\n}\n","import { ChangeDetectionStrategy, Component, ViewEncapsulation } from '@angular/core';\n\nexport const selector = 'gui-structure-column-manager-icon';\n\n@Component({\n\tselector: selector,\n\ttemplate: `\n\t\t<svg data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 10.32 10.31\">\n\t\t\t<line class=\"cls-1\" x1=\"9.57\" y1=\"3.65\" x2=\"0.75\" y2=\"3.65\"/>\n\t\t\t<line class=\"cls-2\" x1=\"9.57\" y1=\"0.75\" x2=\"0.75\" y2=\"0.75\"/>\n\t\t\t<line class=\"cls-2\" x1=\"0.75\" y1=\"9.56\" x2=\"0.75\" y2=\"0.88\"/>\n\t\t\t<line class=\"cls-1\" x1=\"3.69\" y1=\"9.65\" x2=\"3.69\" y2=\"3.89\"/>\n\t\t\t<line class=\"cls-1\" x1=\"6.63\" y1=\"9.56\" x2=\"6.63\" y2=\"3.89\"/>\n\t\t\t<line class=\"cls-2\" x1=\"9.57\" y1=\"9.56\" x2=\"9.57\" y2=\"0.88\"/>\n\t\t</svg>\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None,\n\thost: {\n\t\t'[class]': `\"${selector}\"`,\n\t\t'[class.gui-icon]': 'true'\n\t}\n})\nexport class StructureColumnManagerIconComponent {\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { StructureColumnManagerComponent } from './structure.column-manager.component';\nimport { fabricImports } from '../structure-fabric.imports';\nimport { StructureDialogColumnManagerService } from './dialog/structure.dialog-column-manager.service';\nimport { StructureDialogColumnManagerComponent } from './dialog/structure.dialog-column-manager.component';\nimport { StructureMenuColumnManagerComponent } from './menu/structure.menu-column-manager.component';\nimport { StructureColumnManagerIconComponent } from './icon/structure.column-manager-icon.component';\n\n\nconst declarations = [\n\tStructureColumnManagerComponent,\n\tStructureDialogColumnManagerComponent,\n\tStructureMenuColumnManagerComponent,\n\tStructureColumnManagerIconComponent\n];\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tfabricImports\n\t],\n\tdeclarations: declarations,\n\texports: declarations,\n\tentryComponents: [\n\t\tStructureColumnManagerComponent,\n\t\tStructureDialogColumnManagerComponent,\n\t\tStructureMenuColumnManagerComponent\n\t],\n\tproviders: [\n\t\tStructureDialogColumnManagerService\n\t]\n})\nexport class StructureColumnManagerModule {\n}\n","import { ChangeDetectionStrategy, Component, ViewEncapsulation } from '@angular/core';\n\nexport const selector = 'gui-structure-info-icon';\n\n@Component({\n\tselector: selector,\n\ttemplate: `\n\t\t<svg data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 10.08 10.08\">\n\t\t\t<path class=\"cls-1\"\n\t\t\t\t  d=\"M401.64,307.76c0-.28.23-.45.54-.45s.55.17.55.45v0a.49.49,0,0,1-.55.46.48.48,0,0,1-.54-.46Zm.05,1.27a.49.49,0,0,1,1,0v2.54a.49.49,0,0,1-1,0Z\"\n\t\t\t\t  transform=\"translate(-397.14 -304.64)\"/>\n\t\t\t<circle class=\"cls-2\" cx=\"5.04\" cy=\"5.04\" r=\"4.54\"/>\n\t\t</svg>\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None,\n\thost: {\n\t\t'[class]': `\"${selector}\"`,\n\t\t'[class.gui-icon]': 'true'\n\t}\n})\nexport class StructureInfoIconComponent {\n}\n","import { Injectable } from '@angular/core';\nimport { InfoPanelConfig } from './info-panel.config';\nimport { StructureInfoPanelConfig } from './structure.info-panel.config';\n\n@Injectable()\nexport class StructureInfoPanelConfigConverter {\n\n\tconvert(config: InfoPanelConfig): StructureInfoPanelConfig {\n\n\t\tlet infoDialog,\n\t\t\tcolumnsManager,\n\t\t\tsourceSize,\n\t\t\tschemaManager;\n\n\t\tif (config.infoDialog !== undefined) {\n\t\t\tinfoDialog = config.infoDialog;\n\t\t}\n\n\t\tif (config.columnsManager !== undefined) {\n\t\t\tcolumnsManager = config.columnsManager;\n\t\t}\n\n\t\tif (config.schemaManager !== undefined) {\n\t\t\tschemaManager = config.schemaManager;\n\t\t}\n\n\t\tif (config.sourceSize !== undefined) {\n\t\t\tsourceSize = config.sourceSize;\n\t\t}\n\n\t\treturn new StructureInfoPanelConfig(\n\t\t\tconfig.enabled,\n\t\t\tinfoDialog,\n\t\t\tcolumnsManager,\n\t\t\tschemaManager,\n\t\t\tsourceSize);\n\t}\n}\n","export enum SchemaRowColoring {\n\tNONE,\n\tEVEN,\n\tODD\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { SchemaId } from '../schema.id';\nimport { SchemaTheme } from './schema-theme';\n\n\nexport class SetSchemaThemeCommand extends Command {\n\n\tconstructor(schemaId: SchemaId,\n\t\t\t\tprivate readonly theme: SchemaTheme) {\n\t\tsuper(schemaId, 'SetSchemaThemeCommand');\n\t}\n\n\tgetTheme(): SchemaTheme {\n\t\treturn this.theme;\n\t}\n\n}\n","import { CreateAggregateCommand } from '@generic-ui/hermes';\n\nimport { SchemaId } from '../schema.id';\n\n\nexport class CreateSchemaCommand extends CreateAggregateCommand {\n\n\tconstructor(schemaId: SchemaId) {\n\t\tsuper(schemaId, 'CreateSchemaCommand');\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { SchemaRowColoring } from './schema-row-coloring';\nimport { SchemaId } from '../schema.id';\n\n\nexport class SetRowColoringCommand extends Command {\n\n\tconstructor(schemaId: SchemaId,\n\t\t\t\tprivate readonly coloring: SchemaRowColoring) {\n\t\tsuper(schemaId, 'SetRowColoringCommand');\n\t}\n\n\tgetColoring(): SchemaRowColoring {\n\t\treturn this.coloring;\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { SchemaId } from '../../schema.id';\n\n\nexport class SetSchemaVerticalGridCommand extends Command {\n\n\tconstructor(schemaId: SchemaId,\n\t\t\t\tprivate readonly enabled: boolean) {\n\t\tsuper(schemaId, 'SetSchemaVerticalGridCommand');\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\nimport { SchemaId } from '../../schema.id';\n\n\nexport class SetSchemaHorizontalGridCommand extends Command {\n\n\tconstructor(schemaId: SchemaId,\n\t\t\t\tprivate readonly enabled: boolean) {\n\t\tsuper(schemaId, 'SetSchemaHorizontalGridCommand');\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandDispatcher } from '@generic-ui/hermes';\n\nimport { SchemaTheme } from './theme/schema-theme';\nimport { SchemaId } from './schema.id';\nimport { SetSchemaThemeCommand } from './theme/set-schema-theme.command';\nimport { CreateSchemaCommand } from './create/create-schema.command';\nimport { SetRowColoringCommand } from './coloring/set-row-coloring.command';\nimport { SchemaRowColoring } from './coloring/schema-row-coloring';\nimport { SetSchemaVerticalGridCommand } from './grid/vertical/set-schema-vertical-grid.command';\nimport { SetSchemaHorizontalGridCommand } from './grid/horizontal/set-schema-horizontal-grid.command';\n\n\n@Injectable()\nexport class SchemaDispatcher {\n\n\tconstructor(private readonly commandDispatcher: CommandDispatcher) {\n\t}\n\n\tcreate(schemaId: SchemaId): void {\n\t\tthis.commandDispatcher.dispatch(new CreateSchemaCommand(schemaId));\n\t}\n\n\tsetTheme(theme: SchemaTheme, schemaId: SchemaId): void {\n\t\tthis.commandDispatcher.dispatch(new SetSchemaThemeCommand(schemaId, theme));\n\t}\n\n\tsetRowColoring(rowColoring: SchemaRowColoring, schemaId: SchemaId): void {\n\t\tthis.commandDispatcher.dispatch(new SetRowColoringCommand(schemaId, rowColoring));\n\t}\n\n\tsetVerticalGrid(verticalGrid: boolean, schemaId: SchemaId): void {\n\t\tthis.commandDispatcher.dispatch(new SetSchemaVerticalGridCommand(schemaId, verticalGrid));\n\t}\n\n\tsetHorizontalGrid(horizontalGrid: boolean, schemaId: SchemaId): void {\n\t\tthis.commandDispatcher.dispatch(new SetSchemaHorizontalGridCommand(schemaId, horizontalGrid));\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\nimport { FilterConfig } from '../../domain-api/filter-config';\n\nexport class SetConfigFilterCommand extends Command {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly filterConfig: FilterConfig) {\n\t\tsuper(structureId, 'SetConfigFilterCommand');\n\t}\n\n\tgetConfig(): FilterConfig {\n\t\treturn this.filterConfig;\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../lib/structure/domain/structure.id';\n\n\nexport class RemoveAllFiltersCommand extends Command {\n\n\tconstructor(structureId: StructureId) {\n\t\tsuper(structureId, 'RemoveAllFiltersCommand');\n\t}\n\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../lib/structure/domain/structure.id';\nimport { FieldId } from '../../../../field/domain/core/field/field.id';\nimport { FilterTypeId } from '../../type/filter-type.id';\n\n\nexport class AddFilterCommand extends Command {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly fieldId: FieldId,\n\t\t\t\tprivate readonly filterTypeId: FilterTypeId,\n\t\t\t\tprivate readonly value: any) {\n\t\tsuper(structureId, 'AddFilterCommand');\n\t}\n\n\tgetFieldId(): FieldId {\n\t\treturn this.fieldId;\n\t}\n\n\tgetFilterTypeId(): FilterTypeId {\n\t\treturn this.filterTypeId;\n\t}\n\n\tgetValue(): any {\n\t\treturn this.value;\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../lib/structure/domain/structure.id';\nimport { FilterId } from '../../filter.id';\n\n\nexport class RemoveFilterCommand extends Command {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly filterId: FilterId) {\n\t\tsuper(structureId, 'RemoveFilterCommand');\n\t}\n\n\tgetFilterId(): FilterId {\n\t\treturn this.filterId;\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../lib/structure/domain/structure.id';\nimport { FieldId } from '../../../../field/domain/core/field/field.id';\n\n\nexport class SelectAllUniqueFilterCommand extends Command {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly fieldId: FieldId) {\n\t\tsuper(structureId, 'SelectAllUniqueFilterCommand');\n\t}\n\n\tgetFieldId(): FieldId {\n\t\treturn this.fieldId;\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../lib/structure/domain/structure.id';\nimport { FieldId } from '../../../../field/domain/core/field/field.id';\n\n\nexport class UnselectAllUniqueFilterCommand extends Command {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly fieldId: FieldId) {\n\t\tsuper(structureId, 'UnselectAllUniqueFilterCommand');\n\t}\n\n\tgetFieldId(): FieldId {\n\t\treturn this.fieldId;\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../lib/structure/domain/structure.id';\nimport { FieldId } from '../../../../field/domain/core/field/field.id';\nimport { UniqueValueId } from '../unique-value-id';\n\n\nexport class SelectUniqueFilterCommand extends Command {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly fieldId: FieldId,\n\t\t\t\tprivate readonly uniqueValueId: UniqueValueId) {\n\t\tsuper(structureId, 'SelectUniqueFilterCommand');\n\t}\n\n\tgetFieldId(): FieldId {\n\t\treturn this.fieldId;\n\t}\n\n\tgetUniqueValueId(): UniqueValueId {\n\t\treturn this.uniqueValueId;\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../lib/structure/domain/structure.id';\nimport { FieldId } from '../../../../field/domain/core/field/field.id';\nimport { UniqueValueId } from '../unique-value-id';\n\n\nexport class UnselectUniqueFilterCommand extends Command {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly fieldId: FieldId,\n\t\t\t\tprivate readonly uniqueValueId: UniqueValueId) {\n\t\tsuper(structureId, 'UnselectUniqueFilterCommand');\n\t}\n\n\tgetFieldId(): FieldId {\n\t\treturn this.fieldId;\n\t}\n\n\tgetUniqueValueId(): UniqueValueId {\n\t\treturn this.uniqueValueId;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandDispatcher } from '@generic-ui/hermes';\n\nimport { FilterConfig } from './filter-config';\nimport { StructureId } from '../../../lib/structure/domain/structure.id';\nimport { SetConfigFilterCommand } from '../domain/config/set-config-filter.command';\nimport { FieldId } from '../../field/domain/core/field/field.id';\nimport { RemoveAllFiltersCommand } from '../domain/core/remove-all/remove-all-filters.command';\nimport { FilterTypeId } from '../domain/type/filter-type.id';\nimport { AddFilterCommand } from '../domain/core/add/add-filter.command';\nimport { FilterId } from '../domain/filter.id';\nimport { RemoveFilterCommand } from '../domain/core/remove/remove-filter.command';\nimport { SelectAllUniqueFilterCommand } from '../domain/unique/select-all/select-all-unique-filter.command';\nimport { UnselectAllUniqueFilterCommand } from '../domain/unique/unselect-all/unselect-all-unique-filter.command';\nimport { UniqueValueId } from '../domain/unique/unique-value-id';\nimport { SelectUniqueFilterCommand } from '../domain/unique/select/select-unique-filter.command';\nimport { UnselectUniqueFilterCommand } from '../domain/unique/unselect/unselect-unique-filter.command';\n\n\n@Injectable()\nexport class FilterCommandDispatcher {\n\n\tconstructor(private commandDispatcher: CommandDispatcher) {\n\t}\n\n\tsetFilteringEnabled(config: FilterConfig, structureId: StructureId): void {\n\t\tthis.commandDispatcher.dispatch(new SetConfigFilterCommand(structureId, config));\n\t}\n\n\tadd(fieldId: FieldId, filterTypeId: FilterTypeId, value: any, structureId: StructureId): void {\n\t\tthis.commandDispatcher.dispatch(new AddFilterCommand(structureId, fieldId, filterTypeId, value));\n\t}\n\n\tremoveAllFilters(structureId: StructureId): void {\n\t\tthis.commandDispatcher.dispatch(new RemoveAllFiltersCommand(structureId));\n\t}\n\n\tremoveFilter(filterId: FilterId, structureId: StructureId): void {\n\t\tthis.commandDispatcher.dispatch(new RemoveFilterCommand(structureId, filterId));\n\t}\n\n\tselectAllUniqueFilter(fieldId: FieldId, structureId: StructureId): void {\n\t\tthis.commandDispatcher.dispatch(new SelectAllUniqueFilterCommand(structureId, fieldId));\n\t}\n\n\tunselectAllUniqueFilter(fieldId: FieldId, structureId: StructureId): void {\n\t\tthis.commandDispatcher.dispatch(new UnselectAllUniqueFilterCommand(structureId, fieldId));\n\t}\n\n\tselectUniqueFilter(fieldId: FieldId, uniqueValueId: UniqueValueId, structureId: StructureId): void {\n\t\tthis.commandDispatcher.dispatch(new SelectUniqueFilterCommand(structureId, fieldId, uniqueValueId));\n\t}\n\n\tunselectUniqueFilter(fieldId: FieldId, uniqueValueId: UniqueValueId, structureId: StructureId): void {\n\t\tthis.commandDispatcher.dispatch(new UnselectUniqueFilterCommand(structureId, fieldId, uniqueValueId));\n\t}\n\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../structure.id';\n\nexport class CreateStructureCommand extends Command {\n\n\tconstructor(structureId: StructureId) {\n\t\tsuper(structureId, 'CreateStructureCommand');\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../structure.id';\n\nexport class SetVerticalScrollEnabledCommand extends Command {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly enabled: boolean) {\n\t\tsuper(structureId, 'SetVerticalScrollEnabledCommand');\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\nimport { StructureId } from '../../../structure.id';\n\n\nexport class SetScrollPositionCommand extends Command {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly position: number) {\n\t\tsuper(structureId, 'SetScrollPositionCommand');\n\t}\n\n\tgetPosition(): number {\n\t\treturn this.position;\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { QuickFiltersConfig } from '../../domain-api/quick-filters.config';\n\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\n\n\nexport class SetConfigQuickFilterCommand extends Command {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly quickFiltersConfig: QuickFiltersConfig) {\n\t\tsuper(structureId, 'SetConfigQuickFilterCommand');\n\t}\n\n\tgetConfig(): QuickFiltersConfig {\n\t\treturn this.quickFiltersConfig;\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../structure.id';\n\nexport class SetRowHeightCommand extends Command {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly rowHeight: number) {\n\t\tsuper(structureId, 'SetRowHeightCommand');\n\t}\n\n\tgetRowHeight(): number {\n\t\treturn this.rowHeight;\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../structure.id';\n\n\nexport class StructureSetHeightCommand extends Command {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly height: number) {\n\t\tsuper(structureId, 'StructureSetHeightCommand');\n\t}\n\n\tgetHeight(): number {\n\t\treturn this.height;\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../structure.id';\nimport { SchemaTheme } from '../../../../../../schema/domain/theme/schema-theme';\n\nexport class SetRowHeightBasedOnThemeCommand extends Command {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly theme: SchemaTheme) {\n\t\tsuper(structureId, 'SetRowHeightBasedOnThemeCommand');\n\t}\n\n\tgetTheme(): number {\n\t\treturn this.theme;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandDispatcher } from '@generic-ui/hermes';\n\nimport { FilterCommandDispatcher } from '../../../structure/filter/domain-api/filter.command-dispatcher';\nimport { SourceDispatcher } from '../../../structure/source/domain/source.dispatcher';\nimport { StructureId } from '../domain/structure.id';\nimport { structureGlobalId } from './structure.global-id';\nimport { CreateStructureCommand } from '../domain/structure/create-structure/create-structure.command';\nimport { SetVerticalScrollEnabledCommand } from '../domain/structure/vertical-formation/set-enabled/set-vertical-scroll-enabled.command';\nimport { SetScrollPositionCommand } from '../domain/structure/vertical-formation/scroll-position/set-scroll-position.command';\nimport { FilterConfig } from '../../../structure/filter/domain-api/filter-config';\nimport { QuickFiltersConfig } from '../../../structure/filter/domain-api/quick-filters.config';\nimport { SetConfigQuickFilterCommand } from '../../../structure/filter/domain/quick/set-config-quick-filter.command';\nimport { SetRowHeightCommand } from '../domain/structure/vertical-formation/set-row-height/set-row-height.command';\nimport { StructureSetHeightCommand } from '../domain/structure/vertical-formation/container/set-height/structure-set-height.command';\nimport { SchemaTheme } from '../../../schema/domain/theme/schema-theme';\nimport { SetRowHeightBasedOnThemeCommand } from '../domain/structure/vertical-formation/set-row-height-theme/set-row-height-based-on-theme.command';\n\n\n@Injectable()\nexport class StructureCommandDispatcher {\n\n\tconstructor(private readonly commandDispatcher: CommandDispatcher,\n\t\t\t\tprivate readonly structureFilterCommandService: FilterCommandDispatcher,\n\t\t\t\tprivate readonly sourceDispatcher: SourceDispatcher) {\n\t}\n\n\tcreateStructure(structureId: StructureId = structureGlobalId): void {\n\t\tthis.commandDispatcher.dispatch(new CreateStructureCommand(structureId));\n\t}\n\n\tenableVerticalScroll(structureId: StructureId = structureGlobalId): void {\n\t\tthis.commandDispatcher.dispatch(new SetVerticalScrollEnabledCommand(structureId, true));\n\t}\n\n\tdisableVerticalScroll(structureId: StructureId = structureGlobalId): void {\n\t\tthis.commandDispatcher.dispatch(new SetVerticalScrollEnabledCommand(structureId, false));\n\t}\n\n\tsetScrollPosition(position: number, structureId: StructureId = structureGlobalId): void {\n\t\tthis.commandDispatcher.dispatch(new SetScrollPositionCommand(structureId, position));\n\t}\n\n\tsetOrigin(items: Array<any>, structureId: StructureId = structureGlobalId): void {\n\t\tthis.sourceDispatcher.setOrigin(structureId, items);\n\t}\n\n\tsetFilterConfig(config: FilterConfig, structureId: StructureId = structureGlobalId): void {\n\t\tthis.structureFilterCommandService.setFilteringEnabled(config, structureId);\n\t}\n\n\tsetQuickFiltersConfig(config: QuickFiltersConfig, structureId: StructureId = structureGlobalId): void {\n\t\tthis.commandDispatcher.dispatch(new SetConfigQuickFilterCommand(structureId, config));\n\t}\n\n\tsetRowHeight(rowHeight: number, structureId: StructureId = structureGlobalId): void {\n\t\tthis.commandDispatcher.dispatch(new SetRowHeightCommand(structureId, +rowHeight));\n\t}\n\n\tsetContainerHeight(height: number, structureId: StructureId = structureGlobalId): void {\n\t\tthis.commandDispatcher.dispatch(new StructureSetHeightCommand(structureId, +height));\n\t}\n\n\tsetRowHeightBasedOnTheme(theme: SchemaTheme, structureId: StructureId = structureGlobalId): void {\n\t\tthis.commandDispatcher.dispatch(new SetRowHeightBasedOnThemeCommand(structureId, theme));\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { SchemaTheme } from '../domain/theme/schema-theme';\nimport { schemaGlobalId } from './read/schema.global-id';\nimport { SchemaDispatcher } from '../domain/schema.dispatcher';\nimport { SchemaReadModelRootId } from './read/schema.read-model-root-id';\nimport { SchemaRowColoring } from '../domain/coloring/schema-row-coloring';\nimport { StructureId } from '../../lib/structure/domain/structure.id';\nimport { structureGlobalId } from '../../lib/structure/domain-api/structure.global-id';\nimport { StructureCommandDispatcher } from '../../lib/structure/domain-api/structure.command-dispatcher';\nimport { RowColoring } from './row-coloring';\n\n\n@Injectable()\nexport class SchemaCommandDispatcher {\n\n\tconstructor(private readonly schemaDispatcher: SchemaDispatcher,\n\t\t\t\tprivate readonly structureCommandService: StructureCommandDispatcher) {\n\t}\n\n\tcreate(schemaId: SchemaReadModelRootId = schemaGlobalId): void {\n\t\tthis.schemaDispatcher.create(schemaId.toAggregateId());\n\t}\n\n\tsetTheme(theme: SchemaTheme, schemaId: SchemaReadModelRootId = schemaGlobalId, structureId: StructureId = structureGlobalId): void {\n\t\tthis.schemaDispatcher.setTheme(theme, schemaId.toAggregateId());\n\n\t\tthis.structureCommandService.setRowHeightBasedOnTheme(theme, structureId);\n\t}\n\n\tsetRowColoring(rowColoring: RowColoring, schemaId: SchemaReadModelRootId = schemaGlobalId): void {\n\n\t\tconst schemaRowColoring: SchemaRowColoring = this.toSchemaRowColoring(rowColoring);\n\n\t\tthis.schemaDispatcher.setRowColoring(schemaRowColoring, schemaId.toAggregateId());\n\t}\n\n\tsetVerticalGrid(verticalGrid: boolean, schemaId: SchemaReadModelRootId = schemaGlobalId): void {\n\t\tthis.schemaDispatcher.setVerticalGrid(verticalGrid, schemaId.toAggregateId());\n\t}\n\n\tsetHorizontalGrid(horizontalGrid: boolean, schemaId: SchemaReadModelRootId = schemaGlobalId): void {\n\t\tthis.schemaDispatcher.setHorizontalGrid(horizontalGrid, schemaId.toAggregateId());\n\t}\n\n\tprivate toSchemaRowColoring(coloring: RowColoring): SchemaRowColoring {\n\t\tswitch (coloring) {\n\n\t\t\tcase RowColoring.NONE:\n\t\t\t\treturn SchemaRowColoring.NONE;\n\n\t\t\tcase RowColoring.ODD:\n\t\t\t\treturn SchemaRowColoring.ODD;\n\n\t\t\tcase RowColoring.EVEN:\n\t\t\t\treturn SchemaRowColoring.EVEN;\n\t\t}\n\t}\n\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ViewEncapsulation } from '@angular/core';\nimport { Reactive } from '../../../common/cdk/reactive';\nimport { SchemaWarehouse } from '../../domain-api/schema.warehouse';\nimport { SchemaRowColoring } from '../../domain/coloring/schema-row-coloring';\nimport { SchemaTheme } from '../../domain/theme/schema-theme';\nimport { SchemaCommandDispatcher } from '../../domain-api/schema.command-dispatcher';\nimport { SchemaReadModelRootId } from '../../domain-api/read/schema.read-model-root-id';\nimport { RowColoring } from '../../domain-api/row-coloring';\n\n@Component({\n\tselector: 'gui-structure-schema-manager',\n\ttemplate: `\n\t\t<div class=\"gui-schema-manager\">\n\t\t\t<div class=\"gui-dialog-title\">Theme manager:</div>\n\t\t\t<div class=\"gui-structure-schema-manager-select\">\n\t\t\t\t<span>Theme:</span>\n\t\t\t\t<gui-select [options]=\"themes\"\n\t\t\t\t\t\t\t[selected]=\"selectedTheme\"\n\t\t\t\t\t\t\t[placeholder]=\"'Select theme'\"\n\t\t\t\t\t\t\t(optionChanged)=\"toggleTheme($event)\">\n\t\t\t\t</gui-select>\n\t\t\t</div>\n\t\t\t<div class=\"gui-structure-schema-manager-select\">\n\t\t\t\t<span>Row coloring:</span>\n\t\t\t\t<gui-select [options]=\"coloring\"\n\t\t\t\t\t\t\t[selected]=\"selectedRowColoring\"\n\t\t\t\t\t\t\t(optionChanged)=\"toggleRowColoring($event)\">\n\t\t\t\t</gui-select>\n\t\t\t</div>\n\t\t\t<gui-checkbox [checked]=\"verticalGrid\"\n\t\t\t\t\t\t  (changed)=\"toggleVerticalGrid($event)\">Vertical grid\n\t\t\t</gui-checkbox>\n\t\t\t<gui-checkbox [checked]=\"horizontalGrid\"\n\t\t\t\t\t\t  (changed)=\"toggleHorizontalGrid($event)\">Horizontal grid\n\t\t\t</gui-checkbox>\n\t\t</div>\n\t`,\n\tencapsulation: ViewEncapsulation.None,\n\tchangeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class StructureSchemaMangerComponent extends Reactive {\n\n\tcoloring = Object.keys(SchemaRowColoring)\n\t\t\t\t\t .map((key: string) => SchemaRowColoring[key])\n\t\t\t\t\t .filter((val) => !Number.isInteger(val));\n\n\tthemes = Object.keys(SchemaTheme)\n\t\t\t\t   .map((key: string) => SchemaTheme[key])\n\t\t\t\t   .filter((val) => !Number.isInteger(val));\n\n\tselectedRowColoring: string;\n\tselectedTheme: string;\n\tverticalGrid: boolean;\n\thorizontalGrid: boolean;\n\n\tconstructor(private changeDetectorRef: ChangeDetectorRef,\n\t\t\t\tprivate schemaReadModelRootId: SchemaReadModelRootId,\n\t\t\t\tprivate schemaCommandService: SchemaCommandDispatcher,\n\t\t\t\tprivate schemaReadModelService: SchemaWarehouse) {\n\t\tsuper();\n\t}\n\n\tngOnInit() {\n\n\t\tthis.schemaReadModelService\n\t\t\t.onRowColoring(this.schemaReadModelRootId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((rowColoring: SchemaRowColoring) => {\n\t\t\t\tthis.selectedRowColoring = SchemaRowColoring[rowColoring];\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.schemaReadModelService\n\t\t\t.onTheme(this.schemaReadModelRootId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((schemaTheme: SchemaTheme) => {\n\t\t\t\tthis.selectedTheme = SchemaTheme[schemaTheme];\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.schemaReadModelService\n\t\t\t.onVerticalGrid(this.schemaReadModelRootId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((verticalGrid: boolean) => {\n\t\t\t\tthis.verticalGrid = verticalGrid;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.schemaReadModelService\n\t\t\t.onHorizontalGrid(this.schemaReadModelRootId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((horizontalGrid: boolean) => {\n\t\t\t\tthis.horizontalGrid = horizontalGrid;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\t}\n\n\ttoggleTheme(theme: string): void {\n\t\tthis.schemaCommandService.setTheme(this.toTheme(theme), this.schemaReadModelRootId);\n\t}\n\n\ttoggleRowColoring(schemaRowColoring: string): void {\n\t\tthis.schemaCommandService.setRowColoring(this.toRowColoring(schemaRowColoring), this.schemaReadModelRootId);\n\t}\n\n\ttoggleVerticalGrid(verticalGrid: boolean): void {\n\t\tthis.schemaCommandService.setVerticalGrid(verticalGrid, this.schemaReadModelRootId);\n\t}\n\n\ttoggleHorizontalGrid(horizontalGrid: boolean): void {\n\t\tthis.schemaCommandService.setHorizontalGrid(horizontalGrid, this.schemaReadModelRootId);\n\t}\n\n\tprivate toTheme(theme: string): SchemaTheme {\n\t\tswitch (theme.toLowerCase()) {\n\n\t\t\tcase 'fabric':\n\t\t\t\treturn SchemaTheme.FABRIC;\n\n\t\t\tcase 'material':\n\t\t\t\treturn SchemaTheme.MATERIAL;\n\n\t\t\tcase 'generic':\n\t\t\t\treturn SchemaTheme.GENERIC;\n\n\t\t\tcase 'light':\n\t\t\t\treturn SchemaTheme.LIGHT;\n\n\t\t\tcase 'dark':\n\t\t\t\treturn SchemaTheme.DARK;\n\t\t}\n\t}\n\n\tprivate toRowColoring(coloring: string): RowColoring {\n\t\tswitch (coloring.toLowerCase()) {\n\n\t\t\tcase 'none':\n\t\t\t\treturn RowColoring.NONE;\n\n\t\t\tcase 'odd':\n\t\t\t\treturn RowColoring.ODD;\n\n\t\t\tcase 'even':\n\t\t\t\treturn RowColoring.EVEN;\n\t\t}\n\t}\n}\n","import { ChangeDetectionStrategy, Component, ViewEncapsulation } from '@angular/core';\n\nexport const selector = 'gui-structure-schema-manager-icon';\n\n\n@Component({\n\tselector: 'gui-structure-schema-manager-icon',\n\ttemplate: `\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"24\" viewBox=\"0 0 32 24\">\n\t\t\t<g transform=\"translate(0 -4)\">\n\t\t\t\t<path id=\"Path_303\" data-name=\"Path 303\" d=\"M23.337,4H32v6H23.337Z\"/>\n\t\t\t\t<path id=\"Path_304\" data-name=\"Path 304\" d=\"M11.662,4h8.662v6H11.662Z\"/>\n\t\t\t\t<path id=\"Path_305\" data-name=\"Path 305\" d=\"M0,4H8.662v6H0Z\"/>\n\t\t\t\t<path id=\"Path_306\" data-name=\"Path 306\" d=\"M23.337,22H32v6H23.337Z\"/>\n\t\t\t\t<path id=\"Path_307\" data-name=\"Path 307\" d=\"M0,22H8.662v6H0Z\"/>\n\t\t\t\t<path id=\"Path_308\" data-name=\"Path 308\" d=\"M11.662,22h8.662v6H11.662Z\"/>\n\t\t\t\t<path id=\"Path_309\" data-name=\"Path 309\" d=\"M23.337,13H32v6H23.337Z\"/>\n\t\t\t\t<path id=\"Path_310\" data-name=\"Path 310\" d=\"M11.662,13h8.662v6H11.662Z\"/>\n\t\t\t\t<path id=\"Path_311\" data-name=\"Path 311\" d=\"M0,13H8.662v6H0Z\"/>\n\t\t\t</g>\n\t\t</svg>\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None,\n\thost: {\n\t\t'[class.gui-structure-schema-manager-icon]': 'true',\n\t\t'[class.gui-icon]': 'true'\n\t}\n})\nexport class StructureSchemaManagerIconComponent {\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { StructureSchemaMangerComponent } from './structure.schema-manger.component';\nimport { StructureDialogSchemaManagerComponent } from './dialog/structure.dialog-schema-manager.component';\nimport { StructureDialogSchemaManagerService } from './dialog/structure.dialog-schema-manager.service';\nimport { fabricImports } from '../../../lib/structure/feature/structure-fabric.imports';\nimport { StructureSchemaManagerIconComponent } from './manager-icon/structure.schema-manager-icon.component';\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tfabricImports\n\t],\n\tdeclarations: [\n\t\tStructureSchemaMangerComponent,\n\t\tStructureDialogSchemaManagerComponent,\n\t\tStructureSchemaManagerIconComponent\n\t],\n\texports: [\n\t\tStructureSchemaManagerIconComponent\n\t],\n\tentryComponents: [\n\t\tStructureDialogSchemaManagerComponent,\n\t\tStructureSchemaMangerComponent\n\t],\n\tproviders: [\n\t\tStructureDialogSchemaManagerService\n\t]\n})\nexport class StructureSchemaManagerModule {\n\n}\n","import { Component } from '@angular/core';\n\n@Component({\n\ttemplate: `\n\t\t\n\t\t<h3>Active filters</h3>\n\n\t\t<gui-active-filter-list></gui-active-filter-list>\n\n\t\t<div>\n\t\t\t\n\t\t\t<button gui-button\n\t\t\t\t\t[text]=\"true\">\n\t\t\t\tCancel\n\t\t\t</button>\n\t\t\t\n\t\t\t<button gui-button\n\t\t\t\t\t[outline]=\"true\"\n\t\t\t\t\t[primary]=\"true\">\n\t\t\t\tClear All\n\t\t\t</button>\n\t\t</div>\n\t`\n})\nexport class ActiveFilterMenuComponent {\n}\n","import { Injectable, Injector } from '@angular/core';\n\nimport { FabricDialogService } from '@generic-ui/fabric';\n\nimport { Reactive } from '../../../../common/cdk/reactive';\nimport { SchemaWarehouse } from '../../../../schema/domain-api/schema.warehouse';\nimport { StructureThemeConverter } from '../../../../lib/structure/feature/schema/structure.theme.converter';\nimport { SchemaReadModelRootId } from '../../../../schema/domain-api/read/schema.read-model-root-id';\nimport { SchemaTheme } from '../../../../schema/domain/theme/schema-theme';\nimport { ActiveFilterMenuComponent } from './active-filter-menu.component';\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\n\n@Injectable()\nexport class ActiveFilterService extends Reactive {\n\n\tconstructor(private readonly injector: Injector,\n\t\t\t\tprivate readonly schemaReadModelRepository: SchemaWarehouse,\n\t\t\t\tprivate readonly structureThemeConverter: StructureThemeConverter,\n\t\t\t\tprivate readonly fabricDialogService: FabricDialogService) {\n\t\tsuper();\n\t}\n\n\topen(readModelId: SchemaReadModelRootId, structureId: StructureId): void {\n\n\t\tconst injector = Injector.create({\n\t\t\tparent: this.injector,\n\t\t\tproviders: [\n\t\t\t\t{ provide: SchemaReadModelRootId, useValue: readModelId },\n\t\t\t\t{ provide: StructureId, useValue: structureId }\n\t\t\t]\n\t\t});\n\n\t\tthis.schemaReadModelRepository\n\t\t\t.onSingleTheme(readModelId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((theme: SchemaTheme) => {\n\n\t\t\t\tthis.fabricDialogService.open(ActiveFilterMenuComponent, {\n\t\t\t\t\tinjector: injector,\n\t\t\t\t\ttheme: this.structureThemeConverter.convertTheme(theme)\n\t\t\t\t});\n\t\t\t});\n\t}\n\n\n}\n","import { Directive, ElementRef, Renderer2 } from '@angular/core';\n\nimport { ActiveFilterService } from './active-filter.service';\n\nimport { SchemaReadModelRootId } from '../../../../schema/domain-api/read/schema.read-model-root-id';\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\n\n@Directive({\n\tselector: '[gui-active-filter-menu-trigger]'\n})\nexport class ActiveFilterMenuTriggerDirective {\n\n\tconstructor(private readonly renderer: Renderer2,\n\t\t\t\tprivate readonly el: ElementRef,\n\t\t\t\tprivate readonly structureId: StructureId,\n\t\t\t\tprivate readonly activeFilterService: ActiveFilterService,\n\t\t\t\tprivate readonly schemaReadModelRootId: SchemaReadModelRootId) {\n\t}\n\n\tngOnInit() {\n\t\t// this.renderer.listen(this.el.nativeElement, 'click', () => {\n\t\t// \tthis.activeFilterService.open(this.schemaReadModelRootId, this.structureId);\n\t\t// });\n\t}\n\n}\n","import { ChangeDetectionStrategy, Component, ViewEncapsulation } from '@angular/core';\n\n@Component({\n\tselector: 'gui-filter-icon',\n\ttemplate: `\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 10.32 7.23\">\n\t\t\t<line class=\"cls-1\" x1=\"9.57\" y1=\"0.75\" x2=\"0.75\" y2=\"0.75\"/>\n\t\t\t<line class=\"cls-1\" x1=\"8.14\" y1=\"3.62\" x2=\"2.18\" y2=\"3.62\"/>\n\t\t\t<line class=\"cls-1\" x1=\"6.71\" y1=\"6.48\" x2=\"3.62\" y2=\"6.48\"/>\n\t\t</svg>\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None,\n\thost: {\n\t\t'[class.gui-filter-icon]': 'true'\n\t}\n})\nexport class FilterIconComponent {\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, ReplaySubject } from 'rxjs';\nimport { distinctUntilChanged, map } from 'rxjs/operators';\n\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\n\n\n@Injectable()\nexport class FilterEnabledRepository {\n\n\tprivate enabled = new Map<string, boolean>();\n\n\tprivate enabled$ = new ReplaySubject<Map<string, boolean>>();\n\n\tconstructor() {\n\t}\n\n\tsetEnabled(enabled: boolean, structureId: StructureId): void {\n\t\tthis.enabled.set(structureId.toString(), enabled);\n\t\tthis.enabled$.next(this.enabled);\n\t}\n\n\tonFilterEnabled(structureId: StructureId): Observable<boolean> {\n\n\t\treturn this.enabled$\n\t\t\t\t   .asObservable()\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((map: Map<string, boolean>) => {\n\t\t\t\t\t\t   return map.get(structureId.toString());\n\t\t\t\t\t   }),\n\t\t\t\t\t   distinctUntilChanged()\n\t\t\t\t   );\n\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, ReplaySubject } from 'rxjs';\nimport { distinctUntilChanged, map } from 'rxjs/operators';\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\n\n\n@Injectable()\nexport class QuickFilterEnabledRepository {\n\n\tprivate enabled = new Map<string, boolean>();\n\n\tprivate enabled$ = new ReplaySubject<Map<string, boolean>>();\n\n\tconstructor() {\n\t}\n\n\tsetEnabled(enabled: boolean, structureId: StructureId): void {\n\t\tthis.enabled.set(structureId.toString(), enabled);\n\t\tthis.enabled$.next(this.enabled);\n\t}\n\n\tonQuickFilterEnabled(structureId: StructureId): Observable<boolean> {\n\n\t\treturn this.enabled$\n\t\t\t\t   .asObservable()\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((map: Map<string, boolean>) => {\n\t\t\t\t\t\t   return map.get(structureId.toString());\n\t\t\t\t\t   }),\n\t\t\t\t\t   distinctUntilChanged()\n\t\t\t\t   );\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateArchive } from '@generic-ui/hermes';\n\nimport { FilterTypeMap } from './filter-type-map';\n\n@Injectable()\nexport class FilterTypeRepository extends AggregateArchive<FilterTypeMap> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateArchive } from '@generic-ui/hermes';\n\nimport { ActiveFilterReadModel } from './active-filter.read-model';\n\n@Injectable()\nexport class ActiveFilterRepository extends AggregateArchive<ReadonlyArray<ActiveFilterReadModel>> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateArchive } from '@generic-ui/hermes';\nimport { UniqueValuesReadModel } from './unique-values.read-model';\n\n@Injectable()\nexport class UniqueValuesRepository extends AggregateArchive<UniqueValuesReadModel> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { FilterEnabledRepository } from './read/filter-enabled.repository';\nimport { QuickFilterEnabledRepository } from './read/quick-filter-enabled.repository';\nimport { StructureId } from '../../../lib/structure/domain/structure.id';\nimport { FilterTypeRepository } from './type/filter-type.repository';\nimport { FilterTypeMap } from './type/filter-type-map';\nimport { ActiveFilterReadModel } from './active/active-filter.read-model';\nimport { ActiveFilterRepository } from './active/active-filter.repository';\nimport { UniqueValuesReadModel } from './unique/unique-values.read-model';\nimport { UniqueValuesRepository } from './unique/unique-values.repository';\n\n\n@Injectable()\nexport class FilterWarehouse {\n\n\tconstructor(private readonly structureFilterRepository: FilterEnabledRepository,\n\t\t\t\tprivate readonly structureQuickFilterRepository: QuickFilterEnabledRepository,\n\t\t\t\tprivate readonly filterTypeRepository: FilterTypeRepository,\n\t\t\t\tprivate readonly uniqueValuesRepository: UniqueValuesRepository,\n\t\t\t\tprivate readonly activeFilterRepository: ActiveFilterRepository) {\n\t}\n\n\tonFilteringEnabled(structureId: StructureId): Observable<boolean> {\n\t\treturn this.structureFilterRepository.onFilterEnabled(structureId);\n\t}\n\n\tonQuickFiltersEnabled(structureId: StructureId): Observable<boolean> {\n\t\treturn this.structureQuickFilterRepository.onQuickFilterEnabled(structureId);\n\t}\n\n\tonFilterTypes(structureId: StructureId): Observable<FilterTypeMap> {\n\t\treturn this.filterTypeRepository.on(structureId);\n\t}\n\n\tonActiveFilters(structureId: StructureId): Observable<ReadonlyArray<ActiveFilterReadModel>> {\n\t\treturn this.activeFilterRepository.on(structureId);\n\t}\n\n\tonUniqueValues(structureId: StructureId): Observable<UniqueValuesReadModel> {\n\t\treturn this.uniqueValuesRepository.on(structureId);\n\t}\n\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, OnInit, ViewEncapsulation } from '@angular/core';\n\nimport { CellTemplateWithContext } from '../../../../lib/composition/domain-api/read/definition/cell-template-with-context';\nimport { SmartComponent } from '../../../../common/cdk/smart-component';\nimport { CompositionWarehouse } from '../../../../lib/composition/domain-api/composition.warehouse';\nimport { FieldWarehouse } from '../../../field/domain-api/field.warehouse';\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\nimport { FieldReadModel } from '../../../field/domain-api/read/field.read-model';\nimport { FilterWarehouse } from '../../domain-api/filter.warehouse';\nimport { FilterTypeMap } from '../../domain-api/type/filter-type-map';\nimport { FilterTypeReadModel } from '../../domain-api/type/filter-type.read-model';\nimport { FilterTypeId } from '../../domain/type/filter-type.id';\nimport { FilterCommandDispatcher } from '../../domain-api/filter.command-dispatcher';\nimport { FieldId } from '../../../field/domain/core/field/field.id';\nimport { ActiveFilterReadModel } from '../../domain-api/active/active-filter.read-model';\n\n\n@Component({\n\tselector: 'gui-filter-menu',\n\ttemplate: `\n\n\t\t<div>\n\t\t\t<gui-active-filter-list></gui-active-filter-list>\n\t\t</div>\n\n\t\t<!--\t\t<div>-->\n\t\t<!--\t\t\t<gui-column-selector-->\n\t\t<!--\t\t\t\t\t[columns]=\"columns\"-->\n\t\t<!--\t\t\t\t\t(columnSelected)=\"onColumnSelect($event)\">-->\n\t\t<!--\t\t\t</gui-column-selector>-->\n\n\t\t<!--\t\t\t<ng-container *ngIf=\"selectedColumn\">-->\n\t\t<!--\t\t\t\t{{selectedColumn.getFieldId()}}-->\n\t\t<!--\t\t\t</ng-container>-->\n\t\t<!--\t\t</div>-->\n\n\t\t<div>\n\t\t\t<gui-field-selector\n\t\t\t\t\t[fields]=\"fields\"\n\t\t\t\t\t(fieldSelected)=\"onFieldSelect($event)\">\n\t\t\t</gui-field-selector>\n\n\t\t\t<ng-container *ngIf=\"selectedColumn\">\n\t\t\t\t{{selectedColumn.getFieldId()}}\n\t\t\t</ng-container>\n\t\t</div>\n\n\t\t<div>\n\t\t\t<gui-filter-type-selector\n\t\t\t\t\t[filterTypes]=\"filterTypes\"\n\t\t\t\t\t(filterTypeSelected)=\"onFilterTypeSelect($event)\">\n\t\t\t</gui-filter-type-selector>\n\n\t\t\t<ng-container *ngIf=\"selectedFilterTypeId\">\n\t\t\t\t{{selectedFilterTypeId.toString()}}\n\t\t\t</ng-container>\n\t\t</div>\n\n\t\t<div>\n\n\t\t\t<gui-filter-value *ngIf=\"selectedFilterTypeId\"\n\t\t\t\t\t\t\t  (valueChanged)=\"onValueChanged($event)\">\n\t\t\t</gui-filter-value>\n\n\t\t</div>\n\n\t\t<div>\n\t\t\t<button gui-button\n\t\t\t\t\t[primary]=\"true\"\n\t\t\t\t\t[disabled]=\"!selectedFilterTypeId\"\n\t\t\t\t\t(click)=\"addFilter()\">\n\t\t\t\tFilter\n\t\t\t</button>\n\t\t</div>\n\n\t\t<div>\n\t\t\t<button gui-button\n\t\t\t\t\t[secondary]=\"true\"\n\t\t\t\t\t(click)=\"removeAllFilters()\">\n\t\t\t\tClear filters\n\t\t\t</button>\n\t\t</div>\n\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None,\n\thost: {\n\t\t'[class.gui-filter-menu]': 'true'\n\t}\n})\nexport class FilterMenuComponent extends SmartComponent implements OnInit {\n\n\tselectedColumn: CellTemplateWithContext;\n\n\tcolumns: Array<CellTemplateWithContext> = [];\n\n\tselectedField: FieldReadModel;\n\n\tfields: Array<FieldReadModel> = [];\n\n\tfilterTypeMap: FilterTypeMap;\n\n\tfilterTypes: Array<FilterTypeReadModel>;\n\n\tselectedFilterTypeId: FilterTypeId;\n\n\tselectedValue: string;\n\n\tactiveFilters: Array<ActiveFilterReadModel> = [];\n\n\tconstructor(private readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\tprivate readonly structureId: StructureId,\n\t\t\t\tprivate readonly fieldWarehouse: FieldWarehouse,\n\t\t\t\tprivate readonly filterWarehouse: FilterWarehouse,\n\t\t\t\tprivate readonly filterCommandDispatcher: FilterCommandDispatcher,\n\t\t\t\tprivate readonly compositionWarehouse: CompositionWarehouse) {\n\t\tsuper();\n\t}\n\n\tngOnInit() {\n\n\t\tthis.filterWarehouse\n\t\t\t.onActiveFilters(this.structureId)\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((activeFilters: Array<ActiveFilterReadModel>) => {\n\t\t\t\tthis.activeFilters = activeFilters;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.filterWarehouse\n\t\t\t.onFilterTypes(this.structureId)\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((filterTypeMap: FilterTypeMap) => {\n\t\t\t\tthis.filterTypeMap = filterTypeMap;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.fieldWarehouse\n\t\t\t.onFields(this.structureId)\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((fieldReadModels: Array<FieldReadModel>) => {\n\t\t\t\tthis.fields = fieldReadModels;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.compositionWarehouse\n\t\t\t.onHeaderColumns()\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((columns: Array<CellTemplateWithContext>) => {\n\t\t\t\tthis.columns = columns;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\t}\n\n\tonColumnSelect(selectedColumn: CellTemplateWithContext): void {\n\n\t\tthis.selectedColumn = selectedColumn;\n\n\t\tthis.filterTypes = this.filterTypeMap.getFilterTypes(this.selectedColumn.getFieldId());\n\n\t\tthis.changeDetectorRef.detectChanges();\n\t}\n\n\tonFieldSelect(field: FieldReadModel): void {\n\t\tthis.selectedField = field;\n\n\t\tthis.filterTypes = this.filterTypeMap.getFilterTypes(this.selectedField.getFieldId());\n\n\t\tthis.changeDetectorRef.detectChanges();\n\t}\n\n\tonFilterTypeSelect(filterTypeId: FilterTypeId): void {\n\n\t\tthis.selectedFilterTypeId = filterTypeId;\n\n\t\tthis.changeDetectorRef.detectChanges();\n\t}\n\n\tremoveAllFilters(): void {\n\t\tthis.filterCommandDispatcher.removeAllFilters(this.structureId);\n\t}\n\n\taddFilter(): void {\n\n\t\tconst fieldId: FieldId = this.selectedField.getFieldId(),\n\t\t\tfilterTypeId: FilterTypeId = this.selectedFilterTypeId,\n\t\t\tvalue: any = this.selectedValue;\n\n\t\tthis.filterCommandDispatcher.add(fieldId, filterTypeId, value, this.structureId);\n\n\t\tthis.clearAddFilterForm();\n\t}\n\n\tonValueChanged(value: string): void {\n\t\tthis.selectedValue = value;\n\t}\n\n\tclearAddFilterForm(): void {\n\t\tthis.selectedColumn = null;\n\t\tthis.selectedField = null;\n\t\tthis.selectedFilterTypeId = null;\n\t\tthis.selectedValue = null;\n\t\tthis.changeDetectorRef.detectChanges();\n\t}\n}\n","import { InjectionToken } from '@angular/core';\n\nexport const filterContainerToken = new InjectionToken('Filter container token');\n","import { ChangeDetectionStrategy, Component, Inject, Injector, ViewEncapsulation } from '@angular/core';\n\nimport { FabricDrawerService } from '@generic-ui/fabric';\n\nimport { FilterMenuComponent } from './menu/filter-menu.component';\nimport { filterContainerToken } from './config/filter-container-token';\nimport { FilterContainerRef } from './config/filter-container-ref';\n\n@Component({\n\tselector: 'gui-filter-menu-trigger',\n\ttemplate: `\n\t\t<div [gui-tooltip]=\"'Filters'\"\n\t\t\t (click)=\"openDrawer()\"\n\t\t\t class=\"gui-filter-icon-wrapper\">\n\t\t\t<gui-filter-icon></gui-filter-icon>\n\t\t</div>\n\t`,\n\tencapsulation: ViewEncapsulation.None,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\thost: {\n\t\t'[class.gui-filter-menu-trigger]': 'true'\n\t},\n\tstyleUrls: [\n\t\t'./style/filter.ngx.scss'\n\t]\n})\nexport class FilterMenuTriggerComponent {\n\n\tconstructor(private readonly injector: Injector,\n\t\t\t\tprivate readonly drawerService: FabricDrawerService,\n\t\t\t\t@Inject(filterContainerToken) private readonly filterContainerRef: FilterContainerRef) {\n\t}\n\n\topenDrawer(): void {\n\t\tconst elementRef = this.filterContainerRef.getElementRef();\n\n\t\tthis.drawerService.open(elementRef, FilterMenuComponent, { injector: this.injector });\n\t}\n}\n","import { ChangeDetectionStrategy, Component, EventEmitter, Input, Output, ViewEncapsulation } from '@angular/core';\nimport { CellTemplateWithContext } from '../../../../lib/composition/domain-api/read/definition/cell-template-with-context';\n\n@Component({\n\tselector: 'gui-column-selector[columns]',\n\ttemplate: `\n\n\t\tColumn:\n\n\t\t<gui-dropdown>\n\t\t\t<gui-dropdown-item *ngFor=\"let column of columns\"\n\t\t\t\t\t\t\t   (click)=\"onSelectChange(column)\">\n\t\t\t\t<ng-container\n\t\t\t\t\t\t*ngTemplateOutlet=\"column.viewTemplate;\n\t\t\t\t\t\t   context: column.context\">\n\t\t\t\t</ng-container>\n\t\t\t</gui-dropdown-item>\n\t\t</gui-dropdown>\n\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class ColumnSelectorComponent {\n\n\t@Input()\n\tcolumns: Array<CellTemplateWithContext>;\n\n\t@Output()\n\tcolumnSelected = new EventEmitter<CellTemplateWithContext>();\n\n\tonSelectChange(column: CellTemplateWithContext): void {\n\t\tthis.columnSelected.emit(column);\n\t}\n}\n","import { ChangeDetectionStrategy, Component, EventEmitter, Input, Output, ViewEncapsulation } from '@angular/core';\nimport { FilterTypeReadModel } from '../../domain-api/type/filter-type.read-model';\nimport { FilterTypeId } from '../../domain/type/filter-type.id';\nimport { PureComponent } from '../../../../common/cdk/pure-component';\n\n@Component({\n\tselector: 'gui-filter-type-selector[filterTypes]',\n\ttemplate: `\n\n\t\t<ng-container>\n\t\t\tFilter Type:\n\t\t</ng-container>\n\n\t\t<gui-dropdown>\n\t\t\t<gui-dropdown-item *ngFor=\"let filterType of filterTypes\"\n\t\t\t\t\t\t\t   (click)=\"onSelectChange(filterType)\">\n\t\t\t\t{{filterType.getName()}}\n\t\t\t</gui-dropdown-item>\n\t\t</gui-dropdown>\n\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class FilterTypeSelectorComponent extends PureComponent {\n\n\t@Input()\n\tfilterTypes: Array<FilterTypeReadModel>;\n\n\t@Output()\n\tfilterTypeSelected = new EventEmitter<FilterTypeId>();\n\n\tonSelectChange(filterType: FilterTypeReadModel): void {\n\t\tthis.filterTypeSelected.emit(filterType.getId());\n\t}\n}\n","import { ChangeDetectionStrategy, Component, ElementRef, EventEmitter, Output, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\n\n\n@Component({\n\tselector: 'gui-filter-value',\n\ttemplate: `\n\n\t\t<form #formRef\n\t\t\t  [formGroup]=\"filterForm\">\n\n\t\t\t<input formControlName=\"filterValue\"/>\n\t\t</form>\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None,\n\thost: {\n\t\t'[class.gui-filter-value]': `\"true\"`\n\t}\n})\nexport class FilterValueComponent {\n\n\tprivate static readonly FORM_FILTER_VALUE = 'filterValue';\n\n\t@ViewChild('formRef', { static: false })\n\tformRef: ElementRef;\n\n\t@Output()\n\tvalueChanged = new EventEmitter();\n\n\tfilterForm: FormGroup;\n\n\tconstructor(private readonly formBuilder: FormBuilder) {\n\n\t\tlet controlsConfig = {};\n\t\tcontrolsConfig[FilterValueComponent.FORM_FILTER_VALUE] = '';\n\n\t\tthis.filterForm = this.formBuilder.group(controlsConfig);\n\t}\n\n\tngOnInit() {\n\t\tthis.filterForm\n\t\t\t.controls[FilterValueComponent.FORM_FILTER_VALUE]\n\t\t\t.valueChanges\n\t\t\t// .pipe(\n\t\t\t// \tthis.takeUntil()\n\t\t\t// )\n\t\t\t.subscribe((value: string) => {\n\t\t\t\tthis.valueChanged.emit(value);\n\t\t\t});\n\t}\n\n}\n","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\n\nimport { SmartComponent } from '../../../../common/cdk/smart-component';\nimport { FilterWarehouse } from '../../domain-api/filter.warehouse';\nimport { ActiveFilterReadModel } from '../../domain-api/active/active-filter.read-model';\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\nimport { FilterCommandDispatcher } from '../../domain-api/filter.command-dispatcher';\n\n\n@Component({\n\tselector: 'gui-active-filter-list',\n\ttemplate: `\n\n\t\t<div *ngFor=\"let filter of activeFilters\">\n\t\t\t{{filter.getText()}}\n\t\t\t<span (click)=\"removeFilter(filter)\">X</span>\n\t\t</div>\n\n\t\t<gui-active-search></gui-active-search>\n\n\n\t`\n})\nexport class ActiveFilterListComponent extends SmartComponent implements OnInit {\n\n\tactiveFilters: Array<ActiveFilterReadModel> = [];\n\n\tconstructor(private readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\tprivate readonly structureId: StructureId,\n\t\t\t\tprivate readonly filterWarehouse: FilterWarehouse,\n\t\t\t\tprivate readonly filterCommandDispatcher: FilterCommandDispatcher) {\n\t\tsuper();\n\t}\n\n\tngOnInit() {\n\t\tthis.filterWarehouse\n\t\t\t.onActiveFilters(this.structureId)\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((activeFilters: Array<ActiveFilterReadModel>) => {\n\t\t\t\tthis.activeFilters = activeFilters;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\t}\n\n\tremoveFilter(filter: ActiveFilterReadModel): void {\n\t\tthis.filterCommandDispatcher.removeFilter(filter.getFilterId(), this.structureId);\n\t}\n}\n","import { ChangeDetectionStrategy, Component, EventEmitter, Input, Output, ViewEncapsulation } from '@angular/core';\nimport { FieldReadModel } from '../../../field/domain-api/read/field.read-model';\n\n@Component({\n\tselector: 'gui-field-selector[fields]',\n\ttemplate: `\n\n\t\tField:\n\n\t\t<gui-dropdown>\n\t\t\t<gui-dropdown-item *ngFor=\"let field of fields\"\n\t\t\t\t\t\t\t   (click)=\"onSelectChange(field)\">\n\t\t\t\t{{field.getName()}}\n\t\t\t</gui-dropdown-item>\n\t\t</gui-dropdown>\n\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class FieldSelectorComponent {\n\n\t@Input()\n\tfields: ReadonlyArray<FieldReadModel>;\n\n\t@Output()\n\tfieldSelected = new EventEmitter<FieldReadModel>();\n\n\tonSelectChange(field: FieldReadModel): void {\n\t\tthis.fieldSelected.emit(field);\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, ReplaySubject } from 'rxjs';\nimport { distinctUntilChanged, map } from 'rxjs/operators';\n\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\nimport { Reactive } from '../../../../common/cdk/reactive';\n\n\n@Injectable()\nexport class SearchingRepository extends Reactive {\n\n\tprivate enabled = new Map<string, boolean>();\n\n\tprivate enabled$ = new ReplaySubject<Map<string, boolean>>();\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tsetEnabled(enabled: boolean, structureId: StructureId): void {\n\t\tthis.enabled.set(structureId.toString(), enabled);\n\t\tthis.enabled$.next(this.enabled);\n\t}\n\n\tonSearchingEnabled(structureId: StructureId): Observable<boolean> {\n\n\t\treturn this.enabled$\n\t\t\t\t   .asObservable()\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((map: Map<string, boolean>) => {\n\t\t\t\t\t\t   return map.get(structureId.toString());\n\t\t\t\t\t   }),\n\t\t\t\t\t   distinctUntilChanged()\n\t\t\t\t   );\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, ReplaySubject } from 'rxjs';\nimport { distinctUntilChanged, map } from 'rxjs/operators';\n\nimport { Reactive } from '../../../../common/cdk/reactive';\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\n\n\n@Injectable()\nexport class SearchPhraseRepository extends Reactive {\n\n\tprivate phrase = new Map<string, string>();\n\n\tprivate phrase$ = new ReplaySubject<Map<string, string>>();\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tsetPhrase(phrase: string, structureId: StructureId): void {\n\t\tthis.phrase.set(structureId.toString(), phrase);\n\t\tthis.phrase$.next(this.phrase);\n\t}\n\n\tonPhrase(structureId: StructureId): Observable<string> {\n\n\t\treturn this.observePhrases(structureId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   distinctUntilChanged()\n\t\t\t\t   );\n\t}\n\n\tprivate observePhrases(structureId: StructureId): Observable<string> {\n\t\treturn this.phrase$\n\t\t\t\t   .asObservable()\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((map: Map<string, string>) => {\n\t\t\t\t\t\t   return map.get(structureId.toString());\n\t\t\t\t\t   })\n\t\t\t\t   );\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { SearchingRepository } from './enabled/searching.repository';\nimport { StructureId } from '../../../lib/structure/domain/structure.id';\nimport { structureGlobalId } from '../../../lib/structure/domain-api/structure.global-id';\nimport { SearchPhraseRepository } from './phrase/search-phrase.repository';\n\n\n@Injectable()\nexport class SearchWarehouse {\n\n\tconstructor(private readonly structureSearchingRepository: SearchingRepository,\n\t\t\t\tprivate readonly searchPhraseRepository: SearchPhraseRepository) {\n\t}\n\n\tonSearchEnabled(structureId: StructureId = structureGlobalId): Observable<boolean> {\n\t\treturn this.structureSearchingRepository.onSearchingEnabled(structureId);\n\t}\n\n\tonPhrase(structureId: StructureId = structureGlobalId): Observable<string> {\n\t\treturn this.searchPhraseRepository.onPhrase(structureId);\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\nimport { SearchConfig } from '../../domain-api/search-config';\n\n\nexport class SetConfigSearchingCommand extends Command {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly searchConfig: SearchConfig) {\n\t\tsuper(structureId, 'SetConfigSearchingCommand');\n\t}\n\n\tgetConfig(): SearchConfig {\n\t\treturn this.searchConfig;\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\n\nexport class SetSearchPhraseCommand extends Command {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly phrase: string,\n\t\t\t\tprivate readonly initial: boolean) {\n\t\tsuper(structureId, 'SetSearchPhraseCommand');\n\t}\n\n\tgetPhrase(): string {\n\t\treturn this.phrase;\n\t}\n\n\tisInitial(): boolean {\n\t\treturn this.initial;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, ReplaySubject } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nimport { structureGlobalId } from '../../../../lib/structure/domain-api/structure.global-id';\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\n\n\n@Injectable()\nexport class SearchHighlightArchive {\n\n\tprivate static readonly HIGHLIGHTING = true;\n\n\tprivate readonly idToHighlight = new Map<string, boolean>();\n\n\tprivate readonly idToHighlight$ = new ReplaySubject<Map<string, boolean>>();\n\n\tnext(value: boolean, structureId: StructureId = structureGlobalId): void {\n\t\tthis.idToHighlight.set(structureId.getId(), value);\n\t\tthis.idToHighlight$.next(this.idToHighlight);\n\t}\n\n\tonValue(structureId: StructureId = structureGlobalId): Observable<boolean> {\n\t\treturn this.idToHighlight$\n\t\t\t\t   .asObservable()\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((idToHighlight: Map<string, boolean>) => {\n\t\t\t\t\t\t   return idToHighlight.get(structureId.getId()) || SearchHighlightArchive.HIGHLIGHTING;\n\t\t\t\t\t   })\n\t\t\t\t   );\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, ReplaySubject } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\nimport { structureGlobalId } from '../../../../lib/structure/domain-api/structure.global-id';\n\n\n@Injectable()\nexport class SearchPlaceholderArchive {\n\n\tprivate static readonly PLACEHOLDER = 'Search ...';\n\n\tprivate readonly idToPlaceholder = new Map<string, string>();\n\n\tprivate readonly idToPlaceholder$ = new ReplaySubject<Map<string, string>>();\n\n\tnext(value: string, structureId: StructureId = structureGlobalId): void {\n\t\tthis.idToPlaceholder.set(structureId.getId(), value);\n\t\tthis.idToPlaceholder$.next(this.idToPlaceholder);\n\t}\n\n\tonValue(structureId: StructureId = structureGlobalId): Observable<string> {\n\t\treturn this.idToPlaceholder$\n\t\t\t\t   .asObservable()\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((idToHighlight: Map<string, string>) => {\n\t\t\t\t\t\t   return idToHighlight.get(structureId.getId()) || SearchPlaceholderArchive.PLACEHOLDER;\n\t\t\t\t\t   })\n\t\t\t\t   );\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandDispatcher } from '@generic-ui/hermes';\n\nimport { SearchConfig } from '../domain-api/search-config';\nimport { StructureId } from '../../../lib/structure/domain/structure.id';\nimport { structureGlobalId } from '../../../lib/structure/domain-api/structure.global-id';\nimport { SetConfigSearchingCommand } from './config/set-config-searching.command';\nimport { SetSearchPhraseCommand } from './set-phrase/set-search-phrase.command';\nimport { SearchHighlightArchive } from '../domain-api/highlight/search-highlight.archive';\nimport { SearchPlaceholderArchive } from '../domain-api/placeholder/search-placeholder.archive';\n\n\n@Injectable()\nexport class SearchDispatcher {\n\n\tconstructor(private readonly commandDispatcher: CommandDispatcher,\n\t\t\t\tprivate readonly structureSearchHighlightArchive: SearchHighlightArchive,\n\t\t\t\tprivate readonly structureSearchPlaceholderArchive: SearchPlaceholderArchive) {\n\t}\n\n\tsetSearchingConfig(config: SearchConfig, structureId: StructureId = structureGlobalId): void {\n\n\t\tif (config.highlighting !== undefined && config.highlighting !== null) {\n\t\t\tthis.structureSearchHighlightArchive.next(config.highlighting);\n\t\t}\n\n\t\tif (config.placeholder !== undefined && config.placeholder !== null) {\n\t\t\tthis.structureSearchPlaceholderArchive.next(config.placeholder);\n\t\t}\n\n\t\tif (config.phrase !== undefined && config.phrase !== null) {\n\t\t\tthis.searchOnInit(config.phrase, structureId);\n\t\t}\n\n\t\tthis.commandDispatcher.dispatch(new SetConfigSearchingCommand(structureId, config));\n\t}\n\n\tsearch(phrase: string, structureId: StructureId = structureGlobalId): void {\n\t\tthis.commandDispatcher.dispatch(new SetSearchPhraseCommand(structureId, phrase, false));\n\t}\n\n\tprivate searchOnInit(phrase: string, structureId: StructureId = structureGlobalId): void {\n\t\tthis.commandDispatcher.dispatch(new SetSearchPhraseCommand(structureId, phrase, true));\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { StructureId } from '../../../lib/structure/domain/structure.id';\nimport { structureGlobalId } from '../../../lib/structure/domain-api/structure.global-id';\nimport { SearchConfig } from './search-config';\nimport { SearchDispatcher } from '../domain/search.dispatcher';\n\n\n@Injectable()\nexport class SearchCommandDispatcher {\n\n\tconstructor(private readonly searchDispatcher: SearchDispatcher) {\n\t}\n\n\tsetSearchingConfig(config: SearchConfig, structureId: StructureId = structureGlobalId): void {\n\t\tthis.searchDispatcher.setSearchingConfig(config, structureId);\n\t}\n\n\tsearch(phrase: string, structureId: StructureId = structureGlobalId): void {\n\t\tthis.searchDispatcher.search(phrase, structureId);\n\t}\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ViewEncapsulation } from '@angular/core';\nimport { SearchWarehouse } from '../../../../search/domain-api/search.warehouse';\nimport { SmartComponent } from '../../../../../common/cdk/smart-component';\nimport { StructureId } from '../../../../../lib/structure/domain/structure.id';\nimport { SearchCommandDispatcher } from '../../../../search/domain-api/search.command-dispatcher';\n\n@Component({\n\tselector: 'gui-active-search',\n\ttemplate: `\n\n\t\t<ng-container *ngIf=\"phrase\">\n\t\t\t<div>\n\t\t\t\tActive search by:\n\t\t\t</div>\n\n\t\t\t<div>\n\t\t\t\t<gui-chip>{{phrase}}</gui-chip>\n\t\t\t</div>\n\n\t\t\t<div>\n\t\t\t\t<button gui-button\n\t\t\t\t\t\t[outline]=\"true\"\n\t\t\t\t\t\t[primary]=\"true\"\n\t\t\t\t\t\t(click)=\"clearSearch()\">\n\t\t\t\t\tClear search\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</ng-container>\n\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class ActiveSearchComponent extends SmartComponent {\n\n\tphrase: string;\n\n\tconstructor(private readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\tprivate readonly structureId: StructureId,\n\t\t\t\tprivate readonly searchCommandDispatcher: SearchCommandDispatcher,\n\t\t\t\tprivate readonly searchWarehouse: SearchWarehouse) {\n\t\tsuper();\n\t}\n\n\tngOnInit() {\n\t\tthis.searchWarehouse\n\t\t\t.onPhrase(this.structureId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((phrase: string) => {\n\t\t\t\tthis.phrase = phrase;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\t}\n\n\tclearSearch(): void {\n\t\tevent.stopPropagation();\n\t\tthis.searchCommandDispatcher.search('', this.structureId);\n\t}\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\n\nimport { FabricModule } from '@generic-ui/fabric';\n\nimport { FilterIconComponent } from './icon/filter-icon.component';\nimport { FilterMenuTriggerComponent } from './filter-menu-trigger.component';\nimport { FilterMenuComponent } from './menu/filter-menu.component';\nimport { ColumnSelectorComponent } from './column-selector/column-selector.component';\nimport { FilterTypeSelectorComponent } from './filter-selector/filter-type-selector.component';\nimport { FilterValueComponent } from './menu/value/filter-value.component';\nimport { ActiveFilterListComponent } from './active-filters/active-filter-list.component';\nimport { FieldSelectorComponent } from './field-selector/field-selector.component';\nimport { ActiveSearchComponent } from './active-filters/search/active-search.component';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tFabricModule,\n\t\tReactiveFormsModule\n\t],\n\tdeclarations: [\n\t\tFilterIconComponent,\n\t\tFilterMenuComponent,\n\t\tFilterMenuTriggerComponent,\n\t\tColumnSelectorComponent,\n\t\tFilterTypeSelectorComponent,\n\t\tFilterValueComponent,\n\t\tActiveFilterListComponent,\n\t\tFieldSelectorComponent,\n\t\tActiveSearchComponent\n\t],\n\texports: [\n\t\tFilterMenuTriggerComponent,\n\t\tActiveFilterListComponent\n\t],\n\tentryComponents: [\n\t\tFilterMenuComponent\n\t]\n})\nexport class FilterMenuFeatureModule {\n}\n","import { NgModule, Provider } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { FeatureModule } from '@generic-ui/hermes';\nimport { FabricButtonModule } from '@generic-ui/fabric';\n\nimport { ActiveFilterMenuTriggerDirective } from './filter/active-filter-menu-trigger.directive';\nimport { ActiveFilterMenuComponent } from './filter/active-filter-menu.component';\nimport { ActiveFilterService } from './filter/active-filter.service';\nimport { FilterMenuFeatureModule } from '../../filter/feature/filter-menu.feature-module';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\n\t\tFilterMenuFeatureModule,\n\n\t\tFabricButtonModule\n\n\t],\n\tdeclarations: [\n\t\tActiveFilterMenuTriggerDirective,\n\t\tActiveFilterMenuComponent\n\t],\n\texports: [\n\t\tActiveFilterMenuTriggerDirective\n\t],\n\tproviders: [\n\t\tActiveFilterService\n\t],\n\tentryComponents: [\n\t\tActiveFilterMenuComponent\n\t]\n})\nexport class SourceCounterFeatureModule extends FeatureModule {\n\n\tstatic forComponent(): Array<Provider> {\n\t\treturn [];\n\t}\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { FabricModule } from '@generic-ui/fabric';\n\nimport { NumberFormatterModule } from '../../../../../common/cdk/number-formatter/number-formatter.module';\nimport { StructureInfoPanelComponent } from './structure.info-panel.component';\nimport { StructureInfoModalComponent } from './info-modal/structure-info-modal.component';\nimport { StructureColumnManagerModule } from '../../column-manager/structure.column-manager.module';\nimport { StructureInfoIconComponent } from './icon/structure.info-icon.component';\nimport { StructureInfoPanelConfigConverter } from './structure.info-panel.config-converter';\nimport { StructureSchemaManagerModule } from '../../../../../schema/feature/manager/structure.schema-manager.module';\nimport { SourceCounterFeatureModule } from '../../../../../structure/source-counter/feature/source-counter.feature-module';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tNumberFormatterModule,\n\t\tFabricModule,\n\t\tStructureColumnManagerModule,\n\t\tStructureSchemaManagerModule,\n\t\tSourceCounterFeatureModule\n\t],\n\tdeclarations: [\n\t\tStructureInfoPanelComponent,\n\t\tStructureInfoModalComponent,\n\t\tStructureInfoIconComponent\n\t],\n\texports: [\n\t\tStructureInfoModalComponent,\n\t\tStructureInfoPanelComponent\n\t],\n\tentryComponents: [\n\t\tStructureInfoModalComponent\n\t],\n\tproviders: [\n\t\tStructureInfoPanelConfigConverter\n\t]\n})\nexport class StructureInfoPanelModule {\n\n}\n","import { Component, TemplateRef, ViewChild } from '@angular/core';\n\nimport { CellView } from '../../../domain/column/cell-view';\nimport { TemplatesComponent } from '../template/templates.component';\n\n\n@Component({\n\ttemplate: `\n\n\t\t<ng-template #text let-element=\"element\">\n\t\t\t<gui-view-text [value]=\"element\"></gui-view-text>\n\t\t</ng-template>\n\n\t\t<ng-template #number let-element=\"element\">\n\t\t\t<span class=\"gui-cell-number\">\n\t\t\t\t{{ element.value }}\n\t\t\t</span>\n\t\t</ng-template>\n\n\t\t<ng-template #chip let-element=\"element\">\n\t\t\t<gui-chip>\n\t\t\t\t<gui-view-text [value]=\"element\"></gui-view-text>\n\t\t\t</gui-chip>\n\t\t</ng-template>\n\n\t\t<ng-template #link let-element=\"element\">\n\t\t\t<a gui-button link=\"true\" href=\"{{ element.value }}\">\n\t\t\t\t<gui-view-text [value]=\"element\"></gui-view-text>\n\t\t\t</a>\n\t\t</ng-template>\n\n\t\t<ng-template #image let-element=\"element\">\n\t\t\t<img src=\"{{ element.value }}\"/>\n\t\t</ng-template>\n\n\t\t<ng-template #checkbox let-element=\"element\">\n\t\t\t<span class=\"gui-cell-boolean\">\n\t\t\t\t<gui-checkbox [checked]=\"!!element.value\" [disabled]=\"true\"></gui-checkbox>\n\t\t\t</span>\n\t\t</ng-template>\n\n\t\t<ng-template #bold let-element=\"element\">\n\t\t\t<gui-view-text bold [value]=\"element\"></gui-view-text>\n\t\t</ng-template>\n\n\t\t<ng-template #italic let-element=\"element\">\n\t\t\t<gui-view-text italic [value]=\"element\"></gui-view-text>\n\t\t</ng-template>\n\n\t\t<ng-template #custom let-element=\"element\">\n\t\t\t{{ element.value }}\n\t\t</ng-template>\n\n\t\t<ng-template #function let-element=\"element\">\n\t\t\t<gui-function-view [element]=\"element\"></gui-function-view>\n\t\t</ng-template>\n\n\t\t<ng-template #date let-element=\"element\">\n\t\t\t<span class=\"gui-view-text\">{{ element.value | date: 'dd/MM/yyyy' }}</span>\n\t\t</ng-template>\n\n\t\t<ng-template #bar let-element=\"element\">\n\t\t\t<gui-bar-view [value]=\"element.value\" [showPercentage]=\"false\"></gui-bar-view>\n\t\t</ng-template>\n\n\t\t<ng-template #percentageBar let-element=\"element\">\n\t\t\t<gui-bar-view [value]=\"element.value\" [showPercentage]=\"true\"></gui-bar-view>\n\t\t</ng-template>\n\n\t\t<ng-template #percentage let-element=\"element\">\n\t\t\t<gui-percentage-view [value]=\"element.value\"></gui-percentage-view>\n\t\t</ng-template>\n\n\t`\n})\nexport class ViewTemplatesComponent implements TemplatesComponent {\n\n\t@ViewChild('text', { read: TemplateRef, static: true })\n\ttextTemplate: TemplateRef<any>;\n\n\t@ViewChild('number', { read: TemplateRef, static: true })\n\tnumberTemplate: TemplateRef<any>;\n\n\t@ViewChild('chip', { read: TemplateRef, static: true })\n\tchipTemplate: TemplateRef<any>;\n\n\t@ViewChild('link', { read: TemplateRef, static: true })\n\tlinkTemplate: TemplateRef<any>;\n\n\t@ViewChild('image', { read: TemplateRef, static: true })\n\timageTemplate: TemplateRef<any>;\n\n\t@ViewChild('checkbox', { read: TemplateRef, static: true })\n\tcheckboxTemplate: TemplateRef<any>;\n\n\t@ViewChild('bold', { read: TemplateRef, static: true })\n\tboldTemplate: TemplateRef<any>;\n\n\t@ViewChild('italic', { read: TemplateRef, static: true })\n\titalicTemplate: TemplateRef<any>;\n\n\t@ViewChild('custom', { read: TemplateRef, static: true })\n\tcustomTemplate: TemplateRef<any>;\n\n\t@ViewChild('function', { read: TemplateRef, static: true })\n\tfunctionTemplate: TemplateRef<any>;\n\n\t@ViewChild('date', { read: TemplateRef, static: true })\n\tdateTemplate: TemplateRef<any>;\n\n\t@ViewChild('bar', { read: TemplateRef, static: true })\n\tbarTemplate: TemplateRef<any>;\n\n\t@ViewChild('percentageBar', { read: TemplateRef, static: true })\n\tpercentageBarTemplate: TemplateRef<any>;\n\n\t@ViewChild('percentage', { read: TemplateRef, static: true })\n\tpercentageTemplate: TemplateRef<any>;\n\n\tgetTemplate(view: CellView): TemplateRef<any> {\n\n\t\tswitch (view) {\n\n\t\t\tcase CellView.TEXT:\n\t\t\t\treturn this.textTemplate;\n\n\t\t\tcase CellView.NUMBER:\n\t\t\t\treturn this.numberTemplate;\n\n\t\t\tcase CellView.CHIP:\n\t\t\t\treturn this.chipTemplate;\n\n\t\t\tcase CellView.LINK:\n\t\t\t\treturn this.linkTemplate;\n\n\t\t\tcase CellView.IMAGE:\n\t\t\t\treturn this.imageTemplate;\n\n\t\t\tcase CellView.CHECKBOX:\n\t\t\t\treturn this.checkboxTemplate;\n\n\t\t\tcase CellView.BOLD:\n\t\t\t\treturn this.boldTemplate;\n\n\t\t\tcase CellView.ITALIC:\n\t\t\t\treturn this.italicTemplate;\n\n\t\t\tcase CellView.CUSTOM:\n\t\t\t\treturn this.customTemplate;\n\n\t\t\tcase CellView.FUNCTION:\n\t\t\t\treturn this.functionTemplate;\n\n\t\t\tcase CellView.DATE:\n\t\t\t\treturn this.dateTemplate;\n\n\t\t\tcase CellView.BAR:\n\t\t\t\treturn this.barTemplate;\n\n\t\t\tcase CellView.PERCENTAGE_BAR:\n\t\t\t\treturn this.percentageBarTemplate;\n\n\t\t\tcase CellView.PERCENTAGE:\n\t\t\t\treturn this.percentageTemplate;\n\n\t\t\tdefault:\n\t\t\t\treturn this.textTemplate;\n\t\t}\n\t}\n\n}\n","import { Observable, ReplaySubject } from 'rxjs';\n\nexport class ChangedValueEmitter<T> {\n\n\tprivate subject$ = new ReplaySubject<T>(1);\n\n\tconstructor() {\n\t}\n\n\temit(value: T): void {\n\t\tthis.subject$.next(value);\n\t}\n\n\ton(): Observable<T> {\n\t\treturn this.subject$.asObservable();\n\t}\n}\n","export enum EditEventType {\n\tSUBMIT,\n\tBLUR,\n\tCANCEL\n}\n","import { ElementRef, Input } from '@angular/core';\n\nimport { SmartComponent } from '../../../../../common/cdk/smart-component';\n\nimport { ChangedValueEmitter } from './changed-value.emitter';\nimport { EditEventType } from './state/edit.event-type';\n\n\nexport abstract class EditCommunicationComponent<T> extends SmartComponent {\n\n\t@Input()\n\tvalue: T;\n\n\t@Input()\n\tvalueChanges: ChangedValueEmitter<T>;\n\n\t@Input()\n\tstatus: ChangedValueEmitter<EditEventType>;\n\n\t@Input()\n\tfocus: boolean;\n\n\t@Input()\n\tparent: ElementRef;\n\n\tprotected readonly ENTER_KEY_CODE = 13;\n\n\tprotected readonly ESC_KEY_CODE = 27;\n\n\tsubmit(): void {\n\t\tthis.emitStatus(EditEventType.SUBMIT);\n\t}\n\n\tcancel(): void {\n\t\tthis.emitStatus(EditEventType.CANCEL);\n\t}\n\n\tprivate emitStatus(status: EditEventType): void {\n\t\tif (this.status) {\n\t\t\tthis.status.emit(status);\n\t\t}\n\t}\n\n}\n","import { ElementRef, SimpleChanges, ViewChild } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { fromEvent } from 'rxjs';\nimport { filter } from 'rxjs/operators';\n\nimport { EditCommunicationComponent } from '../edit-communication.component';\n\n\nexport abstract class InputEditTemplateComponent<T> extends EditCommunicationComponent<T> {\n\n\t@ViewChild('input', { static: true })\n\tinputRef: ElementRef;\n\n\tfilterForm: FormGroup;\n\n\treadonly filterFieldName = 'phrase';\n\n\tprotected constructor(private formBuilder: FormBuilder) {\n\t\tsuper();\n\t\tthis.filterForm = this.formBuilder.group({\n\t\t\t[this.filterFieldName]: ['']\n\t\t});\n\t}\n\n\tngOnChanges(changes: SimpleChanges) {\n\t\tif (changes.value !== undefined) {\n\t\t\tthis.filterForm.get(this.filterFieldName).setValue(this.value);\n\t\t}\n\t}\n\n\tngOnInit() {\n\t\tthis.observeChanges();\n\t}\n\n\tngAfterViewInit() {\n\t\tconst inputElement = this.inputRef.nativeElement;\n\n\t\tthis.focusField(inputElement);\n\n\t\tthis.emitValueChange(inputElement.value);\n\n\t\tfromEvent(inputElement, 'blur')\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe(() => {\n\t\t\t\tthis.unsubscribe();\n\t\t\t\tthis.submit();\n\t\t\t});\n\n\t\tconst keyup$ = fromEvent(inputElement, 'keyup');\n\n\t\tkeyup$\n\t\t\t.pipe(\n\t\t\t\tfilter((e: any) => e.keyCode === this.ENTER_KEY_CODE),\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe(() => {\n\t\t\t\tthis.unsubscribe();\n\t\t\t\tthis.submit();\n\t\t\t});\n\n\t\tkeyup$\n\t\t\t.pipe(\n\t\t\t\tfilter((e: any) => e.keyCode === this.ESC_KEY_CODE),\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe(() => {\n\t\t\t\tthis.unsubscribe();\n\t\t\t\tthis.cancel();\n\t\t\t});\n\t}\n\n\tfocusField(inputElement: HTMLElement): void {\n\t\tif (this.focus) {\n\t\t\tinputElement.focus();\n\t\t}\n\t}\n\n\tprivate observeChanges() {\n\t\tthis.filterForm\n\t\t\t.controls[this.filterFieldName]\n\t\t\t.valueChanges\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((value: string) => {\n\t\t\t\tthis.emitValueChange(value);\n\t\t\t});\n\t}\n\n\tprivate emitValueChange(value: any): void {\n\t\tif (this.valueChanges) {\n\t\t\tthis.valueChanges.emit(value);\n\t\t}\n\t}\n}\n","import { ChangeDetectionStrategy, Component, ViewEncapsulation } from '@angular/core';\nimport { FormBuilder } from '@angular/forms';\nimport { InputEditTemplateComponent } from './input-edit-template.component';\n\n\n@Component({\n\tselector: 'gui-number-edit',\n\ttemplate: `\n\n\t\t<form [formGroup]=\"filterForm\" >\n\t\t\t<input #input [formControlName]=\"filterFieldName\" type=\"number\" class=\"gui-input\" />\n\t\t</form>\n\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class NumberEditTemplateComponent extends InputEditTemplateComponent<number> {\n\n\tconstructor(fb: FormBuilder) {\n\t\tsuper(fb);\n\t}\n}\n","/**\n * Override decorator\n *\n * class Car {\n *     drive() {}\n * }\n *\n * class FastCar {\n *     @Override\n *     drive() {}}\n * }\n */\nexport function Override(container: { [key: string]: any }, key: string) {\n\tconst basePrototype = Object.getPrototypeOf(container);\n\tif (typeof basePrototype[key] !== 'function') {\n\t\tthrow new Error('Method \"' + key + '\" of class \"' + container.constructor.name + '\" doesn\\'t override any method of base class.');\n\t}\n};\n","import { ChangeDetectionStrategy, Component, ViewEncapsulation } from '@angular/core';\nimport { FormBuilder } from '@angular/forms';\n\nimport { Override } from '../../../../../../common/cdk/decorators';\n\nimport { InputEditTemplateComponent } from './input-edit-template.component';\n\n\n@Component({\n\tselector: 'gui-string-edit',\n\ttemplate: `\n\n\t\t<form [formGroup]=\"filterForm\" >\n\t\t\t<input #input [formControlName]=\"filterFieldName\" type=\"type\" class=\"gui-input\" />\n\t\t</form>\n\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StringEditTemplateComponent extends InputEditTemplateComponent<string> {\n\n\tconstructor(fb: FormBuilder) {\n\t\tsuper(fb);\n\t}\n\n\t@Override\n\tfocusField(inputElement: any): void {\n\n\t\tif (this.focus) {\n\t\t\tinputElement.focus();\n\t\t\tinputElement.setSelectionRange(0, inputElement.value.length);\n\t\t}\n\t}\n}\n","import { Component, TemplateRef, ViewChild } from '@angular/core';\n\nimport { TemplatesComponent } from '../template/templates.component';\nimport { DataType } from '../../../../../structure/field/domain/core/field/data/data-type';\n\n\n@Component({\n\ttemplate: `\n\n\t\t<ng-template #string let-valueChanges=\"valueChanges\" let-value=\"value\" let-status=\"status\" let-focus=\"focus\" >\n\t\t\t<gui-string-edit [valueChanges]=\"valueChanges\" [value]=\"value\" [status]=\"status\" [focus]=\"focus\">\n\t\t\t</gui-string-edit>\n\t\t</ng-template>\n\n\t\t<ng-template #number let-valueChanges=\"valueChanges\" let-value=\"value\" let-status=\"status\" let-focus=\"focus\" >\n\t\t\t<gui-number-edit [valueChanges]=\"valueChanges\" [value]=\"value\" [status]=\"status\" [focus]=\"focus\">\n\t\t\t</gui-number-edit>\n\t\t</ng-template>\n\n\t\t<ng-template #boolean let-valueChanges=\"valueChanges\" let-value=\"value\" let-status=\"status\" let-focus=\"focus\" >\n\t\t\t<gui-boolean-edit [valueChanges]=\"valueChanges\" [value]=\"value\" [status]=\"status\" [focus]=\"focus\">\n\t\t\t</gui-boolean-edit>\n\t\t</ng-template>\n\n\t\t<ng-template #date let-valueChanges=\"valueChanges\" let-value=\"value\" let-status=\"status\" let-focus=\"focus\" let-parent=\"parent\" >\n\t\t\t<gui-date-edit [valueChanges]=\"valueChanges\" [value]=\"value\" [status]=\"status\" [focus]=\"focus\" [parent]=\"parent\" >\n\t\t\t</gui-date-edit>\n\t\t</ng-template>\n\n\t\t<ng-template #empty>\n\n\t\t</ng-template>\n\n\t`\n})\nexport class EditTemplatesComponent implements TemplatesComponent {\n\n\t@ViewChild('string', { read: TemplateRef, static: true })\n\tstringTemplate: TemplateRef<any>;\n\n\t@ViewChild('number', { read: TemplateRef, static: true })\n\tnumberTemplate: TemplateRef<any>;\n\n\t@ViewChild('boolean', { read: TemplateRef, static: true })\n\tbooleanTemplate: TemplateRef<any>;\n\n\t@ViewChild('date', { read: TemplateRef, static: true })\n\tdateTemplate: TemplateRef<any>;\n\n\t@ViewChild('empty', { read: TemplateRef, static: true })\n\temptyTemplate: TemplateRef<any>;\n\n\tgetTemplate(dataType: DataType): TemplateRef<any> {\n\n\t\tswitch (dataType) {\n\n\t\t\tcase DataType.STRING:\n\t\t\t\treturn this.stringTemplate;\n\n\t\t\tcase DataType.NUMBER:\n\t\t\t\treturn this.numberTemplate;\n\n\t\t\tcase DataType.BOOLEAN:\n\t\t\t\treturn this.booleanTemplate;\n\n\t\t\tcase DataType.DATE:\n\t\t\t\treturn this.dateTemplate;\n\n\t\t\tdefault:\n\t\t\t\treturn this.emptyTemplate;\n\t\t}\n\t}\n\n}\n","import { ChangeDetectionStrategy, Component, ElementRef, ViewChild, ViewEncapsulation } from '@angular/core';\n\nimport { EditCommunicationComponent } from '../edit-communication.component';\n\n\n@Component({\n\tselector: 'gui-boolean-edit',\n\ttemplate: `\n\n\t\t<span class=\"gui-cell-boolean\">\n\t\t\t<gui-checkbox #checkbox\n\t\t\t\t\t\t  [checked]=\"value\"\n\t\t\t\t\t\t  [name]=\"filterFieldName\"\n\t\t\t\t\t\t  (changed)=\"toggle($event)\">\n\t\t\t</gui-checkbox>\n\t\t</span>\n\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class BooleanEditTemplateComponent extends EditCommunicationComponent<boolean> {\n\n\t@ViewChild('checkbox', { read: ElementRef, static: true })\n\tcheckboxRef: ElementRef;\n\n\treadonly filterFieldName = 'booleanEdit';\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\ttoggle(changed: boolean): void {\n\t\tthis.valueChanges.emit(changed);\n\t\tthis.submit();\n\t}\n\n}\n","import { Component, ContentChild, Input, TemplateRef } from '@angular/core';\n\n\n@Component({\n\tselector: 'gui-column',\n\ttemplate: ''\n})\nexport class ColumnQueryComponent {\n\n\t@ContentChild(TemplateRef, { static: false })\n\tcellTemplate: TemplateRef<any>;\n\n\theaderTemplate: TemplateRef<any>;\n\n\t@Input()\n\theader: string;\n\n}\n","export enum CellValueType {\n\tTEXT,\n\tHTML\n}\n\nexport class CellValue {\n\n\tconstructor(public value: any,\n\t\t\t\tpublic readonly type: CellValueType) {\n\t}\n\n\tstatic text(value: any): CellValue {\n\t\treturn new CellValue(value, CellValueType.TEXT);\n\t}\n\n\tstatic HTML(value: any): CellValue {\n\t\treturn new CellValue(value, CellValueType.HTML);\n\t}\n\n}\n","import { ChangeDetectionStrategy, Component, Input, ViewEncapsulation } from '@angular/core';\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\nimport { CellValue } from '../../definition/cell-value';\n\n\n@Component({\n\tselector: 'gui-function-view',\n\ttemplate: `\n\n\t\t<div [innerHTML]=\"safeHTML\"></div>\n\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class FunctionViewComponent {\n\n\t@Input()\n\telement: CellValue;\n\n\tsafeHTML: SafeHtml;\n\n\tconstructor(private sanitizer: DomSanitizer) {\n\t}\n\n\tngOnChanges() {\n\t\tthis.safeHTML = this.sanitizer.bypassSecurityTrustHtml(this.element.value);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { InMemoryStore } from '@generic-ui/hermes';\n\nimport { CompositionAggregate } from '../../domain/composition.aggregate';\nimport { CompositionId } from '../../domain/composition.id';\n\n\n@Injectable()\nexport class InMemoryCompositionStore extends InMemoryStore<CompositionId, CompositionAggregate> {\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateStoreRegister, InMemoryAggregateStore } from '@generic-ui/hermes';\n\nimport { CompositionAggregate } from '../../../domain/composition.aggregate';\n\nimport { InMemoryCompositionStore } from '../in-memory.composition.store';\nimport { CompositionId } from '../../../domain/composition.id';\n\n\n@Injectable()\nexport class InMemoryCompositionAggregateStore extends InMemoryAggregateStore<CompositionId, CompositionAggregate> {\n\n\tconstructor(inMemoryCompositionStore: InMemoryCompositionStore,\n\t\t\t\taggregateStoreRegister: AggregateStoreRegister) {\n\t\tsuper(inMemoryCompositionStore, aggregateStoreRegister);\n\t}\n\n}\n","import { AggregateRepository, Optional } from '@generic-ui/hermes';\n\nimport { CompositionId } from './composition.id';\nimport { CompositionAggregate } from './composition.aggregate';\n\n\nexport abstract class CompositionAggregateRepository extends AggregateRepository<CompositionId, CompositionAggregate> {\n\n\tabstract getById(compositionId: CompositionId): Optional<CompositionAggregate>;\n\n\tabstract save(aggregate: CompositionAggregate): void;\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateId, Optional } from '@generic-ui/hermes';\n\nimport { CompositionAggregateRepository } from '../../../domain/composition.aggregate-repository';\nimport { InMemoryCompositionAggregateStore } from './in-memory.composition.aggregate-store';\nimport { CompositionAggregate } from '../../../domain/composition.aggregate';\n\n\n@Injectable()\nexport class InMemoryCompositionAggregateRepository extends CompositionAggregateRepository {\n\n\tconstructor(private inMemoryCompositionAggregateStore: InMemoryCompositionAggregateStore) {\n\t\tsuper();\n\t}\n\n\tgetById(aggregateId: AggregateId): Optional<CompositionAggregate> {\n\t\treturn this.inMemoryCompositionAggregateStore.getById(aggregateId);\n\t}\n\n\tsave(aggregate: CompositionAggregate): void {\n\t\tthis.inMemoryCompositionAggregateStore.save(aggregate);\n\t}\n\n}\n","import { ComponentFactoryResolver, ComponentRef, Injector, TemplateRef, Type } from '@angular/core';\nimport { TemplatesComponent } from './templates.component';\nimport { DataType } from '../../../../../structure/field/domain/core/field/data/data-type';\nimport { CellView } from '../../../domain/column/cell-view';\n\n\nexport abstract class TemplateFactory<T extends TemplatesComponent> {\n\n\tprivate templates: Map<DataType | CellView, TemplateRef<any>> = new Map<DataType | CellView, TemplateRef<any>>();\n\n\tprivate templatesComponent: ComponentRef<T> = null;\n\n\tprotected constructor(private readonly templatesComponentDefinition: Type<T>,\n\t\t\t\t\t\t  private readonly componentFactoryResolver: ComponentFactoryResolver) {\n\t\tthis.createTemplatesComponent();\n\t}\n\n\tabstract generateMapKeys(): Array<DataType | CellView>;\n\n\tgetTemplates(): Map<DataType | CellView, TemplateRef<any>> {\n\t\treturn this.templates;\n\t}\n\n\tdestroy(): void {\n\t\tif (this.templatesComponent) {\n\t\t\tthis.templatesComponent.destroy();\n\t\t\tthis.templatesComponent = null;\n\t\t}\n\t}\n\n\tprivate createTemplatesComponent(): void {\n\n\t\tconst componentFactory = this.componentFactoryResolver.resolveComponentFactory(this.templatesComponentDefinition);\n\n\t\tconst injector: Injector = Injector.create({ providers: [] });\n\n\t\tthis.templatesComponent = componentFactory.create(injector);\n\n\t\tthis.generateMap();\n\t}\n\n\tprivate generateMap(): void {\n\t\tthis.generateMapKeys()\n\t\t\t.forEach((type: DataType | CellView) => {\n\t\t\t\tthis.findAndSetTemplate(type);\n\t\t\t});\n\t};\n\n\tprivate findAndSetTemplate(dt: DataType | CellView): void {\n\n\t\tconst template = this.templatesComponent.instance.getTemplate(dt);\n\n\t\tthis.templates.set(dt, template);\n\t}\n\n}\n","import { ComponentFactoryResolver, Injectable } from '@angular/core';\n\nimport { ViewTemplatesComponent } from './view-templates.component';\nimport { CellView } from '../../../domain/column/cell-view';\nimport { TemplateFactory } from '../template/template.factory';\n\n\n@Injectable()\nexport class ViewTemplateFactory extends TemplateFactory<ViewTemplatesComponent> {\n\n\tconstructor(componentFactoryResolver: ComponentFactoryResolver) {\n\t\tsuper(\n\t\t\tViewTemplatesComponent,\n\t\t\tcomponentFactoryResolver\n\t\t);\n\t}\n\n\tgenerateMapKeys(): Array<CellView> {\n\t\treturn Object.keys(CellView)\n\t\t\t\t\t .map(key => CellView[key]);\n\t}\n}\n","import { Injectable, TemplateRef } from '@angular/core';\nimport { ViewTemplateFactory } from './view-template.factory';\nimport { CellView } from '../../../domain/column/cell-view';\n\n\n@Injectable()\nexport class ViewTemplateRepository {\n\n\tconstructor(private columnTemplateFactory: ViewTemplateFactory) {\n\t}\n\n\tfindTemplate(view: CellView): TemplateRef<any> {\n\t\tconst typeToTemplate = this.columnTemplateFactory.getTemplates();\n\n\t\treturn typeToTemplate.get(view);\n\t}\n\n}\n","import { ComponentFactoryResolver, Injectable } from '@angular/core';\nimport { TemplateFactory } from '../template/template.factory';\nimport { EditTemplatesComponent } from './edit-templates.component';\nimport { DataType } from '../../../../../structure/field/domain/core/field/data/data-type';\n\n\n@Injectable()\nexport class EditTemplateFactory extends TemplateFactory<EditTemplatesComponent> {\n\n\tconstructor(componentFactoryResolver: ComponentFactoryResolver) {\n\t\tsuper(\n\t\t\tEditTemplatesComponent,\n\t\t\tcomponentFactoryResolver\n\t\t);\n\t}\n\n\tgenerateMapKeys(): Array<DataType> {\n\t\treturn Object.keys(DataType)\n\t\t\t\t\t .map(key => DataType[key]);\n\t}\n}\n","import { Injectable, TemplateRef } from '@angular/core';\nimport { EditTemplateFactory } from './edit-template.factory';\nimport { DataType } from '../../../../../structure/field/domain/core/field/data/data-type';\n\n\n@Injectable()\nexport class EditTemplateRepository {\n\n\tconstructor(private editTemplateFactory: EditTemplateFactory) {\n\t}\n\n\tfindTemplate(dataType: DataType): TemplateRef<any> {\n\t\tconst typeToTemplate = this.editTemplateFactory.getTemplates();\n\n\t\treturn typeToTemplate.get(dataType);\n\t}\n\n}\n","export enum SortOrder {\n\tASC,\n\tDESC,\n\tNONE\n}\n","import { CellView } from './cell-view';\nimport { DataType } from '../../../../structure/field/domain/core/field/data/data-type';\n\nexport class ViewEntity {\n\n\tpublic static fromDataType(dataType: DataType): ViewEntity {\n\n\t\tif (dataType === DataType.DATE) {\n\t\t\treturn new ViewEntity(CellView.DATE);\n\t\t} else {\n\t\t\treturn new ViewEntity(CellView.TEXT);\n\t\t}\n\n\t}\n\n\tprivate readonly view: CellView;\n\n\tprivate readonly templateFunction?: (entity: any) => string = (cellValue: any) => cellValue;\n\n\tconstructor(cellView: CellView | any) {\n\n\t\tif (typeof cellView === 'function') {\n\t\t\tthis.view = CellView.FUNCTION;\n\t\t\tthis.templateFunction = cellView;\n\t\t} else {\n\t\t\tthis.view = cellView;\n\t\t}\n\t}\n\n\tgetCellView(): CellView {\n\t\treturn this.view;\n\t}\n\n\tgetTemplateFunction(): any {\n\t\treturn this.templateFunction;\n\t}\n\n}\n","import { Entity } from '@generic-ui/hermes';\n\nimport { ColumnId } from './column.id';\nimport { ColumnField } from './field/column-field';\nimport { ColumnConfig, HeaderTemplate } from './column.config';\nimport { ColumnAlign } from './column-align';\nimport { ViewEntity } from './view.entity';\nimport { DataType } from '../../../../structure/field/domain/core/field/data/data-type';\nimport { CellView } from './cell-view';\nimport { ColumnPresentation } from './presentation/column.presentation';\n\nexport abstract class AbstractColumnEntity extends Entity<ColumnId> {\n\n\tprivate columnField: ColumnField;\n\n\tprivate header?: string | HeaderTemplate;\n\n\tprivate width?: number;\n\n\tprotected align: ColumnAlign;\n\n\tprivate columnConfig: ColumnConfig;\n\n\tprotected view: ViewEntity;\n\n\tprotected presentation: ColumnPresentation;\n\n\tprotected constructor(columnId: ColumnId,\n\t\t\t\t\t\t  columnField: ColumnField,\n\t\t\t\t\t\t  columnConfig: ColumnConfig,\n\t\t\t\t\t\t  presentation: ColumnPresentation,\n\t\t\t\t\t\t  header?: string | HeaderTemplate,\n\t\t\t\t\t\t  align?: ColumnAlign,\n\t\t\t\t\t\t  view?: ViewEntity,\n\t\t\t\t\t\t  width?: number) {\n\t\tsuper(columnId);\n\t\tthis.columnField = columnField;\n\t\tthis.columnConfig = columnConfig;\n\t\tthis.presentation = presentation;\n\n\t\tthis.view = ViewEntity.fromDataType(columnField.getDataType());\n\n\t\tif (header) {\n\t\t\tthis.header = header;\n\t\t}\n\n\t\tif (view) {\n\t\t\tthis.view = view;\n\t\t}\n\n\t\tif (width) {\n\t\t\tthis.width = width;\n\t\t}\n\n\t\tthis.setInitialAlign(columnField, align);\n\t}\n\n\tgetPresentation(): ColumnPresentation {\n\t\treturn this.presentation;\n\t}\n\n\tgetColumnConfig(): ColumnConfig {\n\t\treturn this.columnConfig;\n\t}\n\n\tgetField(): ColumnField {\n\t\treturn this.columnField;\n\t}\n\n\tgetHeader(): string | HeaderTemplate {\n\t\treturn this.header;\n\t}\n\n\tgetDataType(): DataType {\n\t\treturn this.columnField.getDataType();\n\t}\n\n\tgetCellView(): CellView {\n\t\treturn this.view.getCellView();\n\t}\n\n\tgetTemplateFunction(): any {\n\t\treturn this.view.getTemplateFunction();\n\t}\n\n\tsetView(view: ViewEntity): void {\n\t\tthis.view = view;\n\t}\n\n\tsetHeader(header: string | HeaderTemplate): void {\n\t\tthis.header = header;\n\t}\n\n\tgetView(): ViewEntity {\n\t\treturn this.view;\n\t}\n\n\tgetAlign(): ColumnAlign {\n\t\treturn this.align;\n\t}\n\n\tsetWidth(width: number): void {\n\t\tthis.width = width;\n\t}\n\n\tgetWidth(): number {\n\t\treturn this.width;\n\t}\n\n\tgetSortingEnabled(): boolean {\n\t\tconst config = this.columnConfig;\n\n\t\tif (config.sorting !== undefined && config.sorting !== null) {\n\n\t\t\tif (config.sorting.enabled === undefined || config.sorting.enabled === null) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn config.sorting.enabled;\n\t\t}\n\t}\n\n\tisCellEditingEnabled(): boolean {\n\t\tconst config = this.columnConfig;\n\n\t\tif (config.cellEditing !== undefined && config.cellEditing !== null) {\n\n\t\t\tif (config.cellEditing.enabled === undefined || config.cellEditing.enabled === null) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn config.cellEditing.enabled;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tprivate setInitialAlign(columnField: ColumnField, align?: ColumnAlign): void {\n\n\t\tif (align !== undefined && align !== null) {\n\t\t\tthis.align = align;\n\t\t} else if (columnField.getDataType() === DataType.NUMBER) {\n\t\t\tthis.align = ColumnAlign.RIGHT;\n\t\t} else {\n\t\t\tthis.align = ColumnAlign.LEFT;\n\t\t}\n\t}\n\n}\n","import { ColumnId } from './column.id';\nimport { ColumnField } from './field/column-field';\nimport { ColumnConfig, HeaderTemplate } from './column.config';\nimport { SortOrder } from './sort/sort-order';\nimport { ViewEntity } from './view.entity';\nimport { ColumnAlign } from './column-align';\nimport { AbstractColumnEntity } from './abstract-column.entity';\nimport { ColumnPresentation } from './presentation/column.presentation';\n\n\nexport class ColumnEntity extends AbstractColumnEntity {\n\n\tsortable?: boolean;\n\n\tprivate sortStatus = SortOrder.NONE;\n\n\tprivate enabled: boolean = true;\n\n\tconstructor(columnId: ColumnId,\n\t\t\t\tcolumnField: ColumnField,\n\t\t\t\tcolumnConfig: ColumnConfig,\n\t\t\t\tenabled: boolean,\n\t\t\t\tpresentation: ColumnPresentation,\n\t\t\t\theader: string | HeaderTemplate,\n\t\t\t\talign: ColumnAlign,\n\t\t\t\tview: ViewEntity,\n\t\t\t\twidth: number) {\n\t\tsuper(\n\t\t\tcolumnId,\n\t\t\tcolumnField,\n\t\t\tcolumnConfig,\n\t\t\tpresentation,\n\t\t\theader,\n\t\t\talign,\n\t\t\tview,\n\t\t\twidth\n\t\t);\n\n\t\tthis.enabled = enabled;\n\n\t\tif (view === undefined) {\n\t\t\tthis.view = new ViewEntity(this.presentation.getDefaultView());\n\t\t}\n\n\t\tif (align === undefined) {\n\t\t\tthis.align = this.presentation.getDefaultAlign(this.view);\n\t\t}\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n\tsetEnabled(enabled: boolean): void {\n\t\tthis.enabled = enabled;\n\t}\n\n\tgetSortStatus(): SortOrder {\n\t\treturn this.sortStatus;\n\t}\n\n\tsetSortStatus(status: SortOrder): void {\n\t\tthis.sortStatus = status;\n\t}\n\n}\n","import { TemplateRef } from '@angular/core';\n\nimport { CellContext } from './cell-context';\nimport { FieldId } from '../../../../../structure/field/domain/core/field/field.id';\nimport { SortOrder } from '../../../domain/column/sort/sort-order';\nimport { ColumnAlign } from '../../../domain/column/column-align';\nimport { ColumnDefinitionId } from './column-definition-id';\n\n// Basically header template\nexport class CellTemplateWithContext {\n\n\tconstructor(public viewTemplate: TemplateRef<any>,\n\t\t\t\tpublic editTemplate: TemplateRef<any>,\n\t\t\t\t// public editContext: any,\n\t\t\t\tpublic context: CellContext,\n\t\t\t\tpublic width: number,\n\t\t\t\tprivate readonly fieldId: FieldId,\n\t\t\t\tprivate readonly columnDefinitionId: ColumnDefinitionId,\n\t\t\t\tprivate readonly sortStatus: SortOrder,\n\t\t\t\tprivate readonly enabled: boolean,\n\t\t\t\tprivate readonly sortable: boolean,\n\t\t\t\tprivate readonly align: ColumnAlign) {\n\t}\n\n\tgetColumnDefinitionId(): ColumnDefinitionId {\n\t\treturn this.columnDefinitionId;\n\t}\n\n\tgetFieldId(): FieldId {\n\t\treturn this.fieldId;\n\t}\n\n\tgetSortStatus(): SortOrder {\n\t\treturn this.sortStatus;\n\t}\n\n\tisSortEnabled(): boolean {\n\t\treturn this.sortable;\n\t}\n\n\tisAscSort(): boolean {\n\t\treturn this.sortStatus === SortOrder.ASC;\n\t}\n\n\tisDescSort(): boolean {\n\t\treturn this.sortStatus === SortOrder.DESC;\n\t}\n\n\tisNoSort(): boolean {\n\t\treturn this.sortStatus === SortOrder.NONE;\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n\tisAlignLeft(): boolean {\n\t\treturn this.align === ColumnAlign.LEFT;\n\t}\n\n\tisAlignCenter(): boolean {\n\t\treturn this.align === ColumnAlign.CENTER;\n\t}\n\n\tisAlignRight(): boolean {\n\t\treturn this.align === ColumnAlign.RIGHT;\n\t}\n\n}\n","import { CellValue } from './cell-value';\n\nexport class CellContext {\n\n\tconstructor(public element: CellValue) {\n\t}\n}\n","import { Key } from '@generic-ui/hermes';\n\nexport class FieldId implements Key {\n\n\tprivate readonly id: string;\n\n\tconstructor(id: string) {\n\t\tthis.id = id;\n\t}\n\n\tgetId(): string {\n\t\treturn this.id;\n\t}\n\n\tequals(fieldId: FieldId): boolean {\n\t\treturn fieldId.toString() === this.id;\n\t}\n\n\ttoString(): string {\n\t\treturn this.id;\n\t}\n\n}\n","import { TemplateRef } from '@angular/core';\n\nimport { ColumnFieldId } from '../../../domain/column/field/column-field.id';\nimport { ItemEntity } from '../../../../../structure/source/domain/core/item/item.entity';\nimport { DataType } from '../../../../../structure/field/domain/core/field/data/data-type';\nimport { ViewEntity } from '../../../domain/column/view.entity';\nimport { CellView } from '../../../domain/column/cell-view';\nimport { ColumnAlign } from '../../../domain/column/column-align';\nimport { CellValue } from './cell-value';\n\n\nexport class CellTemplateWithAccessor {\n\n\tconstructor(public template: TemplateRef<any>,\n\t\t\t\tpublic editTemplate: TemplateRef<any>,\n\t\t\t\tpublic editable: boolean,\n\t\t\t\tpublic templateFun: (i: any) => any,\n\t\t\t\tpublic accessor: (element: any) => any,\n\t\t\t\tpublic searchAccessor: (element: any) => any,\n\t\t\t\tpublic width: number,\n\t\t\t\tpublic columnFieldId: ColumnFieldId,\n\t\t\t\tprivate readonly align: ColumnAlign,\n\t\t\t\tprivate readonly cellEditingEnabled: boolean,\n\t\t\t\tprivate readonly type: DataType, // REFACTOR\n\t\t\t\tprivate readonly view: ViewEntity) { // REFACTOR\n\t}\n\n\tisCellEditingEnabled(): boolean {\n\t\treturn this.cellEditingEnabled;\n\t}\n\n\tisBooleanDataType(): boolean {\n\t\treturn this.type === DataType.BOOLEAN;\n\t}\n\n\tisAlignLeft(): boolean {\n\t\treturn this.align === ColumnAlign.LEFT;\n\t}\n\n\tisAlignCenter(): boolean {\n\t\treturn this.align === ColumnAlign.CENTER;\n\t}\n\n\tisAlignRight(): boolean {\n\t\treturn this.align === ColumnAlign.RIGHT;\n\t}\n\n\t// REFACTOR #1581\n\tgetValue(entity: ItemEntity, searchPhrase?: string): CellValue {\n\n\t\tconst cellValue = this.findValue(entity, searchPhrase);\n\n\t\tcellValue.value = this.templateFun(cellValue.value);\n\n\t\treturn cellValue;\n\t}\n\n\tprivate findValue(entity: ItemEntity, searchPhrase?: string): CellValue {\n\t\tconst value = this.accessor(entity);\n\n\t\tif (this.type !== DataType.STRING) {\n\t\t\treturn CellValue.text(value);\n\t\t}\n\n\t\tif (this.view && this.view.getCellView() === CellView.FUNCTION) {\n\t\t\treturn CellValue.text(value);\n\t\t}\n\n\t\tif (searchPhrase) {\n\n\t\t\tlet txt: string = '' + this.searchAccessor(entity),\n\t\t\t\tlowerCasedText: string = txt.toLocaleLowerCase(),\n\t\t\t\tloweredSearchPhrase = searchPhrase.toLocaleLowerCase();\n\n\t\t\tlet positions: Array<number> = [];\n\n\t\t\tlet index = 0;\n\n\t\t\twhile (index < loweredSearchPhrase.length) {\n\n\t\t\t\tconst found = lowerCasedText.indexOf(loweredSearchPhrase, index);\n\n\t\t\t\tif (found >= 0) {\n\t\t\t\t\tpositions.push(found);\n\t\t\t\t\tindex = found + searchPhrase.length;\n\t\t\t\t\tcontinue;\n\t\t\t\t} else {\n\t\t\t\t\tindex = loweredSearchPhrase.length;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst arr = txt.split('');\n\n\t\t\tpositions.forEach((pos: number) => {\n\n\t\t\t\tfor (let i = 0; i < searchPhrase.length; i += 1) {\n\n\t\t\t\t\tlet ph;\n\n\t\t\t\t\tif (i === 0) {\n\t\t\t\t\t\tph = `<span class=\"gui-text-highlight\">${arr[pos + i]}`;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tph = arr[pos + i];\n\t\t\t\t\t}\n\n\t\t\t\t\tif (i === searchPhrase.length - 1) {\n\t\t\t\t\t\tph += `</span>`;\n\t\t\t\t\t}\n\n\t\t\t\t\tarr[pos + i] = ph;\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t\ttxt = arr.join('');\n\n\t\t\treturn CellValue.HTML(txt);\n\t\t} else {\n\t\t\treturn CellValue.text(value);\n\t\t}\n\t}\n\n}\n","import { TemplateRef } from '@angular/core';\n\nimport { ReadModelEntity } from '@generic-ui/hermes';\n\nimport { ColumnField } from '../../../domain/column/field/column-field';\nimport { SortOrder } from '../../../domain/column/sort/sort-order';\nimport { HeaderTemplate } from '../../../domain/column/column.config';\nimport { CellTemplateWithContext } from './cell-template-with-context';\nimport { CellContext } from './cell-context';\nimport { FieldId } from '../../../../../structure/field/domain/core/field/field.id';\nimport { CellTemplateWithAccessor } from './cell-template-with-accessor';\nimport { DataType } from '../../../../../structure/field/domain/core/field/data/data-type';\nimport { ViewEntity } from '../../../domain/column/view.entity';\nimport { ColumnAlign } from '../../../domain/column/column-align';\nimport { ColumnDefinitionId } from './column-definition-id';\nimport { CellValue } from './cell-value';\n\n\nexport class ColumnDefinition extends ReadModelEntity<ColumnDefinitionId> {\n\n\tcellTemplate: TemplateRef<any>;\n\n\theaderTemplate: TemplateRef<any>;\n\n\teditTemplate: TemplateRef<any>;\n\n\twidth: number;\n\n\tprivate templateFunction: (i: any) => string;\n\n\tprivate readonly columnDefinitionId: ColumnDefinitionId;\n\n\tprivate field: ColumnField;\n\n\tprivate sortStatus: SortOrder;\n\n\tprivate sortable: boolean = true;\n\n\tprivate header: string | HeaderTemplate;\n\n\tprivate enabled: boolean;\n\n\tprivate cellEditingEnabled: boolean;\n\n\tconstructor(field: ColumnField,\n\t\t\t\tcolumnDefinitionId: ColumnDefinitionId, // REFACTOR Id first argument\n\t\t\t\tenabled: boolean,\n\t\t\t\tprivate readonly type: DataType, // REFACTOR\n\t\t\t\tprivate readonly view: ViewEntity, // REFACTOR\n\t\t\t\tprivate readonly align: ColumnAlign, // REFACTOR\n\t\t\t\theader: string | HeaderTemplate,\n\t\t\t\tcellEditingEnabled: boolean,\n\t\t\t\tsort: SortOrder = SortOrder.NONE,\n\t\t\t\tsortable = true) {\n\t\tsuper(columnDefinitionId);\n\t\tthis.field = field;\n\t\tthis.columnDefinitionId = columnDefinitionId;\n\t\tthis.enabled = enabled;\n\t\tthis.header = header;\n\t\tthis.cellEditingEnabled = cellEditingEnabled;\n\t\tthis.sortStatus = sort;\n\t\tthis.sortable = sortable;\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n\tsetHeader(header: string): void {\n\t\tthis.header = header;\n\t}\n\n\tsetField(field: ColumnField): void {\n\t\tthis.field = field;\n\t}\n\n\tsetTemplateFunction(templateFun: (i: any) => string): void {\n\t\tthis.templateFunction = templateFun;\n\t}\n\n\tgetHeaderCellTemplateWithContext(index: number): CellTemplateWithContext {\n\n\t\tlet header: any = this.header || '',\n\t\t\theaderCellContext: CellContext;\n\n\t\tif (typeof header === 'string') {\n\t\t\theaderCellContext = new CellContext(CellValue.text(header));\n\t\t} else if (typeof header === 'function') {\n\t\t\theaderCellContext = new CellContext(CellValue.text(header(index)));\n\t\t}\n\n\t\tconst fieldId = new FieldId(this.field.getId().getId());\n\n\t\treturn new CellTemplateWithContext(\n\t\t\tthis.headerTemplate,\n\t\t\tthis.editTemplate,\n\t\t\theaderCellContext,\n\t\t\tthis.width,\n\t\t\tfieldId,\n\t\t\tthis.columnDefinitionId,\n\t\t\tthis.sortStatus,\n\t\t\tthis.enabled,\n\t\t\tthis.sortable,\n\t\t\tthis.align\n\t\t);\n\t}\n\n\tgetContentCellTemplateWithAccessor(): CellTemplateWithAccessor {\n\n\t\tconst accessor = (entity: any) => {\n\t\t\treturn this.field.getAccessor()(entity);\n\t\t}, searchAccessor = (entity: any) => {\n\t\t\treturn this.field.getSearchAccessor()(entity);\n\t\t};\n\n\t\treturn new CellTemplateWithAccessor(\n\t\t\tthis.cellTemplate,\n\t\t\tthis.editTemplate,\n\t\t\ttrue,\n\t\t\tthis.templateFunction,\n\t\t\taccessor,\n\t\t\tsearchAccessor,\n\t\t\tthis.width,\n\t\t\tthis.field.getId(),\n\t\t\tthis.align,\n\t\t\tthis.cellEditingEnabled,\n\t\t\tthis.type,\n\t\t\tthis.view\n\t\t);\n\t}\n\n}\n","import { ReadModelEntityId } from '@generic-ui/hermes';\n\nexport class ColumnDefinitionId extends ReadModelEntityId {\n\tconstructor(id: string) {\n\t\tsuper(id);\n\t}\n}\n","import { Injectable, TemplateRef } from '@angular/core';\n\nimport { ViewTemplateRepository } from '../view/view-template.repository';\nimport { EditTemplateRepository } from '../edit/edit-template.repository';\nimport { ColumnEntity } from '../../../domain/column/column.entity';\nimport { ColumnDefinition } from './column-definition';\nimport { CellView } from '../../../domain/column/cell-view';\nimport { DataType } from '../../../../../structure/field/domain/core/field/data/data-type';\nimport { ActiveColumnEntity } from '../../../domain/column/active/active-column.entity';\nimport { ColumnDefinitionId } from './column-definition-id';\n\n\n@Injectable()\nexport class ColumnDefinitionFactory {\n\n\tconstructor(private viewTemplateRepository: ViewTemplateRepository,\n\t\t\t\tprivate editTemplateRepository: EditTemplateRepository) {\n\t}\n\n\tcreate(column: ColumnEntity): ColumnDefinition;\n\tcreate(column: ActiveColumnEntity): ColumnDefinition;\n\tcreate(column: ColumnEntity | ActiveColumnEntity): ColumnDefinition {\n\n\t\tif (column instanceof ColumnEntity) {\n\t\t\treturn this.createFromColumnEntity(column);\n\t\t} else {\n\t\t\treturn this.createFromActiveColumnEntity(column);\n\t\t}\n\t}\n\n\tprivate createFromColumnEntity(column: ColumnEntity): ColumnDefinition {\n\n\t\tlet columnDef = new ColumnDefinition(\n\t\t\tcolumn.getField(),\n\t\t\tnew ColumnDefinitionId(column.getId().toString()),\n\t\t\tcolumn.isEnabled(),\n\t\t\tcolumn.getDataType(),\n\t\t\tcolumn.getView(),\n\t\t\tcolumn.getAlign(),\n\t\t\tcolumn.getHeader(),\n\t\t\tcolumn.isCellEditingEnabled(),\n\t\t\tcolumn.getSortStatus(),\n\t\t\tcolumn.getSortingEnabled()\n\t\t);\n\n\t\tcolumnDef.cellTemplate = this.findViewTemplate(column.getCellView());\n\t\tcolumnDef.headerTemplate = this.findViewTemplate(CellView.TEXT);\n\n\t\tcolumnDef.setTemplateFunction(column.getTemplateFunction());\n\n\t\tcolumnDef.editTemplate = this.findEditTemplate(column.getDataType());\n\n\t\tcolumnDef.width = +column.getWidth();\n\n\t\treturn columnDef;\n\t}\n\n\tprivate createFromActiveColumnEntity(activeColumn: ActiveColumnEntity): ColumnDefinition {\n\n\t\tlet columnDef = new ColumnDefinition(\n\t\t\tactiveColumn.getField(),\n\t\t\tnew ColumnDefinitionId(activeColumn.getId().toString()),\n\t\t\ttrue, // remove,\n\t\t\tactiveColumn.getDataType(),\n\t\t\tactiveColumn.getView(),\n\t\t\tactiveColumn.getAlign(),\n\t\t\tactiveColumn.getHeader(),\n\t\t\tactiveColumn.isCellEditingEnabled(),\n\t\t\tactiveColumn.getSortStatus(),\n\t\t\tactiveColumn.getSortingEnabled()\n\t\t);\n\n\t\tcolumnDef.cellTemplate = this.findViewTemplate(activeColumn.getCellView());\n\t\tcolumnDef.headerTemplate = this.findViewTemplate(CellView.TEXT);\n\n\t\tcolumnDef.setTemplateFunction(activeColumn.getTemplateFunction());\n\n\t\tcolumnDef.editTemplate = this.findEditTemplate(activeColumn.getDataType());\n\n\t\tcolumnDef.width = +activeColumn.getWidth();\n\n\t\treturn columnDef;\n\t}\n\n\tcreateColumns(columns: Array<ColumnEntity>): Array<ColumnDefinition> {\n\t\treturn columns.map((column: ColumnEntity) => this.create(column));\n\t}\n\n\tprivate findViewTemplate(view: CellView): TemplateRef<any> {\n\n\t\tif (view === CellView.FUNCTION) {\n\t\t\treturn this.viewTemplateRepository.findTemplate(CellView.FUNCTION);\n\t\t} else {\n\t\t\treturn this.viewTemplateRepository.findTemplate(view);\n\t\t}\n\t}\n\n\tprivate findEditTemplate(dataType: DataType): TemplateRef<any> {\n\t\treturn this.editTemplateRepository.findTemplate(dataType);\n\t}\n\n}\n","import { ReadModelRoot } from '@generic-ui/hermes';\n\nimport { ColumnDefinition } from './definition/column-definition';\nimport { CellTemplateWithContext } from './definition/cell-template-with-context';\nimport { CellTemplateWithAccessor } from './definition/cell-template-with-accessor';\nimport { CompositionReadModelRootId } from './composition.read-model-root-id';\n\n\nexport class CompositionReadModeRoot extends ReadModelRoot<CompositionReadModelRootId> {\n\n\tconstructor(uid: CompositionReadModelRootId,\n\t\t\t\tprivate readonly ready: boolean,\n\t\t\t\tprivate readonly allColumns: Array<ColumnDefinition>,\n\t\t\t\tprivate readonly activeColumns: Array<ColumnDefinition>,\n\t\t\t\tprivate readonly width: number,\n\t\t\t\tprivate readonly resizeWidth: boolean) {\n\t\tsuper(uid);\n\t}\n\n\tgetActiveColumns(): Array<ColumnDefinition> {\n\t\treturn this.activeColumns;\n\t}\n\n\tgetAllColumns(): Array<ColumnDefinition> {\n\t\treturn this.allColumns;\n\t}\n\n\tgetActiveHeaderColumns(): Array<CellTemplateWithContext> {\n\t\treturn this.getActiveColumns()\n\t\t\t\t   .map((column: ColumnDefinition, index: number) => column.getHeaderCellTemplateWithContext(index));\n\t}\n\n\tgetHeaderColumns(): Array<CellTemplateWithContext> {\n\t\treturn this.getAllColumns()\n\t\t\t\t   .map((column: ColumnDefinition, index: number) => column.getHeaderCellTemplateWithContext(index));\n\t}\n\n\tgetTemplateColumns(): Array<CellTemplateWithAccessor> {\n\t\treturn this.getActiveColumns()\n\t\t\t\t   .map((column: ColumnDefinition) => column.getContentCellTemplateWithAccessor());\n\t}\n\n\tgetWidth(): number {\n\t\treturn this.width;\n\t}\n\n\tgetContainerWidth(): number {\n\t\treturn +this.width - 2;\n\t}\n\n\tisReady(): boolean {\n\t\treturn this.ready;\n\t}\n\n\tisResizeWidthEnabled(): boolean {\n\t\treturn this.resizeWidth;\n\t}\n\n\tequals(composition: CompositionReadModeRoot): boolean {\n\t\treturn this.width === composition.width &&\n\t\t\tthis.resizeWidth === composition.resizeWidth &&\n\t\t\tthis.equalsByColumns(composition.allColumns);\n\t}\n\n\tequalsByColumns(columns: Array<ColumnDefinition>): boolean {\n\t\treturn this.allColumns.length === columns.length;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { ColumnDefinitionFactory } from './definition/column-definition.factory';\nimport { CompositionAggregate } from '../../domain/composition.aggregate';\nimport { CompositionReadModeRoot } from './composition.read-mode-root';\nimport { ColumnEntity } from '../../domain/column/column.entity';\nimport { ColumnDefinition } from './definition/column-definition';\nimport { ActiveColumnEntity } from '../../domain/column/active/active-column.entity';\n\n\n@Injectable()\nexport class CompositionReadModelRootConverter {\n\n\tconstructor(private columnDefinitionFactory: ColumnDefinitionFactory) {\n\t}\n\n\tconvert(aggregate: CompositionAggregate): CompositionReadModeRoot {\n\n\t\tconst ready = aggregate.isReady(),\n\t\t\tallColumns: Array<ColumnEntity> = aggregate.getColumns(),\n\t\t\tactiveColumns: Array<ActiveColumnEntity> = aggregate.getActiveColumns(),\n\t\t\tallColumnDefs: Array<ColumnDefinition> = this.convertToColumnDef(allColumns),\n\t\t\tactiveColumnDefs: Array<ColumnDefinition> = this.convertActiveColumnsToColumnDef(activeColumns),\n\t\t\twidth = aggregate.getWidth(),\n\t\t\tresizeWidth = aggregate.isResizeEnabled(),\n\t\t\taggregateId = aggregate.getId();\n\n\t\treturn new CompositionReadModeRoot(aggregateId.toReadModelRootId(), ready, allColumnDefs, activeColumnDefs, width, resizeWidth);\n\t}\n\n\tprivate convertToColumnDef(columns: Array<ColumnEntity>): Array<ColumnDefinition> {\n\n\t\tconst columnDefs: Array<ColumnDefinition> = [];\n\n\t\tcolumns.forEach((column: ColumnEntity) => {\n\n\t\t\tconst columnDef = this.columnDefinitionFactory.create(column);\n\n\t\t\tcolumnDefs.push(columnDef);\n\t\t});\n\n\t\treturn columnDefs;\n\t}\n\n\tprivate convertActiveColumnsToColumnDef(activeColumns: Array<ActiveColumnEntity>): Array<ColumnDefinition> {\n\n\t\tconst columnDefs: Array<ColumnDefinition> = [];\n\n\t\tactiveColumns.forEach((column: ActiveColumnEntity) => {\n\n\t\t\tconst columnDef = this.columnDefinitionFactory.create(column);\n\n\t\t\tcolumnDefs.push(columnDef);\n\t\t});\n\n\t\treturn columnDefs;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { InMemoryReadModelStore } from '@generic-ui/hermes';\n\nimport { CompositionReadModeRoot } from '../../../domain-api/read/composition.read-mode-root';\nimport { CompositionAggregate } from '../../../domain/composition.aggregate';\nimport { InMemoryCompositionStore } from '../in-memory.composition.store';\nimport { CompositionReadModelRootConverter } from '../../../domain-api/read/composition.read-model-root-converter';\nimport { CompositionId } from '../../../domain/composition.id';\nimport { CompositionReadModelRootId } from '../../../domain-api/read/composition.read-model-root-id';\n\n\n@Injectable()\nexport class InMemoryCompositionReadStore extends InMemoryReadModelStore<CompositionReadModelRootId,\n\tCompositionReadModeRoot,\n\tCompositionId,\n\tCompositionAggregate> {\n\n\tconstructor(private inMemoryCompositionStore: InMemoryCompositionStore,\n\t\t\t\tprivate compositionConverter: CompositionReadModelRootConverter) {\n\t\tsuper(inMemoryCompositionStore);\n\t}\n\n\ttoReadModel(aggregate: CompositionAggregate): CompositionReadModeRoot {\n\t\treturn this.compositionConverter.convert(aggregate);\n\t}\n\n}\n","import { DomainEvent } from '@generic-ui/hermes';\nimport { CompositionId } from '../composition.id';\n\nexport class CompositionCreatedEvent extends DomainEvent<CompositionId> {\n\n\tconstructor(compositionId: CompositionId) {\n\t\tsuper(compositionId, 'CompositionCreatedEvent');\n\t}\n}\n","import { DomainEvent } from '@generic-ui/hermes';\nimport { CompositionId } from '../../composition.id';\n\nexport class CompositionResizeWidthSetEvent extends DomainEvent<CompositionId> {\n\n\tconstructor(aggregateId: CompositionId) {\n\t\tsuper(aggregateId, 'CompositionResizeWidthSetEvent');\n\t}\n}\n","import { DomainEvent } from '@generic-ui/hermes';\nimport { CompositionId } from '../../composition.id';\n\nexport class CompositionColumnsSetEvent extends DomainEvent<CompositionId> {\n\n\tconstructor(compositionId: CompositionId) {\n\t\tsuper(compositionId, 'CompositionColumnsSetEvent');\n\t}\n}\n","import { DomainEvent } from '@generic-ui/hermes';\nimport { CompositionId } from '../../composition.id';\n\nexport class CompositionContainerWidthSetEvent extends DomainEvent<CompositionId> {\n\n\tconstructor(compositionId: CompositionId,\n\t\t\t\tpayload: any) {\n\t\tsuper(compositionId, 'CompositionContainerWidthSetEvent', payload);\n\t}\n\n}\n","import { DomainEvent } from '@generic-ui/hermes';\nimport { CompositionId } from '../../composition.id';\n\nexport class CompositionWidthSetEvent extends DomainEvent<CompositionId> {\n\n\tconstructor(compositionId: CompositionId) {\n\t\tsuper(compositionId, 'CompositionWidthSetEvent');\n\t}\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { CompositionId } from '../../composition.id';\nimport { ActiveColumnEntity } from '../active/active-column.entity';\n\n\nexport class CompositionChangeSortStatusEvent extends DomainEvent<CompositionId> {\n\n\tconstructor(aggregateId: CompositionId,\n\t\t\t\tprivate readonly activeColumns: Array<ActiveColumnEntity>) {\n\t\tsuper(aggregateId, 'CompositionChangeSortStatusEvent');\n\t}\n\n\tgetCompositionId(): CompositionId {\n\t\treturn this.getAggregateId();\n\t}\n\n\tgetActiveColumns(): Array<ActiveColumnEntity> {\n\t\treturn this.activeColumns;\n\t}\n\n}\n","import { DomainEvent } from '@generic-ui/hermes';\nimport { CompositionId } from '../../composition.id';\n\nexport class CompositionColumnSetEnabledEvent extends DomainEvent<CompositionId> {\n\n\tconstructor(aggregateId: CompositionId) {\n\t\tsuper(aggregateId, 'CompositionColumnSetEnabledEvent');\n\t}\n}\n","import { DomainEvent } from '@generic-ui/hermes';\nimport { CompositionId } from '../../../composition.id';\n\nexport class CompositionColumnMovedLeftEvent extends DomainEvent<CompositionId> {\n\n\tconstructor(aggregateId: CompositionId) {\n\t\tsuper(aggregateId, 'CompositionColumnMovedLeftEvent');\n\t}\n}\n","import { DomainEvent } from '@generic-ui/hermes';\nimport { CompositionId } from '../../../composition.id';\n\nexport class CompositionColumnMovedRightEvent extends DomainEvent<CompositionId> {\n\n\tconstructor(aggregateId: CompositionId) {\n\t\tsuper(aggregateId, 'CompositionColumnMovedRightEvent');\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, ReplaySubject } from 'rxjs';\nimport { filter, map } from 'rxjs/operators';\n\nimport { DomainEvent, DomainEventBus } from '@generic-ui/hermes';\n\nimport { CompositionReadModelRootRepository } from '../../../domain-api/read/composition.read-model-root-repository';\nimport { CompositionReadModeRoot } from '../../../domain-api/read/composition.read-mode-root';\nimport { InMemoryCompositionReadStore } from './in-memory.composition.read-store';\nimport { CompositionCreatedEvent } from '../../../domain/create/composition-created.event';\nimport { CompositionResizeWidthSetEvent } from '../../../domain/width/resize-width/composition-resize-width-set.event';\nimport { CompositionColumnsSetEvent } from '../../../domain/column/set-columns/composition.columns-set.event';\nimport { CompositionContainerWidthSetEvent } from '../../../domain/width/set-container-width/composition-container-width-set.event';\nimport { CompositionWidthSetEvent } from '../../../domain/width/set-width/composition-width-set.event';\nimport { CompositionChangeSortStatusEvent } from '../../../domain/column/sort/composition-change-sort-status.event';\nimport { CompositionColumnSetEnabledEvent } from '../../../domain/column/set-enabled/composition.column-set-enabled.event';\nimport { CompositionColumnMovedLeftEvent } from '../../../domain/column/move/left/composition.column-moved-left.event';\nimport { CompositionColumnMovedRightEvent } from '../../../domain/column/move/right/composition.column-moved-right.event';\nimport { CompositionId } from '../../../domain/composition.id';\n\n\n@Injectable()\nexport class InMemoryCompositionRepository extends CompositionReadModelRootRepository {\n\n\tprivate readonly compositionIdToComposition = new Map<string, CompositionReadModeRoot>();\n\n\tprivate readonly composition$ = new ReplaySubject<Map<string, CompositionReadModeRoot>>(1);\n\n\tconstructor(domainEventBus: DomainEventBus,\n\t\t\t\tprivate inMemoryCompositionReadStore: InMemoryCompositionReadStore) {\n\t\tsuper(domainEventBus);\n\t}\n\n\ton(compositionId: CompositionId): Observable<Readonly<CompositionReadModeRoot>> {\n\n\t\treturn this.composition$\n\t\t\t\t   .asObservable()\n\t\t\t\t   .pipe(\n\t\t\t\t\t   filter((compositionIdToComposition: Map<string, CompositionReadModeRoot>) => {\n\n\t\t\t\t\t\t   const key = compositionId.getId();\n\n\t\t\t\t\t\t   return compositionIdToComposition.has(key);\n\t\t\t\t\t   }),\n\t\t\t\t\t   map((compositionIdToComposition: Map<string, CompositionReadModeRoot>) => compositionIdToComposition.get(compositionId.getId()))\n\t\t\t\t   );\n\t}\n\n\tprotected forEvents(): Array<typeof DomainEvent> {\n\t\treturn [\n\t\t\tCompositionCreatedEvent,\n\t\t\tCompositionResizeWidthSetEvent,\n\t\t\tCompositionColumnsSetEvent,\n\t\t\tCompositionContainerWidthSetEvent,\n\t\t\tCompositionWidthSetEvent,\n\t\t\tCompositionColumnSetEnabledEvent,\n\t\t\tCompositionColumnMovedLeftEvent,\n\t\t\tCompositionColumnMovedRightEvent,\n\t\t\tCompositionChangeSortStatusEvent as any\n\t\t];\n\t}\n\n\tprotected subscribe(event: DomainEvent<CompositionId>): void {\n\n\t\tconst aggregateId = event.getAggregateId();\n\n\t\tconst optComposition = this.inMemoryCompositionReadStore.getById(aggregateId);\n\n\t\toptComposition.ifPresent((composition: CompositionReadModeRoot) => {\n\t\t\tconst key = composition.getId().toString();\n\n\t\t\tthis.compositionIdToComposition.set(key, composition);\n\n\t\t\tthis.composition$.next(this.compositionIdToComposition);\n\t\t});\n\t}\n}\n","import { InMemoryCompositionAggregateStore } from './domain/in-memory.composition.aggregate-store';\nimport { CompositionAggregateRepository } from '../../domain/composition.aggregate-repository';\nimport { InMemoryCompositionAggregateRepository } from './domain/in-memory.composition.aggregate-repository';\nimport { InMemoryCompositionReadStore } from './feature-api/in-memory.composition.read-store';\nimport { CompositionReadModelRootRepository } from '../../domain-api/read/composition.read-model-root-repository';\nimport { InMemoryCompositionRepository } from './feature-api/in-memory.composition.repository';\nimport { InMemoryCompositionStore } from './in-memory.composition.store';\n\nexport const inMemoryCompositionCommandProviders = [\n\tInMemoryCompositionAggregateStore,\n\t{\n\t\tprovide: CompositionAggregateRepository,\n\t\tuseClass: InMemoryCompositionAggregateRepository\n\t}\n];\n\nexport const inMemoryCompositionReadModelProviders = [\n\tInMemoryCompositionReadStore,\n\t{\n\t\tprovide: CompositionReadModelRootRepository,\n\t\tuseClass: InMemoryCompositionRepository\n\t}\n];\n\nexport const inMemoryCompositionProviders = [\n\tInMemoryCompositionStore\n];\n","import { CellView } from '../cell-view';\nimport { ColumnAlign } from '../column-align';\nimport { ViewEntity } from '../view.entity';\n\nexport abstract class ColumnPresentation {\n\n\tabstract getPossibleViews(): Array<CellView>;\n\n\tabstract getDefaultView(): CellView;\n\n\tabstract getDefaultAlign(view: ViewEntity): ColumnAlign;\n}\n","import { ColumnPresentation } from '../column.presentation';\nimport { ColumnAlign } from '../../column-align';\nimport { CellView } from '../../cell-view';\nimport { ViewEntity } from '../../view.entity';\n\n\nexport class NumberColumnPresentation extends ColumnPresentation {\n\n\tstatic getInstance(): NumberColumnPresentation {\n\t\tif (!NumberColumnPresentation.instance) {\n\t\t\tNumberColumnPresentation.instance = new NumberColumnPresentation();\n\t\t}\n\t\treturn NumberColumnPresentation.instance;\n\t}\n\n\tprivate static instance: NumberColumnPresentation = null;\n\n\tprivate constructor() {\n\t\tsuper();\n\t}\n\n\tgetPossibleViews(): Array<CellView> {\n\t\treturn [\n\t\t\tCellView.TEXT,\n\t\t\tCellView.BAR,\n\t\t\tCellView.PERCENTAGE_BAR,\n\t\t\tCellView.PERCENTAGE\n\t\t];\n\t}\n\n\tgetDefaultView(): CellView {\n\t\treturn CellView.NUMBER;\n\t}\n\n\tgetDefaultAlign(view: ViewEntity): ColumnAlign {\n\t\treturn ColumnAlign.RIGHT;\n\t}\n}\n","import { ColumnPresentation } from '../column.presentation';\nimport { ColumnAlign } from '../../column-align';\nimport { CellView } from '../../cell-view';\nimport { ViewEntity } from '../../view.entity';\n\n\nexport class BooleanColumnPresentation extends ColumnPresentation {\n\n\tstatic getInstance(): BooleanColumnPresentation {\n\t\tif (!BooleanColumnPresentation.instance) {\n\t\t\tBooleanColumnPresentation.instance = new BooleanColumnPresentation();\n\t\t}\n\t\treturn BooleanColumnPresentation.instance;\n\t}\n\n\tprivate static instance: BooleanColumnPresentation = null;\n\n\tprivate constructor() {\n\t\tsuper();\n\t}\n\n\tgetPossibleViews(): Array<CellView> {\n\t\treturn [\n\t\t\tCellView.TEXT,\n\t\t\tCellView.ITALIC,\n\t\t\tCellView.CHIP,\n\t\t\tCellView.BOLD,\n\t\t\tCellView.CHECKBOX\n\t\t];\n\t}\n\n\tgetDefaultView(): CellView {\n\t\treturn CellView.TEXT;\n\t}\n\n\tgetDefaultAlign(view: ViewEntity): ColumnAlign {\n\n\t\tif (view.getCellView() === CellView.CHECKBOX) {\n\t\t\treturn ColumnAlign.CENTER;\n\t\t} else {\n\t\t\treturn ColumnAlign.LEFT;\n\t\t}\n\n\t}\n}\n","import { ColumnPresentation } from '../column.presentation';\nimport { ColumnAlign } from '../../column-align';\nimport { CellView } from '../../cell-view';\n\n\nexport class DateColumnPresentation extends ColumnPresentation {\n\n\tstatic getInstance(): DateColumnPresentation {\n\t\tif (!DateColumnPresentation.instance) {\n\t\t\tDateColumnPresentation.instance = new DateColumnPresentation();\n\t\t}\n\t\treturn DateColumnPresentation.instance;\n\t}\n\n\tprivate static instance: DateColumnPresentation = null;\n\n\tprivate constructor() {\n\t\tsuper();\n\t}\n\n\tgetPossibleViews(): Array<CellView> {\n\t\treturn [\n\t\t\tCellView.DATE,\n\t\t\tCellView.TEXT,\n\t\t\tCellView.ITALIC,\n\t\t\tCellView.BOLD,\n\t\t\tCellView.CHIP\n\t\t];\n\t}\n\n\tgetDefaultView(): CellView {\n\t\treturn CellView.DATE;\n\t}\n\n\tgetDefaultAlign(): ColumnAlign {\n\t\treturn ColumnAlign.LEFT;\n\t}\n}\n","import { ColumnPresentation } from '../column.presentation';\nimport { ColumnAlign } from '../../column-align';\nimport { CellView } from '../../cell-view';\n\n\nexport class StringColumnPresentation extends ColumnPresentation {\n\n\tstatic getInstance(): StringColumnPresentation {\n\t\tif (!StringColumnPresentation.instance) {\n\t\t\tStringColumnPresentation.instance = new StringColumnPresentation();\n\t\t}\n\t\treturn StringColumnPresentation.instance;\n\t}\n\n\tprivate static instance: StringColumnPresentation = null;\n\n\tprivate constructor() {\n\t\tsuper();\n\t}\n\n\tgetPossibleViews(): Array<CellView> {\n\t\treturn [\n\t\t\tCellView.TEXT,\n\t\t\tCellView.ITALIC,\n\t\t\tCellView.BOLD,\n\t\t\tCellView.IMAGE,\n\t\t\tCellView.LINK,\n\t\t\tCellView.CHIP\n\t\t];\n\t}\n\n\tgetDefaultView(): CellView {\n\t\treturn CellView.TEXT;\n\t}\n\n\tgetDefaultAlign(): ColumnAlign {\n\t\treturn ColumnAlign.LEFT;\n\t}\n}\n","import { ColumnPresentation } from '../column.presentation';\nimport { ColumnAlign } from '../../column-align';\nimport { CellView } from '../../cell-view';\n\n\nexport class UnknownColumnPresentation extends ColumnPresentation {\n\n\tstatic getInstance(): UnknownColumnPresentation {\n\t\tif (!UnknownColumnPresentation.instance) {\n\t\t\tUnknownColumnPresentation.instance = new UnknownColumnPresentation();\n\t\t}\n\t\treturn UnknownColumnPresentation.instance;\n\t}\n\n\tprivate static instance: UnknownColumnPresentation = null;\n\n\tprivate constructor() {\n\t\tsuper();\n\t}\n\n\tgetPossibleViews(): Array<CellView> {\n\t\treturn [\n\t\t\tCellView.TEXT\n\t\t];\n\t}\n\n\tgetDefaultView(): CellView {\n\t\treturn CellView.TEXT;\n\t}\n\n\tgetDefaultAlign(): ColumnAlign {\n\t\treturn ColumnAlign.LEFT;\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { DataType } from '../../../../../structure/field/domain/core/field/data/data-type';\n\nimport { ColumnPresentation } from './column.presentation';\nimport { NumberColumnPresentation } from './data-type/number-column.presentation';\nimport { BooleanColumnPresentation } from './data-type/boolean-column.presentation';\nimport { DateColumnPresentation } from './data-type/date-column.presentation';\nimport { StringColumnPresentation } from './data-type/string-column.presentation';\nimport { UnknownColumnPresentation } from './data-type/unknown-column.presentation';\n\n\n@Injectable()\nexport class ColumnPresentationConverter {\n\n\tconvert(dataType: DataType): ColumnPresentation {\n\n\t\tif (dataType === DataType.NUMBER) {\n\t\t\treturn NumberColumnPresentation.getInstance();\n\t\t} else if (dataType === DataType.BOOLEAN) {\n\t\t\treturn BooleanColumnPresentation.getInstance();\n\t\t} else if (dataType === DataType.DATE) {\n\t\t\treturn DateColumnPresentation.getInstance();\n\t\t} else if (dataType === DataType.STRING) {\n\t\t\treturn StringColumnPresentation.getInstance();\n\t\t} else {\n\t\t\treturn UnknownColumnPresentation.getInstance();\n\t\t}\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { RandomStringGenerator } from '@generic-ui/hermes';\n\nimport { ColumnParams } from './set-columns/column.params';\nimport { ColumnEntity } from './column.entity';\nimport { ColumnConfig } from './column.config';\nimport { ColumnField } from './field/column-field';\nimport { ViewEntity } from './view.entity';\nimport { ColumnId } from './column.id';\nimport { DataType } from '../../../../structure/field/domain/core/field/data/data-type';\nimport { ColumnPresentation } from './presentation/column.presentation';\nimport { ColumnPresentationConverter } from './presentation/column.presentation.converter';\n\n\n@Injectable()\nexport class ColumnEntityFactory {\n\n\tconstructor(private readonly columnPresentationConverter: ColumnPresentationConverter) {\n\t}\n\n\tcreate(params: ColumnParams): ColumnEntity;\n\tcreate(params: Array<ColumnParams>): Array<ColumnEntity>;\n\tcreate(data: ColumnParams | Array<ColumnParams>): ColumnEntity | Array<ColumnEntity> {\n\n\t\tif (Array.isArray(data)) {\n\t\t\treturn this.createColumns(data);\n\t\t} else {\n\t\t\treturn this.createColumn(data);\n\t\t}\n\t}\n\n\tprivate createColumn(params: ColumnParams): ColumnEntity {\n\n\t\tlet columnConfig: ColumnConfig = params.getColumn(),\n\t\t\tfield: ColumnField = params.getField(),\n\t\t\twidth = this.convertWidth(columnConfig.width) || undefined,\n\t\t\tview,\n\t\t\tenabled,\n\t\t\tdataType = field.getDataType();\n\n\t\tif (columnConfig.view !== undefined) {\n\t\t\tview = new ViewEntity(columnConfig.view);\n\t\t}\n\n\t\tif (columnConfig.enabled !== undefined) {\n\t\t\tenabled = columnConfig.enabled;\n\t\t} else {\n\t\t\tenabled = true;\n\t\t}\n\n\t\tconst presentation = this.getPresentation(dataType);\n\n\t\tlet columnEntity = new ColumnEntity(\n\t\t\tnew ColumnId(RandomStringGenerator.generate()),\n\t\t\tfield,\n\t\t\tcolumnConfig,\n\t\t\tenabled,\n\t\t\tpresentation,\n\t\t\tundefined,\n\t\t\tcolumnConfig.align,\n\t\t\tview,\n\t\t\twidth\n\t\t);\n\n\t\tif (columnConfig.header !== undefined) {\n\t\t\tcolumnEntity.setHeader(columnConfig.header);\n\t\t}\n\n\t\treturn columnEntity;\n\t}\n\n\tprivate createColumns(columns: Array<ColumnParams>): Array<ColumnEntity> {\n\n\t\tlet columnEntities = [] as Array<ColumnEntity>;\n\n\t\tcolumns.forEach((column: ColumnParams) => {\n\t\t\tcolumnEntities.push(this.createColumn(column));\n\t\t});\n\n\t\treturn columnEntities;\n\t}\n\n\tprivate convertWidth(width: string | number): number {\n\t\treturn +width;\n\t}\n\n\tprivate getPresentation(dataType: DataType): ColumnPresentation {\n\n\t\treturn this.columnPresentationConverter.convert(dataType);\n\t}\n}\n","import { CompositionColumnMovedLeftAggregateEvent } from './column/move/left/composition.column-moved-left.aggregate-event';\n\nexport const CompositionAggregateEvents = {\n\tCompositionResizeWidthSetAggregateEvent: 'CompositionResizeWidthSetAggregateEvent',\n\tColumnsSetAggregateEvent: 'ColumnsSetAggregateEvent',\n\tCompositionContainerWidthSetAggregateEvent: 'CompositionContainerWidthSetAggregateEvent',\n\tCompositionWidthSetAggregateEvent: 'CompositionWidthSetAggregateEvent',\n\tCompositionColumnSetEnabledAggregateEvent: 'CompositionColumnSetEnabledAggregateEvent',\n\tCompositionColumnMovedLeftAggregateEvent: 'CompositionColumnMovedLeftAggregateEvent',\n\tCompositionColumnMovedRightAggregateEvent: 'CompositionColumnMovedRightAggregateEvent'\n};\n","import { Injectable } from '@angular/core';\n\nimport { AggregateEvent, DomainEvent } from '@generic-ui/hermes';\n\nimport { CompositionAggregateEvents } from './composition.events';\nimport { CompositionResizeWidthSetEvent } from './width/resize-width/composition-resize-width-set.event';\nimport { CompositionColumnsSetEvent } from './column/set-columns/composition.columns-set.event';\nimport { CompositionContainerWidthSetAggregateEvent } from './width/set-container-width/composition-container-width-set.aggregate-event';\nimport { CompositionContainerWidthSetEvent } from './width/set-container-width/composition-container-width-set.event';\nimport { CompositionWidthSetEvent } from './width/set-width/composition-width-set.event';\nimport { CompositionColumnSetEnabledEvent } from './column/set-enabled/composition.column-set-enabled.event';\nimport { CompositionColumnMovedLeftEvent } from './column/move/left/composition.column-moved-left.event';\nimport { CompositionColumnMovedRightEvent } from './column/move/right/composition.column-moved-right.event';\nimport { CompositionId } from './composition.id';\n\n\n@Injectable()\nexport class CompositionEventConverter {\n\n\tconvert(event: AggregateEvent<CompositionId>): DomainEvent<CompositionId>;\n\tconvert(events: Array<AggregateEvent<CompositionId>>): Array<DomainEvent<CompositionId>>;\n\tconvert(arg: AggregateEvent<CompositionId> | Array<AggregateEvent<CompositionId>>): DomainEvent<CompositionId> | Array<DomainEvent<CompositionId>> {\n\n\t\tif (Array.isArray(arg)) {\n\t\t\treturn this.convertEvents(arg);\n\t\t} else {\n\t\t\treturn this.convertEvent(arg);\n\t\t}\n\t}\n\n\tprivate convertEvents(aggregateEvents: Array<AggregateEvent<CompositionId>>): Array<DomainEvent<CompositionId>> {\n\t\treturn aggregateEvents.map((event: AggregateEvent<CompositionId>) => {\n\t\t\treturn this.convertEvent(event);\n\t\t});\n\t}\n\n\tprivate convertEvent(aggregateEvent: AggregateEvent<CompositionId>): DomainEvent<CompositionId> {\n\n\t\tswitch (aggregateEvent.getType()) {\n\t\t\tcase CompositionAggregateEvents.CompositionResizeWidthSetAggregateEvent:\n\n\t\t\t\treturn new CompositionResizeWidthSetEvent(aggregateEvent.getAggregateId());\n\n\t\t\tcase CompositionAggregateEvents.ColumnsSetAggregateEvent:\n\n\t\t\t\treturn new CompositionColumnsSetEvent(aggregateEvent.getAggregateId());\n\n\t\t\tcase CompositionAggregateEvents.CompositionContainerWidthSetAggregateEvent:\n\n\t\t\t\tconst payload = (aggregateEvent as CompositionContainerWidthSetAggregateEvent).containerWidth;\n\n\t\t\t\treturn new CompositionContainerWidthSetEvent(aggregateEvent.getAggregateId(), payload);\n\n\t\t\tcase CompositionAggregateEvents.CompositionWidthSetAggregateEvent:\n\n\t\t\t\treturn new CompositionWidthSetEvent(aggregateEvent.getAggregateId());\n\n\t\t\tcase CompositionAggregateEvents.CompositionColumnSetEnabledAggregateEvent:\n\n\t\t\t\treturn new CompositionColumnSetEnabledEvent(aggregateEvent.getAggregateId());\n\n\t\t\tcase CompositionAggregateEvents.CompositionColumnMovedLeftAggregateEvent:\n\n\t\t\t\treturn new CompositionColumnMovedLeftEvent(aggregateEvent.getAggregateId());\n\n\t\t\tcase CompositionAggregateEvents.CompositionColumnMovedRightAggregateEvent:\n\n\t\t\t\treturn new CompositionColumnMovedRightEvent(aggregateEvent.getAggregateId());\n\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t}\n\n\n}\n","import { ColumnFieldId } from './column-field.id';\nimport { ColumnFieldAccessor } from './column-field-accessor';\n\nimport { DataType } from '../../../../../structure/field/domain/core/field/data/data-type';\nimport { OriginItemEntity } from '../../../../../structure/source/domain/origin/origin-item-entity';\n\n\nexport class ColumnField {\n\n\tprivate readonly fieldId: ColumnFieldId;\n\n\tprivate readonly accessor: ColumnFieldAccessor;\n\n\tprivate readonly searchAccessor: ColumnFieldAccessor;\n\n\tprivate readonly dataType: DataType;\n\n\tconstructor(fieldId: ColumnFieldId,\n\t\t\t\taccessor: ColumnFieldAccessor,\n\t\t\t\tdataType: DataType,\n\t\t\t\tsearchAccessor: ColumnFieldAccessor) {\n\t\tthis.fieldId = fieldId;\n\t\tthis.accessor = accessor;\n\t\tthis.dataType = dataType;\n\t\tthis.searchAccessor = searchAccessor;\n\t}\n\n\tgetId(): ColumnFieldId {\n\t\treturn this.fieldId;\n\t}\n\n\tgetValue(entity: OriginItemEntity): any {\n\t\treturn this.accessor(entity);\n\t}\n\n\tgetAccessor(): ColumnFieldAccessor {\n\t\treturn this.accessor;\n\t}\n\n\tgetSearchAccessor(): ColumnFieldAccessor {\n\t\treturn this.searchAccessor;\n\t}\n\n\tgetDataType(): DataType {\n\t\treturn this.dataType;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { ColumnFieldId } from './column-field.id';\nimport { ColumnFieldAccessor } from './column-field-accessor';\nimport { ColumnField } from './column-field';\n\nimport { DataType } from '../../../../../structure/field/domain/core/field/data/data-type';\n\n\n@Injectable()\nexport class ColumnFieldFactory {\n\n\tcreate(columnFieldId: ColumnFieldId, accessor: ColumnFieldAccessor, dataType: DataType, searchAccessor: ColumnFieldAccessor): ColumnField {\n\t\treturn new ColumnField(columnFieldId, accessor, dataType, searchAccessor);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { filter, map } from 'rxjs/operators';\n\nimport { DomainEvent, DomainEventBus } from '@generic-ui/hermes';\n\nimport { CompositionId } from '../domain/composition.id';\nimport { CompositionColumnsSetEvent } from '../domain/column/set-columns/composition.columns-set.event';\nimport { CompositionContainerWidthSetEvent } from '../domain/width/set-container-width/composition-container-width-set.event';\n\n\n@Injectable()\nexport class CompositionEventRepository {\n\n\tconstructor(private readonly domainEventBus: DomainEventBus) {\n\t}\n\n\tonColumnsChanged(compositionId: CompositionId): Observable<CompositionColumnsSetEvent> {\n\n\t\treturn this.domainEventBus\n\t\t\t\t   .ofEvent(\n\t\t\t\t\t   CompositionColumnsSetEvent as any\n\t\t\t\t   )\n\t\t\t\t   .pipe(\n\t\t\t\t\t   filter((event: DomainEvent<CompositionId>) => event.getAggregateId().toString() === compositionId.toString())\n\t\t\t\t   );\n\t}\n\n\tonContainerWidthChanged(compositionId: CompositionId): Observable<number> {\n\t\treturn this.domainEventBus\n\t\t\t\t   .ofEvent(\n\t\t\t\t\t   CompositionContainerWidthSetEvent as any\n\t\t\t\t   )\n\t\t\t\t   .pipe(\n\t\t\t\t\t   filter((event: DomainEvent<CompositionId>) => event.getAggregateId().equals(compositionId)),\n\t\t\t\t\t   map((event: CompositionContainerWidthSetEvent) => {\n\t\t\t\t\t\t   return event.getPayload();\n\t\t\t\t\t   }),\n\t\t\t\t\t   filter((width: number) => !!width)\n\t\t\t\t   );\n\t}\n\n}\n","import {\n\tinMemoryCompositionCommandProviders,\n\tinMemoryCompositionProviders,\n\tinMemoryCompositionReadModelProviders\n} from '../infrastructure/in-memory/in-memory.composition.providers';\nimport { CompositionDispatcher } from '../domain/composition.dispatcher';\nimport { ColumnEntityFactory } from '../domain/column/column-entity.factory';\nimport { CompositionEventConverter } from '../domain/composition.event-converter';\nimport { ColumnFieldFactory } from '../domain/column/field/colum-field.factory';\nimport { CompositionEventRepository } from './composition.event-repository';\nimport { CompositionWarehouse } from './composition.warehouse';\nimport { CompositionCommandDispatcher } from './composition.command-dispatcher';\nimport { CompositionReadModelRootConverter } from './read/composition.read-model-root-converter';\nimport { EditTemplateRepository } from './read/edit/edit-template.repository';\nimport { EditTemplateFactory } from './read/edit/edit-template.factory';\nimport { ViewTemplateFactory } from './read/view/view-template.factory';\nimport { ViewTemplateRepository } from './read/view/view-template.repository';\nimport { ColumnDefinitionFactory } from './read/definition/column-definition.factory';\nimport { ColumnPresentationConverter } from '../domain/column/presentation/column.presentation.converter';\n\n\nconst commandProviders = [\n\t...inMemoryCompositionCommandProviders,\n\tCompositionDispatcher,\n\tColumnEntityFactory,\n\tColumnPresentationConverter,\n\tCompositionEventConverter,\n\tColumnFieldFactory\n];\n\nconst readProviders = [\n\t...inMemoryCompositionReadModelProviders,\n\tColumnDefinitionFactory,\n\tViewTemplateRepository,\n\tViewTemplateFactory,\n\tEditTemplateFactory,\n\tEditTemplateRepository\n];\n\nexport const compositionProviders = [\n\t...inMemoryCompositionProviders,\n\t...commandProviders,\n\t...readProviders,\n\n\tCompositionReadModelRootConverter,\n\n\tCompositionCommandDispatcher,\n\tCompositionWarehouse,\n\tCompositionEventRepository\n];\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { DomSanitizer, SafeHtml, SafeResourceUrl, SafeScript, SafeStyle, SafeUrl } from '@angular/platform-browser';\n\n@Pipe({\n\tname: 'guiSafe'\n})\nexport class SafePipe implements PipeTransform {\n\n\tconstructor(protected sanitizer: DomSanitizer) {\n\t}\n\n\ttransform(value: any, type: string): SafeHtml | SafeStyle | SafeScript | SafeUrl | SafeResourceUrl {\n\t\tswitch (type) {\n\t\t\tcase 'html':\n\t\t\t\treturn this.sanitizer.bypassSecurityTrustHtml(value);\n\t\t\tcase 'style':\n\t\t\t\treturn this.sanitizer.bypassSecurityTrustStyle(value);\n\t\t\tcase 'script':\n\t\t\t\treturn this.sanitizer.bypassSecurityTrustScript(value);\n\t\t\tcase 'url':\n\t\t\t\treturn this.sanitizer.bypassSecurityTrustUrl(value);\n\t\t\tcase 'resourceUrl':\n\t\t\t\treturn this.sanitizer.bypassSecurityTrustResourceUrl(value);\n\t\t\tdefault:\n\t\t\t\tthrow new Error(`Invalid safe type specified: ${type}`);\n\t\t}\n\t}\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { SafePipe } from './safe.pipe';\n\n@NgModule({\n\timports: [\n\t\tCommonModule\n\t],\n\tdeclarations: [\n\t\tSafePipe\n\t],\n\texports: [\n\t\tSafePipe\n\t]\n})\nexport class SanitizeModule {\n}\n","import { ColumnWidth } from '../column/column-width/column-width';\n\nexport class CompositionContainerWidthCalculator {\n\n\tconstructor(private readonly MIN_COLUMN_WIDTH: number) {\n\t}\n\n\tcalculateMinWidth(columnWidths: Array<ColumnWidth>): number {\n\n\t\tconst { staticColumns, fluidColumns } = this.segregateColumns(columnWidths);\n\n\t\t// TODO reduce\n\t\tlet sum = 0;\n\t\tstaticColumns.forEach((c) => {\n\t\t\tsum += c.getWidth();\n\t\t});\n\n\t\tsum += fluidColumns.length * this.MIN_COLUMN_WIDTH;\n\n\t\treturn sum;\n\t}\n\n\tprivate segregateColumns(columns: Array<ColumnWidth>): { staticColumns: Array<ColumnWidth>, fluidColumns: Array<ColumnWidth> } {\n\n\t\tlet staticColumns = columns.filter((columnWidth: ColumnWidth) => columnWidth.isTypeNumber() && columnWidth.getWidth() > this.MIN_COLUMN_WIDTH),\n\t\t\tfluidColumns = columns.filter((columnWidth: ColumnWidth) => columnWidth.isTypeAuto() || columnWidth.isTypePercentage() || (columnWidth.isTypeNumber() && columnWidth.getWidth() <= this.MIN_COLUMN_WIDTH));\n\n\t\treturn {\n\t\t\tstaticColumns: staticColumns,\n\t\t\tfluidColumns: fluidColumns\n\t\t};\n\t}\n}\n","import { AggregateEvent, AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nimport { CompositionId } from '../../composition.id';\nimport { CompositionWidthSetEvent } from './composition-width-set.event';\n\nexport class CompositionWidthSetAggregateEvent extends AggregateEvent<CompositionId> {\n\n\tconstructor(aggregateId: AggregateId) {\n\t\tsuper(aggregateId, 'CompositionWidthSetAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<CompositionId> {\n\t\treturn new CompositionWidthSetEvent(this.getAggregateId());\n\t}\n\n}\n","import { AggregateEvent, DomainEvent } from '@generic-ui/hermes';\n\nimport { CompositionId } from '../../composition.id';\nimport { CompositionContainerWidthSetEvent } from './composition-container-width-set.event';\n\n\nexport class CompositionContainerWidthSetAggregateEvent extends AggregateEvent<CompositionId> {\n\n\tconstructor(compositionId: CompositionId,\n\t\t\t\tpublic readonly containerWidth: number) {\n\t\tsuper(compositionId, 'CompositionContainerWidthSetAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<CompositionId> {\n\t\treturn new CompositionContainerWidthSetEvent(this.getAggregateId(), this.containerWidth);\n\t}\n}\n","import { AggregateEvent, DomainEvent } from '@generic-ui/hermes';\n\nimport { CompositionId } from '../../composition.id';\nimport { CompositionResizeWidthSetEvent } from './composition-resize-width-set.event';\n\n\nexport class CompositionResizeWidthSetAggregateEvent extends AggregateEvent<CompositionId> {\n\n\tconstructor(compositionId: CompositionId) {\n\t\tsuper(compositionId, 'CompositionResizeWidthSetAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<CompositionId> {\n\t\treturn new CompositionResizeWidthSetEvent(this.getAggregateId());\n\t}\n}\n","import { AggregateEvent, AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nimport { ActiveColumnEntity } from '../active/active-column.entity';\nimport { CompositionId } from '../../composition.id';\nimport { CompositionColumnSetEnabledEvent } from './composition.column-set-enabled.event';\n\nexport class CompositionColumnSetEnabledAggregateEvent extends AggregateEvent<CompositionId> {\n\n\tconstructor(aggregateId: AggregateId,\n\t\t\t\tprivate readonly activeColumns: Array<ActiveColumnEntity>) {\n\t\tsuper(aggregateId, 'CompositionColumnSetEnabledAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<CompositionId> {\n\t\treturn new CompositionColumnSetEnabledEvent(this.getAggregateId());\n\t}\n\n\tgetActiveColumns(): Array<ActiveColumnEntity> {\n\t\treturn this.activeColumns;\n\t}\n\n}\n","export enum ColumnWidthType {\n\tPERCENTAGE,\n\tNUMBER,\n\tAUTO\n}\n","import { ColumnWidthType } from './column-width-type';\n\nexport class ColumnWidth {\n\n\tprivate template: ColumnWidthType;\n\n\tprivate baseWidth: number | string;\n\n\tprivate width: number;\n\n\tconstructor(width?: number | string) {\n\t\tthis.baseWidth = width;\n\t\tthis.setWidthAndType(width);\n\t}\n\n\tgetWidth(): number {\n\t\treturn this.width;\n\t}\n\n\tgetColumnType(): ColumnWidthType {\n\t\treturn this.template;\n\t}\n\n\tisTypePercentage(): boolean {\n\t\treturn this.template === ColumnWidthType.PERCENTAGE;\n\t}\n\n\tisTypeAuto(): boolean {\n\t\treturn this.template === ColumnWidthType.AUTO;\n\t}\n\n\tisTypeNumber(): boolean {\n\t\treturn this.template === ColumnWidthType.NUMBER;\n\t}\n\n\tsetWidth(width: number): void {\n\t\tthis.width = width;\n\t}\n\n\tsetWidthAndType(width: number | string): void {\n\n\t\tif (width === undefined || width === null || width === 'auto') {\n\n\t\t\tthis.template = ColumnWidthType.AUTO;\n\t\t\tthis.setWidth(null);\n\n\t\t} else if (this.isPercentage(width)) {\n\n\t\t\tthis.template = ColumnWidthType.PERCENTAGE;\n\t\t\tthis.setWidth(this.percentageToNumber('' + width));\n\n\t\t} else if (this.isStringNumber(width)) {\n\n\t\t\tthis.template = ColumnWidthType.NUMBER;\n\t\t\tthis.setWidth(+width);\n\t\t} else {\n\n\t\t\tthis.template = ColumnWidthType.NUMBER;\n\t\t\tthis.setWidth(+width);\n\t\t}\n\t}\n\n\tclone(): ColumnWidth {\n\t\treturn new ColumnWidth(this.baseWidth);\n\t}\n\n\tprivate isPercentage(width: number | string): boolean {\n\t\treturn typeof width === 'string' && width[width.length - 1] === '%';\n\t}\n\n\t/**\n\t * Width needs to be in format '89%'\n\t * @param width\n\t */\n\tprivate percentageToNumber(width: string): number {\n\t\treturn +(width.slice(0, -1));\n\t}\n\n\tprivate isStringNumber(width: number | string): boolean {\n\t\tconst widthAsNumber = +width;\n\n\t\treturn Number.isNaN(widthAsNumber);\n\t}\n}\n","import { ColumnWidth } from '../column/column-width/column-width';\nimport { ColumnWidthType } from '../column/column-width/column-width-type';\n\nexport class CompositionWidthCalculator {\n\n\tprivate readonly columns: Array<ColumnWidth>;\n\n\tconstructor(private source: Array<ColumnWidth>,\n\t\t\t\tprivate width: number,\n\t\t\t\tprivate readonly MIN_COLUMN_WIDTH: number) {\n\t\tthis.columns = this.source.map((c) => c.clone());\n\t}\n\n\tcalculate(): Array<ColumnWidth> {\n\n\t\tlet width = this.width,\n\t\t\tcolumns = [...this.columns];\n\n\t\t// adjust min value\n\t\tthis.adjustMinimalWidth(columns);\n\n\t\t// remove number columns\n\t\tlet newColumns: Array<ColumnWidth> = [];\n\n\t\tcolumns.forEach((column: ColumnWidth, index: number) => {\n\t\t\tif (column.isTypeNumber()) {\n\t\t\t\twidth -= column.getWidth();\n\t\t\t} else {\n\t\t\t\tnewColumns.push(column);\n\t\t\t}\n\t\t});\n\n\t\tcolumns = newColumns;\n\n\t\t// split even auto columns\n\t\tif (columns.length !== 0) {\n\n\t\t\tconst evenWidth = width / columns.length;\n\n\t\t\tcolumns.forEach((column: ColumnWidth, index: number) => {\n\t\t\t\tcolumn.setWidth(evenWidth);\n\t\t\t});\n\t\t}\n\n\t\t// adjust number columns\n\t\t// let numberColumns = this.columns.filter((columnWidth: ColumnWidth) => columnWidth.isTypeNumber());\n\t\t//\n\t\t// // sort by min values\n\t\t// numberColumns.sort((columnOne: ColumnWidth, columnTwo: ColumnWidth) => {\n\t\t// \treturn columnOne.getWidth() - columnTwo.getWidth();\n\t\t// });\n\t\t//\n\t\t// numberColumns.forEach(() => {\n\t\t// });\n\n\t\t// this.adjustMinimalWidth(ColumnWidthType.NUMBER);\n\t\t//\n\t\t// this.adjustPercentageWidth();\n\t\t//\n\t\t// this.adjustAutoWidth();\n\n\t\treturn this.columns;\n\t}\n\n\tprivate adjustMinimalWidth(columns: Array<ColumnWidth>): void {\n\t\tcolumns.forEach((column: ColumnWidth) => {\n\t\t\tif (column.isTypeNumber()) {\n\t\t\t\tif (column.getWidth() < this.MIN_COLUMN_WIDTH) {\n\t\t\t\t\tcolumn.setWidthAndType(this.MIN_COLUMN_WIDTH);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate adjustPercentageWidth(): void {\n\n\t\tconst percentageColumns = this.columns.filter((columnWidth: ColumnWidth) => columnWidth.isTypePercentage());\n\n\t\tfor (let column of this.columns) {\n\t\t\tif (column.getColumnType() === ColumnWidthType.PERCENTAGE) {\n\t\t\t\tcolumn.setWidth(this.width * column.getWidth() * 0.01);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate adjustAutoWidth(): void {\n\n\t\tlet leftWidth = this.width,\n\t\t\tautoColumns = [];\n\n\t\tfor (let i = 0; i < this.columns.length; i += 1) {\n\n\t\t\tlet column = this.columns[i];\n\n\t\t\tif (column.getColumnType() !== ColumnWidthType.AUTO) {\n\t\t\t\tleftWidth -= column.getWidth();\n\t\t\t} else {\n\t\t\t\tautoColumns.push(column);\n\t\t\t}\n\t\t}\n\n\t\tif (autoColumns.length > 0) {\n\t\t\tconst splitWidth = leftWidth / autoColumns.length;\n\n\t\t\tfor (let column of autoColumns) {\n\t\t\t\tcolumn.setWidth(splitWidth);\n\t\t\t}\n\t\t}\n\t}\n\n}\n","import { ColumnWidth } from './column-width';\nimport { ColumnConfig } from '../column.config';\nimport { CompositionContainerWidthCalculator } from '../../width/composition-container-width.calculator';\nimport { CompositionWidthCalculator } from '../../width/composition-width.calculator';\n\n\nexport class ColumnWidthCollection {\n\n\tprivate baseColumnWidths: Array<ColumnWidth>;\n\n\tprivate columnWidths: Array<ColumnWidth>;\n\n\tprivate width: number;\n\n\tconstructor(private readonly MIN_COLUMN_WIDTH: number,\n\t\t\t\tcolumns: Array<ColumnConfig> = [],\n\t\t\t\twidth: number = 100) {\n\t\tthis.baseColumnWidths = columns.map((column: ColumnConfig) => new ColumnWidth(column.width));\n\t\tthis.columnWidths = columns.map((column: ColumnConfig) => new ColumnWidth(column.width));\n\n\t\tthis.setContainerWidth(width);\n\n\t\tthis.calculate();\n\t}\n\n\tgetColumnWidths(): Array<ColumnWidth> {\n\t\treturn this.baseColumnWidths;\n\t}\n\n\tgetColumnsWidth(): number {\n\t\treturn this.width;\n\t}\n\n\tgetWidths(): Array<number> {\n\t\treturn this.columnWidths.map(c => c.getWidth());\n\t}\n\n\tgetMinWidth(): number {\n\t\tconst calculator = new CompositionContainerWidthCalculator(this.MIN_COLUMN_WIDTH);\n\n\t\treturn calculator.calculateMinWidth(this.columnWidths);\n\t}\n\n\tsetWidth(width: number): void {\n\n\t\tthis.setContainerWidth(width);\n\t\tthis.calculate();\n\t}\n\n\tsetColumns(columnConfigs: Array<ColumnConfig>): void {\n\t\tthis.baseColumnWidths = columnConfigs.map((column: ColumnConfig) => new ColumnWidth(column.width));\n\t\tthis.columnWidths = columnConfigs.map((column: ColumnConfig) => new ColumnWidth(column.width));\n\n\t\tthis.calculate();\n\t}\n\n\tgetMinColumnWidth(): number {\n\t\treturn this.MIN_COLUMN_WIDTH;\n\t}\n\n\tprivate calculate(): void {\n\n\t\tif (this.baseColumnWidths && this.width) {\n\n\t\t\tconst calculator = new CompositionWidthCalculator(this.baseColumnWidths, this.width, this.MIN_COLUMN_WIDTH);\n\n\t\t\tthis.columnWidths = calculator.calculate();\n\t\t}\n\t}\n\n\tprivate setContainerWidth(width: number): void {\n\t\tif (this.getMinWidth() > width) {\n\t\t\tthis.width = this.getMinWidth();\n\t\t} else {\n\t\t\tthis.width = width;\n\t\t}\n\n\t\tthis.calculate();\n\t}\n}\n","import { AggregateEvent, AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nimport { CompositionId } from '../../composition.id';\nimport { CompositionChangeSortStatusEvent } from './composition-change-sort-status.event';\nimport { ActiveColumnEntity } from '../active/active-column.entity';\n\n\nexport class CompositionChangeSortStatusAggregateEvent extends AggregateEvent<CompositionId> {\n\n\tconstructor(aggregateId: AggregateId,\n\t\t\t\tprivate readonly activeColumns: Array<ActiveColumnEntity>) {\n\t\tsuper(aggregateId, 'CompositionChangeSortStatusAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<CompositionId> {\n\t\treturn new CompositionChangeSortStatusEvent(this.getAggregateId(), this.activeColumns);\n\t}\n\n}\n","import { AggregateEvent } from '@generic-ui/hermes';\n\nimport { ActiveColumnEntity } from './active-column.entity';\nimport { ColumnWidthCollection } from '../column-width/column-width-collection';\nimport { ColumnConfig } from '../column.config';\nimport { ChangeSortParams } from '../sort/change-sort.params';\nimport { SortOrder } from '../sort/sort-order';\nimport { CompositionId } from '../../composition.id';\nimport { CompositionChangeSortStatusAggregateEvent } from '../sort/composition-change-sort-status.aggregate-event';\nimport { ColumnId } from '../column.id';\nimport { ColumnWidth } from '../column-width/column-width';\n\nexport class ActiveColumnContainer {\n\n\tprivate readonly MIN_COLUMN_WIDTH = 50;\n\n\tprivate columns: Array<ActiveColumnEntity>;\n\n\t/**\n\t * Columns taken from user config.\n\t * This should not be modified and it should be used as a reference point.\n\t */\n\tprivate columnWidthCollection: ColumnWidthCollection = new ColumnWidthCollection(this.MIN_COLUMN_WIDTH);\n\n\tconstructor(private compositionId: CompositionId,\n\t\t\t\tcolumns: Array<ActiveColumnEntity> = [],\n\t\t\t\tgridWidth?: number,\n\t\t\t\tcolumnConfigs?: Array<ColumnConfig>) {\n\t\tthis.columns = columns;\n\n\t\tif (gridWidth && columnConfigs) {\n\t\t\tthis.columnWidthCollection = new ColumnWidthCollection(this.MIN_COLUMN_WIDTH, columnConfigs, gridWidth);\n\t\t}\n\t}\n\n\tgetColumnWidths(): Array<ColumnWidth> {\n\t\treturn this.columnWidthCollection.getColumnWidths();\n\t}\n\n\t// REMOVE\n\tgetColumns(): Array<ActiveColumnEntity> {\n\t\treturn this.columns;\n\t}\n\n\tsetWidth(width: number): void {\n\t\tthis.columnWidthCollection.setWidth(width);\n\t}\n\n\taddColumn(column: ActiveColumnEntity, index: number): void {\n\t\tthis.columns.splice(index, 0, column);\n\t}\n\n\tremoveColumn(index: number): void {\n\t\tthis.columns.splice(index, 1);\n\t}\n\n\tsetColumns(columns: Array<ActiveColumnEntity>, columnConfigs: Array<ColumnConfig>) {\n\n\t\tthis.columns = columns;\n\n\t\tthis.columnWidthCollection.setColumns(columnConfigs);\n\n\t\tconst updatedWidths = this.columnWidthCollection.getWidths();\n\n\t\tthis.columns.forEach((column: ActiveColumnEntity, index: number) => {\n\t\t\tcolumn.setWidth(updatedWidths[index]);\n\t\t});\n\n\t\t// TODO\n\t\t//this.addEvent(new ColumnsSetAggregateEvent(this.getId(), columns));\n\t}\n\n\tchangeSort(sortParams: Array<ChangeSortParams>): AggregateEvent<CompositionId> {\n\n\t\tthis.columns.forEach((column: ActiveColumnEntity) => {\n\t\t\tcolumn.setSortStatus(SortOrder.NONE);\n\t\t});\n\n\t\tfor (let param of sortParams) {\n\n\t\t\tconst fieldId = param.fieldId,\n\t\t\t\tdirection = param.direction,\n\t\t\t\tsortStatus = direction ? SortOrder.ASC : SortOrder.DESC;\n\n\t\t\tconst columns = this.columns.filter((column: ActiveColumnEntity) => {\n\t\t\t\treturn column.getField().getId().getId() === fieldId.getId();\n\t\t\t});\n\n\t\t\tif (columns.length > 0) {\n\t\t\t\tcolumns.forEach((column: ActiveColumnEntity) => {\n\n\t\t\t\t\tcolumn.setSortStatus(sortStatus);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn new CompositionChangeSortStatusAggregateEvent(this.getCompositionId(), this.columns);\n\t}\n\n\tmoveLeft(columnId: ColumnId): void {\n\n\t\tconst index = this.findColumnIndex(columnId);\n\n\t\tthis.move(index, index - 1);\n\t}\n\n\tmoveRight(columnId: ColumnId): void {\n\n\t\tconst index = this.findColumnIndex(columnId);\n\n\t\tthis.move(index, index + 1);\n\t}\n\n\tgetMinColumnWidth(): number {\n\t\treturn this.MIN_COLUMN_WIDTH;\n\t}\n\n\tprivate move(fromIndex: number, toIndex: number): void {\n\n\t\tif (!this.validateMoveIndex(fromIndex) || !this.validateMoveIndex(toIndex)) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst column = this.columns[fromIndex];\n\n\t\tthis.columns[fromIndex] = this.columns[toIndex];\n\t\tthis.columns[toIndex] = column;\n\t}\n\n\tprivate validateMoveIndex(index: number): boolean {\n\t\treturn index >= 0;\n\t}\n\n\tprivate getCompositionId(): CompositionId {\n\t\treturn this.compositionId;\n\t}\n\n\tprivate findColumnIndex(columnId: ColumnId): number {\n\t\treturn this.columns.findIndex(c => c.getId().equals(columnId));\n\t}\n\n}\n","import { ColumnField } from '../field/column-field';\nimport { ColumnId } from '../column.id';\nimport { ColumnConfig, HeaderTemplate } from '../column.config';\nimport { ViewEntity } from '../view.entity';\nimport { ColumnAlign } from '../column-align';\nimport { ColumnEntity } from '../column.entity';\nimport { ColumnPresentation } from '../presentation/column.presentation';\n\n\nexport class ActiveColumnEntity extends ColumnEntity {\n\n\tstatic fromEntity(entity: ColumnEntity): ActiveColumnEntity {\n\t\treturn new ActiveColumnEntity(\n\t\t\tentity.getId(),\n\t\t\tentity.getField(),\n\t\t\tentity.getHeader(),\n\t\t\tentity.getAlign(),\n\t\t\tentity.getView(),\n\t\t\tentity.getColumnConfig(),\n\t\t\tentity.getPresentation()\n\t\t);\n\t}\n\n\tprivate constructor(columnId: ColumnId,\n\t\t\t\t\t\tcolumnField: ColumnField,\n\t\t\t\t\t\theader: string | HeaderTemplate,\n\t\t\t\t\t\talign: ColumnAlign,\n\t\t\t\t\t\tview: ViewEntity,\n\t\t\t\t\t\tconfig: ColumnConfig,\n\t\t\t\t\t\tpresentation: ColumnPresentation) {\n\t\tsuper(\n\t\t\tcolumnId,\n\t\t\tcolumnField,\n\t\t\tconfig,\n\t\t\ttrue,\n\t\t\tpresentation,\n\t\t\theader,\n\t\t\talign,\n\t\t\tview,\n\t\t\tundefined\n\t\t);\n\t}\n\n}\n","import { ActiveColumnEntity } from './active-column.entity';\nimport { ColumnEntity } from '../column.entity';\n\nexport class ActiveColumnEntityConverter {\n\n\tconvertMany(entities: Array<ColumnEntity>): Array<ActiveColumnEntity> {\n\t\treturn entities.map(e => this.convert(e));\n\t}\n\n\tconvert(entity: ColumnEntity): ActiveColumnEntity {\n\n\t\treturn ActiveColumnEntity.fromEntity(entity);\n\t}\n\n\n}\n","import { AggregateEvent, AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nimport { ActiveColumnEntity } from '../../active/active-column.entity';\nimport { CompositionId } from '../../../composition.id';\nimport { CompositionColumnMovedLeftEvent } from './composition.column-moved-left.event';\n\nexport class CompositionColumnMovedLeftAggregateEvent extends AggregateEvent<CompositionId> {\n\n\tconstructor(aggregateId: AggregateId,\n\t\t\t\tprivate readonly activeColumns: Array<ActiveColumnEntity>) {\n\t\tsuper(aggregateId, 'CompositionColumnMovedLeftAggregateEvent');\n\t}\n\n\t// getActiveColumns(): Array<ActiveColumnEntity> {\n\t// \treturn this.activeColumns;\n\t// }\n\n\ttoDomainEvent(): DomainEvent<CompositionId> {\n\t\treturn new CompositionColumnMovedLeftEvent(this.getAggregateId());\n\t}\n\n}\n","import { AggregateEvent, AggregateId, DomainEvent } from '@generic-ui/hermes';\nimport { ActiveColumnEntity } from '../../active/active-column.entity';\nimport { CompositionId } from '../../../composition.id';\nimport { CompositionColumnMovedRightEvent } from './composition.column-moved-right.event';\n\nexport class CompositionColumnMovedRightAggregateEvent extends AggregateEvent<CompositionId> {\n\n\tconstructor(aggregateId: AggregateId,\n\t\t\t\tprivate readonly activeColumns: Array<ActiveColumnEntity>) {\n\t\tsuper(aggregateId, 'CompositionColumnMovedRightAggregateEvent');\n\t}\n\n\t// getActiveColumns(): Array<ActiveColumnEntity> {\n\t// \treturn this.activeColumns;\n\t// }\n\n\ttoDomainEvent(): DomainEvent<CompositionId> {\n\t\treturn new CompositionColumnMovedRightEvent(this.getAggregateId());\n\t}\n\n}\n","import { AggregateEvent, DomainEvent } from '@generic-ui/hermes';\n\nimport { CompositionId } from '../../composition.id';\nimport { CompositionColumnsSetEvent } from './composition.columns-set.event';\n\n\nexport class ColumnsSetAggregateEvent extends AggregateEvent<CompositionId> {\n\n\tconstructor(compositionId: CompositionId) {\n\t\tsuper(compositionId, 'ColumnsSetAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<CompositionId> {\n\t\treturn new CompositionColumnsSetEvent(this.getAggregateId());\n\t}\n\n}\n","import { AggregateEvent, DomainEvent } from '@generic-ui/hermes';\n\nimport { CompositionId } from '../composition.id';\nimport { CompositionCreatedEvent } from './composition-created.event';\n\nexport class CompositionCreatedAggregateEvent extends AggregateEvent<CompositionId> {\n\n\tconstructor(compositionId: CompositionId) {\n\t\tsuper(compositionId, 'SchemaCreatedEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<CompositionId> {\n\t\treturn new CompositionCreatedEvent(this.getAggregateId());\n\t}\n}\n","import { AggregateEvent, AggregateEventType, AggregateId, AggregateRoot } from '@generic-ui/hermes';\n\nimport { ColumnEntity } from './column/column.entity';\nimport { ColumnConfig } from './column/column.config';\nimport { ColumnParams } from './column/set-columns/column.params';\nimport { ColumnEntityFactory } from './column/column-entity.factory';\nimport { ChangeSortParams } from './column/sort/change-sort.params';\nimport { CompositionContainerWidthCalculator } from './width/composition-container-width.calculator';\nimport { CompositionWidthSetAggregateEvent } from './width/set-width/composition-width-set.aggregate-event';\nimport { CompositionContainerWidthSetAggregateEvent } from './width/set-container-width/composition-container-width-set.aggregate-event';\nimport { CompositionResizeWidthSetAggregateEvent } from './width/resize-width/composition-resize-width-set.aggregate-event';\nimport { ColumnId } from './column/column.id';\nimport { CompositionColumnSetEnabledAggregateEvent } from './column/set-enabled/composition.column-set-enabled.aggregate-event';\nimport { ActiveColumnContainer } from './column/active/active-column.container';\nimport { ActiveColumnEntity } from './column/active/active-column.entity';\nimport { ActiveColumnEntityConverter } from './column/active/active-column.entity-converter';\nimport { CompositionColumnMovedLeftAggregateEvent } from './column/move/left/composition.column-moved-left.aggregate-event';\nimport { CompositionColumnMovedRightAggregateEvent } from './column/move/right/composition.column-moved-right.aggregate-event';\nimport { ColumnsSetAggregateEvent } from './column/set-columns/columns-set.aggregate-event';\nimport { CompositionId } from './composition.id';\nimport { CompositionCreatedAggregateEvent } from './create/composition-created.aggregate-event';\n\n\nexport class CompositionAggregate extends AggregateRoot<CompositionId> {\n\n\tprivate allColumns: Array<ColumnEntity> = [];\n\n\tprivate readonly baseColumns: Array<ColumnConfig>;\n\n\tprivate readonly baseParams: Array<ColumnParams>;\n\n\t/**\n\t * Value taken from user config [width]\n\t */\n\tprivate width: number;\n\n\tprivate containerInDOMWidth: number;\n\n\tprivate resizeWidthEnabled: boolean = true;\n\n\tprivate readonly columnFactory: ColumnEntityFactory;\n\n\tprivate readonly activeColumnContainer: ActiveColumnContainer;\n\n\tprivate readonly activeColumnEntityConverter: ActiveColumnEntityConverter = new ActiveColumnEntityConverter();\n\n\tconstructor(id: AggregateId,\n\t\t\t\tcolumnFactory: ColumnEntityFactory,\n\t\t\t\tcolumnsParams: Array<ColumnParams> = [],\n\t\t\t\twidth?: number,\n\t\t\t\tresizeWidth?: boolean) {\n\t\tsuper(id, 'CompositionAggregate');\n\n\t\tconst columnConfigs: Array<ColumnConfig> = columnsParams.map((param) => param.getColumn());\n\n\t\tthis.baseParams = columnsParams;\n\t\tthis.baseColumns = columnConfigs;\n\n\t\tthis.columnFactory = columnFactory;\n\n\t\tthis.width = width;\n\n\t\tthis.allColumns = this.columnFactory.create(columnsParams);\n\n\t\tconst activeColumns = this.activeColumnEntityConverter.convertMany(this.getEnabledColumns());\n\n\t\tthis.activeColumnContainer = new ActiveColumnContainer(this.getId(), activeColumns, width, columnConfigs);\n\n\t\tif (resizeWidth !== undefined && resizeWidth !== null) {\n\t\t\tthis.resizeWidthEnabled = resizeWidth;\n\t\t}\n\n\t}\n\n\tcreateEvent(): AggregateEventType<AggregateEvent<CompositionId>> {\n\t\treturn CompositionCreatedAggregateEvent;\n\t}\n\n\t// REMOVE\n\tgetColumns(): Array<ColumnEntity> {\n\t\treturn this.allColumns;\n\t}\n\n\t// REMOVE\n\tgetActiveColumns(): Array<ActiveColumnEntity> {\n\t\treturn this.activeColumnContainer.getColumns();\n\t}\n\n\t// make private\n\tgetWidth(): number {\n\n\t\tif (this.resizeWidthEnabled) {\n\t\t\treturn this.containerInDOMWidth;\n\t\t} else {\n\t\t\treturn this.width;\n\t\t}\n\t}\n\n\t// REMOVE\n\tisResizeEnabled(): boolean {\n\t\treturn this.resizeWidthEnabled;\n\t}\n\n\t// REMOVE\n\tisReady(): boolean {\n\t\treturn !!this.getWidth() && this.getActiveColumns().length > 0;\n\t}\n\n\tsetColumns(params: Array<ColumnParams>): void {\n\n\t\tthis.allColumns = this.columnFactory.create(params);\n\n\t\tconst columnConfigs: Array<ColumnConfig> = params.map((param: ColumnParams) => param.getColumn());\n\n\t\tconst activeColumns = this.activeColumnEntityConverter.convertMany(this.getEnabledColumns());\n\n\t\tthis.activeColumnContainer.setColumns(activeColumns, columnConfigs);\n\n\t\tthis.addEvent(new ColumnsSetAggregateEvent(this.getId()));\n\t}\n\n\tsetContainerWidth(containerWidth: number): void {\n\n\t\tthis.setContainerWidthWithEvent(containerWidth);\n\n\t\tthis.recalculateColumns();\n\t}\n\n\tsetWidth(width: number): void {\n\t\tthis.setWidthWithEvent(width);\n\n\t\tthis.setResizeWidthWithEvent(false);\n\n\t\tthis.recalculateColumns();\n\t}\n\n\tsetResizeWidth(enabled: boolean): void {\n\t\tthis.setResizeWidthWithEvent(enabled);\n\t}\n\n\tchangeSort(sortParams: Array<ChangeSortParams>): void {\n\t\tthis.addEvent(\n\t\t\tthis.activeColumnContainer.changeSort(sortParams)\n\t\t);\n\t}\n\n\t// DELEGATE\n\tenableColumn(columnId: ColumnId, enabled: boolean): void {\n\n\t\tlet enabledIndex = -1;\n\n\t\tthis.allColumns.forEach((column: ColumnEntity, index: number) => {\n\t\t\tif (column.getId().getId() === columnId.getId()) {\n\n\t\t\t\tconst prevState = column.isEnabled();\n\n\t\t\t\tcolumn.setEnabled(enabled);\n\n\t\t\t\tif (prevState !== enabled) {\n\t\t\t\t\tenabledIndex = index;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif (enabledIndex > 0) {\n\n\t\t\tif (enabled) {\n\n\t\t\t\t// convert\n\t\t\t\tconst columnToAdd = this.activeColumnEntityConverter.convert(this.allColumns[enabledIndex]);\n\n\t\t\t\tthis.activeColumnContainer.addColumn(columnToAdd, enabledIndex);\n\t\t\t} else {\n\t\t\t\tthis.activeColumnContainer.removeColumn(enabledIndex);\n\t\t\t}\n\t\t}\n\n\t\tthis.recalculateColumns();\n\n\t\tthis.addEvent(\n\t\t\tnew CompositionColumnSetEnabledAggregateEvent(this.getId(), this.getActiveColumns())\n\t\t);\n\t}\n\n\tmoveLeft(columnId: ColumnId): void {\n\n\t\tconst columnIndex = this.findColumnIndex(columnId);\n\n\t\tlet nextLeft,\n\t\t\tnextLeftIndex = -1;\n\n\t\tfor (let i = columnIndex - 1; i >= 0; i -= 1) {\n\n\t\t\tconst leftColumn = this.allColumns[i];\n\n\t\t\tif (leftColumn.isEnabled()) {\n\n\t\t\t\tnextLeft = leftColumn;\n\t\t\t\tnextLeftIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (nextLeft && nextLeftIndex >= 0 && columnIndex >= 0) {\n\n\t\t\tlet column = this.allColumns[columnIndex];\n\n\t\t\tthis.allColumns[columnIndex] = nextLeft;\n\t\t\tthis.allColumns[nextLeftIndex] = column;\n\t\t}\n\n\t\tthis.activeColumnContainer.moveLeft(columnId);\n\n\t\tthis.addEvent(\n\t\t\tnew CompositionColumnMovedLeftAggregateEvent(this.getId(), this.getActiveColumns())\n\t\t);\n\t}\n\n\tmoveRight(columnId: ColumnId): void {\n\n\t\tconst columnIndex = this.findColumnIndex(columnId);\n\n\t\tlet nextRight,\n\t\t\tnextRightIndex = -1;\n\n\t\tfor (let i = columnIndex + 1; i < this.allColumns.length; i += 1) {\n\n\t\t\tconst rightColumn = this.allColumns[i];\n\n\t\t\tif (rightColumn.isEnabled()) {\n\n\t\t\t\tnextRight = rightColumn;\n\t\t\t\tnextRightIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (nextRight && nextRightIndex >= 0 && columnIndex >= 0) {\n\n\t\t\tlet column = this.allColumns[columnIndex];\n\n\t\t\tthis.allColumns[columnIndex] = nextRight;\n\t\t\tthis.allColumns[nextRightIndex] = column;\n\t\t}\n\n\t\tthis.activeColumnContainer.moveRight(columnId);\n\n\t\tthis.addEvent(\n\t\t\tnew CompositionColumnMovedRightAggregateEvent(this.getId(), this.getActiveColumns())\n\t\t);\n\t}\n\n\tprivate recalculateColumns(): void {\n\n\t\tconst activeColumns = this.activeColumnEntityConverter.convertMany(this.getEnabledColumns());\n\n\t\tthis.activeColumnContainer.setColumns(activeColumns, activeColumns.map(c => c.getColumnConfig()));\n\t}\n\n\t// TODO Refactor\n\tprivate setWidthWithEvent(width: number): void {\n\n\t\tconst calculator = new CompositionContainerWidthCalculator(this.getMinColumnWidth());\n\n\t\tconst minWidth = calculator.calculateMinWidth(this.activeColumnContainer.getColumnWidths());\n\n\t\tif (minWidth > width) {\n\t\t\tthis.width = minWidth;\n\t\t} else {\n\t\t\tthis.width = width;\n\t\t}\n\n\t\tthis.activeColumnContainer.setWidth(this.getWidth());\n\n\t\tthis.addEvent(new CompositionWidthSetAggregateEvent(this.getId()));\n\t}\n\n\t// TODO Refactor\n\tprivate setContainerWidthWithEvent(containerWidth: number): void {\n\n\t\tconst calculator = new CompositionContainerWidthCalculator(this.getMinColumnWidth());\n\n\t\tconst minWidth = calculator.calculateMinWidth(this.activeColumnContainer.getColumnWidths());\n\n\t\tif (minWidth > containerWidth) {\n\t\t\tthis.containerInDOMWidth = minWidth;\n\t\t} else {\n\t\t\tthis.containerInDOMWidth = containerWidth;\n\t\t}\n\n\t\tthis.activeColumnContainer.setWidth(this.getWidth());\n\n\t\tthis.addEvent(new CompositionContainerWidthSetAggregateEvent(this.getId(), containerWidth));\n\t}\n\n\tprivate setResizeWidthWithEvent(enabled: boolean): void {\n\t\tthis.resizeWidthEnabled = enabled;\n\t\tthis.activeColumnContainer.setWidth(this.getWidth());\n\t\tthis.addEvent(new CompositionResizeWidthSetAggregateEvent(this.getId()));\n\t}\n\n\t// REMOVE -> move to allColumnsContainer\n\tprivate getEnabledColumns(): Array<ColumnEntity> {\n\t\treturn this.allColumns.filter(c => c.isEnabled());\n\t}\n\n\tprivate findColumnIndex(columnId: ColumnId): number {\n\t\treturn this.allColumns.findIndex((column: ColumnEntity) => column.getId().equals(columnId));\n\t}\n\n\tprivate getMinColumnWidth(): number {\n\t\treturn this.activeColumnContainer.getMinColumnWidth();\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateFactory } from '@generic-ui/hermes';\n\nimport { CompositionId } from './composition.id';\nimport { CompositionAggregate } from './composition.aggregate';\nimport { ColumnEntityFactory } from './column/column-entity.factory';\n\n\n@Injectable()\nexport class CompositionAggregateFactory extends AggregateFactory<CompositionId, CompositionAggregate> {\n\n\tconstructor(private readonly columnFactory: ColumnEntityFactory) {\n\t\tsuper();\n\t}\n\n\tcreate(id: CompositionId): CompositionAggregate {\n\t\treturn new CompositionAggregate(id, this.columnFactory);\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateRepository, CommandType, CreateAggregateCommandHandler, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { CompositionAggregateRepository } from '../composition.aggregate-repository';\nimport { CreateCompositionCommand } from './create-composition.command';\nimport { CompositionCreatedEvent } from './composition-created.event';\nimport { CompositionAggregate } from '../composition.aggregate';\nimport { CompositionId } from '../composition.id';\n\n\n@Injectable()\nexport class CreateCompositionCommandHandler implements CreateAggregateCommandHandler<CompositionAggregate, CreateCompositionCommand> {\n\n\tconstructor(private readonly compositionAggregateRepository: CompositionAggregateRepository,\n\t\t\t\tprivate readonly domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<CreateCompositionCommand> {\n\t\treturn CreateCompositionCommand;\n\t}\n\n\tgetAggregateRepository(): AggregateRepository<CompositionId, CompositionAggregate> {\n\t\treturn this.compositionAggregateRepository;\n\t}\n\n\tpublishDomainEvents(aggregate: CompositionAggregate, command: CreateCompositionCommand): void {\n\t\tthis.domainEventPublisher.publish(new CompositionCreatedEvent(command.getAggregateId()));\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateEvent, Command, CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { CompositionAggregateRepository } from '../../composition.aggregate-repository';\nimport { CompositionEventConverter } from '../../composition.event-converter';\nimport { CompositionAggregate } from '../../composition.aggregate';\nimport { CompositionSetColumnEnabledCommand } from './composition.set-column-enabled.command';\nimport { CompositionId } from '../../composition.id';\n\n@Injectable()\nexport class CompositionSetColumnEnabledCommandHandler implements CommandHandler<CompositionAggregate, CompositionSetColumnEnabledCommand> {\n\n\tconstructor(private readonly compositionAggregateRepository: CompositionAggregateRepository,\n\t\t\t\tprivate readonly domainEventPublisher: DomainEventPublisher,\n\t\t\t\tprivate readonly compositionEventConverter: CompositionEventConverter) {\n\t}\n\n\tforCommand(): CommandType<CompositionSetColumnEnabledCommand> {\n\t\treturn CompositionSetColumnEnabledCommand;\n\t}\n\n\tpublishDomainEvents(aggregate: CompositionAggregate, command: Command): void {\n\t\tthis.publishEvents(aggregate, command);\n\t}\n\n\thandleAggregate(aggregate: CompositionAggregate, command: CompositionSetColumnEnabledCommand): void {\n\n\t\tconst columnId = command.getColumnId(),\n\t\t\tenabled = command.isEnabled();\n\n\t\taggregate.enableColumn(columnId, enabled);\n\t}\n\n\tprivate publishEvents(composition: CompositionAggregate, command: Command): void {\n\n\t\tconst events = composition.getEvents() as Array<AggregateEvent<CompositionId>>;\n\n\t\tconst domainEvents = this.compositionEventConverter.convert(events);\n\n\t\tif (domainEvents && domainEvents.length > 0) {\n\t\t\tthis.domainEventPublisher.publish(domainEvents);\n\t\t}\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateEvent, Command, CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { CompositionAggregateRepository } from '../../composition.aggregate-repository';\nimport { CompositionEventConverter } from '../../composition.event-converter';\nimport { CompositionAggregate } from '../../composition.aggregate';\n\nimport { SetColumnsCommand } from './set-columns.command';\nimport { ColumnParams } from './column.params';\nimport { CompositionId } from '../../composition.id';\n\n\n@Injectable()\nexport class SetColumnsCommandHandler implements CommandHandler<CompositionAggregate, SetColumnsCommand> {\n\n\tconstructor(private readonly compositionAggregateRepository: CompositionAggregateRepository,\n\t\t\t\tprivate readonly domainEventPublisher: DomainEventPublisher,\n\t\t\t\tprivate readonly compositionEventConverter: CompositionEventConverter) {\n\t}\n\n\tforCommand(): CommandType<SetColumnsCommand> {\n\t\treturn SetColumnsCommand;\n\t}\n\n\tpublishDomainEvents(aggregate: CompositionAggregate, command: Command): void {\n\t\tthis.publishEvents(aggregate, command);\n\t}\n\n\thandleAggregate(aggregate: CompositionAggregate, command: SetColumnsCommand): void {\n\n\t\tconst setColumnsParams: Array<ColumnParams> = command.getParams();\n\n\t\taggregate.setColumns(setColumnsParams);\n\t}\n\n\tprivate publishEvents(composition: CompositionAggregate, command: Command): void {\n\n\t\tconst events = composition.getEvents() as Array<AggregateEvent<CompositionId>>;\n\n\t\tconst domainEvents = this.compositionEventConverter.convert(events);\n\n\t\tthis.domainEventPublisher.publish(domainEvents);\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { CompositionAggregateRepository } from '../../composition.aggregate-repository';\nimport { SetCompositionWidthCommand } from './set-composition-width.command';\nimport { CompositionWidthSetEvent } from './composition-width-set.event';\nimport { CompositionAggregate } from '../../composition.aggregate';\n\n@Injectable()\nexport class SetCompositionWidthCommandHandler implements CommandHandler<CompositionAggregate, SetCompositionWidthCommand> {\n\n\tconstructor(compositionAggregateRepository: CompositionAggregateRepository,\n\t\t\t\tprivate readonly domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SetCompositionWidthCommand> {\n\t\treturn SetCompositionWidthCommand;\n\t}\n\n\tpublishDomainEvents(aggregate: CompositionAggregate, command: SetCompositionWidthCommand): void {\n\t\tthis.domainEventPublisher.publish(new CompositionWidthSetEvent(command.getAggregateId()));\n\t}\n\n\thandleAggregate(composition: CompositionAggregate, command: SetCompositionWidthCommand): void {\n\n\t\tconst width = command.getWidth();\n\n\t\tcomposition.setWidth(width);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateEvent, CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { CompositionAggregateRepository } from '../../../composition.aggregate-repository';\nimport { CompositionEventConverter } from '../../../composition.event-converter';\nimport { CompositionAggregate } from '../../../composition.aggregate';\nimport { CompositionMoveLeftColumnCommand } from './composition.move-left-column.command';\nimport { CompositionId } from '../../../composition.id';\n\n@Injectable()\nexport class CompositionMoveLeftColumnCommandHandler implements CommandHandler<CompositionAggregate, CompositionMoveLeftColumnCommand> {\n\n\tconstructor(private readonly compositionAggregateRepository: CompositionAggregateRepository,\n\t\t\t\tprotected domainEventPublisher: DomainEventPublisher,\n\t\t\t\tprivate compositionEventConverter: CompositionEventConverter) {\n\t}\n\n\tforCommand(): CommandType<CompositionMoveLeftColumnCommand> {\n\t\treturn CompositionMoveLeftColumnCommand;\n\t}\n\n\tpublishDomainEvents(aggregate: CompositionAggregate, command: CompositionMoveLeftColumnCommand): void {\n\t\tthis.publishEvents(aggregate, command);\n\t}\n\n\thandleAggregate(aggregate: CompositionAggregate, command: CompositionMoveLeftColumnCommand): void {\n\n\t\tconst columnId = command.getColumnId();\n\n\t\taggregate.moveLeft(columnId);\n\t}\n\n\tprivate publishEvents(composition: CompositionAggregate, command: CompositionMoveLeftColumnCommand): void {\n\n\t\tconst events = composition.getEvents() as Array<AggregateEvent<CompositionId>>;\n\n\t\tconst domainEvents = this.compositionEventConverter.convert(events);\n\n\t\tif (domainEvents && domainEvents.length > 0) {\n\t\t\tthis.domainEventPublisher.publish(domainEvents);\n\t\t}\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateEvent, CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { CompositionAggregateRepository } from '../../../composition.aggregate-repository';\nimport { CompositionEventConverter } from '../../../composition.event-converter';\nimport { CompositionAggregate } from '../../../composition.aggregate';\nimport { CompositionMoveRightColumnCommand } from './composition.move-right-column.command';\nimport { CompositionId } from '../../../composition.id';\n\n@Injectable()\nexport class CompositionMoveRightColumnCommandHandler implements CommandHandler<CompositionAggregate, CompositionMoveRightColumnCommand> {\n\n\tconstructor(private readonly compositionAggregateRepository: CompositionAggregateRepository,\n\t\t\t\tprotected domainEventPublisher: DomainEventPublisher,\n\t\t\t\tprivate compositionEventConverter: CompositionEventConverter) {\n\t}\n\n\tforCommand(): CommandType<CompositionMoveRightColumnCommand> {\n\t\treturn CompositionMoveRightColumnCommand;\n\t}\n\n\tpublishDomainEvents(aggregate: CompositionAggregate, command: CompositionMoveRightColumnCommand): void {\n\t\tthis.publishEvents(aggregate, command);\n\t}\n\n\thandleAggregate(aggregate: CompositionAggregate, command: CompositionMoveRightColumnCommand): void {\n\n\t\tconst columnId = command.getColumnId();\n\n\t\taggregate.moveRight(columnId);\n\t}\n\n\tprivate publishEvents(composition: CompositionAggregate, command: CompositionMoveRightColumnCommand): void {\n\n\t\tconst events = composition.getEvents() as Array<AggregateEvent<CompositionId>>;\n\n\t\tconst domainEvents = this.compositionEventConverter.convert(events);\n\n\t\tif (domainEvents && domainEvents.length > 0) {\n\t\t\tthis.domainEventPublisher.publish(domainEvents);\n\t\t}\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\nimport { CompositionChangeSortStatusCommand } from './composition-change-sort-status.command';\nimport { CompositionChangeSortStatusEvent } from './composition-change-sort-status.event';\nimport { CompositionAggregate } from '../../composition.aggregate';\n\n\n@Injectable()\nexport class CompositionChangeSortStatusCommandHandler implements CommandHandler<CompositionAggregate, CompositionChangeSortStatusCommand> {\n\n\tconstructor(private readonly domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<CompositionChangeSortStatusCommand> {\n\t\treturn CompositionChangeSortStatusCommand;\n\t}\n\n\tpublishDomainEvents(composition: CompositionAggregate, command: CompositionChangeSortStatusCommand): void {\n\n\t\tconst compositionId = command.getAggregateId(),\n\t\t\tcolumns = composition.getActiveColumns();\n\n\t\tthis.domainEventPublisher.publish(new CompositionChangeSortStatusEvent(compositionId, columns));\n\t}\n\n\thandleAggregate(composition: CompositionAggregate, command: CompositionChangeSortStatusCommand): void {\n\n\t\tconst sortParams = command.getSortParams();\n\n\t\tcomposition.changeSort(sortParams);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateEvent, CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { CompositionAggregateRepository } from '../../composition.aggregate-repository';\nimport { CompositionEventConverter } from '../../composition.event-converter';\nimport { SetCompositionContainerWidthCommand } from './set-composition-container-width.command';\nimport { CompositionAggregate } from '../../composition.aggregate';\nimport { CompositionId } from '../../composition.id';\n\n\n@Injectable()\nexport class SetCompositionContainerWidthCommandHandler implements CommandHandler<CompositionAggregate, SetCompositionContainerWidthCommand> {\n\n\tconstructor(private readonly compositionAggregateRepository: CompositionAggregateRepository,\n\t\t\t\tprotected domainEventPublisher: DomainEventPublisher,\n\t\t\t\tprivate compositionEventConverter: CompositionEventConverter) {\n\t}\n\n\tforCommand(): CommandType<SetCompositionContainerWidthCommand> {\n\t\treturn SetCompositionContainerWidthCommand;\n\t}\n\n\tpublishDomainEvents(aggregate: CompositionAggregate, command: SetCompositionContainerWidthCommand): void {\n\t\tthis.publishAggregateEvents(aggregate.getEvents() as Array<AggregateEvent<CompositionId>>);\n\t}\n\n\thandleAggregate(composition: CompositionAggregate, command: SetCompositionContainerWidthCommand): void {\n\n\t\tconst width = command.getWidth();\n\n\t\tcomposition.setContainerWidth(width);\n\t}\n\n\tprivate publishAggregateEvents(aggregateEvents: Array<AggregateEvent<CompositionId>>): void {\n\n\t\tconst domainEvents = this.compositionEventConverter.convert(aggregateEvents);\n\n\t\tthis.domainEventPublisher.publish(domainEvents);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { SetCompositionResizeWidthCommand } from './set-composition-resize-width.command';\nimport { CompositionResizeWidthSetEvent } from './composition-resize-width-set.event';\nimport { CompositionAggregate } from '../../composition.aggregate';\n\n\n@Injectable()\nexport class SetCompositionResizeWidthCommandHandler implements CommandHandler<CompositionAggregate, SetCompositionResizeWidthCommand> {\n\n\tconstructor(private readonly domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SetCompositionResizeWidthCommand> {\n\t\treturn SetCompositionResizeWidthCommand;\n\t}\n\n\tpublishDomainEvents(aggregate: CompositionAggregate, command: SetCompositionResizeWidthCommand): void {\n\t\tthis.domainEventPublisher.publish(new CompositionResizeWidthSetEvent(command.getAggregateId()));\n\t}\n\n\thandleAggregate(composition: CompositionAggregate, command: SetCompositionResizeWidthCommand): void {\n\n\t\tconst enabled = command.getEnabled();\n\n\t\tcomposition.setResizeWidth(enabled);\n\t}\n\n}\n","import { ChangeDetectionStrategy, Component, ElementRef, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { EditCommunicationComponent } from '../edit-communication.component';\nimport { fromEvent } from 'rxjs';\nimport { filter } from 'rxjs/operators';\n\n\n@Component({\n\tselector: 'gui-date-edit',\n\ttemplate: `\n\n\t\t<gui-date-picker #datepicker\n\t\t\t\t\t\t [selectDate]=\"value\"\n\t\t\t\t\t\t [name]=\"filterFieldName\"\n\t\t\t\t\t\t [openDialog]=\"true\"\n\t\t\t\t\t\t [onlyDialog]=\"false\"\n\t\t\t\t\t\t [parentElement]=\"parent\"\n\t\t\t\t\t\t (dialogOpened)=\"dialogOpened($event)\"\n\t\t\t\t\t\t (dateSelected)=\"toggle($event)\">\n\t\t</gui-date-picker>\n\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class DateEditTemplateComponent extends EditCommunicationComponent<Date> {\n\n\t@ViewChild('datepicker', { read: ElementRef, static: true })\n\tdatePickerRef: ElementRef;\n\n\treadonly filterFieldName = 'dateEdit';\n\n\tprivate opened = false;\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tngAfterViewInit() {\n\t\tconst inputElement = this.datePickerRef.nativeElement.querySelector('.gui-date-picker-input');\n\n\t\tconst keyup$ = fromEvent(inputElement, 'keyup');\n\n\t\tkeyup$\n\t\t\t.pipe(\n\t\t\t\tfilter((e: any) => e.keyCode === this.ENTER_KEY_CODE),\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe(() => {\n\t\t\t\tthis.unsubscribe();\n\t\t\t\tthis.submit();\n\t\t\t});\n\n\t\tkeyup$\n\t\t\t.pipe(\n\t\t\t\tfilter((e: any) => e.keyCode === this.ESC_KEY_CODE),\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe(() => {\n\t\t\t\tthis.unsubscribe();\n\t\t\t\tthis.cancel();\n\t\t\t});\n\t}\n\n\ttoggle(changed: Date): void {\n\t\tthis.valueChanges.emit(changed);\n\t}\n\n\tdialogOpened(opened: boolean): void {\n\t\tthis.opened = opened;\n\n\t\tif (!opened) {\n\t\t\tthis.unsubscribe();\n\t\t\tthis.submit();\n\t\t}\n\t}\n\n}\n","import { ChangeDetectionStrategy, Component, Input, OnChanges, SimpleChanges, ViewEncapsulation } from '@angular/core';\n\n@Component({\n\tselector: 'gui-bar-view[value]',\n\ttemplate: `\n\t\t<div class=\"gui-percentage-bar\">\n\t\t\t<div class=\"gui-percentage\" [style.width.%]=\"width\">\n\t\t\t</div>\n\t\t\t<gui-percentage-view *ngIf=\"showPercentage\"\n\t\t\t\t\t\t\t\t [value]=\"value\">\n\t\t\t</gui-percentage-view>\n\t\t</div>\n\t`,\n\thost: {\n\t\t'[class.gui-bar-view]': 'true'\n\t},\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class BarViewComponent implements OnChanges {\n\n\t@Input()\n\tvalue: number;\n\n\t@Input()\n\tshowPercentage: boolean = false;\n\n\twidth: number;\n\n\tngOnChanges(changes: SimpleChanges) {\n\t\tif (changes.value !== undefined && changes.value !== null) {\n\t\t\tthis.width = this.value > 100 ? 100 : this.value;\n\t\t}\n\t}\n\n}\n","import { ChangeDetectionStrategy, Component, Input, ViewEncapsulation } from '@angular/core';\n\n@Component({\n\tselector: 'gui-percentage-view[value]',\n\ttemplate: `\n\t\t{{ value }} %\n\t`,\n\thost: {\n\t\t'[class.gui-percentage-view]': 'true'\n\t},\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class PercentageViewComponent {\n\n\t@Input()\n\tvalue: number;\n\n}\n","import { Attribute, ChangeDetectionStrategy, Component, ElementRef, Input, Renderer2, ViewEncapsulation } from '@angular/core';\n\nimport { CellValue, CellValueType } from '../../definition/cell-value';\n\n@Component({\n\tselector: 'gui-view-text[value]',\n\ttemplate: `\n\n\t\t<ng-container *ngIf=\"isHtml; else text\">\n\t\t\t<span [innerHTML]=\"value.value | guiSafe: 'html'\"></span>\n\t\t</ng-container>\n\t\t\n\t\t<ng-template #text>\n\t\t\t<span >\n\t\t\t\t{{value.value}}\n\t\t\t</span>\n\t\t</ng-template>\n\t`,\n\thost: {\n\t\t'[class.gui-text-view]': 'true'\n\t},\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class TextViewComponent {\n\n\t@Input()\n\tvalue: CellValue;\n\n\tisHtml = false;\n\n\tconstructor(@Attribute('bold') isBold: any,\n\t\t\t\t@Attribute('italic') isItalic: any,\n\t\t\t\tprivate readonly elementRef: ElementRef,\n\t\t\t\tprivate readonly renderer: Renderer2) {\n\n\t\tif (isBold !== null) {\n\t\t\tthis.renderer.addClass(this.elementRef.nativeElement, 'gui-bold');\n\t\t}\n\n\t\tif (isItalic !== null) {\n\t\t\tthis.renderer.addClass(this.elementRef.nativeElement, 'gui-italic');\n\t\t}\n\n\t\tthis.elementRef.nativeElement.className;\n\t}\n\n\tngOnChanges() {\n\t\tthis.isHtml = this.value.type === CellValueType.HTML;\n\t}\n\n}\n","import { DomainEvent } from '@generic-ui/hermes';\nimport { CompositionId } from '../../../../lib/composition/domain/composition.id';\nimport { FieldId } from '../../../field/domain/core/field/field.id';\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\n\n\nexport class SortToggledEvent extends DomainEvent<StructureId> {\n\n\tconstructor(aggregateId: StructureId,\n\t\t\t\tprivate readonly compositionId: CompositionId,\n\t\t\t\tprivate readonly directions: Array<{ fieldId: FieldId, direction: boolean }>) {\n\t\tsuper(aggregateId, 'SortToggledEvent');\n\t}\n\n\tgetCompositionId(): CompositionId {\n\t\treturn this.compositionId;\n\t}\n\n\tgetDirections(): any {\n\t\treturn this.directions;\n\t}\n}\n","export class ColumnFieldId {\n\n\tprivate readonly id: string;\n\n\tconstructor(id: string) {\n\t\tthis.id = id;\n\t}\n\n\tgetId(): string {\n\t\treturn this.id;\n\t}\n\n}\n","import { ColumnFieldId } from '../field/column-field.id';\n\nexport class ChangeSortParams {\n\n\tconstructor(public readonly fieldId: ColumnFieldId,\n\t\t\t\tpublic readonly direction: boolean) {\n\t}\n\n}\n","import { DomainEvent } from '@generic-ui/hermes';\nimport { CompositionId } from '../../../../lib/composition/domain/composition.id';\nimport { FieldId } from '../../../field/domain/core/field/field.id';\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\n\nexport class SortOrderSetEvent extends DomainEvent<StructureId> {\n\n\tconstructor(aggregateId: StructureId,\n\t\t\t\tprivate readonly compositionId: CompositionId,\n\t\t\t\tprivate readonly directions: Array<{ fieldId: FieldId, direction: boolean }>) {\n\t\tsuper(aggregateId, 'SortOrderSetEvent');\n\t}\n\n\tgetCompositionId(): CompositionId {\n\t\treturn this.compositionId;\n\t}\n\n\tgetDirections(): any {\n\t\treturn this.directions;\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventType, MultiDomainEventHandler } from '@generic-ui/hermes';\n\nimport { SortToggledEvent } from '../../../../../structure/sorting/domain/toggle/sort-toggled.event';\n\nimport { CompositionDispatcher } from '../../composition.dispatcher';\nimport { ColumnFieldId } from '../field/column-field.id';\nimport { ChangeSortParams } from './change-sort.params';\nimport { SortOrderSetEvent } from '../../../../../structure/sorting/domain/order/sort-order-set.event';\nimport { CompositionId } from '../../composition.id';\n\nexport type CompositionChangeSortStatusEventType = SortToggledEvent | SortOrderSetEvent;\n\n@Injectable()\nexport class CompositionChangeSortStatusEventHandler implements MultiDomainEventHandler<CompositionId, CompositionChangeSortStatusEventType> {\n\n\tconstructor(private compositionDispatcher: CompositionDispatcher) {\n\t}\n\n\tforEvents(): Array<DomainEventType<CompositionChangeSortStatusEventType>> {\n\t\treturn [\n\t\t\tSortToggledEvent,\n\t\t\tSortOrderSetEvent\n\t\t];\n\t}\n\n\thandle(event: CompositionChangeSortStatusEventType): void {\n\n\t\tif (event.ofMessageType('SortToggledEvent')) {\n\n\t\t\tconst compositionId = event.getCompositionId(),\n\t\t\t\tdirs = event.getDirections();\n\n\t\t\tlet params = dirs.map((dir: any) => {\n\n\t\t\t\tconst columnFieldId = new ColumnFieldId(dir.fieldId.getId());\n\n\t\t\t\treturn new ChangeSortParams(columnFieldId, dir.direction);\n\t\t\t});\n\n\t\t\tthis.compositionDispatcher.changeSort(compositionId, params);\n\t\t}\n\n\t\tif (event.ofMessageType('SortOrderSetEvent')) {\n\n\t\t\tconst compositionId = event.getCompositionId(),\n\t\t\t\tdirs = event.getDirections();\n\n\t\t\tlet params = dirs.map((dir: any) => {\n\n\t\t\t\tconst columnFieldId = new ColumnFieldId(dir.fieldId.getId());\n\n\t\t\t\treturn new ChangeSortParams(columnFieldId, dir.direction);\n\t\t\t});\n\n\t\t\tthis.compositionDispatcher.changeSort(compositionId, params);\n\t\t}\n\t}\n\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { ReactiveFormsModule } from '@angular/forms';\n\nimport {\n\tFabricButtonComponent,\n\tFabricButtonModule,\n\tFabricCheckboxComponent,\n\tFabricCheckboxModule,\n\tFabricChipComponent,\n\tFabricChipModule,\n\tFabricDatePickerModule,\n\tFabricInputComponent,\n\tFabricInputModule\n} from '@generic-ui/fabric';\n\nimport { HermesModule } from '@generic-ui/hermes';\n\nimport { ViewTemplatesComponent } from './read/view/view-templates.component';\nimport { NumberEditTemplateComponent } from './read/edit/template/number-edit-template.component';\nimport { StringEditTemplateComponent } from './read/edit/template/string-edit-template.component';\nimport { EditTemplatesComponent } from './read/edit/edit-templates.component';\nimport { BooleanEditTemplateComponent } from './read/edit/template/boolean-edit-template.component';\nimport { ColumnQueryComponent } from '../feature/column-query.component';\nimport { FunctionViewComponent } from './read/view/function/function-view.component';\nimport { compositionProviders } from './composition.providers';\nimport { SanitizeModule } from '../../../common/cdk/sanitize/sanitize.module';\nimport { CompositionAggregateFactory } from '../domain/composition.aggregate-factory';\nimport { InMemoryCompositionAggregateRepository } from '../infrastructure/in-memory/domain/in-memory.composition.aggregate-repository';\nimport { CreateCompositionCommandHandler } from '../domain/create/create-composition.command-handler';\nimport { CompositionSetColumnEnabledCommandHandler } from '../domain/column/set-enabled/composition.set-column-enabled.command-handler';\nimport { SetColumnsCommandHandler } from '../domain/column/set-columns/set-columns.command-handler';\nimport { SetCompositionWidthCommandHandler } from '../domain/width/set-width/set-composition-width.command-handler';\nimport { CompositionMoveLeftColumnCommandHandler } from '../domain/column/move/left/composition.move-left-column.command-handler';\nimport { CompositionMoveRightColumnCommandHandler } from '../domain/column/move/right/composition.move-right-column.command-handler';\nimport { CompositionChangeSortStatusCommandHandler } from '../domain/column/sort/composition-change-sort-status.command-handler';\nimport { SetCompositionContainerWidthCommandHandler } from '../domain/width/set-container-width/set-composition-container-width.command-handler';\nimport { SetCompositionResizeWidthCommandHandler } from '../domain/width/resize-width/set-composition-resize-width.command-handler';\nimport { DateEditTemplateComponent } from './read/edit/template/date-edit-template.component';\nimport { BarViewComponent } from './read/view/bar/bar-view.component';\nimport { PercentageViewComponent } from './read/view/percentage/percentage-view.component';\nimport { TextViewComponent } from './read/view/text/text-view.component';\nimport { CompositionChangeSortStatusEventHandler } from '../domain/column/sort/composition-change-sort-status.event-handler';\n\n\nconst components = [\n\tViewTemplatesComponent,\n\tEditTemplatesComponent,\n\tStringEditTemplateComponent,\n\tNumberEditTemplateComponent,\n\tBooleanEditTemplateComponent,\n\tDateEditTemplateComponent,\n\tColumnQueryComponent,\n\n\tFunctionViewComponent,\n\tBarViewComponent,\n\tPercentageViewComponent,\n\tTextViewComponent\n];\n\nconst exportDeclarations = [\n\tViewTemplatesComponent,\n\tEditTemplatesComponent,\n\tColumnQueryComponent,\n\n\tFabricChipModule,\n\tFabricCheckboxModule,\n\tFabricButtonModule,\n\tFabricInputModule,\n\n\tFunctionViewComponent,\n\tBarViewComponent,\n\tPercentageViewComponent\n];\n\nexport const compositionKey = 'CompositionAggregate';\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tReactiveFormsModule,\n\n\t\tSanitizeModule,\n\n\t\tFabricChipModule,\n\t\tFabricCheckboxModule,\n\t\tFabricButtonModule,\n\t\tFabricInputModule,\n\t\tFabricDatePickerModule,\n\n\t\tHermesModule.defineAggregate(\n\t\t\tcompositionKey,\n\t\t\tCompositionAggregateFactory,\n\t\t\tInMemoryCompositionAggregateRepository,\n\t\t\tCreateCompositionCommandHandler,\n\n\t\t\t[\n\t\t\t\t...HermesModule.registerCommandHandler(SetColumnsCommandHandler, compositionKey),\n\t\t\t\t...HermesModule.registerCommandHandler(SetCompositionWidthCommandHandler, compositionKey),\n\t\t\t\t...HermesModule.registerCommandHandler(SetCompositionResizeWidthCommandHandler, compositionKey),\n\t\t\t\t...HermesModule.registerCommandHandler(SetCompositionContainerWidthCommandHandler, compositionKey),\n\t\t\t\t...HermesModule.registerCommandHandler(CompositionSetColumnEnabledCommandHandler, compositionKey),\n\t\t\t\t...HermesModule.registerCommandHandler(CompositionChangeSortStatusCommandHandler, compositionKey),\n\t\t\t\t...HermesModule.registerCommandHandler(CompositionMoveLeftColumnCommandHandler, compositionKey),\n\t\t\t\t...HermesModule.registerCommandHandler(CompositionMoveRightColumnCommandHandler, compositionKey)\n\t\t\t], [\n\t\t\t\t...HermesModule.registerMultiDomainEventHandler(CompositionChangeSortStatusEventHandler)\n\t\t\t]\n\t\t)\n\t],\n\tproviders: [\n\t\t...compositionProviders\n\t],\n\tdeclarations: [\n\t\tcomponents\n\t],\n\texports: exportDeclarations,\n\tentryComponents: [\n\t\tViewTemplatesComponent,\n\t\tEditTemplatesComponent,\n\t\tFabricChipComponent,\n\t\tFabricCheckboxComponent,\n\t\tFabricButtonComponent,\n\t\tFabricInputComponent\n\t]\n})\nexport class CompositionModule {\n\n}\n","export class StructureIdGenerator {\n\n\tprivate increment = 0;\n\n\tgenerateId(): number {\n\t\tthis.increment++;\n\t\treturn this.increment;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { Override } from '../../../../../common/cdk/decorators';\n\nimport { PagingCommandDispatcher } from '../../../../../structure/paging/domain-api/paging.command-dispatcher';\nimport { StructureId } from '../../../domain/structure.id';\nimport { PagingManagerFactory } from '../../../../../structure/paging/domain/paging.manager-factory';\nimport { PagingDispatcher } from '../../../../../structure/paging/domain/paging.dispatcher';\nimport { PagingConfig } from '../../../../../structure/paging/domain-api/paging-config';\n\n\n@Injectable()\nexport class LocalPagingCommandDispatcher extends PagingCommandDispatcher {\n\n\tconstructor(private structureId: StructureId,\n\t\t\t\tprivate aggregateFactory: PagingManagerFactory,\n\t\t\t\tpagingDispatcher: PagingDispatcher) {\n\t\tsuper(pagingDispatcher);\n\t}\n\n\tsetDefaultPaging(): void {\n\n\t\tconst defaultPaggingAggregate = this.aggregateFactory.createDefault();\n\n\t\tsuper.setPaging({\n\t\t\tpage: defaultPaggingAggregate.getPage(),\n\t\t\tpageSize: defaultPaggingAggregate.getPageSize(),\n\t\t\tpageSizes: defaultPaggingAggregate.getPageSizes()\n\t\t}, this.structureId);\n\t}\n\n\t@Override\n\tsetPaging(paging: PagingConfig): void {\n\t\tsuper.setPaging(paging, this.structureId);\n\t}\n\n\t@Override\n\tchangePageSize(pageSize: number): void {\n\t\tsuper.changePageSize(pageSize, this.structureId);\n\t}\n\n\t@Override\n\tnextPage(): void {\n\t\tsuper.nextPage(this.structureId);\n\t}\n\n\t@Override\n\tprevPage(): void {\n\t\tsuper.prevPage(this.structureId);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { take } from 'rxjs/operators';\nimport { PagingWarehouse } from '../../../../../structure/paging/domain-api/paging.warehouse';\nimport { StructureId } from '../../../domain/structure.id';\nimport { PagingRepository } from '../../../../../structure/paging/domain-api/read/paging.repository';\nimport { Override } from '../../../../../common/cdk/decorators';\nimport { Paging } from '../../../../../structure/paging/domain-api/read/paging';\n\n\n@Injectable()\nexport class LocalPagingWarehouse extends PagingWarehouse {\n\n\tconstructor(private structureId: StructureId,\n\t\t\t\tpagingRepository: PagingRepository) {\n\t\tsuper(pagingRepository);\n\t}\n\n\t@Override\n\tonPaging(): Observable<Paging> {\n\t\treturn super.onPaging(this.structureId);\n\t}\n\n\t@Override\n\tonSinglePaging(): Observable<Paging> {\n\t\treturn super.onPaging(this.structureId)\n\t\t\t\t\t.pipe(\n\t\t\t\t\t\ttake(1)\n\t\t\t\t\t);\n\t}\n\n}\n","export enum RowSelectToggleType {\n\tNONE,\n\tADD,\n\tRANGE\n}\n","import { Injectable } from '@angular/core';\n\nimport { Override } from '../../../../../common/cdk/decorators';\n\nimport { FormationCommandDispatcher } from '../../../../../structure/source/domain-api/formation/formation.command-dispatcher';\nimport { StructureId } from '../../../domain/structure.id';\nimport { FormationDispatcher } from '../../../../../structure/source/domain/formation/formation.dispatcher';\nimport { RowSelectToggleType } from '../../../../../structure/source/domain/formation/core/row-select-toggle-type';\nimport { CommandDispatcher } from '@generic-ui/hermes';\n\n\n@Injectable()\nexport class LocalFormationCommandDispatcher extends FormationCommandDispatcher {\n\n\tconstructor(private structureId: StructureId,\n\t\t\t\tcommandDispatcher: CommandDispatcher,\n\t\t\t\tformationDispatcher: FormationDispatcher) {\n\t\tsuper(commandDispatcher, formationDispatcher);\n\t}\n\n\tsetDefault(): void {\n\t\tsuper.setDefaultFormation(this.structureId);\n\t}\n\n\t@Override\n\ttoggleSelectedRow(selectedRow: string, type: RowSelectToggleType): void {\n\t\tsuper.toggleSelectedRow(selectedRow, type, this.structureId);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { Override } from '../../../../../common/cdk/decorators';\n\nimport { StructureId } from '../../../domain/structure.id';\nimport { FormationWarehouse } from '../../../../../structure/source/domain-api/formation/formation.warehouse';\nimport { RowSelectedRepository } from '../../../../../structure/source/domain-api/formation/row-selected/row-selected.repository';\nimport { RowSelectedReadModel } from '../../../../../structure/source/domain-api/formation/row-selected.read-model';\nimport { RowSelectionModeRepository } from '../../../../../structure/source/domain-api/formation/mode/row-selection-mode.repository';\nimport { SourceWarehouse } from '../../../../../structure/source/domain-api/source.warehouse';\n\n\n@Injectable()\nexport class LocalFormationWarehouse extends FormationWarehouse {\n\n\tconstructor(private structureId: StructureId,\n\t\t\t\trowSelectedArchive: RowSelectedRepository,\n\t\t\t\trowSelectionModeRepository: RowSelectionModeRepository,\n\t\t\t\tsourceWarehouse: SourceWarehouse) {\n\t\tsuper(rowSelectedArchive, rowSelectionModeRepository, sourceWarehouse);\n\t}\n\n\t@Override\n\tonRowSelectedReadModel(): Observable<RowSelectedReadModel> {\n\t\treturn super.onRowSelectedReadModel(this.structureId);\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandDispatcher } from '@generic-ui/hermes';\n\nimport { StructureCommandDispatcher } from '../../../domain-api/structure.command-dispatcher';\nimport { StructureId } from '../../../domain/structure.id';\nimport { CompositionId } from '../../../../composition/domain/composition.id';\nimport { FilterCommandDispatcher } from '../../../../../structure/filter/domain-api/filter.command-dispatcher';\nimport { SourceDispatcher } from '../../../../../structure/source/domain/source.dispatcher';\nimport { Override } from '../../../../../common/cdk/decorators';\nimport { structureGlobalId } from '../../../domain-api/structure.global-id';\nimport { FilterConfig } from '../../../../../structure/filter/domain-api/filter-config';\nimport { QuickFiltersConfig } from '../../../../../structure/filter/domain-api/quick-filters.config';\nimport { SchemaTheme } from '../../../../../schema/domain/theme/schema-theme';\n\n\n@Injectable()\nexport class LocalStructureCommandDispatcher extends StructureCommandDispatcher {\n\n\tconstructor(private readonly structureId: StructureId,\n\t\t\t\tprivate readonly compositionId: CompositionId,\n\t\t\t\tcommandDispatcher: CommandDispatcher,\n\t\t\t\tstructureFilterCommandService: FilterCommandDispatcher,\n\t\t\t\tsourceDispatcher: SourceDispatcher) {\n\t\tsuper(commandDispatcher, structureFilterCommandService, sourceDispatcher);\n\t}\n\n\t@Override\n\tcreateStructure(): void {\n\t\tsuper.createStructure(this.structureId);\n\t}\n\n\t@Override\n\tenableVerticalScroll(): void {\n\t\tsuper.enableVerticalScroll(this.structureId);\n\t}\n\n\t@Override\n\tdisableVerticalScroll(): void {\n\t\tsuper.disableVerticalScroll(this.structureId);\n\t}\n\n\t@Override\n\tsetScrollPosition(position: number): void {\n\t\tsuper.setScrollPosition(position, this.structureId);\n\t}\n\n\t@Override\n\tsetOrigin(items: Array<any>): void {\n\t\tsuper.setOrigin(items, this.structureId);\n\t}\n\n\t@Override\n\tsetFilterConfig(config: FilterConfig, structureId: StructureId = structureGlobalId): void {\n\t\tsuper.setFilterConfig(config, this.structureId);\n\t}\n\n\t@Override\n\tsetQuickFiltersConfig(config: QuickFiltersConfig, structureId: StructureId = structureGlobalId): void {\n\t\tsuper.setQuickFiltersConfig(config, this.structureId);\n\t}\n\n\t@Override\n\tsetRowHeight(rowHeight: number): void {\n\t\tsuper.setRowHeight(rowHeight, this.structureId);\n\t}\n\n\t@Override\n\tsetContainerHeight(rowHeight: number): void {\n\t\tsuper.setContainerHeight(rowHeight, this.structureId);\n\t}\n\n\t@Override\n\tsetRowHeightBasedOnTheme(theme: SchemaTheme): void {\n\t\tsuper.setRowHeightBasedOnTheme(theme, this.structureId);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { AggregateId } from '@generic-ui/hermes';\n\nimport { StructureReadModelRepository } from './read/structure.read-model-repository';\nimport { structureGlobalId } from './structure.global-id';\nimport { StructureReadModelRoot } from './read/structure.read-model-root';\n\n\n@Injectable()\nexport class StructureWarehouse {\n\n\tconstructor(private readonly structureRepository: StructureReadModelRepository) {\n\t}\n\n\tonStructure(aggregateId: AggregateId = structureGlobalId): Observable<StructureReadModelRoot> {\n\t\treturn this.structureRepository.onStructure(aggregateId);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { Override } from '../../../../../common/cdk/decorators';\n\nimport { StructureWarehouse } from '../../../domain-api/structure.warehouse';\nimport { StructureId } from '../../../domain/structure.id';\nimport { StructureReadModelRepository } from '../../../domain-api/read/structure.read-model-repository';\nimport { StructureReadModelRoot } from '../../../domain-api/read/structure.read-model-root';\n\n\n@Injectable()\nexport class LocalStructureWarehouse extends StructureWarehouse {\n\n\tconstructor(private structureId: StructureId,\n\t\t\t\tstructureRepository: StructureReadModelRepository) {\n\t\tsuper(structureRepository);\n\t}\n\n\t@Override\n\tonStructure(): Observable<StructureReadModelRoot> {\n\t\treturn super.onStructure(this.structureId);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { Override } from '../../../../../common/cdk/decorators';\n\nimport { SourceCommandDispatcher } from '../../../../../structure/source/domain-api/source.command-dispatcher';\nimport { StructureId } from '../../../domain/structure.id';\nimport { SourceDispatcher } from '../../../../../structure/source/domain/source.dispatcher';\nimport { SourceWarehouse } from '../../../../../structure/source/domain-api/source.warehouse';\nimport { StructureEditSourceItemParams } from '../../../../../structure/source/domain/origin/edit/structure.edit-source-item.params';\nimport { FieldWarehouse } from '../../../../../structure/field/domain-api/field.warehouse';\nimport { CommandDispatcher } from '@generic-ui/hermes';\n\n\n@Injectable()\nexport class LocalSourceCommandDispatcher extends SourceCommandDispatcher {\n\n\tconstructor(private readonly structureId: StructureId,\n\t\t\t\tcommandDispatcher: CommandDispatcher,\n\t\t\t\tsourceDispatcher: SourceDispatcher,\n\t\t\t\tfieldWarehouse: FieldWarehouse,\n\t\t\t\tsourceReadModelService: SourceWarehouse) {\n\t\tsuper(commandDispatcher, sourceDispatcher, fieldWarehouse, sourceReadModelService);\n\t}\n\n\t@Override\n\tsetOrigin(items: Array<any>): void {\n\t\tsuper.setOrigin(items, this.structureId);\n\t}\n\n\t@Override\n\tsetLoading(enabled: boolean): void {\n\t\tsuper.setLoading(enabled, this.structureId);\n\t}\n\n\t@Override\n\teditItem(params: StructureEditSourceItemParams): void {\n\t\tsuper.editItem(params, this.structureId);\n\t}\n\n\t@Override\n\teditItemByIndex(itemIndex: number, fieldIndex: number, value: any): void {\n\t\tsuper.editItemByIndex(itemIndex, fieldIndex, value, this.structureId);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { Override } from '../../../../../common/cdk/decorators';\n\nimport { SourceWarehouse } from '../../../../../structure/source/domain-api/source.warehouse';\nimport { StructureId } from '../../../domain/structure.id';\nimport { StructureReadModelRepository } from '../../../domain-api/read/structure.read-model-repository';\nimport { StructureSourceOriginRepository } from '../../../../../structure/source/domain-api/origin/structure.source-origin.repository';\nimport { ItemEntity } from '../../../../../structure/source/domain/core/item/item.entity';\nimport { StructurePreparedItemsRepository } from '../../../../../structure/source/domain-api/prepared/structure.prepared-items.repository';\nimport { structureGlobalId } from '../../../domain-api/structure.global-id';\nimport { OriginItemEntity } from '../../../../../structure/source/domain/origin/origin-item-entity';\n\n\n@Injectable()\nexport class LocalSourceWarehouse extends SourceWarehouse {\n\n\tconstructor(private structureId: StructureId,\n\t\t\t\tstructureRepository: StructureReadModelRepository,\n\t\t\t\tstructurePreparedItemsRepository: StructurePreparedItemsRepository,\n\t\t\t\tstructureSourceOriginRepository: StructureSourceOriginRepository) {\n\t\tsuper(structureRepository, structurePreparedItemsRepository, structureSourceOriginRepository);\n\t}\n\n\t@Override\n\tgetEntities(): Array<ItemEntity> {\n\t\treturn super.getEntities(this.structureId);\n\t}\n\n\t@Override\n\tonEntities(): Observable<Array<ItemEntity>> {\n\t\treturn super.onEntities(this.structureId);\n\t}\n\n\t@Override\n\tonEntitiesSize(): Observable<number> {\n\t\treturn super.onEntitiesSize(this.structureId);\n\t}\n\n\t@Override\n\tonSingleEntities(): Observable<Array<ItemEntity>> {\n\t\treturn super.onSingleEntities(this.structureId);\n\t}\n\n\t@Override\n\tonOriginSize(): Observable<number> {\n\t\treturn super.onOriginSize(this.structureId);\n\t}\n\n\t@Override\n\tonLoading(): Observable<boolean> {\n\t\treturn super.onLoading(this.structureId);\n\t}\n\n\t@Override\n\tonPreparedEntities(): Observable<Array<OriginItemEntity>> {\n\t\treturn super.onPreparedEntities(this.structureId);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { Override } from '../../../../../common/cdk/decorators';\n\nimport { CompositionCommandDispatcher } from '../../../../composition/domain-api/composition.command-dispatcher';\nimport { CompositionId } from '../../../../composition/domain/composition.id';\nimport { CompositionDispatcher } from '../../../../composition/domain/composition.dispatcher';\nimport { compositionGlobalId } from '../../../../composition/domain-api/composition.global-id';\nimport { ColumnParams } from '../../../../composition/domain/column/set-columns/column.params';\nimport { ColumnDefinitionId } from '../../../../composition/domain-api/read/definition/column-definition-id';\n\n\n@Injectable()\nexport class LocalCompositionCommandDispatcher extends CompositionCommandDispatcher {\n\n\tconstructor(private readonly compositionId: CompositionId,\n\t\t\t\tcompositionDispatcher: CompositionDispatcher) {\n\t\tsuper(compositionDispatcher);\n\t}\n\n\t@Override\n\tcreateComposition(compositionId: CompositionId = compositionGlobalId): void {\n\t\tsuper.createComposition(this.compositionId);\n\t}\n\n\t@Override\n\tsetColumns(params: Array<ColumnParams>): void {\n\t\tsuper.setColumns(params, this.compositionId);\n\t}\n\n\t@Override\n\tsetWidth(width: number, compositionId: CompositionId = compositionGlobalId): void {\n\t\tsuper.setWidth(width, this.compositionId);\n\t}\n\n\t@Override\n\tsetContainerWidth(width: number, compositionId: CompositionId = compositionGlobalId): void {\n\t\tsuper.setContainerWidth(width, this.compositionId);\n\t}\n\n\t@Override\n\tsetResizeWidth(enabled: boolean, compositionId: CompositionId = compositionGlobalId): void {\n\t\tsuper.setResizeWidth(enabled, this.compositionId);\n\t}\n\n\t@Override\n\tenableColumn(columnDefId: ColumnDefinitionId, compositionId: CompositionId = compositionGlobalId): void {\n\t\tsuper.enableColumn(columnDefId, this.compositionId);\n\t}\n\n\t@Override\n\tdisableColumn(columnDefId: ColumnDefinitionId, compositionId: CompositionId = compositionGlobalId): void {\n\t\tsuper.disableColumn(columnDefId, this.compositionId);\n\t}\n\n\t@Override\n\tmoveLeft(columnDefId: ColumnDefinitionId, compositionId: CompositionId = compositionGlobalId): void {\n\t\tsuper.moveLeft(columnDefId, this.compositionId);\n\t}\n\n\t@Override\n\tmoveRight(columnDefId: ColumnDefinitionId, compositionId: CompositionId = compositionGlobalId): void {\n\t\tsuper.moveRight(columnDefId, this.compositionId);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { Override } from '../../../../../common/cdk/decorators';\n\nimport { CompositionWarehouse } from '../../../../composition/domain-api/composition.warehouse';\nimport { CompositionId } from '../../../../composition/domain/composition.id';\nimport { CompositionReadModelRootRepository } from '../../../../composition/domain-api/read/composition.read-model-root-repository';\nimport { CellTemplateWithContext } from '../../../../composition/domain-api/read/definition/cell-template-with-context';\nimport { CellTemplateWithAccessor } from '../../../../composition/domain-api/read/definition/cell-template-with-accessor';\nimport { compositionGlobalId } from '../../../../composition/domain-api/composition.global-id';\nimport { FieldId } from '../../../../../structure/field/domain/core/field/field.id';\nimport { SortOrder } from '../../../../composition/domain/column/sort/sort-order';\n\n\n@Injectable()\nexport class LocalCompositionWarehouse extends CompositionWarehouse {\n\n\tconstructor(private readonly compositionId: CompositionId,\n\t\t\t\tcompositionRepository: CompositionReadModelRootRepository) {\n\t\tsuper(compositionRepository);\n\t}\n\n\t@Override\n\tonWidth(): Observable<number> {\n\t\treturn super.onWidth(this.compositionId);\n\t}\n\n\t@Override\n\tonContainerWidth(compositionId: CompositionId = compositionGlobalId): Observable<number> {\n\t\treturn super.onContainerWidth(this.compositionId);\n\t}\n\n\t@Override\n\tonWidthForEachColumn(): Observable<Array<number>> {\n\t\treturn super.onWidthForEachColumn(this.compositionId);\n\t}\n\n\t@Override\n\tonHeaderColumns(): Observable<Array<CellTemplateWithContext>> {\n\t\treturn super.onHeaderColumns(this.compositionId);\n\t}\n\n\t@Override\n\tonAllColumns(compositionId: CompositionId = compositionGlobalId): Observable<Array<CellTemplateWithContext>> {\n\t\treturn super.onAllColumns(this.compositionId);\n\t}\n\n\t@Override\n\tonSortOrder(fieldId: FieldId): Observable<SortOrder> {\n\t\treturn super.onSortOrder(fieldId, this.compositionId);\n\t}\n\n\t@Override\n\tonTemplateColumns(): Observable<Array<CellTemplateWithAccessor>> {\n\t\treturn super.onTemplateColumns(this.compositionId);\n\t}\n\n\t@Override\n\tonResizeWidth(): Observable<boolean> {\n\t\treturn super.onResizeWidth(this.compositionId);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandDispatcher } from '@generic-ui/hermes';\n\nimport { SearchDispatcher } from '../../../../../structure/search/domain/search.dispatcher';\nimport { StructureId } from '../../../domain/structure.id';\nimport { SearchConfig } from '../../../../../structure/search/domain-api/search-config';\nimport { Override } from '../../../../../common/cdk/decorators';\nimport { SearchHighlightArchive } from '../../../../../structure/search/domain-api/highlight/search-highlight.archive';\nimport { SearchPlaceholderArchive } from '../../../../../structure/search/domain-api/placeholder/search-placeholder.archive';\n\n\n@Injectable()\nexport class LocalStructureSearchCommandDispatcher extends SearchDispatcher {\n\n\tconstructor(private structureId: StructureId,\n\t\t\t\tcommandDispatcher: CommandDispatcher,\n\t\t\t\tstructureSearchHighlightArchive: SearchHighlightArchive,\n\t\t\t\tstructureSearchPlaceholderArchive: SearchPlaceholderArchive) {\n\t\tsuper(commandDispatcher, structureSearchHighlightArchive, structureSearchPlaceholderArchive);\n\t}\n\n\t@Override\n\tsetSearchingConfig(config: SearchConfig): void {\n\t\tsuper.setSearchingConfig(config, this.structureId);\n\t}\n\n\t@Override\n\tsearch(phrase: string): void {\n\t\tsuper.search(phrase, this.structureId);\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { SchemaReadModelRootId } from '../../../../../schema/domain-api/read/schema.read-model-root-id';\nimport { SchemaTheme } from '../../../../../schema/domain/theme/schema-theme';\nimport { SchemaWarehouse } from '../../../../../schema/domain-api/schema.warehouse';\n\nimport { Override } from '../../../../../common/cdk/decorators';\nimport { SchemaCssClass } from '../../../../../schema/domain-api/css-classes/schema-css-class';\nimport { SchemaCssClassesRepository } from '../../../../../schema/domain-api/css-classes/schema.css-classes.repository';\nimport { SchemaThemeRepository } from '../../../../../schema/domain-api/theme/schema.theme.repository';\nimport { SchemaHorizontalGridRepository } from '../../../../../schema/domain-api/horizontal-grid/schema.horizontal-grid.repository';\nimport { SchemaRowColoringRepository } from '../../../../../schema/domain-api/row-coloring/schema.row-coloring.repository';\nimport { SchemaVerticalGridRepository } from '../../../../../schema/domain-api/vertical-grid/schema.vertical-grid.repository';\nimport { SchemaRowColoring } from '../../../../../schema/domain/coloring/schema-row-coloring';\n\n\n@Injectable()\nexport class LocalSchemaWarehouse extends SchemaWarehouse {\n\n\tconstructor(private readonly schemaReadModelRootId: SchemaReadModelRootId,\n\t\t\t\tschemaCssClassesRepository: SchemaCssClassesRepository,\n\t\t\t\tschemaThemeRepository: SchemaThemeRepository,\n\t\t\t\tschemaHorizontalGridRepository: SchemaHorizontalGridRepository,\n\t\t\t\tschemaRowColoringRepository: SchemaRowColoringRepository,\n\t\t\t\tschemaVerticalGridRepository: SchemaVerticalGridRepository) {\n\t\tsuper(schemaCssClassesRepository, schemaThemeRepository, schemaHorizontalGridRepository,\n\t\t\tschemaRowColoringRepository, schemaVerticalGridRepository);\n\t}\n\n\t@Override\n\tonTheme(): Observable<SchemaTheme> {\n\t\treturn super.onTheme(this.schemaReadModelRootId);\n\t}\n\n\t@Override\n\tonHorizontalGrid(): Observable<boolean> {\n\t\treturn super.onHorizontalGrid(this.schemaReadModelRootId);\n\t}\n\n\t@Override\n\tonVerticalGrid(): Observable<boolean> {\n\t\treturn super.onVerticalGrid(this.schemaReadModelRootId);\n\t}\n\n\t@Override\n\tonRowColoring(): Observable<SchemaRowColoring> {\n\t\treturn super.onRowColoring(this.schemaReadModelRootId);\n\t}\n\n\t@Override\n\tonSingleTheme(): Observable<SchemaTheme> {\n\t\treturn super.onSingleTheme(this.schemaReadModelRootId);\n\t}\n\n\t@Override\n\tonCssClasses(): Observable<SchemaCssClass> {\n\t\treturn super.onCssClasses(this.schemaReadModelRootId);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { SchemaDispatcher } from '../../../../../schema/domain/schema.dispatcher';\nimport { SchemaReadModelRootId } from '../../../../../schema/domain-api/read/schema.read-model-root-id';\nimport { SchemaTheme } from '../../../../../schema/domain/theme/schema-theme';\nimport { SchemaCommandDispatcher } from '../../../../../schema/domain-api/schema.command-dispatcher';\nimport { StructureCommandDispatcher } from '../../../domain-api/structure.command-dispatcher';\n\nimport { Override } from '../../../../../common/cdk/decorators';\nimport { StructureId } from '../../../domain/structure.id';\nimport { RowColoring } from '../../../../../schema/domain-api/row-coloring';\n\n\n@Injectable()\nexport class LocalSchemaCommandDispatcher extends SchemaCommandDispatcher {\n\n\tconstructor(private readonly schemaReadModelRootId: SchemaReadModelRootId,\n\t\t\t\tprivate readonly structureId: StructureId,\n\t\t\t\tstructureCommandService: StructureCommandDispatcher,\n\t\t\t\tschemaDispatcher: SchemaDispatcher) {\n\t\tsuper(schemaDispatcher, structureCommandService);\n\t}\n\n\t@Override\n\tcreate(): void {\n\t\tsuper.create(this.schemaReadModelRootId);\n\t}\n\n\t@Override\n\tsetTheme(theme: SchemaTheme): void {\n\t\tsuper.setTheme(theme, this.schemaReadModelRootId, this.structureId);\n\t}\n\n\t@Override\n\tsetRowColoring(rowColoring: RowColoring): void {\n\t\tsuper.setRowColoring(rowColoring, this.schemaReadModelRootId);\n\t}\n\n\t@Override\n\tsetVerticalGrid(verticalGrid: boolean): void {\n\t\tsuper.setVerticalGrid(verticalGrid, this.schemaReadModelRootId);\n\t}\n\n\t@Override\n\tsetHorizontalGrid(horizontalGrid: boolean): void {\n\t\tsuper.setHorizontalGrid(horizontalGrid, this.schemaReadModelRootId);\n\t}\n\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../structure.id';\n\nexport class StructureCreatedEvent extends DomainEvent<StructureId> {\n\n\tconstructor(aggregateId: StructureId) {\n\t\tsuper(aggregateId, 'StructureCreatedEvent');\n\t}\n}\n","import { DomainEvent } from '@generic-ui/hermes';\nimport { StructureId } from '../../../structure.id';\n\nexport class VerticalScrollEnabledSetEvent extends DomainEvent<StructureId> {\n\n\tconstructor(aggregateId: StructureId) {\n\t\tsuper(aggregateId, 'VerticalScrollEnabledSetEvent');\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { InMemoryStore } from '@generic-ui/hermes';\n\nimport { StructureAggregate } from '../../domain/structure/structure.aggregate';\nimport { StructureId } from '../../domain/structure.id';\n\n\n@Injectable()\nexport class InMemoryStructureStore extends InMemoryStore<StructureId, StructureAggregate> {\n}\n","import { ReadModelObject } from '@generic-ui/hermes';\n\n@ReadModelObject\nexport class Source {\n\n\tconstructor(private readonly loading: boolean) {\n\t}\n\n\tisLoading(): boolean {\n\t\treturn this.loading;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { Source } from './read/source';\nimport { SourceManager } from '../domain/core/source.manager';\n\n@Injectable()\nexport class SourceConverter {\n\n\tconvert(aggregate: SourceManager): Source {\n\t\treturn new Source(aggregate.isLoading());\n\t}\n\n}\n","import { ReadModelObject } from '@generic-ui/hermes';\n\n\n@ReadModelObject\nexport class VerticalFormationReadModel {\n\n\tconstructor(private readonly enabled: boolean,\n\t\t\t\tprivate readonly topMargin: number,\n\t\t\t\tprivate readonly sourceHeight: number,\n\t\t\t\tprivate readonly viewportHeight: number,\n\t\t\t\tprivate readonly rowHeight: number) {\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n\tgetTopMargin(): number {\n\t\treturn this.topMargin; //  * this.rowHeight;\n\t}\n\n\tgetSourceHeight(): number {\n\t\treturn this.sourceHeight;\n\t}\n\n\tgetViewPortHeight(): number {\n\t\treturn this.viewportHeight;\n\t}\n\n\tgetRowHeight(): number {\n\t\treturn this.rowHeight;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { VerticalFormation } from '../../domain/structure/vertical-formation/vertical-formation';\nimport { VerticalFormationReadModel } from './vertical-formation.read-model';\n\n\n@Injectable()\nexport class VerticalFormationConverter {\n\n\tconvert(verticalFormation: VerticalFormation): VerticalFormationReadModel {\n\n\t\tconst enabled = verticalFormation.isEnabled(),\n\t\t\ttopMargin = verticalFormation.getTopMargin(),\n\t\t\tsourceHeight = verticalFormation.getSourceHeight(),\n\t\t\tviewportHeight = verticalFormation.getViewPortHeight(),\n\t\t\trowHeight = verticalFormation.getRowHeight();\n\n\t\treturn new VerticalFormationReadModel(enabled, topMargin, sourceHeight, viewportHeight, rowHeight);\n\t}\n\n}\n","import { ReadModelRoot } from '@generic-ui/hermes';\n\nimport { Paging } from '../../../../structure/paging/domain-api/read/paging';\nimport { Source } from '../../../../structure/source/domain-api/read/source';\nimport { ItemEntity } from '../../../../structure/source/domain/core/item/item.entity';\nimport { VerticalFormationReadModel } from '../vertical-formation/vertical-formation.read-model';\nimport { StructureReadModelRootId } from './structure.read-model-root-id';\n\n\nexport class StructureReadModelRoot extends ReadModelRoot<StructureReadModelRootId> {\n\n\tprivate readonly paging: Paging;\n\n\tprivate readonly entities: Array<ItemEntity>;\n\n\tprivate readonly source: Source;\n\n\tprivate readonly verticalFormation: VerticalFormationReadModel;\n\n\tconstructor(uid: StructureReadModelRootId,\n\t\t\t\tpaging: Paging,\n\t\t\t\tentities: Array<ItemEntity>,\n\t\t\t\tsource: Source,\n\t\t\t\tverticalFormation: VerticalFormationReadModel) {\n\t\tsuper(uid);\n\t\tthis.paging = paging;\n\t\tthis.entities = entities;\n\t\tthis.source = source;\n\t\tthis.verticalFormation = verticalFormation;\n\t}\n\n\tgetPaging(): Paging {\n\t\treturn this.paging;\n\t}\n\n\tgetEntities(): Array<ItemEntity> {\n\t\treturn this.entities;\n\t}\n\n\tgetSource(): Source {\n\t\treturn this.source;\n\t}\n\n\tgetVerticalFormation(): VerticalFormationReadModel {\n\t\treturn this.verticalFormation;\n\t}\n\n\t// TODO Remove\n\tgetTopMargin(): number {\n\t\treturn this.verticalFormation.getTopMargin();\n\t}\n\n\tisLoaderVisible(): boolean {\n\t\treturn this.getSource().isLoading();\n\t}\n\n\tgetSourceHeight(): number {\n\t\treturn this.verticalFormation.getSourceHeight();\n\t}\n\n\tisReadyToDisplay(): boolean {\n\t\treturn this.entities.length > 0;\n\t\t// this.presentation.getColumns().length > 0; // TODO presentation getColumns\n\t}\n\n\tisVerticalScrollEnabled(): boolean {\n\t\treturn this.verticalFormation.isEnabled();\n\t}\n\n}\n\n","import { RandomStringGenerator } from '@generic-ui/hermes';\n\n\nexport class ItemEntity {\n\n\tprivate readonly id: string;\n\n\tprivate readonly data: any;\n\n\tprivate readonly position: number;\n\n\tprivate readonly version: number = 0;\n\n\tconstructor(data: any,\n\t\t\t\tposition: number,\n\t\t\t\tid?: string,\n\t\t\t\tversion: number = 0) {\n\t\tthis.data = data;\n\t\tthis.position = position;\n\t\tthis.version = version;\n\t\tif (!id) {\n\t\t\tthis.id = RandomStringGenerator.generate();\n\t\t} else {\n\t\t\tthis.id = id;\n\t\t}\n\t}\n\n\tgetData(): any {\n\t\treturn this.data;\n\t}\n\n\tgetUiId(): string {\n\t\treturn 'gui' + this.id.replace(/-/g, '');\n\t}\n\n\tgetId(): string {\n\t\treturn this.id;\n\t}\n\n\tgetVersion(): number {\n\t\treturn this.version;\n\t}\n\n\tgetPosition(): number {\n\t\treturn this.position;\n\t}\n\n\tisSelected(): boolean {\n\t\treturn false;\n\t}\n\n\tisEven(): boolean {\n\t\treturn this.position % 2 === 0;\n\t}\n\n\tisOdd(): boolean {\n\t\treturn this.position % 2 === 1;\n\t}\n\n\tequals(entity: ItemEntity): boolean {\n\t\treturn this.id === entity.id && this.getVersion() === entity.getVersion();\n\t}\n\n\tequalsById(id: string): boolean {\n\t\treturn this.id === id;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { PagingConverter } from '../../../../structure/paging/domain-api/read/paging.converter';\nimport { SourceConverter } from '../../../../structure/source/domain-api/source.converter';\nimport { VerticalFormationConverter } from '../vertical-formation/vertical-formation.converter';\nimport { StructureAggregate } from '../../domain/structure/structure.aggregate';\nimport { StructureReadModelRoot } from './structure.read-model-root';\nimport { OriginItemEntity } from '../../../../structure/source/domain/origin/origin-item-entity';\nimport { ItemEntity } from '../../../../structure/source/domain/core/item/item.entity';\n\n\n@Injectable()\nexport class StructureReadModelRootConverter {\n\n\tconstructor(private pagingConverter: PagingConverter,\n\t\t\t\tprivate sourceConverter: SourceConverter,\n\t\t\t\tprivate verticalFormationConverter: VerticalFormationConverter) {\n\t}\n\n\tconvert(aggregate: StructureAggregate): StructureReadModelRoot {\n\n\t\tconst pagingAggregate = aggregate.getPaging(),\n\t\t\toriginItemEntities = aggregate.getEntities(),\n\t\t\tsourceCoordinator = aggregate.getSource(),\n\t\t\tverticalFormation = aggregate.getVerticalFormation();\n\n\t\treturn new StructureReadModelRoot(\n\t\t\taggregate.getId().toReadModelRootId(),\n\t\t\tthis.pagingConverter.convert(pagingAggregate),\n\t\t\tthis.convertSource(originItemEntities),\n\t\t\tthis.sourceConverter.convert(sourceCoordinator),\n\t\t\tthis.verticalFormationConverter.convert(verticalFormation)\n\t\t);\n\t}\n\n\tprivate convertSource(source: Array<OriginItemEntity>): Array<ItemEntity> {\n\t\treturn source.map((originItem: OriginItemEntity) => {\n\t\t\treturn new ItemEntity(originItem.rawData, originItem.getPosition(), originItem.getId().toString(), originItem.getVersion());\n\t\t});\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { InMemoryReadModelStore } from '@generic-ui/hermes';\n\nimport { StructureReadModelRoot } from '../../../domain-api/read/structure.read-model-root';\nimport { StructureAggregate } from '../../../domain/structure/structure.aggregate';\nimport { InMemoryStructureStore } from '../in-memory.structure.store';\nimport { StructureReadModelRootConverter } from '../../../domain-api/read/structure.read-model-root-converter';\nimport { StructureReadModelRootId } from '../../../domain-api/read/structure.read-model-root-id';\nimport { StructureId } from '../../../domain/structure.id';\n\n\n@Injectable()\nexport class InMemoryStructureReadStore extends InMemoryReadModelStore<StructureReadModelRootId,\n\tStructureReadModelRoot,\n\tStructureId,\n\tStructureAggregate> {\n\n\tconstructor(private inMemoryProjectStore: InMemoryStructureStore,\n\t\t\t\tprivate structureConverter: StructureReadModelRootConverter) {\n\t\tsuper(inMemoryProjectStore);\n\t}\n\n\ttoReadModel(aggregate: StructureAggregate): StructureReadModelRoot {\n\t\treturn this.structureConverter.convert(aggregate);\n\t}\n\n}\n","import { DomainEvent } from '@generic-ui/hermes';\nimport { StructureId } from '../../../structure.id';\n\nexport class RowHeightSetEvent extends DomainEvent<StructureId> {\n\n\tconstructor(aggregateId: StructureId) {\n\t\tsuper(aggregateId, 'RowHeightSetEvent');\n\t}\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { SchemaId } from '../schema.id';\nimport { SchemaTheme } from './schema-theme';\n\nexport class SchemaThemeSetEvent extends DomainEvent<SchemaId> {\n\n\tconstructor(schemaId: SchemaId,\n\t\t\t\tprivate readonly theme: SchemaTheme) {\n\t\tsuper(schemaId, 'SchemaThemeSetEvent');\n\t}\n\n\tgetTheme(): SchemaTheme {\n\t\treturn this.theme;\n\t}\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../structure.id';\n\n\nexport class StructureHeightSetEvent extends DomainEvent<StructureId> {\n\n\tconstructor(aggregateId: StructureId) {\n\t\tsuper(aggregateId, 'StructureHeightSetEvent');\n\t}\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { OriginItemEntity } from '../origin-item-entity';\nimport { StructureId } from '../../../../../lib/structure/domain/structure.id';\n\n\nexport class OriginSetEvent extends DomainEvent<StructureId> {\n\n\tconstructor(aggregateId: StructureId,\n\t\t\t\tprivate readonly origin: Array<OriginItemEntity>) {\n\t\tsuper(aggregateId, 'OriginSetEvent');\n\t}\n\n\tgetOrigin(): Array<OriginItemEntity> {\n\t\treturn this.origin;\n\t}\n}\n","import { DomainEvent } from '@generic-ui/hermes';\nimport { StructureId } from '../../../structure.id';\n\nexport class ScrollPositionSetEvent extends DomainEvent<StructureId> {\n\n\tconstructor(aggregateId: StructureId) {\n\t\tsuper(aggregateId, 'ScrollPositionSetEvent');\n\t}\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../structure.id';\n\n\nexport class RowHeightSetBasedOnThemeEvent extends DomainEvent<StructureId> {\n\n\tconstructor(structureId: StructureId) {\n\t\tsuper(structureId, 'RowHeightSetBasedOnThemeEvent');\n\t}\n}\n","import { DomainEvent } from '@generic-ui/hermes';\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\n\nexport class SearchPhraseSetDomainEvent extends DomainEvent<StructureId> {\n\n\tconstructor(aggregateId: StructureId,\n\t\t\t\tprivate readonly phrase: string,\n\t\t\t\tprivate readonly initial: boolean) {\n\t\tsuper(aggregateId, 'SearchPhraseSetDomainEvent');\n\t}\n\n\tgetPhrase(): string {\n\t\treturn this.phrase;\n\t}\n\n\tisInitial(): boolean {\n\t\treturn this.initial;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, ReplaySubject } from 'rxjs';\nimport { distinctUntilChanged, filter, map } from 'rxjs/operators';\n\nimport { DomainEvent, DomainEventBus } from '@generic-ui/hermes';\n\nimport { Reactive } from '../../../../common/cdk/reactive';\nimport { StructureId } from '../../domain/structure.id';\nimport { VerticalFormationReadModel } from './vertical-formation.read-model';\nimport { StructureCreatedEvent } from '../../domain/structure/create-structure/structure-created.event';\nimport { VerticalScrollEnabledSetEvent } from '../../domain/structure/vertical-formation/set-enabled/vertical-scroll-enabled-set.event';\nimport { InMemoryStructureReadStore } from '../../infrastructure/in-memory/domain-api/in-memory-structure.read-store';\nimport { RowHeightSetEvent } from '../../domain/structure/vertical-formation/set-row-height/row-height-set.event';\nimport { StructureReadModelRoot } from '../read/structure.read-model-root';\nimport { SchemaThemeSetEvent } from '../../../../schema/domain/theme/schema-theme-set.event';\nimport { StructureHeightSetEvent } from '../../domain/structure/vertical-formation/container/set-height/structure-height-set.event';\nimport { OriginSetEvent } from '../../../../structure/source/domain/origin/set-origin/origin-set.event';\nimport { ScrollPositionSetEvent } from '../../domain/structure/vertical-formation/scroll-position/scroll-position-set.event';\nimport { RowHeightSetBasedOnThemeEvent } from '../../domain/structure/vertical-formation/set-row-height-theme/row-height-set-based-on-theme.event';\nimport { SearchPhraseSetDomainEvent } from '../../../../structure/search/domain/set-phrase/search-phrase-set.domain-event';\n\n\n@Injectable()\nexport class VerticalFormationRepository extends Reactive {\n\n\tprivate readonly verticalFormation = new Map<string, VerticalFormationReadModel>();\n\n\tprivate readonly verticalFormation$ = new ReplaySubject<Map<string, VerticalFormationReadModel>>();\n\n\tconstructor(private readonly domainEventBus: DomainEventBus,\n\t\t\t\tprivate inMemoryStructureReadStore: InMemoryStructureReadStore) {\n\t\tsuper();\n\n\t\tthis.domainEventBus\n\t\t\t.ofEvent(\n\t\t\t\tStructureCreatedEvent as any,\n\t\t\t\tVerticalScrollEnabledSetEvent as any,\n\t\t\t\tOriginSetEvent as any,\n\t\t\t\tStructureHeightSetEvent as any,\n\t\t\t\tRowHeightSetEvent as any,\n\t\t\t\tSchemaThemeSetEvent as any, // TODO\n\t\t\t\tRowHeightSetBasedOnThemeEvent as any,\n\t\t\t\tScrollPositionSetEvent as any,\n\t\t\t\tSearchPhraseSetDomainEvent as any\n\t\t\t)\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((event: DomainEvent<StructureId>) => {\n\n\t\t\t\tconst aggregateId = event.getAggregateId();\n\n\t\t\t\tconst optStructure = this.inMemoryStructureReadStore.getById(aggregateId);\n\n\t\t\t\toptStructure.ifPresent((structureReadModelRoot: StructureReadModelRoot) => {\n\n\t\t\t\t\tconst verticalFormation = structureReadModelRoot.getVerticalFormation(),\n\t\t\t\t\t\tstructureReadModelRootId = structureReadModelRoot.getId();\n\n\t\t\t\t\tthis.next(aggregateId, verticalFormation);\n\t\t\t\t});\n\n\t\t\t});\n\t}\n\n\tonVerticalScrollEnabled(structureId: StructureId): Observable<boolean> {\n\n\t\treturn this.onVerticalFormation(structureId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((v: VerticalFormationReadModel) => v.isEnabled()),\n\t\t\t\t\t   distinctUntilChanged()\n\t\t\t\t   );\n\t}\n\n\tonRowHeight(structureId: StructureId): Observable<number> {\n\n\t\treturn this.onVerticalFormation(structureId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((v: VerticalFormationReadModel) => v.getRowHeight())\n\t\t\t\t   );\n\t}\n\n\tonContainerHeight(structureId: StructureId): Observable<number> {\n\n\t\treturn this.onVerticalFormation(structureId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((v: VerticalFormationReadModel) => v.getViewPortHeight())\n\t\t\t\t   );\n\t}\n\n\tonTopMargin(structureId: StructureId): Observable<number> {\n\n\t\treturn this.onVerticalFormation(structureId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((v: VerticalFormationReadModel) => v.getTopMargin())\n\t\t\t\t   );\n\t}\n\n\tprivate onVerticalFormation(structureId: StructureId): Observable<VerticalFormationReadModel> {\n\n\t\treturn this.verticalFormation$\n\t\t\t\t   .asObservable()\n\t\t\t\t   .pipe(\n\t\t\t\t\t   filter((idToVerticalFormation: Map<string, VerticalFormationReadModel>) => {\n\n\t\t\t\t\t\t   const key = structureId.getId();\n\n\t\t\t\t\t\t   return idToVerticalFormation.has(key);\n\t\t\t\t\t   }),\n\t\t\t\t\t   map((idToVerticalFormation: Map<string, VerticalFormationReadModel>) => idToVerticalFormation.get(structureId.getId()))\n\t\t\t\t   );\n\t}\n\n\tprivate next(structureId: StructureId, verticalFormation: VerticalFormationReadModel): void {\n\t\tthis.verticalFormation.set(structureId.toString(), verticalFormation);\n\t\tthis.verticalFormation$.next(this.verticalFormation);\n\t}\n\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { VerticalFormationRepository } from './vertical-formation.repository';\nimport { StructureId } from '../../domain/structure.id';\n\n\n@Injectable()\nexport class StructureVerticalFormationWarehouse {\n\n\tconstructor(private verticalFormationRepository: VerticalFormationRepository) {\n\t}\n\n\tonVerticalScrollEnabled(structureId: StructureId): Observable<boolean> {\n\t\treturn this.verticalFormationRepository.onVerticalScrollEnabled(structureId);\n\t}\n\n\tonRowHeight(structureId: StructureId): Observable<number> {\n\t\treturn this.verticalFormationRepository.onRowHeight(structureId);\n\t}\n\n\tonContainerHeight(structureId: StructureId): Observable<number> {\n\t\treturn this.verticalFormationRepository.onContainerHeight(structureId);\n\t}\n\n\tonTopMargin(structureId: StructureId): Observable<number> {\n\t\treturn this.verticalFormationRepository.onTopMargin(structureId);\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { Override } from '../../../../../common/cdk/decorators';\n\nimport { StructureVerticalFormationWarehouse } from '../../../domain-api/vertical-formation/structure-vertical-formation.warehouse';\nimport { StructureId } from '../../../domain/structure.id';\nimport { VerticalFormationRepository } from '../../../domain-api/vertical-formation/vertical-formation.repository';\n\n\n@Injectable()\nexport class LocalStructureVerticalFormationWarehouse extends StructureVerticalFormationWarehouse {\n\n\tconstructor(private readonly structureId: StructureId,\n\t\t\t\tverticalFormationRepository: VerticalFormationRepository) {\n\t\tsuper(verticalFormationRepository);\n\t}\n\n\t@Override\n\tonVerticalScrollEnabled(): Observable<boolean> {\n\t\treturn super.onVerticalScrollEnabled(this.structureId);\n\t}\n\n\t@Override\n\tonRowHeight(): Observable<number> {\n\t\treturn super.onRowHeight(this.structureId);\n\t}\n\n\t@Override\n\tonContainerHeight(): Observable<number> {\n\t\treturn super.onContainerHeight(this.structureId);\n\t}\n\n\t@Override\n\tonTopMargin(): Observable<number> {\n\t\treturn super.onTopMargin(this.structureId);\n\t}\n}\n","import { CompositionCommandDispatcher } from '../../../composition/domain-api/composition.command-dispatcher';\nimport { PagingCommandDispatcher } from '../../../../structure/paging/domain-api/paging.command-dispatcher';\nimport { LocalPagingCommandDispatcher } from './paging/local-paging.command-dispatcher';\nimport { LocalPagingWarehouse } from './paging/local-paging.warehouse';\nimport { FormationCommandDispatcher } from '../../../../structure/source/domain-api/formation/formation.command-dispatcher';\nimport { LocalFormationCommandDispatcher } from './formation/local-formation.command-dispatcher';\nimport { FormationWarehouse } from '../../../../structure/source/domain-api/formation/formation.warehouse';\nimport { LocalFormationWarehouse } from './formation/local-formation.warehouse';\nimport { StructureCommandDispatcher } from '../../domain-api/structure.command-dispatcher';\nimport { LocalStructureCommandDispatcher } from './structure/local-structure.command-dispatcher';\nimport { StructureWarehouse } from '../../domain-api/structure.warehouse';\nimport { LocalStructureWarehouse } from './structure/local-structure.warehouse';\nimport { SourceCommandDispatcher } from '../../../../structure/source/domain-api/source.command-dispatcher';\nimport { LocalSourceCommandDispatcher } from './source/local-source.command-dispatcher';\nimport { SourceWarehouse } from '../../../../structure/source/domain-api/source.warehouse';\nimport { LocalSourceWarehouse } from './source/local-source.warehouse';\nimport { LocalCompositionCommandDispatcher } from './composition/local-composition.command-dispatcher';\nimport { CompositionWarehouse } from '../../../composition/domain-api/composition.warehouse';\nimport { LocalCompositionWarehouse } from './composition/local-composition.warehouse';\nimport { PagingWarehouse } from '../../../../structure/paging/domain-api/paging.warehouse';\nimport { SearchDispatcher } from '../../../../structure/search/domain/search.dispatcher';\nimport { LocalStructureSearchCommandDispatcher } from './search/local-structure-search.command-dispatcher';\n\nimport { SchemaWarehouse } from '../../../../schema/domain-api/schema.warehouse';\nimport { LocalSchemaWarehouse } from './schema/local-schema.warehouse';\nimport { SchemaCommandDispatcher } from '../../../../schema/domain-api/schema.command-dispatcher';\nimport { LocalSchemaCommandDispatcher } from './schema/local-schema.command-dispatcher';\nimport { StructureVerticalFormationWarehouse } from '../../domain-api/vertical-formation/structure-vertical-formation.warehouse';\nimport { LocalStructureVerticalFormationWarehouse } from './vertical-formation/local-structure-vertical-formation.warehouse';\nimport { Provider } from '@angular/core';\n\nexport const localProviders = [\n\t{ provide: PagingCommandDispatcher, useClass: LocalPagingCommandDispatcher },\n\t{ provide: PagingWarehouse, useClass: LocalPagingWarehouse },\n\t{ provide: FormationCommandDispatcher, useClass: LocalFormationCommandDispatcher },\n\t{ provide: FormationWarehouse, useClass: LocalFormationWarehouse },\n\t{ provide: StructureCommandDispatcher, useClass: LocalStructureCommandDispatcher },\n\t{ provide: StructureWarehouse, useClass: LocalStructureWarehouse },\n\t{ provide: SourceCommandDispatcher, useClass: LocalSourceCommandDispatcher },\n\t{ provide: SourceWarehouse, useClass: LocalSourceWarehouse },\n\n\t{ provide: CompositionCommandDispatcher, useClass: LocalCompositionCommandDispatcher },\n\t{ provide: CompositionWarehouse, useClass: LocalCompositionWarehouse },\n\n\t{ provide: SearchDispatcher, useClass: LocalStructureSearchCommandDispatcher },\n\n\t{ provide: StructureVerticalFormationWarehouse, useClass: LocalStructureVerticalFormationWarehouse },\n\n\t{ provide: SchemaWarehouse, useClass: LocalSchemaWarehouse },\n\t{ provide: SchemaCommandDispatcher, useClass: LocalSchemaCommandDispatcher }\n];\n\nexport function provideComponentServices(): Array<Provider> {\n\treturn [\n\t\t{ provide: PagingCommandDispatcher, useClass: LocalPagingCommandDispatcher },\n\t\t{ provide: PagingWarehouse, useClass: LocalPagingWarehouse },\n\t\t{ provide: FormationCommandDispatcher, useClass: LocalFormationCommandDispatcher },\n\t\t{ provide: FormationWarehouse, useClass: LocalFormationWarehouse },\n\t\t// { provide: StructureCommandDispatcher, useClass: LocalStructureCommandDispatcher },\n\t\t{ provide: StructureWarehouse, useClass: LocalStructureWarehouse },\n\t\t{ provide: SourceCommandDispatcher, useClass: LocalSourceCommandDispatcher },\n\t\t{ provide: SourceWarehouse, useClass: LocalSourceWarehouse },\n\t\t{ provide: SearchDispatcher, useClass: LocalStructureSearchCommandDispatcher },\n\t\t{ provide: StructureVerticalFormationWarehouse, useClass: LocalStructureVerticalFormationWarehouse }\n\t];\n}\n","import { ElementRef, Injectable, Renderer2, RendererFactory2 } from '@angular/core';\n\nimport { SchemaCssClass } from '../../../../schema/domain-api/css-classes/schema-css-class';\nimport { SchemaTheme } from '../../../../schema/domain/theme/schema-theme';\nimport { SchemaRowColoring } from '../../../../schema/domain/coloring/schema-row-coloring';\nimport { SchemaWarehouse } from '../../../../schema/domain-api/schema.warehouse';\nimport { SchemaReadModelRootId } from '../../../../schema/domain-api/read/schema.read-model-root-id';\nimport { Reactive } from '../../../../common/cdk/reactive';\n\n\n@Injectable()\nexport class SchemaCssClassManager extends Reactive {\n\n\tprivate readonly VERTICAL_GRID_CLASS_NAME = 'gui-vertical-grid';\n\n\tprivate readonly HORIZONTAL_GRID_CLASS_NAME = 'gui-horizontal-grid';\n\n\tprivate readonly THEME_FABRIC_CLASS_NAME = 'gui-fabric';\n\n\tprivate readonly THEME_MATERIAL_CLASS_NAME = 'gui-material';\n\n\tprivate readonly THEME_LIGHT_CLASS_NAME = 'gui-light';\n\n\tprivate readonly THEME_DARK_CLASS_NAME = 'gui-dark';\n\n\tprivate readonly THEME_GENERIC_CLASS_NAME = 'gui-generic';\n\n\tprivate readonly ROW_COLORING_ODD = 'gui-rows-odd';\n\n\tprivate readonly ROW_COLORING_EVEN = 'gui-rows-even';\n\n\tprivate readonly renderer: Renderer2;\n\n\tprivate cssClass: SchemaCssClass = null;\n\n\tprivate cssHostRef: ElementRef;\n\n\tconstructor(private readonly rendererFactory2: RendererFactory2,\n\t\t\t\tprivate readonly schemaReadModelRepository: SchemaWarehouse) {\n\t\tsuper();\n\t\tthis.renderer = this.rendererFactory2.createRenderer(null, null);\n\t}\n\n\tinit(elementRef: ElementRef, schemaReadModelRootId: SchemaReadModelRootId): void {\n\n\t\tthis.cssHostRef = elementRef;\n\n\t\tthis.schemaReadModelRepository\n\t\t\t.onCssClasses(schemaReadModelRootId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((classes: SchemaCssClass) => {\n\n\t\t\t\tconst diff = this.updateState(classes);\n\n\t\t\t\tthis.renderCssClasses(diff);\n\t\t\t});\n\t}\n\n\tprivate updateState(css: SchemaCssClass): Partial<SchemaCssClass> {\n\n\t\tif (!this.cssClass) {\n\t\t\tthis.cssClass = css;\n\t\t\treturn this.cssClass;\n\t\t} else {\n\n\t\t\tlet diff = {};\n\n\t\t\tObject.keys(this.cssClass)\n\t\t\t\t  .forEach((key: string) => {\n\t\t\t\t\t  if (css[key] !== this.cssClass[key]) {\n\t\t\t\t\t\t  diff[key] = css[key];\n\t\t\t\t\t  }\n\t\t\t\t  });\n\n\t\t\tthis.cssClass = css;\n\n\t\t\treturn diff;\n\t\t}\n\t}\n\n\tprivate renderCssClasses(diff: Partial<SchemaCssClass>): void {\n\n\t\tif (diff.hasOwnProperty('verticalGrid')) {\n\t\t\tthis.toggleCssClass(diff.verticalGrid, this.VERTICAL_GRID_CLASS_NAME);\n\t\t}\n\n\t\tif (diff.hasOwnProperty('horizontalGrid')) {\n\t\t\tthis.toggleCssClass(diff.horizontalGrid, this.HORIZONTAL_GRID_CLASS_NAME);\n\t\t}\n\n\t\tif (diff.hasOwnProperty('theme')) {\n\t\t\tthis.removeThemeCssClasses();\n\t\t\tthis.addClass(this.resolveThemeClassName(diff.theme));\n\t\t}\n\n\t\tif (diff.hasOwnProperty('rowColoring')) {\n\t\t\tthis.removeRowColoringClasses();\n\t\t\tthis.addClass(this.resolveRowColoringClassName(diff.rowColoring));\n\t\t}\n\t}\n\n\tprivate toggleCssClass(toggle: boolean, cssClassName: string): void {\n\t\tif (toggle) {\n\t\t\tthis.addClass(cssClassName);\n\t\t} else {\n\t\t\tthis.removeClass(cssClassName);\n\t\t}\n\t}\n\n\tprivate removeThemeCssClasses(): void {\n\t\tObject.keys(SchemaTheme)\n\t\t\t  .map((key: string) => SchemaTheme[key])\n\t\t\t  .map((theme: SchemaTheme) => this.resolveThemeClassName(theme))\n\t\t\t  .filter((className: string) => !!className)\n\t\t\t  .forEach((className: string) => {\n\t\t\t\t  this.removeClass(className);\n\t\t\t  });\n\t}\n\n\tprivate resolveThemeClassName(theme: SchemaTheme | string): string {\n\n\t\tswitch (theme) {\n\t\t\tcase SchemaTheme.FABRIC:\n\t\t\tcase SchemaTheme[SchemaTheme.FABRIC]:\n\t\t\t\treturn this.THEME_FABRIC_CLASS_NAME;\n\n\t\t\tcase SchemaTheme.MATERIAL:\n\t\t\tcase SchemaTheme[SchemaTheme.MATERIAL]:\n\t\t\t\treturn this.THEME_MATERIAL_CLASS_NAME;\n\n\t\t\tcase SchemaTheme.LIGHT:\n\t\t\tcase SchemaTheme[SchemaTheme.LIGHT]:\n\t\t\t\treturn this.THEME_LIGHT_CLASS_NAME;\n\n\t\t\tcase SchemaTheme.DARK:\n\t\t\tcase SchemaTheme[SchemaTheme.DARK]:\n\t\t\t\treturn this.THEME_DARK_CLASS_NAME;\n\n\t\t\tcase SchemaTheme.GENERIC:\n\t\t\tcase SchemaTheme[SchemaTheme.GENERIC]:\n\t\t\t\treturn this.THEME_GENERIC_CLASS_NAME;\n\n\t\t\tdefault:\n\t\t\t\treturn this.THEME_FABRIC_CLASS_NAME;\n\t\t}\n\t}\n\n\tprivate resolveRowColoringClassName(coloring: SchemaRowColoring | string): string {\n\t\tswitch (coloring) {\n\t\t\tcase SchemaRowColoring.ODD:\n\t\t\tcase SchemaRowColoring[SchemaRowColoring.ODD]:\n\t\t\t\treturn this.ROW_COLORING_ODD;\n\n\t\t\tcase SchemaRowColoring.EVEN:\n\t\t\tcase SchemaRowColoring[SchemaRowColoring.EVEN]:\n\t\t\t\treturn this.ROW_COLORING_EVEN;\n\n\t\t\tdefault:\n\t\t\t\treturn null;\n\t\t}\n\t}\n\n\tprivate removeRowColoringClasses(): void {\n\t\tObject.keys(SchemaRowColoring)\n\t\t\t  .map((key: string) => SchemaRowColoring[key])\n\t\t\t  .map((coloring: SchemaRowColoring) => this.resolveRowColoringClassName(coloring))\n\t\t\t  .filter((className: string) => !!className)\n\t\t\t  .forEach((className: string) => {\n\t\t\t\t  this.removeClass(className);\n\t\t\t  });\n\t}\n\n\tprivate addClass(cssClassName: string): void {\n\t\tif (cssClassName) {\n\t\t\tthis.renderer.addClass(this.cssHostRef.nativeElement, cssClassName);\n\t\t}\n\t}\n\n\tprivate removeClass(cssClassName: string): void {\n\t\tif (cssClassName) {\n\t\t\tthis.renderer.removeClass(this.cssHostRef.nativeElement, cssClassName);\n\t\t}\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { Archive } from '@generic-ui/hermes';\n\n\n@Injectable()\nexport class StructureCellEditArchive extends Archive<boolean> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { Archive } from '@generic-ui/hermes';\n\nimport { StructureCellEditState } from './structure.cell-edit.state';\n\n\n@Injectable()\nexport class StructureCellEditStore extends Archive<StructureCellEditState> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { Archive } from '@generic-ui/hermes';\n\n@Injectable()\nexport class StructureEditModeArchive extends Archive<boolean> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n}\n","export class StructureSummariesPanelConfig {\n\n\tprivate readonly top: boolean = false;\n\n\tprivate readonly bottom: boolean = true;\n\n\tconstructor(top?: boolean,\n\t\t\t\tbottom?: boolean) {\n\n\t\tif (top !== undefined && top !== null) {\n\t\t\tthis.top = top;\n\t\t}\n\n\t\tif (bottom !== undefined && bottom !== null) {\n\t\t\tthis.bottom = bottom;\n\t\t}\n\n\t}\n\n\titTopEnabled(): boolean {\n\t\treturn this.top;\n\t}\n\n\titBottomEnabled(): boolean {\n\t\treturn this.bottom;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { Archive } from '@generic-ui/hermes';\n\nimport { StructureSummariesPanelConfig } from './structure.summaries-panel.config';\n\n\n@Injectable()\nexport class StructureSummariesArchive extends Archive<StructureSummariesPanelConfig> {\n\n\tconstructor() {\n\t\tsuper(new StructureSummariesPanelConfig());\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { StructureSummariesPanelConfig } from './structure.summaries-panel.config';\n\nimport { SummariesConfig } from '../../../domain-api/summaries/summaries-config';\n\n\n@Injectable()\nexport class StructureSummariesPanelConfigConverter {\n\n\tconvert(config: SummariesConfig): StructureSummariesPanelConfig {\n\n\t\tif (config.enabled) {\n\t\t\treturn new StructureSummariesPanelConfig(config.top, config.bottom);\n\t\t} else {\n\t\t\treturn new StructureSummariesPanelConfig(false, false);\n\t\t}\n\t}\n}\n","import { Command } from '@generic-ui/hermes';\nimport { StructureId } from '../../../structure.id';\n\n\nexport class StructureSetSummariesEnabledCommand extends Command {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly enabled: boolean) {\n\t\tsuper(structureId, 'StructureSetSummariesEnabledCommand');\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandDispatcher } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../domain/structure.id';\nimport { StructureSetSummariesEnabledCommand } from '../../domain/structure/summaries/set/structure.set-summaries-enabled.command';\n\n\n@Injectable()\nexport class StructureSummariesCommandDispatcher {\n\n\tconstructor(private commandDispatcher: CommandDispatcher) {\n\t}\n\n\tsetSummariesEnabled(enabled: boolean, structureId: StructureId): void {\n\t\tthis.commandDispatcher.dispatch(new StructureSetSummariesEnabledCommand(structureId, enabled));\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { StructureSummariesPanelConfigConverter } from './structure.summaries-panel.config-converter';\nimport { StructureSummariesArchive } from './structure.summaries.archive';\n\nimport { StructureSummariesCommandDispatcher } from '../../../domain-api/summaries/structure-summaries.command-dispatcher';\nimport { StructureId } from '../../../domain/structure.id';\nimport { SummariesConfig } from '../../../domain-api/summaries/summaries-config';\n\n\n@Injectable()\nexport class StructureSummariesConfigService {\n\n\tconstructor(private structureSummariesPanelConfigConverter: StructureSummariesPanelConfigConverter,\n\t\t\t\tprivate structureSummariesArchive: StructureSummariesArchive,\n\t\t\t\tprivate structureSummariesCommandDispatcher: StructureSummariesCommandDispatcher,\n\t\t\t\tprivate structureId: StructureId) {\n\t}\n\n\tset(config: SummariesConfig): void {\n\n\t\tconst summariesPanelConfig = this.structureSummariesPanelConfigConverter.convert(config);\n\n\t\tthis.structureSummariesArchive.next(summariesPanelConfig);\n\n\t\tthis.structureSummariesCommandDispatcher.setSummariesEnabled(config.enabled, this.structureId);\n\t}\n\n}\n","import { InjectionToken } from '@angular/core';\n\nimport { StructureComponent } from './structure.component';\n\nexport const structureComponentToken = new InjectionToken<StructureComponent>('StructureComponentToken');\n","export enum StructureCellEditState {\n\tENTER,\n\tSUBMIT,\n\tCANCEL\n}\n","export class ColumnMenuConfig {\n\n\tenabled?: boolean;\n\n\tsort?: boolean;\n\n\tfilter?: boolean;\n\n\tcolumnsManager?: boolean;\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\nimport { FieldConfig } from '../../domain-api/field.config';\n\n\nexport class InitFieldsCommand extends Command {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly fieldConfigs: Array<FieldConfig>) {\n\t\tsuper(structureId, 'InitFieldsCommand');\n\t}\n\n\tgetFieldConfigs(): Array<FieldConfig> {\n\t\treturn this.fieldConfigs;\n\t}\n\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\nimport { Field } from '../core/field/field';\nimport { FieldConfig } from '../../domain-api/field.config';\n\n\nexport class FieldsInitedEvent extends DomainEvent<StructureId> {\n\n\tconstructor(aggregateId: StructureId,\n\t\t\t\tpublic readonly fieldConfigs: Array<FieldConfig>, // TODO merge\n\t\t\t\tprivate readonly fields: Array<Field>) {\n\t\tsuper(aggregateId, 'FieldsInitedEvent');\n\t}\n\n\tgetFields(): Array<Field> {\n\t\treturn this.fields;\n\t}\n}\n","import { ColumnConfig } from '../column.config';\nimport { ColumnField } from '../field/column-field';\n\nexport class ColumnParams {\n\n\tconstructor(private readonly column: ColumnConfig,\n\t\t\t\tprivate readonly field: ColumnField) {\n\t}\n\n\tgetColumn(): ColumnConfig {\n\t\treturn this.column;\n\t}\n\n\tgetField(): ColumnField {\n\t\treturn this.field;\n\t}\n\n}\n","import { SimpleChanges } from '@angular/core';\nimport { filter, take } from 'rxjs/operators';\n\nimport { CommandDispatcher, DomainEvent, DomainEventBus } from '@generic-ui/hermes';\n\nimport { InitFieldsCommand } from '../../../../../structure/field/domain/init/init-fields.command';\nimport { FieldConfig } from '../../../../../structure/field/domain-api/field.config';\nimport { FieldsInitedEvent } from '../../../../../structure/field/domain/init/fields-inited.event';\nimport { StructureId } from '../../../domain/structure.id';\nimport { Field } from '../../../../../structure/field/domain/core/field/field';\nimport { ColumnFieldId } from '../../../../composition/domain/column/field/column-field.id';\nimport { ColumnConfig } from '../../../../composition/domain/column/column.config';\nimport { ColumnParams } from '../../../../composition/domain/column/set-columns/column.params';\nimport { CompositionCommandDispatcher } from '../../../../composition/domain-api/composition.command-dispatcher';\nimport { CompositionId } from '../../../../composition/domain/composition.id';\nimport { ColumnFieldFactory } from '../../../../composition/domain/column/field/colum-field.factory';\n\n\nexport class StructureColumnInputHandler {\n\n\tconstructor(private readonly structureId: StructureId,\n\t\t\t\tprivate readonly compositionId: CompositionId,\n\t\t\t\tprivate readonly commandDispatcher: CommandDispatcher,\n\t\t\t\tprivate readonly domainEventBus: DomainEventBus,\n\t\t\t\tprivate readonly columnFieldFactory: ColumnFieldFactory,\n\t\t\t\tprivate readonly compositionCommandDispatcher: CompositionCommandDispatcher) {\n\t}\n\n\thandle(simpleChanges: SimpleChanges): void {\n\n\t\tconst fieldConfigs = simpleChanges.columns.currentValue;\n\n\t\tconst initCommand = new InitFieldsCommand(this.structureId, fieldConfigs as Array<FieldConfig>);\n\n\t\tthis.domainEventBus\n\t\t\t.ofEvent(\n\t\t\t\tFieldsInitedEvent as any\n\t\t\t)\n\t\t\t.pipe(\n\t\t\t\tfilter((event: DomainEvent<StructureId>) => event.getAggregateId().toString() === this.structureId.toString()),\n\t\t\t\ttake(1)\n\t\t\t)\n\t\t\t.subscribe((event: FieldsInitedEvent) => {\n\n\t\t\t\tconst fields = event.getFields(),\n\t\t\t\t\tcolumnFieldIds = this.convertColumnFieldIds(fields),\n\t\t\t\t\tcolumns = event.fieldConfigs,\n\t\t\t\t\tparams = this.convertColumns(columns, fields, columnFieldIds);\n\n\t\t\t\tthis.compositionCommandDispatcher.setColumns(params, this.compositionId);\n\t\t\t});\n\n\t\tthis.commandDispatcher.dispatch(initCommand);\n\t}\n\n\tprivate convertColumnFieldIds(fields: Array<Field>): Array<ColumnFieldId> {\n\n\t\tif (!fields) {\n\t\t\treturn [];\n\t\t}\n\n\t\treturn fields.map((field: Field) => new ColumnFieldId(field.getId().getId()));\n\t}\n\n\tprivate convertColumns(columns: Array<ColumnConfig>, fields: Array<Field>, columnFieldIds: Array<ColumnFieldId>): Array<ColumnParams> {\n\n\t\tif (!columns) {\n\t\t\treturn [];\n\t\t}\n\n\t\treturn columns.map((column: ColumnConfig, index: number) => {\n\n\t\t\tconst columnFieldId = columnFieldIds[index],\n\t\t\t\tfield = fields[index];\n\n\t\t\tconst columnField = this.columnFieldFactory.create(\n\t\t\t\tcolumnFieldId,\n\t\t\t\tfield.getAccessorMethod(),\n\t\t\t\tfield.getDataType(),\n\t\t\t\tfield.getSearchAccessorMethod()\n\t\t\t);\n\n\t\t\treturn new ColumnParams(column, columnField);\n\t\t});\n\n\t}\n\n}\n","import { EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges } from '@angular/core';\n\nimport { SmartComponent } from '../../../../common/cdk/smart-component';\nimport { ColumnConfig } from '../../../composition/domain/column/column.config';\nimport { PagingConfig } from '../../../../structure/paging/domain-api/paging-config';\nimport { SchemaTheme } from '../../../../schema/domain/theme/schema-theme';\nimport { SchemaRowColoring } from '../../../../schema/domain/coloring/schema-row-coloring';\nimport { SortingConfig } from '../../../../structure/sorting/domain-api/sorting-config';\nimport { FilterConfig } from '../../../../structure/filter/domain-api/filter-config';\nimport { QuickFiltersConfig } from '../../../../structure/filter/domain-api/quick-filters.config';\nimport { SearchConfig } from '../../../../structure/search/domain-api/search-config';\nimport { SummariesConfig } from '../../domain-api/summaries/summaries-config';\nimport { EditemItemValues } from '../../../../structure/source/domain-api/event/editem-item.values';\nimport { StructureId } from '../../domain/structure.id';\nimport { CompositionId } from '../../../composition/domain/composition.id';\nimport { StructureCommandDispatcher } from '../../domain-api/structure.command-dispatcher';\nimport { PagingCommandDispatcher } from '../../../../structure/paging/domain-api/paging.command-dispatcher';\nimport { PagingEventRepository } from '../../../../structure/paging/domain-api/paging.event-repository';\nimport { SourceCommandDispatcher } from '../../../../structure/source/domain-api/source.command-dispatcher';\nimport { SourceEventService } from '../../../../structure/source/domain-api/event/source-event.service';\nimport { CompositionCommandDispatcher } from '../../../composition/domain-api/composition.command-dispatcher';\nimport { CompositionEventRepository } from '../../../composition/domain-api/composition.event-repository';\nimport { FormationEventService } from '../../../../structure/source/domain-api/formation/formation-event.service';\nimport { StructureEditModeArchive } from '../edit/structure.edit-mode.archive';\nimport { StructureCellEditArchive } from '../edit/structure.cell-edit.archive';\nimport { StructureInfoPanelArchive } from '../panel/info/structure.info-panel.archive';\nimport { StructureSummariesConfigService } from '../panel/summaries/structure.summaries-config.service';\nimport { StructureCellEditStore } from '../edit/structure.cell-edit.store';\nimport { StructureCellEditState } from '../edit/structure.cell-edit.state';\nimport { ColumnMenuConfig } from '../../domain-api/column-menu-config';\nimport { StructureColumnMenuConfigArchive } from '../header/menu/config/structure.column-menu-config.archive';\nimport { PagingDisplayModeArchive } from '../../../../structure/paging/feature/mode/paging-display-mode.archive';\nimport { RowSelectEnabledRepository } from '../../../../structure/source/domain-api/formation/set-enabled/row-select-enabled.repository';\nimport { SearchEventRepository } from '../../../../structure/search/domain-api/search.event-repository';\nimport { SchemaCommandDispatcher } from '../../../../schema/domain-api/schema.command-dispatcher';\nimport { StructureHeaderBottomEnabledArchive } from '../header/structure-header-bottom-enabled.archive';\nimport { StructureHeaderTopEnabledArchive } from '../header/structure-header-top-enabled.archive';\nimport { SchemaEventRepository } from '../../../../schema/domain-api/schema.event-repository';\nimport { SchemaReadModelRootId } from '../../../../schema/domain-api/read/schema.read-model-root-id';\nimport { RowColoring } from '../../../../schema/domain-api/row-coloring';\nimport { RowDetailConfig } from '../row-detail/row-detail.config';\nimport { StructureRowDetailConfigArchive } from '../row-detail/structure.row-detail.config-archive';\nimport { TitlePanelConfig } from '../panel/title-panel/title-panel.config';\nimport { FooterPanelConfig } from '../panel/footer-panel/footer-panel.config';\nimport { StructureTitlePanelConfigArchive } from '../panel/title-panel/structure.title-panel.config-archive';\nimport { StructureFooterPanelConfigArchive } from '../panel/footer-panel/structure.footer-panel.config-archive';\nimport { InfoPanelConfig } from '../panel/info/info-panel.config';\nimport { StructureInfoPanelConfigService } from '../panel/info/structure.info-panel-config.service';\nimport { SortingCommandDispatcher } from '../../../../structure/sorting/domain-api/sorting.command-dispatcher';\nimport { SearchCommandDispatcher } from '../../../../structure/search/domain-api/search.command-dispatcher';\nimport { FieldCommandDispatcher } from '../../../../structure/field/domain-api/field.command-dispatcher';\nimport { CommandDispatcher, DomainEventBus } from '@generic-ui/hermes';\nimport { StructureColumnInputHandler } from './column/structure-column.input-handler';\nimport { ColumnFieldFactory } from '../../../composition/domain/column/field/colum-field.factory';\nimport { RowSelection } from '../../../../structure/source/domain-api/row-selection';\nimport { RowSelectionTypeArchive } from '../../../../structure/source/domain-api/formation/type/row-selection-type.archive';\nimport { FormationCommandDispatcher } from '../../../../structure/source/domain-api/formation/formation.command-dispatcher';\nimport { SelectedRow } from '../../../../structure/source/domain-api/formation/selected-row';\n\n\n/** @internal */\nexport abstract class StructureGateway extends SmartComponent implements OnChanges, OnInit {\n\n\t/***********************\n\t * INPUTS\n\t ***********************/\n\n\t@Input()\n\tcolumnHeaderTop: boolean;\n\n\t@Input()\n\tcolumnHeaderBottom: boolean;\n\n\t@Input()\n\tmaxHeight: number;\n\n\t@Input()\n\twidth: number;\n\n\t@Input()\n\trowHeight: number;\n\n\t@Input()\n\tautoResizeWidth: boolean;\n\n\t@Input()\n\tsource: Array<any> = [];\n\n\t@Input()\n\tcolumns: Array<ColumnConfig> = [];\n\n\t@Input()\n\tpaging: boolean | PagingConfig;\n\n\t@Input()\n\tverticalGrid: boolean;\n\n\t@Input()\n\thorizontalGrid: boolean;\n\n\t@Input()\n\ttheme: SchemaTheme;\n\n\t@Input()\n\trowColoring: RowColoring;\n\n\t@Input()\n\trowSelection: RowSelection;\n\n\t@Input()\n\tloading: boolean;\n\n\t@Input()\n\tvirtualScroll: boolean;\n\n\t@Input()\n\tsorting: boolean | SortingConfig;\n\n\t@Input()\n\tfiltering: boolean | FilterConfig;\n\n\t@Input()\n\tquickFilters: boolean | QuickFiltersConfig;\n\n\t@Input()\n\tsearching: boolean | SearchConfig;\n\n\t@Input()\n\teditMode: boolean;\n\n\t@Input()\n\tcellEditing: boolean;\n\n\t@Input()\n\tinfoPanel: boolean | InfoPanelConfig;\n\n\t@Input()\n\tsummaries: SummariesConfig;\n\n\t@Input()\n\tcolumnMenu: ColumnMenuConfig;\n\n\t@Input()\n\trowDetail: RowDetailConfig;\n\n\t@Input()\n\ttitlePanel: TitlePanelConfig;\n\n\t@Input()\n\tfooterPanel: FooterPanelConfig;\n\n\n\t/***********************\n\t * OUTPUTS\n\t ***********************/\n\n\t@Output()\n\tpageChanged: EventEmitter<number> = new EventEmitter<number>();\n\n\t@Output()\n\tpageSizeChanged: EventEmitter<number> = new EventEmitter<number>();\n\n\t@Output()\n\titemsSelected: EventEmitter<any> = new EventEmitter();\n\n\t@Output()\n\tselectedRows: EventEmitter<Array<SelectedRow>> = new EventEmitter();\n\n\t@Output()\n\tcolumnsChanged: EventEmitter<void> = new EventEmitter();\n\n\t@Output()\n\tcontainerWidthChanged: EventEmitter<number> = new EventEmitter();\n\n\t@Output()\n\tsourceEdited: EventEmitter<EditemItemValues> = new EventEmitter();\n\n\t@Output()\n\tcellEditEntered: EventEmitter<void> = new EventEmitter();\n\n\t@Output()\n\tcellEditCanceled: EventEmitter<void> = new EventEmitter();\n\n\t@Output()\n\tcellEditSubmitted: EventEmitter<void> = new EventEmitter();\n\n\t@Output()\n\tsearchPhraseChanged: EventEmitter<string> = new EventEmitter();\n\n\t@Output()\n\tthemeChanged: EventEmitter<SchemaTheme> = new EventEmitter();\n\n\t@Output()\n\thorizontalGridChanged: EventEmitter<boolean> = new EventEmitter();\n\n\t@Output()\n\tverticalGridChanged: EventEmitter<boolean> = new EventEmitter();\n\n\t@Output()\n\trowColoringChanged: EventEmitter<SchemaRowColoring> = new EventEmitter();\n\n\tstructureColumnInputHandler: StructureColumnInputHandler;\n\n\tprotected constructor(\n\t\tprotected readonly domainEventBus: DomainEventBus,\n\t\tprotected readonly commandDispatcher: CommandDispatcher,\n\t\tpublic structureId: StructureId,\n\t\tprotected compositionId: CompositionId,\n\t\tprotected schemaId: SchemaReadModelRootId,\n\t\tprotected structureCommandService: StructureCommandDispatcher,\n\t\tprotected structurePagingCommandDispatcher: PagingCommandDispatcher,\n\t\tprotected pagingEventRepository: PagingEventRepository,\n\t\tprotected sortingCommandDispatcher: SortingCommandDispatcher,\n\t\tprotected searchCommandDispatcher: SearchCommandDispatcher,\n\t\tprotected fieldCommandDispatcher: FieldCommandDispatcher,\n\t\tprotected sourceCommandService: SourceCommandDispatcher,\n\t\tprotected sourceEventService: SourceEventService,\n\t\tprotected schemaCommandDispatcher: SchemaCommandDispatcher,\n\t\tprotected compositionCommandDispatcher: CompositionCommandDispatcher,\n\t\tprotected compositionEventService: CompositionEventRepository,\n\t\tprotected formationEventService: FormationEventService,\n\t\tprotected structureEditModeArchive: StructureEditModeArchive,\n\t\tprotected structureCellEditArchive: StructureCellEditArchive,\n\t\tprotected structureInfoPanelEnabledArchive: StructureInfoPanelArchive,\n\t\tprotected structureInfoPanelConfigService: StructureInfoPanelConfigService,\n\t\tprotected structureSummariesConfigService: StructureSummariesConfigService,\n\t\tprotected structureCellEditStore: StructureCellEditStore,\n\t\tprotected columnFieldFactory: ColumnFieldFactory,\n\t\tprotected structureColumnMenuConfigArchive: StructureColumnMenuConfigArchive,\n\t\tprotected structurePagingDisplayModeArchive: PagingDisplayModeArchive,\n\t\tprotected rowSelectEnabledArchive: RowSelectEnabledRepository,\n\t\tprotected rowSelectionTypeArchive: RowSelectionTypeArchive,\n\t\tprotected formationCommandDispatcher: FormationCommandDispatcher,\n\t\tprotected searchEventRepository: SearchEventRepository,\n\t\tprotected structureHeaderTopEnabledArchive: StructureHeaderTopEnabledArchive,\n\t\tprotected structureHeaderBottomEnabledArchive: StructureHeaderBottomEnabledArchive,\n\t\tprotected structureDetailViewConfigArchive: StructureRowDetailConfigArchive,\n\t\tprotected structureTitlePanelConfigArchive: StructureTitlePanelConfigArchive,\n\t\tprotected structureFooterPanelConfigArchive: StructureFooterPanelConfigArchive,\n\t\tprotected schemaEventRepository: SchemaEventRepository\n\t) {\n\t\tsuper();\n\n\t\tthis.structureColumnInputHandler = new StructureColumnInputHandler(structureId,\n\t\t\tcompositionId, commandDispatcher, domainEventBus, columnFieldFactory, compositionCommandDispatcher);\n\t}\n\n\tngOnChanges(simpleChanges: SimpleChanges) {\n\n\t\tif (simpleChanges.theme !== undefined && simpleChanges.theme.currentValue !== undefined) {\n\t\t\tthis.schemaCommandDispatcher.setTheme(this.theme);\n\t\t}\n\n\t\tif (simpleChanges.rowDetail !== undefined && simpleChanges.rowDetail.currentValue !== undefined) {\n\t\t\tthis.structureDetailViewConfigArchive.next(this.rowDetail);\n\t\t}\n\n\t\tif (simpleChanges.titlePanel !== undefined && simpleChanges.titlePanel.currentValue !== undefined) {\n\t\t\tthis.structureTitlePanelConfigArchive.next(this.titlePanel);\n\t\t}\n\n\t\tif (simpleChanges.footerPanel !== undefined && simpleChanges.footerPanel.currentValue !== undefined) {\n\t\t\tthis.structureFooterPanelConfigArchive.next(this.footerPanel);\n\t\t}\n\n\t\tif (simpleChanges.columnMenu !== undefined && simpleChanges.columnMenu.currentValue !== undefined) {\n\t\t\tthis.structureColumnMenuConfigArchive.nextConfig(this.columnMenu);\n\t\t}\n\n\t\tif (simpleChanges.rowSelection !== undefined && simpleChanges.rowSelection.currentValue !== undefined) {\n\n\t\t\tif (this.rowSelection.isEnabledDefined()) {\n\t\t\t\tthis.formationCommandDispatcher.setSelection(this.rowSelection.isEnabled(), this.structureId);\n\t\t\t}\n\n\t\t\tif (this.rowSelection.isTypeDefined()) {\n\t\t\t\tthis.rowSelectionTypeArchive.next(this.rowSelection.getType());\n\t\t\t}\n\n\t\t\tif (this.rowSelection.isModeDefined()) {\n\t\t\t\tthis.formationCommandDispatcher.changeMode(this.rowSelection.getMode(), this.structureId);\n\t\t\t}\n\t\t}\n\n\t\tif (simpleChanges.infoPanel !== undefined && simpleChanges.infoPanel.currentValue !== undefined) {\n\n\t\t\tif (typeof this.infoPanel === 'boolean') {\n\t\t\t\tthis.infoPanel = {\n\t\t\t\t\tenabled: this.infoPanel\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tthis.structureInfoPanelConfigService.set(this.infoPanel);\n\t\t}\n\n\t\tif (simpleChanges.summaries !== undefined && simpleChanges.summaries.currentValue !== undefined) {\n\t\t\tthis.structureSummariesConfigService.set(this.summaries);\n\t\t}\n\n\t\tif (simpleChanges.editMode !== undefined && simpleChanges.editMode.currentValue !== undefined) {\n\t\t\tthis.structureEditModeArchive.next(this.editMode);\n\t\t}\n\n\t\tif (simpleChanges.cellEditing !== undefined && simpleChanges.cellEditing.currentValue !== undefined) {\n\t\t\tthis.structureCellEditArchive.next(this.cellEditing);\n\t\t}\n\n\t\tif (simpleChanges.width !== undefined && simpleChanges.width.currentValue !== undefined) {\n\t\t\tthis.compositionCommandDispatcher.setWidth(this.width);\n\t\t}\n\n\t\tif (simpleChanges.rowHeight !== undefined && simpleChanges.rowHeight.currentValue !== undefined) {\n\t\t\tthis.structureCommandService.setRowHeight(this.rowHeight);\n\t\t}\n\n\t\tif (simpleChanges.autoResizeWidth !== undefined && simpleChanges.autoResizeWidth.currentValue !== undefined) {\n\t\t\tthis.compositionCommandDispatcher.setResizeWidth(this.autoResizeWidth);\n\t\t}\n\n\t\tif (simpleChanges.columnHeaderTop !== undefined && simpleChanges.columnHeaderTop.currentValue !== undefined) {\n\t\t\tthis.structureHeaderTopEnabledArchive.next(this.columnHeaderTop);\n\t\t}\n\n\t\tif (simpleChanges.columnHeaderBottom !== undefined && simpleChanges.columnHeaderBottom.currentValue !== undefined) {\n\t\t\tthis.structureHeaderBottomEnabledArchive.next(this.columnHeaderBottom);\n\t\t}\n\n\t\tif (simpleChanges.loading !== undefined && simpleChanges.loading.currentValue !== undefined) {\n\t\t\tthis.sourceCommandService.setLoading(this.loading);\n\t\t}\n\n\t\tif (simpleChanges.paging !== undefined && simpleChanges.paging.currentValue !== undefined) {\n\n\t\t\tlet pagingConfig: PagingConfig;\n\n\t\t\tif (typeof this.paging === 'boolean') {\n\t\t\t\tpagingConfig = {\n\t\t\t\t\tenabled: this.paging\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tpagingConfig = this.paging;\n\n\t\t\t\tif (this.paging.displayMode !== undefined) {\n\t\t\t\t\tthis.structurePagingDisplayModeArchive.next(this.paging.displayMode);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.structurePagingCommandDispatcher.setPaging(pagingConfig);\n\t\t}\n\n\t\tif (simpleChanges.columns !== undefined && simpleChanges.columns.currentValue !== undefined) {\n\t\t\tthis.structureColumnInputHandler.handle(simpleChanges);\n\t\t}\n\n\t\tif (simpleChanges.verticalGrid !== undefined && simpleChanges.verticalGrid.currentValue !== undefined) {\n\t\t\tthis.schemaCommandDispatcher.setVerticalGrid(this.verticalGrid);\n\t\t}\n\n\t\tif (simpleChanges.horizontalGrid !== undefined && simpleChanges.horizontalGrid.currentValue !== undefined) {\n\t\t\tthis.schemaCommandDispatcher.setHorizontalGrid(this.horizontalGrid);\n\t\t}\n\n\t\tif (simpleChanges.rowColoring !== undefined && simpleChanges.rowColoring.currentValue !== undefined) {\n\t\t\tthis.schemaCommandDispatcher.setRowColoring(this.rowColoring);\n\t\t}\n\n\t\tif (simpleChanges.maxHeight && this.maxHeight) {\n\t\t\tthis.structureCommandService.setContainerHeight(this.maxHeight);\n\t\t}\n\n\t\tif (simpleChanges.virtualScroll !== undefined && simpleChanges.virtualScroll.currentValue !== undefined) {\n\t\t\tif (this.virtualScroll) {\n\t\t\t\tthis.structureCommandService.enableVerticalScroll();\n\t\t\t} else {\n\t\t\t\tthis.structureCommandService.disableVerticalScroll();\n\t\t\t}\n\t\t}\n\n\t\tif (simpleChanges.sorting !== undefined && simpleChanges.sorting.currentValue !== undefined) {\n\n\t\t\tlet sorting: SortingConfig;\n\n\t\t\tif (typeof this.sorting === 'boolean') {\n\t\t\t\tsorting = {\n\t\t\t\t\tenabled: this.sorting\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tsorting = this.sorting;\n\t\t\t}\n\n\t\t\tthis.sortingCommandDispatcher.setSortingConfig(sorting, this.structureId);\n\t\t}\n\n\t\tif (simpleChanges.filtering !== undefined && simpleChanges.filtering.currentValue !== undefined) {\n\n\t\t\tlet filtering: FilterConfig;\n\n\t\t\tif (typeof this.filtering === 'boolean') {\n\t\t\t\tfiltering = {\n\t\t\t\t\tenabled: this.filtering\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tfiltering = this.filtering;\n\t\t\t}\n\n\t\t\tthis.structureCommandService.setFilterConfig(filtering);\n\t\t}\n\n\t\tif (simpleChanges.quickFilters !== undefined && simpleChanges.quickFilters.currentValue !== undefined) {\n\n\t\t\tlet quickFilters: QuickFiltersConfig;\n\n\t\t\tif (typeof this.quickFilters === 'boolean') {\n\t\t\t\tquickFilters = {\n\t\t\t\t\tenabled: this.quickFilters\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tquickFilters = this.quickFilters;\n\t\t\t}\n\n\t\t\tthis.structureCommandService.setQuickFiltersConfig(quickFilters);\n\t\t}\n\n\t\tif (simpleChanges.searching !== undefined && simpleChanges.searching.currentValue !== undefined) {\n\n\t\t\tlet searching: SearchConfig;\n\n\t\t\tif (typeof this.searching === 'boolean') {\n\t\t\t\tsearching = {\n\t\t\t\t\tenabled: this.searching\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tsearching = this.searching;\n\t\t\t}\n\n\t\t\tthis.searchCommandDispatcher.setSearchingConfig(searching, this.structureId);\n\t\t}\n\n\t\t/**\n\t\t * Setting source should be last step\n\t\t */\n\t\tif (simpleChanges.source) {\n\t\t\tthis.sourceCommandService.setOrigin(this.source);\n\t\t}\n\t}\n\n\tngOnInit() {\n\n\t\tthis.pagingEventRepository\n\t\t\t.onPageChange(this.structureId)\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((pageNumber: number) => {\n\t\t\t\tthis.pageChanged.emit(pageNumber);\n\t\t\t});\n\n\t\tthis.pagingEventRepository\n\t\t\t.onPageSizeChange(this.structureId)\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((pageSize: number) => {\n\t\t\t\tthis.pageSizeChanged.emit(pageSize);\n\t\t\t});\n\n\t\tthis.formationEventService\n\t\t\t.onItemSelected(this.structureId)\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((items: Array<SelectedRow>) => {\n\t\t\t\tthis.itemsSelected.emit(items.map(i => i.getData()));\n\t\t\t\tthis.selectedRows.emit(items);\n\t\t\t});\n\n\t\tthis.compositionEventService\n\t\t\t.onColumnsChanged(this.compositionId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil())\n\t\t\t.subscribe(() => {\n\t\t\t\tthis.columnsChanged.emit();\n\t\t\t});\n\n\t\tthis.compositionEventService\n\t\t\t.onContainerWidthChanged(this.compositionId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((containerWidth: number) => {\n\t\t\t\tthis.containerWidthChanged.emit(containerWidth);\n\t\t\t});\n\n\t\tthis.sourceEventService\n\t\t\t.onSourceEdited(this.structureId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((values: EditemItemValues) => {\n\t\t\t\tthis.sourceEdited.emit(values);\n\t\t\t});\n\n\t\tthis.structureCellEditStore\n\t\t\t.onValue()\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((state: StructureCellEditState) => {\n\n\t\t\t\tswitch (state) {\n\n\t\t\t\t\tcase StructureCellEditState.ENTER:\n\t\t\t\t\t\tthis.cellEditEntered.emit();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase StructureCellEditState.SUBMIT:\n\t\t\t\t\t\tthis.cellEditSubmitted.emit();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase StructureCellEditState.CANCEL:\n\t\t\t\t\t\tthis.cellEditCanceled.emit();\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t});\n\n\t\tthis.searchEventRepository\n\t\t\t.onSearchPhrase(this.structureId)\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((phrase: string) => {\n\t\t\t\tthis.searchPhraseChanged.emit(phrase);\n\t\t\t});\n\n\t\tthis.connectSchemaEvents();\n\t}\n\n\tonPageChange(page: number): void {\n\t\tthis.pageChanged.emit(page);\n\t}\n\n\tprivate connectSchemaEvents(): void {\n\n\t\tthis.schemaEventRepository\n\t\t\t.onThemeChanged(this.schemaId)\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((theme: SchemaTheme) => {\n\t\t\t\tthis.themeChanged.emit(theme);\n\t\t\t});\n\n\t\tthis.schemaEventRepository\n\t\t\t.onHorizontalGridChanged(this.schemaId)\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((enabled: boolean) => {\n\t\t\t\tthis.horizontalGridChanged.emit(enabled);\n\t\t\t});\n\n\t\tthis.schemaEventRepository\n\t\t\t.onVerticalGridChanged(this.schemaId)\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((enabled: boolean) => {\n\t\t\t\tthis.verticalGridChanged.emit(enabled);\n\t\t\t});\n\n\t\tthis.schemaEventRepository\n\t\t\t.onRowColoring(this.schemaId)\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((coloring: SchemaRowColoring) => {\n\t\t\t\tthis.rowColoringChanged.emit(coloring);\n\t\t\t});\n\t}\n\n}\n","export class EditemItemValues {\n\n\tconstructor(public readonly after: any,\n\t\t\t\tpublic readonly before: any) {\n\t}\n\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { OriginItemEntity } from '../origin-item-entity';\nimport { StructureId } from '../../../../../lib/structure/domain/structure.id';\n\n\nexport class StructureSourceItemEditedEvent extends DomainEvent<StructureId> {\n\n\tconstructor(aggregateId: StructureId,\n\t\t\t\tprivate readonly beforeItem: OriginItemEntity,\n\t\t\t\tprivate readonly afterItem: OriginItemEntity) {\n\t\tsuper(aggregateId, 'StructureSourceItemEditedEvent');\n\t}\n\n\tgetBeforeItem(): OriginItemEntity {\n\t\treturn this.beforeItem;\n\t}\n\n\tgetAfterItem(): OriginItemEntity {\n\t\treturn this.afterItem;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { filter, map } from 'rxjs/operators';\n\nimport { DomainEvent, DomainEventBus } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\nimport { EditemItemValues } from './editem-item.values';\nimport { StructureSourceItemEditedEvent } from '../../domain/origin/edit/structure.source-item-edited.event';\n\n\n@Injectable()\nexport class SourceEventService {\n\n\tconstructor(private readonly domainEventBus: DomainEventBus) {\n\t}\n\n\tonSourceEdited(structureId: StructureId): Observable<EditemItemValues> {\n\n\t\treturn this.domainEventBus\n\t\t\t\t   .ofEvent(\n\t\t\t\t\t   StructureSourceItemEditedEvent as any\n\t\t\t\t   )\n\t\t\t\t   .pipe(\n\t\t\t\t\t   filter((event: DomainEvent<StructureId>) => event.getAggregateId().toString() === structureId.toString()),\n\t\t\t\t\t   map((event: StructureSourceItemEditedEvent) => {\n\n\t\t\t\t\t\t   const afterItem = event.getAfterItem().getData(),\n\t\t\t\t\t\t\t   beforeItem = event.getBeforeItem().getData();\n\n\t\t\t\t\t\t   return new EditemItemValues(afterItem, beforeItem);\n\t\t\t\t\t   })\n\t\t\t\t   );\n\t}\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\n\nexport class SelectedRowChangedEvent extends DomainEvent<StructureId> {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly selectedRows: Array<string>,\n\t\t\t\tprivate readonly allSelected: boolean,\n\t\t\t\tprivate readonly allUnselected: boolean) {\n\t\tsuper(structureId, 'SelectedRowChangedEvent');\n\t}\n\n\tgetSelectedRows(): Array<string> {\n\t\treturn this.selectedRows;\n\t}\n\n\tisAllSelected(): boolean {\n\t\treturn this.allSelected;\n\t}\n\n\tisAllUnselected(): boolean {\n\t\treturn this.allUnselected;\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { filter, map, switchMap, take } from 'rxjs/operators';\n\nimport { DomainEvent, DomainEventBus } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\nimport { SelectedRowChangedEvent } from '../../domain/formation/selected-row-changed.event';\nimport { SourceWarehouse } from '../source.warehouse';\nimport { OriginItemEntity } from '../../domain/origin/origin-item-entity';\nimport { SelectedRow } from './selected-row';\n\n\n@Injectable()\nexport class FormationEventService {\n\n\tconstructor(private readonly domainEventBus: DomainEventBus,\n\t\t\t\tprivate readonly sourceWarehouse: SourceWarehouse) {\n\t}\n\n\tonItemSelected(structureId: StructureId): Observable<Array<SelectedRow>> {\n\n\t\treturn this.domainEventBus\n\t\t\t\t   .ofEvent(\n\t\t\t\t\t   SelectedRowChangedEvent as any\n\t\t\t\t   )\n\t\t\t\t   .pipe(\n\t\t\t\t\t   filter((event: DomainEvent<StructureId>) => event.getAggregateId().toString() === structureId.toString()),\n\t\t\t\t\t   switchMap((event: SelectedRowChangedEvent) => {\n\n\t\t\t\t\t\t   const selectedRows = event.getSelectedRows();\n\n\t\t\t\t\t\t   return this.sourceWarehouse\n\t\t\t\t\t\t\t\t\t  .onPreparedEntities(structureId)\n\t\t\t\t\t\t\t\t\t  .pipe(\n\t\t\t\t\t\t\t\t\t\t  take(1),\n\t\t\t\t\t\t\t\t\t\t  map((items: Array<OriginItemEntity>) => {\n\n\t\t\t\t\t\t\t\t\t\t\t  let selectedItems = [],\n\t\t\t\t\t\t\t\t\t\t\t\t  length = items.length;\n\n\t\t\t\t\t\t\t\t\t\t\t  for (let i = 0; i < length; i += 1) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t  let item = items[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\t  if (selectedRows.some((row: string) => row === item.getId().toString())) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t  selectedItems.push(new SelectedRow(item.getData(), i, item.getId()));\n\t\t\t\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\t\t\t  return selectedItems;\n\t\t\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t\t\t  );\n\t\t\t\t\t   })\n\t\t\t\t   );\n\t}\n\n}\n","import { ColumnMenuConfig } from '../../../../domain-api/column-menu-config';\n\nexport class StructureColumnMenuConfig {\n\n\tstatic default(): StructureColumnMenuConfig {\n\t\treturn new StructureColumnMenuConfig();\n\t}\n\n\tstatic fromConfig(config: ColumnMenuConfig): StructureColumnMenuConfig {\n\t\treturn new StructureColumnMenuConfig(\n\t\t\tconfig.enabled,\n\t\t\tconfig.sort,\n\t\t\tconfig.filter,\n\t\t\tconfig.columnsManager\n\t\t);\n\t}\n\n\tprivate static readonly MAIN = 'Menu';\n\n\tprivate static readonly FILTER = 'Filter';\n\n\tprivate static readonly COLUMNS = 'Columns';\n\n\tconstructor(private enabled: boolean = false,\n\t\t\t\tprivate sort: boolean = true,\n\t\t\t\tprivate filter: boolean = false,\n\t\t\t\tprivate columnsManager: boolean = false) {\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled &&\n\t\t\t(this.sort || this.filter || this.columnsManager);\n\t}\n\n\tisMainEnabled(): boolean {\n\t\treturn this.sort;\n\t}\n\n\tisSortingEnabled(): boolean {\n\t\treturn this.sort;\n\t}\n\n\tisFilteringEnabled(): boolean {\n\t\treturn this.filter;\n\t}\n\n\tisColumnManagerEnabled(): boolean {\n\t\treturn this.columnsManager;\n\t}\n\n\tgetMenus(): Array<string> {\n\n\t\tconst menus = [];\n\n\t\tif (this.isMainEnabled()) {\n\t\t\tmenus.push(this.getMainMenu());\n\t\t}\n\n\t\tif (this.isFilteringEnabled()) {\n\t\t\tmenus.push(this.getFilterMenu());\n\t\t}\n\n\t\tif (this.isColumnManagerEnabled()) {\n\t\t\tmenus.push(this.getColumnMenu());\n\t\t}\n\n\t\treturn menus;\n\t}\n\n\tgetActiveMenu(): string {\n\t\treturn this.getMenus()[0];\n\t}\n\n\tgetMainMenu(): string {\n\t\treturn StructureColumnMenuConfig.MAIN;\n\t}\n\n\tgetFilterMenu(): string {\n\t\treturn StructureColumnMenuConfig.FILTER;\n\t}\n\n\tgetColumnMenu(): string {\n\t\treturn StructureColumnMenuConfig.COLUMNS;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { Archive } from '@generic-ui/hermes';\n\nimport { StructureColumnMenuConfig } from './structure.column-menu-config';\nimport { ColumnMenuConfig } from '../../../../domain-api/column-menu-config';\n\n@Injectable()\nexport class StructureColumnMenuConfigArchive extends Archive<StructureColumnMenuConfig> {\n\n\tconstructor() {\n\t\tsuper(StructureColumnMenuConfig.default());\n\t}\n\n\tnextConfig(config: ColumnMenuConfig): void {\n\n\t\tconst menuConfig = StructureColumnMenuConfig.fromConfig(config);\n\n\t\tthis.next(menuConfig);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateArchive } from '@generic-ui/hermes';\n\n\n@Injectable()\nexport class RowSelectEnabledRepository extends AggregateArchive<boolean> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { filter, map } from 'rxjs/operators';\n\nimport { DomainEvent, DomainEventBus } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../lib/structure/domain/structure.id';\nimport { SearchPhraseSetDomainEvent } from '../domain/set-phrase/search-phrase-set.domain-event';\n\n\n@Injectable()\nexport class SearchEventRepository {\n\n\tconstructor(private readonly domainEventBus: DomainEventBus) {\n\t}\n\n\tonSearchPhrase(structureId: StructureId): Observable<string> {\n\n\t\treturn this.domainEventBus\n\t\t\t\t   .ofEvent(\n\t\t\t\t\t   SearchPhraseSetDomainEvent as any\n\t\t\t\t   )\n\t\t\t\t   .pipe(\n\t\t\t\t\t   filter((event: DomainEvent<StructureId>) => event.getAggregateId().toString() === structureId.toString()),\n\t\t\t\t\t   filter((event: SearchPhraseSetDomainEvent) => event.isInitial() === false),\n\t\t\t\t\t   map((event: SearchPhraseSetDomainEvent) => event.getPhrase()),\n\t\t\t\t\t   filter((phrase: string) => phrase !== null)\n\t\t\t\t   );\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\n\n@Injectable()\nexport class StructureCellEditCloseAllService {\n\n\tprivate readonly closeAll$ = new Subject<void>();\n\n\tcloseAll(): void {\n\t\tthis.closeAll$.next();\n\t}\n\n\tonCloseAll(): Observable<void> {\n\t\treturn this.closeAll$.asObservable();\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { Archive } from '@generic-ui/hermes';\n\n@Injectable()\nexport class StructureHeaderBottomEnabledArchive extends Archive<boolean> {\n\n\tconstructor() {\n\t\tsuper(false);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { Archive } from '@generic-ui/hermes';\n\n@Injectable()\nexport class StructureHeaderTopEnabledArchive extends Archive<boolean> {\n\n\tconstructor() {\n\t\tsuper(true);\n\t}\n\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { SchemaId } from '../../schema.id';\n\nexport class SchemaHorizontalGridSetEvent extends DomainEvent<SchemaId> {\n\n\tconstructor(schemaId: SchemaId,\n\t\t\t\tprivate readonly horizontalGrid: boolean) {\n\t\tsuper(schemaId, 'SchemaHorizontalGridSetEvent');\n\t}\n\n\tgetHorizontalGrid(): boolean {\n\t\treturn this.horizontalGrid;\n\t}\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { SchemaId } from '../../schema.id';\n\nexport class SchemaVerticalGridSetEvent extends DomainEvent<SchemaId> {\n\n\tconstructor(schemaId: SchemaId,\n\t\t\t\tprivate readonly verticalGrid: boolean) {\n\t\tsuper(schemaId, 'SchemaVerticalGridSetEvent');\n\t}\n\n\tgetVerticalGrid(): boolean {\n\t\treturn this.verticalGrid;\n\t}\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { SchemaId } from '../schema.id';\nimport { SchemaRowColoring } from './schema-row-coloring';\n\n\nexport class RowColoringSetEvent extends DomainEvent<SchemaId> {\n\n\tconstructor(schemaId: SchemaId,\n\t\t\t\tprivate readonly rowColoring: SchemaRowColoring) {\n\t\tsuper(schemaId, 'RowColoringSetEvent');\n\t}\n\n\tgetRowColoring(): SchemaRowColoring {\n\t\treturn this.rowColoring;\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nimport { DomainEventBus, EventRepository } from '@generic-ui/hermes';\n\nimport { SchemaThemeSetEvent } from '../domain/theme/schema-theme-set.event';\nimport { SchemaReadModelRootId } from './read/schema.read-model-root-id';\nimport { schemaGlobalId } from './read/schema.global-id';\nimport { SchemaTheme } from '../domain/theme/schema-theme';\nimport { SchemaHorizontalGridSetEvent } from '../domain/grid/horizontal/schema-horizontal-grid-set.event';\nimport { SchemaVerticalGridSetEvent } from '../domain/grid/vertical/schema-vertical-grid-set.event';\nimport { SchemaRowColoring } from '../domain/coloring/schema-row-coloring';\nimport { RowColoringSetEvent } from '../domain/coloring/row-coloring-set.event';\nimport { SchemaId } from '../domain/schema.id';\n\n\n@Injectable()\nexport class SchemaEventRepository extends EventRepository<SchemaReadModelRootId, SchemaId> {\n\n\tconstructor(domainEventBus: DomainEventBus) {\n\t\tsuper(domainEventBus);\n\t}\n\n\tonThemeChanged(schemaId: SchemaReadModelRootId = schemaGlobalId): Observable<SchemaTheme> {\n\n\t\treturn this.onEvent(schemaId, SchemaThemeSetEvent)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((event: SchemaThemeSetEvent) => event.getTheme())\n\t\t\t\t   );\n\t}\n\n\tonHorizontalGridChanged(schemaId: SchemaReadModelRootId = schemaGlobalId): Observable<boolean> {\n\n\t\treturn this.onEvent(schemaId, SchemaHorizontalGridSetEvent)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((event: SchemaHorizontalGridSetEvent) => event.getHorizontalGrid())\n\t\t\t\t   );\n\t}\n\n\tonVerticalGridChanged(schemaId: SchemaReadModelRootId = schemaGlobalId): Observable<boolean> {\n\n\t\treturn this.onEvent(schemaId, SchemaVerticalGridSetEvent)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((event: SchemaVerticalGridSetEvent) => event.getVerticalGrid())\n\t\t\t\t   );\n\t}\n\n\tonRowColoring(schemaId: SchemaReadModelRootId = schemaGlobalId): Observable<SchemaRowColoring> {\n\n\t\treturn this.onEvent(schemaId, RowColoringSetEvent)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((event: RowColoringSetEvent) => event.getRowColoring())\n\t\t\t\t   );\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { Archive } from '@generic-ui/hermes';\n\nimport { RowDetailConfig } from './row-detail.config';\n\n\n@Injectable()\nexport class StructureRowDetailConfigArchive extends Archive<RowDetailConfig> {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tenabled: false,\n\t\t\ttemplate: (item => 'Detail View')\n\t\t});\n\t}\n\n}\n","import { InjectionToken } from '@angular/core';\n\nexport const structureRowDetailViewItem = new InjectionToken('structureRowDetailViewItem');\n\nexport const structureRowDetailViewTemplate = new InjectionToken('structureRowDetailViewTemplate');\n","import { ChangeDetectionStrategy, Component, Inject, OnInit, ViewEncapsulation } from '@angular/core';\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\n\nimport { structureRowDetailViewItem, structureRowDetailViewTemplate } from './structure.row-detail-view.tokens';\n\n\n@Component({\n\ttemplate: `\n\t\t\n\t\t<div [innerHTML]=\"safeHTML\"></div>\n\t\t\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureRowDetailViewComponent implements OnInit {\n\n\tselectedRowValues: Array<any>;\n\n\tsafeHTML: SafeHtml;\n\n\tconstructor(@Inject(structureRowDetailViewItem) private item: any,\n\t\t\t\t@Inject(structureRowDetailViewTemplate) private template: any,\n\t\t\t\tprivate readonly sanitizer: DomSanitizer) {\n\n\t\tthis.safeHTML = this.sanitizer.bypassSecurityTrustHtml(this.template(this.item));\n\t}\n\n\tngOnInit(): void {\n\t\tthis.selectedRowValues = this.item;\n\t}\n\n}\n","import { ElementRef, Injectable, Injector } from '@angular/core';\n\nimport { FabricDrawerService } from '@generic-ui/fabric';\n\nimport { FormationEventService } from '../../../../structure/source/domain-api/formation/formation-event.service';\nimport { StructureId } from '../../domain/structure.id';\n\nimport { Reactive } from '../../../../common/cdk/reactive';\nimport { StructureRowDetailConfigArchive } from './structure.row-detail.config-archive';\nimport { RowDetailConfig } from './row-detail.config';\nimport { StructureRowDetailViewComponent } from './view/structure.row-detail-view.component';\nimport { structureRowDetailViewItem, structureRowDetailViewTemplate } from './view/structure.row-detail-view.tokens';\n\n\n@Injectable()\nexport class StructureRowDetailService extends Reactive {\n\n\tenabled: boolean = false;\n\n\tconfig: RowDetailConfig;\n\n\telementRef: ElementRef;\n\n\tconstructor(private readonly injector: Injector,\n\t\t\t\tprivate readonly structureId: StructureId,\n\t\t\t\tprivate readonly structureDetailViewConfigArchive: StructureRowDetailConfigArchive,\n\t\t\t\tprivate readonly formationEventService: FormationEventService,\n\t\t\t\tprivate readonly drawerService: FabricDrawerService) {\n\t\tsuper();\n\t}\n\n\tinit(ref: ElementRef): void {\n\t\tthis.elementRef = ref;\n\n\t\tthis.structureDetailViewConfigArchive\n\t\t\t.onValue()\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((config: RowDetailConfig) => {\n\n\t\t\t\tthis.config = config;\n\n\t\t\t\tif (config.enabled === true) {\n\t\t\t\t\tthis.turnOn();\n\t\t\t\t} else if (config.enabled === false) {\n\t\t\t\t\tthis.turnOff();\n\t\t\t\t}\n\t\t\t});\n\n\t\tthis.formationEventService\n\t\t\t.onItemSelected(this.structureId)\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((items: Array<any>) => {\n\n\t\t\t\tif (!this.enabled) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.drawerService.close();\n\n\t\t\t\tif (items.length === 0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst item = items[0];\n\n\t\t\t\tconst injector = Injector.create({\n\t\t\t\t\tparent: this.injector,\n\t\t\t\t\tproviders: [\n\t\t\t\t\t\t{ provide: structureRowDetailViewItem, useValue: item },\n\t\t\t\t\t\t{ provide: structureRowDetailViewTemplate, useValue: this.config.template }\n\t\t\t\t\t]\n\t\t\t\t});\n\n\t\t\t\tthis.drawerService.open(this.elementRef, StructureRowDetailViewComponent, { injector: injector });\n\t\t\t});\n\t}\n\n\tprivate turnOn(): void {\n\t\tthis.enabled = true;\n\t}\n\n\tprivate turnOff(): void {\n\t\tthis.enabled = false;\n\t}\n}\n","import { Archive } from '@generic-ui/hermes';\nimport { TitlePanelConfig } from './title-panel.config';\n\nexport class StructureTitlePanelConfigArchive extends Archive<TitlePanelConfig> {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tenabled: false,\n\t\t\ttemplate: (title => 'Title Panel')\n\t\t});\n\t}\n\n}\n","import { Archive } from '@generic-ui/hermes';\nimport { FooterPanelConfig } from './footer-panel.config';\n\nexport class StructureFooterPanelConfigArchive extends Archive<FooterPanelConfig> {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tenabled: false,\n\t\t\ttemplate: (title => 'Footer Panel')\n\t\t});\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { InfoPanelConfig } from './info-panel.config';\nimport { StructureInfoPanelArchive } from './structure.info-panel.archive';\nimport { StructureInfoPanelConfigConverter } from './structure.info-panel.config-converter';\n\n\n@Injectable()\nexport class StructureInfoPanelConfigService {\n\n\tconstructor(private structureInfoPanelConfigConverter: StructureInfoPanelConfigConverter,\n\t\t\t\tprivate structureInfoPanelArchive: StructureInfoPanelArchive) {\n\t}\n\n\tset(config: InfoPanelConfig): void {\n\t\tconst infoPanelConfig = this.structureInfoPanelConfigConverter.convert(config);\n\n\t\tthis.structureInfoPanelArchive.next(infoPanelConfig);\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\nimport { SortingConfig } from '../../domain-api/sorting-config';\n\n\nexport class SetSortingCommand extends Command {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly sortingConfig: SortingConfig) {\n\t\tsuper(structureId, 'SetSortingCommand');\n\t}\n\n\tgetSortingConfig(): SortingConfig {\n\t\treturn this.sortingConfig;\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\nimport { CompositionId } from '../../../../lib/composition/domain/composition.id';\nimport { FieldId } from '../../../field/domain/core/field/field.id';\n\n\nexport class ToggleSortCommand extends Command {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly compositionId: CompositionId,\n\t\t\t\tprivate readonly fieldId: FieldId) {\n\t\tsuper(structureId, 'ToggleSortCommand');\n\t}\n\n\tgetCompositionId(): CompositionId {\n\t\treturn this.compositionId;\n\t}\n\n\tgetFieldId(): FieldId {\n\t\treturn this.fieldId;\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\nimport { SortOrder } from '../../../../lib/composition/domain/column/sort/sort-order';\nimport { FieldId } from '../../../field/domain/core/field/field.id';\nimport { CompositionId } from '../../../../lib/composition/domain/composition.id';\n\n\nexport class SetSortOrderCommand extends Command {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly compositionId: CompositionId,\n\t\t\t\tprivate readonly fieldId: FieldId,\n\t\t\t\tprivate readonly sortOrder: SortOrder) {\n\t\tsuper(structureId, 'SetSortOrderCommand');\n\t}\n\n\tgetCompositionId(): CompositionId {\n\t\treturn this.compositionId;\n\t}\n\n\tgetFieldId(): FieldId {\n\t\treturn this.fieldId;\n\t}\n\n\tgetSortOrder(): SortOrder {\n\t\treturn this.sortOrder;\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { StructureId } from '../../../lib/structure/domain/structure.id';\nimport { structureGlobalId } from '../../../lib/structure/domain-api/structure.global-id';\nimport { SortingConfig } from './sorting-config';\nimport { SetSortingCommand } from '../domain/set-config/set-sorting.command';\nimport { FieldId } from '../../field/domain/core/field/field.id';\nimport { CompositionId } from '../../../lib/composition/domain/composition.id';\nimport { ToggleSortCommand } from '../domain/toggle/toggle-sort.command';\nimport { SortOrder } from '../../../lib/composition/domain/column/sort/sort-order';\nimport { SetSortOrderCommand } from '../domain/order/set-sort-order.command';\nimport { CommandDispatcher } from '@generic-ui/hermes';\n\n\n@Injectable()\nexport class SortingCommandDispatcher {\n\n\tconstructor(private readonly commandDispatcher: CommandDispatcher) {\n\t}\n\n\tsetSortingConfig(config: SortingConfig, structureId: StructureId = structureGlobalId): void {\n\t\tthis.commandDispatcher.dispatch(new SetSortingCommand(structureId, config));\n\t}\n\n\ttoggleSort(fieldId: FieldId, compositionId?: CompositionId, structureId: StructureId = structureGlobalId): void {\n\t\tthis.commandDispatcher.dispatch(new ToggleSortCommand(structureId, compositionId, fieldId));\n\t}\n\n\tsetSortOrder(fieldId: FieldId, sortOrder: SortOrder, compositionId?: CompositionId, structureId: StructureId = structureGlobalId): void {\n\t\tthis.commandDispatcher.dispatch(new SetSortOrderCommand(structureId, compositionId, fieldId, sortOrder));\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { StructureReadModelRepository } from '../../../lib/structure/domain-api/read/structure.read-model-repository';\nimport { AggregateId } from '@generic-ui/hermes';\nimport { structureGlobalId } from '../../../lib/structure/domain-api/structure.global-id';\nimport { StructureReadModelRoot } from '../../../lib/structure/domain-api/read/structure.read-model-root';\nimport { Observable } from 'rxjs';\n\n\n@Injectable()\nexport class SortingWarehouse {\n\n\tconstructor(private readonly structureRepository: StructureReadModelRepository) {\n\t}\n\n\tonStructure(aggregateId: AggregateId = structureGlobalId): Observable<StructureReadModelRoot> {\n\t\treturn this.structureRepository.onStructure(aggregateId);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\n\n@Injectable()\nexport class SortingEventRepository {\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateId, CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { StructureAggregateRepository } from '../../../../lib/structure/domain/structure/structure-aggregate.repository';\nimport { ToggleSortCommand } from './toggle-sort.command';\nimport { CompositionId } from '../../../../lib/composition/domain/composition.id';\nimport { FieldId } from '../../../field/domain/core/field/field.id';\nimport { StructureSorter } from '../structure.sorter';\nimport { SortToggledEvent } from './sort-toggled.event';\nimport { StructureAggregate } from '../../../../lib/structure/domain/structure/structure.aggregate';\n\n\n@Injectable()\nexport class ToggleSortCommandHandler implements CommandHandler<StructureAggregate, ToggleSortCommand> {\n\n\tconstructor(private readonly structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tprivate domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<ToggleSortCommand> {\n\t\treturn ToggleSortCommand;\n\t}\n\n\tpublishDomainEvents(aggregate: StructureAggregate, command: ToggleSortCommand): void {\n\t}\n\n\thandleAggregate(structure: StructureAggregate, command: ToggleSortCommand): void {\n\n\t\tconst aggregateId = command.getAggregateId(),\n\t\t\tcompositionId = command.getCompositionId(),\n\t\t\tfieldId = command.getFieldId();\n\n\t\tconst sorters = structure.toggleSort(fieldId);\n\n\t\tthis.publishSortEvent(aggregateId, compositionId, fieldId, sorters);\n\t}\n\n\tprivate publishSortEvent(aggregateId: AggregateId, compositionId: CompositionId, fieldId: FieldId, sorters: Array<StructureSorter>): void {\n\n\t\tconst directions = sorters.map((sorter: StructureSorter) => {\n\t\t\treturn {\n\t\t\t\tdirection: sorter.hasDirection(),\n\t\t\t\tfieldId: sorter.getField().getId()\n\t\t\t};\n\t\t});\n\n\t\tthis.domainEventPublisher.publish(new SortToggledEvent(aggregateId, compositionId, directions));\n\t}\n\n}\n","import { DomainEvent } from '@generic-ui/hermes';\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\n\nexport class SortingSetEvent extends DomainEvent<StructureId> {\n\n\tconstructor(aggregateId: StructureId) {\n\t\tsuper(aggregateId, 'SortingSetEvent');\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\nimport { SetSortingCommand } from './set-sorting.command';\nimport { SortingSetEvent } from './sorting-set.event';\nimport { StructureAggregate } from '../../../../lib/structure/domain/structure/structure.aggregate';\n\n\n@Injectable()\nexport class SetSortingCommandHandler implements CommandHandler<StructureAggregate, SetSortingCommand> {\n\n\tconstructor(private domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SetSortingCommand> {\n\t\treturn SetSortingCommand;\n\t}\n\n\tpublishDomainEvents(aggregate: StructureAggregate, command: SetSortingCommand): void {\n\t\tthis.domainEventPublisher.publish(new SortingSetEvent(command.getAggregateId()));\n\t}\n\n\thandleAggregate(aggregate: StructureAggregate, command: SetSortingCommand): void {\n\n\t\tconst sortingConfig = command.getSortingConfig();\n\n\t\taggregate.setSortingConfig(sortingConfig);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateId, CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { StructureAggregateRepository } from '../../../../lib/structure/domain/structure/structure-aggregate.repository';\nimport { SetSortOrderCommand } from './set-sort-order.command';\nimport { SortOrderSetEvent } from './sort-order-set.event';\nimport { CompositionId } from '../../../../lib/composition/domain/composition.id';\nimport { FieldId } from '../../../field/domain/core/field/field.id';\nimport { StructureSorter } from '../structure.sorter';\nimport { StructureAggregate } from '../../../../lib/structure/domain/structure/structure.aggregate';\n\n\n@Injectable()\nexport class SetSortOrderCommandHandler implements CommandHandler<StructureAggregate, SetSortOrderCommand> {\n\n\tconstructor(private readonly structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tprivate domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SetSortOrderCommand> {\n\t\treturn SetSortOrderCommand;\n\t}\n\n\tpublishDomainEvents(aggregate: StructureAggregate, command: SetSortOrderCommand): void {\n\t}\n\n\thandleAggregate(structure: StructureAggregate, command: SetSortOrderCommand): void {\n\n\t\tconst structureId = command.getAggregateId(),\n\t\t\tcompositionId = command.getCompositionId(),\n\t\t\tfieldId = command.getFieldId(),\n\t\t\tsortOrder = command.getSortOrder();\n\n\t\tconst sorters = structure.setSortOrder(fieldId, sortOrder);\n\n\t\tthis.publishSortEvent(structureId, compositionId, fieldId, sorters);\n\t}\n\n\tprivate publishSortEvent(aggregateId: AggregateId, compositionId: CompositionId, fieldId: FieldId, sorters: Array<StructureSorter>): void {\n\n\t\tconst directions = sorters.map((sorter: StructureSorter) => {\n\t\t\treturn {\n\t\t\t\tdirection: sorter.hasDirection(),\n\t\t\t\tfieldId: sorter.getField().getId()\n\t\t\t};\n\t\t});\n\n\t\tthis.domainEventPublisher.publish(new SortOrderSetEvent(aggregateId, compositionId, directions));\n\t}\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { DomainModule, HermesModule } from '@generic-ui/hermes';\n\nimport { ToggleSortCommandHandler } from './toggle/toggle-sort.command-handler';\nimport { SetSortingCommandHandler } from './set-config/set-sorting.command-handler';\nimport { SetSortOrderCommandHandler } from './order/set-sort-order.command-handler';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule\n\t],\n\tproviders: [],\n\tdeclarations: [],\n\texports: []\n})\nexport class SortingDomainModule extends DomainModule {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tstatic commandHandlers() {\n\t\treturn [\n\t\t\t...HermesModule.registerCommandHandler(ToggleSortCommandHandler, 'StructureAggregate'),\n\t\t\t...HermesModule.registerCommandHandler(SetSortingCommandHandler, 'StructureAggregate'),\n\t\t\t...HermesModule.registerCommandHandler(SetSortOrderCommandHandler, 'StructureAggregate')\n\t\t];\n\t}\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { ApiModule } from '@generic-ui/hermes';\n\nimport { SortingCommandDispatcher } from './sorting.command-dispatcher';\nimport { SortingWarehouse } from './sorting.warehouse';\nimport { SortingEventRepository } from './sorting.event-repository';\nimport { SortingDomainModule } from '../domain/sorting.domain-module';\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tSortingDomainModule\n\t],\n\tproviders: [\n\t\tSortingCommandDispatcher,\n\t\tSortingWarehouse,\n\t\tSortingEventRepository\n\t],\n\tdeclarations: [],\n\texports: []\n})\nexport class SortingApiModule extends ApiModule {\n}\n","import { NgModule, Provider } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { FeatureModule } from '@generic-ui/hermes';\n\nimport { SortingApiModule } from '../domain-api/sorting.api-module';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\n\t\tSortingApiModule\n\t],\n\tdeclarations: [],\n\texports: []\n})\nexport class SortingFeatureModule extends FeatureModule {\n\n\tstatic forComponent(): Array<Provider> {\n\t\treturn [];\n\t}\n\n}\n","import { DomainEvent } from '@generic-ui/hermes';\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\n\nexport class ConfigSearchingSetEvent extends DomainEvent<StructureId> {\n\n\tconstructor(aggregateId: StructureId,\n\t\t\t\tprivate readonly enabled: boolean) {\n\t\tsuper(aggregateId, 'ConfigSearchingSetEvent');\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { SetConfigSearchingCommand } from './set-config-searching.command';\nimport { ConfigSearchingSetEvent } from './config-searching-set.event';\nimport { StructureAggregate } from '../../../../lib/structure/domain/structure/structure.aggregate';\n\n\n@Injectable()\nexport class SetConfigSearchingCommandHandler implements CommandHandler<StructureAggregate, SetConfigSearchingCommand> {\n\n\tconstructor(private domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SetConfigSearchingCommand> {\n\t\treturn SetConfigSearchingCommand;\n\t}\n\n\tpublishDomainEvents(aggregate: StructureAggregate, command: SetConfigSearchingCommand): void {\n\n\t\tconst searchingConfig = command.getConfig();\n\n\t\tthis.domainEventPublisher.publish(new ConfigSearchingSetEvent(command.getAggregateId(), searchingConfig.enabled));\n\t}\n\n\thandleAggregate(aggregate: StructureAggregate, command: SetConfigSearchingCommand): void {\n\n\t\tconst searchingConfig = command.getConfig();\n\n\t\taggregate.setSearchingConfig(searchingConfig);\n\t}\n\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../structure.id';\nimport { SummariesValues } from './calculation/summaries.values';\n\n\nexport class StructureSummariesChangedEvent extends DomainEvent<StructureId> {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly values: Map<string, SummariesValues>) {\n\t\tsuper(structureId, 'StructureSummariesChangedEvent');\n\t}\n\n\tgetSummaries() {\n\t\treturn this.values;\n\t}\n\n}\n","import { AggregateEvent, AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nimport { SummariesValues } from './calculation/summaries.values';\nimport { StructureId } from '../../structure.id';\nimport { StructureSummariesChangedEvent } from './structure.summaries-changed.event';\n\nexport const StructureSummariesChangedAggregateEventName = 'StructureSummariesChangedAggregateEvent';\n\nexport class StructureSummariesChangedAggregateEvent extends AggregateEvent<StructureId> {\n\n\tconstructor(aggregateId: AggregateId,\n\t\t\t\tprivate readonly summarizedValues: Map<string, SummariesValues>) {\n\t\tsuper(aggregateId, StructureSummariesChangedAggregateEventName);\n\t}\n\n\ttoDomainEvent(): DomainEvent<StructureId> {\n\t\treturn new StructureSummariesChangedEvent(this.getAggregateId(), this.summarizedValues);\n\t}\n\n\tgetSummaries(): Map<string, SummariesValues> {\n\t\treturn this.summarizedValues;\n\t}\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { OriginItemEntity } from '../origin/origin-item-entity';\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\n\nexport class StructurePreparedEntitiesSetEvent extends DomainEvent<StructureId> {\n\n\tconstructor(aggregateId: StructureId,\n\t\t\t\tprivate readonly preparedItems: Array<OriginItemEntity>) {\n\t\tsuper(aggregateId, 'StructurePreparedEntitiesSetEvent');\n\t}\n\n\tgetPreparedItems(): Array<OriginItemEntity> {\n\t\treturn this.preparedItems;\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateEvent, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { StructureOriginChangedAggregateEvent } from './origin/structure.origin-changed.aggregate-event';\nimport { OriginSetEvent } from './origin/set-origin/origin-set.event';\nimport { StructureSourceItemEditedAggregateEvent } from './origin/edit/structure.source-item-edited.aggregate-event';\nimport { StructureSourceItemEditedEvent } from './origin/edit/structure.source-item-edited.event';\nimport {\n\tStructureSummariesChangedAggregateEvent,\n\tStructureSummariesChangedAggregateEventName\n} from '../../../lib/structure/domain/structure/summaries/structure.summaries-changed.aggregate-event';\nimport { StructureSummariesChangedEvent } from '../../../lib/structure/domain/structure/summaries/structure.summaries-changed.event';\nimport { StructurePreparedEntitiesSetAggregateEvent } from './prepared/structure.prepared-entities-set.aggregate-event';\nimport { StructurePreparedEntitiesSetEvent } from './prepared/structure.prepared-entities-set.event';\nimport { StructureId } from '../../../lib/structure/domain/structure.id';\nimport { UniqueFilterCalculatedAggregateEvent } from '../../filter/domain/unique/calculate/unique-filter-calculated.aggregate-event';\n\n\n@Injectable()\nexport class SourceDomainEventPublisher {\n\n\tconstructor(private domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tpublish(events: ReadonlyArray<AggregateEvent<StructureId>>): void {\n\n\t\tevents.forEach((event) => {\n\t\t\tthis.publishEvent(event);\n\t\t});\n\t}\n\n\tprivate publishEvent(event: AggregateEvent<StructureId>): void {\n\n\t\tif (event.getType() === 'StructureOriginChangedAggregateEvent') {\n\n\t\t\tconst structureOriginChangedAggregateEvent = (event as StructureOriginChangedAggregateEvent);\n\n\t\t\tconst domainEvent = new OriginSetEvent(structureOriginChangedAggregateEvent.getAggregateId(), structureOriginChangedAggregateEvent.getOrigin());\n\n\t\t\tthis.domainEventPublisher.publish(domainEvent);\n\t\t}\n\n\t\tif (event.getType() === 'StructureSourceItemEditedAggregateEvent') {\n\n\t\t\tconst structureSourceItemEditedAggregateEvent = (event as StructureSourceItemEditedAggregateEvent);\n\n\t\t\tconst domainEvent = new StructureSourceItemEditedEvent(\n\t\t\t\tstructureSourceItemEditedAggregateEvent.getAggregateId(),\n\t\t\t\tstructureSourceItemEditedAggregateEvent.getBeforeItem(),\n\t\t\t\tstructureSourceItemEditedAggregateEvent.getAfterItem()\n\t\t\t);\n\n\t\t\tthis.domainEventPublisher.publish(domainEvent);\n\t\t}\n\n\t\tif (event.getType() === StructureSummariesChangedAggregateEventName) {\n\n\t\t\tconst structureSummariesChangedAggregateEvent = (event as StructureSummariesChangedAggregateEvent);\n\n\t\t\tconst domainEvent = new StructureSummariesChangedEvent(structureSummariesChangedAggregateEvent.getAggregateId(), structureSummariesChangedAggregateEvent.getSummaries());\n\n\t\t\tthis.domainEventPublisher.publish(domainEvent);\n\n\t\t}\n\n\t\tif (event.getType() === 'StructurePreparedEntitiesSetAggregateEvent') {\n\n\t\t\tconst structurePreparedEntitiesSetAggregateEvent = (event as StructurePreparedEntitiesSetAggregateEvent);\n\n\t\t\tconst domainEvent = new StructurePreparedEntitiesSetEvent(structurePreparedEntitiesSetAggregateEvent.getAggregateId(), structurePreparedEntitiesSetAggregateEvent.getPreparedItems());\n\n\t\t\tthis.domainEventPublisher.publish(domainEvent);\n\t\t}\n\n\t\tif (event.getType() === 'UniqueFilterCalculatedAggregateEvent') {\n\n\t\t\tconst uniqueFilterCalculatedAggregateEvent = (event as UniqueFilterCalculatedAggregateEvent);\n\n\t\t\tconst domainEvent = uniqueFilterCalculatedAggregateEvent.toDomainEvent();\n\n\t\t\tthis.domainEventPublisher.publish(domainEvent);\n\t\t}\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { SetSearchPhraseCommand } from './set-search-phrase.command';\nimport { SearchPhraseSetDomainEvent } from './search-phrase-set.domain-event';\nimport { SourceDomainEventPublisher } from '../../../source/domain/source.domain-event.publisher';\nimport { StructureAggregate } from '../../../../lib/structure/domain/structure/structure.aggregate';\n\n\n@Injectable()\nexport class StructureSetSearchPhraseCommandHandler implements CommandHandler<StructureAggregate, SetSearchPhraseCommand> {\n\n\tconstructor(private readonly structureSourceDomainEventPublisher: SourceDomainEventPublisher,\n\t\t\t\tprivate readonly domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SetSearchPhraseCommand> {\n\t\treturn SetSearchPhraseCommand;\n\t}\n\n\tpublishDomainEvents(aggregate: StructureAggregate, command: SetSearchPhraseCommand): void {\n\n\t\tconst phrase = command.getPhrase(),\n\t\t\tinitial = command.isInitial();\n\n\t\tthis.domainEventPublisher.publish(new SearchPhraseSetDomainEvent(command.getAggregateId(), phrase, initial));\n\t\tthis.structureSourceDomainEventPublisher.publish(aggregate.getEvents());\n\t}\n\n\thandleAggregate(aggregate: StructureAggregate, command: SetSearchPhraseCommand): void {\n\n\t\tconst phrase = command.getPhrase();\n\n\t\taggregate.addSearchPhrase(phrase);\n\t}\n\n}\n","import { OriginItemEntity } from '../../source/domain/origin/origin-item-entity';\nimport { DataType } from '../../field/domain/core/field/data/data-type';\nimport { Field } from '../../field/domain/core/field/field';\n\n\nexport class SearchManager {\n\n\tprivate searchFields: Array<Field> = [];\n\n\tprivate searchPhrase: string;\n\n\tprivate enabledDataTypes: Array<DataType> = [\n\t\tDataType.STRING\n\t];\n\n\taddSearchPhrase(fields: Array<Field>, searchPhrase: string): void {\n\n\t\tif (!searchPhrase) {\n\t\t\tthis.searchFields = [];\n\t\t\treturn;\n\t\t}\n\n\t\tlet searchableFields =\n\t\t\tfields.filter((field: Field) => {\n\t\t\t\treturn this.enabledDataTypes.some((dt: DataType) => dt === field.getDataType());\n\t\t\t});\n\n\t\tif (searchableFields.length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.searchFields = searchableFields;\n\n\t\tthis.searchPhrase = searchPhrase;\n\t}\n\n\tremoveSearchFilters(): void {\n\t\tthis.searchFields = [];\n\t}\n\n\tsearch(entities: Array<OriginItemEntity>): Array<OriginItemEntity> {\n\n\t\tif (entities.length === 0 || this.searchFields.length === 0) {\n\t\t\treturn entities;\n\t\t}\n\n\t\tlet searchedItems = new Set<OriginItemEntity>();\n\n\t\tfor (let i = 0; i < entities.length; i += 1) {\n\n\t\t\tthis.searchFields\n\t\t\t\t.filter((field: Field) => field.search(entities[i], this.searchPhrase))\n\t\t\t\t.forEach(() => {\n\t\t\t\t\tsearchedItems.add(entities[i]);\n\t\t\t\t});\n\t\t}\n\n\t\treturn Array.from(searchedItems);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { SearchManager } from './search.manager';\n\n@Injectable()\nexport class SearchManagerFactory {\n\n\tcreate(): SearchManager {\n\t\treturn new SearchManager();\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventHandler, DomainEventType } from '@generic-ui/hermes';\n\nimport { SearchPhraseRepository } from './search-phrase.repository';\nimport { SearchPhraseSetDomainEvent } from '../../domain/set-phrase/search-phrase-set.domain-event';\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\n\n\n@Injectable()\nexport class SearchPhraseSetEventHandler implements DomainEventHandler<StructureId, SearchPhraseSetDomainEvent> {\n\n\tconstructor(private structureSearchPhraseRepository: SearchPhraseRepository) {\n\t}\n\n\tforEvent(): DomainEventType<SearchPhraseSetDomainEvent> {\n\t\treturn SearchPhraseSetDomainEvent;\n\t}\n\n\thandle(event: SearchPhraseSetDomainEvent): void {\n\n\t\tif (event.ofMessageType('SearchPhraseSetDomainEvent')) {\n\t\t\tthis.structureSearchPhraseRepository.setPhrase(event.getPhrase(), event.getAggregateId());\n\t\t}\n\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventHandler, DomainEventType } from '@generic-ui/hermes';\n\nimport { SearchingRepository } from './searching.repository';\n\nimport { ConfigSearchingSetEvent } from '../../domain/config/config-searching-set.event';\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\n\n\n@Injectable()\nexport class ConfigSearchingSetEventHandler implements DomainEventHandler<StructureId, ConfigSearchingSetEvent> {\n\n\tconstructor(private structureSearchingRepository: SearchingRepository) {\n\t}\n\n\tforEvent(): DomainEventType<ConfigSearchingSetEvent> {\n\t\treturn ConfigSearchingSetEvent;\n\t}\n\n\thandle(event: ConfigSearchingSetEvent): void {\n\n\t\tif (event.ofMessageType('ConfigSearchingSetEvent')) {\n\t\t\tthis.structureSearchingRepository.setEnabled(event.isEnabled(), event.getAggregateId());\n\t\t}\n\n\t}\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { DomainModule, HermesModule } from '@generic-ui/hermes';\n\nimport { SetConfigSearchingCommandHandler } from './config/set-config-searching.command-handler';\nimport { StructureSetSearchPhraseCommandHandler } from './set-phrase/structure.set-search-phrase.command-handler';\nimport { SearchManagerFactory } from './search.manager-factory';\nimport { SearchDispatcher } from './search.dispatcher';\nimport { SearchPhraseSetEventHandler } from '../domain-api/phrase/search-phrase-set.event-handler';\nimport { ConfigSearchingSetEventHandler } from '../domain-api/enabled/config-searching-set.event-handler';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule\n\t],\n\tproviders: [\n\t\tSearchManagerFactory,\n\t\tSearchDispatcher\n\t],\n\tdeclarations: [],\n\texports: []\n})\nexport class SearchDomainModule extends DomainModule {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tstatic commandHandlers() {\n\t\treturn [\n\t\t\t...HermesModule.registerCommandHandler(SetConfigSearchingCommandHandler, 'StructureAggregate'),\n\t\t\t...HermesModule.registerCommandHandler(StructureSetSearchPhraseCommandHandler, 'StructureAggregate')\n\t\t];\n\t}\n\n\tstatic domainEventHandlers() {\n\t\treturn [\n\t\t\t...HermesModule.registerDomainEventHandler(SearchPhraseSetEventHandler),\n\t\t\t...HermesModule.registerDomainEventHandler(ConfigSearchingSetEventHandler)\n\t\t];\n\t}\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { ApiModule } from '@generic-ui/hermes';\n\nimport { SearchDomainModule } from '../domain/search.domain-module';\nimport { SearchCommandDispatcher } from './search.command-dispatcher';\nimport { SearchWarehouse } from './search.warehouse';\nimport { SearchEventRepository } from './search.event-repository';\nimport { SearchPhraseRepository } from './phrase/search-phrase.repository';\nimport { SearchHighlightArchive } from './highlight/search-highlight.archive';\nimport { SearchPlaceholderArchive } from './placeholder/search-placeholder.archive';\nimport { SearchingRepository } from './enabled/searching.repository';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tSearchDomainModule\n\t],\n\tproviders: [\n\t\tSearchCommandDispatcher,\n\t\tSearchWarehouse,\n\t\tSearchEventRepository,\n\n\t\tSearchPhraseRepository,\n\t\tSearchHighlightArchive,\n\t\tSearchPlaceholderArchive,\n\t\tSearchingRepository\n\n\t],\n\tdeclarations: [],\n\texports: []\n})\nexport class SearchApiModule extends ApiModule {\n\n\n}\n","import { ChangeDetectionStrategy, Component, ViewEncapsulation } from '@angular/core';\n\n\n@Component({\n\tselector: 'gui-search-icon',\n\ttemplate: `\n\t\t<svg class=\"gui-search-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"10.231\" height=\"10.601\" viewBox=\"0 0 10.231 10.601\">\n\t\t\t<line x2=\"1.77\" y2=\"1.77\" transform=\"translate(7.4 7.77)\" fill=\"none\" stroke-linecap=\"round\"\n\t\t\t\t  stroke-linejoin=\"round\" stroke-width=\"1.5\"/>\n\t\t\t<circle cx=\"4.02\" cy=\"4.02\" r=\"4.02\" transform=\"translate(0.5 0.5)\" stroke-width=\"1\"\n\t\t\t\t\tstroke-linecap=\"round\" stroke-linejoin=\"round\" fill=\"none\"/>\n\t\t</svg>\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None,\n\thost: {\n\t\t'[class.gui-icon]': 'true'\n\t}\n})\nexport class SearchIconComponent {\n}\n","import {\n\tChangeDetectionStrategy,\n\tChangeDetectorRef,\n\tComponent,\n\tElementRef,\n\tOnInit,\n\tRenderer2,\n\tViewChild,\n\tViewEncapsulation\n} from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { debounceTime } from 'rxjs/operators';\nimport { Subscription } from 'rxjs';\n\nimport { SmartComponent } from '../../../common/cdk/smart-component';\nimport { StructureWarehouse } from '../../../lib/structure/domain-api/structure.warehouse';\nimport { SearchPlaceholderArchive } from '../domain-api/placeholder/search-placeholder.archive';\nimport { StructureId } from '../../../lib/structure/domain/structure.id';\nimport { StructureVerticalFormationWarehouse } from '../../../lib/structure/domain-api/vertical-formation/structure-vertical-formation.warehouse';\nimport { SearchCommandDispatcher } from '../domain-api/search.command-dispatcher';\nimport { SearchWarehouse } from '../domain-api/search.warehouse';\n\n\n@Component({\n\tselector: 'gui-search-bar',\n\ttemplate: `\n\t\t<ng-container *ngIf=\"searchingEnabled\">\n\t\t\t<form #formRef\n\t\t\t\t  [formGroup]=\"searchForm\">\n\t\t\t\t<gui-search-icon></gui-search-icon>\n\t\t\t\t<input formControlName=\"searchPhrase\" [placeholder]=\"placeholder\">\n\t\t\t\t<span *ngIf=\"searchForm.controls['searchPhrase'].value\" class=\"gui-clear-search-icon\" (click)=\"clear()\"></span>\n\t\t\t</form>\n\t\t</ng-container>\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None,\n\thost: {\n\t\t'[class.gui-search-bar]': `\"true\"`\n\t},\n\tstyleUrls: [\n\t\t'./style/searching.ngx.scss'\n\t]\n})\nexport class SearchComponent extends SmartComponent implements OnInit {\n\n\tprivate static readonly FORM_SEARCH_NAME = 'searchPhrase';\n\n\t@ViewChild('formRef', { static: false })\n\tformRef: ElementRef;\n\n\tsearchForm: FormGroup;\n\n\tplaceholder = 'Search';\n\n\tsearchingEnabled: boolean = false;\n\n\tsearchInputSubscription: Subscription;\n\n\tconstructor(private readonly formBuilder: FormBuilder,\n\t\t\t\tprivate readonly renderer2: Renderer2,\n\t\t\t\tprivate readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\tprivate readonly structureId: StructureId,\n\t\t\t\tprivate readonly searchCommandDispatcher: SearchCommandDispatcher,\n\t\t\t\tprivate readonly structureWarehouse: StructureWarehouse,\n\t\t\t\tprivate readonly searchWarehouse: SearchWarehouse,\n\t\t\t\tprivate readonly verticalFormationWarehouse: StructureVerticalFormationWarehouse,\n\t\t\t\tprivate readonly structureSearchPlaceholderArchive: SearchPlaceholderArchive) {\n\t\tsuper();\n\n\t\tlet controlsConfig = {};\n\t\tcontrolsConfig[SearchComponent.FORM_SEARCH_NAME] = '';\n\n\t\tthis.searchForm = this.formBuilder.group(controlsConfig);\n\t}\n\n\tngOnInit() {\n\t\tthis.observeChanges();\n\n\t\tthis.structureSearchPlaceholderArchive\n\t\t\t.onValue()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((placeholder: string) => {\n\t\t\t\tthis.placeholder = placeholder;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.searchWarehouse\n\t\t\t.onPhrase(this.structureId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((phrase: string) => {\n\n\t\t\t\tif (phrase === undefined) {\n\t\t\t\t\tphrase = null;\n\t\t\t\t}\n\n\t\t\t\tlet controlsConfig = {};\n\t\t\t\tcontrolsConfig[SearchComponent.FORM_SEARCH_NAME] = phrase;\n\n\t\t\t\tif (phrase !== this.searchForm.get([SearchComponent.FORM_SEARCH_NAME]).value) {\n\n\t\t\t\t\tthis.stopObserveChanges();\n\t\t\t\t\tthis.searchForm.setValue(controlsConfig);\n\t\t\t\t\tthis.observeChanges();\n\t\t\t\t}\n\n\t\t\t});\n\n\t\tthis.searchWarehouse\n\t\t\t.onSearchEnabled(this.structureId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((searchingEnabled: boolean) => {\n\t\t\t\tthis.searchingEnabled = searchingEnabled;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\t}\n\n\tclear(): void {\n\t\tthis.searchForm.reset();\n\t}\n\n\tprivate observeChanges(): void {\n\t\tthis.searchInputSubscription =\n\t\t\tthis.searchForm\n\t\t\t\t.controls[SearchComponent.FORM_SEARCH_NAME]\n\t\t\t\t.valueChanges\n\t\t\t\t.pipe(\n\t\t\t\t\tdebounceTime(200),\n\t\t\t\t\tthis.takeUntil()\n\t\t\t\t)\n\t\t\t\t.subscribe((phrase: string) => {\n\t\t\t\t\tthis.searchCommandDispatcher.search(phrase, this.structureId);\n\t\t\t\t});\n\t}\n\n\tprivate stopObserveChanges(): void {\n\t\tthis.searchInputSubscription.unsubscribe();\n\t}\n}\n","import { NgModule, Provider } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\n\nimport { FabricModule } from '@generic-ui/fabric';\nimport { FeatureModule } from '@generic-ui/hermes';\n\nimport { SearchApiModule } from '../domain-api/search.api-module';\nimport { SearchIconComponent } from './icon/search-icon.component';\nimport { SearchComponent } from './search.component';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tFabricModule,\n\t\t// SearchApiModule,\n\t\tReactiveFormsModule\n\t],\n\tdeclarations: [\n\t\tSearchIconComponent,\n\t\tSearchComponent\n\t],\n\texports: [\n\t\tSearchIconComponent,\n\t\tSearchComponent\n\t]\n})\nexport class SearchFeatureModule extends FeatureModule {\n\n\tstatic forComponent(): Array<Provider> {\n\t\treturn [];\n\t}\n\n\tconstructor(searchApiModule: SearchApiModule) {\n\t\tsuper();\n\t\tif (searchApiModule === null) {\n\t\t\tthrow new Error('SearchApiModule is required');\n\t\t}\n\t}\n\n}\n","import { FieldId } from '../../domain/core/field/field.id';\nimport { DataType } from '../../domain/core/field/data/data-type';\n\n\nexport class FieldReadModel {\n\n\tconstructor(private readonly id: FieldId,\n\t\t\t\tprivate readonly dataType: DataType,\n\t\t\t\tprivate readonly name: string\n\t) {\n\t}\n\n\tgetFieldId(): FieldId {\n\t\treturn this.id;\n\t}\n\n\tgetId(): string {\n\t\treturn this.id.getId();\n\t}\n\n\tgetDataType(): DataType {\n\t\treturn this.dataType;\n\t}\n\n\tgetName(): string {\n\t\treturn this.name;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { FieldReadModel } from './field.read-model';\nimport { Field } from '../../domain/core/field/field';\n\n\n@Injectable()\nexport class FieldUiConverter {\n\n\tconvert(fields: Array<Field>): Array<FieldReadModel> {\n\t\treturn fields.map((field: Field) => {\n\t\t\treturn this.convertOne(field);\n\t\t});\n\t}\n\n\tprivate convertOne(field: Field): FieldReadModel {\n\n\t\treturn new FieldReadModel(field.getId(), field.getDataType(), field.getName());\n\t}\n}\n","import { FieldId } from './field/field.id';\nimport { Field } from './field/field';\nimport { FieldConfig } from '../../domain-api/field.config';\nimport { FieldFactory } from './field/field.factory';\n\n\nexport class FieldCollection {\n\n\tprivate readonly fields = new Map<string, Field>();\n\n\tconstructor(private readonly fieldFactory: FieldFactory) {\n\t}\n\n\tgetField(fieldId: FieldId): Field {\n\n\t\tif (fieldId === null) {\n\t\t\treturn this.getAllFields()[0];\n\t\t}\n\n\t\treturn this.fields.get(fieldId.getId());\n\t}\n\n\tgetAllFieldIds(): Array<string> {\n\t\treturn Array.from(this.fields.keys());\n\t}\n\n\tgetAllFields(): Array<Field> {\n\t\treturn Array.from(this.fields.values());\n\t}\n\n\tgetFieldsAsMap(): Map<string, Field> {\n\t\treturn this.fields;\n\t}\n\n\tinitFields(fieldConfigs: Array<FieldConfig>): void {\n\n\t\tconst fields: Array<Field> = this.fieldFactory.create(fieldConfigs);\n\n\t\tthis.addFields(fields);\n\t}\n\n\taddFields(fields: Array<Field>): void {\n\t\tfor (let field of fields) {\n\t\t\tthis.addField(field);\n\t\t}\n\t}\n\n\tprivate addField(field: Field): void {\n\t\tthis.fields.set(field.getId().toString(), field);\n\t}\n}\n","import { DataFieldTypes } from './data/data-field-types';\nimport { DataType } from './data/data-type';\nimport { NumberDataField } from './data/type/number-data-field';\nimport { BooleanDataField } from './data/type/boolean-data-field';\nimport { StringDataField } from './data/type/string-data-field';\nimport { DateDataField } from './data/type/date-data-field';\nimport { FieldId } from './field.id';\n\nimport { OriginItemEntity } from '../../../../source/domain/origin/origin-item-entity';\nimport { SummariesType } from '../../../../../lib/structure/domain/structure/summaries/summaries.type';\n\n\nexport class Field {\n\n\tstatic of(id: FieldId, dataField: DataFieldTypes, name: string): Field {\n\t\treturn new Field(id, dataField, name);\n\t}\n\n\tprivate readonly id: FieldId;\n\n\tprivate readonly field: DataFieldTypes;\n\n\tprivate readonly name: string;\n\n\tconstructor(id: FieldId,\n\t\t\t\tfield: DataFieldTypes,\n\t\t\t\tname: string) {\n\t\tthis.id = id;\n\t\tthis.field = field;\n\t\tthis.name = name;\n\t}\n\n\tgetId(): FieldId {\n\t\treturn this.id;\n\t}\n\n\tgetKey(): string {\n\t\treturn this.getId().toString();\n\t}\n\n\tgetDataType(): DataType {\n\t\treturn this.field.getDataType();\n\t}\n\n\tgetName(): string {\n\t\treturn this.name;\n\t}\n\n\t/**\n\t * @deprecated\n\t */\n\tgetField(): DataFieldTypes {\n\t\treturn this.field;\n\t}\n\n\t/**\n\t * Probably should not be used.\n\t *\n\t * @deprecated\n\t */\n\tgetAccessor(): string {\n\t\treturn this.field.getAccessor();\n\t}\n\n\t/**\n\t * Probably should not be used.\n\t *\n\t * @deprecated\n\t */\n\tgetAccessorMethod(): (entity: OriginItemEntity) => any {\n\t\treturn this.field.getAccessorMethod();\n\t}\n\n\t/**\n\t * Probably should not be used.\n\t *\n\t * @deprecated\n\t */\n\tgetSearchAccessorMethod(): (entity: OriginItemEntity) => any {\n\t\treturn this.field.getSearchAccessorMethod();\n\t}\n\n\tgetValue(entity: OriginItemEntity): any {\n\t\treturn this.field.getValue(entity);\n\t}\n\n\tgetDisplayValue(value: any): any {\n\t\treturn (this.field as any).getDisplayValue(value);\n\t}\n\n\t/**\n\t * Probably should not be used.\n\t *\n\t * @deprecated\n\t */\n\tisSummaries(type: SummariesType): boolean {\n\t\treturn this.field.isSummaries(type);\n\t}\n\n\t/**\n\t * Probably should not be used.\n\t *\n\t * @deprecated\n\t */\n\tisSummariesEnabled(): boolean {\n\t\treturn this.field.isSummariesEnabled();\n\t}\n\n\tsearch(item: OriginItemEntity, searchPhrase: string): boolean {\n\t\treturn this.field.search(item, searchPhrase);\n\t}\n\n\tfilter(item: OriginItemEntity, filterPhrase: any): boolean {\n\n\t\tconst value = this.field.getValue(item);\n\n\t\tif (this.field.getDataType() === DataType.NUMBER) {\n\t\t\treturn (this.field as NumberDataField).filter(value, filterPhrase);\n\t\t} else if (this.field.getDataType() === DataType.BOOLEAN) {\n\t\t\treturn (this.field as BooleanDataField).filter(value, filterPhrase);\n\t\t} else if (this.field.getDataType() === DataType.STRING) {\n\t\t\treturn (this.field as StringDataField).filter(value, filterPhrase);\n\t\t} else if (this.field.getDataType() === DataType.DATE) {\n\t\t\treturn (this.field as DateDataField).filter(value, filterPhrase);\n\t\t} else {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\tsort(entityOne: OriginItemEntity, entityTwo: OriginItemEntity, direction: boolean): number {\n\n\t\tlet valueOne = direction ? this.field.getSortValue(entityOne) : this.field.getSortValue(entityTwo),\n\t\t\tvalueTwo = direction ? this.field.getSortValue(entityTwo) : this.field.getSortValue(entityOne);\n\n\t\tif (this.field.getDataType() === DataType.NUMBER) {\n\t\t\treturn (this.field as NumberDataField).sort(valueOne, valueTwo);\n\t\t} else if (this.field.getDataType() === DataType.BOOLEAN) {\n\t\t\treturn (this.field as BooleanDataField).sort(valueOne, valueTwo);\n\t\t} else if (this.field.getDataType() === DataType.STRING) {\n\t\t\treturn (this.field as StringDataField).sort(valueOne, valueTwo);\n\t\t} else if (this.field.getDataType() === DataType.DATE) {\n\t\t\treturn (this.field as DateDataField).sort(valueOne, valueTwo);\n\t\t} else {\n\t\t\treturn 0;\n\t\t}\n\t}\n\n}\n","import { DataType } from './data-type';\nimport { FieldMatcherType } from '../../matcher/field.matcher.type';\nimport { FieldMatchers } from '../../matcher/field.matchers';\n\nimport { OriginItemEntity } from '../../../../../source/domain/origin/origin-item-entity';\n\nexport abstract class BaseDataField {\n\n\t// TODO\n\tprivate readonly accessor: string | any; //(rawData: any) => any;\n\n\tprivate readonly dataType: DataType;\n\n\tprivate readonly accessorMethod: (entity: OriginItemEntity) => any;\n\n\tprivate readonly matchers: FieldMatchers;\n\n\tprotected constructor(accessor: any,\n\t\t\t\t\t\t  dataType: DataType,\n\t\t\t\t\t\t  matchers: FieldMatchers) {\n\t\tthis.accessor = accessor;\n\t\tthis.dataType = dataType;\n\t\tthis.matchers = matchers;\n\n\t\tif (typeof accessor === 'string') {\n\t\t\tthis.accessorMethod = (entity: OriginItemEntity) => entity.getData()[accessor];\n\t\t} else if (typeof accessor === 'function') {\n\t\t\tthis.accessorMethod = (entity: OriginItemEntity) => accessor(entity.getData());\n\t\t}\n\n\t}\n\n\tgetDataType(): DataType {\n\t\treturn this.dataType;\n\t}\n\n\tgetAccessor(): string {\n\t\treturn this.accessor;\n\t}\n\n\tgetAccessorMethod(): (entity: OriginItemEntity) => any {\n\t\treturn this.accessorMethod;\n\t}\n\n\tgetMatchers(): FieldMatchers {\n\t\treturn this.matchers;\n\t}\n\n\tgetSearchAccessorMethod(): (entity: OriginItemEntity) => any {\n\n\t\tlet matcher: (i: any) => any;\n\n\t\tthis.matchers\n\t\t\t.getSearchMatcher()\n\t\t\t.ifPresent((m: FieldMatcherType) => {\n\t\t\t\tmatcher = m;\n\t\t\t});\n\n\t\tif (matcher) {\n\t\t\treturn (entity) => {\n\t\t\t\tconst val = this.accessorMethod(entity);\n\t\t\t\treturn matcher(val);\n\t\t\t};\n\t\t} else {\n\t\t\treturn (entity) => {\n\t\t\t\treturn this.accessorMethod(entity);\n\t\t\t};\n\t\t}\n\t}\n\n\tgetValue(entity: OriginItemEntity): any {\n\t\treturn this.accessorMethod(entity);\n\t}\n\n\tgetSortValue(entity: OriginItemEntity): any {\n\t\tlet value = this.accessorMethod(entity);\n\n\t\tthis.matchers\n\t\t\t.getSortMatcher()\n\t\t\t.ifPresent((matcher: FieldMatcherType) => {\n\t\t\t\tvalue = matcher(value);\n\t\t\t});\n\n\t\treturn value;\n\t}\n\n\tgetSearchValue(entity: OriginItemEntity): any {\n\t\tlet value = this.accessorMethod(entity);\n\n\t\tthis.matchers\n\t\t\t.getSearchMatcher()\n\t\t\t.ifPresent((matcher: FieldMatcherType) => {\n\t\t\t\tvalue = matcher(value);\n\t\t\t});\n\n\t\treturn value;\n\t}\n\n\n}\n","import { DataType } from './data-type';\nimport { FieldMatchers } from '../../matcher/field.matchers';\nimport { BaseDataField } from './base-data-field';\n\nimport { OriginItemEntity } from '../../../../../source/domain/origin/origin-item-entity';\nimport { SummariesType } from '../../../../../../lib/structure/domain/structure/summaries/summaries.type';\nimport { ColumnSummariesConfig } from '../../../../../../lib/composition/domain/column/column-summaries.config';\n\n\nexport abstract class DataField<T> extends BaseDataField {\n\n\tprivate summariesEnabled: boolean = true;\n\n\tprivate summariesTypes: SummariesType;\n\n\tprivate readonly possibleSummaries: SummariesType;\n\n\tprotected constructor(accessor: any,\n\t\t\t\t\t\t  dataType: DataType,\n\t\t\t\t\t\t  matchers: FieldMatchers,\n\t\t\t\t\t\t  summariesConfig?: ColumnSummariesConfig) {\n\t\tsuper(accessor,\n\t\t\tdataType,\n\t\t\tmatchers\n\t\t);\n\n\t\tthis.possibleSummaries = this.assignPossibleSummaries();\n\n\t\tthis.assignSummaries(summariesConfig);\n\t}\n\n\tabstract assignDefaultSummaries(): SummariesType;\n\n\tabstract assignPossibleSummaries(): SummariesType;\n\n\tabstract search(item: OriginItemEntity, searchPhrase: string): boolean;\n\n\tabstract sort(one: T, two: T): number;\n\n\tabstract filter(value: T, filterPhrase: T): boolean;\n\n\tabstract equals(item: OriginItemEntity, value: T): boolean;\n\n\tabstract getDisplayValue(item: T): string;\n\n\tisSummaries(type: SummariesType): boolean {\n\n\t\tif (!this.isSummariesEnabled()) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn !!(this.summariesTypes & type);\n\t}\n\n\tisSummariesEnabled(): boolean {\n\t\treturn this.summariesEnabled;\n\t}\n\n\tsetSummariesEnabled(enabled: boolean): void {\n\t\tthis.summariesEnabled = enabled;\n\t}\n\n\tprivate assignSummaries(summariesConfig: ColumnSummariesConfig): void {\n\n\t\tif (!!summariesConfig && Object.keys(summariesConfig).length !== 0) {\n\n\t\t\tif (summariesConfig.enabled) {\n\t\t\t\tthis.summariesEnabled = !!summariesConfig.enabled;\n\t\t\t}\n\n\t\t\tif (summariesConfig.summariesTypes) {\n\n\t\t\t\tthis.summariesTypes = 0;\n\n\t\t\t\tsummariesConfig.summariesTypes.forEach((t: any) => {\n\t\t\t\t\tthis.summariesTypes |= t;\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.summariesTypes = this.assignDefaultSummaries();\n\t\t\t}\n\t\t} else {\n\t\t\tthis.summariesTypes = this.assignDefaultSummaries();\n\t\t}\n\t}\n}\n","import { DataField } from '../data-field';\nimport { ColumnSummariesConfig } from '../../../../../../../lib/composition/domain/column/column-summaries.config';\nimport { DataType } from '../data-type';\nimport { SummariesType } from '../../../../../../../lib/structure/domain/structure/summaries/summaries.type';\nimport { FieldMatchers } from '../../../matcher/field.matchers';\nimport { OriginItemEntity } from '../../../../../../source/domain/origin/origin-item-entity';\n\n\nexport class UnknownDataField extends DataField<any> {\n\n\tconstructor(accessor: any,\n\t\t\t\tmatchers: FieldMatchers,\n\t\t\t\tsummariesConfig?: ColumnSummariesConfig) {\n\t\tsuper(\n\t\t\taccessor,\n\t\t\tDataType.UNKNOWN,\n\t\t\tmatchers,\n\t\t\tsummariesConfig);\n\t}\n\n\tassignDefaultSummaries(): SummariesType {\n\t\treturn 0;\n\t\t// return SummariesType.COUNT |\n\t\t// \tSummariesType.DISTINCT;\n\t}\n\n\tassignPossibleSummaries(): SummariesType {\n\t\treturn SummariesType.COUNT |\n\t\t\tSummariesType.DISTINCT;\n\t}\n\n\tsearch(item: OriginItemEntity, searchPhrase: string): boolean {\n\t\treturn false;\n\t}\n\n\tsort(one: any, two: any): number {\n\t\treturn 0;\n\t}\n\n\tfilter(value: any, filterPhrase: any): boolean {\n\t\treturn false;\n\t}\n\n\tequals(item: OriginItemEntity, value: any): boolean {\n\t\treturn false;\n\t}\n\n\tgetDisplayValue(item: any): string {\n\t\treturn item;\n\t}\n\n}\n","import { DataField } from '../data-field';\nimport { ColumnSummariesConfig } from '../../../../../../../lib/composition/domain/column/column-summaries.config';\nimport { DataType } from '../data-type';\nimport { SummariesType } from '../../../../../../../lib/structure/domain/structure/summaries/summaries.type';\nimport { FieldMatchers } from '../../../matcher/field.matchers';\nimport { OriginItemEntity } from '../../../../../../source/domain/origin/origin-item-entity';\n\n\nexport class NumberDataField extends DataField<number> {\n\n\tconstructor(accessor: any,\n\t\t\t\tmatchers: FieldMatchers,\n\t\t\t\tsummariesConfig?: ColumnSummariesConfig) {\n\t\tsuper(\n\t\t\taccessor,\n\t\t\tDataType.NUMBER,\n\t\t\tmatchers,\n\t\t\tsummariesConfig);\n\t}\n\n\tgetField(): NumberDataField {\n\t\treturn this;\n\t}\n\n\tassignDefaultSummaries(): SummariesType {\n\t\treturn 0;\n\t\t// return SummariesType.COUNT |\n\t\t// \tSummariesType.DISTINCT |\n\t\t// \tSummariesType.SUM |\n\t\t// \tSummariesType.MIN |\n\t\t// \tSummariesType.MAX |\n\t\t// \tSummariesType.AVERAGE |\n\t\t// \tSummariesType.MEDIAN;\n\t}\n\n\tassignPossibleSummaries(): SummariesType {\n\t\treturn SummariesType.COUNT |\n\t\t\tSummariesType.DISTINCT |\n\t\t\tSummariesType.SUM |\n\t\t\tSummariesType.MIN |\n\t\t\tSummariesType.MAX |\n\t\t\tSummariesType.AVERAGE |\n\t\t\tSummariesType.MEDIAN;\n\t}\n\n\tsearch(item: OriginItemEntity, searchPhrase: string): boolean {\n\t\treturn false;\n\t}\n\n\tsort(numOne: number, numTwo: number): number {\n\n\t\tconst sureNumOne = +numOne,\n\t\t\tsureNumTwo = +numTwo;\n\n\t\treturn sureNumOne - sureNumTwo;\n\t}\n\n\tfilter(value: number, filterPhrase: number): boolean {\n\t\treturn value > filterPhrase;\n\t}\n\n\tequals(item: OriginItemEntity, value: number): boolean {\n\t\treturn this.getValue(item) === value;\n\t}\n\n\tgetDisplayValue(item: number): string {\n\t\treturn `${item}`;\n\t}\n\n}\n","import { DataField } from '../data-field';\nimport { DataType } from '../data-type';\nimport { FieldMatchers } from '../../../matcher/field.matchers';\n\nimport { SummariesType } from '../../../../../../../lib/structure/domain/structure/summaries/summaries.type';\nimport { ColumnSummariesConfig } from '../../../../../../../lib/composition/domain/column/column-summaries.config';\nimport { OriginItemEntity } from '../../../../../../source/domain/origin/origin-item-entity';\n\n\nexport class StringDataField extends DataField<string> {\n\n\tconstructor(accessor: any,\n\t\t\t\tmatchers: FieldMatchers,\n\t\t\t\tsummariesConfig?: ColumnSummariesConfig) {\n\t\tsuper(\n\t\t\taccessor,\n\t\t\tDataType.STRING,\n\t\t\tmatchers,\n\t\t\tsummariesConfig);\n\t}\n\n\tassignDefaultSummaries(): SummariesType {\n\t\treturn 0;\n\t\t// return SummariesType.COUNT |\n\t\t// \tSummariesType.DISTINCT;\n\t}\n\n\tassignPossibleSummaries(): SummariesType {\n\t\treturn SummariesType.COUNT |\n\t\t\tSummariesType.DISTINCT;\n\t}\n\n\tsearch(item: OriginItemEntity, searchPhrase: string): boolean {\n\t\tconst value = this.getSearchValue(item);\n\n\t\tif (typeof value === 'string') {\n\t\t\treturn value.toLowerCase().indexOf(searchPhrase.toLowerCase()) > -1;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tsort(strOne: string, strTwo: string): number {\n\t\tconst sureStrOne = '' + strOne,\n\t\t\tsureStrTwo = '' + strTwo;\n\n\t\treturn sureStrOne.localeCompare(sureStrTwo);\n\t}\n\n\tfilter(value: string, filterPhrase: string): boolean {\n\t\treturn value.toLowerCase().indexOf(filterPhrase.toLowerCase()) > -1;\n\t}\n\n\tequals(item: OriginItemEntity, value: string): boolean {\n\t\treturn this.getValue(item) === value;\n\t}\n\n\tgetDisplayValue(item: string): string {\n\t\treturn item;\n\t}\n\n}\n","import { DataField } from '../data-field';\nimport { ColumnSummariesConfig } from '../../../../../../../lib/composition/domain/column/column-summaries.config';\nimport { DataType } from '../data-type';\nimport { SummariesType } from '../../../../../../../lib/structure/domain/structure/summaries/summaries.type';\nimport { FieldMatchers } from '../../../matcher/field.matchers';\nimport { OriginItemEntity } from '../../../../../../source/domain/origin/origin-item-entity';\n\n\nexport class BooleanDataField extends DataField<boolean> {\n\n\tconstructor(accessor: any,\n\t\t\t\tmatchers: FieldMatchers,\n\t\t\t\tsummariesConfig?: ColumnSummariesConfig) {\n\t\tsuper(\n\t\t\taccessor,\n\t\t\tDataType.BOOLEAN,\n\t\t\tmatchers,\n\t\t\tsummariesConfig);\n\t}\n\n\tassignDefaultSummaries(): SummariesType {\n\t\treturn 0;\n\t\t// return SummariesType.COUNT |\n\t\t// \tSummariesType.DISTINCT |\n\t\t// \tSummariesType.TRUTHY |\n\t\t// \tSummariesType.FALSY;\n\t}\n\n\tassignPossibleSummaries(): SummariesType {\n\t\treturn SummariesType.COUNT |\n\t\t\tSummariesType.DISTINCT |\n\t\t\tSummariesType.TRUTHY |\n\t\t\tSummariesType.FALSY;\n\t}\n\n\tsearch(item: OriginItemEntity, searchPhrase: string): boolean {\n\t\treturn false;\n\t}\n\n\tsort(booleanOne: boolean, booleanTwo: boolean): number {\n\n\t\tconst sureBoolOne = !!booleanOne,\n\t\t\tsureBoolTwo = !!booleanTwo;\n\n\t\treturn (sureBoolOne === sureBoolTwo) ? 0 : sureBoolTwo ? -1 : 1;\n\t}\n\n\tfilter(value: boolean, filterPhrase: boolean): boolean {\n\t\treturn value === filterPhrase;\n\t}\n\n\tequals(item: OriginItemEntity, value: boolean): boolean {\n\t\treturn this.getValue(item) === value;\n\t}\n\n\tgetDisplayValue(item: boolean): string {\n\t\treturn item ? 'True' : 'False';\n\t}\n\n}\n","import { DataField } from '../data-field';\nimport { ColumnSummariesConfig } from '../../../../../../../lib/composition/domain/column/column-summaries.config';\nimport { DataType } from '../data-type';\nimport { SummariesType } from '../../../../../../../lib/structure/domain/structure/summaries/summaries.type';\nimport { FieldMatchers } from '../../../matcher/field.matchers';\nimport { OriginItemEntity } from '../../../../../../source/domain/origin/origin-item-entity';\n\n\nexport class DateDataField extends DataField<Date> {\n\n\tconstructor(accessor: any,\n\t\t\t\tmatchers: FieldMatchers,\n\t\t\t\tsummariesConfig?: ColumnSummariesConfig) {\n\t\tsuper(\n\t\t\taccessor,\n\t\t\tDataType.DATE,\n\t\t\tmatchers,\n\t\t\tsummariesConfig);\n\t}\n\n\tassignDefaultSummaries(): SummariesType {\n\t\treturn 0;\n\t\t// return SummariesType.COUNT |\n\t\t// \tSummariesType.DISTINCT;\n\t}\n\n\tassignPossibleSummaries(): SummariesType {\n\t\treturn SummariesType.COUNT |\n\t\t\tSummariesType.DISTINCT;\n\t}\n\n\tsearch(item: OriginItemEntity, searchPhrase: string): boolean {\n\t\treturn false;\n\t}\n\n\tsort(dateOne: Date, dateTwo: Date): number {\n\t\treturn dateOne as any - (dateTwo as any);\n\t}\n\n\tfilter(value: Date, filterPhrase: Date): boolean {\n\t\treturn false;\n\t}\n\n\tequals(item: OriginItemEntity, value: Date): boolean {\n\t\treturn this.getValue(item).getTime() === value.getTime();\n\t}\n\n\tgetDisplayValue(item: Date): string {\n\t\treturn item.toDateString();\n\t}\n\n}\n","import { Optional } from '@generic-ui/hermes';\n\nimport { FieldMatcherType } from './field.matcher.type';\n\nexport class FieldMatchers {\n\n\tconstructor(private readonly matcher?: FieldMatcherType,\n\t\t\t\tprivate readonly sortMatcher?: FieldMatcherType,\n\t\t\t\tprivate readonly searchMatcher?: FieldMatcherType) { // TODO\n\t}\n\n\tgetMatcher(): Optional<FieldMatcherType> {\n\t\treturn Optional.of(this.matcher);\n\t}\n\n\tgetSortMatcher(): Optional<FieldMatcherType> {\n\n\t\tlet matcher;\n\n\t\tif (this.sortMatcher) {\n\t\t\tmatcher = this.sortMatcher;\n\t\t}\n\n\t\tif (this.matcher) {\n\t\t\tmatcher = this.matcher;\n\t\t}\n\n\t\treturn Optional.of(matcher);\n\t}\n\n\tgetSearchMatcher(): Optional<FieldMatcherType> {\n\n\t\tlet matcher;\n\n\t\tif (this.searchMatcher) {\n\t\t\tmatcher = this.searchMatcher;\n\t\t}\n\n\t\tif (this.matcher) {\n\t\t\tmatcher = this.matcher;\n\t\t}\n\n\t\treturn Optional.of(matcher);\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { DataType } from './data-type';\nimport { UnknownDataField } from './type/unknown-data-field';\nimport { NumberDataField } from './type/number-data-field';\nimport { StringDataField } from './type/string-data-field';\nimport { BooleanDataField } from './type/boolean-data-field';\nimport { DateDataField } from './type/date-data-field';\nimport { FieldMatchers } from '../../matcher/field.matchers';\nimport { DataFieldTypes } from './data-field-types';\nimport { FieldConfig } from '../../../../domain-api/field.config';\n\n\n@Injectable()\nexport class DataFieldFactory {\n\n\tcreate(fieldConfig: FieldConfig): DataFieldTypes {\n\n\t\tconst fieldMatchers = this.createMatchers(fieldConfig);\n\n\t\tlet columnType = fieldConfig.type;\n\n\t\tif (columnType === undefined) {\n\t\t\tcolumnType = DataType.STRING;\n\t\t}\n\n\t\tif (columnType === DataType.UNKNOWN) {\n\t\t\treturn new UnknownDataField(fieldConfig.field as string, fieldMatchers, fieldConfig.summaries);\n\t\t}\n\n\t\tif (columnType === DataType.NUMBER) {\n\t\t\treturn new NumberDataField(fieldConfig.field as string, fieldMatchers, fieldConfig.summaries);\n\t\t}\n\n\t\tif (columnType === DataType.STRING) {\n\t\t\treturn new StringDataField(fieldConfig.field as string, fieldMatchers);\n\t\t}\n\n\t\tif (columnType === DataType.BOOLEAN) {\n\t\t\treturn new BooleanDataField(fieldConfig.field as string, fieldMatchers);\n\t\t}\n\n\t\tif (columnType === DataType.DATE) {\n\t\t\treturn new DateDataField(fieldConfig.field as string, fieldMatchers);\n\t\t}\n\n\t}\n\n\tprivate createMatchers(fieldConfig: FieldConfig): FieldMatchers {\n\n\t\tlet matcher = fieldConfig.matcher,\n\t\t\tsortMatcher;\n\n\t\tif (fieldConfig.sorting) {\n\t\t\tsortMatcher = fieldConfig.sorting.matcher;\n\t\t}\n\n\t\treturn new FieldMatchers(matcher, sortMatcher);\n\t}\n\n}\n","import { RandomStringGenerator } from '@generic-ui/hermes';\n\nimport { FieldId } from './field.id';\n\nexport class FieldIdGenerator {\n\n\tgenerateId(): FieldId {\n\n\t\tconst id = RandomStringGenerator.generate();\n\t\treturn new FieldId(id);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { FieldConfig } from '../../../domain-api/field.config';\nimport { Field } from './field';\nimport { DataFieldFactory } from './data/data-field.factory';\nimport { FieldIdGenerator } from './field-id.generator';\n\n\n@Injectable()\nexport class FieldFactory {\n\n\tconstructor(private readonly fieldIdGenerator: FieldIdGenerator,\n\t\t\t\tprivate readonly dataFieldFactory: DataFieldFactory) {\n\t}\n\n\tcreate(configs: Array<FieldConfig>): Array<Field> {\n\n\t\tif (!configs) {\n\t\t\treturn [];\n\t\t}\n\n\t\treturn configs.map((fieldConfig: FieldConfig, index: number) => {\n\n\t\t\tconst fieldId = this.fieldIdGenerator.generateId(),\n\t\t\t\tdataField = this.dataFieldFactory.create(fieldConfig);\n\n\t\t\treturn new Field(fieldId, dataField, this.getFieldName(fieldConfig, index));\n\t\t});\n\t}\n\n\tprivate getFieldName(fieldConfig: FieldConfig, index: number): string {\n\n\t\tif (typeof fieldConfig.field === 'string') {\n\t\t\treturn fieldConfig.field.toLowerCase();\n\t\t} else {\n\t\t\treturn 'Field #' + index;\n\t\t}\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { FieldCollection } from './field-collection';\nimport { FieldFactory } from './field/field.factory';\n\n\n@Injectable()\nexport class FieldCollectionFactory {\n\n\tconstructor(private readonly fieldFactory: FieldFactory) {\n\t}\n\n\tcreate(): FieldCollection {\n\t\treturn new FieldCollection(this.fieldFactory);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { InitFieldsCommand } from './init-fields.command';\nimport { StructureAggregate } from '../../../../lib/structure/domain/structure/structure.aggregate';\nimport { FieldConfig } from '../../domain-api/field.config';\n\n\n@Injectable()\nexport class InitFieldsCommandHandler implements CommandHandler<StructureAggregate, InitFieldsCommand> {\n\n\tconstructor(private domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<InitFieldsCommand> {\n\t\treturn InitFieldsCommand;\n\t}\n\n\tpublishDomainEvents(aggregate: StructureAggregate, command: InitFieldsCommand): void {\n\t\tthis.domainEventPublisher.publishFromAggregate(aggregate);\n\t}\n\n\thandleAggregate(structure: StructureAggregate, command: InitFieldsCommand): void {\n\n\t\tconst fieldConfigs: Array<FieldConfig> = command.getFieldConfigs();\n\n\t\tstructure.createFields(fieldConfigs);\n\t}\n\n\n}\n","import { NgModule } from '@angular/core';\n\nimport { DomainModule, HermesModule } from '@generic-ui/hermes';\n\nimport { FieldCollectionFactory } from './core/field-collection.factory';\nimport { DataFieldFactory } from './core/field/data/data-field.factory';\nimport { FieldIdGenerator } from './core/field/field-id.generator';\nimport { InitFieldsCommandHandler } from './init/init-fields.command-handler';\nimport { FieldFactory } from './core/field/field.factory';\n\n\n@NgModule({\n\tproviders: [\n\t\tFieldCollectionFactory,\n\t\tFieldFactory,\n\t\tFieldIdGenerator,\n\t\tDataFieldFactory\n\t]\n})\nexport class FieldDomainModule extends DomainModule {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tstatic commandHandlers() {\n\t\treturn [\n\t\t\t...HermesModule.registerCommandHandler(InitFieldsCommandHandler, 'StructureAggregate')\n\t\t];\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandDispatcher, DomainEventBus } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../lib/structure/domain/structure.id';\nimport { structureGlobalId } from '../../../lib/structure/domain-api/structure.global-id';\nimport { InitFieldsCommand } from '../domain/init/init-fields.command';\nimport { FieldConfig } from './field.config';\n\n\n@Injectable()\nexport class FieldCommandDispatcher {\n\n\tconstructor(private readonly domainEventBus: DomainEventBus,\n\t\t\t\tprivate readonly commandDispatcher: CommandDispatcher) {\n\t}\n\n\tinitFields(fieldConfigs: Array<FieldConfig>, structureId: StructureId = structureGlobalId): void {\n\t\tthis.commandDispatcher.dispatch(new InitFieldsCommand(structureId, fieldConfigs));\n\t}\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { ApiModule } from '@generic-ui/hermes';\n\nimport { FieldReadModelRepository } from './read/field.read-model-repository';\nimport { FieldUiConverter } from './read/field.ui-converter';\nimport { FieldDomainModule } from '../domain/field.domain-module';\nimport { FieldCommandDispatcher } from './field.command-dispatcher';\nimport { FieldWarehouse } from './field.warehouse';\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tFieldDomainModule\n\t],\n\tproviders: [\n\t\tFieldCommandDispatcher,\n\n\t\tFieldReadModelRepository,\n\t\tFieldUiConverter,\n\t\tFieldWarehouse\n\t]\n})\nexport class FieldApiModule extends ApiModule {\n}\n","import { NgModule, Provider } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { FeatureModule } from '@generic-ui/hermes';\nimport { FieldApiModule } from '../domain-api/field.api-module';\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tFieldApiModule\n\t],\n\tdeclarations: [],\n\texports: []\n})\nexport class FieldFeatureModule extends FeatureModule {\n\n\tstatic forComponent(): Array<Provider> {\n\t\treturn [];\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { Archive } from '@generic-ui/hermes';\n\nimport { RowSelectionType } from '../../row-selection';\n\n@Injectable()\nexport class RowSelectionTypeArchive extends Archive<RowSelectionType> {\n\n\tstatic readonly DEFAULT_ROW_SELECTION_TYPE = RowSelectionType.ROW;\n\n\tconstructor() {\n\t\tsuper(RowSelectionTypeArchive.DEFAULT_ROW_SELECTION_TYPE);\n\t}\n}\n","import { DomainEvent } from '@generic-ui/hermes';\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\n\nexport class SetSourceLoadingEvent extends DomainEvent<StructureId> {\n\n\tconstructor(aggregateId: StructureId) {\n\t\tsuper(aggregateId, 'SetSourceLoadingEvent');\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { SetSourceLoadingEvent } from './set-source-loading.event';\nimport { SourceSetLoadingCommand } from './source-set-loading.command';\nimport { StructureAggregate } from '../../../../lib/structure/domain/structure/structure.aggregate';\n\n\n@Injectable()\nexport class SourceSetLoadingCommandHandler implements CommandHandler<StructureAggregate, SourceSetLoadingCommand> {\n\n\tconstructor(private domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SourceSetLoadingCommand> {\n\t\treturn SourceSetLoadingCommand;\n\t}\n\n\tpublishDomainEvents(aggregate: StructureAggregate, command: SourceSetLoadingCommand): void {\n\t\tthis.domainEventPublisher.publish(new SetSourceLoadingEvent(command.getAggregateId()));\n\t}\n\n\thandleAggregate(aggregate: StructureAggregate, command: SourceSetLoadingCommand): void {\n\n\t\tconst enabled = command.isEnabled(),\n\t\t\tsource = aggregate.getSource();\n\n\t\tsource.setLoading(enabled);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType } from '@generic-ui/hermes';\nimport { SourceDomainEventPublisher } from '../../source.domain-event.publisher';\nimport { StructureAggregate } from '../../../../../lib/structure/domain/structure/structure.aggregate';\n\nimport { SetOriginCommand } from './set-origin.command';\n\n\n@Injectable()\nexport class SetOriginCommandHandler implements CommandHandler<StructureAggregate, SetOriginCommand> {\n\n\tconstructor(private structureSourceDomainEventPublisher: SourceDomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SetOriginCommand> {\n\t\treturn SetOriginCommand;\n\t}\n\n\tpublishDomainEvents(aggregate: StructureAggregate, command: SetOriginCommand): void {\n\n\t\tconst aggregateEvents = aggregate.getEvents();\n\n\t\tthis.structureSourceDomainEventPublisher.publish(aggregateEvents);\n\t}\n\n\thandleAggregate(structure: StructureAggregate, command: SetOriginCommand): void {\n\n\t\tconst items = command.getItems();\n\n\t\tstructure.setOrigin(items);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType } from '@generic-ui/hermes';\n\nimport { StructureEditSourceItemCommand } from './structure.edit-source-item.command';\nimport { SourceDomainEventPublisher } from '../../source.domain-event.publisher';\nimport { StructureAggregate } from '../../../../../lib/structure/domain/structure/structure.aggregate';\n\n\n@Injectable()\nexport class StructureEditSourceItemCommandHandler implements CommandHandler<StructureAggregate, StructureEditSourceItemCommand> {\n\n\tconstructor(private structureSourceDomainEventPublisher: SourceDomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<StructureEditSourceItemCommand> {\n\t\treturn StructureEditSourceItemCommand;\n\t}\n\n\tpublishDomainEvents(aggregate: StructureAggregate, command: StructureEditSourceItemCommand): void {\n\n\t\tconst aggregateEvents = aggregate.getEvents();\n\n\t\tthis.structureSourceDomainEventPublisher.publish(aggregateEvents);\n\t}\n\n\thandleAggregate(structure: StructureAggregate, command: StructureEditSourceItemCommand): void {\n\n\t\tconst params = command.getParams();\n\n\t\tstructure.editItem(params);\n\t}\n\n}\n","import { Entity } from '@generic-ui/hermes';\n\nimport { OriginId } from './origin-id';\n\n\nexport class OriginItemEntity extends Entity<OriginId> {\n\n\trawData: any; // tODO\n\n\tprivate version: number;\n\n\tprivate position: number;\n\n\tconstructor(id: OriginId,\n\t\t\t\trawData: any,\n\t\t\t\tposition: number,\n\t\t\t\tversion: number = 0) {\n\t\tsuper(id);\n\t\tthis.rawData = rawData;\n\t\tthis.position = position;\n\t\tthis.version = version;\n\t}\n\n\tgetData(): any {\n\t\treturn this.rawData;\n\t}\n\n\tgetVersion(): number {\n\t\treturn this.version;\n\t}\n\n\tgetPosition(): number {\n\t\treturn this.position;\n\t}\n\n\tbumpVersion(): void {\n\t\tthis.version += 1;\n\t}\n\n\tsetPosition(position: number): void {\n\t\tthis.position = position;\n\t}\n\n\tclone(): OriginItemEntity {\n\n\t\tconst rawData = { ...this.rawData };\n\n\t\treturn new OriginItemEntity(this.getId(), rawData, this.version);\n\t}\n\n}\n","import { AggregateEvent, AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nimport { OriginItemEntity } from '../origin-item-entity';\nimport { StructureId } from '../../../../../lib/structure/domain/structure.id';\nimport { StructureSourceItemEditedEvent } from './structure.source-item-edited.event';\n\n\nexport class StructureSourceItemEditedAggregateEvent extends AggregateEvent<StructureId> {\n\n\tconstructor(aggregateId: AggregateId,\n\t\t\t\tprivate readonly beforeItem: OriginItemEntity,\n\t\t\t\tprivate readonly afterItem: OriginItemEntity) {\n\t\tsuper(aggregateId, 'StructureSourceItemEditedAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<StructureId> {\n\t\treturn new StructureSourceItemEditedEvent(this.getAggregateId(), this.beforeItem, this.afterItem);\n\t}\n\n\tgetBeforeItem(): OriginItemEntity {\n\t\treturn this.beforeItem;\n\t}\n\n\tgetAfterItem(): OriginItemEntity {\n\t\treturn this.afterItem;\n\t}\n}\n","import { AggregateEvent, AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nimport { OriginItemEntity } from './origin-item-entity';\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\nimport { OriginSetEvent } from './set-origin/origin-set.event';\n\nexport class StructureOriginChangedAggregateEvent extends AggregateEvent<StructureId> {\n\n\tconstructor(aggregateId: AggregateId,\n\t\t\t\tprivate readonly origin: Array<OriginItemEntity>) {\n\t\tsuper(aggregateId, 'StructureOriginChangedAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<StructureId> {\n\t\treturn new OriginSetEvent(this.getAggregateId(), this.origin);\n\t}\n\n\tgetOrigin(): Array<OriginItemEntity> {\n\t\treturn this.origin;\n\t}\n}\n","import { EntityId } from '@generic-ui/hermes';\n\nexport class OriginId extends EntityId {\n\tconstructor(id: string) {\n\t\tsuper(id);\n\t}\n}\n","import { AggregateEvent, RandomStringGenerator } from '@generic-ui/hermes';\n\nimport { OriginItemEntity } from '../origin/origin-item-entity';\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\nimport { StructureSourceItemEditedAggregateEvent } from '../origin/edit/structure.source-item-edited.aggregate-event';\nimport { StructureOriginChangedAggregateEvent } from '../origin/structure.origin-changed.aggregate-event';\nimport { Field } from '../../../field/domain/core/field/field';\nimport { OriginId } from '../origin/origin-id';\nimport { FormationManager } from '../formation/core/formation-manager';\nimport { RowSelectToggleType } from '../formation/core/row-select-toggle-type';\n\n\nexport class SourceManager {\n\n\tprivate loading: boolean = false;\n\n\tprivate fetched: boolean = false;\n\n\tprivate origin: Array<OriginItemEntity>;\n\n\tprivate entities: Array<OriginItemEntity> = [];\n\n\t// Entities after filtering, searching\n\tprivate preparedEntities: Array<OriginItemEntity> = [];\n\n\tprivate slicedEntities: Array<OriginItemEntity> = [];\n\n\tprivate readonly formationManager: FormationManager;\n\n\tconstructor(formationManager: FormationManager) {\n\t\tthis.formationManager = formationManager;\n\t}\n\n\tisLoading(): boolean {\n\t\treturn this.loading;\n\t}\n\n\tisFetched(): boolean {\n\t\treturn this.fetched;\n\t}\n\n\tsetLoading(enabled: boolean): void {\n\t\tthis.loading = enabled;\n\t}\n\n\tsetEntities(ent: Array<OriginItemEntity>): void {\n\t\tthis.entities = ent;\n\t\tthis.recalculatePositions();\n\t}\n\n\tgetEntities(): Array<OriginItemEntity> {\n\t\treturn this.entities;\n\t}\n\n\tsetPreparedEntities(): void {\n\t\tthis.preparedEntities = [...this.entities];\n\t}\n\n\tgetPreparedEntities(): Array<OriginItemEntity> {\n\t\treturn this.preparedEntities;\n\t}\n\n\tsetSlicedEntities(ent: Array<OriginItemEntity>) {\n\t\tthis.slicedEntities = ent;\n\t}\n\n\tgetSlicedEntities(): Array<OriginItemEntity> {\n\t\treturn this.slicedEntities;\n\t}\n\n\tsetOrigin(items: Array<any> = [], structureId: StructureId): AggregateEvent<StructureId> {\n\t\tthis.origin = this.convertItems(items);\n\n\t\treturn this.createOriginChangedEvent(structureId);\n\t}\n\n\tsetConvertedOrigin(items: Array<OriginItemEntity> = [], structureId: StructureId): AggregateEvent<StructureId> {\n\t\tthis.origin = items;\n\n\t\treturn this.createOriginChangedEvent(structureId);\n\t}\n\n\tgetOrigin(): Array<OriginItemEntity> {\n\t\treturn this.origin;\n\t}\n\n\tgetOriginSize(): number {\n\t\treturn this.origin.length;\n\t}\n\n\t// editOriginItemByProperty(byField, value: any, field: Field, structureId: StructureId): AggregateEvent {\n\t//\n\t// }\n\n\teditOriginItem(itemId: string, value: any, field: Field, structureId: StructureId): ReadonlyArray<AggregateEvent<StructureId>> {\n\n\t\tconst item: OriginItemEntity = this.findOriginItem(itemId),\n\t\t\titemBeforeChange = item.clone();\n\n\t\tif (item) {\n\t\t\titem.rawData[field.getAccessor()] = value;\n\t\t\titem.bumpVersion();\n\t\t}\n\n\t\treturn [\n\t\t\tnew StructureSourceItemEditedAggregateEvent(structureId, itemBeforeChange, item.clone()),\n\t\t\tthis.createOriginChangedEvent(structureId)\n\t\t];\n\t}\n\n\tdeleteAllSelected(structureId: StructureId): Array<AggregateEvent<StructureId>> {\n\t\tlet events: Array<AggregateEvent<StructureId>> = [];\n\n\t\tconst rows = this.formationManager.getSelectedRows();\n\n\t\trows.forEach((r: string) => {\n\t\t\tevents.push(...this.deleteOriginItemByItemId(new OriginId(r), structureId));\n\t\t});\n\n\t\treturn events;\n\t}\n\n\tdeleteOriginItem(payload: number | OriginId | Array<number> | Array<OriginId>, structureId: StructureId): Array<AggregateEvent<StructureId>> {\n\n\t\tif (payload instanceof OriginId) {\n\t\t\treturn this.deleteOriginItemByItemId(payload, structureId);\n\t\t} else if (Array.isArray(payload)) {\n\n\t\t\tlet events: Array<AggregateEvent<StructureId>> = [];\n\n\t\t\tpayload.forEach((item: number | OriginId) => {\n\t\t\t\tevents.push(...this.deleteOneOriginItem(item, structureId));\n\t\t\t});\n\n\t\t\treturn events;\n\n\t\t} else if (Number.isInteger(payload)) {\n\t\t\treturn this.deleteOriginItemByIndex(payload, structureId);\n\t\t}\n\t}\n\n\tprivate deleteOneOriginItem(item: number | OriginId, structureId: StructureId): Array<AggregateEvent<StructureId>> {\n\n\t\tif (item instanceof OriginId) {\n\t\t\treturn this.deleteOriginItemByItemId(item, structureId);\n\t\t} else if (Number.isInteger(item)) {\n\t\t\treturn this.deleteOriginItemByIndex(item, structureId);\n\t\t} else {\n\t\t\treturn [];\n\t\t}\n\t}\n\n\tprivate deleteOriginItemByItemId(itemId: OriginId, structureId: StructureId): Array<AggregateEvent<StructureId>> {\n\n\t\tconst index = this.findOriginItemIndex(itemId.toString());\n\n\t\treturn this.deleteOriginItemByIndex(index, structureId);\n\t}\n\n\tprivate deleteOriginItemByIndex(index: number, structureId: StructureId): Array<AggregateEvent<StructureId>> {\n\n\t\tif (index > -1) {\n\t\t\tconst removedElements: Array<OriginItemEntity> = this.origin.splice(index, 1);\n\n\t\t\tif (removedElements.length > 0) {\n\t\t\t\tfor (let element of removedElements) {\n\t\t\t\t\tthis.formationManager.unselectRow(element.getId().toString());\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn [\n\t\t\t\tthis.createOriginChangedEvent(structureId)\n\t\t\t];\n\t\t}\n\n\t\treturn [];\n\t}\n\n\tprivate deleteManyOriginItemByIndex(indexes: Array<number>, structureId: StructureId): Array<AggregateEvent<StructureId>> {\n\n\t\tlet events: Array<AggregateEvent<StructureId>> = [];\n\n\t\tindexes.forEach((index: number) => {\n\t\t\tevents.push(...this.deleteOriginItemByIndex(index, structureId));\n\t\t});\n\n\t\treturn events;\n\t}\n\n\tprivate deleteManyOriginItemByItemID(itemIds: Array<OriginId>, structureId: StructureId): Array<AggregateEvent<StructureId>> {\n\n\t\tlet events: Array<AggregateEvent<StructureId>> = [];\n\n\t\titemIds.forEach((itemId: OriginId) => {\n\t\t\tevents.push(...this.deleteOriginItemByItemId(itemId, structureId));\n\t\t});\n\n\t\treturn events;\n\t}\n\n\taddOriginItem(item: any, structureId: StructureId): ReadonlyArray<AggregateEvent<StructureId>> {\n\t\tthis.origin.push(item);\n\t\treturn [this.createOriginChangedEvent(structureId)];\n\t}\n\n\tselectAll(): void {\n\t\tthis.formationManager.selectAll(this.getEntities().map(e => e.getId().toString()));\n\t}\n\n\tunselectAll(): void {\n\t\tthis.formationManager.unselectAll();\n\t}\n\n\ttoggleRow(itemId: string, type: RowSelectToggleType): void {\n\t\tthis.formationManager.toggleRow(itemId, type, this.getEntities().map(e => e.getId().toString()));\n\t}\n\n\tgetFormation(): FormationManager {\n\t\treturn this.formationManager;\n\t}\n\n\tprivate convertItems(items: Array<any>): Array<OriginItemEntity> {\n\t\treturn items.map((item: any, index: number) => {\n\t\t\treturn new OriginItemEntity(new OriginId(RandomStringGenerator.generate()), item, index);\n\t\t});\n\t}\n\n\tprivate createOriginChangedEvent(structureId: StructureId): AggregateEvent<StructureId> {\n\t\treturn new StructureOriginChangedAggregateEvent(structureId, this.origin);\n\t}\n\n\tprivate findOriginItem(itemId: string): OriginItemEntity {\n\t\treturn this.origin.find((item: OriginItemEntity) => item.getId().toString() === itemId);\n\t}\n\n\tprivate findOriginItemIndex(itemId: string): number {\n\t\treturn this.origin.findIndex((item: OriginItemEntity) => item.getId().toString() === itemId);\n\t}\n\n\tprivate recalculatePositions(): void {\n\t\tthis.entities.forEach((ent: OriginItemEntity, index: number) => {\n\t\t\tent.setPosition(index);\n\t\t});\n\t}\n\n}\n","import { RowSelectToggleType } from './row-select-toggle-type';\nimport { RowSelectionMode } from '../../../domain-api/row-selection';\n\nexport class FormationManager {\n\n\tprivate enabled: boolean = true;\n\n\tprivate mode: RowSelectionMode = RowSelectionMode.SINGLE;\n\n\tprivate selectedRows: Set<string>;\n\n\tprivate allSelected: boolean;\n\n\tprivate allUnselected: boolean;\n\n\tconstructor(selectedRows: Set<string>) {\n\t\tthis.selectedRows = selectedRows;\n\t}\n\n\tisAllSelected(): boolean {\n\t\treturn this.allSelected;\n\t}\n\n\tisAllUnselected(): boolean {\n\t\treturn this.allUnselected;\n\t}\n\n\tsetSelection(enabled: boolean): void {\n\t\tthis.enabled = enabled;\n\t}\n\n\tsetMode(mode: RowSelectionMode): void {\n\t\tthis.mode = mode;\n\t}\n\n\tgetSelectedRows(): Array<string> {\n\t\treturn Array.from(this.selectedRows);\n\t}\n\n\tselectAll(allItemIds: Array<string>): void {\n\t\tthis.selectedRows = new Set<string>(allItemIds);\n\t\tthis.allSelected = true;\n\t\tthis.allUnselected = false;\n\t}\n\n\tunselectAll(): void {\n\t\tthis.selectedRows.clear();\n\t\tthis.allSelected = false;\n\t\tthis.allUnselected = true;\n\t}\n\n\ttoggleRow(itemId: string, type: RowSelectToggleType, allItemIds: Array<string>): void {\n\n\t\tif (!this.enabled) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (type === RowSelectToggleType.ADD && this.mode === RowSelectionMode.SINGLE) {\n\t\t\ttype = RowSelectToggleType.NONE;\n\t\t}\n\n\t\tswitch (type) {\n\t\t\tcase RowSelectToggleType.NONE:\n\n\t\t\t\tif (this.selectedRows.has(itemId)) {\n\t\t\t\t\tthis.selectedRows.delete(itemId);\n\t\t\t\t} else {\n\t\t\t\t\tthis.selectedRows.clear();\n\t\t\t\t\tthis.selectedRows.add(itemId);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase RowSelectToggleType.ADD:\n\n\t\t\t\tif (this.selectedRows.has(itemId)) {\n\t\t\t\t\tthis.selectedRows.delete(itemId);\n\t\t\t\t} else {\n\t\t\t\t\tthis.selectedRows.add(itemId);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase RowSelectToggleType.RANGE:\n\n\t\t\t\tbreak;\n\t\t}\n\n\t\tthis.calculateAllSelected(allItemIds);\n\t\tthis.calculateAllUnselected();\n\t}\n\n\tcalculateAllSelected(allItemIds: Array<string>): void {\n\t\tif (allItemIds.length !== this.selectedRows.size) {\n\t\t\tthis.allSelected = false;\n\t\t} else {\n\n\t\t\tlet rows = Array.from(this.selectedRows),\n\t\t\t\tequal = true;\n\n\t\t\trows.sort();\n\t\t\tallItemIds.sort();\n\n\t\t\tfor (let i = 0; i < rows.length; i+= 1) {\n\t\t\t\tif (rows[i] !== allItemIds[i]) {\n\t\t\t\t\tequal = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.allSelected = equal;\n\t\t}\n\t}\n\n\tcalculateAllUnselected(): void {\n\t\tthis.allUnselected = this.selectedRows.size === 0;\n\t}\n\n\tunselectRow(itemId: string): void {\n\t\tif (this.selectedRows.has(itemId)) {\n\t\t\tthis.selectedRows.delete(itemId);\n\t\t}\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { FormationManager } from './formation-manager';\n\n\n@Injectable()\nexport class FormationManagerFactory {\n\n\tcreate(): FormationManager {\n\t\treturn new FormationManager(new Set());\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { SourceManager } from './source.manager';\nimport { FormationManagerFactory } from '../formation/core/formation.manager-factory';\n\n\n@Injectable()\nexport class SourceManagerFactory {\n\n\tconstructor(private readonly formationManagerFactory: FormationManagerFactory) {\n\t}\n\n\tcreateDefault(): SourceManager {\n\n\t\tconst fm = this.formationManagerFactory.create();\n\n\t\treturn new SourceManager(fm);\n\t}\n\n\tcreate(): SourceManager {\n\t\tconst fm = this.formationManagerFactory.create();\n\n\t\treturn new SourceManager(fm);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventHandler, DomainEventType } from '@generic-ui/hermes';\n\nimport { StructureSourceOriginRepository } from './structure.source-origin.repository';\nimport { OriginSetEvent } from '../../domain/origin/set-origin/origin-set.event';\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\n\n\n@Injectable()\nexport class StructureOriginChangedEventHandler implements DomainEventHandler<StructureId, OriginSetEvent> {\n\n\tconstructor(private structureSourceOriginRepository: StructureSourceOriginRepository) {\n\t}\n\n\tforEvent(): DomainEventType<OriginSetEvent> {\n\t\treturn OriginSetEvent;\n\t}\n\n\thandle(event: OriginSetEvent): void {\n\n\t\tif (event.ofMessageType('OriginSetEvent')) {\n\t\t\tconst origin = event.getOrigin();\n\n\t\t\tthis.structureSourceOriginRepository.setOrigin(origin, event.getAggregateId());\n\t\t}\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventHandler, DomainEventType } from '@generic-ui/hermes';\n\nimport { StructurePreparedEntitiesSetEvent } from '../../domain/prepared/structure.prepared-entities-set.event';\nimport { StructurePreparedItemsRepository } from './structure.prepared-items.repository';\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\n\n\n@Injectable()\nexport class StructurePreparedItemsEventHandler implements DomainEventHandler<StructureId, StructurePreparedEntitiesSetEvent> {\n\n\tconstructor(private structurePreparedItemsRepository: StructurePreparedItemsRepository) {\n\t}\n\n\tforEvent(): DomainEventType<StructurePreparedEntitiesSetEvent> {\n\t\treturn StructurePreparedEntitiesSetEvent;\n\t}\n\n\thandle(event: StructurePreparedEntitiesSetEvent): void {\n\n\t\tif (event.ofMessageType('StructurePreparedEntitiesSetEvent')) {\n\n\t\t\tconst preparedItems = event.getPreparedItems();\n\n\t\t\tthis.structurePreparedItemsRepository.setItems(preparedItems, event.getAggregateId());\n\t\t}\n\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { SetEnabledSelectionCommand } from './set-enabled-selection.command';\nimport { StructureAggregate } from '../../../../../lib/structure/domain/structure/structure.aggregate';\n\n\n@Injectable()\nexport class SetEnabledSelectionCommandHandler implements CommandHandler<StructureAggregate, SetEnabledSelectionCommand> {\n\n\tconstructor(private readonly domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SetEnabledSelectionCommand> {\n\t\treturn SetEnabledSelectionCommand;\n\t}\n\n\tpublishDomainEvents(aggregate: StructureAggregate, command: SetEnabledSelectionCommand): void {\n\t\tthis.domainEventPublisher.publishFromAggregate(aggregate);\n\t}\n\n\thandleAggregate(aggregate: StructureAggregate, command: SetEnabledSelectionCommand): void {\n\t\taggregate.setSelection(command.isEnabled());\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { StructureAggregateRepository } from '../../../../../lib/structure/domain/structure/structure-aggregate.repository';\nimport { ToggleSelectedRowCommand } from './toggle-selected-row.command';\nimport { StructureAggregate } from '../../../../../lib/structure/domain/structure/structure.aggregate';\n\n\n@Injectable()\nexport class ToggleSelectedRowCommandHandler implements CommandHandler<StructureAggregate, ToggleSelectedRowCommand> {\n\n\tconstructor(private structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tprivate domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<ToggleSelectedRowCommand> {\n\t\treturn ToggleSelectedRowCommand;\n\t}\n\n\tpublishDomainEvents(aggregate: StructureAggregate, command: ToggleSelectedRowCommand): void {\n\t\tthis.domainEventPublisher.publishFromAggregate(aggregate);\n\t}\n\n\thandleAggregate(aggregate: StructureAggregate, command: ToggleSelectedRowCommand): void {\n\n\t\tconst selectedRow = command.getSelectedRow(),\n\t\t\ttype = command.getType();\n\n\t\taggregate.toggleRow(selectedRow, type);\n\t}\n\n}\n","import { FieldId } from '../../../field/domain/core/field/field.id';\n\nexport class RowSelectedReadModel {\n\n\tprivate readonly itemIds: Array<string> = new Array<string>();\n\n\tprivate readonly allSelected: boolean;\n\n\tprivate readonly allUnselected: boolean;\n\n\tconstructor(itemIds: Array<string>,\n\t\t\t\tallSelected: boolean,\n\t\t\t\tallUnselected: boolean) {\n\t\tthis.itemIds = itemIds;\n\t\tthis.allSelected = allSelected;\n\t\tthis.allUnselected = allUnselected;\n\t}\n\n\tgetAll(): Array<string> {\n\t\treturn this.itemIds;\n\t}\n\n\tisSelected(id: string): boolean {\n\t\treturn this.itemIds.some((itemId: string) => itemId === id);\n\t}\n\n\n\tisAllSelected(): boolean {\n\t\treturn this.allSelected;\n\t}\n\n\tisAllUnselected(): boolean {\n\t\treturn this.allUnselected;\n\t}\n\n\tisIndeterminate(): boolean {\n\t\treturn !(this.isAllSelected() || this.isAllUnselected());\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventHandler, DomainEventType } from '@generic-ui/hermes';\n\nimport { SelectedRowChangedEvent } from '../../../domain/formation/selected-row-changed.event';\nimport { RowSelectedRepository } from './row-selected.repository';\nimport { StructureId } from '../../../../../lib/structure/domain/structure.id';\nimport { RowSelectedReadModel } from '../row-selected.read-model';\n\n\n@Injectable()\nexport class SelectedRowChangedEventHandler implements DomainEventHandler<StructureId, SelectedRowChangedEvent> {\n\n\tconstructor(private readonly rowSelectedRepository: RowSelectedRepository) {\n\t}\n\n\tforEvent(): DomainEventType<SelectedRowChangedEvent> {\n\t\treturn SelectedRowChangedEvent;\n\t}\n\n\thandle(rowChangedEvent: SelectedRowChangedEvent): void {\n\n\t\tif (rowChangedEvent.ofMessageType('SelectedRowChangedEvent')) {\n\n\t\t\tconst rowSelectedRead = new RowSelectedReadModel(rowChangedEvent.getSelectedRows(), rowChangedEvent.isAllSelected(), rowChangedEvent.isAllUnselected());\n\n\t\t\tthis.rowSelectedRepository.next(rowChangedEvent.getAggregateId(), rowSelectedRead);\n\t\t}\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { SetSelectionModeCommand } from './set-selection-mode.command';\nimport { StructureAggregate } from '../../../../../lib/structure/domain/structure/structure.aggregate';\n\n\n@Injectable()\nexport class SetSelectionModeCommandHandler implements CommandHandler<StructureAggregate, SetSelectionModeCommand> {\n\n\tconstructor(private readonly domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SetSelectionModeCommand> {\n\t\treturn SetSelectionModeCommand;\n\t}\n\n\tpublishDomainEvents(aggregate: StructureAggregate, command: SetSelectionModeCommand): void {\n\t\tthis.domainEventPublisher.publishFromAggregate(aggregate);\n\t}\n\n\thandleAggregate(aggregate: StructureAggregate, command: SetSelectionModeCommand): void {\n\t\taggregate.setSelectionMode(command.getMode());\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { StructureAggregateRepository } from '../../../../../lib/structure/domain/structure/structure-aggregate.repository';\nimport { SelectAllRowsCommand } from './select-all-rows.command';\nimport { StructureAggregate } from '../../../../../lib/structure/domain/structure/structure.aggregate';\n\n\n@Injectable()\nexport class SelectAllRowsCommandHandler implements CommandHandler<StructureAggregate, SelectAllRowsCommand> {\n\n\tconstructor(private structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tprivate domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SelectAllRowsCommand> {\n\t\treturn SelectAllRowsCommand;\n\t}\n\n\tpublishDomainEvents(aggregate: StructureAggregate, command: SelectAllRowsCommand): void {\n\t\tthis.domainEventPublisher.publishFromAggregate(aggregate);\n\t}\n\n\thandleAggregate(aggregate: StructureAggregate, command: SelectAllRowsCommand): void {\n\t\taggregate.selectAll();\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { StructureAggregateRepository } from '../../../../../lib/structure/domain/structure/structure-aggregate.repository';\nimport { UnselectAllRowsCommand } from './unselect-all-rows.command';\nimport { StructureAggregate } from '../../../../../lib/structure/domain/structure/structure.aggregate';\n\n\n@Injectable()\nexport class UnselectAllRowsCommandHandler implements CommandHandler<StructureAggregate, UnselectAllRowsCommand> {\n\n\tconstructor(private structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tprivate domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<UnselectAllRowsCommand> {\n\t\treturn UnselectAllRowsCommand;\n\t}\n\n\tpublishDomainEvents(aggregate: StructureAggregate, command: UnselectAllRowsCommand): void {\n\t\tthis.domainEventPublisher.publishFromAggregate(aggregate);\n\t}\n\n\thandleAggregate(aggregate: StructureAggregate, command: UnselectAllRowsCommand): void {\n\t\taggregate.unselectAll();\n\t}\n\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../lib/structure/domain/structure.id';\nimport { RowSelectionMode } from '../../../domain-api/row-selection';\n\nexport class SelectionModeSetEvent extends DomainEvent<StructureId> {\n\n\tconstructor(aggregateId: StructureId,\n\t\t\t\tprivate readonly mode: RowSelectionMode) {\n\t\tsuper(aggregateId, 'SelectionModeSetEvent');\n\t}\n\n\tgetMode(): RowSelectionMode {\n\t\treturn this.mode;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventHandler, DomainEventType } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../lib/structure/domain/structure.id';\nimport { SelectionModeSetEvent } from '../../../domain/formation/mode/selection-mode-set.event';\nimport { RowSelectionModeRepository } from './row-selection-mode.repository';\n\n@Injectable()\nexport class SelectionModeSetEventHandler implements DomainEventHandler<StructureId, SelectionModeSetEvent> {\n\n\tconstructor(private readonly rowSelectionModeRepository: RowSelectionModeRepository) {\n\t}\n\n\tforEvent(): DomainEventType<SelectionModeSetEvent> {\n\t\treturn SelectionModeSetEvent;\n\t}\n\n\thandle(modeSetEvent: SelectionModeSetEvent): void {\n\n\t\tif (modeSetEvent.ofMessageType('SelectionModeSetEvent')) {\n\t\t\tthis.rowSelectionModeRepository.next(modeSetEvent.getAggregateId(), modeSetEvent.getMode());\n\t\t}\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { StructureAggregate } from '../../../../../lib/structure/domain/structure/structure.aggregate';\nimport { DeleteOriginItemCommand } from './delete-origin-item.command';\n\n\n@Injectable()\nexport class DeleteOriginItemCommandHandler implements CommandHandler<StructureAggregate, DeleteOriginItemCommand> {\n\n\tconstructor(private readonly domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<DeleteOriginItemCommand> {\n\t\treturn DeleteOriginItemCommand;\n\t}\n\n\tpublishDomainEvents(aggregate: StructureAggregate, command: DeleteOriginItemCommand): void {\n\t\tthis.domainEventPublisher.publishFromAggregate(aggregate);\n\t}\n\n\thandleAggregate(aggregate: StructureAggregate, command: DeleteOriginItemCommand): void {\n\t\taggregate.deleteItem(command.getPayload());\n\t}\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { DomainModule, HermesModule } from '@generic-ui/hermes';\n\nimport { SourceSetLoadingCommandHandler } from './loading/source-set-loading.command-handler';\nimport { SetOriginCommandHandler } from './origin/set-origin/set-origin.command-handler';\nimport { StructureEditSourceItemCommandHandler } from './origin/edit/structure.edit-source-item.command-handler';\nimport { SourceDispatcher } from './source.dispatcher';\nimport { SourceManagerFactory } from './core/source.manager-factory';\nimport { StructureOriginChangedEventHandler } from '../domain-api/origin/structure.origin-changed.event-handler';\nimport { StructurePreparedItemsEventHandler } from '../domain-api/prepared/structure.prepared-items.event-handler';\nimport { SourceDomainEventPublisher } from './source.domain-event.publisher';\nimport { SetEnabledSelectionCommandHandler } from './formation/set-enabled/set-enabled-selection.command-handler';\nimport { ToggleSelectedRowCommandHandler } from './formation/toggle/toggle-selected-row.command-handler';\nimport { FormationDispatcher } from './formation/formation.dispatcher';\nimport { FormationManagerFactory } from './formation/core/formation.manager-factory';\nimport { SelectedRowChangedEventHandler } from '../domain-api/formation/row-selected/selected-row-changed.event-handler';\nimport { SetSelectionModeCommandHandler } from './formation/mode/set-selection-mode.command-handler';\nimport { SelectAllRowsCommandHandler } from './formation/select-all/select-all-rows.command-handler';\nimport { UnselectAllRowsCommandHandler } from './formation/unselect-all/unselect-all-rows.command-handler';\nimport { SelectionModeSetEventHandler } from '../domain-api/formation/mode/selection-mode-set.event-handler';\nimport { DeleteOriginItemCommandHandler } from './origin/delete/delete-origin-item.command-handler';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule\n\t],\n\tproviders: [\n\t\tSourceDispatcher,\n\t\tSourceManagerFactory,\n\t\tSourceDomainEventPublisher,\n\n\t\tFormationDispatcher,\n\t\tFormationManagerFactory\n\t],\n\tdeclarations: [],\n\texports: []\n})\nexport class SourceDomainModule extends DomainModule {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tstatic commandHandlers() {\n\t\treturn [\n\t\t\t...HermesModule.registerCommandHandler(SourceSetLoadingCommandHandler, 'StructureAggregate'),\n\t\t\t...HermesModule.registerCommandHandler(SetOriginCommandHandler, 'StructureAggregate'),\n\t\t\t...HermesModule.registerCommandHandler(StructureEditSourceItemCommandHandler, 'StructureAggregate'),\n\t\t\t...HermesModule.registerCommandHandler(SetEnabledSelectionCommandHandler, 'StructureAggregate'),\n\t\t\t...HermesModule.registerCommandHandler(SetSelectionModeCommandHandler, 'StructureAggregate'),\n\t\t\t...HermesModule.registerCommandHandler(SelectAllRowsCommandHandler, 'StructureAggregate'),\n\t\t\t...HermesModule.registerCommandHandler(UnselectAllRowsCommandHandler, 'StructureAggregate'),\n\t\t\t...HermesModule.registerCommandHandler(DeleteOriginItemCommandHandler, 'StructureAggregate'),\n\t\t\t...HermesModule.registerCommandHandler(ToggleSelectedRowCommandHandler, 'StructureAggregate')\n\t\t];\n\t}\n\n\tstatic domainEventHandlers() {\n\t\treturn [\n\t\t\t...HermesModule.registerDomainEventHandler(StructureOriginChangedEventHandler),\n\t\t\t...HermesModule.registerDomainEventHandler(SelectedRowChangedEventHandler),\n\t\t\t...HermesModule.registerDomainEventHandler(SelectionModeSetEventHandler),\n\t\t\t...HermesModule.registerDomainEventHandler(StructurePreparedItemsEventHandler)\n\t\t];\n\t}\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { ApiModule } from '@generic-ui/hermes';\n\nimport { StructureSourceOriginRepository } from './origin/structure.source-origin.repository';\nimport { StructurePreparedItemsRepository } from './prepared/structure.prepared-items.repository';\nimport { SourceConverter } from './source.converter';\nimport { SourceCommandDispatcher } from './source.command-dispatcher';\nimport { SourceWarehouse } from './source.warehouse';\nimport { SourceEventService } from './event/source-event.service';\nimport { SourceDomainModule } from '../domain/source.domain-module';\nimport { FormationEventService } from './formation/formation-event.service';\nimport { FormationCommandDispatcher } from './formation/formation.command-dispatcher';\nimport { FormationWarehouse } from './formation/formation.warehouse';\nimport { RowSelectedRepository } from './formation/row-selected/row-selected.repository';\nimport { RowSelectionModeRepository } from './formation/mode/row-selection-mode.repository';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tSourceDomainModule\n\t],\n\tproviders: [\n\t\tStructureSourceOriginRepository,\n\t\tStructurePreparedItemsRepository,\n\t\tSourceConverter,\n\n\t\tSourceCommandDispatcher,\n\t\tSourceWarehouse,\n\t\tSourceEventService,\n\n\t\tRowSelectedRepository,\n\t\tFormationEventService,\n\n\t\tFormationCommandDispatcher,\n\t\tFormationWarehouse,\n\t\tRowSelectionModeRepository\n\n\t],\n\tdeclarations: [],\n\texports: []\n})\nexport class SourceApiModule extends ApiModule {\n}\n","import { NgModule, Optional, Provider } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { FeatureModule } from '@generic-ui/hermes';\n\nimport { RowSelectionTypeArchive } from '../domain-api/formation/type/row-selection-type.archive';\nimport { SourceApiModule } from '../domain-api/source.api-module';\nimport { RowSelectionModeRepository } from '../domain-api/formation/mode/row-selection-mode.repository';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tSourceApiModule\n\t],\n\tdeclarations: [],\n\texports: []\n})\nexport class SourceFeatureModule extends FeatureModule {\n\n\tstatic forComponent(): Array<Provider> {\n\t\treturn [\n\t\t\tRowSelectionTypeArchive,\n\t\t];\n\t}\n\n\tconstructor(@Optional() sourceApiModule: SourceApiModule) {\n\t\tsuper();\n\t\tif (sourceApiModule === null) {\n\t\t\tthrow new Error('SourceApiModule is required');\n\t\t}\n\t}\n\n}\n","import {\n\tAfterViewInit,\n\tChangeDetectionStrategy,\n\tChangeDetectorRef,\n\tComponent,\n\tElementRef,\n\tOnChanges,\n\tOnInit,\n\tRenderer2,\n\tSimpleChanges,\n\tViewEncapsulation\n} from '@angular/core';\nimport { timer } from 'rxjs';\n\nimport { StructureDefinition } from './structure-definition';\nimport { StructureIdGenerator } from './structure-id.generator';\nimport { StructureId } from '../domain/structure.id';\nimport { CompositionId } from '../../composition/domain/composition.id';\nimport { localProviders } from './local/local-providers';\nimport { SchemaCssClassManager } from './schema/schema-css-class.manager';\nimport { StructureCellEditArchive } from './edit/structure.cell-edit.archive';\nimport { StructureCellEditStore } from './edit/structure.cell-edit.store';\nimport { StructureEditModeArchive } from './edit/structure.edit-mode.archive';\nimport { StructureInfoPanelArchive } from './panel/info/structure.info-panel.archive';\nimport { StructureSummariesArchive } from './panel/summaries/structure.summaries.archive';\nimport { StructureSummariesConfigService } from './panel/summaries/structure.summaries-config.service';\nimport { structureComponentToken } from './structure-component-token';\nimport { StructureGateway } from './gateway/structure.gateway';\nimport { StructureReadModelRoot } from '../domain-api/read/structure.read-model-root';\nimport { PagingCommandDispatcher } from '../../../structure/paging/domain-api/paging.command-dispatcher';\nimport { PagingEventRepository } from '../../../structure/paging/domain-api/paging.event-repository';\nimport { SourceCommandDispatcher } from '../../../structure/source/domain-api/source.command-dispatcher';\nimport { SourceEventService } from '../../../structure/source/domain-api/event/source-event.service';\nimport { CompositionCommandDispatcher } from '../../composition/domain-api/composition.command-dispatcher';\nimport { CompositionEventRepository } from '../../composition/domain-api/composition.event-repository';\nimport { FormationEventService } from '../../../structure/source/domain-api/formation/formation-event.service';\nimport { StructureCommandDispatcher } from '../domain-api/structure.command-dispatcher';\nimport { StructureWarehouse } from '../domain-api/structure.warehouse';\nimport { CompositionWarehouse } from '../../composition/domain-api/composition.warehouse';\nimport { StructureColumnMenuConfigArchive } from './header/menu/config/structure.column-menu-config.archive';\nimport { PagingDisplayModeArchive } from '../../../structure/paging/feature/mode/paging-display-mode.archive';\nimport { RowSelectEnabledRepository } from '../../../structure/source/domain-api/formation/set-enabled/row-select-enabled.repository';\nimport { SearchEventRepository } from '../../../structure/search/domain-api/search.event-repository';\nimport { StructureCellEditCloseAllService } from './edit/structure.cell-edit-close-all.service';\nimport { SchemaReadModelRootId } from '../../../schema/domain-api/read/schema.read-model-root-id';\nimport { SchemaCommandDispatcher } from '../../../schema/domain-api/schema.command-dispatcher';\nimport { StructureHeaderBottomEnabledArchive } from './header/structure-header-bottom-enabled.archive';\nimport { StructureHeaderTopEnabledArchive } from './header/structure-header-top-enabled.archive';\nimport { SchemaEventRepository } from '../../../schema/domain-api/schema.event-repository';\nimport { StructureRowDetailConfigArchive } from './row-detail/structure.row-detail.config-archive';\nimport { StructureRowDetailService } from './row-detail/structure.row-detail.service';\nimport { PagingFeatureModule } from '../../../structure/paging/feature/paging.feature-module';\nimport { StructureTitlePanelConfigArchive } from './panel/title-panel/structure.title-panel.config-archive';\nimport { StructureFooterPanelConfigArchive } from './panel/footer-panel/structure.footer-panel.config-archive';\nimport { StructureInfoPanelConfigService } from './panel/info/structure.info-panel-config.service';\nimport { SortingFeatureModule } from '../../../structure/sorting/feature/sorting.feature-module';\nimport { SortingCommandDispatcher } from '../../../structure/sorting/domain-api/sorting.command-dispatcher';\nimport { SearchFeatureModule } from '../../../structure/search/feature/search.feature-module';\nimport { FieldFeatureModule } from '../../../structure/field/feature/field.feature-module';\nimport { SearchCommandDispatcher } from '../../../structure/search/domain-api/search.command-dispatcher';\nimport { FieldCommandDispatcher } from '../../../structure/field/domain-api/field.command-dispatcher';\nimport { CommandDispatcher, DomainEventBus } from '@generic-ui/hermes';\nimport { ColumnFieldFactory } from '../../composition/domain/column/field/colum-field.factory';\nimport { FilterContainerRef } from '../../../structure/filter/feature/config/filter-container-ref';\nimport { filterContainerToken } from '../../../structure/filter/feature/config/filter-container-token';\nimport { FormationCommandDispatcher } from '../../../structure/source/domain-api/formation/formation.command-dispatcher';\nimport { RowSelectionTypeArchive } from '../../../structure/source/domain-api/formation/type/row-selection-type.archive';\nimport { SourceFeatureModule } from '../../../structure/source/feature/source.feature-module';\n\n\n/** @internal */\nexport function structureIdFactory(generator: StructureIdGenerator): StructureId {\n\treturn new StructureId('gui-' + generator.generateId());\n}\n\n/** @internal */\nexport function compositionIdFactory(generator: StructureIdGenerator): CompositionId {\n\treturn new CompositionId('gui-' + generator.generateId());\n}\n\n/** @internal */\nexport function schemaIdFactory(generator: StructureIdGenerator): SchemaReadModelRootId {\n\treturn new SchemaReadModelRootId('gui-' + generator.generateId());\n}\n\n/** @internal */\nexport const structureComponentSelfProviders = [\n\t{\n\t\tprovide: StructureId,\n\t\tuseFactory: structureIdFactory,\n\t\tdeps: [\n\t\t\tStructureIdGenerator\n\t\t]\n\t},\n\t{\n\t\tprovide: CompositionId,\n\t\tuseFactory: compositionIdFactory,\n\t\tdeps: [\n\t\t\tStructureIdGenerator\n\t\t]\n\t},\n\t{\n\t\tprovide: SchemaReadModelRootId,\n\t\tuseFactory: schemaIdFactory,\n\t\tdeps: [\n\t\t\tStructureIdGenerator\n\t\t]\n\t},\n\t...localProviders,\n\n\tSchemaCssClassManager,\n\tStructureCellEditArchive,\n\tStructureCellEditCloseAllService,\n\tStructureCellEditStore,\n\tStructureEditModeArchive,\n\tStructureInfoPanelArchive,\n\tStructureInfoPanelConfigService,\n\tStructureSummariesArchive,\n\tStructureSummariesConfigService,\n\tStructureColumnMenuConfigArchive,\n\n\tPagingFeatureModule.forComponent(),\n\tSortingFeatureModule.forComponent(),\n\tFieldFeatureModule.forComponent(),\n\tSearchFeatureModule.forComponent(),\n\tSourceFeatureModule.forComponent(),\n\n\tRowSelectEnabledRepository,\n\tStructureHeaderTopEnabledArchive,\n\tStructureHeaderBottomEnabledArchive,\n\tStructureRowDetailConfigArchive,\n\tStructureRowDetailService,\n\tStructureTitlePanelConfigArchive,\n\tStructureFooterPanelConfigArchive\n];\n\n/** @internal */\n@Component({\n\tselector: 'gui-structure',\n\ttemplateUrl: './structure.component.html',\n\tstyleUrls: [\n\t\t'./style/styles.ngx.scss',\n\t\t'./style/structure.ngx.scss',\n\t\t'./style/structure-column-manager.ngx.scss',\n\t\t'./style/structure-summaries.ngx.scss',\n\t\t'./style/structure-info-modal.ngx.scss',\n\t\t// '../../../structure/paging/feature/style/structure-paging.ngx.scss',\n\t\t'./style/structure-responsive.ngx.scss',\n\t\t'./style/structure-flex.ngx.scss',\n\t\t'./style/structure-header-menu.ngx.scss',\n\t\t// '../../../structure/filter/feature/style/structure-filter.ngx.scss',\n\t\t'../../composition/feature/composition.ngx.scss',\n\t\t'./style/themes/fabric.structure.ngx.scss',\n\t\t'./style/themes/material.structure.ngx.scss',\n\t\t'./style/themes/dark.structure.ngx.scss',\n\t\t'./style/themes/light.structure.ngx.scss',\n\t\t'./style/themes/generic.structure.ngx.scss'\n\t],\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None,\n\thost: {\n\t\t'[class.gui-structure]': `\"true\"`,\n\t\t'[class.gui-structure-border]': 'isBorderEnabled()',\n\t\t'[id]': 'structureId.toString()'\n\t},\n\tproviders: [\n\t\t...structureComponentSelfProviders,\n\t\t{\n\t\t\tprovide: structureComponentToken,\n\t\t\tuseExisting: StructureComponent\n\t\t},\n\t\t{\n\t\t\tprovide: filterContainerToken,\n\t\t\tuseExisting: StructureComponent\n\t\t}\n\t]\n})\nexport class StructureComponent extends StructureGateway implements OnChanges, OnInit, AfterViewInit, FilterContainerRef {\n\n\tloaderEnabled: boolean = false;\n\n\tcircleLoaderEnabled: boolean = true;\n\n\tinitialLoaderAnimation: boolean = false;\n\n\tprivate structure: StructureReadModelRoot;\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tcompositionId: CompositionId,\n\t\t\t\tpagingCommandService: PagingCommandDispatcher,\n\t\t\t\tpagingEventRepository: PagingEventRepository,\n\t\t\t\tsourceCommandDispatcher: SourceCommandDispatcher,\n\t\t\t\tsourceEventService: SourceEventService,\n\t\t\t\tsortingCommandDispatcher: SortingCommandDispatcher,\n\t\t\t\tsearchCommandDispatcher: SearchCommandDispatcher,\n\t\t\t\tfieldCommandDispatcher: FieldCommandDispatcher,\n\t\t\t\tschemaCommandDispatcher: SchemaCommandDispatcher,\n\t\t\t\tcompositionCommandDispatcher: CompositionCommandDispatcher,\n\t\t\t\tcompositionEventRepository: CompositionEventRepository,\n\t\t\t\tformationEventService: FormationEventService,\n\t\t\t\tstructureCommandService: StructureCommandDispatcher,\n\t\t\t\tstructureEditModeArchive: StructureEditModeArchive,\n\t\t\t\tstructureCellEditArchive: StructureCellEditArchive,\n\t\t\t\tstructureInfoPanelArchive: StructureInfoPanelArchive,\n\t\t\t\tstructureInfoPanelConfigService: StructureInfoPanelConfigService,\n\t\t\t\tstructureSummariesConfigService: StructureSummariesConfigService,\n\t\t\t\tstructureCellEditStore: StructureCellEditStore,\n\t\t\t\tcolumnFieldFactory: ColumnFieldFactory,\n\t\t\t\tstructureColumnMenuConfigArchive: StructureColumnMenuConfigArchive,\n\t\t\t\tpagingDisplayModeArchive: PagingDisplayModeArchive,\n\t\t\t\trowSelectEnabledArchive: RowSelectEnabledRepository,\n\t\t\t\trowSelectionTypeArchive: RowSelectionTypeArchive,\n\t\t\t\tformationCommandDispatcher: FormationCommandDispatcher,\n\t\t\t\tsearchEventRepository: SearchEventRepository,\n\t\t\t\tstructureHeaderTopEnabledArchive: StructureHeaderTopEnabledArchive,\n\t\t\t\tstructureHeaderBottomEnabledArchive: StructureHeaderBottomEnabledArchive,\n\t\t\t\tstructureDetailViewConfigArchive: StructureRowDetailConfigArchive,\n\t\t\t\tstructureTitlePanelConfigArchive: StructureTitlePanelConfigArchive,\n\t\t\t\tstructureFooterPanelConfigArchive: StructureFooterPanelConfigArchive,\n\t\t\t\tschemaEventRepository: SchemaEventRepository,\n\t\t\t\tprivate readonly elementRef: ElementRef,\n\t\t\t\tprivate readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\tprivate readonly renderer: Renderer2,\n\t\t\t\tprivate readonly structureDefinition: StructureDefinition,\n\t\t\t\tprivate readonly structureReadModelService: StructureWarehouse,\n\t\t\t\tprivate readonly compositionReadModelService: CompositionWarehouse,\n\t\t\t\tprivate readonly schemaStylesManager: SchemaCssClassManager,\n\t\t\t\tprivate readonly schemaReadModelRootId: SchemaReadModelRootId,\n\t\t\t\tdomainEventBus: DomainEventBus,\n\t\t\t\tcommandDispatcher: CommandDispatcher,\n\t\t\t\tprivate readonly structureDetailViewService: StructureRowDetailService) {\n\n\t\tsuper(\n\t\t\tdomainEventBus,\n\t\t\tcommandDispatcher,\n\t\t\tstructureId,\n\t\t\tcompositionId,\n\t\t\tschemaReadModelRootId,\n\t\t\tstructureCommandService,\n\t\t\tpagingCommandService,\n\t\t\tpagingEventRepository,\n\t\t\tsortingCommandDispatcher,\n\t\t\tsearchCommandDispatcher,\n\t\t\tfieldCommandDispatcher,\n\t\t\tsourceCommandDispatcher,\n\t\t\tsourceEventService,\n\t\t\tschemaCommandDispatcher,\n\t\t\tcompositionCommandDispatcher,\n\t\t\tcompositionEventRepository,\n\t\t\tformationEventService,\n\t\t\tstructureEditModeArchive,\n\t\t\tstructureCellEditArchive,\n\t\t\tstructureInfoPanelArchive,\n\t\t\tstructureInfoPanelConfigService,\n\t\t\tstructureSummariesConfigService,\n\t\t\tstructureCellEditStore,\n\t\t\tcolumnFieldFactory,\n\t\t\tstructureColumnMenuConfigArchive,\n\t\t\tpagingDisplayModeArchive,\n\t\t\trowSelectEnabledArchive,\n\t\t\trowSelectionTypeArchive,\n\t\t\tformationCommandDispatcher,\n\t\t\tsearchEventRepository,\n\t\t\tstructureHeaderTopEnabledArchive,\n\t\t\tstructureHeaderBottomEnabledArchive,\n\t\t\tstructureDetailViewConfigArchive,\n\t\t\tstructureTitlePanelConfigArchive,\n\t\t\tstructureFooterPanelConfigArchive,\n\t\t\tschemaEventRepository\n\t\t);\n\n\t\tstructureCommandService.createStructure();\n\t\tcompositionCommandDispatcher.createComposition();\n\t\tschemaCommandDispatcher.create();\n\t}\n\n\tngOnChanges(changes: SimpleChanges) {\n\t\tsuper.ngOnChanges(changes);\n\t}\n\n\tngOnInit() {\n\t\tsuper.ngOnInit();\n\n\t\tthis.structureReadModelService\n\t\t\t.onStructure()\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((structureReadModelRoot: StructureReadModelRoot) => {\n\t\t\t\tthis.structure = structureReadModelRoot;\n\n\t\t\t\tthis.loaderEnabled = structureReadModelRoot.getSource().isLoading();\n\n\t\t\t\tthis.circleLoaderEnabled = structureReadModelRoot.isLoaderVisible();\n\n\t\t\t\tif (this.loaderEnabled && !this.initialLoaderAnimation) {\n\t\t\t\t\tthis.initialLoaderAnimation = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\tthis.structureDetailViewService.init(this.elementRef);\n\t}\n\n\tngAfterViewInit() {\n\t\tlet width = this.elementRef.nativeElement.offsetWidth;\n\n\t\tif (width > 0) {\n\t\t\tthis.compositionCommandDispatcher.setContainerWidth(width);\n\t\t} else {\n\n\t\t\t/**\n\t\t\t * When gui-grid is in dynamic container which is created later then grid.\n\t\t\t */\n\t\t\ttimer(0)\n\t\t\t\t.pipe(\n\t\t\t\t\tthis.takeUntil()\n\t\t\t\t)\n\t\t\t\t.subscribe(() => {\n\n\t\t\t\t\twidth = this.elementRef.nativeElement.offsetWidth;\n\n\t\t\t\t\tif (width > 0) {\n\t\t\t\t\t\tthis.compositionCommandDispatcher.setContainerWidth(width);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n\n\t\tthis.schemaStylesManager\n\t\t\t.init(this.elementRef, this.schemaReadModelRootId);\n\n\t\tthis.compositionReadModelService\n\t\t\t.onWidth()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((width: number) => {\n\t\t\t\tthis.renderer.setStyle(this.elementRef.nativeElement, 'width', width + 'px');\n\t\t\t});\n\t}\n\n\tisBorderEnabled(): boolean {\n\t\treturn this.structureDefinition.isBorderEnabled();\n\t}\n\n\tgetStructureId(): StructureId {\n\t\treturn this.structureId;\n\t}\n\n\tgetElementRef(): ElementRef {\n\t\treturn this.elementRef;\n\t}\n\n}\n","import { ChangeDetectorRef, Component, ElementRef, Inject, OnInit, ViewChild } from '@angular/core';\n\nimport { StructureCommandDispatcher } from '../../../domain-api/structure.command-dispatcher';\nimport { CellTemplateWithContext } from '../../../../composition/domain-api/read/definition/cell-template-with-context';\nimport { SmartComponent } from '../../../../../common/cdk/smart-component';\nimport { CompositionWarehouse } from '../../../../composition/domain-api/composition.warehouse';\n\nimport { StructureColumnMenuConfigArchive } from './config/structure.column-menu-config.archive';\nimport { StructureColumnMenuConfig } from './config/structure.column-menu-config';\nimport { FilterWarehouse } from '../../../../../structure/filter/domain-api/filter.warehouse';\nimport { StructureId } from '../../../domain/structure.id';\nimport { UniqueValuesReadModel } from '../../../../../structure/filter/domain-api/unique/unique-values.read-model';\n\n\n@Component({\n\ttemplate: `\n\t\t<div *ngIf=\"isEnabled()\"\n\t\t\t class=\"gui-header-menu-tab\">\n\n\t\t\t<gui-tab [menu]=\"config.getMenus()\" [active]=\"config.getActiveMenu()\">\n\n\t\t\t\t<ng-container *ngIf=\"config.isMainEnabled()\">\n\n\t\t\t\t\t<gui-tab-item class=\"gui-tab-item-dropdown\" [tab]=\"config.getMainMenu()\">\n\n\t\t\t\t\t\t<gui-structure-column-config-sort *ngIf=\"column.isSortEnabled()\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  [column]=\"column\">\n\t\t\t\t\t\t</gui-structure-column-config-sort>\n\n\t\t\t\t\t\t<gui-structure-column-config-column-hide\n\t\t\t\t\t\t\t\t[column]=\"column\">\n\t\t\t\t\t\t</gui-structure-column-config-column-hide>\n\n\t\t\t\t\t\t<gui-structure-column-config-column-move\n\t\t\t\t\t\t\t\t[column]=\"column\">\n\t\t\t\t\t\t</gui-structure-column-config-column-move>\n\n\t\t\t\t\t</gui-tab-item>\n\n\t\t\t\t</ng-container>\n\n\t\t\t\t<ng-container *ngIf=\"config.isFilteringEnabled()\">\n\n\t\t\t\t\t<gui-tab-item [tab]=\"config.getFilterMenu()\">\n\n\t\t\t\t\t\t<!--\t\t\t\t\t\t<div class=\"gui-header-menu-item\">{{config.getFilterMenu()}}</div>-->\n\n\t\t\t\t\t\t<gui-unique-value-list\n\t\t\t\t\t\t\t\t[fieldId]=\"column.getFieldId()\">\n\t\t\t\t\t\t</gui-unique-value-list>\n\n\t\t\t\t\t</gui-tab-item>\n\n\t\t\t\t</ng-container>\n\n\t\t\t\t<ng-container *ngIf=\"config.isColumnManagerEnabled()\">\n\n\t\t\t\t\t<gui-tab-item [tab]=\"config.getColumnMenu()\">\n\n\t\t\t\t\t\t<gui-structure-menu-column-manager>\n\t\t\t\t\t\t</gui-structure-menu-column-manager>\n\n\t\t\t\t\t</gui-tab-item>\n\n\t\t\t\t</ng-container>\n\n\t\t\t</gui-tab>\n\t\t</div>\n\t`\n})\nexport class StructureColumnConfigComponent extends SmartComponent implements OnInit {\n\n\t@ViewChild('headerSortMenu', { static: false })\n\theaderSortMenu: ElementRef;\n\n\tconfig: StructureColumnMenuConfig;\n\n\tuniqueValues: Array<any> = [];\n\n\tconstructor(private readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\tprivate readonly structureId: StructureId,\n\t\t\t\tprivate readonly structureCommandService: StructureCommandDispatcher,\n\t\t\t\tprivate readonly compositionReadModelService: CompositionWarehouse,\n\t\t\t\tprivate readonly filterWarehouse: FilterWarehouse,\n\t\t\t\tprivate readonly structureColumnMenuConfigArchive: StructureColumnMenuConfigArchive,\n\t\t\t\t@Inject('column') public readonly column: CellTemplateWithContext) {\n\t\tsuper();\n\t}\n\n\tngOnInit() {\n\n\t\tthis.filterWarehouse\n\t\t\t.onUniqueValues(this.structureId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((uniqueValuesReadModel: UniqueValuesReadModel) => {\n\t\t\t\tthis.uniqueValues = uniqueValuesReadModel.getValues(this.column.getFieldId());\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.structureColumnMenuConfigArchive\n\t\t\t.onValue()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((config: StructureColumnMenuConfig) => {\n\t\t\t\tthis.config = config;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.config && this.config.isEnabled();\n\t}\n}\n","import { ElementRef, Injectable, Injector } from '@angular/core';\n\nimport { FabricInlineDialogService, InlineDialogPlacement } from '@generic-ui/fabric';\n\nimport { StructureColumnConfigComponent } from './structure.column-config.component';\nimport { CellTemplateWithContext } from '../../../../composition/domain-api/read/definition/cell-template-with-context';\nimport { SchemaTheme } from '../../../../../schema/domain/theme/schema-theme';\nimport { Reactive } from '../../../../../common/cdk/reactive';\nimport { StructureThemeConverter } from '../../schema/structure.theme.converter';\nimport { SchemaWarehouse } from '../../../../../schema/domain-api/schema.warehouse';\n\n@Injectable()\nexport class StructureColumnConfigService extends Reactive {\n\n\tconstructor(private readonly injector: Injector,\n\t\t\t\tprivate readonly schemaReadModelRepository: SchemaWarehouse,\n\t\t\t\tprivate readonly structureThemeConverter: StructureThemeConverter,\n\t\t\t\tprivate readonly inlineDialogService: FabricInlineDialogService) {\n\t\tsuper();\n\t}\n\n\topen(elementRef: ElementRef, column: CellTemplateWithContext): void {\n\n\t\tconst injector = Injector.create({\n\t\t\tproviders: [{\n\t\t\t\tprovide: 'column', // TODO\n\t\t\t\tuseValue: column\n\t\t\t}],\n\t\t\tparent: this.injector\n\t\t});\n\n\t\tthis.schemaReadModelRepository\n\t\t\t.onSingleTheme()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((theme: SchemaTheme) => {\n\t\t\t\tthis.inlineDialogService.open(elementRef, StructureColumnConfigComponent, {\n\t\t\t\t\tinjector: injector,\n\t\t\t\t\tplacement: InlineDialogPlacement.Top,\n\t\t\t\t\toffset: -2,\n\t\t\t\t\ttheme: this.structureThemeConverter.convertTheme(theme),\n\t\t\t\t\tcustomClass: 'gui-inline-dialog-header-menu'\n\t\t\t\t});\n\t\t\t});\n\t}\n\n\tclose(): void {\n\t\tthis.inlineDialogService.close();\n\t}\n\n\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, Injector, Input, ViewEncapsulation } from '@angular/core';\n\nimport { CellTemplateWithContext } from '../../../../composition/domain-api/read/definition/cell-template-with-context';\nimport { StructureColumnConfigService } from '../menu/structure.column-config.service';\nimport { SortOrder } from '../../../../composition/domain/column/sort/sort-order';\nimport { SmartComponent } from '../../../../../common/cdk/smart-component';\nimport { SortingCommandDispatcher } from '../../../../../structure/sorting/domain-api/sorting.command-dispatcher';\nimport { CompositionId } from '../../../../composition/domain/composition.id';\nimport { StructureId } from '../../../domain/structure.id';\nimport { FormationCommandDispatcher } from '../../../../../structure/source/domain-api/formation/formation.command-dispatcher';\n\n\n@Component({\n\tselector: 'gui-structure-header-columns',\n\ttemplateUrl: './structure-header-columns.component.html',\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None,\n\tproviders: [\n\t\tStructureColumnConfigService\n\t]\n})\nexport class StructureHeaderColumnsComponent extends SmartComponent {\n\n\t@Input()\n\tcolumns: Array<CellTemplateWithContext>;\n\n\t@Input()\n\tcheckboxSelection: boolean = false;\n\n\tglobalSearching = false;\n\n\tconstructor(private readonly elementRef: ElementRef,\n\t\t\t\tprivate readonly injector: Injector,\n\t\t\t\tprivate readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\tprivate readonly compositionId: CompositionId,\n\t\t\t\tprivate readonly structureId: StructureId,\n\t\t\t\tprivate readonly formationCommandDispatcher: FormationCommandDispatcher,\n\t\t\t\tprivate readonly sortingCommandDispatcher: SortingCommandDispatcher) {\n\t\tsuper();\n\t}\n\n\ttoggleSort(column: CellTemplateWithContext): void {\n\n\t\tif (column.isSortEnabled()) {\n\t\t\tthis.sortingCommandDispatcher.toggleSort(column.getFieldId(), this.compositionId, this.structureId);\n\t\t}\n\t}\n\n\tisSortAsc(column: CellTemplateWithContext): boolean {\n\t\treturn column.getSortStatus() === SortOrder.ASC;\n\t}\n\n\tisSortDesc(column: CellTemplateWithContext): boolean {\n\t\treturn column.getSortStatus() === SortOrder.DESC;\n\t}\n\n\tisGlobalSortEnabled(): boolean {\n\t\treturn this.globalSearching;\n\t}\n\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, EventEmitter, Input, Output, ViewEncapsulation } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\n\nimport { FilterCommandDispatcher } from '../../../../../structure/filter/domain-api/filter.command-dispatcher';\nimport { StructureId } from '../../../domain/structure.id';\nimport { CellTemplateWithContext } from '../../../../composition/domain-api/read/definition/cell-template-with-context';\n\n\n@Component({\n\tselector: 'gui-structure-header-filters',\n\ttemplate: `\n\n\t\t<ng-container *ngIf=\"!filterMode\">\n\n\t\t\t<div *ngFor=\"let cell of columns\"\n\t\t\t\t [style.width.px]=\"cell.width\"\n\t\t\t\t class=\"gui-header-cell\">\n\n\t\t\t\t<!--\t\t\t\t<gui-structure-header-filter [column]=\"cell\">-->\n\t\t\t\t<!--\t\t\t\t</gui-structure-header-filter>-->\n\n\t\t\t\t<button (click)=\"turnOnFilterMode()\">Add Filter</button>\n\n\t\t\t</div>\n\n\t\t</ng-container>\n\n\t\t<ng-container *ngIf=\"filterMode\">\n\n\t\t\t<gui-select [options]=\"['has value', 'is the same as', 'starts with', 'ends with']\" [selected]=\"'has value'\">\n\n\t\t\t</gui-select>\n\n\t\t\t<form [formGroup]=\"filterForm\">\n\t\t\t\t<input type=\"text\" [formControlName]=\"filterFieldName\" gui-input/>\n\t\t\t</form>\n\n\t\t\t<button gui-button (click)=\"clearFilters()\">Clear All</button>\n\t\t\t<button gui-button (click)=\"turnOffFilterMode()\">Close</button>\n\n\t\t</ng-container>\n\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureHeaderFiltersComponent {\n\n\t@Input()\n\tcolumns: Array<CellTemplateWithContext>;\n\n\t@Output()\n\tclosed = new EventEmitter<void>();\n\n\treadonly filterFieldName = 'phrase';\n\n\tfilterForm: FormGroup;\n\n\tfilterMode: boolean = false;\n\n\tconstructor(private structureFilterCommandService: FilterCommandDispatcher,\n\t\t\t\tprivate formBuilder: FormBuilder,\n\t\t\t\tprivate cd: ChangeDetectorRef,\n\t\t\t\tprivate structureId: StructureId) {\n\t\tthis.filterForm = this.formBuilder.group({\n\t\t\t[this.filterFieldName]: ['']\n\t\t});\n\n\t}\n\n\tngOnInit() {\n\t\tthis.filterForm\n\t\t\t.valueChanges\n\t\t\t// .pipe(\n\t\t\t// debounceTime(500)\n\t\t\t// )\n\t\t\t.subscribe((f) => {\n\t\t\t\tthis.filter(f[this.filterFieldName]);\n\t\t\t});\n\t}\n\n\tfilter(phrase: string): void {\n\n\t\tif (phrase === undefined || phrase === null) {\n\t\t\tphrase = '';\n\t\t}\n\n\t\t// this.structureFilterCommandService.addFilter(this.columns[0].getFieldId(), '1', phrase, this.structureId);\n\t}\n\n\tclearFilters(): void {\n\t\tthis.filterForm.reset();\n\t}\n\n\tturnOnFilterMode(): void {\n\t\tthis.filterMode = true;\n\t\tthis.cd.detectChanges();\n\t}\n\n\tturnOffFilterMode(): void {\n\t\tthis.filterMode = false;\n\t\tthis.cd.detectChanges();\n\t}\n\n}\n","import {\n\tAfterViewInit,\n\tChangeDetectionStrategy,\n\tChangeDetectorRef,\n\tComponent,\n\tElementRef,\n\tOnInit,\n\tRenderer2,\n\tViewChild,\n\tViewEncapsulation\n} from '@angular/core';\n\nimport { DomainEventBus } from '@generic-ui/hermes';\n\nimport { SmartComponent } from '../../../../common/cdk/smart-component';\n\nimport { StructureHeaderColumnsComponent } from './columns/structure-header-columns.component';\nimport { CellTemplateWithContext } from '../../../composition/domain-api/read/definition/cell-template-with-context';\nimport { StructureId } from '../../domain/structure.id';\nimport { FilterWarehouse } from '../../../../structure/filter/domain-api/filter.warehouse';\nimport { CompositionWarehouse } from '../../../composition/domain-api/composition.warehouse';\nimport { StructureHeaderFiltersComponent } from './filters/structure-header-filters.component';\nimport { StructureWarehouse } from '../../domain-api/structure.warehouse';\nimport { StructureVerticalFormationWarehouse } from '../../domain-api/vertical-formation/structure-vertical-formation.warehouse';\nimport { RowSelectionType } from '../../../../structure/source/domain-api/row-selection';\nimport { RowSelectionTypeArchive } from '../../../../structure/source/domain-api/formation/type/row-selection-type.archive';\n\n\n@Component({\n\tselector: 'gui-structure-header',\n\ttemplateUrl: './structure-header.component.html',\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureHeaderComponent extends SmartComponent implements OnInit, AfterViewInit {\n\n\t@ViewChild(StructureHeaderColumnsComponent, { read: ElementRef, static: true })\n\tcontainerRef: ElementRef;\n\n\t@ViewChild(StructureHeaderFiltersComponent, { read: ElementRef, static: true })\n\tfiltersRef: ElementRef;\n\n\theaderColumns: Array<CellTemplateWithContext> = [];\n\n\tfilterRowEnabled: boolean = false;\n\n\tcheckboxSelection: boolean = false;\n\n\tconstructor(private readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\tprivate readonly renderer: Renderer2,\n\t\t\t\tprivate readonly eventBus: DomainEventBus,\n\t\t\t\tprivate readonly structureId: StructureId,\n\t\t\t\tprivate readonly structureFilterReadModelRepository: FilterWarehouse,\n\t\t\t\tprivate readonly structureWarehouse: StructureWarehouse,\n\t\t\t\tprivate readonly rowSelectionTypeArchive: RowSelectionTypeArchive,\n\t\t\t\tprivate readonly structureVerticalFormationWarehouse: StructureVerticalFormationWarehouse,\n\t\t\t\tprivate readonly compositionReadModelService: CompositionWarehouse) {\n\t\tsuper();\n\t}\n\n\tngOnInit() {\n\n\t\tthis.rowSelectionTypeArchive\n\t\t\t.onValue()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((type: RowSelectionType) => {\n\t\t\t\tthis.checkboxSelection = type === RowSelectionType.CHECKBOX;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.compositionReadModelService\n\t\t\t.onHeaderColumns()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((columns: Array<CellTemplateWithContext>) => {\n\t\t\t\tthis.headerColumns = columns;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.compositionReadModelService\n\t\t\t.onContainerWidth()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((width: number) => {\n\t\t\t\tthis.renderer.setStyle(this.containerRef.nativeElement, 'width', width + 'px');\n\t\t\t});\n\n\t\tthis.structureFilterReadModelRepository\n\t\t\t.onFilteringEnabled(this.structureId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((enabled: boolean) => {\n\n\t\t\t\tthis.filterRowEnabled = enabled;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\t}\n\n\tngAfterViewInit() {\n\t\tthis.structureVerticalFormationWarehouse\n\t\t\t.onRowHeight(this.structureId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((rowHeight: number) => {\n\n\t\t\t\tconst headerHeight = +(rowHeight) + 2;\n\n\t\t\t\t// if (this.containerRef) {\n\t\t\t\t// \tthis.renderer.setStyle(this.containerRef.nativeElement, 'height', headerHeight + 'px');\n\t\t\t\t// }\n\n\t\t\t\tif (this.filtersRef) {\n\t\t\t\t\tthis.renderer.setStyle(this.filtersRef.nativeElement, 'height', headerHeight + 'px');\n\t\t\t\t}\n\t\t\t});\n\t}\n\n}\n","import { ChangeDetectionStrategy, Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\n\nimport { SmartComponent } from '../../../../../common/cdk/smart-component';\n\nimport { CellTemplateWithContext } from '../../../../composition/domain-api/read/definition/cell-template-with-context';\nimport { ChangedValueEmitter } from '../../../../composition/domain-api/read/edit/changed-value.emitter';\nimport { FilterCommandDispatcher } from '../../../../../structure/filter/domain-api/filter.command-dispatcher';\nimport { StructureId } from '../../../domain/structure.id';\n\n\n@Component({\n\tselector: 'gui-structure-header-filter',\n\ttemplate: `\n\n\t\t<!--\t\t<ng-container-->\n\t\t<!--\t\t\t\t*ngTemplateOutlet=\"column.editTemplate; context: editContext\">-->\n\t\t<!--\t\t</ng-container>-->\n\n\t\t<button gui-button [primary]=\"true\">Add Filter</button>\n\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureHeaderFilterComponent extends SmartComponent implements OnInit {\n\n\t@Input()\n\tcolumn: CellTemplateWithContext;\n\n\tsub = new ChangedValueEmitter();\n\n\teditContext: any;\n\n\tconstructor(private structureFilterCommandService: FilterCommandDispatcher,\n\t\t\t\tprivate structureId: StructureId) {\n\t\tsuper();\n\n\t\tthis.editContext = {\n\t\t\tchanges: this.sub\n\t\t};\n\t}\n\n\tngOnInit() {\n\t\tthis.sub\n\t\t\t.on()\n\t\t\t.subscribe((phrase: string) => this.filter(phrase));\n\t}\n\n\tfilter(phrase: string): void {\n\t\t// this.structureFilterCommandService.addFilter(this.column.getFieldId(), '1', phrase, this.structureId);\n\t}\n\n}\n","import {\n\tChangeDetectionStrategy,\n\tChangeDetectorRef,\n\tComponent,\n\tElementRef,\n\tInject,\n\tInput,\n\tOnInit,\n\tPLATFORM_ID,\n\tRenderer2,\n\tViewEncapsulation\n} from '@angular/core';\nimport { isPlatformBrowser } from '@angular/common';\nimport { combineLatest } from 'rxjs';\n\nimport { SmartComponent } from '../../../../common/cdk/smart-component';\n\nimport { CellTemplateWithAccessor } from '../../../composition/domain-api/read/definition/cell-template-with-accessor';\nimport { FormationCommandDispatcher } from '../../../../structure/source/domain-api/formation/formation.command-dispatcher';\nimport { StructureCellEditArchive } from '../edit/structure.cell-edit.archive';\nimport { StructureEditModeArchive } from '../edit/structure.edit-mode.archive';\nimport { FormationWarehouse } from '../../../../structure/source/domain-api/formation/formation.warehouse';\nimport { ItemEntity } from '../../../../structure/source/domain/core/item/item.entity';\nimport { VerticalFormationRepository } from '../../domain-api/vertical-formation/vertical-formation.repository';\nimport { StructureWarehouse } from '../../domain-api/structure.warehouse';\nimport { StructureId } from '../../domain/structure.id';\nimport { SearchPhraseRepository } from '../../../../structure/search/domain-api/phrase/search-phrase.repository';\nimport { SearchHighlightArchive } from '../../../../structure/search/domain-api/highlight/search-highlight.archive';\nimport { StructureVerticalFormationWarehouse } from '../../domain-api/vertical-formation/structure-vertical-formation.warehouse';\nimport { RowSelectionTypeArchive } from '../../../../structure/source/domain-api/formation/type/row-selection-type.archive';\nimport { RowSelectionType } from '../../../../structure/source/domain-api/row-selection';\nimport { RowSelectToggleType } from '../../../../structure/source/domain/formation/core/row-select-toggle-type';\n\n\n@Component({\n\tselector: 'gui-structure-content',\n\ttemplateUrl: `structure-content.component.html`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureContentComponent extends SmartComponent implements OnInit {\n\n\t@Input()\n\tsource: Array<ItemEntity>;\n\n\t@Input()\n\tcolumns: Array<CellTemplateWithAccessor>;\n\n\teditMode = false;\n\n\tcellEditing = false;\n\n\trowHeight: number;\n\n\tsearchPhrase: string = '';\n\n\thighlighting: boolean = true;\n\n\tphrase: boolean = true;\n\n\trowDetailOpened = 4;\n\n\tcheckboxSelection: boolean = false;\n\n\tconstructor(@Inject(PLATFORM_ID) private readonly platformId: any,\n\t\t\t\tprivate readonly renderer: Renderer2,\n\t\t\t\tprivate readonly elementRef: ElementRef,\n\t\t\t\tprivate readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\tprivate readonly formationCommandService: FormationCommandDispatcher,\n\t\t\t\tprivate readonly structureCellEditArchive: StructureCellEditArchive,\n\t\t\t\tprivate readonly structureEditModeArchive: StructureEditModeArchive,\n\t\t\t\tprivate readonly formationWarehouse: FormationWarehouse,\n\t\t\t\tprivate readonly structureWarehouse: StructureWarehouse,\n\t\t\t\tprivate readonly structureVerticalFormationWarehouse: StructureVerticalFormationWarehouse,\n\t\t\t\tprivate readonly verticalFormationRepository: VerticalFormationRepository,\n\t\t\t\tprivate readonly structureId: StructureId, // REfactor\n\t\t\t\tprivate readonly rowSelectionTypeArchive: RowSelectionTypeArchive,\n\t\t\t\tprivate readonly structureSearchPhraseRepository: SearchPhraseRepository,\n\t\t\t\tprivate readonly structureSearchHighlightArchive: SearchHighlightArchive) {\n\t\tsuper();\n\t}\n\n\tngOnInit() {\n\n\t\tthis.rowSelectionTypeArchive\n\t\t\t.onValue()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((type: RowSelectionType) => {\n\t\t\t\tthis.checkboxSelection = type === RowSelectionType.CHECKBOX;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\t// this.formationWarehouse\n\t\t// \t.onRowSelectedReadModel()\n\t\t// \t.pipe(\n\t\t// \t\tfilter(() => !this.checkboxSelection),\n\t\t// \t\tthis.takeUntil()\n\t\t// \t)\n\t\t// \t.subscribe((rowSelected: RowSelectedReadModel) => {\n\t\t//\n\t\t// \t\tthis.clearSelectedRows();\n\t\t//\n\t\t// \t\trowSelected.getAll()\n\t\t// \t\t\t\t   .forEach((id: string) => {\n\t\t//\n\t\t// \t\t\t\t\t   const strippedId = 'gui' + id.replace(/-/g, ''),\n\t\t// \t\t\t\t\t\t   selectedRowEl = this.elementRef.nativeElement.querySelector(`#${strippedId}`);\n\t\t//\n\t\t// \t\t\t\t\t   if (selectedRowEl) {\n\t\t// \t\t\t\t\t\t   this.renderer.addClass(selectedRowEl, 'selected');\n\t\t// \t\t\t\t\t   }\n\t\t// \t\t\t\t   });\n\t\t// \t});\n\n\t\tthis.structureEditModeArchive\n\t\t\t.onValue()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((enabled: boolean) => {\n\t\t\t\tthis.editMode = enabled;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.structureCellEditArchive\n\t\t\t.onValue()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((enabled: boolean) => {\n\t\t\t\tthis.cellEditing = enabled;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.structureVerticalFormationWarehouse\n\t\t\t.onRowHeight(this.structureId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((rowHeight: number) => {\n\t\t\t\tthis.rowHeight = rowHeight;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tcombineLatest(\n\t\t\tthis.structureSearchPhraseRepository\n\t\t\t\t.onPhrase(this.structureId),\n\t\t\tthis.structureSearchHighlightArchive\n\t\t\t\t.onValue()\n\t\t).pipe(\n\t\t\tthis.takeUntil()\n\t\t )\n\t\t .subscribe((args: Array<any>) => {\n\n\t\t\t const searchPhrase = args[0],\n\t\t\t\t highlighting = args[1];\n\n\t\t\t this.highlighting = highlighting;\n\t\t\t this.searchPhrase = searchPhrase;\n\n\t\t\t if (!this.highlighting) {\n\t\t\t\t this.searchPhrase = '';\n\t\t\t }\n\n\t\t\t this.changeDetectorRef.detectChanges();\n\t\t });\n\t}\n\n\ttrackByFn() {\n\t\treturn 0;\n\t}\n\n\ttranslateY(index: number): string {\n\n\t\tlet height = index * this.rowHeight;\n\n\t\t// if (index > this.rowDetailOpened) {\n\t\t// \theight += 200;\n\t\t// }\n\n\t\treturn `translateY(${height}px)`;\n\t}\n\n\ttoggleSelectedRow(entity: ItemEntity): void {\n\t\tif (!this.checkboxSelection) {\n\t\t\tthis.formationCommandService.toggleSelectedRow(entity.getId(), RowSelectToggleType.NONE);\n\t\t}\n\t}\n\n\tprivate clearSelectedRows(): void {\n\t\tconst selectedElements = this.elementRef.nativeElement.querySelectorAll('.selected');\n\n\t\tif (isPlatformBrowser(this.platformId)) {\n\t\t\tselectedElements.forEach((el: any) => {\n\t\t\t\tthis.renderer.removeClass(el, 'selected');\n\t\t\t});\n\t\t}\n\n\t}\n\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, Input, OnInit, ViewEncapsulation, SimpleChanges, OnChanges, ElementRef, Renderer2 } from '@angular/core';\n\nimport { CellTemplateWithAccessor } from '../../../../composition/domain-api/read/definition/cell-template-with-accessor';\nimport { ItemEntity } from '../../../../../structure/source/domain/core/item/item.entity';\nimport { FormationCommandDispatcher } from '../../../../../structure/source/domain-api/formation/formation.command-dispatcher';\nimport { StructureId } from '../../../domain/structure.id';\nimport { RowSelectToggleType } from '../../../../../structure/source/domain/formation/core/row-select-toggle-type';\nimport { FormationWarehouse } from '../../../../../structure/source/domain-api/formation/formation.warehouse';\nimport { SmartComponent } from '../../../../../common/cdk/smart-component';\nimport { RowSelectedReadModel } from '../../../../../structure/source/domain-api/formation/row-selected.read-model';\n\n\n@Component({\n\tselector: 'gui-structure-row',\n\ttemplateUrl: `./structure-row.component.html`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureRowComponent extends SmartComponent implements OnChanges, OnInit {\n\n\t@Input()\n\tentity: ItemEntity;\n\n\t@Input()\n\tcolumns: Array<CellTemplateWithAccessor>;\n\n\t@Input()\n\teditMode: boolean;\n\n\t@Input()\n\tcellEditing: boolean;\n\n\t@Input()\n\tsearchPhrase: string;\n\n\t@Input()\n\tindex: number;\n\n\t@Input()\n\tdetailsEnabled: boolean = false;\n\n\t@Input()\n\tcheckboxSelection: boolean = false;\n\n\tselectedItem: boolean = false;\n\n\tprivate row: RowSelectedReadModel;\n\n\tconstructor(private readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\tprivate readonly elRef: ElementRef,\n\t\t\t\tprivate readonly renderer2: Renderer2,\n\t\t\t\tprivate readonly structureId: StructureId,\n\t\t\t\tprivate readonly formationWarehouse: FormationWarehouse,\n\t\t\t\tprivate readonly formationCommandDispatcher: FormationCommandDispatcher) {\n\t\tsuper();\n\t}\n\n\tngOnChanges(changes: SimpleChanges) {\n\t\tif (changes.entity !== undefined && changes.entity.currentValue !== undefined) {\n\t\t\tthis.checkSelectedItem();\n\t\t}\n\t}\n\n\tngOnInit() {\n\n\t\tthis.formationWarehouse\n\t\t\t.onRowSelectedReadModel(this.structureId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((row: RowSelectedReadModel) => {\n\t\t\t\tthis.row = row;\n\t\t\t\tlet prevValue = this.selectedItem;\n\n\t\t\t\tthis.checkSelectedItem();\n\n\t\t\t\tif (prevValue !== this.selectedItem) {\n\n\t\t\t\t\tif (prevValue) {\n\t\t\t\t\t\tthis.renderer2.removeClass(this.elRef.nativeElement, 'selected');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.renderer2.addClass(this.elRef.nativeElement, 'selected');\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\ttrackByFn(): number {\n\t\treturn 0;\n\t}\n\n\tselectRow(): void {\n\t\tevent.stopPropagation();\n\t\tthis.formationCommandDispatcher.toggleSelectedRow(this.entity.getId(), RowSelectToggleType.ADD, this.structureId);\n\t}\n\n\tcheckSelectedItem(): void {\n\t\tif (this.row) {\n\n\t\t\tlet prevValue = this.selectedItem;\n\n\t\t\tthis.selectedItem = this.row.isSelected(this.entity.getId());\n\n\t\t\tif (prevValue !== this.selectedItem) {\n\n\t\t\t\tif (prevValue) {\n\t\t\t\t\tthis.renderer2.removeClass(this.elRef.nativeElement, 'selected');\n\t\t\t\t} else {\n\t\t\t\t\tthis.renderer2.addClass(this.elRef.nativeElement, 'selected');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n}\n","import {\n\tChangeDetectionStrategy,\n\tChangeDetectorRef,\n\tComponent,\n\tElementRef,\n\tInput,\n\tOnChanges,\n\tSimpleChanges,\n\tViewEncapsulation\n} from '@angular/core';\nimport { timer } from 'rxjs';\n\nimport { SmartComponent } from '../../../../../common/cdk/smart-component';\n\nimport { CellTemplateWithAccessor } from '../../../../composition/domain-api/read/definition/cell-template-with-accessor';\nimport { StructureCellEditArchive } from '../../edit/structure.cell-edit.archive';\nimport { StructureCellEditStore } from '../../edit/structure.cell-edit.store';\nimport { SourceCommandDispatcher } from '../../../../../structure/source/domain-api/source.command-dispatcher';\nimport { ChangedValueEmitter } from '../../../../composition/domain-api/read/edit/changed-value.emitter';\nimport { EditEventType } from '../../../../composition/domain-api/read/edit/state/edit.event-type';\nimport { StructureEditSourceItemParams } from '../../../../../structure/source/domain/origin/edit/structure.edit-source-item.params';\nimport { StructureCellEditState } from '../../edit/structure.cell-edit.state';\nimport { ItemEntity } from '../../../../../structure/source/domain/core/item/item.entity';\nimport { StructureCellEditCloseAllService } from '../../edit/structure.cell-edit-close-all.service';\n\n\n@Component({\n\tselector: 'gui-structure-cell[entity][cell]',\n\ttemplateUrl: `structure.cell.component.html`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureCellComponent extends SmartComponent implements OnChanges {\n\n\t@Input()\n\tentity: ItemEntity;\n\n\t@Input()\n\tcell: CellTemplateWithAccessor;\n\n\t@Input()\n\teditMode: boolean;\n\n\t@Input()\n\tcellEditingEnabled: boolean;\n\n\t@Input()\n\tsearchPhrase: string;\n\n\tinEditMode: boolean = false;\n\n\teditContext: any;\n\n\tvalueChanges$: ChangedValueEmitter<any>;\n\n\tstatus$: ChangedValueEmitter<any>;\n\n\tactualValue: any;\n\n\tconstructor(private readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\tprivate readonly elementRef: ElementRef,\n\t\t\t\tprivate readonly structureCellEditArchive: StructureCellEditArchive,\n\t\t\t\tprivate readonly structureCellEditStore: StructureCellEditStore,\n\t\t\t\tprivate readonly cellEditCloseAllService: StructureCellEditCloseAllService,\n\t\t\t\tprivate readonly sourceCommandService: SourceCommandDispatcher) {\n\t\tsuper();\n\t}\n\n\tngOnChanges(changes: SimpleChanges) {\n\n\t\t// if (changes.editMode !== undefined) {\n\t\t// \tif (this.editMode) {\n\t\t// \t\tthis.cellEditingEnabled = true;\n\t\t// \t\tthis.enterEditMode(false);\n\t\t// \t} else if (!this.editMode) {\n\t\t// \t\tthis.exitEditMode();\n\t\t// \t}\n\t\t// }\n\t\t//\n\t\t// if (!this.editMode) {\n\t\t// \tthis.exitEditMode();\n\t\t// }\n\t}\n\n\tngAfterViewInit() {\n\t\tthis.cellEditCloseAllService\n\t\t\t.onCloseAll()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe(() => {\n\t\t\t\tthis.exitEditMode();\n\t\t\t});\n\t}\n\n\tisCellEditingEnabled(): boolean {\n\t\treturn this.cellEditingEnabled && this.cell.isCellEditingEnabled();\n\t}\n\n\tenterEditMode(forceCheck: boolean = true): void {\n\n\t\tif (!this.isCellEditingEnabled()) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.cellEditCloseAllService.closeAll();\n\n\t\ttimer(0)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe(() => {\n\t\t\t\tthis.inEditMode = true;\n\n\t\t\t\tthis.valueChanges$ = new ChangedValueEmitter();\n\t\t\t\tthis.status$ = new ChangedValueEmitter<EditEventType>();\n\n\t\t\t\tthis.editContext = {\n\t\t\t\t\tstatus: this.status$,\n\t\t\t\t\tvalueChanges: this.valueChanges$,\n\t\t\t\t\tvalue: this.cell.getValue(this.entity).value,\n\t\t\t\t\tfocus: forceCheck,\n\t\t\t\t\tparent: this.elementRef\n\t\t\t\t};\n\n\t\t\t\tthis.observeFieldStatus();\n\t\t\t\tthis.observeValueChanges();\n\n\t\t\t\tthis.publishEditEnter();\n\n\t\t\t\tif (!forceCheck) {\n\t\t\t\t\tthis.changeDetectorRef.markForCheck();\n\t\t\t\t} else {\n\t\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t\t}\n\t\t\t});\n\n\t}\n\n\texitEditMode(): void {\n\t\tthis.inEditMode = false;\n\t\tthis.changeDetectorRef.detectChanges();\n\t}\n\n\tsubmitChangesAndExit(): void {\n\n\t\tconst itemId = this.entity.getId(),\n\t\t\tupdatedValue = this.actualValue,\n\t\t\tfieldId = this.cell.columnFieldId;\n\n\t\tthis.sourceCommandService.editItem(new StructureEditSourceItemParams(itemId, fieldId, updatedValue));\n\n\t\tthis.exitEditMode();\n\t}\n\n\tprivate observeFieldStatus(): void {\n\n\t\tthis.status$\n\t\t\t.on()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((status: EditEventType) => {\n\n\t\t\t\tswitch (status) {\n\t\t\t\t\tcase EditEventType.SUBMIT:\n\t\t\t\t\t\tthis.submitChangesAndExit();\n\t\t\t\t\t\tthis.publishEditSubmit();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase EditEventType.CANCEL:\n\t\t\t\t\t\tthis.exitEditMode();\n\t\t\t\t\t\tthis.publishEditCancel();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tprivate observeValueChanges(): void {\n\n\t\tthis.valueChanges$\n\t\t\t.on()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((value: any) => {\n\t\t\t\tthis.actualValue = value;\n\t\t\t});\n\t}\n\n\tprivate publishEditState(state: StructureCellEditState): void {\n\t\tthis.structureCellEditStore.next(state);\n\t}\n\n\tprivate publishEditEnter(): void {\n\t\tthis.publishEditState(StructureCellEditState.ENTER);\n\t}\n\n\tprivate publishEditCancel(): void {\n\t\tthis.publishEditState(StructureCellEditState.CANCEL);\n\t}\n\n\tprivate publishEditSubmit(): void {\n\t\tthis.publishEditState(StructureCellEditState.SUBMIT);\n\t}\n}\n","import {\n\tAfterViewInit,\n\tChangeDetectionStrategy,\n\tChangeDetectorRef,\n\tComponent,\n\tElementRef,\n\tInject,\n\tNgZone,\n\tOnDestroy,\n\tOnInit,\n\tOptional,\n\tRenderer2,\n\tViewChild,\n\tViewEncapsulation\n} from '@angular/core';\nimport { fromEvent, Subject } from 'rxjs';\nimport { distinctUntilChanged, filter, map, takeUntil } from 'rxjs/operators';\n\nimport { ResizeDetector } from '@generic-ui/fabric';\n\nimport { SmartComponent } from '../../../../common/cdk/smart-component';\nimport { CellTemplateWithAccessor } from '../../../composition/domain-api/read/definition/cell-template-with-accessor';\nimport { SchemaRowColoring } from '../../../../schema/domain/coloring/schema-row-coloring';\nimport { StructureId } from '../../domain/structure.id';\nimport { StructureCommandDispatcher } from '../../domain-api/structure.command-dispatcher';\nimport { StructureWarehouse } from '../../domain-api/structure.warehouse';\nimport { SourceWarehouse } from '../../../../structure/source/domain-api/source.warehouse';\nimport { CompositionCommandDispatcher } from '../../../composition/domain-api/composition.command-dispatcher';\nimport { CompositionWarehouse } from '../../../composition/domain-api/composition.warehouse';\nimport { FormationWarehouse } from '../../../../structure/source/domain-api/formation/formation.warehouse';\nimport { structureParentComponent } from '../structure-parent-component';\nimport { StructureReadModelRoot } from '../../domain-api/read/structure.read-model-root';\nimport { ItemEntity } from '../../../../structure/source/domain/core/item/item.entity';\nimport { StructureVerticalFormationWarehouse } from '../../domain-api/vertical-formation/structure-vertical-formation.warehouse';\n\n\n@Component({\n\tselector: 'gui-structure-container',\n\ttemplateUrl: `structure-container.component.html`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureContainerComponent extends SmartComponent implements OnInit, AfterViewInit, OnDestroy {\n\n\t@ViewChild('sourceCollection', { static: false })\n\tsourceCollectionRef: ElementRef;\n\n\tcolumns: Array<CellTemplateWithAccessor> = [];\n\n\tsource: Array<ItemEntity> = [];\n\n\theight: number;\n\n\trowColoring: SchemaRowColoring;\n\n\tprivate autoResizeWidthEnabled: boolean = false;\n\n\tprivate scrollObservation$ = new Subject();\n\n\tconstructor(private readonly elementRef: ElementRef,\n\t\t\t\tprivate readonly renderer: Renderer2,\n\t\t\t\tprivate readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\tprivate readonly ngZone: NgZone,\n\t\t\t\tprivate readonly structureId: StructureId,\n\t\t\t\tprivate readonly structureCommandService: StructureCommandDispatcher,\n\t\t\t\tprivate readonly structureReadModelWarehouse: StructureWarehouse,\n\t\t\t\tprivate readonly structureVerticalFormationWarehouse: StructureVerticalFormationWarehouse,\n\t\t\t\tprivate readonly structureSourceWarehouse: SourceWarehouse,\n\t\t\t\tprivate readonly compositionCommandService: CompositionCommandDispatcher,\n\t\t\t\tprivate readonly compositionWarehouse: CompositionWarehouse,\n\t\t\t\tprivate readonly structureFormationWarehouse: FormationWarehouse,\n\t\t\t\tprivate readonly resizeDetector: ResizeDetector,\n\t\t\t\t@Optional() @Inject(structureParentComponent) private readonly structureParent: any) {\n\t\tsuper();\n\t}\n\n\tngOnInit() {\n\n\t\tthis.structureVerticalFormationWarehouse\n\t\t\t.onContainerHeight(this.structureId)\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((containerHeight: number) => {\n\t\t\t\tthis.setContainerHeight(containerHeight);\n\t\t\t});\n\n\t\tthis.structureSourceWarehouse\n\t\t\t.onEntities()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((source: Array<ItemEntity>) => {\n\t\t\t\tthis.source = source;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.compositionWarehouse\n\t\t\t.onTemplateColumns()\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((columns: Array<CellTemplateWithAccessor>) => {\n\t\t\t\tthis.columns = columns;\n\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.compositionWarehouse\n\t\t\t.onResizeWidth()\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((enabled: boolean) => {\n\t\t\t\tthis.autoResizeWidthEnabled = enabled;\n\t\t\t});\n\t}\n\n\tngAfterViewInit() {\n\n\t\t// turn on when structure is ready\n\t\tif (this.structureParent) {\n\t\t\tthis.resizeDetector\n\t\t\t\t.observe(this.structureParent.getElementRef().nativeElement)\n\t\t\t\t.pipe(\n\t\t\t\t\tfilter(() => this.autoResizeWidthEnabled),\n\t\t\t\t\tmap((element: HTMLElement) => element.offsetWidth),\n\t\t\t\t\tdistinctUntilChanged(),\n\t\t\t\t\tthis.takeUntil()\n\t\t\t\t)\n\t\t\t\t.subscribe((width: number) => {\n\t\t\t\t\tthis.recalculateContainer(width);\n\t\t\t\t});\n\t\t}\n\n\t\tthis.compositionWarehouse\n\t\t\t.onContainerWidth()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((width: number) => {\n\t\t\t\tthis.renderer.setStyle(this.sourceCollectionRef.nativeElement, 'width', width + 'px');\n\t\t\t});\n\n\t\tthis.structureVerticalFormationWarehouse\n\t\t\t.onVerticalScrollEnabled(this.structureId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((enabled: boolean) => {\n\t\t\t\tif (enabled) {\n\t\t\t\t\tthis.enableScrollObservation();\n\t\t\t\t} else {\n\t\t\t\t\tthis.disableScrollObservation();\n\t\t\t\t}\n\t\t\t});\n\n\t\tthis.structureReadModelWarehouse\n\t\t\t.onStructure()\n\t\t\t.pipe(\n\t\t\t\tfilter((str: StructureReadModelRoot) => {\n\t\t\t\t\treturn str.isVerticalScrollEnabled();\n\t\t\t\t}),\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((structure: StructureReadModelRoot) => {\n\n\t\t\t\tconst topMargin = structure.getTopMargin(),\n\t\t\t\t\tsourceHeight = structure.getSourceHeight();\n\n\t\t\t\tthis.setSourceHeight(topMargin, sourceHeight);\n\t\t\t});\n\t}\n\n\tngOnDestroy() {\n\t\tsuper.ngOnDestroy();\n\t\tthis.resizeDetector.destroy(this.elementRef.nativeElement);\n\t}\n\n\tprivate setContainerHeight(height: number): void {\n\t\tthis.height = height;\n\t\tthis.renderer.setStyle(this.elementRef.nativeElement, 'height', this.height + 'px');\n\t}\n\n\tprivate setSourceHeight(topMargin: number, sourceHeight: number): void {\n\t\tthis.renderer.setStyle(this.sourceCollectionRef.nativeElement, 'padding-top', topMargin + 'px');\n\t\tthis.renderer.setStyle(this.sourceCollectionRef.nativeElement, 'height', sourceHeight + 'px');\n\t}\n\n\tprivate recalculateContainer(width: number): void {\n\t\tif (this.autoResizeWidthEnabled) {\n\t\t\tthis.compositionCommandService.setContainerWidth(width);\n\t\t}\n\t}\n\n\tprivate enableScrollObservation(): void {\n\t\tthis.ngZone\n\t\t\t.runOutsideAngular(() => {\n\n\t\t\t\tfromEvent(this.elementRef.nativeElement, 'scroll')\n\t\t\t\t\t.pipe(\n\t\t\t\t\t\t// auditTime(10),\n\t\t\t\t\t\ttakeUntil(this.scrollObservation$),\n\t\t\t\t\t\tthis.takeUntil()\n\t\t\t\t\t)\n\t\t\t\t\t.subscribe((event: any) => {\n\n\t\t\t\t\t\tconst scrollTop = event.target.scrollTop;\n\n\t\t\t\t\t\tthis.structureCommandService.setScrollPosition(scrollTop);\n\t\t\t\t\t});\n\t\t\t});\n\t}\n\n\tprivate disableScrollObservation(): void {\n\t\tthis.scrollObservation$.next();\n\t\tthis.scrollObservation$.complete();\n\t}\n\n}\n","import { Component } from '@angular/core';\n\n@Component({\n\tselector: 'gui-structure-quick-fitlers',\n\ttemplate: `\n\n\t\tQuickFilters\n\n\t`\n})\nexport class StructureQuickFiltersComponent {\n}\n","import { InjectionToken } from '@angular/core';\n\nconst prefix = 'Structure -';\n\nexport const STRUCTURE_CSS_CLASS_NAME = new InjectionToken<string>(`${prefix} - css className`);\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, Inject, ViewEncapsulation } from '@angular/core';\n\nimport { SmartComponent } from '../../../../common/cdk/smart-component';\nimport { StructureReadModelRoot } from '../../domain-api/read/structure.read-model-root';\nimport { Paging } from '../../../../structure/paging/domain-api/read/paging';\nimport { StructureDefinition } from '../structure-definition';\nimport { StructureId } from '../../domain/structure.id';\nimport { StructureWarehouse } from '../../domain-api/structure.warehouse';\nimport { PagingWarehouse } from '../../../../structure/paging/domain-api/paging.warehouse';\nimport { StructureInfoPanelArchive } from '../panel/info/structure.info-panel.archive';\nimport { StructureSummariesArchive } from '../panel/summaries/structure.summaries.archive';\nimport { FilterWarehouse } from '../../../../structure/filter/domain-api/filter.warehouse';\nimport { SearchWarehouse } from '../../../../structure/search/domain-api/search.warehouse';\nimport { STRUCTURE_CSS_CLASS_NAME } from '../../domain-api/structure-tokens';\nimport { StructureSummariesPanelConfig } from '../panel/summaries/structure.summaries-panel.config';\nimport { StructureHeaderTopEnabledArchive } from '../header/structure-header-top-enabled.archive';\nimport { StructureHeaderBottomEnabledArchive } from '../header/structure-header-bottom-enabled.archive';\nimport { StructureTitlePanelConfigArchive } from '../panel/title-panel/structure.title-panel.config-archive';\nimport { StructureFooterPanelConfigArchive } from '../panel/footer-panel/structure.footer-panel.config-archive';\nimport { TitlePanelConfig } from '../panel/title-panel/title-panel.config';\nimport { FooterPanelConfig } from '../panel/footer-panel/footer-panel.config';\nimport { StructureInfoPanelConfig } from '../panel/info/structure.info-panel.config';\n\n\n@Component({\n\tselector: 'gui-structure-blueprint',\n\ttemplateUrl: `structure.blueprint.component.html`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureBlueprintComponent extends SmartComponent {\n\n\tstructure: StructureReadModelRoot;\n\n\tsearchEnabled: boolean = false;\n\n\ttopSummariesPanelEnabled: boolean = false;\n\n\tbottomSummariesPanelEnabled: boolean = false;\n\n\tquickFiltersEnabled: boolean = false;\n\n\tinfoPanelEnabled: boolean = false;\n\n\treadonly contentCssClass: string;\n\n\treadonly headerCssClass: string;\n\n\ttopHeaderEnabled: boolean;\n\n\tbottomHeaderEnabled: boolean;\n\n\tprivate pagingReadModel: Paging;\n\n\ttitlePanelEnabled: boolean;\n\n\tfooterPanelEnabled: boolean;\n\n\titems: Array<any> = [];\n\n\tconstructor(private readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\tprivate readonly structureDefinition: StructureDefinition,\n\t\t\t\tprivate readonly structureId: StructureId,\n\t\t\t\tprivate readonly structureReadModelService: StructureWarehouse,\n\t\t\t\tprivate readonly structureInfoPanelEnabledArchive: StructureInfoPanelArchive,\n\t\t\t\tprivate readonly pagingReadModelService: PagingWarehouse,\n\t\t\t\tprivate readonly structureSummariesArchive: StructureSummariesArchive,\n\t\t\t\tprivate readonly structureFilterReadModelRepository: FilterWarehouse,\n\t\t\t\tprivate readonly structureSearchReadModelRepository: SearchWarehouse,\n\t\t\t\tprivate readonly structureHeaderTopEnabledArchive: StructureHeaderTopEnabledArchive,\n\t\t\t\tprivate readonly structureHeaderBottomEnabledArchive: StructureHeaderBottomEnabledArchive,\n\t\t\t\tprivate readonly structureTitlePanelConfigArchive: StructureTitlePanelConfigArchive,\n\t\t\t\tprivate readonly structureFooterPanelConfigArchive: StructureFooterPanelConfigArchive,\n\t\t\t\t@Inject(STRUCTURE_CSS_CLASS_NAME) private className: string) {\n\t\tsuper();\n\n\t\tthis.headerCssClass = `gui-${this.className}-header`;\n\t\tthis.contentCssClass = `gui-${this.className}-content`;\n\t}\n\n\tngOnInit() {\n\n\t\tthis.structureHeaderTopEnabledArchive\n\t\t\t.onValue()\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((topHeaderEnabled: boolean) => {\n\t\t\t\tthis.topHeaderEnabled = topHeaderEnabled;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.structureHeaderBottomEnabledArchive\n\t\t\t.onValue()\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((bottomHeaderEnabled: boolean) => {\n\t\t\t\tthis.bottomHeaderEnabled = bottomHeaderEnabled;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.structureReadModelService\n\t\t\t.onStructure()\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((structure: StructureReadModelRoot) => {\n\t\t\t\tthis.structure = structure;\n\t\t\t\tthis.items = structure.getEntities();\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.pagingReadModelService\n\t\t\t.onPaging()\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((paging: Paging) => {\n\t\t\t\tthis.pagingReadModel = paging;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.structureSearchReadModelRepository\n\t\t\t.onSearchEnabled(this.structureId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((enabled: boolean) => {\n\t\t\t\tthis.searchEnabled = enabled;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\n\t\tthis.structureFilterReadModelRepository\n\t\t\t.onQuickFiltersEnabled(this.structureId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((enabled: boolean) => {\n\t\t\t\tthis.quickFiltersEnabled = enabled;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.structureSummariesArchive\n\t\t\t.onValue()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((config: StructureSummariesPanelConfig) => {\n\t\t\t\tthis.topSummariesPanelEnabled = config.itTopEnabled();\n\t\t\t\tthis.bottomSummariesPanelEnabled = config.itBottomEnabled();\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.structureInfoPanelEnabledArchive\n\t\t\t.onValue()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((infoPanel: StructureInfoPanelConfig) => {\n\t\t\t\tthis.infoPanelEnabled = infoPanel.isEnabled();\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.structureTitlePanelConfigArchive\n\t\t\t.onValue()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((titlePanel: TitlePanelConfig) => {\n\t\t\t\tthis.titlePanelEnabled = titlePanel.enabled;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.structureFooterPanelConfigArchive\n\t\t\t.onValue()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((footerPanel: FooterPanelConfig) => {\n\t\t\t\tthis.footerPanelEnabled = footerPanel.enabled;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\t}\n\n\tgetHeaderTopClasses(): string {\n\t\treturn this.headerCssClass + ' gui-header-top';\n\t}\n\n\tgetHeaderBottomClasses(): string {\n\t\treturn this.headerCssClass + ' gui-header-bottom';\n\t}\n\n\tisColumnHeaderTopEnabled(): boolean {\n\t\treturn this.structureDefinition.isHeaderEnabled() && this.topHeaderEnabled;\n\t}\n\n\tisColumnHeaderBottomEnabled(): boolean {\n\t\treturn this.structureDefinition.isHeaderEnabled() && this.bottomHeaderEnabled;\n\t}\n\n\tisPagingTopEnabled(): boolean {\n\t\treturn this.structureDefinition.getTopPaging().isEnabled() && this.pagingReadModel && this.pagingReadModel.isPagerTop();\n\t}\n\n\tisPagingBottomEnabled(): boolean {\n\t\treturn this.structureDefinition.getBottomPaging().isEnabled() && this.pagingReadModel && this.pagingReadModel.isPagerBottom();\n\t}\n\n\tisSourceEmpty(): boolean {\n\t\treturn this.structure && this.structure.getEntities().length === 0;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateStoreRegister, InMemoryAggregateStore } from '@generic-ui/hermes';\n\nimport { StructureAggregate } from '../../../domain/structure/structure.aggregate';\nimport { InMemoryStructureStore } from '../in-memory.structure.store';\nimport { StructureId } from '../../../domain/structure.id';\n\n\n@Injectable()\nexport class InMemoryStructureAggregateStore extends InMemoryAggregateStore<StructureId, StructureAggregate> {\n\n\tconstructor(inMemoryStructureStore: InMemoryStructureStore,\n\t\t\t\taggregateStoreRegister: AggregateStoreRegister) {\n\t\tsuper(inMemoryStructureStore, aggregateStoreRegister);\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { Optional } from '@generic-ui/hermes';\n\nimport { StructureAggregateRepository } from '../../../domain/structure/structure-aggregate.repository';\nimport { StructureAggregate } from '../../../domain/structure/structure.aggregate';\n\nimport { InMemoryStructureAggregateStore } from './in-memory.structure.aggregate-store';\nimport { StructureId } from '../../../domain/structure.id';\n\n\n@Injectable()\nexport class InMemoryStructureAggregateRepository extends StructureAggregateRepository {\n\n\tconstructor(private inMemoryStructureAggregateStore: InMemoryStructureAggregateStore) {\n\t\tsuper();\n\t}\n\n\tgetById(aggregateId: StructureId): Optional<StructureAggregate> {\n\t\treturn this.inMemoryStructureAggregateStore.getById(aggregateId);\n\t}\n\n\tsave(aggregate: StructureAggregate): void {\n\t\tthis.inMemoryStructureAggregateStore.save(aggregate);\n\t}\n\n}\n","import { DomainEvent } from '@generic-ui/hermes';\nimport { StructureId } from '../../../../../lib/structure/domain/structure.id';\n\nexport class SelectionEnabledSetEvent extends DomainEvent<StructureId> {\n\n\tconstructor(aggregateId: StructureId,\n\t\t\t\tprivate readonly enabled: boolean) {\n\t\tsuper(aggregateId, 'SelectionEnabledSetEvent');\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\n\nexport class FilterToggledEvent extends DomainEvent<StructureId> {\n\n\tconstructor(aggregateId: StructureId) {\n\t\tsuper(aggregateId, 'FilterToggledEvent');\n\t}\n\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../lib/structure/domain/structure.id';\nimport { FieldId } from '../../../../field/domain/core/field/field.id';\nimport { FilterTypeId } from '../../type/filter-type.id';\n\n\nexport class FilterAddedEvent extends DomainEvent<StructureId> {\n\n\tconstructor(aggregateId: StructureId,\n\t\t\t\tprivate readonly fieldId: FieldId,\n\t\t\t\tprivate readonly filterTypeId: FilterTypeId,\n\t\t\t\tprivate readonly value: any) {\n\t\tsuper(aggregateId, 'FilterAddedEvent');\n\t}\n\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\nimport { ActiveFilterReadModel } from '../../domain-api/active/active-filter.read-model';\n\nexport class ActiveFiltersSetEvent extends DomainEvent<StructureId> {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly filters: ReadonlyArray<ActiveFilterReadModel>) {\n\t\tsuper(structureId, 'ActiveFiltersSetEvent');\n\t}\n\n\tgetFilters(): ReadonlyArray<any> {\n\t\treturn this.filters;\n\t}\n\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../lib/structure/domain/structure.id';\n\n\nexport class UniqueFilterSelectedEvent extends DomainEvent<StructureId> {\n\n\tconstructor(aggregateId: StructureId) {\n\t\tsuper(aggregateId, 'UniqueFilterSelectedEvent');\n\t}\n\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../lib/structure/domain/structure.id';\n\n\nexport class AllUniqueFilterSelectedEvent extends DomainEvent<StructureId> {\n\n\tconstructor(aggregateId: StructureId) {\n\t\tsuper(aggregateId, 'AllUniqueFilterSelectedEvent');\n\t}\n\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../lib/structure/domain/structure.id';\n\n\nexport class UniqueFilterUnselectedEvent extends DomainEvent<StructureId> {\n\n\tconstructor(aggregateId: StructureId) {\n\t\tsuper(aggregateId, 'UniqueFilterUnselectedEvent');\n\t}\n\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../lib/structure/domain/structure.id';\n\n\nexport class AllUniqueFilterUnselectedEvent extends DomainEvent<StructureId> {\n\n\tconstructor(aggregateId: StructureId) {\n\t\tsuper(aggregateId, 'AllUniqueFilterUnselectedEvent');\n\t}\n\n}\n","import { Injectable, OnDestroy } from '@angular/core';\nimport { Observable, ReplaySubject } from 'rxjs';\nimport { filter, map } from 'rxjs/operators';\n\nimport { AggregateId, DomainEvent, DomainEventBus } from '@generic-ui/hermes';\n\nimport { StructureReadModelRepository } from '../../../domain-api/read/structure.read-model-repository';\nimport { StructureReadModelRoot } from '../../../domain-api/read/structure.read-model-root';\nimport { InMemoryStructureReadStore } from './in-memory-structure.read-store';\nimport { StructureCreatedEvent } from '../../../domain/structure/create-structure/structure-created.event';\nimport { SetSourceLoadingEvent } from '../../../../../structure/source/domain/loading/set-source-loading.event';\nimport { PagingSetEvent } from '../../../../../structure/paging/domain/set/paging-set.event';\nimport { PrevPageEvent } from '../../../../../structure/paging/domain/prev-page/prev-page.event';\nimport { NextPageEvent } from '../../../../../structure/paging/domain/next-page/next-page.event';\nimport { PagesizeChangedEvent } from '../../../../../structure/paging/domain/change-pagesize/pagesize-changed.event';\nimport { SelectionEnabledSetEvent } from '../../../../../structure/source/domain/formation/set-enabled/selection-enabled-set.event';\nimport { VerticalScrollEnabledSetEvent } from '../../../domain/structure/vertical-formation/set-enabled/vertical-scroll-enabled-set.event';\nimport { ScrollPositionSetEvent } from '../../../domain/structure/vertical-formation/scroll-position/scroll-position-set.event';\nimport { SortToggledEvent } from '../../../../../structure/sorting/domain/toggle/sort-toggled.event';\nimport { OriginSetEvent } from '../../../../../structure/source/domain/origin/set-origin/origin-set.event';\nimport { FilterToggledEvent } from '../../../../../structure/filter/domain/toggle/filter-toggled.event';\nimport { SearchPhraseSetDomainEvent } from '../../../../../structure/search/domain/set-phrase/search-phrase-set.domain-event';\nimport { SortOrderSetEvent } from '../../../../../structure/sorting/domain/order/sort-order-set.event';\nimport { RowHeightSetEvent } from '../../../domain/structure/vertical-formation/set-row-height/row-height-set.event';\nimport { StructureHeightSetEvent } from '../../../domain/structure/vertical-formation/container/set-height/structure-height-set.event';\nimport { RowHeightSetBasedOnThemeEvent } from '../../../domain/structure/vertical-formation/set-row-height-theme/row-height-set-based-on-theme.event';\nimport { StructureId } from '../../../domain/structure.id';\nimport { FilterAddedEvent } from '../../../../../structure/filter/domain/core/add/filter-added.event';\nimport { ActiveFiltersSetEvent } from '../../../../../structure/filter/domain/core/active-filters-set.event';\nimport { UniqueFilterSelectedEvent } from '../../../../../structure/filter/domain/unique/select/unique-filter-selected.event';\nimport { AllUniqueFilterSelectedEvent } from '../../../../../structure/filter/domain/unique/select-all/all-unique-filter-selected.event';\nimport { UniqueFilterUnselectedEvent } from '../../../../../structure/filter/domain/unique/unselect/unique-filter-unselected.event';\nimport { AllUniqueFilterUnselectedEvent } from '../../../../../structure/filter/domain/unique/unselect-all/all-unique-filter-unselected.event';\n\n\n@Injectable()\nexport class InMemoryStructureRepository extends StructureReadModelRepository implements OnDestroy {\n\n\tprivate readonly structureIdToStructure = new Map<string, StructureReadModelRoot>();\n\n\tprivate readonly structure$ = new ReplaySubject<Map<string, StructureReadModelRoot>>(1);\n\n\tconstructor(domainEventBus: DomainEventBus,\n\t\t\t\tprivate inMemoryStructureReadStore: InMemoryStructureReadStore) {\n\t\tsuper(domainEventBus);\n\t}\n\n\tgetStructure(aggregateId: AggregateId): StructureReadModelRoot {\n\t\treturn this.structureIdToStructure.get(aggregateId.getId());\n\t}\n\n\tonStructure(aggregateId: AggregateId): Observable<StructureReadModelRoot> {\n\n\t\treturn this.structure$\n\t\t\t\t   .asObservable()\n\t\t\t\t   .pipe(\n\t\t\t\t\t   filter((structureIdToStructure: Map<string, StructureReadModelRoot>) => {\n\n\t\t\t\t\t\t   const key = aggregateId.getId();\n\n\t\t\t\t\t\t   return structureIdToStructure.has(key);\n\t\t\t\t\t   }),\n\t\t\t\t\t   map((structureIdToStructure: Map<string, StructureReadModelRoot>) => structureIdToStructure.get(aggregateId.getId()))\n\t\t\t\t   );\n\t}\n\n\tprotected forEvents(): Array<typeof DomainEvent> {\n\t\treturn [\n\t\t\tStructureCreatedEvent,\n\t\t\tSetSourceLoadingEvent,\n\t\t\tPagingSetEvent,\n\t\t\tPrevPageEvent,\n\t\t\tNextPageEvent,\n\t\t\tPagesizeChangedEvent,\n\t\t\tSelectionEnabledSetEvent,\n\t\t\tVerticalScrollEnabledSetEvent,\n\t\t\tScrollPositionSetEvent,\n\t\t\tSortToggledEvent as any,\n\t\t\tFilterToggledEvent,\n\t\t\tSearchPhraseSetDomainEvent,\n\t\t\tSortOrderSetEvent as any,\n\t\t\tOriginSetEvent as any,\n\t\t\tRowHeightSetEvent,\n\t\t\tStructureHeightSetEvent,\n\t\t\tRowHeightSetBasedOnThemeEvent,\n\t\t\tFilterAddedEvent,\n\t\t\tActiveFiltersSetEvent,\n\t\t\tUniqueFilterSelectedEvent,\n\t\t\tAllUniqueFilterSelectedEvent,\n\t\t\tUniqueFilterUnselectedEvent,\n\t\t\tAllUniqueFilterUnselectedEvent\n\t\t];\n\t}\n\n\tprotected subs(event: DomainEvent<StructureId>): void {\n\n\t\tconst aggregateId = event.getAggregateId();\n\n\t\tconst optStructure = this.inMemoryStructureReadStore.getById(aggregateId);\n\n\t\toptStructure.ifPresent((structureReadModelRoot: StructureReadModelRoot) => {\n\n\t\t\tconst key = structureReadModelRoot.getId().toString();\n\n\t\t\tthis.structureIdToStructure.set(key, structureReadModelRoot);\n\n\t\t\tthis.structure$.next(this.structureIdToStructure);\n\t\t});\n\t}\n\n}\n","import { InMemoryStructureAggregateStore } from './domain/in-memory.structure.aggregate-store';\n\nimport { InMemoryStructureAggregateRepository } from './domain/in-memory.structure-aggregate.repository';\nimport { StructureAggregateRepository } from '../../domain/structure/structure-aggregate.repository';\nimport { InMemoryStructureReadStore } from './domain-api/in-memory-structure.read-store';\nimport { StructureReadModelRepository } from '../../domain-api/read/structure.read-model-repository';\nimport { InMemoryStructureRepository } from './domain-api/in-memory.structure.repository';\nimport { InMemoryStructureStore } from './in-memory.structure.store';\n\nexport const inMemoryStructureCommandProviders = [\n\tInMemoryStructureAggregateStore,\n\t{\n\t\tprovide: StructureAggregateRepository,\n\t\tuseClass: InMemoryStructureAggregateRepository\n\t}\n];\n\nexport const inMemoryStructureReadProviders = [\n\tInMemoryStructureReadStore,\n\t{\n\t\tprovide: StructureReadModelRepository,\n\t\tuseClass: InMemoryStructureRepository\n\t}\n];\n\nexport const inMemoryStructureProviders = [\n\tInMemoryStructureStore\n];\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { SetVerticalScrollEnabledCommand } from './set-vertical-scroll-enabled.command';\nimport { VerticalScrollEnabledSetEvent } from './vertical-scroll-enabled-set.event';\nimport { StructureAggregate } from '../../structure.aggregate';\n\n\n@Injectable()\nexport class SetVerticalScrollEnabledCommandHandler implements CommandHandler<StructureAggregate, SetVerticalScrollEnabledCommand> {\n\n\tconstructor(private readonly domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SetVerticalScrollEnabledCommand> {\n\t\treturn SetVerticalScrollEnabledCommand;\n\t}\n\n\tpublishDomainEvents(aggregate: StructureAggregate, command: SetVerticalScrollEnabledCommand): void {\n\t\tthis.domainEventPublisher.publish(new VerticalScrollEnabledSetEvent(command.getAggregateId()));\n\t}\n\n\thandleAggregate(structure: StructureAggregate, command: SetVerticalScrollEnabledCommand): void {\n\n\t\tconst enabled = command.isEnabled();\n\n\t\tstructure.setVerticalFormationEnabled(enabled);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\nimport { SetScrollPositionCommand } from './set-scroll-position.command';\nimport { ScrollPositionSetEvent } from './scroll-position-set.event';\nimport { StructureAggregate } from '../../structure.aggregate';\n\n\n@Injectable()\nexport class SetScrollPositionCommandHandler implements CommandHandler<StructureAggregate, SetScrollPositionCommand> {\n\n\tconstructor(private readonly domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SetScrollPositionCommand> {\n\t\treturn SetScrollPositionCommand;\n\t}\n\n\tpublishDomainEvents(aggregate: StructureAggregate, command: SetScrollPositionCommand): void {\n\t\tthis.domainEventPublisher.publish(new ScrollPositionSetEvent(command.getAggregateId()));\n\t}\n\n\thandleAggregate(structure: StructureAggregate, command: SetScrollPositionCommand): void {\n\n\t\tconst position = command.getPosition();\n\n\t\tstructure.setScrollPosition(position);\n\t}\n\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../structure.id';\n\nexport const StructureSummariesEnabledSetEventName = 'StructureSummariesEnabledSetEvent';\n\nexport class StructureSummariesEnabledSetEvent extends DomainEvent<StructureId> {\n\n\tconstructor(aggregateId: StructureId,\n\t\t\t\tprivate readonly enabled: boolean) {\n\t\tsuper(aggregateId, StructureSummariesEnabledSetEventName);\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { SourceDomainEventPublisher } from '../../../../../../structure/source/domain/source.domain-event.publisher';\nimport { StructureSetSummariesEnabledCommand } from './structure.set-summaries-enabled.command';\nimport { StructureSummariesEnabledSetEvent } from './structure.summaries-enabled-set.event';\nimport { StructureAggregate } from '../../structure.aggregate';\n\n\n@Injectable()\nexport class StructureSetSummariesEnabledCommandHandler implements CommandHandler<StructureAggregate, StructureSetSummariesEnabledCommand> {\n\n\tconstructor(private readonly structureSourceDomainEventPublisher: SourceDomainEventPublisher,\n\t\t\t\tprivate domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<StructureSetSummariesEnabledCommand> {\n\t\treturn StructureSetSummariesEnabledCommand;\n\t}\n\n\tpublishDomainEvents(aggregate: StructureAggregate, command: StructureSetSummariesEnabledCommand): void {\n\n\t\tconst enabled = command.isEnabled(),\n\t\t\taggregateEvents = aggregate.getEvents();\n\n\t\tthis.domainEventPublisher.publish(new StructureSummariesEnabledSetEvent(command.getAggregateId(), enabled));\n\t\tthis.structureSourceDomainEventPublisher.publish(aggregateEvents);\n\t}\n\n\thandleAggregate(structure: StructureAggregate, command: StructureSetSummariesEnabledCommand): void {\n\n\t\tconst enabled = command.isEnabled();\n\n\t\tstructure.setSummariesEnabled(enabled);\n\t}\n\n}\n","export class VerticalRange {\n\n\tconstructor(private readonly start: number,\n\t\t\t\tprivate readonly end: number,\n\t\t\t\tprivate readonly margin: number) {\n\t}\n\n\tgetStart(): number {\n\t\treturn this.start;\n\t}\n\n\tgetEnd(): number {\n\t\treturn this.end;\n\t}\n\n\tgetMargin(): number {\n\t\treturn this.margin;\n\t}\n\n}\n","import { DomainObject, Optional } from '@generic-ui/hermes';\n\n@DomainObject\nexport class VerticalFormationContainerHeight {\n\n\tprivate containerHeight: Optional<number> = Optional.empty();\n\n\tprivate sourceHeight: number;\n\n\tisContainerHeightProperForVirtualScroll(): boolean {\n\t\tif (this.containerHeight.isPresent()) {\n\t\t\treturn this.containerHeight.getValueOrNullOrThrowError() > 0;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tgetVisibleContainerHeight(): number {\n\t\treturn this.getHeight();\n\t}\n\n\tgetHeight(): number {\n\n\t\tif (this.containerHeight.isPresent()) {\n\t\t\treturn this.getContainerHeight();\n\t\t}\n\n\t\treturn this.sourceHeight;\n\t}\n\n\tgetSourceHeight(): number {\n\t\treturn this.sourceHeight;\n\t}\n\n\tsetContainerHeight(height: number): void {\n\n\t\tif (height >= 0) {\n\t\t\tthis.containerHeight = Optional.of(height);\n\t\t}\n\t}\n\n\tsetSourceSize(height: number): void {\n\t\tthis.sourceHeight = height;\n\t}\n\n\tprivate getContainerHeight(): number {\n\n\t\tif (this.containerHeight.getValueOrNullOrThrowError() > this.sourceHeight) {\n\t\t\treturn this.sourceHeight;\n\t\t} else {\n\t\t\treturn this.containerHeight.getValueOrNullOrThrowError();\n\t\t}\n\t}\n}\n","import { DomainObject } from '@generic-ui/hermes';\n\nimport { VerticalRange } from './vertical-range';\nimport { VerticalFormationContainerHeight } from './container/vertical-formation.container-height';\n\nimport { Logger } from '../../../../../common/cdk/logger/logger';\n\n\n@DomainObject\nexport class VerticalFormation {\n\n\tprivate rowHeight: number = 42;\n\n\tprivate hiddenItemsTop: number = 5;\n\n\tprivate hiddenItemsBottom: number = 2;\n\n\tprivate container: VerticalFormationContainerHeight = new VerticalFormationContainerHeight();\n\n\tprivate scrollPosition: number;\n\n\tprivate range: VerticalRange;\n\n\tprivate sourceSize: number;\n\n\tprivate logger: Logger;\n\n\tconstructor(private enabled: boolean = false,\n\t\t\t\tviewportHeight: number = 0,\n\t\t\t\tsourceSize: number = 0,\n\t\t\t\tscrollPosition: number = 0,\n\t\t\t\trowHeight?: number,\n\t\t\t\thiddenItemsTop?: number,\n\t\t\t\thiddenItemsBottom?: number) {\n\t\tthis.sourceSize = sourceSize;\n\t\tthis.container.setSourceSize(this.sourceSize * this.rowHeight);\n\t\tthis.container.setContainerHeight(viewportHeight);\n\n\t\tthis.scrollPosition = scrollPosition;\n\n\t\tif (Number.isInteger(rowHeight)) {\n\t\t\tthis.rowHeight = rowHeight;\n\t\t}\n\n\t\tif (Number.isInteger(hiddenItemsTop)) {\n\t\t\tthis.hiddenItemsTop = hiddenItemsTop;\n\t\t}\n\n\t\tif (Number.isInteger(hiddenItemsBottom)) {\n\t\t\tthis.hiddenItemsBottom = hiddenItemsBottom;\n\t\t}\n\n\t\tthis.calculateRange();\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled &&\n\t\t\tthis.container.getHeight() > 0 &&\n\t\t\tthis.sourceSize > 0;\n\t}\n\n\tgetViewPortHeight(): number {\n\t\treturn this.container.getVisibleContainerHeight();\n\t}\n\n\tgetSourceHeight(): number {\n\t\treturn this.container.getSourceHeight();\n\t}\n\n\tgetRowHeight(): number {\n\t\treturn this.rowHeight;\n\t}\n\n\tgetRange(): VerticalRange {\n\t\treturn this.range;\n\t}\n\n\tgetTopMargin(): number {\n\t\treturn this.range.getStart() * this.rowHeight;\n\t}\n\n\tcalculateRange(): any {\n\n\t\tif (this.calcFullHeight() <= this.container.getHeight()) {\n\t\t\tthis.range = new VerticalRange(0, this.sourceSize, 0);\n\t\t\treturn;\n\t\t}\n\n\t\tconst itemsInViewport = Math.ceil(this.container.getHeight() / this.rowHeight),\n\t\t\tviewportPositionIndex = Math.floor(this.scrollPosition / this.rowHeight);\n\n\t\tlet end = (viewportPositionIndex + itemsInViewport + this.hiddenItemsBottom);\n\n\t\tlet topMargin = viewportPositionIndex;\n\n\t\tif (topMargin + itemsInViewport >= this.sourceSize) {\n\t\t\ttopMargin = this.sourceSize - itemsInViewport;\n\t\t}\n\n\t\tlet start = Math.max(viewportPositionIndex - this.hiddenItemsTop, 0);\n\n\t\tif (end > this.sourceSize) {\n\t\t\tend = this.sourceSize;\n\t\t\tstart = end - itemsInViewport;\n\t\t}\n\n\t\t// end - itemsInViewport;\n\n\t\tthis.range = new VerticalRange(start, end, topMargin);\n\n\t\treturn {\n\t\t\tstart,\n\t\t\tend,\n\t\t\ttopMargin\n\t\t};\n\t}\n\n\tsetEnabled(enabled: boolean): void {\n\t\tthis.enabled = enabled;\n\n\t\t// TODO dispatch aggregate event\n\t\tif (this.enabled && !this.container.isContainerHeightProperForVirtualScroll()) {\n\t\t\tthis.logger.warn('Height needs to be specified in order for virtual scroll to work.');\n\t\t}\n\n\t\tthis.calculateRange();\n\t}\n\n\tsetSourceSize(sourceSize: number = 0): void {\n\t\tthis.sourceSize = sourceSize;\n\n\t\tthis.container.setSourceSize(this.sourceSize * this.rowHeight);\n\n\t\tthis.calculateRange();\n\t}\n\n\tsetTopHiddenItemsCount(count: number): void {\n\t\tthis.hiddenItemsTop = count;\n\t\tthis.calculateRange();\n\t}\n\n\tsetBottomHiddenItemsCount(count: number): void {\n\t\tthis.hiddenItemsBottom = count;\n\t\tthis.calculateRange();\n\t}\n\n\tsetScrollPosition(scrollPosition: number): void {\n\t\tthis.scrollPosition = scrollPosition;\n\t\tthis.calculateRange();\n\t}\n\n\tsetViewportHeight(height: number): void {\n\t\tthis.container.setContainerHeight(height);\n\t\tthis.calculateRange();\n\t}\n\n\tsetRowHeight(rowHeight: number): void {\n\t\tthis.rowHeight = rowHeight;\n\t\tthis.container.setSourceSize(this.sourceSize * this.rowHeight);\n\t\tthis.calculateRange();\n\t}\n\n\tsetLogger(logger: Logger): void {\n\t\tthis.logger = logger;\n\t}\n\n\t// TODO REMOVE\n\tcalcFullHeight(): number {\n\t\treturn this.sourceSize * this.rowHeight;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { Logger } from '../../../../../common/cdk/logger/logger';\n\nimport { VerticalFormation } from './vertical-formation';\n\n\n@Injectable()\nexport class VerticalFormationFactory {\n\n\tconstructor(private logger: Logger) {\n\t}\n\n\tcreate(enabled: boolean = false,\n\t\t   viewportHeight: number = -1,\n\t\t   sourceSize: number = 0,\n\t\t   scrollPosition: number = 0,\n\t\t   rowHeight?: number,\n\t\t   hiddenItemsTop?: number,\n\t\t   hiddenItemsBottom?: number): VerticalFormation {\n\n\t\tconst vf = new VerticalFormation(\n\t\t\tenabled,\n\t\t\tviewportHeight,\n\t\t\tsourceSize,\n\t\t\tscrollPosition,\n\t\t\trowHeight,\n\t\t\thiddenItemsTop,\n\t\t\thiddenItemsBottom\n\t\t);\n\n\t\tvf.setLogger(this.logger);\n\n\t\treturn vf;\n\t}\n\n}\n","export const SUMMARIES_CALCULATORS = 'GUI - Summaries Calculators';\n","import { SummariesValues } from './summaries.values';\nimport { DataType } from '../../../../../../structure/field/domain/core/field/data/data-type';\nimport { OriginItemEntity } from '../../../../../../structure/source/domain/origin/origin-item-entity';\nimport { SummariesType } from '../summaries.type';\nimport { Field } from '../../../../../../structure/field/domain/core/field/field';\n\n\nexport abstract class SummariesCalculator<T, A extends SummariesValues> {\n\n\tabstract forDataType(dataType: DataType): boolean;\n\n\tabstract prepare(field: Field): void;\n\n\tabstract postCalculate(field: Field, items: Array<OriginItemEntity>): void;\n\n\tabstract aggregate(field: Field, value: T): void;\n\n\tabstract generateAggregatedValues(field: Field): A;\n\n\tcalculate(fields: Array<Field>, items: Array<OriginItemEntity>): Map<string, A> {\n\n\t\tconst filteredFields = fields.filter((field: Field) => this.forDataType(field.getDataType()));\n\n\t\tif (!filteredFields || filteredFields.length === 0 || items.length === 0) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet count = new Map<string, number>(),\n\t\t\tdistinct = new Map<string, Set<string>>();\n\n\t\t// init\n\t\tfilteredFields.forEach((field: Field) => {\n\n\t\t\tconst key = field.getKey();\n\n\t\t\tcount.set(key, 0);\n\t\t\tdistinct.set(key, new Set());\n\n\t\t\tthis.prepare(field);\n\t\t});\n\n\t\t// calculate\n\t\titems.forEach((item: OriginItemEntity) => {\n\n\t\t\tfilteredFields.forEach((field: Field) => {\n\n\t\t\t\tconst key = field.getKey(),\n\t\t\t\t\tvalue = field.getValue(item);\n\n\t\t\t\tif (value !== null || value !== undefined || value !== '') {\n\n\t\t\t\t\tif (field.isSummaries(SummariesType.COUNT)) {\n\t\t\t\t\t\tconst countForField = count.get(key);\n\t\t\t\t\t\tcount.set(key, countForField + 1);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (field.isSummaries(SummariesType.DISTINCT)) {\n\t\t\t\t\t\tconst distinctSet = distinct.get(key);\n\t\t\t\t\t\tdistinctSet.add(value);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.aggregate(field, value);\n\t\t\t});\n\t\t});\n\n\t\tfilteredFields.forEach((field: Field) => {\n\n\t\t\tthis.postCalculate(field, items);\n\n\t\t});\n\n\t\tlet summaries = new Map();\n\n\t\tfilteredFields.forEach((field: Field) => {\n\n\t\t\tconst key = field.getKey();\n\n\t\t\tlet aggregatedValues = this.generateAggregatedValues(field);\n\n\t\t\tif (field.isSummaries(SummariesType.COUNT)) {\n\t\t\t\taggregatedValues.setCount(count.get(key));\n\t\t\t}\n\n\t\t\tif (field.isSummaries(SummariesType.DISTINCT)) {\n\t\t\t\taggregatedValues.setDistinct((distinct.get(key)).size);\n\t\t\t}\n\n\t\t\tsummaries.set(key, aggregatedValues);\n\t\t});\n\n\t\treturn summaries;\n\t}\n\n}\n","export abstract class SummariesValues {\n\n\tpublic count: number;\n\tpublic distinct: number;\n\n\tsetCount(value: number): void {\n\t\tthis.count = value;\n\t}\n\n\tsetDistinct(value: number): void {\n\t\tthis.distinct = value;\n\t}\n\n}\n","import { SummariesValues } from '../summaries.values';\n\nexport class BooleanSummarizedValues extends SummariesValues {\n\n\tpublic readonly truthy: number;\n\n\tpublic readonly falsy: number;\n\n\tconstructor(truthy: number,\n\t\t\t\tfalsy: number) {\n\t\tsuper();\n\t\tthis.truthy = truthy;\n\t\tthis.falsy = falsy;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { SummariesCalculator } from '../summaries.calculator';\nimport { BooleanSummarizedValues } from './boolean-summarized.values';\n\nimport { DataType } from '../../../../../../../structure/field/domain/core/field/data/data-type';\nimport { SummariesType } from '../../summaries.type';\nimport { OriginItemEntity } from '../../../../../../../structure/source/domain/origin/origin-item-entity';\nimport { Field } from '../../../../../../../structure/field/domain/core/field/field';\n\n\n@Injectable()\nexport class BooleanSummariesCalculator extends SummariesCalculator<boolean, BooleanSummarizedValues> {\n\n\tprivate readonly truthy = new Map<string, number>();\n\tprivate readonly falsy = new Map<string, number>();\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tforDataType(dataType: DataType): boolean {\n\t\treturn dataType === DataType.BOOLEAN;\n\t}\n\n\tprepare(field: Field): void {\n\n\t\tconst key = field.getKey();\n\n\t\tif (field.isSummaries(SummariesType.TRUTHY)) {\n\t\t\tthis.truthy.set(key, 0);\n\t\t}\n\n\t\tif (field.isSummaries(SummariesType.FALSY)) {\n\t\t\tthis.falsy.set(key, 0);\n\t\t}\n\t}\n\n\tpostCalculate(field: Field, items: Array<OriginItemEntity>): void {\n\t}\n\n\taggregate(field: Field, value: boolean): void {\n\n\t\tconst booleanValue = value, // (value as any === 'true'),\n\t\t\tkey = field.getKey(),\n\t\t\ttruthyForField = this.truthy.get(key),\n\t\t\tfalsyForField = this.falsy.get(key);\n\n\t\tif (booleanValue) {\n\t\t\tif (field.isSummaries(SummariesType.TRUTHY)) {\n\t\t\t\tthis.truthy.set(key, truthyForField + 1);\n\t\t\t}\n\t\t} else {\n\t\t\tif (field.isSummaries(SummariesType.FALSY)) {\n\t\t\t\tthis.falsy.set(key, falsyForField + 1);\n\t\t\t}\n\t\t}\n\n\t}\n\n\tgenerateAggregatedValues(field: Field): BooleanSummarizedValues {\n\n\t\tconst key = field.getKey();\n\n\t\treturn new BooleanSummarizedValues(\n\t\t\tthis.truthy.get(key),\n\t\t\tthis.falsy.get(key)\n\t\t);\n\t}\n\n}\n","import { SummariesValues } from '../summaries.values';\n\nexport class DateSummarizedValues extends SummariesValues {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { SummariesCalculator } from '../summaries.calculator';\nimport { DateSummarizedValues } from './date-summarized.values';\n\nimport { DataType } from '../../../../../../../structure/field/domain/core/field/data/data-type';\nimport { OriginItemEntity } from '../../../../../../../structure/source/domain/origin/origin-item-entity';\nimport { Field } from '../../../../../../../structure/field/domain/core/field/field';\n\n\n@Injectable()\nexport class DateSummariesCalculator extends SummariesCalculator<Date, DateSummarizedValues> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tforDataType(dataType: DataType): boolean {\n\t\treturn dataType === DataType.DATE;\n\t}\n\n\tprepare(field: Field): void {\n\t}\n\n\tpostCalculate(field: Field, items: Array<OriginItemEntity>): void {\n\t}\n\n\taggregate(field: Field, value: Date): void {\n\t}\n\n\tgenerateAggregatedValues(field: Field): DateSummarizedValues {\n\t\treturn new DateSummarizedValues();\n\t}\n\n}\n","import { SummariesValues } from '../summaries.values';\n\nexport class NumberSummarizedValues extends SummariesValues {\n\n\tpublic readonly sum: number;\n\tpublic readonly min: number;\n\tpublic readonly max: number;\n\tpublic readonly average: number;\n\tpublic readonly median: number;\n\n\tconstructor(sum: number,\n\t\t\t\tmin: number,\n\t\t\t\tmax: number,\n\t\t\t\taverage: number,\n\t\t\t\tmedian: number) {\n\t\tsuper();\n\t\tthis.sum = this.setValueWithPrecision(sum);\n\t\tthis.min = this.setValueWithPrecision(min);\n\t\tthis.max = this.setValueWithPrecision(max);\n\t\tthis.average = this.setValueWithPrecision(average);\n\t\tthis.median = this.setValueWithPrecision(median);\n\t}\n\n\tprivate setValueWithPrecision(value: number): number {\n\t\tif (!value && value !== 0) {\n\t\t\treturn null;\n\t\t}\n\n\t\tif (value === 0) {\n\t\t\treturn 0;\n\t\t}\n\n\t\treturn +((value).toFixed(2));\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { SummariesCalculator } from '../summaries.calculator';\nimport { NumberSummarizedValues } from './number-summarized.values';\nimport { DataType } from '../../../../../../../structure/field/domain/core/field/data/data-type';\nimport { SummariesType } from '../../summaries.type';\nimport { OriginItemEntity } from '../../../../../../../structure/source/domain/origin/origin-item-entity';\nimport { Field } from '../../../../../../../structure/field/domain/core/field/field';\n\n\n@Injectable()\nexport class NumberSummariesCalculator extends SummariesCalculator<number, NumberSummarizedValues> {\n\n\tprivate readonly sum = new Map<string, number>();\n\tprivate readonly min = new Map<string, number>();\n\tprivate readonly max = new Map<string, number>();\n\tprivate readonly average = new Map<string, number>();\n\tprivate readonly median = new Map<string, number>();\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tforDataType(dataType: DataType): boolean {\n\t\treturn dataType === DataType.NUMBER;\n\t}\n\n\tprepare(field: Field): void {\n\n\t\tconst key = field.getKey();\n\n\t\tthis.sum.set(key, 0);\n\t\tthis.min.set(key, Number.MAX_SAFE_INTEGER);\n\t\tthis.max.set(key, 0);\n\t}\n\n\tpostCalculate(field: Field, items: Array<OriginItemEntity>): void {\n\n\t\tconst key = field.getKey();\n\n\t\tif (field.isSummaries(SummariesType.AVERAGE)) {\n\t\t\tthis.average.set(key, this.sum.get(key) / items.length);\n\t\t}\n\n\t\tif (field.isSummaries(SummariesType.MEDIAN)) {\n\t\t\tthis.median.set(key, field.getValue(items[Math.floor(items.length / 2)]));\n\t\t}\n\t}\n\n\taggregate(field: Field, value: number): void {\n\n\t\tconst numberValue = +value,\n\t\t\tkey = field.getKey(),\n\t\t\tsumForField = this.sum.get(key),\n\t\t\tminForField = this.min.get(key),\n\t\t\tmaxForField = this.max.get(key);\n\n\t\tif (field.isSummaries(SummariesType.SUM) || field.isSummaries(SummariesType.AVERAGE)) {\n\t\t\tthis.sum.set(key, sumForField + numberValue);\n\t\t}\n\n\t\tif (field.isSummaries(SummariesType.MIN)) {\n\t\t\tif (minForField > numberValue) {\n\t\t\t\tthis.min.set(key, numberValue);\n\t\t\t}\n\t\t}\n\n\t\tif (field.isSummaries(SummariesType.MAX)) {\n\t\t\tif (maxForField < numberValue) {\n\t\t\t\tthis.max.set(key, numberValue);\n\t\t\t}\n\t\t}\n\n\t}\n\n\tgenerateAggregatedValues(field: Field): NumberSummarizedValues {\n\n\t\tconst key = field.getKey(),\n\t\t\tsum = field.isSummaries(SummariesType.SUM) ? this.sum.get(key) : undefined,\n\t\t\tmin = field.isSummaries(SummariesType.MIN) ? this.min.get(key) : undefined,\n\t\t\tmax = field.isSummaries(SummariesType.MAX) ? this.max.get(key) : undefined,\n\t\t\taverage = field.isSummaries(SummariesType.AVERAGE) ? this.average.get(key) : undefined,\n\t\t\tmedian = field.isSummaries(SummariesType.MEDIAN) ? this.median.get(key) : undefined;\n\n\t\treturn new NumberSummarizedValues(\n\t\t\tsum,\n\t\t\tmin,\n\t\t\tmax,\n\t\t\taverage,\n\t\t\tmedian\n\t\t);\n\t}\n\n}\n","import { SummariesValues } from '../summaries.values';\n\nexport class StringSummarizedValues extends SummariesValues {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { SummariesCalculator } from '../summaries.calculator';\nimport { StringSummarizedValues } from './string-summarized.values';\nimport { DataType } from '../../../../../../../structure/field/domain/core/field/data/data-type';\nimport { OriginItemEntity } from '../../../../../../../structure/source/domain/origin/origin-item-entity';\nimport { Field } from '../../../../../../../structure/field/domain/core/field/field';\n\n\n@Injectable()\nexport class StringSummariesCalculator extends SummariesCalculator<string, StringSummarizedValues> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tforDataType(dataType: DataType): boolean {\n\t\treturn dataType === DataType.STRING;\n\t}\n\n\tprepare(field: Field): void {\n\t}\n\n\tpostCalculate(field: Field, items: Array<OriginItemEntity>): void {\n\t}\n\n\taggregate(field: Field, value: string): void {\n\t}\n\n\tgenerateAggregatedValues(field: Field): StringSummarizedValues {\n\t\treturn new StringSummarizedValues();\n\t}\n\n}\n","import { SummariesValues } from '../summaries.values';\n\nexport class UnknownSummarizedValues extends SummariesValues {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { SummariesCalculator } from '../summaries.calculator';\nimport { UnknownSummarizedValues } from './unknown-summarized.values';\nimport { DataType } from '../../../../../../../structure/field/domain/core/field/data/data-type';\nimport { OriginItemEntity } from '../../../../../../../structure/source/domain/origin/origin-item-entity';\nimport { Field } from '../../../../../../../structure/field/domain/core/field/field';\n\n\n@Injectable()\nexport class UnknownSummariesCalculator extends SummariesCalculator<any, UnknownSummarizedValues> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tforDataType(dataType: DataType): boolean {\n\t\treturn dataType === DataType.UNKNOWN;\n\t}\n\n\tprepare(field: Field): void {\n\t}\n\n\tpostCalculate(field: Field, items: Array<OriginItemEntity>): void {\n\t}\n\n\taggregate(field: Field, value: any): void {\n\t}\n\n\tgenerateAggregatedValues(field: Field): UnknownSummarizedValues {\n\t\treturn new UnknownSummarizedValues();\n\t}\n\n}\n","import { AggregateEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../structure.id';\nimport { FieldId } from '../../../../../structure/field/domain/core/field/field.id';\nimport { SummariesCalculator } from './calculation/summaries.calculator';\nimport { OriginItemEntity } from '../../../../../structure/source/domain/origin/origin-item-entity';\nimport { StructureSummariesChangedAggregateEvent } from './structure.summaries-changed.aggregate-event';\nimport { Field } from '../../../../../structure/field/domain/core/field/field';\n\n\nexport class SummariesManager {\n\n\tstatic DEFAULT_ENABLED = false;\n\n\tprivate readonly structureId: StructureId;\n\n\tprivate enabled: boolean;\n\n\tprivate readonly values = new Map<FieldId, any>();\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly calculators: Array<SummariesCalculator<any, any>>) {\n\t\tthis.structureId = structureId;\n\t\tthis.enabled = SummariesManager.DEFAULT_ENABLED;\n\t}\n\n\tcalculate(fields: Array<Field>, entities: Array<OriginItemEntity>): Array<AggregateEvent<StructureId>> {\n\n\t\tif (!this.enabled) {\n\t\t\treturn [];\n\t\t}\n\n\t\tconst calculations = new Map();\n\n\t\tthis.calculators.forEach((calc: SummariesCalculator<any, any>) => {\n\n\t\t\tconst aggregatedValues = calc.calculate(fields, entities);\n\n\t\t\tif (aggregatedValues) {\n\t\t\t\tArray.from(aggregatedValues.keys())\n\t\t\t\t\t .forEach((key: any) => {\n\t\t\t\t\t\t calculations.set(key, aggregatedValues.get(key));\n\t\t\t\t\t });\n\t\t\t}\n\t\t});\n\n\t\tif (calculations.size > 0) {\n\t\t\treturn [\n\t\t\t\tnew StructureSummariesChangedAggregateEvent(this.structureId, calculations)\n\t\t\t];\n\t\t} else {\n\t\t\treturn [];\n\t\t}\n\n\t}\n\n\tsetEnabled(enabled: boolean): void {\n\t\tthis.enabled = enabled;\n\t}\n\n\tadd() {\n\t}\n\n\tremove() {\n\t}\n\n\tupdate() {\n\t}\n\n}\n","import { Inject, Injectable } from '@angular/core';\n\nimport { SUMMARIES_CALCULATORS } from './calculation/summaries.calculators.token';\nimport { SummariesCalculator } from './calculation/summaries.calculator';\nimport { StructureId } from '../../structure.id';\nimport { SummariesManager } from './summaries.manager';\n\n\n@Injectable()\nexport class SummariesManagerFactory {\n\n\tconstructor(@Inject(SUMMARIES_CALCULATORS) private calculators: Array<SummariesCalculator<any, any>>) {\n\t}\n\n\tcreate(structureId: StructureId): SummariesManager {\n\t\treturn new SummariesManager(structureId, this.calculators);\n\t}\n\n}\n","import { Provider, Type } from '@angular/core';\nimport { SUMMARIES_CALCULATORS } from './calculation/summaries.calculators.token';\nimport { BooleanSummariesCalculator } from './calculation/boolean/boolean-summaries.calculator';\nimport { DateSummariesCalculator } from './calculation/date/date-summaries.calculator';\nimport { NumberSummariesCalculator } from './calculation/number/number-summaries.calculator';\nimport { StringSummariesCalculator } from './calculation/string/string-summaries.calculator';\nimport { UnknownSummariesCalculator } from './calculation/unknown/unknown-summaries.calculator';\nimport { SummariesManagerFactory } from './summaries.manager.factory';\n\n\nexport function provideSummariesCalculator(clazz: Type<any>): Provider {\n\treturn {\n\t\tprovide: SUMMARIES_CALCULATORS,\n\t\tuseClass: clazz,\n\t\tmulti: true\n\t};\n}\n\nexport const summariesProviders = [\n\tprovideSummariesCalculator(BooleanSummariesCalculator),\n\tprovideSummariesCalculator(DateSummariesCalculator),\n\tprovideSummariesCalculator(NumberSummariesCalculator),\n\tprovideSummariesCalculator(StringSummariesCalculator),\n\tprovideSummariesCalculator(UnknownSummariesCalculator),\n\n\tSummariesManagerFactory\n];\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventHandler, DomainEventType } from '@generic-ui/hermes';\n\nimport { FieldReadModelRepository } from './field.read-model-repository';\nimport { FieldUiConverter } from './field.ui-converter';\nimport { FieldsInitedEvent } from '../../domain/init/fields-inited.event';\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\n\n\n@Injectable()\nexport class FieldsInitedEventHandler implements DomainEventHandler<StructureId, FieldsInitedEvent> {\n\n\tconstructor(private fieldReadModelRepository: FieldReadModelRepository,\n\t\t\t\tprivate fieldUiConverter: FieldUiConverter) {\n\t}\n\n\tforEvent(): DomainEventType<FieldsInitedEvent> {\n\t\treturn FieldsInitedEvent;\n\t}\n\n\thandle(event: FieldsInitedEvent): void {\n\n\t\tif (event.ofMessageType('FieldsInitedEvent')) {\n\n\t\t\tconst fields = this.fieldUiConverter.convert(event.getFields());\n\n\t\t\tthis.fieldReadModelRepository.next(event.getAggregateId(), fields);\n\t\t}\n\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { filter } from 'rxjs/operators';\n\nimport { DomainEvent, DomainEventBus } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../domain/structure.id';\nimport { StructureSummariesChangedEvent } from '../../domain/structure/summaries/structure.summaries-changed.event';\n\n\n@Injectable()\nexport class StructureSummariesUiEventsRepository {\n\n\tconstructor(private readonly domainEventBus: DomainEventBus) {\n\t}\n\n\tonSummariesChanged(structureId: StructureId): Observable<DomainEvent<StructureId>> {\n\n\t\treturn this.domainEventBus\n\t\t\t\t   .pipe(\n\t\t\t\t\t   filter((event: DomainEvent<StructureId>) => event.ofMessageType('StructureSummariesChangedEvent')),\n\t\t\t\t\t   filter((event: DomainEvent<StructureId>) => event.getAggregateId().toString() === structureId.toString())\n\t\t\t\t   );\n\t}\n}\n","import { FilterId } from './filter.id';\nimport { FieldId } from '../../field/domain/core/field/field.id';\nimport { FilterTypeId } from './type/filter-type.id';\n\nexport class Filter {\n\n\tprivate readonly filterId: FilterId;\n\n\tprivate readonly fieldId: FieldId;\n\n\tprivate readonly filterTypeId: FilterTypeId;\n\n\tprivate readonly filterValue: any;\n\n\tconstructor(filterId: FilterId,\n\t\t\t\tfieldId: FieldId,\n\t\t\t\tfilterTypeId: FilterTypeId,\n\t\t\t\tfilterValue: any) { // TODO not any\n\t\tthis.filterId = filterId;\n\t\tthis.fieldId = fieldId;\n\t\tthis.filterTypeId = filterTypeId;\n\t\tthis.filterValue = filterValue;\n\t}\n\n\tgetFilterId(): FilterId {\n\t\treturn this.filterId;\n\t}\n\n\tgetFilterTypeId(): FilterTypeId {\n\t\treturn this.filterTypeId;\n\t}\n\n\tgetFieldId(): FieldId {\n\t\treturn this.fieldId;\n\t}\n\n\tgetFilterValue(): any {\n\t\treturn this.filterValue;\n\t}\n\n}\n","import { FilterConfig } from '../domain-api/filter-config';\nimport { SearchConfig } from '../../search/domain-api/search-config';\nimport { QuickFiltersConfig } from '../domain-api/quick-filters.config';\n\nexport class FilterSettings {\n\n\tprivate filteringEnabled: boolean = false;\n\n\tprivate searchEnabled: boolean = false;\n\n\tprivate quickFiltersEnabled: boolean = false;\n\n\tconstructor(filteringEnabled: boolean = false,\n\t\t\t\tsearchEnabled: boolean = false,\n\t\t\t\tquickFiltersEnabled: boolean = false) {\n\t\tthis.filteringEnabled = filteringEnabled;\n\t\tthis.searchEnabled = searchEnabled;\n\t\tthis.quickFiltersEnabled = quickFiltersEnabled;\n\t}\n\n\tisFilteringEnabled(): boolean {\n\t\treturn this.filteringEnabled;\n\t}\n\n\tisQuickFilteringEnabled(): boolean {\n\t\treturn this.quickFiltersEnabled;\n\t}\n\n\tisSearchingEnabled(): boolean {\n\t\treturn this.searchEnabled;\n\t}\n\n\tsetFilterConfig(config: FilterConfig): void {\n\t\tif (config && config.enabled !== undefined && config.enabled !== null) {\n\t\t\tthis.filteringEnabled = config.enabled;\n\t\t}\n\t}\n\n\tsetSearchingConfig(config: SearchConfig): void {\n\t\tif (config && config.enabled !== undefined && config.enabled !== null) {\n\t\t\tthis.searchEnabled = config.enabled;\n\t\t}\n\t}\n\n\tsetQuickFiltersConfig(config: QuickFiltersConfig): void {\n\t\tif (config && config.enabled !== undefined && config.enabled !== null) {\n\t\t\tthis.quickFiltersEnabled = config.enabled;\n\t\t}\n\t}\n\n}\n","import { OriginItemEntity } from '../../../source/domain/origin/origin-item-entity';\nimport { Field } from '../../../field/domain/core/field/field';\nimport { FilterTypeId } from './filter-type.id';\n\nexport abstract class BaseFilterType<T> {\n\n\tprivate readonly filterTypeId: FilterTypeId;\n\n\tprotected constructor(filterTypeId: FilterTypeId) {\n\t\tthis.filterTypeId = filterTypeId;\n\t}\n\n\tabstract getName(): string;\n\n\tprotected abstract filterEntity(entity: OriginItemEntity, field: Field, value: T): boolean;\n\n\tgetId(): FilterTypeId {\n\t\treturn this.filterTypeId;\n\t}\n\n\tfilterMany(entities: Array<OriginItemEntity>, field: Field, value: T): Array<OriginItemEntity> {\n\n\t\tif (entities.length === 0) {\n\t\t\treturn entities;\n\t\t}\n\n\t\treturn entities.filter((item: OriginItemEntity) => {\n\t\t\treturn this.filterEntity(item, field, value);\n\t\t});\n\t}\n\n\tfilterOne(entity: OriginItemEntity, field: Field, value: T): boolean {\n\t\treturn this.filterEntity(entity, field, value);\n\t}\n}\n","import { BaseFilterType } from '../../base-filter-type';\nimport { OriginItemEntity } from '../../../../../source/domain/origin/origin-item-entity';\nimport { Field } from '../../../../../field/domain/core/field/field';\nimport { FilterTypeId } from '../../filter-type.id';\n\nexport class ContainsFilterType extends BaseFilterType<string> {\n\n\tconstructor(filterTypeId: FilterTypeId) {\n\t\tsuper(filterTypeId);\n\t}\n\n\tgetName(): string {\n\t\treturn 'Contains';\n\t}\n\n\tprotected filterEntity(entity: OriginItemEntity, field: Field, value: string): boolean {\n\n\t\tconst fieldValue: string = field.getValue(entity);\n\n\t\treturn !!fieldValue.includes(value);\n\t}\n}\n","export class FilterTypeId {\n\n\tprivate readonly id: string;\n\n\tconstructor(id: string) {\n\t\tthis.id = id;\n\t}\n\n\ttoString(): string {\n\t\treturn this.id;\n\t}\n\n}\n","import { FilterTypeId } from './filter-type.id';\n\nexport class FilterTypeIdGenerator {\n\n\tstatic index = 0;\n\n\tgenerate(): FilterTypeId {\n\t\tFilterTypeIdGenerator.index += 1;\n\n\t\treturn new FilterTypeId(`${FilterTypeIdGenerator.index}`);\n\t}\n\n}\n","import { FilterTypeId } from '../../domain/type/filter-type.id';\n\nexport class FilterTypeReadModel {\n\n\tprivate readonly filterTypeId: FilterTypeId;\n\n\tprivate readonly name: string;\n\n\tconstructor(id: FilterTypeId,\n\t\t\t\tname: string) {\n\t\tthis.filterTypeId = id;\n\t\tthis.name = name;\n\t}\n\n\tgetId(): FilterTypeId {\n\t\treturn this.filterTypeId;\n\t}\n\n\tgetName(): string {\n\t\treturn this.name;\n\t}\n\n}\n","import { FieldId } from '../../../field/domain/core/field/field.id';\nimport { Field } from '../../../field/domain/core/field/field';\nimport { FilterTypeId } from './filter-type.id';\nimport { DataType } from '../../../field/domain/core/field/data/data-type';\nimport { ContainsFilterType } from './filter-types/contains/contains-filter-type';\nimport { FilterTypeIdGenerator } from './filter-type.id-generator';\nimport { BaseFilterType } from './base-filter-type';\nimport { FilterTypeReadModel } from '../../domain-api/type/filter-type.read-model';\n\n\nexport class FilterTypeManager {\n\n\tprivate readonly fieldIds: Array<FieldId> = [];\n\n\tprivate readonly map = new WeakMap<FieldId, Array<BaseFilterType<any>>>();\n\n\tprivate readonly filterTypeMap = new WeakMap<FilterTypeId, BaseFilterType<any>>();\n\n\tprivate readonly dataTypeToFilterType = new Map<DataType, Array<BaseFilterType<any>>>();\n\n\tprivate readonly filterTypeIdGenerator: FilterTypeIdGenerator = new FilterTypeIdGenerator();\n\n\tconstructor(fields: Array<Field>) {\n\t\tthis.assignFilterTypes();\n\n\t\tthis.addFields(fields);\n\t}\n\n\tgetFilterType(filterTypeId: FilterTypeId): BaseFilterType<any> {\n\t\treturn this.filterTypeMap.get(filterTypeId);\n\t}\n\n\tgetFieldIdsToFilterTypes(): Map<string, Array<FilterTypeReadModel>> {\n\t\tconst map = new Map();\n\n\t\tfor (let fieldId of this.fieldIds) {\n\t\t\tconst filterTypes = this.map.get(fieldId),\n\t\t\t\treadModels = filterTypes.map(f => {\n\t\t\t\t\treturn new FilterTypeReadModel(f.getId(), f.getName());\n\t\t\t\t});\n\n\t\t\tmap.set(fieldId.toString(), readModels);\n\t\t}\n\n\t\treturn map;\n\t}\n\n\tprivate addFields(fields: Array<Field>): void {\n\t\tfor (let field of fields) {\n\t\t\tthis.addField(field);\n\t\t}\n\t}\n\n\tprivate addField(field: Field): void {\n\n\t\tconst fieldId = field.getId(),\n\t\t\tdataType = field.getDataType();\n\n\t\tconst filterTypesFromDataType = this.dataTypeToFilterType.get(dataType);\n\n\t\tthis.fieldIds.push(fieldId);\n\t\tthis.map.set(fieldId, [...filterTypesFromDataType]);\n\t}\n\n\tprivate assignFilterTypes(): void {\n\t\tthis.assignFilterTypesForDataTypeUnknown();\n\t\tthis.assignFilterTypesForDataTypeNumber();\n\t\tthis.assignFilterTypesForDataTypeString();\n\t\tthis.assignFilterTypesForDataTypeBoolean();\n\t\tthis.assignFilterTypesForDataTypeDate();\n\t\tthis.assignFilterTypesForDataTypeCustom();\n\t}\n\n\tprivate assignFilterTypesForDataTypeUnknown(): void {\n\t\tthis.dataTypeToFilterType.set(DataType.UNKNOWN, []);\n\t}\n\n\tprivate assignFilterTypesForDataTypeNumber(): void {\n\t\tthis.dataTypeToFilterType.set(DataType.NUMBER, []);\n\t}\n\n\tprivate assignFilterTypesForDataTypeString(): void {\n\n\t\tconst filterTypes = [\n\t\t\tnew ContainsFilterType(this.generateId())\n\t\t];\n\n\t\tthis.dataTypeToFilterType.set(DataType.STRING, filterTypes);\n\n\t\tthis.addFilterTypes(filterTypes);\n\t}\n\n\tprivate assignFilterTypesForDataTypeBoolean(): void {\n\t\tthis.dataTypeToFilterType.set(DataType.BOOLEAN, []);\n\t}\n\n\tprivate assignFilterTypesForDataTypeDate(): void {\n\t\tthis.dataTypeToFilterType.set(DataType.DATE, []);\n\t}\n\n\tprivate assignFilterTypesForDataTypeCustom(): void {\n\t\tthis.dataTypeToFilterType.set(DataType.CUSTOM, []);\n\t}\n\n\tprivate generateId(): FilterTypeId {\n\t\treturn this.filterTypeIdGenerator.generate();\n\t}\n\n\tprivate addFilterTypes(filterTypes: Array<BaseFilterType<any>>): void {\n\t\tfor (let filterType of filterTypes) {\n\t\t\tthis.filterTypeMap.set(filterType.getId(), filterType);\n\t\t}\n\t}\n\n}\n","export class FilterId {\n\n\tprivate readonly id: string;\n\n\tconstructor(filterId: string) {\n\t\tthis.id = filterId;\n\t}\n\n\ttoString(): string {\n\t\treturn this.id;\n\t}\n\n}\n","import { FilterId } from './filter.id';\n\nexport class FilterIdGenerator {\n\n\tstatic index = 0;\n\n\tstatic generateId(): FilterId {\n\t\treturn new FilterId(`${FilterIdGenerator.index}`);\n\t}\n\n}\n","import { FilterId } from '../../domain/filter.id';\n\nexport class ActiveFilterReadModel {\n\n\tconstructor(private readonly filterId: FilterId,\n\t\t\t\tprivate readonly fieldName: string,\n\t\t\t\tprivate readonly filterTypeName: string,\n\t\t\t\tprivate readonly value: any) {\n\t}\n\n\tgetText(): string {\n\t\treturn `${this.fieldName}: ${this.filterTypeName}: ${this.value}`;\n\t}\n\n\tgetFilterId(): FilterId {\n\t\treturn this.filterId;\n\t}\n\n}\n","import { Filter } from './filter';\nimport { OriginItemEntity } from '../../source/domain/origin/origin-item-entity';\nimport { FilterSettings } from './filter.settings';\nimport { Field } from '../../field/domain/core/field/field';\nimport { FilterTypeId } from './type/filter-type.id';\nimport { FieldId } from '../../field/domain/core/field/field.id';\nimport { FilterTypeManager } from './type/filter-type.manager';\nimport { FilterTypeReadModel } from '../domain-api/type/filter-type.read-model';\nimport { BaseFilterType } from './type/base-filter-type';\nimport { FilterIdGenerator } from './filter.id-generator';\nimport { ActiveFilterReadModel } from '../domain-api/active/active-filter.read-model';\nimport { FilterId } from './filter.id';\n\n\nexport class FilterManager {\n\n\tprivate readonly filterSettings = new FilterSettings();\n\n\t// string -> FilterId\n\tprivate readonly filters = new Map<string, Filter>();\n\n\tprivate activeFilters: Array<Filter> = [];\n\n\tprivate filterTypeManager: FilterTypeManager;\n\n\tconstructor() {\n\t}\n\n\tgetSettings(): FilterSettings {\n\t\treturn this.filterSettings;\n\t}\n\n\tgetAll(): Array<Filter> {\n\t\treturn Array.from(this.filters)\n\t\t\t\t\t.map((arr) => arr[1]);\n\t}\n\n\tgetAllActiveFilters(fields: Map<string, Field>): ReadonlyArray<ActiveFilterReadModel> {\n\t\treturn this.activeFilters\n\t\t\t\t   .map((af: Filter) => {\n\t\t\t\t\t   return new ActiveFilterReadModel(\n\t\t\t\t\t\t   af.getFilterId(),\n\t\t\t\t\t\t   (fields.get(af.getFieldId().toString())).getName(),\n\t\t\t\t\t\t   this.filterTypeManager.getFilterType(af.getFilterTypeId()).getName(),\n\t\t\t\t\t\t   af.getFilterValue()\n\t\t\t\t\t   );\n\t\t\t\t   });\n\t}\n\n\tgetFilterTypes(): Map<string, Array<FilterTypeReadModel>> {\n\t\treturn this.filterTypeManager.getFieldIdsToFilterTypes();\n\t}\n\n\tassignFilterTypes(fields: Array<Field>) {\n\t\tthis.filterTypeManager = new FilterTypeManager(fields);\n\t}\n\n\tadd(fieldId: FieldId, filterTypeId: FilterTypeId, value: any): void {\n\n\t\tconst filter = new Filter(FilterIdGenerator.generateId(), fieldId, filterTypeId, value);\n\n\t\tthis.activeFilters.push(filter);\n\t}\n\n\tfilter(entities: Array<OriginItemEntity>, fields: Map<string, Field>): Array<OriginItemEntity> {\n\n\t\tlet filteredEntities: Array<OriginItemEntity> = [...entities];\n\n\t\tfor (let filter of this.activeFilters) {\n\n\t\t\tconst filterTypeId = filter.getFilterTypeId(),\n\t\t\t\tfilterType = this.getFilterType(filterTypeId),\n\t\t\t\tvalue = filter.getFilterValue();\n\n\t\t\tfilteredEntities = filterType.filterMany(filteredEntities, fields.get(filter.getFieldId().toString()), value);\n\t\t}\n\n\t\treturn filteredEntities;\n\t}\n\n\tremoveAll(): void {\n\t\tthis.activeFilters.length = 0;\n\t}\n\n\tremove(filterId: FilterId): void {\n\n\t\tthis.activeFilters =\n\t\t\tthis.activeFilters.filter((filter: Filter) => {\n\t\t\t\treturn filter.getFilterId() !== filterId;\n\t\t\t});\n\t}\n\n\tprivate getFilterType(filterTypeId: FilterTypeId): BaseFilterType<any> {\n\t\treturn this.filterTypeManager.getFilterType(filterTypeId);\n\t}\n\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { FilterManager } from './filter.manager';\n\n\n@Injectable()\nexport class FilterManagerFactory {\n\n\tcreate(enabled: boolean = false): FilterManager {\n\t\treturn new FilterManager();\n\t}\n}\n","import { AggregateEvent, AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nimport { OriginItemEntity } from '../origin/origin-item-entity';\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\nimport { StructurePreparedEntitiesSetEvent } from './structure.prepared-entities-set.event';\n\n\nexport class StructurePreparedEntitiesSetAggregateEvent extends AggregateEvent<StructureId> {\n\n\tconstructor(aggregateId: AggregateId,\n\t\t\t\tprivate readonly preparedItems: Array<OriginItemEntity>) {\n\t\tsuper(aggregateId, 'StructurePreparedEntitiesSetAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<StructureId> {\n\t\treturn new StructurePreparedEntitiesSetEvent(this.getAggregateId(), this.preparedItems);\n\t}\n\n\tgetPreparedItems(): Array<OriginItemEntity> {\n\t\treturn this.preparedItems;\n\t}\n\n}\n","import { AggregateEvent, DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\nimport { Field } from '../core/field/field';\nimport { FieldsInitedEvent } from './fields-inited.event';\nimport { FieldConfig } from '../../domain-api/field.config';\n\n\nexport class FieldsInitedAggregateEvent extends AggregateEvent<StructureId> {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly fieldConfigs: Array<FieldConfig>, // TODO merge\n\t\t\t\tprivate readonly fields: Array<Field>) {\n\t\tsuper(structureId, 'FieldsInitedAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<StructureId> {\n\n\t\treturn new FieldsInitedEvent(\n\t\t\tthis.getAggregateId(),\n\t\t\tthis.fieldConfigs,\n\t\t\tthis.fields\n\t\t);\n\t}\n\n\tgetFieldConfigs(): Array<FieldConfig> {\n\t\treturn this.fieldConfigs;\n\t}\n\n\tgetFields(): Array<Field> {\n\t\treturn this.fields;\n\t}\n}\n","import { AggregateEvent, DomainEvent } from '@generic-ui/hermes';\n\nimport { SchemaId } from '../schema.id';\nimport { SchemaTheme } from './schema-theme';\nimport { SchemaThemeSetEvent } from './schema-theme-set.event';\n\nexport class SchemaThemeSetAggregateEvent extends AggregateEvent<SchemaId> {\n\n\tconstructor(schemaId: SchemaId,\n\t\t\t\tprivate readonly theme: SchemaTheme) {\n\t\tsuper(schemaId, 'SchemaThemeSetAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<SchemaId> {\n\t\treturn new SchemaThemeSetEvent(this.getAggregateId(), this.theme);\n\t}\n}\n","import { AggregateEvent, DomainEvent } from '@generic-ui/hermes';\n\nimport { SchemaId } from '../schema.id';\nimport { SchemaRowColoring } from './schema-row-coloring';\nimport { RowColoringSetEvent } from './row-coloring-set.event';\n\n\nexport class RowColoringSetAggregateEvent extends AggregateEvent<SchemaId> {\n\n\tconstructor(schemaId: SchemaId,\n\t\t\t\tprivate readonly rowColoring: SchemaRowColoring) {\n\t\tsuper(schemaId, 'RowColoringSetEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<SchemaId> {\n\t\treturn new RowColoringSetEvent(this.getAggregateId(), this.rowColoring);\n\t}\n\n}\n","import { AggregateEvent, DomainEvent } from '@generic-ui/hermes';\n\nimport { SchemaId } from '../../schema.id';\nimport { SchemaHorizontalGridSetEvent } from '../horizontal/schema-horizontal-grid-set.event';\nimport { SchemaVerticalGridSetEvent } from './schema-vertical-grid-set.event';\n\nexport class SchemaVerticalGridSetAggregateEvent extends AggregateEvent<SchemaId> {\n\n\tconstructor(schemaId: SchemaId,\n\t\t\t\tprivate readonly verticalGrid: boolean) {\n\t\tsuper(schemaId, 'SchemaHorizontalGridSetEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<SchemaId> {\n\t\treturn new SchemaVerticalGridSetEvent(this.getAggregateId(), this.verticalGrid);\n\t}\n}\n","import { AggregateEvent, DomainEvent } from '@generic-ui/hermes';\n\nimport { SchemaId } from '../../schema.id';\nimport { SchemaHorizontalGridSetEvent } from './schema-horizontal-grid-set.event';\n\n\nexport class SchemaHorizontalGridSetAggregateEvent extends AggregateEvent<SchemaId> {\n\n\tconstructor(schemaId: SchemaId,\n\t\t\t\tprivate readonly horizontalGrid: boolean) {\n\t\tsuper(schemaId, 'SchemaHorizontalGridSetEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<SchemaId> {\n\t\treturn new SchemaHorizontalGridSetEvent(this.getAggregateId(), this.horizontalGrid);\n\t}\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { SchemaId } from '../schema.id';\n\nexport class SchemaCreatedEvent extends DomainEvent<SchemaId> {\n\n\tconstructor(aggregateId: SchemaId) {\n\t\tsuper(aggregateId, 'SchemaCreatedEvent');\n\t}\n}\n","import { AggregateEvent, DomainEvent } from '@generic-ui/hermes';\n\nimport { SchemaId } from '../schema.id';\nimport { SchemaCreatedEvent } from './schema-created.event';\n\nexport class SchemaCreatedAggregateEvent extends AggregateEvent<SchemaId> {\n\n\tconstructor(aggregateId: SchemaId) {\n\t\tsuper(aggregateId, 'SchemaCreatedAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<SchemaId> {\n\t\treturn new SchemaCreatedEvent(this.getAggregateId());\n\t}\n}\n","import { AggregateEvent, AggregateEventType, AggregateRoot } from '@generic-ui/hermes';\n\nimport { SchemaId } from './schema.id';\nimport { SchemaTheme } from './theme/schema-theme';\nimport { SchemaRowColoring } from './coloring/schema-row-coloring';\nimport { SchemaThemeSetAggregateEvent } from './theme/schema-theme-set.aggregate-event';\nimport { RowColoringSetAggregateEvent } from './coloring/row-coloring-set.aggregate-event';\nimport { SchemaVerticalGridSetAggregateEvent } from './grid/vertical/schema-vertical-grid-set.aggregate-event';\nimport { SchemaHorizontalGridSetAggregateEvent } from './grid/horizontal/schema-horizontal-grid-set.aggregate-event';\nimport { SchemaCreatedAggregateEvent } from './create/schema-created.aggregate-event';\n\n\nexport class SchemaAggregate extends AggregateRoot<SchemaId> {\n\n\tstatic readonly DEFAULT_THEME = SchemaTheme.GENERIC;\n\n\tstatic readonly DEFAULT_ROW_COLORING = SchemaRowColoring.ODD;\n\n\tstatic readonly DEFAULT_VERTICAL_GRID = true;\n\n\tstatic readonly DEFAULT_HORIZONTAL_GRID = true;\n\n\tprivate horizontalGrid: boolean;\n\n\tprivate verticalGrid: boolean;\n\n\tprivate theme: SchemaTheme;\n\n\tprivate rowColoring: SchemaRowColoring;\n\n\tconstructor(id: SchemaId) {\n\t\tsuper(id, 'SchemaAggregate');\n\t\tthis.setTheme(SchemaAggregate.DEFAULT_THEME);\n\t\tthis.setHorizontalGrid(SchemaAggregate.DEFAULT_HORIZONTAL_GRID);\n\t\tthis.setVerticalGrid(SchemaAggregate.DEFAULT_VERTICAL_GRID);\n\t\tthis.setRowColoring(SchemaAggregate.DEFAULT_ROW_COLORING);\n\t}\n\n\tcreateEvent(): AggregateEventType<AggregateEvent<SchemaId>> {\n\t\treturn SchemaCreatedAggregateEvent;\n\t}\n\n\tchangeTheme(theme: SchemaTheme): void {\n\t\tthis.setTheme(theme);\n\n\t\tif (theme === SchemaTheme.MATERIAL) {\n\t\t\tthis.setRowColoring(SchemaRowColoring.NONE);\n\t\t\tthis.setVerticalGrid(false);\n\t\t}\n\n\t\tif (theme === SchemaTheme.LIGHT) {\n\t\t\tthis.setRowColoring(SchemaRowColoring.NONE);\n\t\t\tthis.setVerticalGrid(false);\n\t\t}\n\n\t\tif (theme === SchemaTheme.DARK) {\n\t\t\tthis.setRowColoring(SchemaRowColoring.NONE);\n\t\t\tthis.setVerticalGrid(false);\n\t\t}\n\n\t\tif (theme === SchemaTheme.GENERIC) {\n\t\t\tthis.setRowColoring(SchemaRowColoring.ODD);\n\t\t}\n\t}\n\n\tprivate setTheme(theme: SchemaTheme): void {\n\t\tthis.theme = theme;\n\t\tthis.addEvent(new SchemaThemeSetAggregateEvent(this.getId(), this.theme));\n\t}\n\n\tsetRowColoring(coloring: SchemaRowColoring): void {\n\t\tthis.rowColoring = coloring;\n\t\tthis.addEvent(new RowColoringSetAggregateEvent(this.getId(), this.rowColoring));\n\t}\n\n\tsetVerticalGrid(enabled: boolean): void {\n\t\tthis.verticalGrid = enabled;\n\t\tthis.addEvent(new SchemaVerticalGridSetAggregateEvent(this.getId(), this.verticalGrid));\n\t}\n\n\tsetHorizontalGrid(enabled: boolean): void {\n\t\tthis.horizontalGrid = enabled;\n\t\tthis.addEvent(new SchemaHorizontalGridSetAggregateEvent(this.getId(), this.horizontalGrid));\n\t}\n}\n","import { AggregateEvent, DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../structure.id';\nimport { StructureCreatedEvent } from './structure-created.event';\n\n\nexport class StructureCreatedAggregateEvent extends AggregateEvent<StructureId> {\n\n\tconstructor(aggregateId: StructureId) {\n\t\tsuper(aggregateId, 'StructureCreatedAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<StructureId> {\n\t\treturn new StructureCreatedEvent(this.getAggregateId());\n\t}\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../lib/structure/domain/structure.id';\nimport { FilterTypeReadModel } from '../../../domain-api/type/filter-type.read-model';\n\nexport class FilterTypesInitedEvent extends DomainEvent<StructureId> {\n\n\tconstructor(aggregateId: StructureId,\n\t\t\t\tprivate readonly map: Map<string, Array<FilterTypeReadModel>>) {\n\t\tsuper(aggregateId, 'FilterTypesInitedEvent');\n\t}\n\n\tgetMap(): Map<string, Array<FilterTypeReadModel>> {\n\t\treturn this.map;\n\t}\n\n}\n","import { AggregateEvent, DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../lib/structure/domain/structure.id';\nimport { FilterTypeReadModel } from '../../../domain-api/type/filter-type.read-model';\nimport { FilterTypesInitedEvent } from './filter-types-inited.event';\n\n\nexport class FilterTypesInitedAggregateEvent extends AggregateEvent<StructureId> {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly filterTypes: Map<string, Array<FilterTypeReadModel>>) {\n\t\tsuper(structureId, 'FilterTypesInitedAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<StructureId> {\n\n\t\treturn new FilterTypesInitedEvent(\n\t\t\tthis.getAggregateId(),\n\t\t\tthis.filterTypes\n\t\t);\n\t}\n\n\tgetFilterTypes(): Map<string, Array<FilterTypeReadModel>> {\n\t\treturn this.filterTypes;\n\t}\n}\n","import { AggregateEvent, DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../lib/structure/domain/structure.id';\nimport { ActiveFiltersSetEvent } from '../active-filters-set.event';\n\n\nexport class AllFiltersRemovedAggregateEvent extends AggregateEvent<StructureId> {\n\n\tconstructor(aggregateId: StructureId) {\n\t\tsuper(aggregateId, 'FilterAddedEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<StructureId> {\n\t\treturn new ActiveFiltersSetEvent(\n\t\t\tthis.getAggregateId(),\n\t\t\t[]\n\t\t);\n\t}\n\n}\n","import { AggregateEvent, DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../lib/structure/domain/structure.id';\nimport { FilterAddedEvent } from './filter-added.event';\nimport { ActiveFilterReadModel } from '../../../domain-api/active/active-filter.read-model';\nimport { ActiveFiltersSetEvent } from '../active-filters-set.event';\n\n\nexport class FilterAddedAggregateEvent extends AggregateEvent<StructureId> {\n\n\tconstructor(aggregateId: StructureId,\n\t\t\t\tprivate readonly activeFilters: ReadonlyArray<ActiveFilterReadModel>) {\n\t\tsuper(aggregateId, 'FilterAddedEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<StructureId> {\n\t\treturn new ActiveFiltersSetEvent(\n\t\t\tthis.getAggregateId(),\n\t\t\tthis.activeFilters\n\t\t);\n\t}\n\n}\n","import { AggregateEvent, DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../lib/structure/domain/structure.id';\nimport { ActiveFiltersSetEvent } from '../active-filters-set.event';\nimport { ActiveFilterReadModel } from '../../../domain-api/active/active-filter.read-model';\n\n\nexport class FilterRemovedAggregateEvent extends AggregateEvent<StructureId> {\n\n\tconstructor(aggregateId: StructureId,\n\t\t\t\tprivate readonly activeFilters: ReadonlyArray<ActiveFilterReadModel>) {\n\t\tsuper(aggregateId, 'FilterRemovedAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<StructureId> {\n\t\treturn new ActiveFiltersSetEvent(\n\t\t\tthis.getAggregateId(),\n\t\t\tthis.activeFilters\n\t\t);\n\t}\n\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../lib/structure/domain/structure.id';\nimport { UniqueValue } from '../unique-value';\n\nexport class UniqueFilterCalculatedEvent extends DomainEvent<StructureId> {\n\n\tconstructor(aggregateId: StructureId,\n\t\t\t\tprivate readonly map: Map<string, Array<UniqueValue>>) {\n\t\tsuper(aggregateId, 'UniqueFilterCalculatedEvent');\n\t}\n\n\tgetUniqueValues(): Map<string, Array<UniqueValue>> {\n\t\treturn this.map;\n\t}\n\n}\n","import { AggregateEvent, DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../lib/structure/domain/structure.id';\nimport { UniqueFilterCalculatedEvent } from './unique-filter-calculated.event';\nimport { UniqueValue } from '../unique-value';\n\nexport class UniqueFilterCalculatedAggregateEvent extends AggregateEvent<StructureId> {\n\n\tconstructor(aggregateId: StructureId,\n\t\t\t\tprivate readonly map: Map<string, Array<UniqueValue>>) {\n\t\tsuper(aggregateId, 'UniqueFilterCalculatedAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<StructureId> {\n\t\treturn new UniqueFilterCalculatedEvent(\n\t\t\tthis.getAggregateId(),\n\t\t\tthis.map\n\t\t);\n\t}\n\n}\n","import { AggregateEvent, DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../lib/structure/domain/structure.id';\nimport { UniqueFilterSelectedEvent } from './unique-filter-selected.event';\n\n\nexport class UniqueFilterSelectedAggregateEvent extends AggregateEvent<StructureId> {\n\n\tconstructor(aggregateId: StructureId) {\n\t\tsuper(aggregateId, 'UniqueFilterSelectedAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<StructureId> {\n\t\treturn new UniqueFilterSelectedEvent(\n\t\t\tthis.getAggregateId()\n\t\t);\n\t}\n\n}\n","import { AggregateEvent, DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../lib/structure/domain/structure.id';\nimport { UniqueFilterUnselectedEvent } from './unique-filter-unselected.event';\n\n\nexport class UniqueFilterUnselectedAggregateEvent extends AggregateEvent<StructureId> {\n\n\tconstructor(aggregateId: StructureId) {\n\t\tsuper(aggregateId, 'UniqueFilterUnselectedAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<StructureId> {\n\t\treturn new UniqueFilterUnselectedEvent(\n\t\t\tthis.getAggregateId()\n\t\t);\n\t}\n\n}\n","import { AggregateEvent, DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../lib/structure/domain/structure.id';\nimport { AllUniqueFilterUnselectedEvent } from './all-unique-filter-unselected.event';\n\n\nexport class AllUniqueFilterUnselectedAggregateEvent extends AggregateEvent<StructureId> {\n\n\tconstructor(aggregateId: StructureId) {\n\t\tsuper(aggregateId, 'AllUniqueFilterUnselectedAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<StructureId> {\n\t\treturn new AllUniqueFilterUnselectedEvent(\n\t\t\tthis.getAggregateId()\n\t\t);\n\t}\n\n}\n","import { AggregateEvent, DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../lib/structure/domain/structure.id';\nimport { AllUniqueFilterSelectedEvent } from './all-unique-filter-selected.event';\n\n\nexport class AllUniqueFilterSelectedAggregateEvent extends AggregateEvent<StructureId> {\n\n\tconstructor(aggregateId: StructureId) {\n\t\tsuper(aggregateId, 'AllUniqueFilterSelectedAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<StructureId> {\n\t\treturn new AllUniqueFilterSelectedEvent(\n\t\t\tthis.getAggregateId()\n\t\t);\n\t}\n\n}\n","import { AggregateEvent, DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\nimport { SelectedRowChangedEvent } from './selected-row-changed.event';\n\nexport class SelectedRowChangedAggregateEvent extends AggregateEvent<StructureId> {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly selectedRows: Array<string>,\n\t\t\t\tprivate readonly allSelected: boolean,\n\t\t\t\tprivate readonly allUnselected: boolean) {\n\t\tsuper(structureId, 'SelectedRowChangedAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<StructureId> {\n\t\treturn new SelectedRowChangedEvent(this.getAggregateId(), this.selectedRows, this.allSelected, this.allUnselected);\n\t}\n}\n","import { AggregateEvent, DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../lib/structure/domain/structure.id';\nimport { SelectionEnabledSetEvent } from './selection-enabled-set.event';\n\nexport class SelectionEnabledSetAggregateEvent extends AggregateEvent<StructureId> {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly enabled: boolean) {\n\t\tsuper(structureId, 'SelectionEnabledSetAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<StructureId> {\n\t\treturn new SelectionEnabledSetEvent(this.getAggregateId(), this.enabled);\n\t}\n}\n","import { AggregateEvent, DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../lib/structure/domain/structure.id';\nimport { SelectionModeSetEvent } from './selection-mode-set.event';\nimport { RowSelectionMode } from '../../../domain-api/row-selection';\n\nexport class SelectionModeSetAggregateEvent extends AggregateEvent<StructureId> {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly mode: RowSelectionMode) {\n\t\tsuper(structureId, 'SelectionModeSetAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<StructureId> {\n\t\treturn new SelectionModeSetEvent(this.getAggregateId(), this.mode);\n\t}\n}\n","import { AggregateEvent, AggregateEventType, AggregateRoot } from '@generic-ui/hermes';\n\nimport { PagingManager } from '../../../../structure/paging/domain/paging.manager';\nimport { SourceManager } from '../../../../structure/source/domain/core/source.manager';\nimport { VerticalFormation } from './vertical-formation/vertical-formation';\nimport { SummariesManager } from './summaries/summaries.manager';\nimport { SorterCollection } from '../../../../structure/sorting/domain/sorter.collection';\nimport { FilterManager } from '../../../../structure/filter/domain/filter.manager';\nimport { FieldCollection } from '../../../../structure/field/domain/core/field-collection';\nimport { FormationManager } from '../../../../structure/source/domain/formation/core/formation-manager';\nimport { StructureId } from '../structure.id';\nimport { StructureEditSourceItemParams } from '../../../../structure/source/domain/origin/edit/structure.edit-source-item.params';\nimport { PagingConfig } from '../../../../structure/paging/domain-api/paging-config';\nimport { OriginItemEntity } from '../../../../structure/source/domain/origin/origin-item-entity';\nimport { SortingConfig } from '../../../../structure/sorting/domain-api/sorting-config';\nimport { FieldId } from '../../../../structure/field/domain/core/field/field.id';\nimport { StructureSorter } from '../../../../structure/sorting/domain/structure.sorter';\nimport { FilterConfig } from '../../../../structure/filter/domain-api/filter-config';\nimport { QuickFiltersConfig } from '../../../../structure/filter/domain-api/quick-filters.config';\nimport { SearchConfig } from '../../../../structure/search/domain-api/search-config';\nimport { SearchManager } from '../../../../structure/search/domain/search.manager';\nimport { StructurePreparedEntitiesSetAggregateEvent } from '../../../../structure/source/domain/prepared/structure.prepared-entities-set.aggregate-event';\nimport { SortOrder } from '../../../composition/domain/column/sort/sort-order';\nimport { FieldsInitedAggregateEvent } from '../../../../structure/field/domain/init/fields-inited.aggregate-event';\nimport { SchemaTheme } from '../../../../schema/domain/theme/schema-theme';\nimport { SchemaAggregate } from '../../../../schema/domain/schema.aggregate';\nimport { StructureCreatedAggregateEvent } from './create-structure/structure-created.aggregate-event';\nimport { FieldConfig } from '../../../../structure/field/domain-api/field.config';\nimport { Override } from '../../../../common/cdk/decorators';\nimport { FilterTypesInitedAggregateEvent } from '../../../../structure/filter/domain/type/init/filter-types-inited.aggregate-event';\nimport { AllFiltersRemovedAggregateEvent } from '../../../../structure/filter/domain/core/remove-all/all-filters-removed.aggregate-event';\nimport { FilterTypeId } from '../../../../structure/filter/domain/type/filter-type.id';\nimport { FilterAddedAggregateEvent } from '../../../../structure/filter/domain/core/add/filter-added.aggregate-event';\nimport { FilterId } from '../../../../structure/filter/domain/filter.id';\nimport { FilterRemovedAggregateEvent } from '../../../../structure/filter/domain/core/remove/filter-removed.aggregate-event';\nimport { UniqueFilterManager } from '../../../../structure/filter/domain/unique/unique-filter-manager';\nimport { UniqueFilterCalculatedAggregateEvent } from '../../../../structure/filter/domain/unique/calculate/unique-filter-calculated.aggregate-event';\nimport { UniqueValueId } from '../../../../structure/filter/domain/unique/unique-value-id';\nimport { UniqueFilterSelectedAggregateEvent } from '../../../../structure/filter/domain/unique/select/unique-filter-selected.aggregate-event';\nimport { UniqueFilterUnselectedAggregateEvent } from '../../../../structure/filter/domain/unique/unselect/unique-filter-unselected.aggregate-event';\nimport { AllUniqueFilterUnselectedAggregateEvent } from '../../../../structure/filter/domain/unique/unselect-all/all-unique-filter-unselected.aggregate-event';\nimport { AllUniqueFilterSelectedAggregateEvent } from '../../../../structure/filter/domain/unique/select-all/all-unique-filter-selected.aggregate-event';\nimport { SelectedRowChangedAggregateEvent } from '../../../../structure/source/domain/formation/selected-row-changed.aggregate-event';\nimport { RowSelectToggleType } from '../../../../structure/source/domain/formation/core/row-select-toggle-type';\nimport { SelectionEnabledSetAggregateEvent } from '../../../../structure/source/domain/formation/set-enabled/selection-enabled-set.aggregate-event';\nimport { RowSelectionMode } from '../../../../structure/source/domain-api/row-selection';\nimport { SelectionModeSetAggregateEvent } from '../../../../structure/source/domain/formation/mode/selection-mode-set.aggregate-event';\nimport { OriginId } from '../../../../structure/source/domain/origin/origin-id';\n\n\nexport class StructureAggregate extends AggregateRoot<StructureId> {\n\n\tprivate pagingManager: PagingManager;\n\n\tprivate readonly sourceManager: SourceManager;\n\n\tprivate sorterCollection: SorterCollection;\n\n\tprivate filterManager: FilterManager;\n\n\tprivate searchManager: SearchManager;\n\n\tprivate readonly verticalFormation: VerticalFormation;\n\n\tprivate fieldCollection: FieldCollection;\n\n\tprivate summariesManager: SummariesManager;\n\n\tprivate readonly uniqueFilterManager: UniqueFilterManager;\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tpagingAggregate: PagingManager,\n\t\t\t\tsourceManager: SourceManager,\n\t\t\t\tverticalFormation: VerticalFormation,\n\t\t\t\tsummariesManager: SummariesManager,\n\t\t\t\tsorterCollection: SorterCollection,\n\t\t\t\tfilterManager: FilterManager,\n\t\t\t\tuniqueFilterManager: UniqueFilterManager,\n\t\t\t\tsearchManager: SearchManager,\n\t\t\t\tfieldCollection: FieldCollection) {\n\t\tsuper(structureId, 'StructureAggregate');\n\t\tthis.pagingManager = pagingAggregate;\n\t\tthis.sourceManager = sourceManager;\n\t\tthis.verticalFormation = verticalFormation;\n\t\tthis.summariesManager = summariesManager;\n\t\tthis.sorterCollection = sorterCollection;\n\t\tthis.filterManager = filterManager;\n\t\tthis.uniqueFilterManager = uniqueFilterManager;\n\t\tthis.searchManager = searchManager;\n\t\tthis.fieldCollection = fieldCollection;\n\t}\n\n\tcreateEvent(): AggregateEventType<AggregateEvent<StructureId>> {\n\t\treturn StructureCreatedAggregateEvent;\n\t}\n\n\t@Override\n\tclearEvents(): void {\n\t\tsuper.clearEvents();\n\t\tthis.pagingManager.clearEvents();\n\t}\n\n\tinit(): void {\n\t\tthis.initTheme();\n\t}\n\n\tsetVerticalFormationEnabled(enabled: boolean): void {\n\t\tthis.verticalFormation.setEnabled(enabled);\n\t\tthis.calculateSource();\n\t}\n\n\tgetVerticalFormation(): VerticalFormation {\n\t\treturn this.verticalFormation;\n\t}\n\n\tsetSummariesEnabled(enabled: boolean): ReadonlyArray<AggregateEvent<StructureId>> {\n\n\t\tthis.summariesManager.setEnabled(enabled);\n\n\t\tthis.calculateSource();\n\n\t\treturn this.getEvents();\n\t}\n\n\tsetOrigin(items: Array<any>): ReadonlyArray<AggregateEvent<StructureId>> {\n\n\t\tthis.addEvent(\n\t\t\tthis.sourceManager.setOrigin(items, this.getId())\n\t\t);\n\n\t\tthis.calculateUniqueValues();\n\n\t\tthis.calculateSource();\n\n\t\treturn this.getEvents();\n\t}\n\n\tdeleteAllSelected(): void {\n\n\t}\n\n\tdeleteItem(payload: number | OriginId | Array<number> | Array<OriginId>): void {\n\t\tthis.addEvent(\n\t\t\tthis.sourceManager.deleteOriginItem(payload, this.getId())\n\t\t);\n\t\tthis.generateSelectedRowChangedEvent();\n\t\tthis.calculateSource();\n\t}\n\n\teditItem(editParams: StructureEditSourceItemParams): ReadonlyArray<AggregateEvent<StructureId>> {\n\n\t\tconst itemId = editParams.getItemId(),\n\t\t\tfieldId = editParams.getColumnFieldId(),\n\t\t\tfield = this.fieldCollection.getField(fieldId as any), // as FieldId\n\t\t\tvalue = editParams.getValue();\n\n\t\tconst editItemEvents = this.sourceManager.editOriginItem(itemId, value, field, this.getId());\n\n\t\teditItemEvents.forEach((e) => this.addEvent(e));\n\n\t\t// TODO\n\t\t// this.calculateUniqueValues();\n\n\t\tthis.calculateSource();\n\n\t\treturn this.getEvents();\n\t}\n\n\tsetHeight(height: number): void {\n\n\t\tthis.verticalFormation.setViewportHeight(height);\n\n\t\tthis.calculateSourceBasedOnVirtualScroll();\n\t}\n\n\tsetTheme(theme: SchemaTheme): void {\n\n\t\t// #1707 Move to SchemeAggregate\n\t\tif (theme === SchemaTheme.MATERIAL) {\n\t\t\tthis.getVerticalFormation().setRowHeight(52);\n\t\t}\n\n\t\tif (theme === SchemaTheme.GENERIC) {\n\t\t\tthis.getVerticalFormation().setRowHeight(42);\n\t\t}\n\n\t\tif (theme === SchemaTheme.FABRIC) {\n\t\t\tthis.getVerticalFormation().setRowHeight(36);\n\t\t}\n\n\t\tif (theme === SchemaTheme.LIGHT) {\n\t\t\tthis.getVerticalFormation().setRowHeight(56);\n\t\t}\n\n\t\tif (theme === SchemaTheme.DARK) {\n\t\t\tthis.getVerticalFormation().setRowHeight(38);\n\t\t}\n\t}\n\n\tsetScrollPosition(position: number): void {\n\t\tthis.verticalFormation.setScrollPosition(position);\n\t\tthis.calculateSourceBasedOnVirtualScroll();\n\t}\n\n\tsetSelection(enabled: boolean): void {\n\n\t\tthis.sourceManager.getFormation().setSelection(enabled);\n\n\t\tthis.addEvent(\n\t\t\tnew SelectionEnabledSetAggregateEvent(this.getId(), enabled)\n\t\t);\n\t}\n\n\tsetSelectionMode(mode: RowSelectionMode): void {\n\n\t\tthis.sourceManager.getFormation().setMode(mode);\n\n\t\tthis.addEvent(\n\t\t\tnew SelectionModeSetAggregateEvent(this.getId(), mode)\n\t\t);\n\t}\n\n\ttoggleRow(selectedRow: string, type: RowSelectToggleType): void {\n\n\t\tthis.sourceManager.toggleRow(selectedRow, type);\n\n\t\tthis.generateSelectedRowChangedEvent();\n\t}\n\n\tselectAll(): void {\n\t\tthis.sourceManager.selectAll();\n\t\tthis.generateSelectedRowChangedEvent();\n\t}\n\n\tunselectAll(): void {\n\t\tthis.sourceManager.unselectAll();\n\t\tthis.generateSelectedRowChangedEvent();\n\t}\n\n\tgetFormation(): FormationManager {\n\t\treturn this.sourceManager.getFormation();\n\t}\n\n\tgetPaging(): PagingManager {\n\t\treturn this.pagingManager;\n\t}\n\n\tchangePaging(config: PagingConfig) {\n\t\tthis.pagingManager.change(config);\n\t\tthis.calculateSource();\n\t}\n\n\tsetPaging(paging: PagingManager): void {\n\t\tthis.pagingManager = paging;\n\t\tthis.calculateSource();\n\t}\n\n\tnextPage(): void {\n\n\t\tthis.pagingManager.nextPage();\n\n\t\tthis.calculateSource();\n\t}\n\n\tprevPage(): void {\n\t\tthis.pagingManager.prevPage();\n\t\tthis.calculateSource();\n\t}\n\n\tchangePageSize(pageSize: number): ReadonlyArray<AggregateEvent<StructureId>> {\n\n\t\tconst pagingEvents = this.pagingManager.changePageSize(pageSize);\n\n\t\t// TODO\n\t\tpagingEvents.forEach((event) => {\n\t\t\tthis.addEvent(event);\n\t\t});\n\n\t\tthis.calculateSource();\n\n\t\treturn this.getEvents();\n\t}\n\n\tgetEntities(): Array<OriginItemEntity> {\n\t\treturn this.sourceManager.getSlicedEntities();\n\t}\n\n\tgetSource(): SourceManager {\n\t\treturn this.sourceManager;\n\t}\n\n\tcreateFields(fieldConfigs: Array<FieldConfig>): ReadonlyArray<AggregateEvent<StructureId>> {\n\n\t\tthis.fieldCollection.initFields(fieldConfigs);\n\n\t\tconst fields = this.fieldCollection.getAllFields();\n\n\t\tthis.addEvent(\n\t\t\tnew FieldsInitedAggregateEvent(this.getId(), fieldConfigs, fields)\n\t\t);\n\n\t\tthis.filterManager.assignFilterTypes(fields);\n\n\t\tthis.addEvent(\n\t\t\tnew FilterTypesInitedAggregateEvent(this.getId(), this.filterManager.getFilterTypes())\n\t\t);\n\n\t\treturn this.getEvents();\n\t}\n\n\tsetSortingConfig(config: SortingConfig): void {\n\t\tthis.sorterCollection.setConfig(config);\n\t}\n\n\ttoggleSort(fieldId: FieldId): Array<StructureSorter> {\n\n\t\tconst field = this.fieldCollection.getField(fieldId);\n\n\t\tthis.sorterCollection.toggle(field);\n\n\t\tthis.calculateSource();\n\n\t\treturn this.sorterCollection.getAll();\n\t}\n\n\tsetSortOrder(fieldId: FieldId, sortOrder: SortOrder): Array<StructureSorter> {\n\n\t\tconst field = this.fieldCollection.getField(fieldId);\n\n\t\tthis.sorterCollection.setSortOrder(field, sortOrder);\n\n\t\tthis.calculateSource();\n\n\t\treturn this.sorterCollection.getAll();\n\t}\n\n\tsetFilterConfig(config: FilterConfig): void {\n\t\tthis.filterManager.getSettings().setFilterConfig(config);\n\t}\n\n\tsetQuickFiltersConfig(config: QuickFiltersConfig): void {\n\t\tthis.filterManager.getSettings().setQuickFiltersConfig(config);\n\t}\n\n\ttoggleFilter(fieldId: FieldId, externalFilterId: string, filterValue: string): Array<AggregateEvent<StructureId>> {\n\n\t\tconst field = this.fieldCollection.getField(fieldId);\n\n\t\t// Field not found\n\t\t// TODO throw aggregate event\n\t\tif (field === undefined) {\n\t\t\treturn [];\n\t\t}\n\n\t\t// this.filterManager.addFilter(field, externalFilterId, filterValue);\n\n\t\t// this.filterManager.a\n\n\t\tthis.calculateSource();\n\n\t\treturn [];\n\t}\n\n\taddFilter(fieldId: FieldId, filterTypeId: FilterTypeId, value: any): void {\n\t\tthis.filterManager.add(fieldId, filterTypeId, value);\n\n\t\tconst fields = this.fieldCollection.getFieldsAsMap();\n\n\t\tlet activeFilters = this.filterManager.getAllActiveFilters(fields);\n\n\t\tthis.addEvent(\n\t\t\tnew FilterAddedAggregateEvent(\n\t\t\t\tthis.getId(),\n\t\t\t\tactiveFilters\n\t\t\t)\n\t\t);\n\n\t\tthis.calculateSource();\n\t}\n\n\tremoveAllFilters(): void {\n\t\tthis.filterManager.removeAll();\n\n\t\tthis.addEvent(\n\t\t\tnew AllFiltersRemovedAggregateEvent(this.getId())\n\t\t);\n\n\t\tthis.calculateSource();\n\t}\n\n\tremoveFilter(filterId: FilterId): void {\n\t\tthis.filterManager.remove(filterId);\n\n\t\tconst fields = this.fieldCollection.getFieldsAsMap();\n\t\tlet activeFilters = this.filterManager.getAllActiveFilters(fields);\n\n\t\tthis.addEvent(\n\t\t\tnew FilterRemovedAggregateEvent(this.getId(), activeFilters)\n\t\t);\n\n\t\tthis.calculateSource();\n\t}\n\n\tsetSearchingConfig(config: SearchConfig): void {\n\t\tthis.filterManager.getSettings().setSearchingConfig(config);\n\t}\n\n\taddSearchPhrase(phrase: string): Array<AggregateEvent<StructureId>> {\n\n\t\tconst fields = this.fieldCollection.getAllFields();\n\n\t\tthis.searchManager.addSearchPhrase(fields, phrase);\n\n\t\tthis.calculateSource();\n\n\t\treturn [];\n\t}\n\n\tremoveSearchPhrase(): Array<AggregateEvent<StructureId>> {\n\n\t\tthis.searchManager.removeSearchFilters();\n\n\t\tthis.calculateSource();\n\n\t\treturn [];\n\t}\n\n\tselectAllUniqueFilter(fieldId: FieldId): void {\n\n\t\tthis.uniqueFilterManager.selectAll(fieldId);\n\n\t\tthis.addEvent(\n\t\t\tnew AllUniqueFilterSelectedAggregateEvent(\n\t\t\t\tthis.getId()\n\t\t\t)\n\t\t);\n\n\t\tthis.generateCalculateUniqueValuesAggregateEvent();\n\n\t\tthis.calculateSource();\n\t}\n\n\tselectUniqueFilter(fieldId: FieldId, uniqueValueId: UniqueValueId): void {\n\n\t\tthis.uniqueFilterManager.select(fieldId, uniqueValueId);\n\n\t\tthis.addEvent(\n\t\t\tnew UniqueFilterSelectedAggregateEvent(\n\t\t\t\tthis.getId()\n\t\t\t)\n\t\t);\n\n\t\tthis.generateCalculateUniqueValuesAggregateEvent();\n\n\t\tthis.calculateSource();\n\t}\n\n\tunselectAllUniqueFilter(fieldId: FieldId): void {\n\n\t\tthis.uniqueFilterManager.unselectAll(fieldId);\n\n\t\tthis.addEvent(\n\t\t\tnew AllUniqueFilterUnselectedAggregateEvent(\n\t\t\t\tthis.getId()\n\t\t\t)\n\t\t);\n\n\t\tthis.generateCalculateUniqueValuesAggregateEvent();\n\n\t\tthis.calculateSource();\n\t}\n\n\tunselectUniqueFilter(fieldId: FieldId, uniqueValueId: UniqueValueId): void {\n\n\t\tthis.uniqueFilterManager.unselect(fieldId, uniqueValueId);\n\n\t\tthis.addEvent(\n\t\t\tnew UniqueFilterUnselectedAggregateEvent(\n\t\t\t\tthis.getId()\n\t\t\t)\n\t\t);\n\n\t\tthis.generateCalculateUniqueValuesAggregateEvent();\n\n\t\tthis.calculateSource();\n\t}\n\n\tprivate calculateSource(): void {\n\n\t\tif (!this.sourceManager.getOrigin() || !this.pagingManager) {\n\t\t\treturn;\n\t\t}\n\n\t\t// TODO Refactor\n\t\tthis.sourceManager.setEntities(this.sourceManager.getOrigin());\n\n\t\t// filtering\n\t\tthis.sourceManager.setEntities(\n\t\t\tthis.filterManager.filter(this.sourceManager.getEntities(), this.fieldCollection.getFieldsAsMap())\n\t\t);\n\n\t\t// search\n\t\tconst searchedEntities = this.searchManager.search(this.sourceManager.getEntities());\n\t\tthis.sourceManager.setEntities(searchedEntities);\n\n\t\t// unique filtering\n\t\tthis.sourceManager.setEntities(\n\t\t\tthis.uniqueFilterManager.filterAll(this.sourceManager.getEntities(), this.fieldCollection.getAllFields())\n\t\t);\n\n\t\t// sorting\n\t\tconst ents = this.sorterCollection.sort(this.sourceManager.getEntities());\n\t\tthis.sourceManager.setEntities(ents);\n\n\t\t// calculate filteredEntities\n\t\tthis.sourceManager.setPreparedEntities();\n\n\t\tthis.pagingManager.setSourceSize(this.sourceManager.getPreparedEntities().length);\n\n\t\tthis.addEvent(new StructurePreparedEntitiesSetAggregateEvent(this.getId(), ents));\n\n\t\t// summaries\n\t\tconst summariesEvents = this.summariesManager.calculate(\n\t\t\tthis.fieldCollection.getAllFields(),\n\t\t\tthis.sourceManager.getEntities()\n\t\t);\n\n\t\tsummariesEvents.forEach((ae: AggregateEvent<StructureId>) => {\n\t\t\tthis.addEvent(ae);\n\t\t});\n\n\t\t// paging\n\t\tthis.sourceManager.setEntities(this.pagingManager.sample(this.sourceManager.getEntities()));\n\n\t\tthis.verticalFormation.setSourceSize(this.sourceManager.getEntities().length);\n\n\t\tthis.calculateSourceBasedOnVirtualScroll();\n\t}\n\n\tprivate calculateSourceBasedOnVirtualScroll(): void {\n\n\t\tif (this.verticalFormation.isEnabled()) {\n\n\t\t\tconst range = this.verticalFormation.getRange();\n\n\t\t\tthis.sourceManager.setSlicedEntities(\n\t\t\t\tthis.sourceManager.getEntities().slice(range.getStart(), range.getEnd())\n\t\t\t);\n\t\t} else {\n\t\t\tthis.sourceManager.setSlicedEntities(\n\t\t\t\tthis.sourceManager.getEntities()\n\t\t\t);\n\t\t}\n\t}\n\n\tprivate initTheme() {\n\n\t\t// TODO\n\t\tconst theme = SchemaAggregate.DEFAULT_THEME;\n\n\t\tthis.setTheme(theme);\n\t}\n\n\tprivate calculateUniqueValues(): void {\n\n\t\tconst fields = this.fieldCollection.getAllFields(),\n\t\t\titems = this.sourceManager.getOrigin();\n\n\t\tthis.uniqueFilterManager.calculateAll(items, fields);\n\n\t\tthis.generateCalculateUniqueValuesAggregateEvent();\n\t}\n\n\tprivate generateCalculateUniqueValuesAggregateEvent(): void {\n\t\tthis.addEvent(\n\t\t\tnew UniqueFilterCalculatedAggregateEvent(\n\t\t\t\tthis.getId(),\n\t\t\t\tthis.uniqueFilterManager.getAll(\n\t\t\t\t\tthis.fieldCollection.getAllFields()\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t}\n\n\tprivate generateSelectedRowChangedEvent() {\n\t\tthis.addEvent(\n\t\t\tnew SelectedRowChangedAggregateEvent(\n\t\t\t\tthis.getId(),\n\t\t\t\tthis.sourceManager.getFormation().getSelectedRows(),\n\t\t\t\tthis.sourceManager.getFormation().isAllSelected(),\n\t\t\t\tthis.sourceManager.getFormation().isAllUnselected()\n\t\t\t)\n\t\t);\n\t}\n\n}\n","import { SorterId } from './sorter.id';\nimport { OriginItemEntity } from '../../source/domain/origin/origin-item-entity';\nimport { Field } from '../../field/domain/core/field/field';\n\nexport class StructureSorter {\n\n\tprivate readonly sorterId: SorterId;\n\n\tprivate columnId: string;\n\n\tprivate field: Field;\n\n\tprivate rank: number = 1;\n\n\tprivate direction: boolean;\n\n\tconstructor(id: SorterId,\n\t\t\t\tfield: Field,\n\t\t\t\tdirection: boolean = true) {\n\t\tthis.sorterId = id;\n\t\tthis.field = field;\n\t\tthis.direction = direction;\n\t}\n\n\tgetId(): SorterId {\n\t\treturn this.sorterId;\n\t}\n\n\tgetRank(): number {\n\t\treturn this.rank;\n\t}\n\n\tgetField(): Field {\n\t\treturn this.field;\n\t}\n\n\thasDirection(): boolean {\n\t\treturn this.direction;\n\t}\n\n\tchangeDirection(): void {\n\t\tthis.direction = !this.direction;\n\t}\n\n\tsetDirection(direction: boolean): void {\n\t\tthis.direction = direction;\n\t}\n\n\tsort(entities: Array<OriginItemEntity>): Array<OriginItemEntity> {\n\n\t\tif (entities.length === 0) {\n\t\t\treturn entities;\n\t\t}\n\n\t\treturn entities.sort((entityOne: OriginItemEntity, entityTwo: OriginItemEntity) => {\n\t\t\treturn this.field.sort(entityOne, entityTwo, this.direction);\n\t\t});\n\t}\n\n}\n","export class SorterId {\n\n\tprivate readonly sorterId: string;\n\n\tconstructor(id: string) {\n\t\tthis.sorterId = id;\n\t}\n\n\tgetId(): string {\n\t\treturn this.sorterId;\n\t}\n}\n","import { RandomStringGenerator } from '@generic-ui/hermes';\n\nimport { StructureSorter } from './structure.sorter';\nimport { SortingConfig } from '../domain-api/sorting-config';\nimport { SorterId } from './sorter.id';\nimport { FieldId } from '../../field/domain/core/field/field.id';\nimport { OriginItemEntity } from '../../source/domain/origin/origin-item-entity';\nimport { SortOrder } from '../../../lib/composition/domain/column/sort/sort-order';\nimport { Field } from '../../field/domain/core/field/field';\n\n\nexport class SorterCollection {\n\n\tprivate enabled: boolean;\n\n\tprivate multi: boolean;\n\n\tprivate readonly sorters = new Map<string, StructureSorter>();\n\n\tconstructor(enabled: boolean = false,\n\t\t\t\tmulti: boolean = false) {\n\t\tthis.enabled = enabled;\n\t\tthis.multi = multi;\n\t}\n\n\tsetConfig(config: SortingConfig): void {\n\n\t\tif (config && config.enabled !== undefined && config.enabled !== null) {\n\t\t\tthis.enabled = config.enabled;\n\t\t}\n\n\t\tif (config && config.multiSorting !== undefined && config.multiSorting !== null) {\n\t\t\tthis.multi = config.multiSorting;\n\t\t\tthis.sorters.clear();\n\t\t}\n\n\t}\n\n\ttoggle(field: Field): void {\n\n\t\tconst fieldId = field.getId(),\n\t\t\tsorter = this.sorters.get(fieldId.getId());\n\n\t\tif (sorter) {\n\t\t\tif (sorter.hasDirection()) {\n\t\t\t\tsorter.changeDirection();\n\t\t\t} else {\n\t\t\t\tthis.delete(fieldId);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.add(field);\n\t\t}\n\n\t}\n\n\tsetSortOrder(field: Field, sortOrder: SortOrder): void {\n\n\t\tconst fieldId = field.getId(),\n\t\t\tsorter = this.sorters.get(fieldId.getId());\n\n\t\tif (sortOrder === SortOrder.NONE) {\n\t\t\tthis.delete(fieldId);\n\t\t} else if (sortOrder === SortOrder.ASC || sortOrder === SortOrder.DESC) {\n\n\t\t\tthis.delete(fieldId);\n\n\t\t\tconst direction = sortOrder === SortOrder.ASC;\n\n\t\t\tthis.add(field, direction);\n\t\t}\n\t}\n\n\tadd(field: Field, direction = true): void {\n\t\tthis.addSorter(field.getId(), new StructureSorter(new SorterId(RandomStringGenerator.generate()), field, direction));\n\t}\n\n\taddSorter(fieldId: FieldId, sorter: StructureSorter): void {\n\n\t\tif (!this.multi) {\n\t\t\tthis.sorters.clear();\n\t\t}\n\n\t\tthis.sorters.set(fieldId.getId(), sorter);\n\t}\n\n\tdelete(fieldId: FieldId): void {\n\t\tthis.sorters.delete(fieldId.getId());\n\t}\n\n\tupdate(): void {\n\t}\n\n\t// TODO Remove the loop from sorter.sort\n\tsort(entities: Array<OriginItemEntity>): Array<OriginItemEntity> {\n\t\tconst sorters = this.getAll();\n\n\t\tlet sortedEntities = [...entities];\n\n\t\tfor (let sorter of sorters) {\n\t\t\tsortedEntities = sorter.sort(sortedEntities);\n\t\t}\n\n\t\treturn sortedEntities;\n\t}\n\n\tgetAll(): Array<StructureSorter> {\n\n\t\tif (!this.enabled) {\n\t\t\treturn [];\n\t\t}\n\n\t\treturn Array.from(this.sorters)\n\t\t\t\t\t.map((arr) => arr[1])\n\t\t\t\t\t.sort((sorterOne: StructureSorter, sorterTwo: StructureSorter) => {\n\t\t\t\t\t\treturn sorterOne.getRank() - sorterTwo.getRank();\n\t\t\t\t\t})\n\t\t\t\t\t.reverse();\n\t}\n}\n","import { UniqueValueId } from './unique-value-id';\n\nexport class UniqueValue {\n\n\tprivate readonly id: UniqueValueId;\n\n\tprivate value: any;\n\n\tprivate displayValue: string;\n\n\tprivate enabled: boolean;\n\n\tconstructor(\n\t\tid: UniqueValueId,\n\t\tvalue: any,\n\t\tdisplayValue: string,\n\t\tenabled: boolean\n\t) {\n\t\tthis.id = id;\n\t\tthis.value = value;\n\t\tthis.displayValue = displayValue;\n\t\tthis.enabled = enabled;\n\t}\n\n\tgetId(): UniqueValueId {\n\t\treturn this.id;\n\t}\n\n\tgetValue(): any {\n\t\treturn this.value;\n\t}\n\n\tgetDisplayValue(): string {\n\t\treturn this.displayValue;\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n\tisDisabled(): boolean {\n\t\treturn !this.enabled;\n\t}\n\n\tselect(): void {\n\t\tthis.enabled = true;\n\t}\n\n\tunselect(): void {\n\t\tthis.enabled = false;\n\t}\n}\n","export class UniqueValueId {\n\n\tprivate readonly id: string;\n\n\tconstructor(uniqueValueId: string) {\n\t\tthis.id = uniqueValueId;\n\t}\n\n\ttoString(): string {\n\t\treturn this.id;\n\t}\n\n\tequals(uniqueValueId: UniqueValueId): boolean {\n\t\treturn uniqueValueId.toString() === this.id;\n\t}\n\n}\n","import { UniqueValueId } from './unique-value-id';\n\nexport class UniqueValueIdGenerator {\n\n\tstatic index = 0;\n\n\tstatic generate(): UniqueValueId {\n\n\t\tUniqueValueIdGenerator.index += 1;\n\n\t\treturn new UniqueValueId(`${UniqueValueIdGenerator.index}`);\n\t}\n\n}\n","import { UniqueValue } from './unique-value';\nimport { UniqueValueIdGenerator } from './unique-value.id-generator';\nimport { UniqueValueId } from './unique-value-id';\nimport { Field } from '../../../field/domain/core/field/field';\n\nexport class UniqueValueCollection {\n\n\tprivate readonly values: Array<UniqueValue> = [];\n\n\tprivate allSelected: boolean;\n\n\tprivate allDisabled: boolean;\n\n\tconstructor(values: Array<any>,\n\t\t\t\tfield: Field) {\n\n\t\tfor (let value of values) {\n\n\t\t\tthis.values.push(\n\t\t\t\tnew UniqueValue(\n\t\t\t\t\tUniqueValueIdGenerator.generate(),\n\t\t\t\t\tvalue,\n\t\t\t\t\tfield.getDisplayValue(value),\n\t\t\t\t\ttrue\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\tthis.calculateAllSelected();\n\t\tthis.calculateAllDisabled();\n\t}\n\n\tgetAll(): Array<UniqueValue> {\n\t\treturn this.values;\n\t}\n\n\tisAllSelected(): boolean {\n\t\treturn this.allSelected;\n\t}\n\n\tisAllDisabled(): boolean {\n\t\treturn this.allDisabled;\n\t}\n\n\tgetNotSelected(): Array<UniqueValue> {\n\t\treturn this.values.filter((uv: UniqueValue) => uv.isDisabled());\n\t}\n\n\tselectAll(): void {\n\t\tthis.values.forEach((uv: UniqueValue) => {\n\t\t\tuv.select();\n\t\t});\n\t\tthis.allSelected = true;\n\t\tthis.allDisabled = false;\n\t}\n\n\tselect(uniqueValueId: UniqueValueId): void {\n\n\t\tthis.values\n\t\t\t.filter((uv) => uv.getId().equals(uniqueValueId))\n\t\t\t.forEach((uv: UniqueValue) => {\n\t\t\t\tuv.select();\n\t\t\t});\n\n\t\tthis.calculateAllSelected();\n\t\tthis.calculateAllDisabled();\n\t}\n\n\tunselectAll(): void {\n\t\tthis.values.forEach((uv: UniqueValue) => {\n\t\t\tuv.unselect();\n\t\t});\n\t\tthis.allSelected = false;\n\t\tthis.allDisabled = true;\n\t}\n\n\tunselect(uniqueValueId: UniqueValueId): void {\n\n\t\tthis.values\n\t\t\t.filter((uv) => uv.getId().equals(uniqueValueId))\n\t\t\t.forEach((uv: UniqueValue) => {\n\t\t\t\tuv.unselect();\n\t\t\t});\n\n\t\tthis.calculateAllSelected();\n\t\tthis.calculateAllDisabled();\n\t}\n\n\tprivate calculateAllSelected(): void {\n\t\tthis.allSelected = !this.values.some((f: UniqueValue) => f.isDisabled());\n\t}\n\n\tprivate calculateAllDisabled(): void {\n\t\tthis.allDisabled = !this.values.some((f: UniqueValue) => f.isEnabled());\n\t}\n\n}\n","import { KeyMap, Optional } from '@generic-ui/hermes';\n\nimport { FieldId } from '../../../field/domain/core/field/field.id';\nimport { OriginItemEntity } from '../../../source/domain/origin/origin-item-entity';\nimport { Field } from '../../../field/domain/core/field/field';\nimport { UniqueValueCollection } from './unique-value-collection';\nimport { UniqueValue } from './unique-value';\nimport { UniqueValueId } from './unique-value-id';\n\n\nexport class UniqueFilterManager {\n\n\tprivate readonly uniqueValueMap = new KeyMap<FieldId, UniqueValueCollection>();\n\n\tcalculate(entities: Array<OriginItemEntity>, field: Field): void {\n\n\t\tconst fieldId = field.getId();\n\n\t\tconst optUVM = this.uniqueValueMap.get(fieldId);\n\n\t\toptUVM.ifEmpty(() => {\n\n\t\t\tconst set = new Set();\n\n\t\t\tfor (let entity of entities) {\n\t\t\t\tset.add(field.getValue(entity));\n\t\t\t}\n\n\t\t\t// sort\n\t\t\tconst sortedValues = Array.from(set.values()).sort((a: any, b: any) => {\n\t\t\t\treturn (field as any).getField().sort(a, b);\n\t\t\t});\n\n\t\t\tconst uvc = new UniqueValueCollection(sortedValues, field);\n\n\t\t\tthis.uniqueValueMap.set(field.getId(), uvc);\n\t\t});\n\n\t}\n\n\tcalculateAll(entities: Array<OriginItemEntity>, fields: Array<Field>): void {\n\t\tfor (let field of fields) {\n\t\t\tthis.calculate(entities, field);\n\t\t}\n\t}\n\n\tfilterAll(entities: Array<OriginItemEntity>, fields: Array<Field>): Array<OriginItemEntity> {\n\n\t\tlet values: Array<OriginItemEntity> = entities;\n\n\t\tfor (let field of fields) {\n\n\t\t\tvalues = this.filter(values, field);\n\t\t}\n\n\t\treturn values;\n\t}\n\n\tfilter(entities: Array<OriginItemEntity>, field: Field): Array<OriginItemEntity> {\n\n\t\tlet values: Array<OriginItemEntity> = [];\n\n\t\tthis.uniqueValueMap\n\t\t\t.get(field.getId())\n\t\t\t.ifPresent((uvc: UniqueValueCollection) => {\n\n\t\t\t\tif (uvc.isAllSelected()) {\n\t\t\t\t\tvalues = entities;\n\t\t\t\t} else if (uvc.isAllDisabled()) {\n\t\t\t\t\tvalues = [];\n\t\t\t\t} else {\n\n\t\t\t\t\tvalues = entities.filter((itemEntity: OriginItemEntity) => {\n\n\t\t\t\t\t\tfor (let notSelectedValue of uvc.getNotSelected()) {\n\n\t\t\t\t\t\t\tif ((field.getField() as any).equals(itemEntity, (notSelectedValue as any).getValue())) {\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t});\n\n\t\treturn values;\n\t}\n\n\tselectAll(fieldId: FieldId): void {\n\n\t\tthis.uniqueValueMap\n\t\t\t.get(fieldId)\n\t\t\t.ifPresent((uvc: UniqueValueCollection) => {\n\t\t\t\tuvc.selectAll();\n\t\t\t});\n\t}\n\n\tselect(fieldId: FieldId, uniqueValueId: UniqueValueId): void {\n\n\t\tthis.uniqueValueMap\n\t\t\t.get(fieldId)\n\t\t\t.ifPresent((uvc: UniqueValueCollection) => {\n\t\t\t\tuvc.select(uniqueValueId);\n\t\t\t});\n\t}\n\n\tunselectAll(fieldId: FieldId): void {\n\n\t\tthis.uniqueValueMap\n\t\t\t.get(fieldId)\n\t\t\t.ifPresent((uvc: UniqueValueCollection) => {\n\t\t\t\tuvc.unselectAll();\n\t\t\t});\n\t}\n\n\tunselect(fieldId: FieldId, uniqueValueId: UniqueValueId): void {\n\n\t\tthis.uniqueValueMap\n\t\t\t.get(fieldId)\n\t\t\t.ifPresent((uvc: UniqueValueCollection) => {\n\t\t\t\tuvc.unselect(uniqueValueId);\n\t\t\t});\n\t}\n\n\tgetAll(fields: Array<Field>): Map<string, Array<UniqueValue>> {\n\n\t\tlet map = new Map();\n\n\t\tfor (let field of fields) {\n\n\t\t\tthis.getValues(field)\n\t\t\t\t.ifPresent((v) => {\n\t\t\t\t\tmap.set(field.getId().toString(), v);\n\t\t\t\t});\n\t\t}\n\n\t\treturn map;\n\t}\n\n\tgetValues(field: Field): Optional<Array<UniqueValue>> {\n\n\t\treturn this.uniqueValueMap\n\t\t\t\t   .get(field.getId())\n\t\t\t\t   .map((uvc: UniqueValueCollection) => {\n\t\t\t\t\t   return uvc.getAll();\n\t\t\t\t   });\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateFactory } from '@generic-ui/hermes';\n\nimport { PagingManagerFactory } from '../../../../structure/paging/domain/paging.manager-factory';\nimport { SourceManagerFactory } from '../../../../structure/source/domain/core/source.manager-factory';\nimport { VerticalFormationFactory } from './vertical-formation/vertical-formation.factory';\nimport { SummariesManagerFactory } from './summaries/summaries.manager.factory';\nimport { FilterManagerFactory } from '../../../../structure/filter/domain/filter.manager-factory';\nimport { FieldCollectionFactory } from '../../../../structure/field/domain/core/field-collection.factory';\nimport { StructureId } from '../structure.id';\nimport { StructureAggregate } from './structure.aggregate';\nimport { SorterCollection } from '../../../../structure/sorting/domain/sorter.collection';\nimport { SearchManagerFactory } from '../../../../structure/search/domain/search.manager-factory';\nimport { UniqueFilterManager } from '../../../../structure/filter/domain/unique/unique-filter-manager';\n\n\n@Injectable()\nexport class StructureAggregateFactory extends AggregateFactory<StructureId, StructureAggregate> {\n\n\tconstructor(private readonly pagingAggregateFactory: PagingManagerFactory,\n\t\t\t\tprivate readonly sourceManagerFactory: SourceManagerFactory,\n\t\t\t\tprivate readonly verticalFormationFactory: VerticalFormationFactory,\n\t\t\t\tprivate readonly summariesManagerFactory: SummariesManagerFactory,\n\t\t\t\tprivate readonly filterManagerFactory: FilterManagerFactory,\n\t\t\t\tprivate readonly searchManagerFactory: SearchManagerFactory,\n\t\t\t\tprivate readonly fieldCollectionFactory: FieldCollectionFactory) {\n\t\tsuper();\n\t}\n\n\tcreate(structureId: StructureId): StructureAggregate {\n\n\t\tconst paging = this.pagingAggregateFactory.createDefault(),\n\t\t\tsource = this.sourceManagerFactory.createDefault(),\n\t\t\tverticalFormation = this.verticalFormationFactory.create();\n\n\t\tconst sorterContainer: SorterCollection = new SorterCollection(),\n\t\t\tfilterContainer = this.filterManagerFactory.create(false),\n\t\t\tfieldContainer = this.fieldCollectionFactory.create(),\n\t\t\tsummariesManager = this.summariesManagerFactory.create(structureId),\n\t\t\tsearchManager = this.searchManagerFactory.create();\n\n\t\tconst structureAggregate = new StructureAggregate(structureId,\n\t\t\tpaging,\n\t\t\tsource,\n\t\t\tverticalFormation,\n\t\t\tsummariesManager,\n\t\t\tsorterContainer,\n\t\t\tfilterContainer,\n\t\t\tnew UniqueFilterManager(),\n\t\t\tsearchManager,\n\t\t\tfieldContainer\n\t\t);\n\n\t\tthis.init(structureAggregate);\n\n\t\treturn structureAggregate;\n\t}\n\n\tinit(structureAggregate: StructureAggregate): void {\n\t\tstructureAggregate.init();\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { SetRowHeightCommand } from './set-row-height.command';\nimport { StructureAggregate } from '../../structure.aggregate';\nimport { RowHeightSetEvent } from './row-height-set.event';\n\n\n@Injectable()\nexport class SetRowHeightCommandHandler implements CommandHandler<StructureAggregate, SetRowHeightCommand> {\n\n\tconstructor(private readonly domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SetRowHeightCommand> {\n\t\treturn SetRowHeightCommand;\n\t}\n\n\tpublishDomainEvents(aggregate: StructureAggregate, command: SetRowHeightCommand): void {\n\t\tthis.domainEventPublisher.publish(new RowHeightSetEvent(command.getAggregateId()));\n\t}\n\n\thandleAggregate(structure: StructureAggregate, command: SetRowHeightCommand): void {\n\n\t\tconst rowHeight = command.getRowHeight();\n\n\t\tconst formation = structure.getVerticalFormation();\n\n\t\tformation.setRowHeight(rowHeight);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { StructureSetHeightCommand } from './structure-set-height.command';\nimport { StructureHeightSetEvent } from './structure-height-set.event';\nimport { StructureAggregate } from '../../../structure.aggregate';\n\n\n@Injectable()\nexport class StructureSetHeightCommandHandler implements CommandHandler<StructureAggregate, StructureSetHeightCommand> {\n\n\tconstructor(private domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<StructureSetHeightCommand> {\n\t\treturn StructureSetHeightCommand;\n\t}\n\n\tpublishDomainEvents(aggregate: StructureAggregate, command: StructureSetHeightCommand): void {\n\t\tthis.domainEventPublisher.publish(new StructureHeightSetEvent(command.getAggregateId()));\n\t}\n\n\thandleAggregate(aggregate: StructureAggregate, command: StructureSetHeightCommand): void {\n\n\t\tconst height = command.getHeight();\n\n\t\taggregate.setHeight(height);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { SetRowHeightBasedOnThemeCommand } from './set-row-height-based-on-theme.command';\nimport { StructureAggregate } from '../../structure.aggregate';\nimport { RowHeightSetBasedOnThemeEvent } from './row-height-set-based-on-theme.event';\n\n\n@Injectable()\nexport class SetRowHeightBasedOnThemeCommandHandler implements CommandHandler<StructureAggregate, SetRowHeightBasedOnThemeCommand> {\n\n\tconstructor(private readonly domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SetRowHeightBasedOnThemeCommand> {\n\t\treturn SetRowHeightBasedOnThemeCommand;\n\t}\n\n\tpublishDomainEvents(aggregate: StructureAggregate, command: SetRowHeightBasedOnThemeCommand): void {\n\t\tthis.domainEventPublisher.publish(new RowHeightSetBasedOnThemeEvent(command.getAggregateId()));\n\t}\n\n\thandleAggregate(structure: StructureAggregate, command: SetRowHeightBasedOnThemeCommand): void {\n\n\t\tconst theme = command.getTheme();\n\n\t\tstructure.setTheme(theme);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, ReplaySubject } from 'rxjs';\nimport { distinctUntilChanged, map } from 'rxjs/operators';\n\nimport { Reactive } from '../../../../../common/cdk/reactive';\n\nimport { StructureId } from '../../../domain/structure.id';\nimport { SummariesManager } from '../../../domain/structure/summaries/summaries.manager';\n\n\n@Injectable()\nexport class StructureSummariesRepository extends Reactive {\n\n\tprivate enabled = new Map<string, boolean>();\n\n\tprivate enabled$ = new ReplaySubject<Map<string, boolean>>();\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tinit(structureId: StructureId): void {\n\t\tthis.setEnabled(SummariesManager.DEFAULT_ENABLED, structureId);\n\t}\n\n\tsetEnabled(enabled: boolean, structureId: StructureId): void {\n\t\tthis.next(enabled, structureId);\n\t}\n\n\tonSummariesEnabled(structureId: StructureId): Observable<boolean> {\n\n\t\treturn this.enabled$\n\t\t\t\t   .asObservable()\n\t\t\t\t   .pipe(\n\t\t\t\t\t   this.takeUntil(),\n\t\t\t\t\t   map((map: Map<string, boolean>) => {\n\t\t\t\t\t\t   return map.get(structureId.toString());\n\t\t\t\t\t   }),\n\t\t\t\t\t   distinctUntilChanged()\n\t\t\t\t   );\n\t}\n\n\tprivate next(enabled: boolean, structureId: StructureId): void {\n\t\tthis.enabled.set(structureId.toString(), enabled);\n\t\tthis.enabled$.next(this.enabled);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { StructureId } from '../../domain/structure.id';\nimport { structureGlobalId } from '../structure.global-id';\nimport { StructureSummariesRepository } from './enabled/structure.summaries.repository';\n\n\n@Injectable()\nexport class StructureSummariesWarehouse {\n\n\tconstructor(private structureSummariesRepository: StructureSummariesRepository) {\n\t}\n\n\tonSummariesEnabled(structureId: StructureId = structureGlobalId): Observable<boolean> {\n\t\treturn this.structureSummariesRepository.onSummariesEnabled(structureId);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventHandler, DomainEventType } from '@generic-ui/hermes';\n\nimport { StructureSummariesRepository } from '../../../domain-api/summaries/enabled/structure.summaries.repository';\nimport { StructureCreatedEvent } from './structure-created.event';\nimport { StructureId } from '../../structure.id';\n\n\n@Injectable()\nexport class StructureCreatedEventHandler implements DomainEventHandler<StructureId, StructureCreatedEvent> {\n\n\tconstructor(private structureSummariesRepository: StructureSummariesRepository) {\n\t}\n\n\tforEvent(): DomainEventType<StructureCreatedEvent> {\n\t\treturn StructureCreatedEvent;\n\t}\n\n\thandle(event: StructureCreatedEvent): void {\n\n\t\tif (event.ofMessageType('StructureCreatedEvent')) {\n\n\t\t\tconst structureId = event.getAggregateId();\n\n\t\t\tthis.structureSummariesRepository.init(structureId);\n\n\t\t}\n\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventHandler, DomainEventType } from '@generic-ui/hermes';\n\nimport { StructureSummariesRepository } from './structure.summaries.repository';\nimport { StructureSummariesEnabledSetEvent } from '../../../domain/structure/summaries/set/structure.summaries-enabled-set.event';\nimport { StructureId } from '../../../domain/structure.id';\n\n\n@Injectable()\nexport class StructureSummariesEnabledSetEventHandler implements DomainEventHandler<StructureId, StructureSummariesEnabledSetEvent> {\n\n\tconstructor(private structureSummariesRepository: StructureSummariesRepository) {\n\t}\n\n\tforEvent(): DomainEventType<StructureSummariesEnabledSetEvent> {\n\t\treturn StructureSummariesEnabledSetEvent;\n\t}\n\n\thandle(event: StructureSummariesEnabledSetEvent): void {\n\n\t\tif (event.ofMessageType('StructureSummariesEnabledSetEvent')) {\n\t\t\tthis.structureSummariesRepository.setEnabled(event.isEnabled(), event.getAggregateId());\n\t\t}\n\n\t}\n\n}\n","import { HermesModule } from '@generic-ui/hermes';\nimport {\n\tinMemoryStructureCommandProviders,\n\tinMemoryStructureProviders,\n\tinMemoryStructureReadProviders\n} from '../infrastructure/in-memory/in-memory.structure.providers';\nimport { SetVerticalScrollEnabledCommandHandler } from '../domain/structure/vertical-formation/set-enabled/set-vertical-scroll-enabled.command-handler';\nimport { SetScrollPositionCommandHandler } from '../domain/structure/vertical-formation/scroll-position/set-scroll-position.command-handler';\nimport { StructureSetSummariesEnabledCommandHandler } from '../domain/structure/summaries/set/structure.set-summaries-enabled.command-handler';\nimport { VerticalFormationFactory } from '../domain/structure/vertical-formation/vertical-formation.factory';\nimport { summariesProviders } from '../domain/structure/summaries/summaries.providers';\nimport { FieldsInitedEventHandler } from '../../../structure/field/domain-api/read/fields-inited.event-handler';\nimport { VerticalFormationConverter } from './vertical-formation/vertical-formation.converter';\nimport { StructureSummariesCommandDispatcher } from './summaries/structure-summaries.command-dispatcher';\nimport { StructureSummariesUiEventsRepository } from './summaries/structure-summaries.ui-events-repository';\nimport { StructureCommandDispatcher } from './structure.command-dispatcher';\nimport { StructureReadModelRootConverter } from './read/structure.read-model-root-converter';\nimport { StructureAggregateFactory } from '../domain/structure/structure.aggregate-factory';\nimport { StructureWarehouse } from './structure.warehouse';\nimport { VerticalFormationRepository } from './vertical-formation/vertical-formation.repository';\nimport { SetRowHeightCommandHandler } from '../domain/structure/vertical-formation/set-row-height/set-row-height.command-handler';\nimport { StructureSetHeightCommandHandler } from '../domain/structure/vertical-formation/container/set-height/structure-set-height.command-handler';\nimport { SetRowHeightBasedOnThemeCommandHandler } from '../domain/structure/vertical-formation/set-row-height-theme/set-row-height-based-on-theme.command-handler';\nimport { StructureVerticalFormationWarehouse } from './vertical-formation/structure-vertical-formation.warehouse';\nimport { StructureSummariesWarehouse } from './summaries/structure-summaries.warehouse';\nimport { StructureSummariesRepository } from './summaries/enabled/structure.summaries.repository';\nimport { StructureCreatedEventHandler } from '../domain/structure/create-structure/structure-created.event-handler';\nimport { StructureSummariesEnabledSetEventHandler } from './summaries/enabled/structure.summaries-enabled-set.event-handler';\n\n\nconst commandProviders = [\n\t...inMemoryStructureCommandProviders,\n\n\tVerticalFormationFactory,\n\n\t...summariesProviders\n];\n\nconst readProviders = [\n\t...inMemoryStructureReadProviders,\n\tVerticalFormationConverter,\n\tVerticalFormationRepository,\n\n\tStructureSummariesRepository,\n\tStructureSummariesWarehouse\n];\n\nexport const structureCommandHandlers = [\n\t...HermesModule.registerCommandHandler(SetVerticalScrollEnabledCommandHandler, 'StructureAggregate'),\n\t...HermesModule.registerCommandHandler(SetRowHeightBasedOnThemeCommandHandler, 'StructureAggregate'),\n\t...HermesModule.registerCommandHandler(SetScrollPositionCommandHandler, 'StructureAggregate'),\n\t...HermesModule.registerCommandHandler(StructureSetSummariesEnabledCommandHandler, 'StructureAggregate'),\n\t...HermesModule.registerCommandHandler(SetRowHeightCommandHandler, 'StructureAggregate'),\n\t...HermesModule.registerCommandHandler(StructureSetHeightCommandHandler, 'StructureAggregate')\n];\n\nexport const structureDomainEventHandlers = [\n\t...HermesModule.registerDomainEventHandler(StructureSummariesEnabledSetEventHandler),\n\t...HermesModule.registerDomainEventHandler(StructureCreatedEventHandler),\n\t...HermesModule.registerDomainEventHandler(FieldsInitedEventHandler)\n];\n\nexport const structureProviders = [\n\t...inMemoryStructureProviders,\n\n\t...commandProviders,\n\t...readProviders,\n\n\tStructureSummariesCommandDispatcher,\n\tStructureSummariesUiEventsRepository,\n\n\tStructureAggregateFactory,\n\tStructureReadModelRootConverter,\n\n\tStructureVerticalFormationWarehouse,\n\tStructureWarehouse,\n\tStructureCommandDispatcher\n\n];\n","import { Logger } from './logger';\n\nexport class ConsoleLogger extends Logger {\n\n\twarn(text: string): void {\n\t\tconsole.warn(text);\n\t}\n\n\terror(text: string): void {\n\t\tconsole.error(text);\n\t}\n\n}\n","import { NgModule } from '@angular/core';\nimport { Logger } from './logger';\nimport { ConsoleLogger } from './console.logger';\n\n\n@NgModule({\n\tproviders: [{\n\t\tprovide: Logger,\n\t\tuseClass: ConsoleLogger\n\t}]\n})\nexport class LoggerModule {\n}\n","import { Injectable } from '@angular/core';\n\nimport { ItemEntity } from './item.entity';\nimport { OriginItemEntity } from '../../origin/origin-item-entity';\n\n@Injectable()\nexport class ItemEntityFactory {\n\n\tcreate(data: any): ItemEntity;\n\tcreate(data: Array<any>): Array<ItemEntity>;\n\tcreate(data: any): any {\n\n\t\tif (Array.isArray(data)) {\n\t\t\treturn this.createEntities(data);\n\t\t} else {\n\t\t\treturn this.createEntity(data);\n\t\t}\n\t}\n\n\tcreateEntities(data: Array<any>): Array<ItemEntity> {\n\t\treturn data.map((data: any) => this.createEntity(data));\n\t}\n\n\tprivate createEntity(originItem: OriginItemEntity | any): ItemEntity {\n\n\t\tif (originItem instanceof OriginItemEntity) {\n\t\t\treturn new ItemEntity(originItem.rawData, originItem.getPosition(), originItem.getId().toString(), originItem.getVersion());\n\t\t} else {\n\t\t\treturn new ItemEntity(originItem, 0);\n\t\t}\n\t}\n}\n","import { ChangeDetectionStrategy, Component, ViewEncapsulation } from '@angular/core';\n\nimport { SmartComponent } from '../../../../../common/cdk/smart-component';\n\n@Component({\n\tselector: 'gui-structure-top-panel',\n\ttemplate: `\n\n\t\t<gui-search-bar></gui-search-bar>\n<!--\t\t<gui-filter-menu-trigger></gui-filter-menu-trigger>-->\n\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureTopPanelComponent extends SmartComponent {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\n\nimport { StructureTopPanelComponent } from './structure.top-panel.component';\nimport { FilterMenuFeatureModule } from '../../../../../structure/filter/feature/filter-menu.feature-module';\n\nimport { SearchFeatureModule } from '../../../../../structure/search/feature/search.feature-module';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tReactiveFormsModule,\n\t\tFilterMenuFeatureModule,\n\t\tSearchFeatureModule\n\t],\n\tdeclarations: [\n\t\tStructureTopPanelComponent\n\t],\n\texports: [\n\t\tStructureTopPanelComponent\n\t]\n})\nexport class StructureTopPanelModule {\n}\n","import {\n\tChangeDetectionStrategy,\n\tChangeDetectorRef,\n\tComponent,\n\tElementRef,\n\tInput,\n\tOnInit,\n\tViewChild,\n\tViewEncapsulation\n} from '@angular/core';\n\nimport { CellTemplateWithContext } from '../../../../composition/domain-api/read/definition/cell-template-with-context';\nimport { StructureCommandDispatcher } from '../../../domain-api/structure.command-dispatcher';\nimport { StructureColumnConfigService } from './structure.column-config.service';\nimport { StructureColumnMenuConfig } from './config/structure.column-menu-config';\nimport { SmartComponent } from '../../../../../common/cdk/smart-component';\nimport { StructureColumnMenuConfigArchive } from './config/structure.column-menu-config.archive';\n\n\n@Component({\n\tselector: 'gui-structure-column-config-trigger',\n\ttemplate: `\n\t\t<div #headerDialogContainer\n\t\t\t *ngIf=\"isEnabled()\"\n\t\t\t class=\"gui-header-menu-icon-wrapper\"\n\t\t\t (click)=\"openConfigDialog()\">\n\n\t\t\t<gui-structure-column-menu-icon [ngClass]=\"'gui-header-menu-icon'\"></gui-structure-column-menu-icon>\n\n\t\t</div>\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureColumnConfigTriggerComponent extends SmartComponent implements OnInit {\n\n\t@ViewChild('headerDialogContainer', { static: false })\n\theaderDialogContainer: ElementRef;\n\n\t@Input()\n\tcolumn: CellTemplateWithContext;\n\n\tconfig: StructureColumnMenuConfig;\n\n\tconstructor(private elementRef: ElementRef,\n\t\t\t\tprivate changeDetectorRef: ChangeDetectorRef,\n\t\t\t\tprivate structureCommandService: StructureCommandDispatcher,\n\t\t\t\tprivate structureColumnMenuConfigArchive: StructureColumnMenuConfigArchive,\n\t\t\t\tprivate structureColumnConfigService: StructureColumnConfigService) {\n\t\tsuper();\n\t}\n\n\tngOnInit() {\n\t\tthis.structureColumnMenuConfigArchive\n\t\t\t.onValue()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((config: StructureColumnMenuConfig) => {\n\t\t\t\tthis.config = config;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\t}\n\n\topenConfigDialog(): void {\n\t\tthis.structureColumnConfigService.open(this.headerDialogContainer, this.column);\n\t}\n\n\tcloseConfigDialog(): void {\n\t\tthis.structureColumnConfigService.close();\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.config && this.config.isEnabled();\n\t}\n\n}\n","import { ChangeDetectorRef, Component, Input, OnInit } from '@angular/core';\n\nimport { Placement } from '@generic-ui/fabric';\n\nimport { SortOrder } from '../../../../../../composition/domain/column/sort/sort-order';\nimport { CellTemplateWithContext } from '../../../../../../composition/domain-api/read/definition/cell-template-with-context';\nimport { CompositionWarehouse } from '../../../../../../composition/domain-api/composition.warehouse';\nimport { SmartComponent } from '../../../../../../../common/cdk/smart-component';\nimport { SortingCommandDispatcher } from '../../../../../../../structure/sorting/domain-api/sorting.command-dispatcher';\nimport { CompositionId } from '../../../../../../composition/domain/composition.id';\nimport { StructureId } from '../../../../../domain/structure.id';\n\n@Component({\n\tselector: 'gui-structure-column-config-sort',\n\ttemplate: `\n\n\t\t<gui-dropdown [placement]=\"placement\"\n\t\t\t\t\t  [dropdownText]=\"'Column Sort'\"\n\t\t\t\t\t  [width]=\"225\"\n\t\t\t\t\t  [showOnHover]=\"true\"\n\t\t\t\t\t  class=\"gui-header-menu-dropdown\">\n\n\t\t\t<gui-dropdown-item (click)=\"setSortOrder(status.ASC)\"\n\t\t\t\t\t\t\t   [class.gui-header-item-active]=\"isAscSort()\">\n\t\t\t\t<div class=\"gui-sort-title\">Ascending\n\t\t\t\t\t<gui-structure-column-menu-arrow-icon [sort]=\"true\" [rotateDeg]=\"0\">\n\t\t\t\t\t</gui-structure-column-menu-arrow-icon>\n\t\t\t\t</div>\n\t\t\t</gui-dropdown-item>\n\n\t\t\t<gui-dropdown-item (click)=\"setSortOrder(status.DESC)\"\n\t\t\t\t\t\t\t   [class.gui-header-item-active]=\"isDescSort()\">\n\t\t\t\t<div class=\"gui-sort-title\">Descending\n\t\t\t\t\t<gui-structure-column-menu-arrow-icon [sort]=\"true\" [rotateDeg]=\"180\">\n\t\t\t\t\t</gui-structure-column-menu-arrow-icon>\n\t\t\t\t</div>\n\t\t\t</gui-dropdown-item>\n\n\t\t\t<gui-dropdown-item (click)=\"setSortOrder(status.NONE)\"\n\t\t\t\t\t\t\t   [class.gui-header-item-active]=\"isNoneSort()\">\n\t\t\t\tNone\n\t\t\t</gui-dropdown-item>\n\n\t\t</gui-dropdown>\n\t`\n})\nexport class StructureColumnConfigSortComponent extends SmartComponent implements OnInit {\n\n\t@Input()\n\tcolumn: CellTemplateWithContext;\n\n\tplacement: Placement = Placement.Right;\n\n\tstatus = SortOrder;\n\n\tsortStatus: SortOrder;\n\n\tconstructor(private readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\tprivate readonly compositionId: CompositionId,\n\t\t\t\tprivate readonly structureId: StructureId,\n\t\t\t\tprivate readonly sortingCommandDispatcher: SortingCommandDispatcher,\n\t\t\t\tprivate readonly compositionReadModelService: CompositionWarehouse) {\n\t\tsuper();\n\t}\n\n\tngOnInit() {\n\t\tthis.sortStatus = this.column.getSortStatus();\n\n\t\tthis.compositionReadModelService\n\t\t\t.onSortOrder(this.column.getFieldId())\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((sortStatus: SortOrder) => {\n\t\t\t\tthis.sortStatus = sortStatus;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\t}\n\n\tisAscSort(): boolean {\n\t\treturn this.sortStatus === SortOrder.ASC;\n\t}\n\n\tisDescSort(): boolean {\n\t\treturn this.sortStatus === SortOrder.DESC;\n\t}\n\n\tisNoneSort(): boolean {\n\t\treturn this.sortStatus === SortOrder.NONE;\n\t}\n\n\tsetSortOrder(sort: SortOrder): void {\n\t\tevent.stopPropagation();\n\t\tthis.sortingCommandDispatcher.setSortOrder(this.column.getFieldId(), sort, this.compositionId, this.structureId);\n\t}\n}\n","import { Component, Input } from '@angular/core';\n\nimport { CellTemplateWithContext } from '../../../../../../composition/domain-api/read/definition/cell-template-with-context';\nimport { CompositionCommandDispatcher } from '../../../../../../composition/domain-api/composition.command-dispatcher';\nimport { StructureColumnConfigService } from '../../structure.column-config.service';\n\n\n@Component({\n\tselector: 'gui-structure-column-config-column-hide',\n\ttemplate: `\n\n\t\t<div class=\"gui-header-menu-item\"\n\t\t\t (click)=\"hideColumn(column)\">\n\t\t\tHide Column\n\t\t</div>\n\t`\n})\nexport class StructureColumnConfigColumnHideComponent {\n\n\t@Input()\n\tcolumn: CellTemplateWithContext;\n\n\tconstructor(private compositionCommandService: CompositionCommandDispatcher,\n\t\t\t\tprivate structureColumnConfigService: StructureColumnConfigService) {\n\t}\n\n\thideColumn(column: CellTemplateWithContext): void {\n\t\tthis.compositionCommandService.disableColumn(column.getColumnDefinitionId());\n\n\t\tthis.structureColumnConfigService.close();\n\t}\n\n}\n","import { Component, Input } from '@angular/core';\n\nimport { CellTemplateWithContext } from '../../../../../../composition/domain-api/read/definition/cell-template-with-context';\nimport { CompositionCommandDispatcher } from '../../../../../../composition/domain-api/composition.command-dispatcher';\nimport { StructureColumnConfigService } from '../../structure.column-config.service';\n\n@Component({\n\tselector: 'gui-structure-column-config-column-move',\n\ttemplate: `\n\t\t<div class=\"gui-header-menu-column-move\">\n\t\t\t<div class=\"gui-header-menu-column-move-item left\"\n\t\t\t\t (click)=\"moveLeft(column)\">\n\t\t\t\t<gui-structure-column-menu-arrow-icon [rotateDeg]=\"-90\"></gui-structure-column-menu-arrow-icon>\n\t\t\t\tMove Left\n\t\t\t</div>\n\n\t\t\t<div class=\"gui-header-menu-column-move-item right\"\n\t\t\t\t (click)=\"moveRight(column)\">\n\t\t\t\tMove Right\n\t\t\t\t<gui-structure-column-menu-arrow-icon></gui-structure-column-menu-arrow-icon>\n\t\t\t</div>\n\t\t</div>\n\t`\n})\nexport class StructureColumnConfigColumnMoveComponent {\n\n\t@Input()\n\tcolumn: CellTemplateWithContext;\n\n\tconstructor(private compositionCommandService: CompositionCommandDispatcher,\n\t\t\t\tprivate structureColumnConfigService: StructureColumnConfigService) {\n\t}\n\n\tmoveLeft(column: CellTemplateWithContext): void {\n\t\tthis.compositionCommandService.moveLeft(column.getColumnDefinitionId());\n\t\tthis.structureColumnConfigService.close();\n\t}\n\n\tmoveRight(column: CellTemplateWithContext): void {\n\t\tthis.compositionCommandService.moveRight(column.getColumnDefinitionId());\n\t\tthis.structureColumnConfigService.close();\n\t}\n\n}\n","import { ChangeDetectionStrategy, Component, ViewEncapsulation } from '@angular/core';\n\nexport const selector = 'gui-structure-column-menu-icon';\n\n@Component({\n\tselector: selector,\n\ttemplate: `\n\t\t<svg data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 10.32 7.46\">\n\t\t\t<line class=\"cls-1\" x1=\"9.57\" y1=\"3.73\" x2=\"0.75\" y2=\"3.73\"/>\n\t\t\t<line class=\"cls-1\" x1=\"9.57\" y1=\"0.75\" x2=\"0.75\" y2=\"0.75\"/>\n\t\t\t<line class=\"cls-1\" x1=\"9.57\" y1=\"6.71\" x2=\"0.75\" y2=\"6.71\"/>\n\t\t</svg>\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None,\n\thost: {\n\t\t'[class.gui-structure-column-menu-icon]': 'true',\n\t\t'[class.gui-icon]': 'true'\n\t}\n})\nexport class StructureColumnMenuIconComponent {\n}\n","import { ChangeDetectionStrategy, Component, Input, ViewEncapsulation } from '@angular/core';\n\nexport const selector = 'gui-structure-column-menu-arrow-icon';\n\n@Component({\n\tselector: selector,\n\ttemplate: `\n\t\t<div [style.transform]=\"'rotate(' + rotateDeg + 'deg)'\"\n\t\t\t [class.gui-structure-column-menu-sort-icon]=\"sort\">\n\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 10.04 11.72\">\n\t\t\t\t<line class=\"cls-1\" x1=\"5.02\" y1=\"2.15\" x2=\"5.02\" y2=\"10.97\"/>\n\t\t\t\t<line class=\"cls-1\" x1=\"5.02\" y1=\"0.75\" x2=\"9.29\" y2=\"5.02\"/>\n\t\t\t\t<line class=\"cls-1\" x1=\"5.02\" y1=\"0.75\" x2=\"0.75\" y2=\"5.02\"/>\n\t\t\t</svg>\n\t\t</div>\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None,\n\thost: {\n\t\t'[class]': `\"${selector}\"`\n\t}\n})\nexport class StructureColumnMenuArrowIconComponent {\n\t@Input()\n\trotateDeg: number = 90;\n\n\t@Input()\n\tsort: boolean;\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, Input, ViewEncapsulation } from '@angular/core';\n\nimport { SmartComponent } from '../../../../common/cdk/smart-component';\nimport { FieldId } from '../../../field/domain/core/field/field.id';\nimport { UniqueValuesReadModel } from '../../domain-api/unique/unique-values.read-model';\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\nimport { FilterWarehouse } from '../../domain-api/filter.warehouse';\nimport { UniqueValueReadModel } from '../../domain-api/unique/unique-value.read-model';\nimport { FilterCommandDispatcher } from '../../domain-api/filter.command-dispatcher';\n\n@Component({\n\tselector: 'gui-unique-value-list',\n\ttemplate: `\n\n\t\t<gui-checkbox [checked]=\"selectAllChecked\"\n\t\t\t\t\t  [indeterminate]=\"selectAllIndeterminate\"\n\t\t\t\t\t  (changed)=\"toggleAllSelect()\">\n\t\t\tSelect all\n\t\t</gui-checkbox>\n\t\t<div class=\"gui-unique-value-list\">\n\t\t\t<div *ngFor=\"let value of uniqueValues\">\n\t\t\t\t<gui-checkbox [checked]=\"value.isEnabled()\"\n\t\t\t\t\t\t\t  (changed)=\"toggleSelect(value)\">\n\t\t\t\t\t{{value.getValue()}}\n\t\t\t\t</gui-checkbox>\n\t\t\t</div>\n\t\t</div>\n\t\t\n\t\t<div class=\"gui-unique-value-list-actions\">\n<!--\t\t\t<button gui-button-->\n<!--\t\t\t\t\t[outline]=\"true\"-->\n<!--\t\t\t\t\t(click)=\"clearFilters()\">-->\n<!--\t\t\t\tCancel-->\n<!--\t\t\t</button>-->\n\t\t\t\n\t\t\t<button gui-button\n\t\t\t\t\t[outline]=\"true\"\n\t\t\t\t\t[primary]=\"true\"\n\t\t\t\t\t(click)=\"clearFilters()\">\n\t\t\t\tClear\n\t\t\t</button>\n\t\t</div>\n\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None,\n\tstyleUrls: ['../style/unique-value-list.ngx.scss']\n})\nexport class UniqueValueListComponent extends SmartComponent {\n\n\t@Input()\n\tfieldId: FieldId;\n\n\tselectAllChecked: boolean;\n\n\tselectAllIndeterminate: boolean;\n\n\tuniqueValues: Array<UniqueValueReadModel> = [];\n\n\tconstructor(private readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\tprivate readonly structureId: StructureId,\n\t\t\t\tprivate readonly filterWarehouse: FilterWarehouse,\n\t\t\t\tprivate readonly filterCommandDispatcher: FilterCommandDispatcher) {\n\t\tsuper();\n\t}\n\n\tngOnInit() {\n\n\t\tthis.filterWarehouse\n\t\t\t.onUniqueValues(this.structureId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((uniqueValuesReadModel: UniqueValuesReadModel) => {\n\t\t\t\tthis.uniqueValues = uniqueValuesReadModel.getValues(this.fieldId);\n\n\t\t\t\tthis.selectAllChecked = uniqueValuesReadModel.isSelectAllChecked(this.fieldId);\n\t\t\t\tthis.selectAllIndeterminate = uniqueValuesReadModel.isIndeterminate(this.fieldId);\n\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\t}\n\n\ttoggleAllSelect(): void {\n\t\tevent.stopPropagation();\n\n\t\tif (this.selectAllChecked) {\n\t\t\tthis.filterCommandDispatcher.unselectAllUniqueFilter(this.fieldId, this.structureId);\n\t\t} else {\n\t\t\tthis.filterCommandDispatcher.selectAllUniqueFilter(this.fieldId, this.structureId);\n\t\t}\n\t}\n\n\ttoggleSelect(uniqueValueReadModel: UniqueValueReadModel): void {\n\t\tevent.stopPropagation();\n\n\t\tif (uniqueValueReadModel.isEnabled()) {\n\t\t\tthis.filterCommandDispatcher.unselectUniqueFilter(this.fieldId, uniqueValueReadModel.getId(), this.structureId);\n\t\t} else {\n\t\t\tthis.filterCommandDispatcher.selectUniqueFilter(this.fieldId, uniqueValueReadModel.getId(), this.structureId);\n\t\t}\n\t}\n\n\tclearFilters(): void {\n\t\tthis.filterCommandDispatcher.selectAllUniqueFilter(this.fieldId, this.structureId);\n\t}\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { UniqueValueListComponent } from './unique-value-list.component';\nimport { fabricImports } from '../../../../lib/structure/feature/structure-fabric.imports';\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tfabricImports\n\t],\n\tdeclarations: [\n\t\tUniqueValueListComponent\n\t],\n\texports: [\n\t\tUniqueValueListComponent\n\t]\n})\nexport class UniqueValueListModule {\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { StructureColumnConfigComponent } from './structure.column-config.component';\nimport { StructureColumnConfigTriggerComponent } from './structure.column-config-trigger.component';\nimport { StructureColumnConfigSortComponent } from './main/sort/structure.column-config-sort.component';\nimport { StructureColumnConfigColumnHideComponent } from './main/hide/structure.column-config-column-hide.component';\nimport { StructureColumnConfigColumnMoveComponent } from './main/move/structure.column-config-column-move.component';\nimport { fabricImports } from '../../structure-fabric.imports';\nimport { StructureColumnManagerModule } from '../../column-manager/structure.column-manager.module';\nimport { StructureColumnMenuIconComponent } from './icon/structure.column-menu-icon.component';\nimport { StructureColumnMenuArrowIconComponent } from './icon/structure.column-menu-arrow-icon.component';\nimport { UniqueValueListModule } from '../../../../../structure/filter/feature/unique/unique-value-list.module';\n\nconst declarations = [\n\tStructureColumnConfigComponent,\n\tStructureColumnConfigTriggerComponent,\n\tStructureColumnConfigSortComponent,\n\tStructureColumnConfigColumnHideComponent,\n\tStructureColumnConfigColumnMoveComponent,\n\tStructureColumnMenuIconComponent,\n\tStructureColumnMenuArrowIconComponent\n];\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tfabricImports,\n\t\tStructureColumnManagerModule,\n\t\tUniqueValueListModule\n\t],\n\tdeclarations: declarations,\n\texports: declarations\n})\nexport class StructureColumnMenuModule {\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, Input, ViewEncapsulation } from '@angular/core';\n\nimport { CellTemplateWithContext } from '../../../../composition/domain-api/read/definition/cell-template-with-context';\nimport { StructureId } from '../../../domain/structure.id';\nimport { StructureSummariesUiEventsRepository } from '../../../domain-api/summaries/structure-summaries.ui-events-repository';\nimport { CompositionWarehouse } from '../../../../composition/domain-api/composition.warehouse';\nimport { StructureSummariesChangedEvent } from '../../../domain/structure/summaries/structure.summaries-changed.event';\nimport { SmartComponent } from '../../../../../common/cdk/smart-component';\nimport { SourceWarehouse } from '../../../../../structure/source/domain-api/source.warehouse';\n\n\n@Component({\n\tselector: 'gui-structure-summaries-panel',\n\ttemplate: `\n\n\t\t<ng-container *ngIf=\"enabled && summaries && !sourceEmpty\">\n\n\t\t\t<div *ngFor=\"let column of headerColumns\"\n\t\t\t\t [style.width.px]=\"column.width\"\n\t\t\t\t class=\"gui-structure-summaries-cell\">\n\n\t\t\t\t<ng-container *ngIf=\"summaries && !!summaries.get(column.getFieldId().getId())\">\n\n\t\t\t\t\t<div *ngIf=\"isSummariesTypePresent(summaries.get(column.getFieldId().getId()).count)\"\n\t\t\t\t\t\t class=\"gui-structure-summaries-value\">\n\t\t\t\t\t\t<span [gui-tooltip]=\"'Number of items in the grid'\">Count</span>\n\t\t\t\t\t\t<span class=\"gui-summaries-value\">{{ summaries.get(column.getFieldId().getId()).count }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf=\"isSummariesTypePresent(summaries.get(column.getFieldId().getId()).distinct)\"\n\t\t\t\t\t\t class=\"gui-structure-summaries-value\">\n\t\t\t\t\t\t<span [gui-tooltip]=\"'Distinct Values'\">Dist</span>\n\t\t\t\t\t\t<span class=\"gui-summaries-value\">{{ summaries.get(column.getFieldId().getId()).distinct }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf=\" isSummariesTypePresent(summaries.get(column.getFieldId().getId()).sum)\"\n\t\t\t\t\t\t class=\"gui-structure-summaries-value\">\n\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t<!--\t\t\t\t\t\t\t<span [gui-tooltip]=\"'Sum'\" -->\n\t\t\t\t\t\t\t<!--\t\t\t\t\t\t\t\t  class=\"gui-math-symbol\">&sum;</span>-->\n\t\t\t\t\t\t\tSum\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span class=\"gui-summaries-value\">{{ summaries.get(column.getFieldId().getId()).sum }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf=\"isSummariesTypePresent(summaries.get(column.getFieldId().getId()).average)\"\n\t\t\t\t\t\t class=\"gui-structure-summaries-value\">\n\n\t\t\t\t\t\t<!--\t\t\t\t\t\t<div [gui-tooltip]=\"'Average'\"-->\n\t\t\t\t\t\t<!--\t\t\t\t\t\t\t class=\"gui-mean\">-->\n\t\t\t\t\t\t<!--\t\t\t\t\t\t\t<span>_</span><span>X</span>-->\n\t\t\t\t\t\t<!--\t\t\t\t\t\t</div>-->\n\t\t\t\t\t\t<span [gui-tooltip]=\"'Average'\">Avg</span>\n\t\t\t\t\t\t<span class=\"gui-summaries-value\">{{ summaries.get(column.getFieldId().getId()).average }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf=\" isSummariesTypePresent(summaries.get(column.getFieldId().getId()).min)\"\n\t\t\t\t\t\t class=\"gui-structure-summaries-value\">\n\n\t\t\t\t\t\t<!--\t\t\t\t\t\t<div [gui-tooltip]=\"'Min'\">-->\n\t\t\t\t\t\t<!--\t\t\t\t\t\t\t<span class=\"gui-math-symbol\">&and;</span>-->\n\t\t\t\t\t\t<!--\t\t\t\t\t\t</div>-->\n\t\t\t\t\t\t<span [gui-tooltip]=\"'Min'\">\n\t\t\t\t\t\t\tMin\n\t\t\t\t\t\t</span>\n\n\t\t\t\t\t\t<span class=\"gui-summaries-value\">{{ summaries.get(column.getFieldId().getId()).min }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf=\" isSummariesTypePresent(summaries.get(column.getFieldId().getId()).max)\"\n\t\t\t\t\t\t class=\"gui-structure-summaries-value\">\n\n\t\t\t\t\t\t<!--\t\t\t\t\t\t<div [gui-tooltip]=\"'Max'\">-->\n\t\t\t\t\t\t<!--\t\t\t\t\t\t\t<span class=\"gui-math-symbol\">&or;</span>-->\n\t\t\t\t\t\t<!--\t\t\t\t\t\t</div>-->\n\n\t\t\t\t\t\t<span [gui-tooltip]=\"'Max'\">\n\t\t\t\t\t\t\tMax\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span class=\"gui-summaries-value\">{{ summaries.get(column.getFieldId().getId()).max }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf=\"isSummariesTypePresent(summaries.get(column.getFieldId().getId()).median)\"\n\t\t\t\t\t\t class=\"gui-structure-summaries-value\">\n\n\t\t\t\t\t\t<!--\t\t\t\t\t\t<div [gui-tooltip]=\"'Median'\"-->\n\t\t\t\t\t\t<!--\t\t\t\t\t\t\t class=\"gui-median\">-->\n\t\t\t\t\t\t<!--\t\t\t\t\t\t\t<span>~</span>-->\n\t\t\t\t\t\t<!--\t\t\t\t\t\t\t<span>X</span>-->\n\t\t\t\t\t\t<!--\t\t\t\t\t\t</div>-->\n\n\t\t\t\t\t\t<span [gui-tooltip]=\"'Median'\">Med</span>\n\t\t\t\t\t\t<span class=\"gui-summaries-value\">{{ summaries.get(column.getFieldId().getId()).median }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf=\"isSummariesTypePresent(summaries.get(column.getFieldId().getId()).truthy)\"\n\t\t\t\t\t\t class=\"gui-structure-summaries-value\">\n\t\t\t\t\t\t<span>Truthy</span>\n\t\t\t\t\t\t<span class=\"gui-summaries-value\">{{ summaries.get(column.getFieldId().getId()).truthy }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf=\"isSummariesTypePresent(summaries.get(column.getFieldId().getId()).falsy)\"\n\t\t\t\t\t\t class=\"gui-structure-summaries-value\">\n\t\t\t\t\t\t<span>Falsy</span>\n\t\t\t\t\t\t<span class=\"gui-summaries-value\">{{ summaries.get(column.getFieldId().getId()).falsy }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t</ng-container>\n\t\t\t</div>\n\n\t\t</ng-container>\n\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None,\n\thost: {\n\t\t'[class.gui-structure-summaries-panel]': 'true'\n\t}\n})\nexport class StructureSummariesPanelComponent extends SmartComponent {\n\n\t@Input()\n\tenabled: boolean;\n\n\tsourceEmpty: boolean = false;\n\n\theaderColumns: Array<CellTemplateWithContext>;\n\n\tsummaries: Map<string, any>;\n\n\tconstructor(private changeDetectorRef: ChangeDetectorRef,\n\t\t\t\tprivate structureId: StructureId,\n\t\t\t\tprivate structureSummariesUiEventsRepository: StructureSummariesUiEventsRepository,\n\t\t\t\tprivate sourceReadModelService: SourceWarehouse,\n\t\t\t\tprivate readonly compositionReadModelService: CompositionWarehouse) {\n\t\tsuper();\n\n\t\tthis.structureSummariesUiEventsRepository\n\t\t\t.onSummariesChanged(this.structureId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((event: StructureSummariesChangedEvent) => {\n\n\t\t\t\tthis.summaries = event.getSummaries();\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\t}\n\n\tngOnInit() {\n\n\t\tthis.sourceReadModelService\n\t\t\t.onEntitiesSize()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((size: number) => {\n\t\t\t\tthis.sourceEmpty = size === 0;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.compositionReadModelService\n\t\t\t.onHeaderColumns()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((columns: Array<CellTemplateWithContext>) => {\n\t\t\t\tthis.headerColumns = columns;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t}\n\n\tisSummariesTypePresent(summaries: number): boolean {\n\t\treturn summaries !== undefined && summaries !== null;\n\t}\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { FabricModule } from '@generic-ui/fabric';\n\nimport { StructureSummariesArchive } from './structure.summaries.archive';\nimport { StructureSummariesConfigService } from './structure.summaries-config.service';\nimport { StructureSummariesPanelConfigConverter } from './structure.summaries-panel.config-converter';\nimport { StructureSummariesPanelComponent } from './structure.summaries-panel.component';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tFabricModule\n\t],\n\tdeclarations: [\n\t\tStructureSummariesPanelComponent\n\t],\n\texports: [\n\t\tStructureSummariesPanelComponent\n\t],\n\tproviders: [\n\t\tStructureSummariesArchive,\n\t\tStructureSummariesConfigService,\n\t\tStructureSummariesPanelConfigConverter\n\t]\n})\nexport class StructureSummariesPanelModule {\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateRepository, CommandType, CreateAggregateCommandHandler, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { StructureAggregateRepository } from '../structure-aggregate.repository';\nimport { CreateStructureCommand } from './create-structure.command';\nimport { StructureCreatedEvent } from './structure-created.event';\nimport { StructureAggregate } from '../structure.aggregate';\nimport { StructureId } from '../../structure.id';\n\n\n@Injectable()\nexport class CreateStructureCommandHandler implements CreateAggregateCommandHandler<StructureAggregate, CreateStructureCommand> {\n\n\tconstructor(private readonly structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tprivate domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<CreateStructureCommand> | any {\n\t\treturn CreateStructureCommand;\n\t}\n\n\tgetAggregateRepository(): AggregateRepository<StructureId, StructureAggregate> {\n\t\treturn this.structureAggregateRepository;\n\t}\n\n\tpublishDomainEvents(aggregate: StructureAggregate, command: CreateStructureCommand): void {\n\t\tthis.domainEventPublisher.publish(new StructureCreatedEvent(command.getAggregateId()));\n\t}\n\n}\n","import { Component, ElementRef, Input, OnChanges, SimpleChanges, ViewChild } from '@angular/core';\n\nimport { CellTemplateWithAccessor } from '../../../../../composition/domain-api/read/definition/cell-template-with-accessor';\nimport { ChangedValueEmitter } from '../../../../../composition/domain-api/read/edit/changed-value.emitter';\nimport { EditEventType } from '../../../../../composition/domain-api/read/edit/state/edit.event-type';\nimport { ItemEntity } from '../../../../../../structure/source/domain/core/item/item.entity';\nimport { SmartComponent } from '../../../../../../common/cdk/smart-component';\nimport { StructureEditSourceItemParams } from '../../../../../../structure/source/domain/origin/edit/structure.edit-source-item.params';\nimport { SourceCommandDispatcher } from '../../../../../../structure/source/domain-api/source.command-dispatcher';\nimport { StructureCellEditState } from '../../../edit/structure.cell-edit.state';\n\n@Component({\n\tselector: 'gui-structure-cell-edit[entity][cell]',\n\ttemplate: `\n\n\t\t<span #cellContainer >\n\t\t\t<ng-container\n\t\t\t\t\t*ngTemplateOutlet=\"cell.editTemplate;\n\t\t\t\t\t\t\t\t\tcontext: editContext\">\n\t\t\t</ng-container>\n\t\t</span>\n\n\t`\n})\nexport class StructureCellEditComponent extends SmartComponent implements OnChanges {\n\n\t@ViewChild('cellContainer', { static: true })\n\tcellContainerRef: ElementRef;\n\n\t@Input()\n\tentity: ItemEntity;\n\n\t@Input()\n\tcell: CellTemplateWithAccessor;\n\n\teditContext: any;\n\n\tvalueChanges$: ChangedValueEmitter<any>;\n\n\tstatus$: ChangedValueEmitter<any>;\n\n\tactualValue: any;\n\n\tconstructor(private readonly sourceCommandService: SourceCommandDispatcher) {\n\t\tsuper();\n\t}\n\n\tngOnChanges(changes: SimpleChanges) {\n\n\t\tif (changes.entity !== null && changes.entity !== undefined) {\n\t\t\tthis.initEditContext();\n\t\t}\n\n\t\tif (changes.cell !== null && changes.cell !== undefined) {\n\t\t\tthis.initEditContext();\n\t\t}\n\t}\n\n\tngOnInit() {\n\t\tthis.initEditContext();\n\t}\n\n\tsubmitChangesAndExit(): void {\n\n\t\tconst itemId = this.entity.getId(),\n\t\t\tupdatedValue = this.actualValue,\n\t\t\tfieldId = this.cell.columnFieldId;\n\n\t\tthis.sourceCommandService.editItem(new StructureEditSourceItemParams(itemId, fieldId, updatedValue));\n\t}\n\n\tprivate initEditContext(): void {\n\t\tthis.valueChanges$ = new ChangedValueEmitter();\n\t\tthis.status$ = new ChangedValueEmitter<EditEventType>();\n\n\t\tthis.editContext = {\n\t\t\tstatus: this.status$,\n\t\t\tvalueChanges: this.valueChanges$,\n\t\t\tvalue: this.cell.getValue(this.entity),\n\t\t\tfocus: false,\n\t\t\tparent: this.cellContainerRef\n\t\t};\n\n\t\tthis.status$\n\t\t\t.on()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((status: EditEventType) => {\n\n\t\t\t\tswitch (status) {\n\t\t\t\t\tcase EditEventType.SUBMIT:\n\t\t\t\t\t\tthis.submitChangesAndExit();\n\t\t\t\t\t\tthis.publishEditSubmit();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase EditEventType.CANCEL:\n\t\t\t\t\t\t// this.exitEditMode();\n\t\t\t\t\t\tthis.publishEditCancel();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tprivate observeValueChanges(): void {\n\n\t\tthis.valueChanges$\n\t\t\t.on()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((value: any) => {\n\t\t\t\tthis.actualValue = value;\n\t\t\t});\n\t}\n\n\tprivate publishEditState(state: StructureCellEditState): void {\n\t\t// this.structureCellEditStore.next(state);\n\t}\n\n\tprivate publishEditEnter(): void {\n\t\tthis.publishEditState(StructureCellEditState.ENTER);\n\t}\n\n\tprivate publishEditCancel(): void {\n\t\tthis.publishEditState(StructureCellEditState.CANCEL);\n\t}\n\n\tprivate publishEditSubmit(): void {\n\t\tthis.publishEditState(StructureCellEditState.SUBMIT);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateFactory } from '@generic-ui/hermes';\n\nimport { SchemaId } from './schema.id';\nimport { SchemaAggregate } from './schema.aggregate';\n\n\n@Injectable()\nexport class SchemaAggregateFactory extends AggregateFactory<SchemaId, SchemaAggregate> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tcreate(aggregateId: SchemaId): SchemaAggregate {\n\t\treturn new SchemaAggregate(aggregateId);\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandType, CreateAggregateCommandHandler } from '@generic-ui/hermes';\n\nimport { CreateSchemaCommand } from './create-schema.command';\nimport { SchemaAggregate } from '../schema.aggregate';\n\n\n@Injectable()\nexport class CreateSchemaCommandHandler implements CreateAggregateCommandHandler<SchemaAggregate, CreateSchemaCommand> {\n\n\tforCommand(): CommandType<CreateSchemaCommand> {\n\t\treturn CreateSchemaCommand;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { Command, CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { SetSchemaThemeCommand } from './set-schema-theme.command';\nimport { SchemaAggregate } from '../schema.aggregate';\n\n\n@Injectable()\nexport class SetSchemaThemeCommandHandler implements CommandHandler<SchemaAggregate, SetSchemaThemeCommand> {\n\n\tconstructor(private readonly domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SetSchemaThemeCommand> {\n\t\treturn SetSchemaThemeCommand;\n\t}\n\n\tpublishDomainEvents(aggregate: SchemaAggregate, command: Command): void {\n\t\tthis.domainEventPublisher.publishFromAggregate(aggregate);\n\t}\n\n\thandleAggregate(schemaAggregate: SchemaAggregate, command: SetSchemaThemeCommand): void {\n\n\t\tconst theme = command.getTheme();\n\n\t\tschemaAggregate.changeTheme(theme);\n\t}\n\n}\n","import { AggregateRepository, Optional } from '@generic-ui/hermes';\n\nimport { SchemaId } from './schema.id';\nimport { SchemaAggregate } from './schema.aggregate';\n\n\nexport abstract class SchemaAggregateRepository extends AggregateRepository<SchemaId, SchemaAggregate> {\n\n\tabstract getById(schemaId: SchemaId): Optional<SchemaAggregate>;\n\n\tabstract save(aggregate: SchemaAggregate): void;\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { InMemoryStore } from '@generic-ui/hermes';\n\nimport { SchemaId } from '../../domain/schema.id';\nimport { SchemaAggregate } from '../../domain/schema.aggregate';\n\n\n@Injectable()\nexport class InMemorySchemaStore extends InMemoryStore<SchemaId, SchemaAggregate> {\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateStoreRegister, InMemoryAggregateStore } from '@generic-ui/hermes';\n\nimport { SchemaId } from '../../domain/schema.id';\nimport { SchemaAggregate } from '../../domain/schema.aggregate';\nimport { InMemorySchemaStore } from './in-memory.schema.store';\n\n\n@Injectable()\nexport class InMemorySchemaAggregateStore extends InMemoryAggregateStore<SchemaId, SchemaAggregate> {\n\n\tconstructor(inMemorySchemaStore: InMemorySchemaStore,\n\t\t\t\taggregateStoreRegister: AggregateStoreRegister) {\n\t\tsuper(inMemorySchemaStore, aggregateStoreRegister);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { Optional } from '@generic-ui/hermes';\n\nimport { SchemaAggregateRepository } from '../../domain/schema.aggregate-repository';\nimport { SchemaAggregate } from '../../domain/schema.aggregate';\nimport { SchemaId } from '../../domain/schema.id';\nimport { InMemorySchemaAggregateStore } from './in-memory.schema.aggregate-store';\n\n\n@Injectable()\nexport class InMemorySchemaAggregateRepository extends SchemaAggregateRepository {\n\n\tconstructor(private inMemorySchemaAggregateStore: InMemorySchemaAggregateStore) {\n\t\tsuper();\n\t}\n\n\tgetById(schemaId: SchemaId): Optional<SchemaAggregate> {\n\t\treturn this.inMemorySchemaAggregateStore.getById(schemaId);\n\t}\n\n\tsave(schemaAggregate: SchemaAggregate): void {\n\t\tthis.inMemorySchemaAggregateStore.save(schemaAggregate);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { Command, CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { SetRowColoringCommand } from './set-row-coloring.command';\nimport { SchemaAggregate } from '../schema.aggregate';\n\n\n@Injectable()\nexport class SetRowColoringCommandHandler implements CommandHandler<SchemaAggregate, SetRowColoringCommand> {\n\n\tconstructor(private domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SetRowColoringCommand> {\n\t\treturn SetRowColoringCommand;\n\t}\n\n\tpublishDomainEvents(aggregate: SchemaAggregate, command: Command): void {\n\t\tthis.domainEventPublisher.publishFromAggregate(aggregate);\n\t}\n\n\thandleAggregate(schemaAggregate: SchemaAggregate, command: SetRowColoringCommand): void {\n\n\t\tconst coloring = command.getColoring();\n\t\tschemaAggregate.setRowColoring(coloring);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { SetSchemaHorizontalGridCommand } from './set-schema-horizontal-grid.command';\nimport { SchemaAggregate } from '../../schema.aggregate';\n\n\n@Injectable()\nexport class SetSchemaHorizontalGridCommandHandler implements CommandHandler<SchemaAggregate, SetSchemaHorizontalGridCommand> {\n\n\tconstructor(private domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SetSchemaHorizontalGridCommand> {\n\t\treturn SetSchemaHorizontalGridCommand;\n\t}\n\n\tpublishDomainEvents(schemaAggregate: SchemaAggregate, command: SetSchemaHorizontalGridCommand): void {\n\t\tthis.domainEventPublisher.publishFromAggregate(schemaAggregate);\n\t}\n\n\thandleAggregate(schemaAggregate: SchemaAggregate, command: SetSchemaHorizontalGridCommand): void {\n\n\t\tconst enabled = command.isEnabled();\n\n\t\tschemaAggregate.setHorizontalGrid(enabled);\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { Command, CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { SetSchemaVerticalGridCommand } from './set-schema-vertical-grid.command';\nimport { SchemaAggregate } from '../../schema.aggregate';\n\n\n@Injectable()\nexport class SetSchemaVerticalGridCommandHandler implements CommandHandler<SchemaAggregate, SetSchemaVerticalGridCommand> {\n\n\tconstructor(private domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SetSchemaVerticalGridCommand> {\n\t\treturn SetSchemaVerticalGridCommand;\n\t}\n\n\tpublishDomainEvents(schemaAggregate: SchemaAggregate, command: Command): void {\n\t\tthis.domainEventPublisher.publishFromAggregate(schemaAggregate);\n\t}\n\n\thandleAggregate(schemaAggregate: SchemaAggregate, command: SetSchemaVerticalGridCommand): void {\n\n\t\tconst enabled = command.isEnabled();\n\n\t\tschemaAggregate.setVerticalGrid(enabled);\n\t}\n\n}\n","import { SchemaTheme } from '../../domain/theme/schema-theme';\nimport { SchemaRowColoring } from '../../domain/coloring/schema-row-coloring';\n\nexport class SchemaCssClass {\n\n\tconstructor(public readonly verticalGrid: boolean,\n\t\t\t\tpublic readonly horizontalGrid: boolean,\n\t\t\t\tpublic readonly theme: SchemaTheme,\n\t\t\t\tpublic readonly rowColoring: SchemaRowColoring) {\n\t}\n\n\tgetRowColoring(): SchemaRowColoring {\n\t\treturn this.rowColoring;\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventType, MultiDomainEventHandler } from '@generic-ui/hermes';\n\nimport { SchemaCssClassesRepository } from './schema.css-classes.repository';\nimport { SchemaId } from '../../domain/schema.id';\nimport { SchemaThemeSetEvent } from '../../domain/theme/schema-theme-set.event';\nimport { RowColoringSetEvent } from '../../domain/coloring/row-coloring-set.event';\nimport { SchemaHorizontalGridSetEvent } from '../../domain/grid/horizontal/schema-horizontal-grid-set.event';\nimport { SchemaVerticalGridSetEvent } from '../../domain/grid/vertical/schema-vertical-grid-set.event';\nimport { SchemaCssClass } from './schema-css-class';\nimport { SchemaRowColoring } from '../../domain/coloring/schema-row-coloring';\nimport { SchemaTheme } from '../../domain/theme/schema-theme';\n\nexport type SchemaCssClassesEventType =\n\tSchemaThemeSetEvent\n\t| RowColoringSetEvent\n\t| SchemaHorizontalGridSetEvent\n\t| SchemaVerticalGridSetEvent;\n\n@Injectable()\nexport class SchemaCssClassesEventHandler implements MultiDomainEventHandler<SchemaId, SchemaCssClassesEventType> {\n\n\trowColoring: SchemaRowColoring;\n\n\thorizontalGrid: boolean;\n\n\tverticalGrid: boolean;\n\n\tschemaTheme: SchemaTheme;\n\n\tconstructor(private schemaCssClassesRepository: SchemaCssClassesRepository) {\n\t}\n\n\tprivate publish(aggregateId: SchemaId): void {\n\t\tif (this.rowColoring !== undefined && this.horizontalGrid !== undefined && this.verticalGrid !== undefined && this.schemaTheme !== undefined) {\n\t\t\tthis.schemaCssClassesRepository.setCssClass(new SchemaCssClass(this.verticalGrid, this.horizontalGrid, this.schemaTheme, this.rowColoring), aggregateId);\n\t\t}\n\t}\n\n\tforEvents(): Array<DomainEventType<SchemaCssClassesEventType>> {\n\t\treturn [\n\t\t\tSchemaThemeSetEvent,\n\t\t\tRowColoringSetEvent,\n\t\t\tSchemaHorizontalGridSetEvent,\n\t\t\tSchemaVerticalGridSetEvent\n\t\t];\n\t}\n\n\thandle(event: SchemaCssClassesEventType): void {\n\n\t\tif (event.ofMessageType('RowColoringSetEvent')) {\n\t\t\tthis.rowColoring = (event as RowColoringSetEvent).getRowColoring();\n\t\t}\n\n\t\tif (event.ofMessageType('SchemaHorizontalGridSetEvent')) {\n\t\t\tthis.horizontalGrid = (event as SchemaHorizontalGridSetEvent).getHorizontalGrid();\n\t\t}\n\n\t\tif (event.ofMessageType('SchemaVerticalGridSetEvent')) {\n\t\t\tthis.verticalGrid = (event as SchemaVerticalGridSetEvent).getVerticalGrid();\n\t\t}\n\n\t\tif (event.ofMessageType('SchemaThemeSetEvent')) {\n\t\t\tthis.schemaTheme = (event as SchemaThemeSetEvent).getTheme();\n\t\t}\n\n\t\tthis.publish(event.getAggregateId());\n\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventHandler, DomainEventType } from '@generic-ui/hermes';\n\nimport { SchemaThemeRepository } from './schema.theme.repository';\nimport { SchemaId } from '../../domain/schema.id';\nimport { SchemaThemeSetEvent } from '../../domain/theme/schema-theme-set.event';\n\n\n@Injectable()\nexport class SchemaThemeSetEventHandler implements DomainEventHandler<SchemaId, SchemaThemeSetEvent> {\n\n\tconstructor(private themeRepository: SchemaThemeRepository) {\n\t}\n\n\tforEvent(): DomainEventType<SchemaThemeSetEvent> {\n\t\treturn SchemaThemeSetEvent;\n\t}\n\n\thandle(event: SchemaThemeSetEvent): void {\n\n\t\tif (event.ofMessageType('SchemaThemeSetEvent')) {\n\t\t\tthis.themeRepository.next(event.getAggregateId(), event.getTheme());\n\t\t}\n\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventHandler, DomainEventType } from '@generic-ui/hermes';\n\nimport { SchemaHorizontalGridRepository } from './schema.horizontal-grid.repository';\nimport { SchemaId } from '../../domain/schema.id';\nimport { SchemaHorizontalGridSetEvent } from '../../domain/grid/horizontal/schema-horizontal-grid-set.event';\n\n\n@Injectable()\nexport class SchemaHorizontalGridSetEventHandler implements DomainEventHandler<SchemaId, SchemaHorizontalGridSetEvent> {\n\n\tconstructor(private horizontalGridRepository: SchemaHorizontalGridRepository) {\n\t}\n\n\tforEvent(): DomainEventType<SchemaHorizontalGridSetEvent> {\n\t\treturn SchemaHorizontalGridSetEvent;\n\t}\n\n\thandle(event: SchemaHorizontalGridSetEvent): void {\n\n\t\tif (event.ofMessageType('SchemaHorizontalGridSetEvent')) {\n\t\t\tthis.horizontalGridRepository.next(event.getAggregateId(), event.getHorizontalGrid());\n\t\t}\n\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventHandler, DomainEventType } from '@generic-ui/hermes';\n\nimport { SchemaRowColoringRepository } from './schema.row-coloring.repository';\nimport { SchemaId } from '../../domain/schema.id';\nimport { RowColoringSetEvent } from '../../domain/coloring/row-coloring-set.event';\n\n\n@Injectable()\nexport class SchemaRowColoringSetEventHandler implements DomainEventHandler<SchemaId, RowColoringSetEvent> {\n\n\tconstructor(private schemaRowColoringRepository: SchemaRowColoringRepository) {\n\t}\n\n\tforEvent(): DomainEventType<RowColoringSetEvent> {\n\t\treturn RowColoringSetEvent;\n\t}\n\n\thandle(event: RowColoringSetEvent): void {\n\n\t\tif (event.ofMessageType('RowColoringSetEvent')) {\n\t\t\tthis.schemaRowColoringRepository.next(event.getAggregateId(), event.getRowColoring());\n\t\t}\n\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventHandler, DomainEventType } from '@generic-ui/hermes';\n\nimport { SchemaVerticalGridRepository } from './schema.vertical-grid.repository';\nimport { SchemaId } from '../../domain/schema.id';\nimport { SchemaVerticalGridSetEvent } from '../../domain/grid/vertical/schema-vertical-grid-set.event';\n\n\n@Injectable()\nexport class SchemaVerticalGridSetEventHandler implements DomainEventHandler<SchemaId, SchemaVerticalGridSetEvent> {\n\n\tconstructor(private schemaVerticalGridRepository: SchemaVerticalGridRepository) {\n\t}\n\n\tforEvent(): DomainEventType<SchemaVerticalGridSetEvent> {\n\t\treturn SchemaVerticalGridSetEvent;\n\t}\n\n\thandle(event: SchemaVerticalGridSetEvent): void {\n\n\t\tif (event.ofMessageType('SchemaVerticalGridSetEvent')) {\n\t\t\tthis.schemaVerticalGridRepository.next(event.getAggregateId(), event.getVerticalGrid());\n\t\t}\n\n\t}\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { HermesModule } from '@generic-ui/hermes';\n\nimport { SchemaAggregateFactory } from '../domain/schema.aggregate-factory';\n\nimport { CreateSchemaCommandHandler } from '../domain/create/create-schema.command-handler';\nimport { SetSchemaThemeCommandHandler } from '../domain/theme/set-schema-theme.command-handler';\nimport { SchemaDispatcher } from '../domain/schema.dispatcher';\nimport { SchemaAggregateRepository } from '../domain/schema.aggregate-repository';\n\nimport { InMemorySchemaAggregateRepository } from '../infrastructure/in-memory/in-memory.schema.aggregate-repository';\nimport { InMemorySchemaAggregateStore } from '../infrastructure/in-memory/in-memory.schema.aggregate-store';\nimport { InMemorySchemaStore } from '../infrastructure/in-memory/in-memory.schema.store';\n\nimport { SchemaCommandDispatcher } from './schema.command-dispatcher';\nimport { SchemaWarehouse } from './schema.warehouse';\nimport { SetRowColoringCommandHandler } from '../domain/coloring/set-row-coloring.command-handler';\nimport { SetSchemaHorizontalGridCommandHandler } from '../domain/grid/horizontal/set-schema-horizontal-grid.command-handler';\nimport { SetSchemaVerticalGridCommandHandler } from '../domain/grid/vertical/set-schema-vertical-grid.command-handler';\nimport { SchemaCssClassesEventHandler } from './css-classes/schema-css-classes.event-handler';\nimport { SchemaThemeSetEventHandler } from './theme/schema-theme-set.event-handler';\nimport { SchemaCssClassesRepository } from './css-classes/schema.css-classes.repository';\nimport { SchemaThemeRepository } from './theme/schema.theme.repository';\nimport { SchemaEventRepository } from './schema.event-repository';\nimport { SchemaHorizontalGridSetEventHandler } from './horizontal-grid/schema.horizontal-grid-set.event-handler';\nimport { SchemaRowColoringSetEventHandler } from './row-coloring/schema.row-coloring-set.event-handler';\nimport { SchemaHorizontalGridRepository } from './horizontal-grid/schema.horizontal-grid.repository';\nimport { SchemaRowColoringRepository } from './row-coloring/schema.row-coloring.repository';\nimport { SchemaVerticalGridRepository } from './vertical-grid/schema.vertical-grid.repository';\nimport { SchemaVerticalGridSetEventHandler } from './vertical-grid/schema.vertical-grid-set.event-handler';\n\nexport const schemaKey = 'SchemaAggregate';\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\n\t\tHermesModule.defineAggregate(\n\t\t\tschemaKey,\n\t\t\tSchemaAggregateFactory,\n\t\t\tInMemorySchemaAggregateRepository,\n\t\t\tCreateSchemaCommandHandler,\n\t\t\t[\n\t\t\t\t...HermesModule.registerCommandHandler(SetSchemaThemeCommandHandler, schemaKey),\n\t\t\t\t...HermesModule.registerCommandHandler(SetRowColoringCommandHandler, schemaKey),\n\t\t\t\t...HermesModule.registerCommandHandler(SetSchemaHorizontalGridCommandHandler, schemaKey),\n\t\t\t\t...HermesModule.registerCommandHandler(SetSchemaVerticalGridCommandHandler, schemaKey)\n\t\t\t],\n\t\t\t[\n\t\t\t\t...HermesModule.registerDomainEventHandler(SchemaThemeSetEventHandler),\n\t\t\t\t...HermesModule.registerDomainEventHandler(SchemaHorizontalGridSetEventHandler),\n\t\t\t\t...HermesModule.registerDomainEventHandler(SchemaRowColoringSetEventHandler),\n\t\t\t\t...HermesModule.registerDomainEventHandler(SchemaVerticalGridSetEventHandler),\n\t\t\t\t...HermesModule.registerMultiDomainEventHandler(SchemaCssClassesEventHandler)\n\t\t\t]\n\t\t)\n\n\t],\n\tdeclarations: [],\n\tproviders: [\n\t\tSchemaDispatcher,\n\t\t{\n\t\t\tprovide: SchemaAggregateRepository,\n\t\t\tuseClass: InMemorySchemaAggregateRepository\n\t\t},\n\t\tInMemorySchemaAggregateStore,\n\t\tInMemorySchemaStore,\n\n\t\tSchemaCommandDispatcher,\n\t\tSchemaWarehouse,\n\t\tSchemaEventRepository,\n\n\t\tSchemaCssClassesRepository,\n\t\tSchemaThemeRepository,\n\t\tSchemaHorizontalGridRepository,\n\t\tSchemaRowColoringRepository,\n\t\tSchemaVerticalGridRepository\n\n\t]\n})\nexport class SchemaModule {\n}\n","import { Component, ElementRef, Input, OnChanges, SimpleChanges, ViewChild } from '@angular/core';\n\nimport { CellTemplateWithAccessor } from '../../../../../composition/domain-api/read/definition/cell-template-with-accessor';\nimport { ChangedValueEmitter } from '../../../../../composition/domain-api/read/edit/changed-value.emitter';\nimport { EditEventType } from '../../../../../composition/domain-api/read/edit/state/edit.event-type';\nimport { ItemEntity } from '../../../../../../structure/source/domain/core/item/item.entity';\nimport { SmartComponent } from '../../../../../../common/cdk/smart-component';\nimport { StructureEditSourceItemParams } from '../../../../../../structure/source/domain/origin/edit/structure.edit-source-item.params';\nimport { SourceCommandDispatcher } from '../../../../../../structure/source/domain-api/source.command-dispatcher';\n\n@Component({\n\tselector: 'gui-structure-cell-edit-boolean[entity][cell]',\n\ttemplate: `\n\n\t\t<span #cellContainer>\n\t\t\t<ng-container\n\t\t\t\t\t*ngTemplateOutlet=\"cell.editTemplate;\n\t\t\t\t\t\t\t\t\tcontext: editContext\">\n\t\t\t</ng-container>\n\t\t</span>\n\n\t`\n})\nexport class StructureCellEditBooleanComponent extends SmartComponent implements OnChanges {\n\n\t@ViewChild('cellContainer', { static: true })\n\tcellContainerRef: ElementRef;\n\n\t@Input()\n\tentity: ItemEntity;\n\n\t@Input()\n\tcell: CellTemplateWithAccessor;\n\n\teditContext: any;\n\n\tvalueChanges$: ChangedValueEmitter<any>;\n\n\tstatus$: ChangedValueEmitter<any>;\n\n\tactualValue: any;\n\n\tconstructor(private readonly sourceCommandService: SourceCommandDispatcher) {\n\t\tsuper();\n\t}\n\n\tngOnChanges(changes: SimpleChanges) {\n\n\t\tif (changes.entity !== null && changes.entity !== undefined) {\n\t\t\tthis.initEditContext();\n\t\t}\n\n\t\tif (changes.cell !== null && changes.cell !== undefined) {\n\t\t\tthis.initEditContext();\n\t\t}\n\t}\n\n\tngOnInit() {\n\t\tthis.initEditContext();\n\t}\n\n\tprivate submitChanges(): void {\n\t\tconst itemId = this.entity.getId(),\n\t\t\tupdatedValue = this.actualValue,\n\t\t\tfieldId = this.cell.columnFieldId;\n\n\t\tthis.sourceCommandService.editItem(new StructureEditSourceItemParams(itemId, fieldId, updatedValue));\n\t}\n\n\tprivate initEditContext(): void {\n\t\tthis.valueChanges$ = new ChangedValueEmitter();\n\t\tthis.status$ = new ChangedValueEmitter<EditEventType>();\n\n\t\tthis.editContext = {\n\t\t\tstatus: this.status$,\n\t\t\tvalueChanges: this.valueChanges$,\n\t\t\tvalue: this.cell.getValue(this.entity).value,\n\t\t\tfocus: false,\n\t\t\tparent: this.cellContainerRef\n\t\t};\n\n\t\tthis.observeValueChanges();\n\n\t\tthis.status$\n\t\t\t.on()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((status: EditEventType) => {\n\n\t\t\t\tswitch (status) {\n\t\t\t\t\tcase EditEventType.SUBMIT:\n\t\t\t\t\t\tthis.submitChanges();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tprivate observeValueChanges(): void {\n\n\t\tthis.valueChanges$\n\t\t\t.on()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((value: any) => {\n\t\t\t\tthis.actualValue = value;\n\t\t\t});\n\t}\n\n}\n","import { ChangeDetectionStrategy, Component, ViewEncapsulation } from '@angular/core';\nimport { StructureTitlePanelConfigArchive } from './structure.title-panel.config-archive';\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\nimport { TitlePanelConfig } from './title-panel.config';\nimport { Reactive } from '../../../../../common/cdk/reactive';\n\n@Component({\n\tselector: 'gui-structure-title-panel',\n\ttemplate: `\n\t\t<div [innerHTML]=\"safeHTML\" class=\"gui-title-panel\"></div>\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureTitlePanelComponent extends Reactive {\n\ttitle: string | ((title: any) => string);\n\tsafeHTML: SafeHtml;\n\n\tconstructor(private structureTitlePanelConfigArchive: StructureTitlePanelConfigArchive,\n\t\t\t\tprivate readonly sanitizer: DomSanitizer) {\n\t\tsuper();\n\t\tthis.structureTitlePanelConfigArchive\n\t\t\t.onValue()\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((title: TitlePanelConfig) => {\n\t\t\t\tthis.title = title.template;\n\n\t\t\t\tif (typeof this.title === 'function') {\n\t\t\t\t\tthis.title = this.title('Title panel');\n\t\t\t\t}\n\n\t\t\t\tthis.safeHTML = this.sanitizer.bypassSecurityTrustHtml(this.title);\n\t\t\t});\n\t}\n\n}\n","import { ChangeDetectionStrategy, Component, ViewEncapsulation } from '@angular/core';\nimport { StructureFooterPanelConfigArchive } from './structure.footer-panel.config-archive';\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\nimport { FooterPanelConfig } from './footer-panel.config';\nimport { Reactive } from '../../../../../common/cdk/reactive';\n\n@Component({\n\tselector: 'gui-structure-footer-panel',\n\ttemplate: `\n\t\t<div [innerHTML]=\"safeHTML\" class=\"gui-footer-panel\"></div>\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureFooterPanelComponent extends Reactive {\n\tfooterTitle: string | ((title: any) => string);\n\tsafeHTML: SafeHtml;\n\n\tconstructor(private structureFooterPanelConfigArchive: StructureFooterPanelConfigArchive,\n\t\t\t\tprivate readonly sanitizer: DomSanitizer) {\n\t\tsuper();\n\t\tthis.structureFooterPanelConfigArchive\n\t\t\t.onValue()\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((title: FooterPanelConfig) => {\n\t\t\t\tthis.footerTitle = title.template;\n\n\t\t\t\tif (typeof this.footerTitle === 'function') {\n\t\t\t\t\tthis.footerTitle = this.footerTitle('Title panel');\n\t\t\t\t}\n\n\t\t\t\tthis.safeHTML = this.sanitizer.bypassSecurityTrustHtml(this.footerTitle);\n\t\t\t});\n\t}\n\n}\n","import { ChangeDetectionStrategy, Component, Input, ViewEncapsulation } from '@angular/core';\n\n\n@Component({\n\tselector: 'gui-empty-source[items]',\n\ttemplateUrl: `empty-source.component.html`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None,\n\tstyles: [`\n\t\t.gui-empty-source div {\n\t\t\tdisplay: block;\n\t\t\tpadding: 42px 8px;\n\t\t}\n\t`],\n\thost: {\n\t\t'[class.gui-empty-source]': 'true'\n\t}\n})\nexport class EmptySourceComponent {\n\n\t@Input()\n\titems: Array<any>;\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { EmptySourceComponent } from './empty-source.component';\n\n@NgModule({\n\timports: [\n\t\tCommonModule\n\t],\n\tdeclarations: [\n\t\tEmptySourceComponent\n\t],\n\texports: [\n\t\tEmptySourceComponent\n\t]\n})\nexport class EmptySourceFeatureModule {\n}\n","import { Directive, Input, OnChanges, SimpleChanges } from '@angular/core';\n\nimport { SchemaTheme } from '../../../../../schema/domain/theme/schema-theme';\nimport { SchemaCommandDispatcher } from '../../../../../schema/domain-api/schema.command-dispatcher';\n\n@Directive({\n\tselector: 'gui-structure[theme2]'\n})\nexport class StructureThemeGateway implements OnChanges {\n\n\t@Input()\n\ttheme2: SchemaTheme;\n\n\tconstructor(private readonly schemaCommandDispatcher: SchemaCommandDispatcher) {\n\t}\n\n\tngOnChanges(simpleChanges: SimpleChanges): void {\n\n\t\tif (simpleChanges.theme2 !== undefined && simpleChanges.theme2.currentValue !== undefined) {\n\t\t\tthis.schemaCommandDispatcher.setTheme(this.theme2);\n\t\t}\n\t}\n}\n","import { Command } from '@generic-ui/hermes';\n\nimport { FieldId } from '../../../field/domain/core/field/field.id';\n\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\n\n\nexport class ToggleFilterCommand extends Command {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly fieldId: FieldId,\n\t\t\t\tprivate readonly externalFilterId: string,\n\t\t\t\tprivate readonly filterValue: string) {\n\t\tsuper(structureId, 'ToggleFilterCommand');\n\t}\n\n\tgetFieldId(): FieldId {\n\t\treturn this.fieldId;\n\t}\n\n\tgetExternalFilterId(): string {\n\t\treturn this.externalFilterId;\n\t}\n\n\tgetFilterValue(): string {\n\t\treturn this.filterValue;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { StructureAggregateRepository } from '../../../../lib/structure/domain/structure/structure-aggregate.repository';\nimport { ToggleFilterCommand } from './toggle-filter.command';\nimport { FieldId } from '../../../field/domain/core/field/field.id';\nimport { FilterToggledEvent } from './filter-toggled.event';\nimport { StructureAggregate } from '../../../../lib/structure/domain/structure/structure.aggregate';\n\n\n@Injectable()\nexport class ToggleFilterCommandHandler implements CommandHandler<StructureAggregate, ToggleFilterCommand> {\n\n\tconstructor(private readonly structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tprivate readonly domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<ToggleFilterCommand> {\n\t\treturn ToggleFilterCommand;\n\t}\n\n\tpublishDomainEvents(aggregate: StructureAggregate, command: ToggleFilterCommand): void {\n\t\tthis.domainEventPublisher.publish(new FilterToggledEvent(command.getAggregateId()));\n\t}\n\n\thandleAggregate(aggregate: StructureAggregate, command: ToggleFilterCommand): void {\n\n\t\tconst fieldId: FieldId = command.getFieldId(),\n\t\t\texternalFieldId: string = command.getExternalFilterId(),\n\t\t\tfilterValue = command.getFilterValue();\n\n\t\taggregate.toggleFilter(fieldId, externalFieldId, filterValue);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { AddFilterCommand } from './add-filter.command';\nimport { StructureAggregate } from '../../../../../lib/structure/domain/structure/structure.aggregate';\nimport { FieldId } from '../../../../field/domain/core/field/field.id';\nimport { FilterTypeId } from '../../type/filter-type.id';\n\n\n@Injectable()\nexport class AddFilterCommandHandler implements CommandHandler<StructureAggregate, AddFilterCommand> {\n\n\tconstructor(private domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<AddFilterCommand> {\n\t\treturn AddFilterCommand;\n\t}\n\n\tpublishDomainEvents(aggregate: StructureAggregate, command: AddFilterCommand): void {\n\t\tthis.domainEventPublisher.publishFromAggregate(aggregate);\n\t}\n\n\thandleAggregate(structure: StructureAggregate, command: AddFilterCommand): void {\n\n\t\tconst fieldId: FieldId = command.getFieldId(),\n\t\t\tfilterTypeId: FilterTypeId = command.getFilterTypeId(),\n\t\t\tvalue: any = command.getValue();\n\n\t\tstructure.addFilter(fieldId, filterTypeId, value);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { RemoveAllFiltersCommand } from './remove-all-filters.command';\nimport { StructureAggregate } from '../../../../../lib/structure/domain/structure/structure.aggregate';\n\n\n@Injectable()\nexport class RemoveAllFiltersCommandHandler implements CommandHandler<StructureAggregate, RemoveAllFiltersCommand> {\n\n\tconstructor(private domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<RemoveAllFiltersCommand> {\n\t\treturn RemoveAllFiltersCommand;\n\t}\n\n\tpublishDomainEvents(aggregate: StructureAggregate, command: RemoveAllFiltersCommand): void {\n\t\tthis.domainEventPublisher.publishFromAggregate(aggregate);\n\t}\n\n\thandleAggregate(structure: StructureAggregate, command: RemoveAllFiltersCommand): void {\n\t\tstructure.removeAllFilters();\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { RemoveFilterCommand } from './remove-filter.command';\nimport { StructureAggregate } from '../../../../../lib/structure/domain/structure/structure.aggregate';\n\n\n@Injectable()\nexport class RemoveFilterCommandHandler implements CommandHandler<StructureAggregate, RemoveFilterCommand> {\n\n\tconstructor(private domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<RemoveFilterCommand> {\n\t\treturn RemoveFilterCommand;\n\t}\n\n\tpublishDomainEvents(aggregate: StructureAggregate, command: RemoveFilterCommand): void {\n\t\tthis.domainEventPublisher.publishFromAggregate(aggregate);\n\t}\n\n\thandleAggregate(structure: StructureAggregate, command: RemoveFilterCommand): void {\n\n\t\tconst filterId = command.getFilterId();\n\n\t\tstructure.removeFilter(filterId);\n\t}\n\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\n\nexport class ConfigFilterSetEvent extends DomainEvent<StructureId> {\n\n\tconstructor(aggregateId: StructureId,\n\t\t\t\tprivate readonly enabled: boolean) {\n\t\tsuper(aggregateId, 'ConfigFilterSetEvent');\n\t}\n\n\tgetEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\nimport { SetConfigFilterCommand } from './set-config-filter.command';\nimport { ConfigFilterSetEvent } from './config-filter-set.event';\nimport { StructureAggregate } from '../../../../lib/structure/domain/structure/structure.aggregate';\n\n\n@Injectable()\nexport class SetConfigFilterCommandHandler implements CommandHandler<StructureAggregate, SetConfigFilterCommand> {\n\n\tconstructor(private readonly domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SetConfigFilterCommand> {\n\t\treturn SetConfigFilterCommand;\n\t}\n\n\tpublishDomainEvents(aggregate: StructureAggregate, command: SetConfigFilterCommand): void {\n\n\t\tconst filterConfig = command.getConfig();\n\n\t\tthis.domainEventPublisher.publish(new ConfigFilterSetEvent(command.getAggregateId(), filterConfig.enabled));\n\t}\n\n\thandleAggregate(aggregate: StructureAggregate, command: SetConfigFilterCommand): void {\n\n\t\tconst filterConfig = command.getConfig();\n\n\t\taggregate.setFilterConfig(filterConfig);\n\t}\n\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\n\n\nexport class ConfigQuickFilterSetEvent extends DomainEvent<StructureId> {\n\n\tconstructor(aggregateId: StructureId,\n\t\t\t\tprivate readonly enabled: boolean) {\n\t\tsuper(aggregateId, 'ConfigQuickFilterSetEvent');\n\t}\n\n\tgetEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { SetConfigQuickFilterCommand } from './set-config-quick-filter.command';\nimport { ConfigQuickFilterSetEvent } from './config-quick-filter-set.event';\n\nimport { StructureAggregateRepository } from '../../../../lib/structure/domain/structure/structure-aggregate.repository';\nimport { StructureAggregate } from '../../../../lib/structure/domain/structure/structure.aggregate';\n\n\n@Injectable()\nexport class SetConfigQuickFilterCommandHandler implements CommandHandler<StructureAggregate, SetConfigQuickFilterCommand> {\n\n\tconstructor(private readonly structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tprivate domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SetConfigQuickFilterCommand> {\n\t\treturn SetConfigQuickFilterCommand;\n\t}\n\n\tpublishDomainEvents(aggregate: StructureAggregate, command: SetConfigQuickFilterCommand): void {\n\n\t\tconst structureId = command.getAggregateId(),\n\t\t\tquickFiltersConfig = command.getConfig();\n\n\t\tthis.domainEventPublisher.publish(new ConfigQuickFilterSetEvent(structureId, quickFiltersConfig.enabled));\n\t}\n\n\thandleAggregate(aggregate: StructureAggregate, command: SetConfigQuickFilterCommand): void {\n\n\t\tconst quickFiltersConfig = command.getConfig();\n\n\t\taggregate.setQuickFiltersConfig(quickFiltersConfig);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventHandler, DomainEventType } from '@generic-ui/hermes';\n\nimport { QuickFilterEnabledRepository } from './quick-filter-enabled.repository';\nimport { ConfigQuickFilterSetEvent } from '../../domain/quick/config-quick-filter-set.event';\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\n\n\n@Injectable()\nexport class ConfigQuickFilterSetEventHandler implements DomainEventHandler<StructureId, ConfigQuickFilterSetEvent> {\n\n\tconstructor(private structureQuickFilterRepository: QuickFilterEnabledRepository) {\n\t}\n\n\tforEvent(): DomainEventType<ConfigQuickFilterSetEvent> {\n\t\treturn ConfigQuickFilterSetEvent;\n\t}\n\n\thandle(event: ConfigQuickFilterSetEvent): void {\n\n\t\tif (event.ofMessageType('ConfigQuickFilterSetEvent')) {\n\t\t\tthis.structureQuickFilterRepository.setEnabled(event.getEnabled(), event.getAggregateId());\n\t\t}\n\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventHandler, DomainEventType } from '@generic-ui/hermes';\n\nimport { FilterEnabledRepository } from './filter-enabled.repository';\nimport { ConfigFilterSetEvent } from '../../domain/config/config-filter-set.event';\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\n\n\n@Injectable()\nexport class ConfigFilterSetEventHandler implements DomainEventHandler<StructureId, ConfigFilterSetEvent> {\n\n\tconstructor(private structureFilterRepository: FilterEnabledRepository) {\n\t}\n\n\tforEvent(): DomainEventType<ConfigFilterSetEvent> {\n\t\treturn ConfigFilterSetEvent;\n\t}\n\n\thandle(event: ConfigFilterSetEvent): void {\n\n\t\tif (event.ofMessageType('ConfigFilterSetEvent')) {\n\t\t\tthis.structureFilterRepository.setEnabled(event.getEnabled(), event.getAggregateId());\n\t\t}\n\n\t}\n\n}\n","import { FilterTypeReadModel } from './filter-type.read-model';\nimport { FieldId } from '../../../field/domain/core/field/field.id';\n\nexport class FilterTypeMap {\n\n\tprivate readonly map: Map<string, Array<FilterTypeReadModel>>; // = new WeakMap<FieldId, Array<FilterTypeReadModel>>();\n\n\tconstructor(map: Map<string, Array<FilterTypeReadModel>>) {\n\t\tthis.map = map;\n\t}\n\n\tgetFilterTypes(fieldId: FieldId): Array<FilterTypeReadModel> {\n\t\treturn this.map.get(fieldId.toString());\n\t}\n\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventHandler, DomainEventType } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\nimport { FilterTypeRepository } from './filter-type.repository';\nimport { FilterTypeMap } from './filter-type-map';\nimport { FilterTypesInitedEvent } from '../../domain/type/init/filter-types-inited.event';\nimport { FilterTypeReadModel } from './filter-type.read-model';\n\n\n@Injectable()\nexport class FilterTypeConfigFilterSetEventHandler implements DomainEventHandler<StructureId, FilterTypesInitedEvent> {\n\n\tconstructor(private readonly filterTypeRepository: FilterTypeRepository) {\n\t}\n\n\tforEvent(): DomainEventType<FilterTypesInitedEvent> {\n\t\treturn FilterTypesInitedEvent;\n\t}\n\n\thandle(filterTypesInitedEvent: FilterTypesInitedEvent): void {\n\n\t\tif (filterTypesInitedEvent.ofMessageType('FilterTypesInitedEvent')) {\n\n\t\t\tconst map: Map<string, Array<FilterTypeReadModel>> = filterTypesInitedEvent.getMap();\n\n\t\t\tthis.filterTypeRepository.next(filterTypesInitedEvent.getAggregateId(), new FilterTypeMap(map));\n\t\t}\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventHandler, DomainEventType } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\nimport { ActiveFiltersSetEvent } from '../../domain/core/active-filters-set.event';\nimport { ActiveFilterRepository } from './active-filter.repository';\nimport { ActiveFilterReadModel } from './active-filter.read-model';\n\n@Injectable()\nexport class ActiveFiltersSetEventHandler implements DomainEventHandler<StructureId, ActiveFiltersSetEvent> {\n\n\tconstructor(private readonly activeFilterRepository: ActiveFilterRepository) {\n\t}\n\n\tforEvent(): DomainEventType<ActiveFiltersSetEvent> {\n\t\treturn ActiveFiltersSetEvent;\n\t}\n\n\thandle(activeFiltersSetEvent: ActiveFiltersSetEvent): void {\n\n\t\tif (activeFiltersSetEvent.ofMessageType('ActiveFiltersSetEvent')) {\n\n\t\t\tlet activeFilters: ReadonlyArray<ActiveFilterReadModel> = activeFiltersSetEvent.getFilters();\n\n\t\t\tthis.activeFilterRepository.next(activeFiltersSetEvent.getAggregateId(), activeFilters);\n\t\t}\n\t}\n\n}\n","import { FieldId } from '../../../field/domain/core/field/field.id';\nimport { UniqueValueReadModel } from './unique-value.read-model';\n\nexport class UniqueValuesReadModel {\n\n\tprivate readonly map = new Map<string, Array<UniqueValueReadModel>>();\n\n\tprivate readonly allSelected: Map<string, boolean> = new Map<string, boolean>();\n\n\tprivate readonly allDisabled: Map<string, boolean> = new Map<string, boolean>();\n\n\tconstructor(map: Map<string, Array<UniqueValueReadModel>>) {\n\t\tthis.map = map;\n\t\tthis.calculateSelection();\n\t}\n\n\tgetValues(fieldId: FieldId): Array<UniqueValueReadModel> {\n\t\treturn this.map.get(fieldId.toString());\n\t}\n\n\tareAllSelected(fieldId: FieldId): boolean {\n\t\treturn this.allSelected.get(fieldId.toString());\n\t}\n\n\tareAllDisabled(fieldId: FieldId): boolean {\n\t\treturn this.allDisabled.get(fieldId.toString());\n\t}\n\n\tisSelectAllChecked(fieldId: FieldId): boolean {\n\t\treturn this.areAllSelected(fieldId);\n\t}\n\n\tisIndeterminate(fieldId: FieldId): boolean {\n\t\treturn !(this.areAllSelected(fieldId) || this.areAllDisabled(fieldId));\n\t}\n\n\tprivate calculateSelection(): void {\n\n\t\tfor (let key of Array.from(this.map.keys())) {\n\n\t\t\tconst values = this.map.get(key);\n\n\t\t\tthis.allSelected.set(\n\t\t\t\tkey,\n\t\t\t\t!values.some((r) => !r.isEnabled())\n\t\t\t);\n\n\t\t\tthis.allDisabled.set(\n\t\t\t\tkey,\n\t\t\t\t!values.some((r) => r.isEnabled())\n\t\t\t);\n\t\t}\n\t}\n}\n","import { UniqueValueId } from '../../domain/unique/unique-value-id';\n\nexport class UniqueValueReadModel {\n\n\tprivate readonly id: UniqueValueId;\n\n\tprivate readonly value: any;\n\n\tprivate readonly displayValue: string;\n\n\tprivate readonly enabled: boolean;\n\n\tconstructor(\n\t\tid: UniqueValueId,\n\t\tvalue: any,\n\t\tenabled: boolean\n\t) {\n\t\tthis.id = id;\n\t\tthis.value = value;\n\t\tthis.enabled = enabled;\n\t}\n\n\tgetId(): UniqueValueId {\n\t\treturn this.id;\n\t}\n\n\tgetValue(): any {\n\t\treturn this.value;\n\t}\n\n\tgeDisplayValue(): string {\n\t\treturn this.displayValue;\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventHandler, DomainEventType } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../lib/structure/domain/structure.id';\nimport { UniqueFilterCalculatedEvent } from '../../domain/unique/calculate/unique-filter-calculated.event';\nimport { UniqueValuesRepository } from './unique-values.repository';\nimport { UniqueValuesReadModel } from './unique-values.read-model';\nimport { UniqueValue } from '../../domain/unique/unique-value';\nimport { UniqueValueReadModel } from './unique-value.read-model';\n\n@Injectable()\nexport class UniqueFilterCalculatedEventHandler implements DomainEventHandler<StructureId, UniqueFilterCalculatedEvent> {\n\n\tconstructor(private readonly uniqueValuesRepository: UniqueValuesRepository) {\n\t}\n\n\tforEvent(): DomainEventType<UniqueFilterCalculatedEvent> {\n\t\treturn UniqueFilterCalculatedEvent;\n\t}\n\n\thandle(calculatedEvent: UniqueFilterCalculatedEvent): void {\n\n\t\tif (calculatedEvent.ofMessageType('UniqueFilterCalculatedEvent')) {\n\n\t\t\tlet uvRM = new Map();\n\n\t\t\tcalculatedEvent.getUniqueValues()\n\t\t\t\t\t\t   .forEach((values: Array<UniqueValue>, key: string) => {\n\n\t\t\t\t\t\t\t   const valuesRM = values.map((uv: UniqueValue) => {\n\t\t\t\t\t\t\t\t   return new UniqueValueReadModel(uv.getId(), uv.getDisplayValue(), uv.isEnabled());\n\t\t\t\t\t\t\t   });\n\n\t\t\t\t\t\t\t   uvRM.set(key, valuesRM);\n\t\t\t\t\t\t   });\n\n\n\t\t\tlet uniqueValues = new UniqueValuesReadModel(\n\t\t\t\tuvRM\n\t\t\t);\n\n\t\t\tthis.uniqueValuesRepository.next(calculatedEvent.getAggregateId(), uniqueValues);\n\t\t}\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventHandler, DomainEventType } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../lib/structure/domain/structure.id';\nimport { FieldsInitedEvent } from '../../../../field/domain/init/fields-inited.event';\n\n// TODO Remove\n\n\n@Injectable()\nexport class FilterTypeFieldsInitedEventHandler implements DomainEventHandler<StructureId, FieldsInitedEvent> {\n\n\t// constructor(private readonly filterTypeManagerRepository: FilterTypeManagerRepository,\n\t// \t\t\tprivate readonly domainEventPublisher: DomainEventPublisher) {\n\t// }\n\n\tforEvent(): DomainEventType<FieldsInitedEvent> {\n\t\treturn FieldsInitedEvent;\n\t}\n\n\thandle(fieldsInitedEvent: FieldsInitedEvent): void {\n\n\t\t// if (fieldsInitedEvent.ofMessageType('FieldsInitedEvent')) {\n\t\t//\n\t\t// \tconst fields = fieldsInitedEvent.getFields();\n\t\t//\n\t\t// \tconst manager = new FilterTypeManager(fields);\n\t\t//\n\t\t// \tthis.filterTypeManagerRepository.next(fieldsInitedEvent.getAggregateId(), manager);\n\t\t//\n\t\t// \tthis.domainEventPublisher.publish(new FilterTypesInitedEvent(fieldsInitedEvent.getAggregateId(), manager.getFieldIdsToFieldTypes()));\n\t\t// }\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { UnselectAllUniqueFilterCommand } from './unselect-all-unique-filter.command';\nimport { StructureAggregate } from '../../../../../lib/structure/domain/structure/structure.aggregate';\nimport { FieldId } from '../../../../field/domain/core/field/field.id';\n\n\n@Injectable()\nexport class UnselectAllUniqueFilterCommandHandler implements CommandHandler<StructureAggregate, UnselectAllUniqueFilterCommand> {\n\n\tconstructor(private domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<UnselectAllUniqueFilterCommand> {\n\t\treturn UnselectAllUniqueFilterCommand;\n\t}\n\n\tpublishDomainEvents(aggregate: StructureAggregate, command: UnselectAllUniqueFilterCommand): void {\n\t\tthis.domainEventPublisher.publishFromAggregate(aggregate);\n\t}\n\n\thandleAggregate(structure: StructureAggregate, command: UnselectAllUniqueFilterCommand): void {\n\n\t\tconst fieldId: FieldId = command.getFieldId();\n\n\t\tstructure.unselectAllUniqueFilter(fieldId);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { UnselectUniqueFilterCommand } from './unselect-unique-filter.command';\nimport { StructureAggregate } from '../../../../../lib/structure/domain/structure/structure.aggregate';\nimport { FieldId } from '../../../../field/domain/core/field/field.id';\n\n\n@Injectable()\nexport class UnselectUniqueFilterCommandHandler implements CommandHandler<StructureAggregate, UnselectUniqueFilterCommand> {\n\n\tconstructor(private domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<UnselectUniqueFilterCommand> {\n\t\treturn UnselectUniqueFilterCommand;\n\t}\n\n\tpublishDomainEvents(aggregate: StructureAggregate, command: UnselectUniqueFilterCommand): void {\n\t\tthis.domainEventPublisher.publishFromAggregate(aggregate);\n\t}\n\n\thandleAggregate(structure: StructureAggregate, command: UnselectUniqueFilterCommand): void {\n\n\t\tconst fieldId: FieldId = command.getFieldId(),\n\t\t\tuniqueValueId = command.getUniqueValueId();\n\n\t\tstructure.unselectUniqueFilter(fieldId, uniqueValueId);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { SelectAllUniqueFilterCommand } from './select-all-unique-filter.command';\nimport { StructureAggregate } from '../../../../../lib/structure/domain/structure/structure.aggregate';\nimport { FieldId } from '../../../../field/domain/core/field/field.id';\n\n\n@Injectable()\nexport class SelectAllUniqueFilterCommandHandler implements CommandHandler<StructureAggregate, SelectAllUniqueFilterCommand> {\n\n\tconstructor(private domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SelectAllUniqueFilterCommand> {\n\t\treturn SelectAllUniqueFilterCommand;\n\t}\n\n\tpublishDomainEvents(aggregate: StructureAggregate, command: SelectAllUniqueFilterCommand): void {\n\t\tthis.domainEventPublisher.publishFromAggregate(aggregate);\n\t}\n\n\thandleAggregate(structure: StructureAggregate, command: SelectAllUniqueFilterCommand): void {\n\n\t\tconst fieldId: FieldId = command.getFieldId();\n\n\t\tstructure.selectAllUniqueFilter(fieldId);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { SelectUniqueFilterCommand } from './select-unique-filter.command';\nimport { StructureAggregate } from '../../../../../lib/structure/domain/structure/structure.aggregate';\nimport { FieldId } from '../../../../field/domain/core/field/field.id';\n\n\n@Injectable()\nexport class SelectUniqueFilterCommandHandler implements CommandHandler<StructureAggregate, SelectUniqueFilterCommand> {\n\n\tconstructor(private domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SelectUniqueFilterCommand> {\n\t\treturn SelectUniqueFilterCommand;\n\t}\n\n\tpublishDomainEvents(aggregate: StructureAggregate, command: SelectUniqueFilterCommand): void {\n\t\tthis.domainEventPublisher.publishFromAggregate(aggregate);\n\t}\n\n\thandleAggregate(structure: StructureAggregate, command: SelectUniqueFilterCommand): void {\n\n\t\tconst fieldId: FieldId = command.getFieldId(),\n\t\t\tuniqueValueId = command.getUniqueValueId();\n\n\t\tstructure.selectUniqueFilter(fieldId, uniqueValueId);\n\t}\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { DomainModule, HermesModule } from '@generic-ui/hermes';\n\nimport { ToggleFilterCommandHandler } from './toggle/toggle-filter.command-handler';\nimport { AddFilterCommandHandler } from './core/add/add-filter.command-handler';\nimport { RemoveAllFiltersCommandHandler } from './core/remove-all/remove-all-filters.command-handler';\nimport { RemoveFilterCommandHandler } from './core/remove/remove-filter.command-handler';\nimport { SetConfigFilterCommandHandler } from './config/set-config-filter.command-handler';\nimport { SetConfigQuickFilterCommandHandler } from './quick/set-config-quick-filter.command-handler';\nimport { FilterManagerFactory } from './filter.manager-factory';\nimport { ConfigQuickFilterSetEventHandler } from '../domain-api/read/config-quick-filter-set.event-handler';\nimport { ConfigFilterSetEventHandler } from '../domain-api/read/config-filter-set.event-handler';\nimport { FilterTypeConfigFilterSetEventHandler } from '../domain-api/type/filter-type.config-filter-set.event-handler';\nimport { ActiveFiltersSetEventHandler } from '../domain-api/active/active-filters-set.event-handler';\nimport { UniqueFilterCalculatedEventHandler } from '../domain-api/unique/unique-filter-calculated.event-handler';\nimport { FilterTypeFieldsInitedEventHandler } from './type/init/filter-type.fields-inited.event-handler';\nimport { UnselectAllUniqueFilterCommandHandler } from './unique/unselect-all/unselect-all-unique-filter.command-handler';\nimport { UnselectUniqueFilterCommandHandler } from './unique/unselect/unselect-unique-filter.command-handler';\nimport { SelectAllUniqueFilterCommandHandler } from './unique/select-all/select-all-unique-filter.command-handler';\nimport { SelectUniqueFilterCommandHandler } from './unique/select/select-unique-filter.command-handler';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule\n\t],\n\tproviders: [\n\t\tFilterManagerFactory\n\n\t],\n\tdeclarations: [],\n\texports: []\n})\nexport class FilterDomainModule extends DomainModule {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tstatic commandHandlers() {\n\t\treturn [\n\t\t\t...HermesModule.registerCommandHandler(SetConfigFilterCommandHandler, 'StructureAggregate'),\n\t\t\t...HermesModule.registerCommandHandler(SetConfigQuickFilterCommandHandler, 'StructureAggregate'),\n\t\t\t...HermesModule.registerCommandHandler(ToggleFilterCommandHandler, 'StructureAggregate'),\n\t\t\t...HermesModule.registerCommandHandler(AddFilterCommandHandler, 'StructureAggregate'),\n\t\t\t...HermesModule.registerCommandHandler(RemoveAllFiltersCommandHandler, 'StructureAggregate'),\n\t\t\t...HermesModule.registerCommandHandler(RemoveFilterCommandHandler, 'StructureAggregate'),\n\t\t\t...HermesModule.registerCommandHandler(SelectUniqueFilterCommandHandler, 'StructureAggregate'),\n\t\t\t...HermesModule.registerCommandHandler(SelectAllUniqueFilterCommandHandler, 'StructureAggregate'),\n\t\t\t...HermesModule.registerCommandHandler(UnselectUniqueFilterCommandHandler, 'StructureAggregate'),\n\t\t\t...HermesModule.registerCommandHandler(UnselectAllUniqueFilterCommandHandler, 'StructureAggregate')\n\t\t];\n\t}\n\n\tstatic domainEventHandlers() {\n\t\treturn [\n\t\t\t...HermesModule.registerDomainEventHandler(ConfigQuickFilterSetEventHandler),\n\t\t\t...HermesModule.registerDomainEventHandler(ConfigFilterSetEventHandler),\n\t\t\t...HermesModule.registerDomainEventHandler(FilterTypeConfigFilterSetEventHandler),\n\t\t\t...HermesModule.registerDomainEventHandler(ActiveFiltersSetEventHandler),\n\t\t\t...HermesModule.registerDomainEventHandler(UniqueFilterCalculatedEventHandler),\n\t\t\t...HermesModule.registerDomainEventHandler(FilterTypeFieldsInitedEventHandler)\n\t\t];\n\t}\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { ApiModule } from '@generic-ui/hermes';\n\nimport { FilterCommandDispatcher } from './filter.command-dispatcher';\nimport { FilterDomainModule } from '../domain/filter.domain-module';\nimport { FilterWarehouse } from './filter.warehouse';\nimport { FilterTypeRepository } from './type/filter-type.repository';\nimport { ActiveFilterRepository } from './active/active-filter.repository';\nimport { UniqueValuesRepository } from './unique/unique-values.repository';\nimport { FilterEnabledRepository } from './read/filter-enabled.repository';\nimport { QuickFilterEnabledRepository } from './read/quick-filter-enabled.repository';\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tFilterDomainModule\n\t],\n\tproviders: [\n\t\tFilterCommandDispatcher,\n\t\tFilterWarehouse,\n\t\tFilterTypeRepository,\n\t\tActiveFilterRepository,\n\t\tUniqueValuesRepository,\n\t\tFilterEnabledRepository,\n\t\tQuickFilterEnabledRepository\n\t],\n\tdeclarations: [],\n\texports: []\n})\nexport class FilterApiModule extends ApiModule {\n\n\n}\n","import { ChangeDetectorRef, Component, ChangeDetectionStrategy } from '@angular/core';\n\nimport { StructureId } from '../../../../domain/structure.id';\nimport { FormationCommandDispatcher } from '../../../../../../structure/source/domain-api/formation/formation.command-dispatcher';\nimport { SmartComponent } from '../../../../../../common/cdk/smart-component';\nimport { FormationWarehouse } from '../../../../../../structure/source/domain-api/formation/formation.warehouse';\nimport { RowSelectedReadModel } from '../../../../../../structure/source/domain-api/formation/row-selected.read-model';\nimport { RowSelectionModeRepository } from '../../../../../../structure/source/domain-api/formation/mode/row-selection-mode.repository';\nimport { RowSelectionMode } from '../../../../../../structure/source/domain-api/row-selection';\n\n@Component({\n\tselector: 'gui-select-all',\n\ttemplate: `\n\n\t\t<gui-checkbox *ngIf=\"modeMulti\"\n\t\t\t\t\t  [checked]=\"selectAllChecked\"\n\t\t\t\t\t  [indeterminate]=\"selectAllIndeterminate\"\n\t\t\t\t\t  [gui-tooltip]=\"'Select'\"\n\t\t\t\t\t  (changed)=\"toggleSelectAll()\">\n\t\t</gui-checkbox>\n\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class SelectAllComponent extends SmartComponent {\n\n\tselectAllChecked: boolean;\n\n\tselectAllIndeterminate: boolean;\n\n\tmodeMulti: boolean = false;\n\n\tconstructor(private readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\tprivate readonly structureId: StructureId,\n\t\t\t\tprivate readonly rowSelectionModeRepository: RowSelectionModeRepository,\n\t\t\t\tprivate readonly formationCommandDispatcher: FormationCommandDispatcher,\n\t\t\t\tprivate readonly formationWarehouse: FormationWarehouse) {\n\t\tsuper();\n\t}\n\n\tngOnInit() {\n\n\t\tthis.formationWarehouse\n\t\t\t.onMode(this.structureId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((mode: RowSelectionMode) => {\n\t\t\t\tthis.modeMulti = mode === RowSelectionMode.MULTIPLE;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.formationWarehouse\n\t\t\t.onRowSelectedReadModel(this.structureId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((rowSelectedReadModel: RowSelectedReadModel) => {\n\t\t\t\tthis.selectAllChecked = rowSelectedReadModel.isAllSelected();\n\t\t\t\tthis.selectAllIndeterminate = rowSelectedReadModel.isIndeterminate();\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\t}\n\n\ttoggleSelectAll(): void {\n\n\t\tif (this.selectAllIndeterminate) {\n\t\t\tthis.formationCommandDispatcher.unselectAll(this.structureId);\n\t\t} else {\n\n\t\t\tif (this.selectAllChecked) {\n\t\t\t\tthis.formationCommandDispatcher.unselectAll(this.structureId);\n\t\t\t} else {\n\t\t\t\tthis.formationCommandDispatcher.selectAll(this.structureId);\n\t\t\t}\n\t\t}\n\t}\n\n}\n","import { Inject, ModuleWithProviders, NgModule, PLATFORM_ID } from '@angular/core';\nimport { CommonModule, isPlatformBrowser } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\n\nimport { FabricModule } from '@generic-ui/fabric';\n\nimport { COMMAND_LOGGER_ENABLED, EVENT_LOGGER_ENABLED, HermesModule } from '@generic-ui/hermes';\n\nimport { fabricImports } from '../feature/structure-fabric.imports';\nimport { PagingFeatureModule } from '../../../structure/paging/feature/paging.feature-module';\nimport { StructureInfoPanelModule } from '../feature/panel/info/structure.info-panel.module';\nimport { CompositionModule } from '../../composition/domain-api/composition.module';\nimport { StructureComponent } from '../feature/structure.component';\nimport { StructureHeaderComponent } from '../feature/header/structure-header.component';\nimport { StructureHeaderColumnsComponent } from '../feature/header/columns/structure-header-columns.component';\nimport { StructureHeaderFiltersComponent } from '../feature/header/filters/structure-header-filters.component';\nimport { StructureHeaderFilterComponent } from '../feature/header/filters/structure.header-filter.component';\nimport { StructureContentComponent } from '../feature/content/structure-content.component';\nimport { StructureRowComponent } from '../feature/content/row/structure-row.component';\nimport { StructureCellComponent } from '../feature/content/cell/structure.cell.component';\nimport { StructureContainerComponent } from '../feature/content/structure-container.component';\nimport { StructureQuickFiltersComponent } from '../feature/header/quick-filters/structure.quick-filters.component';\nimport { StructureBlueprintComponent } from '../feature/blueprint/structure.blueprint.component';\nimport { StructureColumnConfigComponent } from '../feature/header/menu/structure.column-config.component';\nimport { STRUCTURE_CSS_CLASS_NAME } from './structure-tokens';\nimport { StructureDefinition } from '../feature/structure-definition';\nimport { SourceWarehouse } from '../../../structure/source/domain-api/source.warehouse';\nimport { StructureIdGenerator } from '../feature/structure-id.generator';\nimport { structureCommandHandlers, structureDomainEventHandlers, structureProviders } from './structure.providers';\nimport { StructureModuleConfig } from '../feature/structure-module-config';\nimport { LoggerModule } from '../../../common/cdk/logger/logger.module';\nimport { ItemEntityFactory } from '../../../structure/source/domain/core/item/item.entity-factory';\nimport { StructureTopPanelModule } from '../feature/panel/top/structure.top-panel.module';\nimport { StructureColumnMenuModule } from '../feature/header/menu/structure.column-menu.module';\nimport { StructureSummariesPanelModule } from '../feature/panel/summaries/structure.summaries-panel.module';\nimport { StructureColumnManagerModule } from '../feature/column-manager/structure.column-manager.module';\nimport { StructureAggregateFactory } from '../domain/structure/structure.aggregate-factory';\nimport { StructureAggregate } from '../domain/structure/structure.aggregate';\nimport { InMemoryStructureAggregateRepository } from '../infrastructure/in-memory/domain/in-memory.structure-aggregate.repository';\nimport { CreateStructureCommandHandler } from '../domain/structure/create-structure/create-structure-command-handler.service';\nimport { StructureCellEditComponent } from '../feature/content/cell/edit/structure.cell-edit.component';\nimport { StructureThemeConverter } from '../feature/schema/structure.theme.converter';\nimport { SchemaModule } from '../../../schema/domain-api/schema.module';\nimport { StructureCellEditBooleanComponent } from '../feature/content/cell/boolean/structure.cell-edit-boolean.component';\nimport { StructureRowDetailViewComponent } from '../feature/row-detail/view/structure.row-detail-view.component';\nimport { StructureTitlePanelComponent } from '../feature/panel/title-panel/structure.title-panel.component';\nimport { StructureFooterPanelComponent } from '../feature/panel/footer-panel/structure.footer-panel.component';\nimport { PagingDomainModule } from '../../../structure/paging/domain/paging.domain-module';\nimport { EmptySourceFeatureModule } from '../../../structure/empty-source/feature/empty-source.feature-module';\nimport { SortingDomainModule } from '../../../structure/sorting/domain/sorting.domain-module';\nimport { SortingFeatureModule } from '../../../structure/sorting/feature/sorting.feature-module';\nimport { FieldFeatureModule } from '../../../structure/field/feature/field.feature-module';\nimport { FieldDomainModule } from '../../../structure/field/domain/field.domain-module';\nimport { SearchFeatureModule } from '../../../structure/search/feature/search.feature-module';\nimport { SearchApiModule } from '../../../structure/search/domain-api/search.api-module';\nimport { SearchDomainModule } from '../../../structure/search/domain/search.domain-module';\nimport { StructureThemeGateway } from '../feature/gateway/schema/structure-theme.gateway';\nimport { StructureSchemaManagerModule } from '../../../schema/feature/manager/structure.schema-manager.module';\nimport { FilterDomainModule } from '../../../structure/filter/domain/filter.domain-module';\nimport { FilterApiModule } from '../../../structure/filter/domain-api/filter.api-module';\nimport { SourceDomainModule } from '../../../structure/source/domain/source.domain-module';\nimport { SourceApiModule } from '../../../structure/source/domain-api/source.api-module';\nimport { SelectAllComponent } from '../feature/header/columns/select-all/select-all.component';\n\n\nexport function createStructureDefinition() {\n\treturn new StructureDefinition.DefaultBuilder().build();\n}\n\nexport const structureKey = 'StructureAggregate';\n\nconst imports = [\n\tCommonModule,\n\tReactiveFormsModule,\n\tHermesModule,\n\tHermesModule.defineAggregate(\n\t\tstructureKey,\n\t\tStructureAggregateFactory,\n\t\tInMemoryStructureAggregateRepository,\n\t\tCreateStructureCommandHandler,\n\t\t[\n\t\t\t...PagingDomainModule.commandHandlers(),\n\t\t\t...SortingDomainModule.commandHandlers(),\n\t\t\t...FieldDomainModule.commandHandlers(),\n\t\t\t...SearchDomainModule.commandHandlers(),\n\t\t\t...FilterDomainModule.commandHandlers(),\n\t\t\t...SourceDomainModule.commandHandlers(),\n\t\t\t...structureCommandHandlers\n\t\t], [\n\t\t\t...structureDomainEventHandlers,\n\t\t\t...SearchDomainModule.domainEventHandlers(),\n\t\t\t...FilterDomainModule.domainEventHandlers(),\n\t\t\t...SourceDomainModule.domainEventHandlers()\n\t\t]\n\t),\n\t// .withConfig({\n\t// \tloggers: false\n\t// }),\n\t...fabricImports,\n\n\tPagingFeatureModule,\n\tSortingFeatureModule,\n\tFieldFeatureModule,\n\tSearchFeatureModule,\n\tSearchApiModule,\n\tFilterApiModule,\n\tSourceApiModule,\n\n\tStructureInfoPanelModule,\n\tStructureSummariesPanelModule,\n\tStructureTopPanelModule,\n\tStructureColumnMenuModule,\n\tStructureColumnManagerModule,\n\tStructureSchemaManagerModule,\n\n\tEmptySourceFeatureModule,\n\n\tCompositionModule,\n\tSchemaModule,\n\n\tLoggerModule\n];\n\nconst declarations = [\n\tStructureComponent,\n\tStructureHeaderComponent,\n\tStructureHeaderColumnsComponent,\n\tStructureHeaderFiltersComponent,\n\tStructureHeaderFilterComponent,\n\tSelectAllComponent,\n\tStructureContentComponent,\n\tStructureRowComponent,\n\tStructureCellComponent,\n\tStructureCellEditComponent,\n\tStructureCellEditBooleanComponent,\n\tStructureContainerComponent,\n\tStructureQuickFiltersComponent,\n\tStructureBlueprintComponent,\n\tStructureRowDetailViewComponent,\n\tStructureTitlePanelComponent,\n\tStructureFooterPanelComponent,\n\tStructureThemeGateway\n];\n\nconst entryComponents = [\n\tStructureColumnConfigComponent,\n\tStructureRowDetailViewComponent\n];\n\nconst providers = [\n\t{\n\t\tprovide: STRUCTURE_CSS_CLASS_NAME,\n\t\tuseValue: 'structure'\n\t},\n\t{\n\t\tprovide: StructureDefinition,\n\t\tuseFactory: createStructureDefinition\n\t},\n\tItemEntityFactory,\n\tStructureThemeConverter,\n\n\tSourceWarehouse,\n\n\tStructureIdGenerator,\n\n\t...structureProviders\n\n];\n\nconst exportDeclarations = [\n\tFabricModule,\n\tStructureComponent,\n\tStructureThemeGateway,\n\tStructureHeaderComponent,\n\tStructureContentComponent,\n\tStructureRowComponent,\n\tStructureContainerComponent,\n\n\t...fabricImports,\n\tPagingFeatureModule\n];\n\n@NgModule({\n\timports,\n\tdeclarations,\n\texports: exportDeclarations,\n\tentryComponents\n})\nexport class StructureModule {\n\n\tstatic exportDeclarations = [...exportDeclarations];\n\n\tstatic withConfig(structureConfig: StructureModuleConfig = {\n\t\tcssClassName: '',\n\t\thermesModuleConfig: { loggers: false }\n\t}): ModuleWithProviders {\n\t\treturn {\n\t\t\tngModule: StructureModule,\n\t\t\tproviders: [\n\t\t\t\t{\n\t\t\t\t\tprovide: STRUCTURE_CSS_CLASS_NAME,\n\t\t\t\t\tuseValue: structureConfig.cssClassName\n\t\t\t\t},\n\t\t\t\t{ provide: COMMAND_LOGGER_ENABLED, useValue: structureConfig.hermesModuleConfig.loggers },\n\t\t\t\t{ provide: EVENT_LOGGER_ENABLED, useValue: structureConfig.hermesModuleConfig.loggers },\n\t\t\t\t...providers\n\t\t\t]\n\t\t};\n\t}\n\n\tconstructor(@Inject(PLATFORM_ID) private platformId: any) {\n\t\tif (isPlatformBrowser(this.platformId)) {\n\t\t\twindow['hermesApi'].loggers = false;\n\t\t}\n\t}\n\n}\n","import { NgModule, Provider } from '@angular/core';\n\nimport { GuiGridComponent } from '../feature/grid/gui.grid.component';\n\nimport { StructureModule } from '../../../lib/structure/domain-api/structure.module';\n\nimport { GuiGridIdGenerator } from '../feature/grid/register/gui.grid-id.generator';\nimport { GuiGridRegister } from '../feature/grid/register/gui.grid.register';\n\n\nconst imports = [\n\tStructureModule.withConfig({\n\t\tcssClassName: 'grid',\n\t\thermesModuleConfig: {\n\t\t\tloggers: true\n\t\t}\n\t})\n];\n\nconst declarations = [\n\tGuiGridComponent\n];\n\nconst providers = [\n\tGuiGridIdGenerator,\n\tGuiGridRegister\n] as Array<Provider>;\n\nconst exportDeclarations = [\n\tGuiGridComponent\n];\n\nconst entryComponents = [] as Array<any>;\n\nconst elementComponents = [\n\tGuiGridComponent\n];\n\n@NgModule({\n\timports,\n\tdeclarations,\n\tproviders,\n\texports: exportDeclarations,\n\tentryComponents\n})\nexport class GuiGridModule {\n\n\tstatic entryComponents = [...entryComponents];\n\n\tstatic exportDeclarations = [...exportDeclarations];\n\n\tstatic elementComponents = [...elementComponents];\n}\n"],"names":["Injectable","tslib_1.__extends","EventEmitter","Input","Output","InjectionToken","Command","CommandDispatcher","ReadModelRootId","AggregateId","Subject","takeUntil","ReplaySubject","map","distinctUntilChanged","take","AggregateArchive","zip","isPlatformBrowser","Component","ViewEncapsulation","Inject","PLATFORM_ID","ElementRef","ChangeDetectorRef","ViewChild","FabricBadgeModule","FabricButtonModule","FabricButtonGroupModule","FabricCheckboxModule","FabricChipModule","FabricDrawerModule","FabricDropdownModule","FabricRadioButtonModule","FabricRadioGroupModule","FabricProgressBarModule","FabricProgressSpinnerModule","FabricSelectModule","FabricSpinnerModule","FabricTabModule","FabricTooltipModule","FabricToggleButtonModule","FabricInputModule","FabricDialogModule","FabricInlineDialogModule","filter","Archive","ChangeDetectionStrategy","Renderer2","ReadModelObject","DomainEvent","switchMap","DomainEventBus","AggregateEvent","AggregateRepository","DomainEventPublisher","tslib_1.__values","HermesModule","NgModule","CommonModule","DomainModule","ApiModule","FabricModule","FeatureModule","Pipe","Theme","Injector","FabricDialogService","ReadModelRootRepository","EntityId","selector","CreateAggregateCommand","Directive","FabricDrawerService","FormBuilder","ReactiveFormsModule","TemplateRef","fromEvent","tslib_1.__decorate","ContentChild","DomSanitizer","InMemoryStore","AggregateStoreRegister","InMemoryAggregateStore","ComponentFactoryResolver","Entity","ReadModelEntity","ReadModelEntityId","ReadModelRoot","InMemoryReadModelStore","RandomStringGenerator","AggregateRoot","AggregateFactory","Attribute","FabricDatePickerModule","FabricChipComponent","FabricCheckboxComponent","FabricButtonComponent","FabricInputComponent","Observable","RendererFactory2","EventRepository","debounceTime","Optional","timer","InlineDialogPlacement","FabricInlineDialogService","combineLatest","NgZone","ResizeDetector","DomainObject","KeyMap","commandProviders","readProviders","Placement","declarations","exportDeclarations","COMMAND_LOGGER_ENABLED","EVENT_LOGGER_ENABLED","imports","providers","entryComponents"],"mappings":"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"}