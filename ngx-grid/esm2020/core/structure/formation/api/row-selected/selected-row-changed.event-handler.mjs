import { SelectedRowChangedEvent } from '../../domain/selected-row-changed.event';
import { RowSelectedArchive } from './row-selected.archive';
import { RowSelectedReadModel } from './row-selected.read-model';
export class SelectedRowChangedEventHandler {
    constructor(rowSelectedArchive) {
        this.rowSelectedArchive = rowSelectedArchive;
    }
    forEvent() {
        return SelectedRowChangedEvent;
    }
    handle(rowChangedEvent) {
        if (rowChangedEvent.ofMessageType('SelectedRowChangedEvent')) {
            const rowSelectedRead = new RowSelectedReadModel(rowChangedEvent.getSelectedRows(), rowChangedEvent.isAllSelected(), rowChangedEvent.isAllUnselected());
            this.rowSelectedArchive.next(rowChangedEvent.getAggregateId(), rowSelectedRead);
        }
    }
}
SelectedRowChangedEventHandler.services = [RowSelectedArchive];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VsZWN0ZWQtcm93LWNoYW5nZWQuZXZlbnQtaGFuZGxlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2J1aWxkLWNsaS9wcm9qZWN0cy9uZ3gtZ3JpZC9zcmMvY29yZS9zdHJ1Y3R1cmUvZm9ybWF0aW9uL2FwaS9yb3ctc2VsZWN0ZWQvc2VsZWN0ZWQtcm93LWNoYW5nZWQuZXZlbnQtaGFuZGxlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxPQUFPLEVBQUUsdUJBQXVCLEVBQUUsTUFBTSx5Q0FBeUMsQ0FBQztBQUNsRixPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUU1RCxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUdqRSxNQUFNLE9BQU8sOEJBQThCO0lBRTFDLFlBQTZCLGtCQUFzQztRQUF0Qyx1QkFBa0IsR0FBbEIsa0JBQWtCLENBQW9CO0lBQ25FLENBQUM7SUFJRCxRQUFRO1FBQ1AsT0FBTyx1QkFBdUIsQ0FBQztJQUNoQyxDQUFDO0lBRUQsTUFBTSxDQUFDLGVBQXdDO1FBRTlDLElBQUksZUFBZSxDQUFDLGFBQWEsQ0FBQyx5QkFBeUIsQ0FBQyxFQUFFO1lBRTdELE1BQU0sZUFBZSxHQUFHLElBQUksb0JBQW9CLENBQy9DLGVBQWUsQ0FBQyxlQUFlLEVBQUUsRUFDakMsZUFBZSxDQUFDLGFBQWEsRUFBRSxFQUMvQixlQUFlLENBQUMsZUFBZSxFQUFFLENBQ2pDLENBQUM7WUFFRixJQUFJLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxjQUFjLEVBQUUsRUFBRSxlQUFlLENBQUMsQ0FBQztTQUNoRjtJQUNGLENBQUM7O0FBbEJlLHVDQUFRLEdBQUcsQ0FBQyxrQkFBa0IsQ0FBVSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRG9tYWluRXZlbnRIYW5kbGVyLCBEb21haW5FdmVudFR5cGUgfSBmcm9tICdAZ2VuZXJpYy11aS9oZXJtZXMnO1xuXG5pbXBvcnQgeyBTZWxlY3RlZFJvd0NoYW5nZWRFdmVudCB9IGZyb20gJy4uLy4uL2RvbWFpbi9zZWxlY3RlZC1yb3ctY2hhbmdlZC5ldmVudCc7XG5pbXBvcnQgeyBSb3dTZWxlY3RlZEFyY2hpdmUgfSBmcm9tICcuL3Jvdy1zZWxlY3RlZC5hcmNoaXZlJztcbmltcG9ydCB7IFN0cnVjdHVyZUlkIH0gZnJvbSAnLi4vLi4vLi4vY29yZS9hcGkvZ2xvYmFsL3N0cnVjdHVyZS5pZCc7XG5pbXBvcnQgeyBSb3dTZWxlY3RlZFJlYWRNb2RlbCB9IGZyb20gJy4vcm93LXNlbGVjdGVkLnJlYWQtbW9kZWwnO1xuXG5cbmV4cG9ydCBjbGFzcyBTZWxlY3RlZFJvd0NoYW5nZWRFdmVudEhhbmRsZXIgaW1wbGVtZW50cyBEb21haW5FdmVudEhhbmRsZXI8U3RydWN0dXJlSWQsIFNlbGVjdGVkUm93Q2hhbmdlZEV2ZW50PiB7XG5cblx0Y29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSByb3dTZWxlY3RlZEFyY2hpdmU6IFJvd1NlbGVjdGVkQXJjaGl2ZSkge1xuXHR9XG5cblx0c3RhdGljIHJlYWRvbmx5IHNlcnZpY2VzID0gW1Jvd1NlbGVjdGVkQXJjaGl2ZV0gYXMgY29uc3Q7XG5cblx0Zm9yRXZlbnQoKTogRG9tYWluRXZlbnRUeXBlPFNlbGVjdGVkUm93Q2hhbmdlZEV2ZW50PiB7XG5cdFx0cmV0dXJuIFNlbGVjdGVkUm93Q2hhbmdlZEV2ZW50O1xuXHR9XG5cblx0aGFuZGxlKHJvd0NoYW5nZWRFdmVudDogU2VsZWN0ZWRSb3dDaGFuZ2VkRXZlbnQpOiB2b2lkIHtcblxuXHRcdGlmIChyb3dDaGFuZ2VkRXZlbnQub2ZNZXNzYWdlVHlwZSgnU2VsZWN0ZWRSb3dDaGFuZ2VkRXZlbnQnKSkge1xuXG5cdFx0XHRjb25zdCByb3dTZWxlY3RlZFJlYWQgPSBuZXcgUm93U2VsZWN0ZWRSZWFkTW9kZWwoXG5cdFx0XHRcdHJvd0NoYW5nZWRFdmVudC5nZXRTZWxlY3RlZFJvd3MoKSxcblx0XHRcdFx0cm93Q2hhbmdlZEV2ZW50LmlzQWxsU2VsZWN0ZWQoKSxcblx0XHRcdFx0cm93Q2hhbmdlZEV2ZW50LmlzQWxsVW5zZWxlY3RlZCgpXG5cdFx0XHQpO1xuXG5cdFx0XHR0aGlzLnJvd1NlbGVjdGVkQXJjaGl2ZS5uZXh0KHJvd0NoYW5nZWRFdmVudC5nZXRBZ2dyZWdhdGVJZCgpLCByb3dTZWxlY3RlZFJlYWQpO1xuXHRcdH1cblx0fVxuXG59XG4iXX0=