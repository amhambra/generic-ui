import { KeyMap } from '@generic-ui/hermes';
import { UniqueValueCollection } from './unique-value-collection';
export class UniqueFilterManager {
    constructor() {
        this.uniqueValueMap = new KeyMap();
    }
    calculate(entities, field) {
        const fieldId = field.getId();
        const optUVM = this.uniqueValueMap.find(fieldId);
        optUVM.ifEmpty(() => {
            const set = new Set();
            for (const entity of entities) {
                set.add(field.getValue(entity));
            }
            // sort
            const sortedValues = Array.from(set.values()).sort((a, b) => {
                return field.getField().sort(a, b);
            });
            const uvc = new UniqueValueCollection(sortedValues, field);
            this.uniqueValueMap.set(field.getId(), uvc);
        });
    }
    calculateAll(entities, fields) {
        for (const field of fields) {
            this.calculate(entities, field);
        }
    }
    filterAll(entities, fields) {
        let values = entities;
        for (const field of fields) {
            values = this.filter(values, field);
        }
        return values;
    }
    filter(entities, field) {
        let values = [];
        this.uniqueValueMap
            .find(field.getId())
            .ifPresent((uvc) => {
            if (uvc.isAllSelected()) {
                values = entities;
            }
            else if (uvc.isAllDisabled()) {
                values = [];
            }
            else {
                values = entities.filter((itemEntity) => {
                    for (const notSelectedValue of uvc.getNotSelected()) {
                        if (field.getField().equals(itemEntity, notSelectedValue.getValue())) {
                            return false;
                        }
                    }
                    return true;
                });
            }
        });
        return values;
    }
    selectAll(fieldId) {
        this.uniqueValueMap
            .find(fieldId)
            .ifPresent((uvc) => {
            uvc.selectAll();
        });
    }
    select(fieldId, uniqueValueId) {
        this.uniqueValueMap
            .find(fieldId)
            .ifPresent((uvc) => {
            uvc.select(uniqueValueId);
        });
    }
    unselectAll(fieldId) {
        this.uniqueValueMap
            .find(fieldId)
            .ifPresent((uvc) => {
            uvc.unselectAll();
        });
    }
    unselect(fieldId, uniqueValueId) {
        this.uniqueValueMap
            .find(fieldId)
            .ifPresent((uvc) => {
            uvc.unselect(uniqueValueId);
        });
    }
    getAll(fields) {
        const map = new Map();
        for (const field of fields) {
            this.getValues(field)
                .ifPresent((v) => {
                map.set(field.getId().toString(), v);
            });
        }
        return map;
    }
    getValues(field) {
        return this.uniqueValueMap
            .find(field.getId())
            .map((uvc) => {
            return uvc.getAll();
        });
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidW5pcXVlLWZpbHRlci1tYW5hZ2VyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vYnVpbGQtY2xpL3Byb2plY3RzL25neC1ncmlkL3NyYy9jb3JlL3N0cnVjdHVyZS9maWx0ZXIvZG9tYWluL3VuaXF1ZS91bmlxdWUtZmlsdGVyLW1hbmFnZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLE1BQU0sRUFBWSxNQUFNLG9CQUFvQixDQUFDO0FBS3RELE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBS2xFLE1BQU0sT0FBTyxtQkFBbUI7SUFBaEM7UUFFa0IsbUJBQWMsR0FBRyxJQUFJLE1BQU0sRUFBa0MsQ0FBQztJQTBJaEYsQ0FBQztJQXhJQSxTQUFTLENBQUMsUUFBaUMsRUFBRSxLQUFrQjtRQUU5RCxNQUFNLE9BQU8sR0FBRyxLQUFLLENBQUMsS0FBSyxFQUFFLENBQUM7UUFFOUIsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7UUFFakQsTUFBTSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUU7WUFFbkIsTUFBTSxHQUFHLEdBQUcsSUFBSSxHQUFHLEVBQUUsQ0FBQztZQUV0QixLQUFLLE1BQU0sTUFBTSxJQUFJLFFBQVEsRUFBRTtnQkFDOUIsR0FBRyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7YUFDaEM7WUFFRCxPQUFPO1lBQ1AsTUFBTSxZQUFZLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFNLEVBQUUsQ0FBTSxFQUFFLEVBQUU7Z0JBQ3JFLE9BQVEsS0FBYSxDQUFDLFFBQVEsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDN0MsQ0FBQyxDQUFDLENBQUM7WUFFSCxNQUFNLEdBQUcsR0FBRyxJQUFJLHFCQUFxQixDQUFDLFlBQVksRUFBRSxLQUFLLENBQUMsQ0FBQztZQUUzRCxJQUFJLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFFLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDN0MsQ0FBQyxDQUFDLENBQUM7SUFFSixDQUFDO0lBRUQsWUFBWSxDQUFDLFFBQWlDLEVBQUUsTUFBMEI7UUFDekUsS0FBSyxNQUFNLEtBQUssSUFBSSxNQUFNLEVBQUU7WUFDM0IsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUM7U0FDaEM7SUFDRixDQUFDO0lBRUQsU0FBUyxDQUFDLFFBQWlDLEVBQUUsTUFBMEI7UUFFdEUsSUFBSSxNQUFNLEdBQTRCLFFBQVEsQ0FBQztRQUUvQyxLQUFLLE1BQU0sS0FBSyxJQUFJLE1BQU0sRUFBRTtZQUUzQixNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUM7U0FDcEM7UUFFRCxPQUFPLE1BQU0sQ0FBQztJQUNmLENBQUM7SUFFRCxNQUFNLENBQUMsUUFBaUMsRUFBRSxLQUFrQjtRQUUzRCxJQUFJLE1BQU0sR0FBNEIsRUFBRSxDQUFDO1FBRXpDLElBQUksQ0FBQyxjQUFjO2FBQ2pCLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFFLENBQUM7YUFDbkIsU0FBUyxDQUFDLENBQUMsR0FBMEIsRUFBRSxFQUFFO1lBRXpDLElBQUksR0FBRyxDQUFDLGFBQWEsRUFBRSxFQUFFO2dCQUN4QixNQUFNLEdBQUcsUUFBUSxDQUFDO2FBQ2xCO2lCQUFNLElBQUksR0FBRyxDQUFDLGFBQWEsRUFBRSxFQUFFO2dCQUMvQixNQUFNLEdBQUcsRUFBRSxDQUFDO2FBQ1o7aUJBQU07Z0JBRU4sTUFBTSxHQUFHLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxVQUE0QixFQUFFLEVBQUU7b0JBRXpELEtBQUssTUFBTSxnQkFBZ0IsSUFBSSxHQUFHLENBQUMsY0FBYyxFQUFFLEVBQUU7d0JBRXBELElBQUssS0FBSyxDQUFDLFFBQVEsRUFBVSxDQUFDLE1BQU0sQ0FBQyxVQUFVLEVBQUcsZ0JBQXdCLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBRTs0QkFDdkYsT0FBTyxLQUFLLENBQUM7eUJBQ2I7cUJBQ0Q7b0JBRUQsT0FBTyxJQUFJLENBQUM7Z0JBQ2IsQ0FBQyxDQUFDLENBQUM7YUFDSDtRQUVGLENBQUMsQ0FBQyxDQUFDO1FBRUosT0FBTyxNQUFNLENBQUM7SUFDZixDQUFDO0lBRUQsU0FBUyxDQUFDLE9BQWdCO1FBRXpCLElBQUksQ0FBQyxjQUFjO2FBQ2pCLElBQUksQ0FBQyxPQUFPLENBQUM7YUFDYixTQUFTLENBQUMsQ0FBQyxHQUEwQixFQUFFLEVBQUU7WUFDekMsR0FBRyxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQ2pCLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELE1BQU0sQ0FBQyxPQUFnQixFQUFFLGFBQTRCO1FBRXBELElBQUksQ0FBQyxjQUFjO2FBQ2pCLElBQUksQ0FBQyxPQUFPLENBQUM7YUFDYixTQUFTLENBQUMsQ0FBQyxHQUEwQixFQUFFLEVBQUU7WUFDekMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUMzQixDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7SUFFRCxXQUFXLENBQUMsT0FBZ0I7UUFFM0IsSUFBSSxDQUFDLGNBQWM7YUFDakIsSUFBSSxDQUFDLE9BQU8sQ0FBQzthQUNiLFNBQVMsQ0FBQyxDQUFDLEdBQTBCLEVBQUUsRUFBRTtZQUN6QyxHQUFHLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDbkIsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0lBRUQsUUFBUSxDQUFDLE9BQWdCLEVBQUUsYUFBNEI7UUFFdEQsSUFBSSxDQUFDLGNBQWM7YUFDakIsSUFBSSxDQUFDLE9BQU8sQ0FBQzthQUNiLFNBQVMsQ0FBQyxDQUFDLEdBQTBCLEVBQUUsRUFBRTtZQUN6QyxHQUFHLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBQzdCLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELE1BQU0sQ0FBQyxNQUEwQjtRQUVoQyxNQUFNLEdBQUcsR0FBRyxJQUFJLEdBQUcsRUFBRSxDQUFDO1FBRXRCLEtBQUssTUFBTSxLQUFLLElBQUksTUFBTSxFQUFFO1lBRTNCLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDO2lCQUNuQixTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRTtnQkFDaEIsR0FBRyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFFLENBQUMsUUFBUSxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDdEMsQ0FBQyxDQUFDLENBQUM7U0FDSjtRQUVELE9BQU8sR0FBRyxDQUFDO0lBQ1osQ0FBQztJQUVELFNBQVMsQ0FBQyxLQUFrQjtRQUUzQixPQUFPLElBQUksQ0FBQyxjQUFjO2FBQ3BCLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFFLENBQUM7YUFDbkIsR0FBRyxDQUFDLENBQUMsR0FBMEIsRUFBRSxFQUFFO1lBQ25DLE9BQU8sR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ3JCLENBQUMsQ0FBQyxDQUFDO0lBQ1QsQ0FBQztDQUVEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgS2V5TWFwLCBPcHRpb25hbCB9IGZyb20gJ0BnZW5lcmljLXVpL2hlcm1lcyc7XG5cbmltcG9ydCB7IEZpZWxkSWQgfSBmcm9tICcuLi8uLi8uLi9maWVsZC9kb21haW4vZmllbGQvZmllbGQuaWQnO1xuaW1wb3J0IHsgT3JpZ2luSXRlbUVudGl0eSB9IGZyb20gJy4uLy4uLy4uL3NvdXJjZS9kb21haW4vb3JpZ2luL29yaWdpbi1pdGVtLWVudGl0eSc7XG5pbXBvcnQgeyBGaWVsZEVudGl0eSB9IGZyb20gJy4uLy4uLy4uL2ZpZWxkL2RvbWFpbi9maWVsZC9maWVsZC5lbnRpdHknO1xuaW1wb3J0IHsgVW5pcXVlVmFsdWVDb2xsZWN0aW9uIH0gZnJvbSAnLi91bmlxdWUtdmFsdWUtY29sbGVjdGlvbic7XG5pbXBvcnQgeyBVbmlxdWVWYWx1ZSB9IGZyb20gJy4vdW5pcXVlLXZhbHVlJztcbmltcG9ydCB7IFVuaXF1ZVZhbHVlSWQgfSBmcm9tICcuL3VuaXF1ZS12YWx1ZS1pZCc7XG5cblxuZXhwb3J0IGNsYXNzIFVuaXF1ZUZpbHRlck1hbmFnZXIge1xuXG5cdHByaXZhdGUgcmVhZG9ubHkgdW5pcXVlVmFsdWVNYXAgPSBuZXcgS2V5TWFwPEZpZWxkSWQsIFVuaXF1ZVZhbHVlQ29sbGVjdGlvbj4oKTtcblxuXHRjYWxjdWxhdGUoZW50aXRpZXM6IEFycmF5PE9yaWdpbkl0ZW1FbnRpdHk+LCBmaWVsZDogRmllbGRFbnRpdHkpOiB2b2lkIHtcblxuXHRcdGNvbnN0IGZpZWxkSWQgPSBmaWVsZC5nZXRJZCgpO1xuXG5cdFx0Y29uc3Qgb3B0VVZNID0gdGhpcy51bmlxdWVWYWx1ZU1hcC5maW5kKGZpZWxkSWQpO1xuXG5cdFx0b3B0VVZNLmlmRW1wdHkoKCkgPT4ge1xuXG5cdFx0XHRjb25zdCBzZXQgPSBuZXcgU2V0KCk7XG5cblx0XHRcdGZvciAoY29uc3QgZW50aXR5IG9mIGVudGl0aWVzKSB7XG5cdFx0XHRcdHNldC5hZGQoZmllbGQuZ2V0VmFsdWUoZW50aXR5KSk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIHNvcnRcblx0XHRcdGNvbnN0IHNvcnRlZFZhbHVlcyA9IEFycmF5LmZyb20oc2V0LnZhbHVlcygpKS5zb3J0KChhOiBhbnksIGI6IGFueSkgPT4ge1xuXHRcdFx0XHRyZXR1cm4gKGZpZWxkIGFzIGFueSkuZ2V0RmllbGQoKS5zb3J0KGEsIGIpO1xuXHRcdFx0fSk7XG5cblx0XHRcdGNvbnN0IHV2YyA9IG5ldyBVbmlxdWVWYWx1ZUNvbGxlY3Rpb24oc29ydGVkVmFsdWVzLCBmaWVsZCk7XG5cblx0XHRcdHRoaXMudW5pcXVlVmFsdWVNYXAuc2V0KGZpZWxkLmdldElkKCksIHV2Yyk7XG5cdFx0fSk7XG5cblx0fVxuXG5cdGNhbGN1bGF0ZUFsbChlbnRpdGllczogQXJyYXk8T3JpZ2luSXRlbUVudGl0eT4sIGZpZWxkczogQXJyYXk8RmllbGRFbnRpdHk+KTogdm9pZCB7XG5cdFx0Zm9yIChjb25zdCBmaWVsZCBvZiBmaWVsZHMpIHtcblx0XHRcdHRoaXMuY2FsY3VsYXRlKGVudGl0aWVzLCBmaWVsZCk7XG5cdFx0fVxuXHR9XG5cblx0ZmlsdGVyQWxsKGVudGl0aWVzOiBBcnJheTxPcmlnaW5JdGVtRW50aXR5PiwgZmllbGRzOiBBcnJheTxGaWVsZEVudGl0eT4pOiBBcnJheTxPcmlnaW5JdGVtRW50aXR5PiB7XG5cblx0XHRsZXQgdmFsdWVzOiBBcnJheTxPcmlnaW5JdGVtRW50aXR5PiA9IGVudGl0aWVzO1xuXG5cdFx0Zm9yIChjb25zdCBmaWVsZCBvZiBmaWVsZHMpIHtcblxuXHRcdFx0dmFsdWVzID0gdGhpcy5maWx0ZXIodmFsdWVzLCBmaWVsZCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHZhbHVlcztcblx0fVxuXG5cdGZpbHRlcihlbnRpdGllczogQXJyYXk8T3JpZ2luSXRlbUVudGl0eT4sIGZpZWxkOiBGaWVsZEVudGl0eSk6IEFycmF5PE9yaWdpbkl0ZW1FbnRpdHk+IHtcblxuXHRcdGxldCB2YWx1ZXM6IEFycmF5PE9yaWdpbkl0ZW1FbnRpdHk+ID0gW107XG5cblx0XHR0aGlzLnVuaXF1ZVZhbHVlTWFwXG5cdFx0XHQuZmluZChmaWVsZC5nZXRJZCgpKVxuXHRcdFx0LmlmUHJlc2VudCgodXZjOiBVbmlxdWVWYWx1ZUNvbGxlY3Rpb24pID0+IHtcblxuXHRcdFx0XHRpZiAodXZjLmlzQWxsU2VsZWN0ZWQoKSkge1xuXHRcdFx0XHRcdHZhbHVlcyA9IGVudGl0aWVzO1xuXHRcdFx0XHR9IGVsc2UgaWYgKHV2Yy5pc0FsbERpc2FibGVkKCkpIHtcblx0XHRcdFx0XHR2YWx1ZXMgPSBbXTtcblx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdHZhbHVlcyA9IGVudGl0aWVzLmZpbHRlcigoaXRlbUVudGl0eTogT3JpZ2luSXRlbUVudGl0eSkgPT4ge1xuXG5cdFx0XHRcdFx0XHRmb3IgKGNvbnN0IG5vdFNlbGVjdGVkVmFsdWUgb2YgdXZjLmdldE5vdFNlbGVjdGVkKCkpIHtcblxuXHRcdFx0XHRcdFx0XHRpZiAoKGZpZWxkLmdldEZpZWxkKCkgYXMgYW55KS5lcXVhbHMoaXRlbUVudGl0eSwgKG5vdFNlbGVjdGVkVmFsdWUgYXMgYW55KS5nZXRWYWx1ZSgpKSkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXG5cdFx0XHR9KTtcblxuXHRcdHJldHVybiB2YWx1ZXM7XG5cdH1cblxuXHRzZWxlY3RBbGwoZmllbGRJZDogRmllbGRJZCk6IHZvaWQge1xuXG5cdFx0dGhpcy51bmlxdWVWYWx1ZU1hcFxuXHRcdFx0LmZpbmQoZmllbGRJZClcblx0XHRcdC5pZlByZXNlbnQoKHV2YzogVW5pcXVlVmFsdWVDb2xsZWN0aW9uKSA9PiB7XG5cdFx0XHRcdHV2Yy5zZWxlY3RBbGwoKTtcblx0XHRcdH0pO1xuXHR9XG5cblx0c2VsZWN0KGZpZWxkSWQ6IEZpZWxkSWQsIHVuaXF1ZVZhbHVlSWQ6IFVuaXF1ZVZhbHVlSWQpOiB2b2lkIHtcblxuXHRcdHRoaXMudW5pcXVlVmFsdWVNYXBcblx0XHRcdC5maW5kKGZpZWxkSWQpXG5cdFx0XHQuaWZQcmVzZW50KCh1dmM6IFVuaXF1ZVZhbHVlQ29sbGVjdGlvbikgPT4ge1xuXHRcdFx0XHR1dmMuc2VsZWN0KHVuaXF1ZVZhbHVlSWQpO1xuXHRcdFx0fSk7XG5cdH1cblxuXHR1bnNlbGVjdEFsbChmaWVsZElkOiBGaWVsZElkKTogdm9pZCB7XG5cblx0XHR0aGlzLnVuaXF1ZVZhbHVlTWFwXG5cdFx0XHQuZmluZChmaWVsZElkKVxuXHRcdFx0LmlmUHJlc2VudCgodXZjOiBVbmlxdWVWYWx1ZUNvbGxlY3Rpb24pID0+IHtcblx0XHRcdFx0dXZjLnVuc2VsZWN0QWxsKCk7XG5cdFx0XHR9KTtcblx0fVxuXG5cdHVuc2VsZWN0KGZpZWxkSWQ6IEZpZWxkSWQsIHVuaXF1ZVZhbHVlSWQ6IFVuaXF1ZVZhbHVlSWQpOiB2b2lkIHtcblxuXHRcdHRoaXMudW5pcXVlVmFsdWVNYXBcblx0XHRcdC5maW5kKGZpZWxkSWQpXG5cdFx0XHQuaWZQcmVzZW50KCh1dmM6IFVuaXF1ZVZhbHVlQ29sbGVjdGlvbikgPT4ge1xuXHRcdFx0XHR1dmMudW5zZWxlY3QodW5pcXVlVmFsdWVJZCk7XG5cdFx0XHR9KTtcblx0fVxuXG5cdGdldEFsbChmaWVsZHM6IEFycmF5PEZpZWxkRW50aXR5Pik6IE1hcDxzdHJpbmcsIEFycmF5PFVuaXF1ZVZhbHVlPj4ge1xuXG5cdFx0Y29uc3QgbWFwID0gbmV3IE1hcCgpO1xuXG5cdFx0Zm9yIChjb25zdCBmaWVsZCBvZiBmaWVsZHMpIHtcblxuXHRcdFx0dGhpcy5nZXRWYWx1ZXMoZmllbGQpXG5cdFx0XHRcdC5pZlByZXNlbnQoKHYpID0+IHtcblx0XHRcdFx0XHRtYXAuc2V0KGZpZWxkLmdldElkKCkudG9TdHJpbmcoKSwgdik7XG5cdFx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHJldHVybiBtYXA7XG5cdH1cblxuXHRnZXRWYWx1ZXMoZmllbGQ6IEZpZWxkRW50aXR5KTogT3B0aW9uYWw8QXJyYXk8VW5pcXVlVmFsdWU+PiB7XG5cblx0XHRyZXR1cm4gdGhpcy51bmlxdWVWYWx1ZU1hcFxuXHRcdFx0XHQgICAuZmluZChmaWVsZC5nZXRJZCgpKVxuXHRcdFx0XHQgICAubWFwKCh1dmM6IFVuaXF1ZVZhbHVlQ29sbGVjdGlvbikgPT4ge1xuXHRcdFx0XHRcdCAgIHJldHVybiB1dmMuZ2V0QWxsKCk7XG5cdFx0XHRcdCAgIH0pO1xuXHR9XG5cbn1cbiJdfQ==