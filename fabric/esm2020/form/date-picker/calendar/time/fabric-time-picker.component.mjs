import { ChangeDetectionStrategy, Component, Input, ViewEncapsulation } from '@angular/core';
import { Direction } from '../../../../common/icons/arrow-icon/direction';
import { FabricReactive } from '../../../../common/fabric-reactive';
import { FabricTimeValues } from '../../models/fabric-time-values';
import { FabricDatePickerComposition } from '../../models/fabric-date-picker-composition';
import { takeUntil } from 'rxjs/operators';
import * as i0 from "@angular/core";
import * as i1 from "@angular/forms";
import * as i2 from "../../fabric-date-picker.service";
import * as i3 from "@angular/common";
import * as i4 from "../../../input/input.component";
import * as i5 from "../../../../general/button/button/button.component";
import * as i6 from "../../../../common/icons/arrow-icon/fabric-arrow-icon.component";
export class FabricTimePickerComponent extends FabricReactive {
    constructor(formBuilder, datePickerService) {
        super();
        this.formBuilder = formBuilder;
        this.datePickerService = datePickerService;
        this.datePickerComposition = FabricDatePickerComposition.NONE;
        this.steps = 1;
        this.Direction = Direction;
        this.FabricDatePickerComposition = FabricDatePickerComposition;
        this.form = this.formBuilder.group({
            hours: [''],
            minutes: [''],
            seconds: ['']
        });
    }
    ngOnChanges(changes) {
        if (changes['selectedDate']) {
            if (this.selectedDate) {
            }
        }
    }
    ngOnInit() {
        if (this.isActive(this.datePickerComposition, FabricDatePickerComposition.TIME_PICKER_HOURS)) {
            this.form
                .controls['hours']
                .valueChanges
                .pipe(takeUntil(this.unsubscribe$))
                .subscribe((hour) => {
                const minHour = this.isMeridian() ? 1 : 0, maxHour = this.isMeridian() ? 12 : 23;
                if (hour > maxHour || hour < minHour) {
                    this.form.controls['hours'].setValue(minHour);
                }
                this.changeSelectedDate();
            });
        }
        if (this.isActive(this.datePickerComposition, FabricDatePickerComposition.TIME_PICKER_MINUTES)) {
            this.form
                .controls['minutes']
                .valueChanges
                .pipe(takeUntil(this.unsubscribe$))
                .subscribe((value) => {
                this.controlFormItemValue(value, 'minutes', 'hours');
                this.changeSelectedDate();
            });
        }
        if (this.isActive(this.datePickerComposition, FabricDatePickerComposition.TIME_PICKER_SECONDS)) {
            this.form
                .controls['seconds']
                .valueChanges
                .pipe(takeUntil(this.unsubscribe$))
                .subscribe((value) => {
                this.controlFormItemValue(value, 'seconds', 'minutes');
                this.changeSelectedDate();
            });
        }
        this.setTimeFromSelectedDate();
    }
    changeTimeItem(formControlName, steps) {
        const value = this.form.controls[formControlName].value + steps;
        this.form.controls[formControlName].setValue(value);
    }
    changeSelectedDateTime() {
        this.datePickerService.next();
    }
    isActive(activeComposition, checkedComposition) {
        return !!(activeComposition & checkedComposition);
    }
    isMeridian() {
        return this.isActive(this.datePickerComposition, FabricDatePickerComposition.TIME_PICKER_MERIDIAN);
    }
    isOnlyTimePicker() {
        return !(this.datePickerComposition & FabricDatePickerComposition.DATE_PICKER);
    }
    changeSelectedDate() {
        if (this.selectedDate) {
            const hours = this.form.controls['hours'].value, minutes = this.form.controls['minutes'].value, seconds = this.form.controls['seconds'].value, timeValues = new FabricTimeValues(hours, minutes, seconds);
            this.datePickerService.changeTime(timeValues, this.selectedDate);
        }
    }
    controlFormItemValue(value, observedFormControlName, incFormControlName) {
        if (value > 59) {
            const timeItemValue = this.form.controls[incFormControlName].value, incTimeItemValue = timeItemValue + 1;
            this.form.controls[incFormControlName].setValue(incTimeItemValue);
            this.form.controls[observedFormControlName].setValue(0o0);
        }
        else if (value < 0) {
            this.form.controls[observedFormControlName].setValue(0);
        }
    }
    setTimeFromSelectedDate() {
        if (this.selectedDate) {
            const hours = this.selectedDate.getHours(), minutes = this.selectedDate.getMinutes(), seconds = this.selectedDate.getSeconds();
            this.form.controls['hours'].setValue(hours);
            this.form.controls['minutes'].setValue(minutes);
            this.form.controls['seconds'].setValue(seconds);
        }
    }
}
FabricTimePickerComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "14.0.3", ngImport: i0, type: FabricTimePickerComponent, deps: [{ token: i1.FormBuilder }, { token: i2.FabricDatePickerService }], target: i0.ɵɵFactoryTarget.Component });
FabricTimePickerComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "14.0.3", type: FabricTimePickerComponent, selector: "gui-time-picker", inputs: { selectedDate: "selectedDate", datePickerComposition: "datePickerComposition" }, host: { properties: { "class.only-time-picker": "isOnlyTimePicker()" } }, usesInheritance: true, usesOnChanges: true, ngImport: i0, template: "<form [formGroup]=\"form\">\n\n\t<div *ngIf=\"isActive(datePickerComposition, FabricDatePickerComposition.TIME_PICKER_HOURS)\"\n\t\t class=\"gui-time-picker-item\">\n\t\t<gui-arrow-icon (click)=\"changeTimeItem('hours', steps)\"\n\t\t\t\t\t\t[direction]=\"Direction.TOP\"\n\t\t\t\t\t\tclass=\"gui-date-picker-arrow\"></gui-arrow-icon>\n\n\t\t<input formControlName=\"hours\"\n\t\t\t   gui-input\n\t\t\t   maxlength=\"2\">\n\n\t\t<gui-arrow-icon (click)=\"changeTimeItem('hours', -steps)\"\n\t\t\t\t\t\t[direction]=\"Direction.BOTTOM\"\n\t\t\t\t\t\tclass=\"gui-date-picker-arrow\"></gui-arrow-icon>\n\t</div>\n\n\t<div *ngIf=\"isActive(datePickerComposition, FabricDatePickerComposition.TIME_PICKER_MINUTES)\"\n\t\t class=\"gui-time-picker-item\">\n\t\t<gui-arrow-icon (click)=\"changeTimeItem('minutes', steps)\"\n\t\t\t\t\t\t[direction]=\"Direction.TOP\"\n\t\t\t\t\t\tclass=\"gui-date-picker-arrow\"></gui-arrow-icon>\n\n\t\t<input formControlName=\"minutes\"\n\t\t\t   gui-input\n\t\t\t   maxlength=\"2\"\n\t\t\t   type=\"number\">\n\n\t\t<gui-arrow-icon (click)=\"changeTimeItem('minutes', -steps)\"\n\t\t\t\t\t\t[direction]=\"Direction.BOTTOM\"\n\t\t\t\t\t\tclass=\"gui-date-picker-arrow\"></gui-arrow-icon>\n\t</div>\n\n\t<div *ngIf=\"isActive(datePickerComposition, FabricDatePickerComposition.TIME_PICKER_SECONDS)\"\n\t\t class=\"gui-time-picker-item\">\n\t\t<gui-arrow-icon (click)=\"changeTimeItem('seconds', steps)\"\n\t\t\t\t\t\t[direction]=\"Direction.TOP\"\n\t\t\t\t\t\tclass=\"gui-date-picker-arrow\"></gui-arrow-icon>\n\n\t\t<input formControlName=\"seconds\"\n\t\t\t   gui-input\n\t\t\t   maxlength=\"2\"\n\t\t\t   type=\"number\">\n\n\t\t<gui-arrow-icon (click)=\"changeTimeItem('seconds', -steps)\"\n\t\t\t\t\t\t[direction]=\"Direction.BOTTOM\"\n\t\t\t\t\t\tclass=\"gui-date-picker-arrow\"></gui-arrow-icon>\n\t</div>\n\n</form>\n\n<div (click)=\"changeSelectedDateTime()\"\n\t class=\"gui-time-picker-button-wrapper\">\n\t<button [outline]=\"true\" gui-button>\n\t\tOk\n\t</button>\n</div>\n", dependencies: [{ kind: "directive", type: i3.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i1.ɵNgNoValidate, selector: "form:not([ngNoForm]):not([ngNativeValidate])" }, { kind: "directive", type: i1.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { kind: "directive", type: i1.NumberValueAccessor, selector: "input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]" }, { kind: "directive", type: i1.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i1.NgControlStatusGroup, selector: "[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]" }, { kind: "directive", type: i1.MaxLengthValidator, selector: "[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]", inputs: ["maxlength"] }, { kind: "directive", type: i1.FormGroupDirective, selector: "[formGroup]", inputs: ["formGroup"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { kind: "directive", type: i1.FormControlName, selector: "[formControlName]", inputs: ["formControlName", "disabled", "ngModel"], outputs: ["ngModelChange"] }, { kind: "component", type: i4.FabricInputComponent, selector: "input[gui-input]" }, { kind: "component", type: i5.FabricButtonComponent, selector: "button[gui-button], a[gui-button]", inputs: ["link", "text"] }, { kind: "component", type: i6.FabricArrowIconComponent, selector: "gui-arrow-icon", inputs: ["direction"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "14.0.3", ngImport: i0, type: FabricTimePickerComponent, decorators: [{
            type: Component,
            args: [{ selector: 'gui-time-picker', host: {
                        '[class.only-time-picker]': 'isOnlyTimePicker()'
                    }, encapsulation: ViewEncapsulation.None, changeDetection: ChangeDetectionStrategy.OnPush, template: "<form [formGroup]=\"form\">\n\n\t<div *ngIf=\"isActive(datePickerComposition, FabricDatePickerComposition.TIME_PICKER_HOURS)\"\n\t\t class=\"gui-time-picker-item\">\n\t\t<gui-arrow-icon (click)=\"changeTimeItem('hours', steps)\"\n\t\t\t\t\t\t[direction]=\"Direction.TOP\"\n\t\t\t\t\t\tclass=\"gui-date-picker-arrow\"></gui-arrow-icon>\n\n\t\t<input formControlName=\"hours\"\n\t\t\t   gui-input\n\t\t\t   maxlength=\"2\">\n\n\t\t<gui-arrow-icon (click)=\"changeTimeItem('hours', -steps)\"\n\t\t\t\t\t\t[direction]=\"Direction.BOTTOM\"\n\t\t\t\t\t\tclass=\"gui-date-picker-arrow\"></gui-arrow-icon>\n\t</div>\n\n\t<div *ngIf=\"isActive(datePickerComposition, FabricDatePickerComposition.TIME_PICKER_MINUTES)\"\n\t\t class=\"gui-time-picker-item\">\n\t\t<gui-arrow-icon (click)=\"changeTimeItem('minutes', steps)\"\n\t\t\t\t\t\t[direction]=\"Direction.TOP\"\n\t\t\t\t\t\tclass=\"gui-date-picker-arrow\"></gui-arrow-icon>\n\n\t\t<input formControlName=\"minutes\"\n\t\t\t   gui-input\n\t\t\t   maxlength=\"2\"\n\t\t\t   type=\"number\">\n\n\t\t<gui-arrow-icon (click)=\"changeTimeItem('minutes', -steps)\"\n\t\t\t\t\t\t[direction]=\"Direction.BOTTOM\"\n\t\t\t\t\t\tclass=\"gui-date-picker-arrow\"></gui-arrow-icon>\n\t</div>\n\n\t<div *ngIf=\"isActive(datePickerComposition, FabricDatePickerComposition.TIME_PICKER_SECONDS)\"\n\t\t class=\"gui-time-picker-item\">\n\t\t<gui-arrow-icon (click)=\"changeTimeItem('seconds', steps)\"\n\t\t\t\t\t\t[direction]=\"Direction.TOP\"\n\t\t\t\t\t\tclass=\"gui-date-picker-arrow\"></gui-arrow-icon>\n\n\t\t<input formControlName=\"seconds\"\n\t\t\t   gui-input\n\t\t\t   maxlength=\"2\"\n\t\t\t   type=\"number\">\n\n\t\t<gui-arrow-icon (click)=\"changeTimeItem('seconds', -steps)\"\n\t\t\t\t\t\t[direction]=\"Direction.BOTTOM\"\n\t\t\t\t\t\tclass=\"gui-date-picker-arrow\"></gui-arrow-icon>\n\t</div>\n\n</form>\n\n<div (click)=\"changeSelectedDateTime()\"\n\t class=\"gui-time-picker-button-wrapper\">\n\t<button [outline]=\"true\" gui-button>\n\t\tOk\n\t</button>\n</div>\n" }]
        }], ctorParameters: function () { return [{ type: i1.FormBuilder }, { type: i2.FabricDatePickerService }]; }, propDecorators: { selectedDate: [{
                type: Input
            }], datePickerComposition: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmFicmljLXRpbWUtcGlja2VyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL2J1aWxkLWNsaS9wcm9qZWN0cy9ndWktZmFicmljL3NyYy9mb3JtL2RhdGUtcGlja2VyL2NhbGVuZGFyL3RpbWUvZmFicmljLXRpbWUtcGlja2VyLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uL2J1aWxkLWNsaS9wcm9qZWN0cy9ndWktZmFicmljL3NyYy9mb3JtL2RhdGUtcGlja2VyL2NhbGVuZGFyL3RpbWUvZmFicmljLXRpbWUtcGlja2VyLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSx1QkFBdUIsRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUErQyxpQkFBaUIsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUUxSSxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sK0NBQStDLENBQUM7QUFDMUUsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLG9DQUFvQyxDQUFDO0FBRXBFLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLGlDQUFpQyxDQUFDO0FBQ25FLE9BQU8sRUFBRSwyQkFBMkIsRUFBRSxNQUFNLDZDQUE2QyxDQUFDO0FBQzFGLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQzs7Ozs7Ozs7QUFZM0MsTUFBTSxPQUFPLHlCQUEwQixTQUFRLGNBQWM7SUFnQjVELFlBQTZCLFdBQXdCLEVBQ2pDLGlCQUEwQztRQUM3RCxLQUFLLEVBQUUsQ0FBQztRQUZvQixnQkFBVyxHQUFYLFdBQVcsQ0FBYTtRQUNqQyxzQkFBaUIsR0FBakIsaUJBQWlCLENBQXlCO1FBWDlELDBCQUFxQixHQUFnQywyQkFBMkIsQ0FBQyxJQUFJLENBQUM7UUFFdEYsVUFBSyxHQUFXLENBQUMsQ0FBQztRQUlsQixjQUFTLEdBQUcsU0FBUyxDQUFDO1FBRXRCLGdDQUEyQixHQUFHLDJC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O3dCQUNMLDBCQUEwQixFQUFFLG9CQUFvQjtxQkFDaEQsaUJBQ2MsaUJBQWlCLENBQUMsSUFBSSxtQkFDcEIsdUJBQXVCLENBQUMsTUFBTTt3SUFLL0MsWUFBWTtzQkFEWCxLQUFLO2dCQUlOLHFCQUFxQjtzQkFEcEIsS0FBSyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBDb21wb25lbnQsIElucHV0LCBPbkNoYW5nZXMsIE9uRGVzdHJveSwgT25Jbml0LCBTaW1wbGVDaGFuZ2VzLCBWaWV3RW5jYXBzdWxhdGlvbiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRm9ybUJ1aWxkZXIsIEZvcm1Hcm91cCB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7IERpcmVjdGlvbiB9IGZyb20gJy4uLy4uLy4uLy4uL2NvbW1vbi9pY29ucy9hcnJvdy1pY29uL2RpcmVjdGlvbic7XG5pbXBvcnQgeyBGYWJyaWNSZWFjdGl2ZSB9IGZyb20gJy4uLy4uLy4uLy4uL2NvbW1vbi9mYWJyaWMtcmVhY3RpdmUnO1xuaW1wb3J0IHsgRmFicmljRGF0ZVBpY2tlclNlcnZpY2UgfSBmcm9tICcuLi8uLi9mYWJyaWMtZGF0ZS1waWNrZXIuc2VydmljZSc7XG5pbXBvcnQgeyBGYWJyaWNUaW1lVmFsdWVzIH0gZnJvbSAnLi4vLi4vbW9kZWxzL2ZhYnJpYy10aW1lLXZhbHVlcyc7XG5pbXBvcnQgeyBGYWJyaWNEYXRlUGlja2VyQ29tcG9zaXRpb24gfSBmcm9tICcuLi8uLi9tb2RlbHMvZmFicmljLWRhdGUtcGlja2VyLWNvbXBvc2l0aW9uJztcbmltcG9ydCB7IHRha2VVbnRpbCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcblxuXG5AQ29tcG9uZW50KHtcblx0c2VsZWN0b3I6ICdndWktdGltZS1waWNrZXInLFxuXHR0ZW1wbGF0ZVVybDogJy4vZmFicmljLXRpbWUtcGlja2VyLmNvbXBvbmVudC5odG1sJyxcblx0aG9zdDoge1xuXHRcdCdbY2xhc3Mub25seS10aW1lLXBpY2tlcl0nOiAnaXNPbmx5VGltZVBpY2tlcigpJ1xuXHR9LFxuXHRlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lLFxuXHRjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaFxufSlcbmV4cG9ydCBjbGFzcyBGYWJyaWNUaW1lUGlja2VyQ29tcG9uZW50IGV4dGVuZHMgRmFicmljUmVhY3RpdmUgaW1wbGVtZW50cyBPbkNoYW5nZXMsIE9uSW5pdCwgT25EZXN0cm95IHtcblxuXHRASW5wdXQoKVxuXHRzZWxlY3RlZERhdGU/OiBEYXRlO1xuXG5cdEBJbnB1dCgpXG5cdGRhdGVQaWNrZXJDb21wb3NpdGlvbjogRmFicmljRGF0ZVBpY2tlckNvbXBvc2l0aW9uID0gRmFicmljRGF0ZVBpY2tlckNvbXBvc2l0aW9uLk5PTkU7XG5cblx0c3RlcHM6IG51bWJlciA9IDE7XG5cblx0Zm9ybTogRm9ybUdyb3VwO1xuXG5cdERpcmVjdGlvbiA9IERpcmVjdGlvbjtcblxuXHRGYWJyaWNEYXRlUGlja2VyQ29tcG9zaXRpb24gPSBGYWJyaWNEYXRlUGlja2VyQ29tcG9zaXRpb247XG5cblx0Y29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBmb3JtQnVpbGRlcjogRm9ybUJ1aWxkZXIsXG5cdFx0XHRcdHByaXZhdGUgcmVhZG9ubHkgZGF0ZVBpY2tlclNlcnZpY2U6IEZhYnJpY0RhdGVQaWNrZXJTZXJ2aWNlKSB7XG5cdFx0c3VwZXIoKTtcblx0XHR0aGlzLmZvcm0gPSB0aGlzLmZvcm1CdWlsZGVyLmdyb3VwKHtcblx0XHRcdGhvdXJzOiBbJyddLFxuXHRcdFx0bWludXRlczogWycnXSxcblx0XHRcdHNlY29uZHM6IFsnJ11cblx0XHR9KTtcblx0fVxuXG5cdG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpOiB2b2lkIHtcblx0XHRpZiAoY2hhbmdlc1snc2VsZWN0ZWREYXRlJ10pIHtcblx0XHRcdGlmICh0aGlzLnNlbGVjdGVkRGF0ZSkge1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdG5nT25Jbml0KCk6IHZvaWQge1xuXHRcdGlmICh0aGlzLmlzQWN0aXZlKHRoaXMuZGF0ZVBpY2tlckNvbXBvc2l0aW9uLCBGYWJyaWNEYXRlUGlja2VyQ29tcG9zaXRpb24uVElNRV9QSUNLRVJfSE9VUlMpKSB7XG5cdFx0XHR0aGlzLmZvcm1cblx0XHRcdFx0LmNvbnRyb2xzWydob3VycyddXG5cdFx0XHRcdC52YWx1ZUNoYW5nZXNcblx0XHRcdFx0LnBpcGUodGFrZVVudGlsKHRoaXMudW5zdWJzY3JpYmUkKSlcblx0XHRcdFx0LnN1YnNjcmliZSgoaG91cjogbnVtYmVyKSA9PiB7XG5cdFx0XHRcdFx0Y29uc3QgbWluSG91ciA9IHRoaXMuaXNNZXJpZGlhbigpID8gMSA6IDAsXG5cdFx0XHRcdFx0XHRtYXhIb3VyID0gdGhpcy5pc01lcmlkaWFuKCkgPyAxMiA6IDIzO1xuXG5cdFx0XHRcdFx0aWYgKGhvdXIgPiBtYXhIb3VyIHx8IGhvdXIgPCBtaW5Ib3VyKSB7XG5cdFx0XHRcdFx0XHR0aGlzLmZvcm0uY29udHJvbHNbJ2hvdXJzJ10uc2V0VmFsdWUobWluSG91cik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHRoaXMuY2hhbmdlU2VsZWN0ZWREYXRlKCk7XG5cdFx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLmlzQWN0aXZlKHRoaXMuZGF0ZVBpY2tlckNvbXBvc2l0aW9uLCBGYWJyaWNEYXRlUGlja2VyQ29tcG9zaXRpb24uVElNRV9QSUNLRVJfTUlOVVRFUykpIHtcblx0XHRcdHRoaXMuZm9ybVxuXHRcdFx0XHQuY29udHJvbHNbJ21pbnV0ZXMnXVxuXHRcdFx0XHQudmFsdWVDaGFuZ2VzXG5cdFx0XHRcdC5waXBlKHRha2VVbnRpbCh0aGlzLnVuc3Vic2NyaWJlJCkpXG5cdFx0XHRcdC5zdWJzY3JpYmUoKHZhbHVlOiBudW1iZXIpID0+IHtcblx0XHRcdFx0XHR0aGlzLmNvbnRyb2xGb3JtSXRlbVZhbHVlKHZhbHVlLCAnbWludXRlcycsICdob3VycycpO1xuXHRcdFx0XHRcdHRoaXMuY2hhbmdlU2VsZWN0ZWREYXRlKCk7XG5cdFx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLmlzQWN0aXZlKHRoaXMuZGF0ZVBpY2tlckNvbXBvc2l0aW9uLCBGYWJyaWNEYXRlUGlja2VyQ29tcG9zaXRpb24uVElNRV9QSUNLRVJfU0VDT05EUykpIHtcblx0XHRcdHRoaXMuZm9ybVxuXHRcdFx0XHQuY29udHJvbHNbJ3NlY29uZHMnXVxuXHRcdFx0XHQudmFsdWVDaGFuZ2VzXG5cdFx0XHRcdC5waXBlKHRha2VVbnRpbCh0aGlzLnVuc3Vic2NyaWJlJCkpXG5cdFx0XHRcdC5zdWJzY3JpYmUoKHZhbHVlOiBudW1iZXIpID0+IHtcblx0XHRcdFx0XHR0aGlzLmNvbnRyb2xGb3JtSXRlbVZhbHVlKHZhbHVlLCAnc2Vjb25kcycsICdtaW51dGVzJyk7XG5cdFx0XHRcdFx0dGhpcy5jaGFuZ2VTZWxlY3RlZERhdGUoKTtcblx0XHRcdFx0fSk7XG5cdFx0fVxuXHRcdHRoaXMuc2V0VGltZUZyb21TZWxlY3RlZERhdGUoKTtcblx0fVxuXG5cdGNoYW5nZVRpbWVJdGVtKGZvcm1Db250cm9sTmFtZTogc3RyaW5nLCBzdGVwczogbnVtYmVyKTogdm9pZCB7XG5cdFx0Y29uc3QgdmFsdWUgPSB0aGlzLmZvcm0uY29udHJvbHNbZm9ybUNvbnRyb2xOYW1lXS52YWx1ZSArIHN0ZXBzO1xuXHRcdHRoaXMuZm9ybS5jb250cm9sc1tmb3JtQ29udHJvbE5hbWVdLnNldFZhbHVlKHZhbHVlKTtcblx0fVxuXG5cdGNoYW5nZVNlbGVjdGVkRGF0ZVRpbWUoKTogdm9pZCB7XG5cdFx0dGhpcy5kYXRlUGlja2VyU2VydmljZS5uZXh0KCk7XG5cdH1cblxuXHRpc0FjdGl2ZShhY3RpdmVDb21wb3NpdGlvbjogRmFicmljRGF0ZVBpY2tlckNvbXBvc2l0aW9uLCBjaGVja2VkQ29tcG9zaXRpb246IEZhYnJpY0RhdGVQaWNrZXJDb21wb3NpdGlvbik6IGJvb2xlYW4ge1xuXHRcdHJldHVybiAhIShhY3RpdmVDb21wb3NpdGlvbiAmIGNoZWNrZWRDb21wb3NpdGlvbik7XG5cdH1cblxuXHRpc01lcmlkaWFuKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB0aGlzLmlzQWN0aXZlKHRoaXMuZGF0ZVBpY2tlckNvbXBvc2l0aW9uLCBGYWJyaWNEYXRlUGlja2VyQ29tcG9zaXRpb24uVElNRV9QSUNLRVJfTUVSSURJQU4pO1xuXHR9XG5cblx0aXNPbmx5VGltZVBpY2tlcigpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gISh0aGlzLmRhdGVQaWNrZXJDb21wb3NpdGlvbiAmIEZhYnJpY0RhdGVQaWNrZXJDb21wb3NpdGlvbi5EQVRFX1BJQ0tFUik7XG5cdH1cblxuXHRwcml2YXRlIGNoYW5nZVNlbGVjdGVkRGF0ZSgpOiB2b2lkIHtcblx0XHRpZiAodGhpcy5zZWxlY3RlZERhdGUpIHtcblx0XHRcdGNvbnN0IGhvdXJzID0gdGhpcy5mb3JtLmNvbnRyb2xzWydob3VycyddLnZhbHVlLFxuXHRcdFx0XHRtaW51dGVzID0gdGhpcy5mb3JtLmNvbnRyb2xzWydtaW51dGVzJ10udmFsdWUsXG5cdFx0XHRcdHNlY29uZHMgPSB0aGlzLmZvcm0uY29udHJvbHNbJ3NlY29uZHMnXS52YWx1ZSxcblx0XHRcdFx0dGltZVZhbHVlcyA9IG5ldyBGYWJyaWNUaW1lVmFsdWVzKGhvdXJzLCBtaW51dGVzLCBzZWNvbmRzKTtcblxuXHRcdFx0dGhpcy5kYXRlUGlja2VyU2VydmljZS5jaGFuZ2VUaW1lKHRpbWVWYWx1ZXMsIHRoaXMuc2VsZWN0ZWREYXRlKTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGNvbnRyb2xGb3JtSXRlbVZhbHVlKHZhbHVlOiBudW1iZXIsIG9ic2VydmVkRm9ybUNvbnRyb2xOYW1lOiBzdHJpbmcsIGluY0Zvcm1Db250cm9sTmFtZTogc3RyaW5nKTogdm9pZCB7XG5cdFx0aWYgKHZhbHVlID4gNTkpIHtcblx0XHRcdGNvbnN0IHRpbWVJdGVtVmFsdWUgPSB0aGlzLmZvcm0uY29udHJvbHNbaW5jRm9ybUNvbnRyb2xOYW1lXS52YWx1ZSxcblx0XHRcdFx0aW5jVGltZUl0ZW1WYWx1ZSA9IHRpbWVJdGVtVmFsdWUgKyAxO1xuXG5cdFx0XHR0aGlzLmZvcm0uY29udHJvbHNbaW5jRm9ybUNvbnRyb2xOYW1lXS5zZXRWYWx1ZShpbmNUaW1lSXRlbVZhbHVlKTtcblx0XHRcdHRoaXMuZm9ybS5jb250cm9sc1tvYnNlcnZlZEZvcm1Db250cm9sTmFtZV0uc2V0VmFsdWUoMG8wKTtcblx0XHR9IGVsc2UgaWYgKHZhbHVlIDwgMCkge1xuXHRcdFx0dGhpcy5mb3JtLmNvbnRyb2xzW29ic2VydmVkRm9ybUNvbnRyb2xOYW1lXS5zZXRWYWx1ZSgwKTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIHNldFRpbWVGcm9tU2VsZWN0ZWREYXRlKCk6IHZvaWQge1xuXHRcdGlmICh0aGlzLnNlbGVjdGVkRGF0ZSkge1xuXHRcdFx0Y29uc3QgaG91cnMgPSB0aGlzLnNlbGVjdGVkRGF0ZS5nZXRIb3VycygpLFxuXHRcdFx0XHRtaW51dGVzID0gdGhpcy5zZWxlY3RlZERhdGUuZ2V0TWludXRlcygpLFxuXHRcdFx0XHRzZWNvbmRzID0gdGhpcy5zZWxlY3RlZERhdGUuZ2V0U2Vjb25kcygpO1xuXG5cdFx0XHR0aGlzLmZvcm0uY29udHJvbHNbJ2hvdXJzJ10uc2V0VmFsdWUoaG91cnMpO1xuXHRcdFx0dGhpcy5mb3JtLmNvbnRyb2xzWydtaW51dGVzJ10uc2V0VmFsdWUobWludXRlcyk7XG5cdFx0XHR0aGlzLmZvcm0uY29udHJvbHNbJ3NlY29uZHMnXS5zZXRWYWx1ZShzZWNvbmRzKTtcblx0XHR9XG5cdH1cbn1cbiIsIjxmb3JtIFtmb3JtR3JvdXBdPVwiZm9ybVwiPlxuXG5cdDxkaXYgKm5nSWY9XCJpc0FjdGl2ZShkYXRlUGlja2VyQ29tcG9zaXRpb24sIEZhYnJpY0RhdGVQaWNrZXJDb21wb3NpdGlvbi5USU1FX1BJQ0tFUl9IT1VSUylcIlxuXHRcdCBjbGFzcz1cImd1aS10aW1lLXBpY2tlci1pdGVtXCI+XG5cdFx0PGd1aS1hcnJvdy1pY29uIChjbGljayk9XCJjaGFuZ2VUaW1lSXRlbSgnaG91cnMnLCBzdGVwcylcIlxuXHRcdFx0XHRcdFx0W2RpcmVjdGlvbl09XCJEaXJlY3Rpb24uVE9QXCJcblx0XHRcdFx0XHRcdGNsYXNzPVwiZ3VpLWRhdGUtcGlja2VyLWFycm93XCI+PC9ndWktYXJyb3ctaWNvbj5cblxuXHRcdDxpbnB1dCBmb3JtQ29udHJvbE5hbWU9XCJob3Vyc1wiXG5cdFx0XHQgICBndWktaW5wdXRcblx0XHRcdCAgIG1heGxlbmd0aD1cIjJcIj5cblxuXHRcdDxndWktYXJyb3ctaWNvbiAoY2xpY2spPVwiY2hhbmdlVGltZUl0ZW0oJ2hvdXJzJywgLXN0ZXBzKVwiXG5cdFx0XHRcdFx0XHRbZGlyZWN0aW9uXT1cIkRpcmVjdGlvbi5CT1RUT01cIlxuXHRcdFx0XHRcdFx0Y2xhc3M9XCJndWktZGF0ZS1waWNrZXItYXJyb3dcIj48L2d1aS1hcnJvdy1pY29uPlxuXHQ8L2Rpdj5cblxuXHQ8ZGl2ICpuZ0lmPVwiaXNBY3RpdmUoZGF0ZVBpY2tlckNvbXBvc2l0aW9uLCBGYWJyaWNEYXRlUGlja2VyQ29tcG9zaXRpb24uVElNRV9QSUNLRVJfTUlOVVRFUylcIlxuXHRcdCBjbGFzcz1cImd1aS10aW1lLXBpY2tlci1pdGVtXCI+XG5cdFx0PGd1aS1hcnJvdy1pY29uIChjbGljayk9XCJjaGFuZ2VUaW1lSXRlbSgnbWludXRlcycsIHN0ZXBzKVwiXG5cdFx0XHRcdFx0XHRbZGlyZWN0aW9uXT1cIkRpcmVjdGlvbi5UT1BcIlxuXHRcdFx0XHRcdFx0Y2xhc3M9XCJndWktZGF0ZS1waWNrZXItYXJyb3dcIj48L2d1aS1hcnJvdy1pY29uPlxuXG5cdFx0PGlucHV0IGZvcm1Db250cm9sTmFtZT1cIm1pbnV0ZXNcIlxuXHRcdFx0ICAgZ3VpLWlucHV0XG5cdFx0XHQgICBtYXhsZW5ndGg9XCIyXCJcblx0XHRcdCAgIHR5cGU9XCJudW1iZXJcIj5cblxuXHRcdDxndWktYXJyb3ctaWNvbiAoY2xpY2spPVwiY2hhbmdlVGltZUl0ZW0oJ21pbnV0ZXMnLCAtc3RlcHMpXCJcblx0XHRcdFx0XHRcdFtkaXJlY3Rpb25dPVwiRGlyZWN0aW9uLkJPVFRPTVwiXG5cdFx0XHRcdFx0XHRjbGFzcz1cImd1aS1kYXRlLXBpY2tlci1hcnJvd1wiPjwvZ3VpLWFycm93LWljb24+XG5cdDwvZGl2PlxuXG5cdDxkaXYgKm5nSWY9XCJpc0FjdGl2ZShkYXRlUGlja2VyQ29tcG9zaXRpb24sIEZhYnJpY0RhdGVQaWNrZXJDb21wb3NpdGlvbi5USU1FX1BJQ0tFUl9TRUNPTkRTKVwiXG5cdFx0IGNsYXNzPVwiZ3VpLXRpbWUtcGlja2VyLWl0ZW1cIj5cblx0XHQ8Z3VpLWFycm93LWljb24gKGNsaWNrKT1cImNoYW5nZVRpbWVJdGVtKCdzZWNvbmRzJywgc3RlcHMpXCJcblx0XHRcdFx0XHRcdFtkaXJlY3Rpb25dPVwiRGlyZWN0aW9uLlRPUFwiXG5cdFx0XHRcdFx0XHRjbGFzcz1cImd1aS1kYXRlLXBpY2tlci1hcnJvd1wiPjwvZ3VpLWFycm93LWljb24+XG5cblx0XHQ8aW5wdXQgZm9ybUNvbnRyb2xOYW1lPVwic2Vjb25kc1wiXG5cdFx0XHQgICBndWktaW5wdXRcblx0XHRcdCAgIG1heGxlbmd0aD1cIjJcIlxuXHRcdFx0ICAgdHlwZT1cIm51bWJlclwiPlxuXG5cdFx0PGd1aS1hcnJvdy1pY29uIChjbGljayk9XCJjaGFuZ2VUaW1lSXRlbSgnc2Vjb25kcycsIC1zdGVwcylcIlxuXHRcdFx0XHRcdFx0W2RpcmVjdGlvbl09XCJEaXJlY3Rpb24uQk9UVE9NXCJcblx0XHRcdFx0XHRcdGNsYXNzPVwiZ3VpLWRhdGUtcGlja2VyLWFycm93XCI+PC9ndWktYXJyb3ctaWNvbj5cblx0PC9kaXY+XG5cbjwvZm9ybT5cblxuPGRpdiAoY2xpY2spPVwiY2hhbmdlU2VsZWN0ZWREYXRlVGltZSgpXCJcblx0IGNsYXNzPVwiZ3VpLXRpbWUtcGlja2VyLWJ1dHRvbi13cmFwcGVyXCI+XG5cdDxidXR0b24gW291dGxpbmVdPVwidHJ1ZVwiIGd1aS1idXR0b24+XG5cdFx0T2tcblx0PC9idXR0b24+XG48L2Rpdj5cbiJdfQ==