import { ChangeDetectionStrategy, Component, forwardRef, Inject, ViewEncapsulation } from '@angular/core';
import { FabricNotificationService } from './fabric-notification.service';
import { themeToken } from '../../themes/theme.token';
import { FabricNotificationPosition } from './fabric-notification-position';
import { FabricThemedComponent } from '../../common/modal/fabric-themed-component';
import * as i0 from "@angular/core";
import * as i1 from "../../themes/fabric-modal-theme.service";
import * as i2 from "@angular/common";
import * as i3 from "./fabric-notifications-container.component";
import * as i4 from "../../themes/theme";
import * as i5 from "./fabric-notification.service";
export class FabricNotificationsOverlayComponent extends FabricThemedComponent {
    constructor(changeDetectorRef, componentFactoryResolver, elRef, renderer, themeService, theme, notificationsService) {
        super(elRef, renderer, themeService);
        this.changeDetectorRef = changeDetectorRef;
        this.componentFactoryResolver = componentFactoryResolver;
        this.notificationsService = notificationsService;
        this.notificationsTopRight = [];
        this.notificationsTopLeft = [];
        this.notificationsBottomRight = [];
        this.notificationsBottomLeft = [];
        this.FabricNotificationPosition = FabricNotificationPosition;
    }
    removeNotification(selectedNotification) {
        switch (selectedNotification.position) {
            case FabricNotificationPosition.TOP_RIGHT:
                this.notificationsTopRight = this.notificationsTopRight
                    .filter((notification) => notification.index !== selectedNotification.index);
                break;
            case FabricNotificationPosition.TOP_LEFT:
                this.notificationsTopLeft = this.notificationsTopLeft
                    .filter((notification) => notification.index !== selectedNotification.index);
                break;
            case FabricNotificationPosition.BOTTOM_RIGHT:
                this.notificationsBottomRight = this.notificationsBottomRight
                    .filter((notification) => notification.index !== selectedNotification.index);
                break;
            case FabricNotificationPosition.BOTTOM_LEFT:
                this.notificationsBottomLeft = this.notificationsBottomLeft
                    .filter((notification) => notification.index !== selectedNotification.index);
                break;
            default:
                break;
        }
        this.detectChanges();
        this.checkNotificationsLength();
    }
    detectChanges() {
        this.changeDetectorRef.detectChanges();
    }
    checkNotificationsLength() {
        if (this.notificationsTopRight.length === 0
            && this.notificationsTopLeft.length === 0
            && this.notificationsBottomRight.length === 0
            && this.notificationsBottomLeft.length === 0) {
            this.notificationsService.close();
        }
    }
    isContainerNotEmpty(container) {
        return container && container.length > 0;
    }
}
FabricNotificationsOverlayComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "14.0.3", ngImport: i0, type: FabricNotificationsOverlayComponent, deps: [{ token: i0.ChangeDetectorRef }, { token: i0.ComponentFactoryResolver }, { token: i0.ElementRef }, { token: i0.Renderer2 }, { token: i1.FabricModalThemeService }, { token: themeToken }, { token: forwardRef(() => FabricNotificationService) }], target: i0.ɵɵFactoryTarget.Component });
FabricNotificationsOverlayComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "14.0.3", type: FabricNotificationsOverlayComponent, selector: "ng-component", host: { properties: { "class.gui-notifications-overlay": "true" } }, usesInheritance: true, ngImport: i0, template: "<gui-notifications-container *ngIf=\"isContainerNotEmpty(notificationsTopRight)\"\n\t\t\t\t\t\t\t [notifications]=\"notificationsTopRight\"\n\t\t\t\t\t\t\t [position]=\"FabricNotificationPosition.TOP_RIGHT\"\n\t\t\t\t\t\t\t (onNotificationClose)=\"removeNotification($event)\"></gui-notifications-container>\n\n<gui-notifications-container *ngIf=\"isContainerNotEmpty(notificationsTopLeft)\"\n\t\t\t\t\t\t\t [notifications]=\"notificationsTopLeft\"\n\t\t\t\t\t\t\t [position]=\"FabricNotificationPosition.TOP_LEFT\"\n\t\t\t\t\t\t\t (onNotificationClose)=\"removeNotification($event)\"></gui-notifications-container>\n\n<gui-notifications-container *ngIf=\"isContainerNotEmpty(notificationsBottomRight)\"\n\t\t\t\t\t\t\t [notifications]=\"notificationsBottomRight\"\n\t\t\t\t\t\t\t [position]=\"FabricNotificationPosition.BOTTOM_RIGHT\"\n\t\t\t\t\t\t\t (onNotificationClose)=\"removeNotification($event)\"></gui-notifications-container>\n\n<gui-notifications-container *ngIf=\"isContainerNotEmpty(notificationsBottomLeft)\"\n\t\t\t\t\t\t\t [notifications]=\"notificationsBottomLeft\"\n\t\t\t\t\t\t\t [position]=\"FabricNotificationPosition.BOTTOM_LEFT\"\n\t\t\t\t\t\t\t (onNotificationClose)=\"removeNotification($event)\"></gui-notifications-container>\n", styles: [".gui-notifications-overlay{-ms-flex-align:center;align-items:center;font-family:Arial;-ms-flex-pack:center;justify-content:center;max-width:400px;position:fixed;z-index:1000}.gui-notifications-overlay gui-notifications-container{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;position:fixed}.gui-notifications-overlay gui-notifications-container.gui-notifications-top-left{left:0;top:0}.gui-notifications-overlay gui-notifications-container.gui-notifications-top-right{right:0;top:0}.gui-notifications-overlay gui-notifications-container.gui-notifications-bottom-left{bottom:0;left:0}.gui-notifications-overlay gui-notifications-container.gui-notifications-bottom-right{bottom:0;right:0}.gui-notifications-overlay .gui-notification{background:#fff;box-shadow:0 3px 6px -4px #0000001f,0 6px 16px #00000014,0 9px 28px 8px #0000000d;display:block;margin:16px;padding:32px;position:relative}.gui-notifications-overlay .gui-notification.gui-notification-right-side{-webkit-animation:loadNotificationRightSide .1s forwards;animation:loadNotificationRightSide .1s forwards}.gui-notifications-overlay .gui-notification.gui-notification-left-side{-webkit-animation:loadNotificationLeftSide .1s forwards;animation:loadNotificationLeftSide .1s forwards}@-webkit-keyframes loadNotificationRightSide{0%{transform:translate(50%)}to{transform:translate(0)}}@keyframes loadNotificationRightSide{0%{transform:translate(50%)}to{transform:translate(0)}}@-webkit-keyframes loadNotificationLeftSide{0%{transform:translate(-50%)}to{transform:translate(0)}}@keyframes loadNotificationLeftSide{0%{transform:translate(-50%)}to{transform:translate(0)}}.gui-notifications-overlay .gui-notification.gui-notification-active.gui-notification-right-side{-webkit-animation:closeNotificationRightSide .2s forwards;animation:closeNotificationRightSide .2s forwards}@-webkit-keyframes closeNotificationRightSide{0%{transform:translate(0)}to{transform:translate(100%)}}@keyframes closeNotificationRightSide{0%{transform:translate(0)}to{transform:translate(100%)}}.gui-notifications-overlay .gui-notification.gui-notification-active.gui-notification-left-side{-webkit-animation:closeNotificationLeftSide .2s forwards;animation:closeNotificationLeftSide .2s forwards}@-webkit-keyframes closeNotificationLeftSide{0%{transform:translate(0)}to{transform:translate(-100%)}}@keyframes closeNotificationLeftSide{0%{transform:translate(0)}to{transform:translate(-100%)}}\n", ".gui-dark .gui-notification{background:#424242}\n", ".gui-material .gui-notification{background:#3949ab;color:#fff;font-family:Roboto,Helvetica Neue,sans-serif;font-weight:500}\n"], dependencies: [{ kind: "directive", type: i2.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: i3.FabricNotificationsContainerComponent, selector: "gui-notifications-container", inputs: ["notifications", "position"], outputs: ["onNotificationClose"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "14.0.3", ngImport: i0, type: FabricNotificationsOverlayComponent, decorators: [{
            type: Component,
            args: [{ host: {
                        '[class.gui-notifications-overlay]': 'true'
                    }, changeDetection: ChangeDetectionStrategy.OnPush, encapsulation: ViewEncapsulation.None, template: "<gui-notifications-container *ngIf=\"isContainerNotEmpty(notificationsTopRight)\"\n\t\t\t\t\t\t\t [notifications]=\"notificationsTopRight\"\n\t\t\t\t\t\t\t [position]=\"FabricNotificationPosition.TOP_RIGHT\"\n\t\t\t\t\t\t\t (onNotificationClose)=\"removeNotification($event)\"></gui-notifications-container>\n\n<gui-notifications-container *ngIf=\"isContainerNotEmpty(notificationsTopLeft)\"\n\t\t\t\t\t\t\t [notifications]=\"notificationsTopLeft\"\n\t\t\t\t\t\t\t [position]=\"FabricNotificationPosition.TOP_LEFT\"\n\t\t\t\t\t\t\t (onNotificationClose)=\"removeNotification($event)\"></gui-notifications-container>\n\n<gui-notifications-container *ngIf=\"isContainerNotEmpty(notificationsBottomRight)\"\n\t\t\t\t\t\t\t [notifications]=\"notificationsBottomRight\"\n\t\t\t\t\t\t\t [position]=\"FabricNotificationPosition.BOTTOM_RIGHT\"\n\t\t\t\t\t\t\t (onNotificationClose)=\"removeNotification($event)\"></gui-notifications-container>\n\n<gui-notifications-container *ngIf=\"isContainerNotEmpty(notificationsBottomLeft)\"\n\t\t\t\t\t\t\t [notifications]=\"notificationsBottomLeft\"\n\t\t\t\t\t\t\t [position]=\"FabricNotificationPosition.BOTTOM_LEFT\"\n\t\t\t\t\t\t\t (onNotificationClose)=\"removeNotification($event)\"></gui-notifications-container>\n", styles: [".gui-notifications-overlay{-ms-flex-align:center;align-items:center;font-family:Arial;-ms-flex-pack:center;justify-content:center;max-width:400px;position:fixed;z-index:1000}.gui-notifications-overlay gui-notifications-container{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;position:fixed}.gui-notifications-overlay gui-notifications-container.gui-notifications-top-left{left:0;top:0}.gui-notifications-overlay gui-notifications-container.gui-notifications-top-right{right:0;top:0}.gui-notifications-overlay gui-notifications-container.gui-notifications-bottom-left{bottom:0;left:0}.gui-notifications-overlay gui-notifications-container.gui-notifications-bottom-right{bottom:0;right:0}.gui-notifications-overlay .gui-notification{background:#fff;box-shadow:0 3px 6px -4px #0000001f,0 6px 16px #00000014,0 9px 28px 8px #0000000d;display:block;margin:16px;padding:32px;position:relative}.gui-notifications-overlay .gui-notification.gui-notification-right-side{-webkit-animation:loadNotificationRightSide .1s forwards;animation:loadNotificationRightSide .1s forwards}.gui-notifications-overlay .gui-notification.gui-notification-left-side{-webkit-animation:loadNotificationLeftSide .1s forwards;animation:loadNotificationLeftSide .1s forwards}@-webkit-keyframes loadNotificationRightSide{0%{transform:translate(50%)}to{transform:translate(0)}}@keyframes loadNotificationRightSide{0%{transform:translate(50%)}to{transform:translate(0)}}@-webkit-keyframes loadNotificationLeftSide{0%{transform:translate(-50%)}to{transform:translate(0)}}@keyframes loadNotificationLeftSide{0%{transform:translate(-50%)}to{transform:translate(0)}}.gui-notifications-overlay .gui-notification.gui-notification-active.gui-notification-right-side{-webkit-animation:closeNotificationRightSide .2s forwards;animation:closeNotificationRightSide .2s forwards}@-webkit-keyframes closeNotificationRightSide{0%{transform:translate(0)}to{transform:translate(100%)}}@keyframes closeNotificationRightSide{0%{transform:translate(0)}to{transform:translate(100%)}}.gui-notifications-overlay .gui-notification.gui-notification-active.gui-notification-left-side{-webkit-animation:closeNotificationLeftSide .2s forwards;animation:closeNotificationLeftSide .2s forwards}@-webkit-keyframes closeNotificationLeftSide{0%{transform:translate(0)}to{transform:translate(-100%)}}@keyframes closeNotificationLeftSide{0%{transform:translate(0)}to{transform:translate(-100%)}}\n", ".gui-dark .gui-notification{background:#424242}\n", ".gui-material .gui-notification{background:#3949ab;color:#fff;font-family:Roboto,Helvetica Neue,sans-serif;font-weight:500}\n"] }]
        }], ctorParameters: function () { return [{ type: i0.ChangeDetectorRef }, { type: i0.ComponentFactoryResolver }, { type: i0.ElementRef }, { type: i0.Renderer2 }, { type: i1.FabricModalThemeService }, { type: i4.Theme, decorators: [{
                    type: Inject,
                    args: [themeToken]
                }] }, { type: i5.FabricNotificationService, decorators: [{
                    type: Inject,
                    args: [forwardRef(() => FabricNotificationService)]
                }] }]; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmFicmljLW5vdGlmaWNhdGlvbnMtb3ZlcmxheS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9idWlsZC1jbGkvcHJvamVjdHMvZ3VpLWZhYnJpYy9zcmMvbW9kYWwvbm90aWZpY2F0aW9uL2ZhYnJpYy1ub3RpZmljYXRpb25zLW92ZXJsYXkuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vYnVpbGQtY2xpL3Byb2plY3RzL2d1aS1mYWJyaWMvc3JjL21vZGFsL25vdGlmaWNhdGlvbi9mYWJyaWMtbm90aWZpY2F0aW9ucy1vdmVybGF5LmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDTix1QkFBdUIsRUFFdkIsU0FBUyxFQUdULFVBQVUsRUFDVixNQUFNLEVBRU4saUJBQWlCLEVBQ2pCLE1BQU0sZUFBZSxDQUFDO0FBRXZCLE9BQU8sRUFBRSx5QkFBeUIsRUFBRSxNQUFNLCtCQUErQixDQUFDO0FBRTFFLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUV0RCxPQUFPLEVBQUUsMEJBQTBCLEVBQUUsTUFBTSxnQ0FBZ0MsQ0FBQztBQUM1RSxPQUFPLEVBQUUscUJBQXFCLEVBQUUsTUFBTSw0Q0FBNEMsQ0FBQzs7Ozs7OztBQWlCbkYsTUFBTSxPQUFPLG1DQUFvQyxTQUFRLHFCQUFxQjtJQVk3RSxZQUE2QixpQkFBb0MsRUFDN0Msd0JBQWtELEVBQ25FLEtBQWlCLEVBQ2pCLFFBQW1CLEVBQ25CLFlBQXFDLEVBQ2pCLEtBQVksRUFDc0Msb0JBQStDO1FBQ3ZILEtBQUssQ0FBQyxLQUFLLEVBQUUsUUFBUSxFQUFFLFlBQVksQ0FBQyxDQUFDO1FBUFQsc0JBQWlCLEdBQWpCLGlCQUFpQixDQUFtQjtRQUM3Qyw2QkFBd0IsR0FBeEIsd0JBQXdCLENBQTBCO1FBS0cseUJBQW9CLEdBQXBCLG9CQUFvQixDQUEyQjtRQWhCeEgsMEJBQXFCLEdBQThCLEVBQUUsQ0FBQztRQUV0RCx5QkFBb0IsR0FBOEIsRUFBRSxDQUFDO1FBRXJELDZCQUF3QixHQUE4QixFQUFFLENBQUM7UUFFekQsNEJBQXVCLEdBQThCLEVBQUUsQ0FBQztRQUV4RCwrQkFBMEIsR0FBRywwQkFBMEIsQ0FBQztJQVV4RCxDQUFDO0lBRUQsa0JBQWtCLENBQUMsb0JBQXdDO1FBRTFELFFBQVEsb0JBQW9CLENBQUMsUUFBUSxFQUFFO1lBQ3RDLEtBQUssMEJBQTBCLENBQUMsU0FBUztnQkFDeEMsSUFBSSxDQUFDLHFCQUFxQixHQUFHLElBQUksQ0FBQyxxQkFBcUI7cUJBQzdDLE1BQU0sQ0FBQyxDQUFDLFlBQWdDLEVBQUUsRUFBRSxDQUFDLFlBQVksQ0FBQyxLQUFLLEtBQUssb0JBQW9CLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQzFHLE1BQU07WUFFUCxLQUFLLDBCQUEwQixDQUFDLFFBQVE7Z0JBQ3ZDLElBQUksQ0FBQyxvQkFBb0IsR0FBRyxJQUFJLENBQUMsb0JBQW9CO3FCQUM1QyxNQUFNLENBQUMsQ0FBQyxZQUFnQyxFQUFFLEVBQUUsQ0FBQyxZQUFZLENBQUMsS0FBSyxLQUFLLG9CQUFvQixDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUN6RyxNQUFNO1lBRVAsS0FBSywwQkFBMEIsQ0FBQyxZQUFZO2dCQUMzQyxJQUFJLENBQUMsd0JBQXdCLEdBQUcsSUFBSSxDQUFDLHdCQUF3QjtxQkFDbkQsTUFBTSxDQUFDLENBQUMsWUFBZ0MsRUFBRSxFQUFFLENBQUMsWUFBWSxDQUFDLEtBQUssS0FBSyxvQkFBb0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDMUcsTUFBTTtZQUVQLEtBQUssMEJBQTBCLENBQUMsV0FBVztnQkFDMUMsSUFBSSxDQUFDLHVCQUF1QixHQUFHLElBQUksQ0FBQyx1QkFBdUI7cUJBQy9DLE1BQU0sQ0FBQyxDQUFDLFlBQWdDLEVBQUUsRUFBRSxDQUFDLFlBQVksQ0FBQyxLQUFLLEtBQUssb0JBQW9CLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQzVHLE1BQU07WUFFUDtnQkFDQyxNQUFNO1NBQ1A7UUFDRCxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDckIsSUFBSSxDQUFDLHdCQUF3QixFQUFFLENBQUM7SUFDakMsQ0FBQztJQUVELGFBQWE7UUFDWixJQUFJLENBQUMsaUJBQWlCLENBQUMsYUFBYSxFQUFFLENBQUM7SUFDeEMsQ0FBQztJQUVELHdCQUF3QjtRQUN2QixJQUFJLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxNQUFNLEtBQUssQ0FBQztlQUN2QyxJQUFJLENBQUMsb0JBQW9CLENBQUMsTUFBTSxLQUFLLENBQUM7ZUFDdEMsSUFBSSxDQUFDLHdCQUF3QixDQUFDLE1BQU0sS0FBSyxDQUFDO2VBQzFDLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1lBQzlDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxLQUFLLEVBQUUsQ0FBQztTQUNsQztJQUNGLENBQUM7SUFFRCxtQkFBbUIsQ0FBQyxTQUFvQztRQUN2RCxPQUFPLFNBQVMsSUFBSSxTQUFTLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztJQUMxQyxDQUFDOztnSUFuRVcsbUNBQW1DLHFMQWlCcEMsVUFBVSxhQUNWLFVBQVUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyx5QkFBeUIsQ0FBQztvSEFsQjFDLG1DQUFtQyxnSkNsQ2hELHd1Q0FtQkE7MkZEZWEsbUNBQW1DO2tCQWIvQyxTQUFTOzJCQU9IO3dCQUNMLG1DQUFtQyxFQUFFLE1BQU07cUJBQzNDLG1CQUNnQix1QkFBdUIsQ0FBQyxNQUFNLGlCQUNoQyxpQkFBaUIsQ0FBQyxJQUFJOzswQkFtQmpDLE1BQU07MkJBQUMsVUFBVTs7MEJBQ2pCLE1BQU07MkJBQUMsVUFBVSxDQUFDLEdBQUcsRUFBRSxDQUFDLHlCQUF5QixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcblx0Q2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXG5cdENoYW5nZURldGVjdG9yUmVmLFxuXHRDb21wb25lbnQsXG5cdENvbXBvbmVudEZhY3RvcnlSZXNvbHZlcixcblx0RWxlbWVudFJlZixcblx0Zm9yd2FyZFJlZixcblx0SW5qZWN0LFxuXHRSZW5kZXJlcjIsXG5cdFZpZXdFbmNhcHN1bGF0aW9uXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBGYWJyaWNOb3RpZmljYXRpb25TZXJ2aWNlIH0gZnJvbSAnLi9mYWJyaWMtbm90aWZpY2F0aW9uLnNlcnZpY2UnO1xuaW1wb3J0IHsgVGhlbWUgfSBmcm9tICcuLi8uLi90aGVtZXMvdGhlbWUnO1xuaW1wb3J0IHsgdGhlbWVUb2tlbiB9IGZyb20gJy4uLy4uL3RoZW1lcy90aGVtZS50b2tlbic7XG5pbXBvcnQgeyBGYWJyaWNOb3RpZmljYXRpb24gfSBmcm9tICcuL2ZhYnJpYy1ub3RpZmljYXRpb24nO1xuaW1wb3J0IHsgRmFicmljTm90aWZpY2F0aW9uUG9zaXRpb24gfSBmcm9tICcuL2ZhYnJpYy1ub3RpZmljYXRpb24tcG9zaXRpb24nO1xuaW1wb3J0IHsgRmFicmljVGhlbWVkQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vY29tbW9uL21vZGFsL2ZhYnJpYy10aGVtZWQtY29tcG9uZW50JztcbmltcG9ydCB7IEZhYnJpY01vZGFsVGhlbWVTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vdGhlbWVzL2ZhYnJpYy1tb2RhbC10aGVtZS5zZXJ2aWNlJztcblxuXG5AQ29tcG9uZW50KHtcblx0dGVtcGxhdGVVcmw6ICdmYWJyaWMtbm90aWZpY2F0aW9ucy1vdmVybGF5LmNvbXBvbmVudC5odG1sJyxcblx0c3R5bGVVcmxzOiBbXG5cdFx0Jy4vZmFicmljLW5vdGlmaWNhdGlvbi5uZ3guc2NzcycsXG5cdFx0Jy4vdGhlbWVzL2ZhYnJpYy1ub3RpZmljYXRpb24uZGFyay5uZ3guc2NzcycsXG5cdFx0Jy4vdGhlbWVzL2ZhYnJpYy1ub3RpZmljYXRpb24ubWF0ZXJpYWwubmd4LnNjc3MnXG5cdF0sXG5cdGhvc3Q6IHtcblx0XHQnW2NsYXNzLmd1aS1ub3RpZmljYXRpb25zLW92ZXJsYXldJzogJ3RydWUnXG5cdH0sXG5cdGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxuXHRlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lXG59KVxuZXhwb3J0IGNsYXNzIEZhYnJpY05vdGlmaWNhdGlvbnNPdmVybGF5Q29tcG9uZW50IGV4dGVuZHMgRmFicmljVGhlbWVkQ29tcG9uZW50IHtcblxuXHRub3RpZmljYXRpb25zVG9wUmlnaHQ6IEFycmF5PEZhYnJpY05vdGlmaWNhdGlvbj4gPSBbXTtcblxuXHRub3RpZmljYXRpb25zVG9wTGVmdDogQXJyYXk8RmFicmljTm90aWZpY2F0aW9uPiA9IFtdO1xuXG5cdG5vdGlmaWNhdGlvbnNCb3R0b21SaWdodDogQXJyYXk8RmFicmljTm90aWZpY2F0aW9uPiA9IFtdO1xuXG5cdG5vdGlmaWNhdGlvbnNCb3R0b21MZWZ0OiBBcnJheTxGYWJyaWNOb3RpZmljYXRpb24+ID0gW107XG5cblx0RmFicmljTm90aWZpY2F0aW9uUG9zaXRpb24gPSBGYWJyaWNOb3RpZmljYXRpb25Qb3NpdGlvbjtcblxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IGNoYW5nZURldGVjdG9yUmVmOiBDaGFuZ2VEZXRlY3RvclJlZixcblx0XHRcdFx0cHJpdmF0ZSByZWFkb25seSBjb21wb25lbnRGYWN0b3J5UmVzb2x2ZXI6IENvbXBvbmVudEZhY3RvcnlSZXNvbHZlcixcblx0XHRcdFx0ZWxSZWY6IEVsZW1lbnRSZWYsXG5cdFx0XHRcdHJlbmRlcmVyOiBSZW5kZXJlcjIsXG5cdFx0XHRcdHRoZW1lU2VydmljZTogRmFicmljTW9kYWxUaGVtZVNlcnZpY2UsXG5cdFx0XHRcdEBJbmplY3QodGhlbWVUb2tlbikgdGhlbWU6IFRoZW1lLFxuXHRcdFx0XHRASW5qZWN0KGZvcndhcmRSZWYoKCkgPT4gRmFicmljTm90aWZpY2F0aW9uU2VydmljZSkpIHByaXZhdGUgcmVhZG9ubHkgbm90aWZpY2F0aW9uc1NlcnZpY2U6IEZhYnJpY05vdGlmaWNhdGlvblNlcnZpY2UpIHtcblx0XHRzdXBlcihlbFJlZiwgcmVuZGVyZXIsIHRoZW1lU2VydmljZSk7XG5cdH1cblxuXHRyZW1vdmVOb3RpZmljYXRpb24oc2VsZWN0ZWROb3RpZmljYXRpb246IEZhYnJpY05vdGlmaWNhdGlvbik6IHZvaWQge1xuXG5cdFx0c3dpdGNoIChzZWxlY3RlZE5vdGlmaWNhdGlvbi5wb3NpdGlvbikge1xuXHRcdFx0Y2FzZSBGYWJyaWNOb3RpZmljYXRpb25Qb3NpdGlvbi5UT1BfUklHSFQ6XG5cdFx0XHRcdHRoaXMubm90aWZpY2F0aW9uc1RvcFJpZ2h0ID0gdGhpcy5ub3RpZmljYXRpb25zVG9wUmlnaHRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAuZmlsdGVyKChub3RpZmljYXRpb246IEZhYnJpY05vdGlmaWNhdGlvbikgPT4gbm90aWZpY2F0aW9uLmluZGV4ICE9PSBzZWxlY3RlZE5vdGlmaWNhdGlvbi5pbmRleCk7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIEZhYnJpY05vdGlmaWNhdGlvblBvc2l0aW9uLlRPUF9MRUZUOlxuXHRcdFx0XHR0aGlzLm5vdGlmaWNhdGlvbnNUb3BMZWZ0ID0gdGhpcy5ub3RpZmljYXRpb25zVG9wTGVmdFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0LmZpbHRlcigobm90aWZpY2F0aW9uOiBGYWJyaWNOb3RpZmljYXRpb24pID0+IG5vdGlmaWNhdGlvbi5pbmRleCAhPT0gc2VsZWN0ZWROb3RpZmljYXRpb24uaW5kZXgpO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSBGYWJyaWNOb3RpZmljYXRpb25Qb3NpdGlvbi5CT1RUT01fUklHSFQ6XG5cdFx0XHRcdHRoaXMubm90aWZpY2F0aW9uc0JvdHRvbVJpZ2h0ID0gdGhpcy5ub3RpZmljYXRpb25zQm90dG9tUmlnaHRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0LmZpbHRlcigobm90aWZpY2F0aW9uOiBGYWJyaWNOb3RpZmljYXRpb24pID0+IG5vdGlmaWNhdGlvbi5pbmRleCAhPT0gc2VsZWN0ZWROb3RpZmljYXRpb24uaW5kZXgpO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSBGYWJyaWNOb3RpZmljYXRpb25Qb3NpdGlvbi5CT1RUT01fTEVGVDpcblx0XHRcdFx0dGhpcy5ub3RpZmljYXRpb25zQm90dG9tTGVmdCA9IHRoaXMubm90aWZpY2F0aW9uc0JvdHRvbUxlZnRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAgIC5maWx0ZXIoKG5vdGlmaWNhdGlvbjogRmFicmljTm90aWZpY2F0aW9uKSA9PiBub3RpZmljYXRpb24uaW5kZXggIT09IHNlbGVjdGVkTm90aWZpY2F0aW9uLmluZGV4KTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdGJyZWFrO1xuXHRcdH1cblx0XHR0aGlzLmRldGVjdENoYW5nZXMoKTtcblx0XHR0aGlzLmNoZWNrTm90aWZpY2F0aW9uc0xlbmd0aCgpO1xuXHR9XG5cblx0ZGV0ZWN0Q2hhbmdlcygpOiB2b2lkIHtcblx0XHR0aGlzLmNoYW5nZURldGVjdG9yUmVmLmRldGVjdENoYW5nZXMoKTtcblx0fVxuXG5cdGNoZWNrTm90aWZpY2F0aW9uc0xlbmd0aCgpOiB2b2lkIHtcblx0XHRpZiAodGhpcy5ub3RpZmljYXRpb25zVG9wUmlnaHQubGVuZ3RoID09PSAwXG5cdFx0XHQmJiB0aGlzLm5vdGlmaWNhdGlvbnNUb3BMZWZ0Lmxlbmd0aCA9PT0gMFxuXHRcdFx0JiYgdGhpcy5ub3RpZmljYXRpb25zQm90dG9tUmlnaHQubGVuZ3RoID09PSAwXG5cdFx0XHQmJiB0aGlzLm5vdGlmaWNhdGlvbnNCb3R0b21MZWZ0Lmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0dGhpcy5ub3RpZmljYXRpb25zU2VydmljZS5jbG9zZSgpO1xuXHRcdH1cblx0fVxuXG5cdGlzQ29udGFpbmVyTm90RW1wdHkoY29udGFpbmVyOiBBcnJheTxGYWJyaWNOb3RpZmljYXRpb24+KTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIGNvbnRhaW5lciAmJiBjb250YWluZXIubGVuZ3RoID4gMDtcblx0fVxuXG59XG4iLCI8Z3VpLW5vdGlmaWNhdGlvbnMtY29udGFpbmVyICpuZ0lmPVwiaXNDb250YWluZXJOb3RFbXB0eShub3RpZmljYXRpb25zVG9wUmlnaHQpXCJcblx0XHRcdFx0XHRcdFx0IFtub3RpZmljYXRpb25zXT1cIm5vdGlmaWNhdGlvbnNUb3BSaWdodFwiXG5cdFx0XHRcdFx0XHRcdCBbcG9zaXRpb25dPVwiRmFicmljTm90aWZpY2F0aW9uUG9zaXRpb24uVE9QX1JJR0hUXCJcblx0XHRcdFx0XHRcdFx0IChvbk5vdGlmaWNhdGlvbkNsb3NlKT1cInJlbW92ZU5vdGlmaWNhdGlvbigkZXZlbnQpXCI+PC9ndWktbm90aWZpY2F0aW9ucy1jb250YWluZXI+XG5cbjxndWktbm90aWZpY2F0aW9ucy1jb250YWluZXIgKm5nSWY9XCJpc0NvbnRhaW5lck5vdEVtcHR5KG5vdGlmaWNhdGlvbnNUb3BMZWZ0KVwiXG5cdFx0XHRcdFx0XHRcdCBbbm90aWZpY2F0aW9uc109XCJub3RpZmljYXRpb25zVG9wTGVmdFwiXG5cdFx0XHRcdFx0XHRcdCBbcG9zaXRpb25dPVwiRmFicmljTm90aWZpY2F0aW9uUG9zaXRpb24uVE9QX0xFRlRcIlxuXHRcdFx0XHRcdFx0XHQgKG9uTm90aWZpY2F0aW9uQ2xvc2UpPVwicmVtb3ZlTm90aWZpY2F0aW9uKCRldmVudClcIj48L2d1aS1ub3RpZmljYXRpb25zLWNvbnRhaW5lcj5cblxuPGd1aS1ub3RpZmljYXRpb25zLWNvbnRhaW5lciAqbmdJZj1cImlzQ29udGFpbmVyTm90RW1wdHkobm90aWZpY2F0aW9uc0JvdHRvbVJpZ2h0KVwiXG5cdFx0XHRcdFx0XHRcdCBbbm90aWZpY2F0aW9uc109XCJub3RpZmljYXRpb25zQm90dG9tUmlnaHRcIlxuXHRcdFx0XHRcdFx0XHQgW3Bvc2l0aW9uXT1cIkZhYnJpY05vdGlmaWNhdGlvblBvc2l0aW9uLkJPVFRPTV9SSUdIVFwiXG5cdFx0XHRcdFx0XHRcdCAob25Ob3RpZmljYXRpb25DbG9zZSk9XCJyZW1vdmVOb3RpZmljYXRpb24oJGV2ZW50KVwiPjwvZ3VpLW5vdGlmaWNhdGlvbnMtY29udGFpbmVyPlxuXG48Z3VpLW5vdGlmaWNhdGlvbnMtY29udGFpbmVyICpuZ0lmPVwiaXNDb250YWluZXJOb3RFbXB0eShub3RpZmljYXRpb25zQm90dG9tTGVmdClcIlxuXHRcdFx0XHRcdFx0XHQgW25vdGlmaWNhdGlvbnNdPVwibm90aWZpY2F0aW9uc0JvdHRvbUxlZnRcIlxuXHRcdFx0XHRcdFx0XHQgW3Bvc2l0aW9uXT1cIkZhYnJpY05vdGlmaWNhdGlvblBvc2l0aW9uLkJPVFRPTV9MRUZUXCJcblx0XHRcdFx0XHRcdFx0IChvbk5vdGlmaWNhdGlvbkNsb3NlKT1cInJlbW92ZU5vdGlmaWNhdGlvbigkZXZlbnQpXCI+PC9ndWktbm90aWZpY2F0aW9ucy1jb250YWluZXI+XG4iXX0=