import { ChangeDetectionStrategy, Component, forwardRef, Inject, ViewEncapsulation } from '@angular/core';
import { FabricNotificationService } from './fabric-notification.service';
import { themeToken } from '../../themes/theme.token';
import { FabricNotificationPosition } from './fabric-notification-position';
import { FabricThemedComponent } from '../../common/modal/fabric-themed-component';
import * as i0 from "@angular/core";
import * as i1 from "../../themes/fabric-modal-theme.service";
import * as i2 from "@angular/common";
import * as i3 from "./fabric-notifications-container.component";
import * as i4 from "../../themes/theme";
import * as i5 from "./fabric-notification.service";
export class FabricNotificationsOverlayComponent extends FabricThemedComponent {
    constructor(changeDetectorRef, elRef, renderer, themeService, theme, notificationsService) {
        super(elRef, renderer, themeService);
        this.changeDetectorRef = changeDetectorRef;
        this.notificationsService = notificationsService;
        this.notificationsTopRight = [];
        this.notificationsTopLeft = [];
        this.notificationsBottomRight = [];
        this.notificationsBottomLeft = [];
        this.FabricNotificationPosition = FabricNotificationPosition;
    }
    removeNotification(selectedNotification) {
        switch (selectedNotification.position) {
            case FabricNotificationPosition.TOP_RIGHT:
                this.notificationsTopRight = this.notificationsTopRight
                    .filter((notification) => notification.index !== selectedNotification.index);
                break;
            case FabricNotificationPosition.TOP_LEFT:
                this.notificationsTopLeft = this.notificationsTopLeft
                    .filter((notification) => notification.index !== selectedNotification.index);
                break;
            case FabricNotificationPosition.BOTTOM_RIGHT:
                this.notificationsBottomRight = this.notificationsBottomRight
                    .filter((notification) => notification.index !== selectedNotification.index);
                break;
            case FabricNotificationPosition.BOTTOM_LEFT:
                this.notificationsBottomLeft = this.notificationsBottomLeft
                    .filter((notification) => notification.index !== selectedNotification.index);
                break;
            default:
                break;
        }
        this.detectChanges();
        this.checkNotificationsLength();
    }
    detectChanges() {
        this.changeDetectorRef.detectChanges();
    }
    checkNotificationsLength() {
        if (this.notificationsTopRight.length === 0
            && this.notificationsTopLeft.length === 0
            && this.notificationsBottomRight.length === 0
            && this.notificationsBottomLeft.length === 0) {
            this.notificationsService.close();
        }
    }
    isContainerNotEmpty(container) {
        return container && container.length > 0;
    }
}
FabricNotificationsOverlayComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.10", ngImport: i0, type: FabricNotificationsOverlayComponent, deps: [{ token: i0.ChangeDetectorRef }, { token: i0.ElementRef }, { token: i0.Renderer2 }, { token: i1.FabricModalThemeService }, { token: themeToken }, { token: forwardRef(() => FabricNotificationService) }], target: i0.ɵɵFactoryTarget.Component });
FabricNotificationsOverlayComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "15.2.10", type: FabricNotificationsOverlayComponent, selector: "ng-component", host: { properties: { "class.gui-notifications-overlay": "true" } }, usesInheritance: true, ngImport: i0, template: "<gui-notifications-container (onNotificationClose)=\"removeNotification($event)\"\n\t\t\t\t\t\t\t *ngIf=\"isContainerNotEmpty(notificationsTopRight)\"\n\t\t\t\t\t\t\t [notifications]=\"notificationsTopRight\"\n\t\t\t\t\t\t\t [position]=\"FabricNotificationPosition.TOP_RIGHT\"></gui-notifications-container>\n\n<gui-notifications-container (onNotificationClose)=\"removeNotification($event)\"\n\t\t\t\t\t\t\t *ngIf=\"isContainerNotEmpty(notificationsTopLeft)\"\n\t\t\t\t\t\t\t [notifications]=\"notificationsTopLeft\"\n\t\t\t\t\t\t\t [position]=\"FabricNotificationPosition.TOP_LEFT\"></gui-notifications-container>\n\n<gui-notifications-container (onNotificationClose)=\"removeNotification($event)\"\n\t\t\t\t\t\t\t *ngIf=\"isContainerNotEmpty(notificationsBottomRight)\"\n\t\t\t\t\t\t\t [notifications]=\"notificationsBottomRight\"\n\t\t\t\t\t\t\t [position]=\"FabricNotificationPosition.BOTTOM_RIGHT\"></gui-notifications-container>\n\n<gui-notifications-container (onNotificationClose)=\"removeNotification($event)\"\n\t\t\t\t\t\t\t *ngIf=\"isContainerNotEmpty(notificationsBottomLeft)\"\n\t\t\t\t\t\t\t [notifications]=\"notificationsBottomLeft\"\n\t\t\t\t\t\t\t [position]=\"FabricNotificationPosition.BOTTOM_LEFT\"></gui-notifications-container>\n", styles: [".gui-notifications-overlay{-ms-flex-align:center;align-items:center;font-family:Arial;-ms-flex-pack:center;justify-content:center;max-width:400px;position:fixed;z-index:1000}.gui-notifications-overlay gui-notifications-container{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;position:fixed}.gui-notifications-overlay gui-notifications-container.gui-notifications-top-left{left:0;top:0}.gui-notifications-overlay gui-notifications-container.gui-notifications-top-right{right:0;top:0}.gui-notifications-overlay gui-notifications-container.gui-notifications-bottom-left{bottom:0;left:0}.gui-notifications-overlay gui-notifications-container.gui-notifications-bottom-right{bottom:0;right:0}.gui-notifications-overlay .gui-notification{background:#fff;box-shadow:0 3px 6px -4px #0000001f,0 6px 16px #00000014,0 9px 28px 8px #0000000d;display:block;margin:16px;padding:32px;position:relative}.gui-notifications-overlay .gui-notification.gui-notification-right-side{animation:loadNotificationRightSide .1s forwards}.gui-notifications-overlay .gui-notification.gui-notification-left-side{animation:loadNotificationLeftSide .1s forwards}@keyframes loadNotificationRightSide{0%{transform:translate(50%)}to{transform:translate(0)}}@keyframes loadNotificationLeftSide{0%{transform:translate(-50%)}to{transform:translate(0)}}.gui-notifications-overlay .gui-notification.gui-notification-active.gui-notification-right-side{animation:closeNotificationRightSide .2s forwards}@keyframes closeNotificationRightSide{0%{transform:translate(0)}to{transform:translate(100%)}}.gui-notifications-overlay .gui-notification.gui-notification-active.gui-notification-left-side{animation:closeNotificationLeftSide .2s forwards}@keyframes closeNotificationLeftSide{0%{transform:translate(0)}to{transform:translate(-100%)}}\n", ".gui-dark .gui-notification{background:#424242}\n", ".gui-material .gui-notification{background:#3949ab;color:#fff;font-family:Roboto,Helvetica Neue,sans-serif;font-weight:500}\n"], dependencies: [{ kind: "directive", type: i2.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: i3.FabricNotificationsContainerComponent, selector: "gui-notifications-container", inputs: ["notifications", "position"], outputs: ["onNotificationClose"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.10", ngImport: i0, type: FabricNotificationsOverlayComponent, decorators: [{
            type: Component,
            args: [{ host: {
                        '[class.gui-notifications-overlay]': 'true'
                    }, changeDetection: ChangeDetectionStrategy.OnPush, encapsulation: ViewEncapsulation.None, template: "<gui-notifications-container (onNotificationClose)=\"removeNotification($event)\"\n\t\t\t\t\t\t\t *ngIf=\"isContainerNotEmpty(notificationsTopRight)\"\n\t\t\t\t\t\t\t [notifications]=\"notificationsTopRight\"\n\t\t\t\t\t\t\t [position]=\"FabricNotificationPosition.TOP_RIGHT\"></gui-notifications-container>\n\n<gui-notifications-container (onNotificationClose)=\"removeNotification($event)\"\n\t\t\t\t\t\t\t *ngIf=\"isContainerNotEmpty(notificationsTopLeft)\"\n\t\t\t\t\t\t\t [notifications]=\"notificationsTopLeft\"\n\t\t\t\t\t\t\t [position]=\"FabricNotificationPosition.TOP_LEFT\"></gui-notifications-container>\n\n<gui-notifications-container (onNotificationClose)=\"removeNotification($event)\"\n\t\t\t\t\t\t\t *ngIf=\"isContainerNotEmpty(notificationsBottomRight)\"\n\t\t\t\t\t\t\t [notifications]=\"notificationsBottomRight\"\n\t\t\t\t\t\t\t [position]=\"FabricNotificationPosition.BOTTOM_RIGHT\"></gui-notifications-container>\n\n<gui-notifications-container (onNotificationClose)=\"removeNotification($event)\"\n\t\t\t\t\t\t\t *ngIf=\"isContainerNotEmpty(notificationsBottomLeft)\"\n\t\t\t\t\t\t\t [notifications]=\"notificationsBottomLeft\"\n\t\t\t\t\t\t\t [position]=\"FabricNotificationPosition.BOTTOM_LEFT\"></gui-notifications-container>\n", styles: [".gui-notifications-overlay{-ms-flex-align:center;align-items:center;font-family:Arial;-ms-flex-pack:center;justify-content:center;max-width:400px;position:fixed;z-index:1000}.gui-notifications-overlay gui-notifications-container{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;position:fixed}.gui-notifications-overlay gui-notifications-container.gui-notifications-top-left{left:0;top:0}.gui-notifications-overlay gui-notifications-container.gui-notifications-top-right{right:0;top:0}.gui-notifications-overlay gui-notifications-container.gui-notifications-bottom-left{bottom:0;left:0}.gui-notifications-overlay gui-notifications-container.gui-notifications-bottom-right{bottom:0;right:0}.gui-notifications-overlay .gui-notification{background:#fff;box-shadow:0 3px 6px -4px #0000001f,0 6px 16px #00000014,0 9px 28px 8px #0000000d;display:block;margin:16px;padding:32px;position:relative}.gui-notifications-overlay .gui-notification.gui-notification-right-side{animation:loadNotificationRightSide .1s forwards}.gui-notifications-overlay .gui-notification.gui-notification-left-side{animation:loadNotificationLeftSide .1s forwards}@keyframes loadNotificationRightSide{0%{transform:translate(50%)}to{transform:translate(0)}}@keyframes loadNotificationLeftSide{0%{transform:translate(-50%)}to{transform:translate(0)}}.gui-notifications-overlay .gui-notification.gui-notification-active.gui-notification-right-side{animation:closeNotificationRightSide .2s forwards}@keyframes closeNotificationRightSide{0%{transform:translate(0)}to{transform:translate(100%)}}.gui-notifications-overlay .gui-notification.gui-notification-active.gui-notification-left-side{animation:closeNotificationLeftSide .2s forwards}@keyframes closeNotificationLeftSide{0%{transform:translate(0)}to{transform:translate(-100%)}}\n", ".gui-dark .gui-notification{background:#424242}\n", ".gui-material .gui-notification{background:#3949ab;color:#fff;font-family:Roboto,Helvetica Neue,sans-serif;font-weight:500}\n"] }]
        }], ctorParameters: function () { return [{ type: i0.ChangeDetectorRef }, { type: i0.ElementRef }, { type: i0.Renderer2 }, { type: i1.FabricModalThemeService }, { type: i4.Theme, decorators: [{
                    type: Inject,
                    args: [themeToken]
                }] }, { type: i5.FabricNotificationService, decorators: [{
                    type: Inject,
                    args: [forwardRef(() => FabricNotificationService)]
                }] }]; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmFicmljLW5vdGlmaWNhdGlvbnMtb3ZlcmxheS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9idWlsZC1jbGkvcHJvamVjdHMvZ3VpLWZhYnJpYy9zcmMvbW9kYWwvbm90aWZpY2F0aW9uL2ZhYnJpYy1ub3RpZmljYXRpb25zLW92ZXJsYXkuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vYnVpbGQtY2xpL3Byb2plY3RzL2d1aS1mYWJyaWMvc3JjL21vZGFsL25vdGlmaWNhdGlvbi9mYWJyaWMtbm90aWZpY2F0aW9ucy1vdmVybGF5LmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSx1QkFBdUIsRUFBcUIsU0FBUyxFQUFjLFVBQVUsRUFBRSxNQUFNLEVBQWEsaUJBQWlCLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFcEosT0FBTyxFQUFFLHlCQUF5QixFQUFFLE1BQU0sK0JBQStCLENBQUM7QUFFMUUsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBRXRELE9BQU8sRUFBRSwwQkFBMEIsRUFBRSxNQUFNLGdDQUFnQyxDQUFDO0FBQzVFLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLDRDQUE0QyxDQUFDOzs7Ozs7O0FBaUJuRixNQUFNLE9BQU8sbUNBQW9DLFNBQVEscUJBQXFCO0lBWTdFLFlBQTZCLGlCQUFvQyxFQUM5RCxLQUFpQixFQUNqQixRQUFtQixFQUNuQixZQUFxQyxFQUNqQixLQUFZLEVBQ3NDLG9CQUErQztRQUN2SCxLQUFLLENBQUMsS0FBSyxFQUFFLFFBQVEsRUFBRSxZQUFZLENBQUMsQ0FBQztRQU5ULHNCQUFpQixHQUFqQixpQkFBaUIsQ0FBbUI7UUFLUSx5QkFBb0IsR0FBcEIsb0JBQW9CLENBQTJCO1FBZnhILDBCQUFxQixHQUE4QixFQUFFLENBQUM7UUFFdEQseUJBQW9CLEdBQThCLEVBQUUsQ0FBQztRQUVyRCw2QkFBd0IsR0FBOEIsRUFBRSxDQUFDO1FBRXpELDRCQUF1QixHQUE4QixFQUFFLENBQUM7UUFFeEQsK0JBQTBCLEdBQUcsMEJBQTBCLENBQUM7SUFTeEQsQ0FBQztJQUVELGtCQUFrQixDQUFDLG9CQUF3QztRQUUxRCxRQUFRLG9CQUFvQixDQUFDLFFBQVEsRUFBRTtZQUN0QyxLQUFLLDBCQUEwQixDQUFDLFNBQVM7Z0JBQ3hDLElBQUksQ0FBQyxxQkFBcUIsR0FBRyxJQUFJLENBQUMscUJBQXFCO3FCQUM3QyxNQUFNLENBQUMsQ0FBQyxZQUFnQyxFQUFFLEVBQUUsQ0FBQyxZQUFZLENBQUMsS0FBSyxLQUFLLG9CQUFvQixDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUMxRyxNQUFNO1lBRVAsS0FBSywwQkFBMEIsQ0FBQyxRQUFRO2dCQUN2QyxJQUFJLENBQUMsb0JBQW9CLEdBQUcsSUFBSSxDQUFDLG9CQUFvQjtxQkFDNUMsTUFBTSxDQUFDLENBQUMsWUFBZ0MsRUFBRSxFQUFFLENBQUMsWUFBWSxDQUFDLEtBQUssS0FBSyxvQkFBb0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDekcsTUFBTTtZQUVQLEtBQUssMEJBQTBCLENBQUMsWUFBWTtnQkFDM0MsSUFBSSxDQUFDLHdCQUF3QixHQUFHLElBQUksQ0FBQyx3QkFBd0I7cUJBQ25ELE1BQU0sQ0FBQyxDQUFDLFlBQWdDLEVBQUUsRUFBRSxDQUFDLFlBQVksQ0FBQyxLQUFLLEtBQUssb0JBQW9CLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQzFHLE1BQU07WUFFUCxLQUFLLDBCQUEwQixDQUFDLFdBQVc7Z0JBQzFDLElBQUksQ0FBQyx1QkFBdUIsR0FBRyxJQUFJLENBQUMsdUJBQXVCO3FCQUMvQyxNQUFNLENBQUMsQ0FBQyxZQUFnQyxFQUFFLEVBQUUsQ0FBQyxZQUFZLENBQUMsS0FBSyxLQUFLLG9CQUFvQixDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUM1RyxNQUFNO1lBRVA7Z0JBQ0MsTUFBTTtTQUNQO1FBQ0QsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBQ3JCLElBQUksQ0FBQyx3QkFBd0IsRUFBRSxDQUFDO0lBQ2pDLENBQUM7SUFFRCxhQUFhO1FBQ1osSUFBSSxDQUFDLGlCQUFpQixDQUFDLGFBQWEsRUFBRSxDQUFDO0lBQ3hDLENBQUM7SUFFRCx3QkFBd0I7UUFDdkIsSUFBSSxJQUFJLENBQUMscUJBQXFCLENBQUMsTUFBTSxLQUFLLENBQUM7ZUFDdkMsSUFBSSxDQUFDLG9CQUFvQixDQUFDLE1BQU0sS0FBSyxDQUFDO2VBQ3RDLElBQUksQ0FBQyx3QkFBd0IsQ0FBQyxNQUFNLEtBQUssQ0FBQztlQUMxQyxJQUFJLENBQUMsdUJBQXVCLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtZQUM5QyxJQUFJLENBQUMsb0JBQW9CLENBQUMsS0FBSyxFQUFFLENBQUM7U0FDbEM7SUFDRixDQUFDO0lBRUQsbUJBQW1CLENBQUMsU0FBb0M7UUFDdkQsT0FBTyxTQUFTLElBQUksU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7SUFDMUMsQ0FBQzs7aUlBbEVXLG1DQUFtQyw2SUFnQnBDLFVBQVUsYUFDVixVQUFVLENBQUMsR0FBRyxFQUFFLENBQUMseUJBQXlCLENBQUM7cUhBakIxQyxtQ0FBbUMsZ0pDeEJoRCx3dUNBbUJBOzRGREthLG1DQUFtQztrQkFiL0MsU0FBUzsyQkFPSDt3QkFDTCxtQ0FBbUMsRUFBRSxNQUFNO3FCQUMzQyxtQkFDZ0IsdUJBQXVCLENBQUMsTUFBTSxpQkFDaEMsaUJBQWlCLENBQUMsSUFBSTs7MEJBa0JqQyxNQUFNOzJCQUFDLFVBQVU7OzBCQUNqQixNQUFNOzJCQUFDLFVBQVUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyx5QkFBeUIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBDaGFuZ2VEZXRlY3RvclJlZiwgQ29tcG9uZW50LCBFbGVtZW50UmVmLCBmb3J3YXJkUmVmLCBJbmplY3QsIFJlbmRlcmVyMiwgVmlld0VuY2Fwc3VsYXRpb24gfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgRmFicmljTm90aWZpY2F0aW9uU2VydmljZSB9IGZyb20gJy4vZmFicmljLW5vdGlmaWNhdGlvbi5zZXJ2aWNlJztcbmltcG9ydCB7IFRoZW1lIH0gZnJvbSAnLi4vLi4vdGhlbWVzL3RoZW1lJztcbmltcG9ydCB7IHRoZW1lVG9rZW4gfSBmcm9tICcuLi8uLi90aGVtZXMvdGhlbWUudG9rZW4nO1xuaW1wb3J0IHsgRmFicmljTm90aWZpY2F0aW9uIH0gZnJvbSAnLi9mYWJyaWMtbm90aWZpY2F0aW9uJztcbmltcG9ydCB7IEZhYnJpY05vdGlmaWNhdGlvblBvc2l0aW9uIH0gZnJvbSAnLi9mYWJyaWMtbm90aWZpY2F0aW9uLXBvc2l0aW9uJztcbmltcG9ydCB7IEZhYnJpY1RoZW1lZENvbXBvbmVudCB9IGZyb20gJy4uLy4uL2NvbW1vbi9tb2RhbC9mYWJyaWMtdGhlbWVkLWNvbXBvbmVudCc7XG5pbXBvcnQgeyBGYWJyaWNNb2RhbFRoZW1lU2VydmljZSB9IGZyb20gJy4uLy4uL3RoZW1lcy9mYWJyaWMtbW9kYWwtdGhlbWUuc2VydmljZSc7XG5cblxuQENvbXBvbmVudCh7XG5cdHRlbXBsYXRlVXJsOiAnZmFicmljLW5vdGlmaWNhdGlvbnMtb3ZlcmxheS5jb21wb25lbnQuaHRtbCcsXG5cdHN0eWxlVXJsczogW1xuXHRcdCcuL2ZhYnJpYy1ub3RpZmljYXRpb24uY29tcG9uZW50LnNjc3MnLFxuXHRcdCcuL3RoZW1lcy9mYWJyaWMtbm90aWZpY2F0aW9uLmRhcmsubmd4LnNjc3MnLFxuXHRcdCcuL3RoZW1lcy9mYWJyaWMtbm90aWZpY2F0aW9uLm1hdGVyaWFsLm5neC5zY3NzJ1xuXHRdLFxuXHRob3N0OiB7XG5cdFx0J1tjbGFzcy5ndWktbm90aWZpY2F0aW9ucy1vdmVybGF5XSc6ICd0cnVlJ1xuXHR9LFxuXHRjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcblx0ZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZVxufSlcbmV4cG9ydCBjbGFzcyBGYWJyaWNOb3RpZmljYXRpb25zT3ZlcmxheUNvbXBvbmVudCBleHRlbmRzIEZhYnJpY1RoZW1lZENvbXBvbmVudCB7XG5cblx0bm90aWZpY2F0aW9uc1RvcFJpZ2h0OiBBcnJheTxGYWJyaWNOb3RpZmljYXRpb24+ID0gW107XG5cblx0bm90aWZpY2F0aW9uc1RvcExlZnQ6IEFycmF5PEZhYnJpY05vdGlmaWNhdGlvbj4gPSBbXTtcblxuXHRub3RpZmljYXRpb25zQm90dG9tUmlnaHQ6IEFycmF5PEZhYnJpY05vdGlmaWNhdGlvbj4gPSBbXTtcblxuXHRub3RpZmljYXRpb25zQm90dG9tTGVmdDogQXJyYXk8RmFicmljTm90aWZpY2F0aW9uPiA9IFtdO1xuXG5cdEZhYnJpY05vdGlmaWNhdGlvblBvc2l0aW9uID0gRmFicmljTm90aWZpY2F0aW9uUG9zaXRpb247XG5cblx0Y29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBjaGFuZ2VEZXRlY3RvclJlZjogQ2hhbmdlRGV0ZWN0b3JSZWYsXG5cdFx0XHRcdGVsUmVmOiBFbGVtZW50UmVmLFxuXHRcdFx0XHRyZW5kZXJlcjogUmVuZGVyZXIyLFxuXHRcdFx0XHR0aGVtZVNlcnZpY2U6IEZhYnJpY01vZGFsVGhlbWVTZXJ2aWNlLFxuXHRcdFx0XHRASW5qZWN0KHRoZW1lVG9rZW4pIHRoZW1lOiBUaGVtZSxcblx0XHRcdFx0QEluamVjdChmb3J3YXJkUmVmKCgpID0+IEZhYnJpY05vdGlmaWNhdGlvblNlcnZpY2UpKSBwcml2YXRlIHJlYWRvbmx5IG5vdGlmaWNhdGlvbnNTZXJ2aWNlOiBGYWJyaWNOb3RpZmljYXRpb25TZXJ2aWNlKSB7XG5cdFx0c3VwZXIoZWxSZWYsIHJlbmRlcmVyLCB0aGVtZVNlcnZpY2UpO1xuXHR9XG5cblx0cmVtb3ZlTm90aWZpY2F0aW9uKHNlbGVjdGVkTm90aWZpY2F0aW9uOiBGYWJyaWNOb3RpZmljYXRpb24pOiB2b2lkIHtcblxuXHRcdHN3aXRjaCAoc2VsZWN0ZWROb3RpZmljYXRpb24ucG9zaXRpb24pIHtcblx0XHRcdGNhc2UgRmFicmljTm90aWZpY2F0aW9uUG9zaXRpb24uVE9QX1JJR0hUOlxuXHRcdFx0XHR0aGlzLm5vdGlmaWNhdGlvbnNUb3BSaWdodCA9IHRoaXMubm90aWZpY2F0aW9uc1RvcFJpZ2h0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgLmZpbHRlcigobm90aWZpY2F0aW9uOiBGYWJyaWNOb3RpZmljYXRpb24pID0+IG5vdGlmaWNhdGlvbi5pbmRleCAhPT0gc2VsZWN0ZWROb3RpZmljYXRpb24uaW5kZXgpO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSBGYWJyaWNOb3RpZmljYXRpb25Qb3NpdGlvbi5UT1BfTEVGVDpcblx0XHRcdFx0dGhpcy5ub3RpZmljYXRpb25zVG9wTGVmdCA9IHRoaXMubm90aWZpY2F0aW9uc1RvcExlZnRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC5maWx0ZXIoKG5vdGlmaWNhdGlvbjogRmFicmljTm90aWZpY2F0aW9uKSA9PiBub3RpZmljYXRpb24uaW5kZXggIT09IHNlbGVjdGVkTm90aWZpY2F0aW9uLmluZGV4KTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgRmFicmljTm90aWZpY2F0aW9uUG9zaXRpb24uQk9UVE9NX1JJR0hUOlxuXHRcdFx0XHR0aGlzLm5vdGlmaWNhdGlvbnNCb3R0b21SaWdodCA9IHRoaXMubm90aWZpY2F0aW9uc0JvdHRvbVJpZ2h0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC5maWx0ZXIoKG5vdGlmaWNhdGlvbjogRmFicmljTm90aWZpY2F0aW9uKSA9PiBub3RpZmljYXRpb24uaW5kZXggIT09IHNlbGVjdGVkTm90aWZpY2F0aW9uLmluZGV4KTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgRmFicmljTm90aWZpY2F0aW9uUG9zaXRpb24uQk9UVE9NX0xFRlQ6XG5cdFx0XHRcdHRoaXMubm90aWZpY2F0aW9uc0JvdHRvbUxlZnQgPSB0aGlzLm5vdGlmaWNhdGlvbnNCb3R0b21MZWZ0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgICAuZmlsdGVyKChub3RpZmljYXRpb246IEZhYnJpY05vdGlmaWNhdGlvbikgPT4gbm90aWZpY2F0aW9uLmluZGV4ICE9PSBzZWxlY3RlZE5vdGlmaWNhdGlvbi5pbmRleCk7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRicmVhaztcblx0XHR9XG5cdFx0dGhpcy5kZXRlY3RDaGFuZ2VzKCk7XG5cdFx0dGhpcy5jaGVja05vdGlmaWNhdGlvbnNMZW5ndGgoKTtcblx0fVxuXG5cdGRldGVjdENoYW5nZXMoKTogdm9pZCB7XG5cdFx0dGhpcy5jaGFuZ2VEZXRlY3RvclJlZi5kZXRlY3RDaGFuZ2VzKCk7XG5cdH1cblxuXHRjaGVja05vdGlmaWNhdGlvbnNMZW5ndGgoKTogdm9pZCB7XG5cdFx0aWYgKHRoaXMubm90aWZpY2F0aW9uc1RvcFJpZ2h0Lmxlbmd0aCA9PT0gMFxuXHRcdFx0JiYgdGhpcy5ub3RpZmljYXRpb25zVG9wTGVmdC5sZW5ndGggPT09IDBcblx0XHRcdCYmIHRoaXMubm90aWZpY2F0aW9uc0JvdHRvbVJpZ2h0Lmxlbmd0aCA9PT0gMFxuXHRcdFx0JiYgdGhpcy5ub3RpZmljYXRpb25zQm90dG9tTGVmdC5sZW5ndGggPT09IDApIHtcblx0XHRcdHRoaXMubm90aWZpY2F0aW9uc1NlcnZpY2UuY2xvc2UoKTtcblx0XHR9XG5cdH1cblxuXHRpc0NvbnRhaW5lck5vdEVtcHR5KGNvbnRhaW5lcjogQXJyYXk8RmFicmljTm90aWZpY2F0aW9uPik6IGJvb2xlYW4ge1xuXHRcdHJldHVybiBjb250YWluZXIgJiYgY29udGFpbmVyLmxlbmd0aCA+IDA7XG5cdH1cblxufVxuIiwiPGd1aS1ub3RpZmljYXRpb25zLWNvbnRhaW5lciAob25Ob3RpZmljYXRpb25DbG9zZSk9XCJyZW1vdmVOb3RpZmljYXRpb24oJGV2ZW50KVwiXG5cdFx0XHRcdFx0XHRcdCAqbmdJZj1cImlzQ29udGFpbmVyTm90RW1wdHkobm90aWZpY2F0aW9uc1RvcFJpZ2h0KVwiXG5cdFx0XHRcdFx0XHRcdCBbbm90aWZpY2F0aW9uc109XCJub3RpZmljYXRpb25zVG9wUmlnaHRcIlxuXHRcdFx0XHRcdFx0XHQgW3Bvc2l0aW9uXT1cIkZhYnJpY05vdGlmaWNhdGlvblBvc2l0aW9uLlRPUF9SSUdIVFwiPjwvZ3VpLW5vdGlmaWNhdGlvbnMtY29udGFpbmVyPlxuXG48Z3VpLW5vdGlmaWNhdGlvbnMtY29udGFpbmVyIChvbk5vdGlmaWNhdGlvbkNsb3NlKT1cInJlbW92ZU5vdGlmaWNhdGlvbigkZXZlbnQpXCJcblx0XHRcdFx0XHRcdFx0ICpuZ0lmPVwiaXNDb250YWluZXJOb3RFbXB0eShub3RpZmljYXRpb25zVG9wTGVmdClcIlxuXHRcdFx0XHRcdFx0XHQgW25vdGlmaWNhdGlvbnNdPVwibm90aWZpY2F0aW9uc1RvcExlZnRcIlxuXHRcdFx0XHRcdFx0XHQgW3Bvc2l0aW9uXT1cIkZhYnJpY05vdGlmaWNhdGlvblBvc2l0aW9uLlRPUF9MRUZUXCI+PC9ndWktbm90aWZpY2F0aW9ucy1jb250YWluZXI+XG5cbjxndWktbm90aWZpY2F0aW9ucy1jb250YWluZXIgKG9uTm90aWZpY2F0aW9uQ2xvc2UpPVwicmVtb3ZlTm90aWZpY2F0aW9uKCRldmVudClcIlxuXHRcdFx0XHRcdFx0XHQgKm5nSWY9XCJpc0NvbnRhaW5lck5vdEVtcHR5KG5vdGlmaWNhdGlvbnNCb3R0b21SaWdodClcIlxuXHRcdFx0XHRcdFx0XHQgW25vdGlmaWNhdGlvbnNdPVwibm90aWZpY2F0aW9uc0JvdHRvbVJpZ2h0XCJcblx0XHRcdFx0XHRcdFx0IFtwb3NpdGlvbl09XCJGYWJyaWNOb3RpZmljYXRpb25Qb3NpdGlvbi5CT1RUT01fUklHSFRcIj48L2d1aS1ub3RpZmljYXRpb25zLWNvbnRhaW5lcj5cblxuPGd1aS1ub3RpZmljYXRpb25zLWNvbnRhaW5lciAob25Ob3RpZmljYXRpb25DbG9zZSk9XCJyZW1vdmVOb3RpZmljYXRpb24oJGV2ZW50KVwiXG5cdFx0XHRcdFx0XHRcdCAqbmdJZj1cImlzQ29udGFpbmVyTm90RW1wdHkobm90aWZpY2F0aW9uc0JvdHRvbUxlZnQpXCJcblx0XHRcdFx0XHRcdFx0IFtub3RpZmljYXRpb25zXT1cIm5vdGlmaWNhdGlvbnNCb3R0b21MZWZ0XCJcblx0XHRcdFx0XHRcdFx0IFtwb3NpdGlvbl09XCJGYWJyaWNOb3RpZmljYXRpb25Qb3NpdGlvbi5CT1RUT01fTEVGVFwiPjwvZ3VpLW5vdGlmaWNhdGlvbnMtY29udGFpbmVyPlxuIl19