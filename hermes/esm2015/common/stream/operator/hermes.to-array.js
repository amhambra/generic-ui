import { HermesObservable } from '../observable/hermes.observable';
import { subscriberForOperator } from './operator-utils';
export function hermesToArray() {
    return (source) => {
        return new HermesObservable((observer) => {
            const values = [];
            const subscriber = subscriberForOperator(observer, (value) => {
                values.push(value);
            }, () => {
                if (values.length > 0) {
                    observer.next(values);
                }
                observer.complete();
            });
            return source.subscribe(subscriber).getFinalize();
        });
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGVybWVzLnRvLWFycmF5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vYnVpbGQtY2xpL3Byb2plY3RzL2d1aS1oZXJtZXMvc3JjL2NvbW1vbi9zdHJlYW0vb3BlcmF0b3IvaGVybWVzLnRvLWFycmF5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxnQkFBZ0IsRUFBMEIsTUFBTSxpQ0FBaUMsQ0FBQztBQUMzRixPQUFPLEVBQUUscUJBQXFCLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUd6RCxNQUFNLFVBQVUsYUFBYTtJQUU1QixPQUFPLENBQUMsTUFBMkIsRUFBRSxFQUFFO1FBQ3RDLE9BQU8sSUFBSSxnQkFBZ0IsQ0FBVyxDQUFDLFFBQVEsRUFBRSxFQUFFO1lBRWxELE1BQU0sTUFBTSxHQUFhLEVBQUUsQ0FBQztZQUU1QixNQUFNLFVBQVUsR0FDZixxQkFBcUIsQ0FDcEIsUUFBUSxFQUNSLENBQUMsS0FBUSxFQUFFLEVBQUU7Z0JBQ1osTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNwQixDQUFDLEVBQ0QsR0FBRyxFQUFFO2dCQUNKLElBQUksTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7b0JBQ3RCLFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7aUJBQ3RCO2dCQUNELFFBQVEsQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUNyQixDQUFDLENBQ0QsQ0FBQztZQUVILE9BQU8sTUFBTSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUNuRCxDQUFDLENBQUMsQ0FBQztJQUNKLENBQUMsQ0FBQztBQUNILENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIZXJtZXNPYnNlcnZhYmxlLCBIZXJtZXNPcGVyYXRvckZ1bmN0aW9uIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9oZXJtZXMub2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVyRm9yT3BlcmF0b3IgfSBmcm9tICcuL29wZXJhdG9yLXV0aWxzJztcblxuXG5leHBvcnQgZnVuY3Rpb24gaGVybWVzVG9BcnJheTxUPigpOiBIZXJtZXNPcGVyYXRvckZ1bmN0aW9uPFQsIEFycmF5PFQ+PiB7XG5cblx0cmV0dXJuIChzb3VyY2U6IEhlcm1lc09ic2VydmFibGU8VD4pID0+IHtcblx0XHRyZXR1cm4gbmV3IEhlcm1lc09ic2VydmFibGU8QXJyYXk8VD4+KChvYnNlcnZlcikgPT4ge1xuXG5cdFx0XHRjb25zdCB2YWx1ZXM6IEFycmF5PFQ+ID0gW107XG5cblx0XHRcdGNvbnN0IHN1YnNjcmliZXIgPVxuXHRcdFx0XHRzdWJzY3JpYmVyRm9yT3BlcmF0b3I8YW55Pihcblx0XHRcdFx0XHRvYnNlcnZlcixcblx0XHRcdFx0XHQodmFsdWU6IFQpID0+IHtcblx0XHRcdFx0XHRcdHZhbHVlcy5wdXNoKHZhbHVlKTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdCgpID0+IHtcblx0XHRcdFx0XHRcdGlmICh2YWx1ZXMubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdFx0XHRvYnNlcnZlci5uZXh0KHZhbHVlcyk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRvYnNlcnZlci5jb21wbGV0ZSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0KTtcblxuXHRcdFx0cmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUoc3Vic2NyaWJlcikuZ2V0RmluYWxpemUoKTtcblx0XHR9KTtcblx0fTtcbn1cbiJdfQ==