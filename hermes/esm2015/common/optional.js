export class Optional {
    constructor(value) {
        if (Optional.isValueEmpty(value)) {
            this.value = null;
        }
        else {
            this.value = value;
        }
        return this;
    }
    static empty() {
        return new Optional(null);
    }
    static of(value) {
        return new Optional(value);
    }
    static isValueEmpty(value) {
        return typeof value === 'undefined' || value === null;
    }
    isEmpty() {
        return Optional.isValueEmpty(this.value);
    }
    isPresent() {
        return !this.isEmpty();
    }
    filter(filterer) {
        if (this.isPresent() && filterer(this.value)) {
            return this;
        }
        return Optional.empty();
    }
    forEach(callback) {
        if (this.isPresent()) {
            callback(this.value);
        }
    }
    map(mapper) {
        if (this.isPresent()) {
            return new Optional(mapper(this.value));
        }
        return Optional.empty();
    }
    /**
     * @deprecated
     */
    getValueOrNullOrThrowError() {
        return this.value;
    }
    getOrThrow() {
        if (this.isEmpty()) {
            throw new Error('Called getOrThrow on an empty Optional');
        }
        return this.value;
    }
    getOrElse(other) {
        if (this.isPresent()) {
            return this.value;
        }
        return other();
    }
    ifPresent(method) {
        if (this.isPresent()) {
            method(this.value);
        }
    }
    ifEmpty(method) {
        if (this.isEmpty()) {
            method();
        }
    }
    orElse(other) {
        if (this.isPresent()) {
            return this;
        }
        return other();
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3B0aW9uYWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9idWlsZC1jbGkvcHJvamVjdHMvZ3VpLWhlcm1lcy9zcmMvY29tbW9uL29wdGlvbmFsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sT0FBTyxRQUFRO0lBZ0JwQixZQUFvQixLQUFRO1FBRTNCLElBQUksUUFBUSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUNqQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztTQUNsQjthQUFNO1lBQ04sSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7U0FDbkI7UUFFRCxPQUFPLElBQUksQ0FBQztJQUNiLENBQUM7SUF2QkQsTUFBTSxDQUFDLEtBQUs7UUFDWCxPQUFPLElBQUksUUFBUSxDQUFNLElBQUksQ0FBQyxDQUFDO0lBQ2hDLENBQUM7SUFFRCxNQUFNLENBQUMsRUFBRSxDQUFJLEtBQVE7UUFDcEIsT0FBTyxJQUFJLFFBQVEsQ0FBSSxLQUFLLENBQUMsQ0FBQztJQUMvQixDQUFDO0lBRU8sTUFBTSxDQUFDLFlBQVksQ0FBQyxLQUFVO1FBQ3JDLE9BQU8sT0FBTyxLQUFLLEtBQUssV0FBVyxJQUFJLEtBQUssS0FBSyxJQUFJLENBQUM7SUFDdkQsQ0FBQztJQWVELE9BQU87UUFDTixPQUFPLFFBQVEsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzFDLENBQUM7SUFFRCxTQUFTO1FBQ1IsT0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztJQUN4QixDQUFDO0lBRUQsTUFBTSxDQUFDLFFBQStCO1FBQ3JDLElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRSxJQUFJLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUU7WUFDN0MsT0FBTyxJQUFJLENBQUM7U0FDWjtRQUNELE9BQU8sUUFBUSxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQ3pCLENBQUM7SUFFRCxPQUFPLENBQUMsUUFBMkI7UUFDbEMsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUU7WUFDckIsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUNyQjtJQUNGLENBQUM7SUFFRCxHQUFHLENBQUksTUFBdUI7UUFDN0IsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUU7WUFDckIsT0FBTyxJQUFJLFFBQVEsQ0FBSSxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7U0FDM0M7UUFDRCxPQUFPLFFBQVEsQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUN6QixDQUFDO0lBRUQ7O09BRUc7SUFDSCwwQkFBMEI7UUFDekIsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDO0lBQ25CLENBQUM7SUFFRCxVQUFVO1FBQ1QsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFLEVBQUU7WUFDbkIsTUFBTSxJQUFJLEtBQUssQ0FBQyx3Q0FBd0MsQ0FBQyxDQUFDO1NBQzFEO1FBQ0QsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDO0lBQ25CLENBQUM7SUFFRCxTQUFTLENBQWMsS0FBYztRQUNwQyxJQUFJLElBQUksQ0FBQyxTQUFTLEVBQUUsRUFBRTtZQUNyQixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUM7U0FDbEI7UUFDRCxPQUFPLEtBQUssRUFBRSxDQUFDO0lBQ2hCLENBQUM7SUFFRCxTQUFTLENBQUMsTUFBMEI7UUFDbkMsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUU7WUFDckIsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUNuQjtJQUNGLENBQUM7SUFFRCxPQUFPLENBQUMsTUFBa0I7UUFDekIsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFLEVBQUU7WUFDbkIsTUFBTSxFQUFFLENBQUM7U0FDVDtJQUNGLENBQUM7SUFFRCxNQUFNLENBQWMsS0FBd0I7UUFDM0MsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUU7WUFDckIsT0FBTyxJQUFJLENBQUM7U0FDWjtRQUNELE9BQU8sS0FBSyxFQUFFLENBQUM7SUFDaEIsQ0FBQztDQUVEIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIE9wdGlvbmFsPFQ+IHtcblxuXHRzdGF0aWMgZW1wdHkoKTogT3B0aW9uYWw8YW55PiB7XG5cdFx0cmV0dXJuIG5ldyBPcHRpb25hbDxhbnk+KG51bGwpO1xuXHR9XG5cblx0c3RhdGljIG9mPFU+KHZhbHVlOiBVKTogT3B0aW9uYWw8VT4ge1xuXHRcdHJldHVybiBuZXcgT3B0aW9uYWw8VT4odmFsdWUpO1xuXHR9XG5cblx0cHJpdmF0ZSBzdGF0aWMgaXNWYWx1ZUVtcHR5KHZhbHVlOiBhbnkpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJyB8fCB2YWx1ZSA9PT0gbnVsbDtcblx0fVxuXG5cdHByaXZhdGUgcmVhZG9ubHkgdmFsdWU6IFQ7XG5cblx0cHJpdmF0ZSBjb25zdHJ1Y3Rvcih2YWx1ZTogVCkge1xuXG5cdFx0aWYgKE9wdGlvbmFsLmlzVmFsdWVFbXB0eSh2YWx1ZSkpIHtcblx0XHRcdHRoaXMudmFsdWUgPSBudWxsO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnZhbHVlID0gdmFsdWU7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHRpc0VtcHR5KCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiBPcHRpb25hbC5pc1ZhbHVlRW1wdHkodGhpcy52YWx1ZSk7XG5cdH1cblxuXHRpc1ByZXNlbnQoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuICF0aGlzLmlzRW1wdHkoKTtcblx0fVxuXG5cdGZpbHRlcihmaWx0ZXJlcjogKHZhbHVlOiBUKSA9PiBib29sZWFuKTogT3B0aW9uYWw8VD4ge1xuXHRcdGlmICh0aGlzLmlzUHJlc2VudCgpICYmIGZpbHRlcmVyKHRoaXMudmFsdWUpKSB7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdFx0cmV0dXJuIE9wdGlvbmFsLmVtcHR5KCk7XG5cdH1cblxuXHRmb3JFYWNoKGNhbGxiYWNrOiAodmFsdWU6IFQpID0+IGFueSk6IHZvaWQge1xuXHRcdGlmICh0aGlzLmlzUHJlc2VudCgpKSB7XG5cdFx0XHRjYWxsYmFjayh0aGlzLnZhbHVlKTtcblx0XHR9XG5cdH1cblxuXHRtYXA8VT4obWFwcGVyOiAodmFsdWU6IFQpID0+IFUpOiBPcHRpb25hbDxVPiB7XG5cdFx0aWYgKHRoaXMuaXNQcmVzZW50KCkpIHtcblx0XHRcdHJldHVybiBuZXcgT3B0aW9uYWw8VT4obWFwcGVyKHRoaXMudmFsdWUpKTtcblx0XHR9XG5cdFx0cmV0dXJuIE9wdGlvbmFsLmVtcHR5KCk7XG5cdH1cblxuXHQvKipcblx0ICogQGRlcHJlY2F0ZWRcblx0ICovXG5cdGdldFZhbHVlT3JOdWxsT3JUaHJvd0Vycm9yKCk6IFQge1xuXHRcdHJldHVybiB0aGlzLnZhbHVlO1xuXHR9XG5cblx0Z2V0T3JUaHJvdygpOiBUIHtcblx0XHRpZiAodGhpcy5pc0VtcHR5KCkpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignQ2FsbGVkIGdldE9yVGhyb3cgb24gYW4gZW1wdHkgT3B0aW9uYWwnKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMudmFsdWU7XG5cdH1cblxuXHRnZXRPckVsc2U8VSBleHRlbmRzIFQ+KG90aGVyOiAoKSA9PiBVKTogVCB7XG5cdFx0aWYgKHRoaXMuaXNQcmVzZW50KCkpIHtcblx0XHRcdHJldHVybiB0aGlzLnZhbHVlO1xuXHRcdH1cblx0XHRyZXR1cm4gb3RoZXIoKTtcblx0fVxuXG5cdGlmUHJlc2VudChtZXRob2Q6ICh2YWx1ZTogVCkgPT4gdm9pZCk6IHZvaWQge1xuXHRcdGlmICh0aGlzLmlzUHJlc2VudCgpKSB7XG5cdFx0XHRtZXRob2QodGhpcy52YWx1ZSk7XG5cdFx0fVxuXHR9XG5cblx0aWZFbXB0eShtZXRob2Q6ICgpID0+IHZvaWQpOiB2b2lkIHtcblx0XHRpZiAodGhpcy5pc0VtcHR5KCkpIHtcblx0XHRcdG1ldGhvZCgpO1xuXHRcdH1cblx0fVxuXG5cdG9yRWxzZTxVIGV4dGVuZHMgVD4ob3RoZXI6ICgpID0+IE9wdGlvbmFsPFU+KTogT3B0aW9uYWw8VD4ge1xuXHRcdGlmICh0aGlzLmlzUHJlc2VudCgpKSB7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdFx0cmV0dXJuIG90aGVyKCk7XG5cdH1cblxufVxuIl19