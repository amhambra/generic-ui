import { Dependency } from '../dependency';
import { CollectionRecordFactory } from './collection-record.factory';
export class FactoryCollectionRecordFactory extends CollectionRecordFactory {
    providers = [];
    getDeps() {
        return this.providers
            .map((provider) => {
            return (provider.deps || [])
                .map((service) => new Dependency(service));
        });
    }
    create(setOfDeps) {
        return setOfDeps
            .map((deps, index) => {
            return this.providers[index].create(...deps);
        });
    }
    addProvider(provider) {
        this.providers.push(provider);
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmFjdG9yeS1jb2xsZWN0aW9uLXJlY29yZC5mYWN0b3J5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vYnVpbGQtY2xpL3Byb2plY3RzL2d1aS1oZXJtZXMvc3JjL2NvbW1vbi9kaS9saWIvcHJvdmlkZXIvY29sbGVjdGlvbi9mYWN0b3J5LWNvbGxlY3Rpb24tcmVjb3JkLmZhY3RvcnkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUUzQyxPQUFPLEVBQUUsdUJBQXVCLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQztBQUV0RSxNQUFNLE9BQU8sOEJBQStCLFNBQVEsdUJBQXVCO0lBRXpELFNBQVMsR0FBMkIsRUFBRSxDQUFDO0lBRXhELE9BQU87UUFFTixPQUFPLElBQUksQ0FBQyxTQUFTO2FBQ2YsR0FBRyxDQUFDLENBQUMsUUFBdUIsRUFBRSxFQUFFO1lBQ2hDLE9BQU8sQ0FBRSxRQUFnQixDQUFDLElBQUksSUFBSSxFQUFFLENBQUM7aUJBQ25DLEdBQUcsQ0FBQyxDQUFDLE9BQVksRUFBRSxFQUFFLENBQUMsSUFBSSxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztRQUNsRCxDQUFDLENBQUMsQ0FBQztJQUNULENBQUM7SUFFRCxNQUFNLENBQUMsU0FBNEI7UUFFbEMsT0FBTyxTQUFTO2FBQ2QsR0FBRyxDQUFDLENBQUMsSUFBZ0IsRUFBRSxLQUFLLEVBQUUsRUFBRTtZQUNoQyxPQUFRLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFTLENBQUMsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUM7UUFDdkQsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0lBRUQsV0FBVyxDQUFDLFFBQXlCO1FBQ3BDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQy9CLENBQUM7Q0FFRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENsYXNzUHJvdmlkZXIgfSBmcm9tICcuLi9jbGFzcy9jbGFzcy1wcm92aWRlcic7XG5pbXBvcnQgeyBEZXBlbmRlbmN5IH0gZnJvbSAnLi4vZGVwZW5kZW5jeSc7XG5pbXBvcnQgeyBGYWN0b3J5UHJvdmlkZXIgfSBmcm9tICcuLi9mYWN0b3J5L2ZhY3RvcnktcHJvdmlkZXInO1xuaW1wb3J0IHsgQ29sbGVjdGlvblJlY29yZEZhY3RvcnkgfSBmcm9tICcuL2NvbGxlY3Rpb24tcmVjb3JkLmZhY3RvcnknO1xuXG5leHBvcnQgY2xhc3MgRmFjdG9yeUNvbGxlY3Rpb25SZWNvcmRGYWN0b3J5IGV4dGVuZHMgQ29sbGVjdGlvblJlY29yZEZhY3Rvcnkge1xuXG5cdHByaXZhdGUgcmVhZG9ubHkgcHJvdmlkZXJzOiBBcnJheTxGYWN0b3J5UHJvdmlkZXI+ID0gW107XG5cblx0Z2V0RGVwcygpOiBBcnJheTxBcnJheTxEZXBlbmRlbmN5Pj4ge1xuXG5cdFx0cmV0dXJuIHRoaXMucHJvdmlkZXJzXG5cdFx0XHRcdCAgIC5tYXAoKHByb3ZpZGVyOiBDbGFzc1Byb3ZpZGVyKSA9PiB7XG5cdFx0XHRcdFx0ICAgcmV0dXJuICgocHJvdmlkZXIgYXMgYW55KS5kZXBzIHx8IFtdKVxuXHRcdFx0XHRcdFx0ICAgLm1hcCgoc2VydmljZTogYW55KSA9PiBuZXcgRGVwZW5kZW5jeShzZXJ2aWNlKSk7XG5cdFx0XHRcdCAgIH0pO1xuXHR9XG5cblx0Y3JlYXRlKHNldE9mRGVwczogQXJyYXk8QXJyYXk8YW55Pj4pOiBhbnkge1xuXG5cdFx0cmV0dXJuIHNldE9mRGVwc1xuXHRcdFx0Lm1hcCgoZGVwczogQXJyYXk8YW55PiwgaW5kZXgpID0+IHtcblx0XHRcdFx0cmV0dXJuICh0aGlzLnByb3ZpZGVyc1tpbmRleF0gYXMgYW55KS5jcmVhdGUoLi4uZGVwcyk7XG5cdFx0XHR9KTtcblx0fVxuXG5cdGFkZFByb3ZpZGVyKHByb3ZpZGVyOiBGYWN0b3J5UHJvdmlkZXIpIHtcblx0XHR0aGlzLnByb3ZpZGVycy5wdXNoKHByb3ZpZGVyKTtcblx0fVxuXG59XG4iXX0=