import { Dependency } from '../dependency';
import { CollectionRecordFactory } from './collection-record.factory';
export class FactoryCollectionRecordFactory extends CollectionRecordFactory {
    constructor() {
        super(...arguments);
        this.providers = [];
    }
    getDeps() {
        return this.providers
            .map((provider) => {
            return (provider.deps || [])
                .map((service) => new Dependency(service));
        });
    }
    create(setOfDeps) {
        return setOfDeps
            .map((deps, index) => {
            return this.providers[index].create(...deps);
        });
    }
    addProvider(provider) {
        this.providers.push(provider);
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmFjdG9yeS1jb2xsZWN0aW9uLXJlY29yZC5mYWN0b3J5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vYnVpbGQtY2xpL3Byb2plY3RzL2d1aS1oZXJtZXMvc3JjL2NvbW1vbi9kaS9saWIvcHJvdmlkZXIvY29sbGVjdGlvbi9mYWN0b3J5LWNvbGxlY3Rpb24tcmVjb3JkLmZhY3RvcnkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUUzQyxPQUFPLEVBQUUsdUJBQXVCLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQztBQUV0RSxNQUFNLE9BQU8sOEJBQStCLFNBQVEsdUJBQXVCO0lBQTNFOztRQUVrQixjQUFTLEdBQTJCLEVBQUUsQ0FBQztJQXVCekQsQ0FBQztJQXJCQSxPQUFPO1FBRU4sT0FBTyxJQUFJLENBQUMsU0FBUzthQUNmLEdBQUcsQ0FBQyxDQUFDLFFBQXVCLEVBQUUsRUFBRTtZQUNoQyxPQUFPLENBQUUsUUFBZ0IsQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDO2lCQUNuQyxHQUFHLENBQUMsQ0FBQyxPQUFZLEVBQUUsRUFBRSxDQUFDLElBQUksVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7UUFDbEQsQ0FBQyxDQUFDLENBQUM7SUFDVCxDQUFDO0lBRUQsTUFBTSxDQUFDLFNBQTRCO1FBRWxDLE9BQU8sU0FBUzthQUNkLEdBQUcsQ0FBQyxDQUFDLElBQWdCLEVBQUUsS0FBSyxFQUFFLEVBQUU7WUFDaEMsT0FBUSxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBUyxDQUFDLE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDO1FBQ3ZELENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELFdBQVcsQ0FBQyxRQUF5QjtRQUNwQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUMvQixDQUFDO0NBRUQiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDbGFzc1Byb3ZpZGVyIH0gZnJvbSAnLi4vY2xhc3MvY2xhc3MtcHJvdmlkZXInO1xuaW1wb3J0IHsgRGVwZW5kZW5jeSB9IGZyb20gJy4uL2RlcGVuZGVuY3knO1xuaW1wb3J0IHsgRmFjdG9yeVByb3ZpZGVyIH0gZnJvbSAnLi4vZmFjdG9yeS9mYWN0b3J5LXByb3ZpZGVyJztcbmltcG9ydCB7IENvbGxlY3Rpb25SZWNvcmRGYWN0b3J5IH0gZnJvbSAnLi9jb2xsZWN0aW9uLXJlY29yZC5mYWN0b3J5JztcblxuZXhwb3J0IGNsYXNzIEZhY3RvcnlDb2xsZWN0aW9uUmVjb3JkRmFjdG9yeSBleHRlbmRzIENvbGxlY3Rpb25SZWNvcmRGYWN0b3J5IHtcblxuXHRwcml2YXRlIHJlYWRvbmx5IHByb3ZpZGVyczogQXJyYXk8RmFjdG9yeVByb3ZpZGVyPiA9IFtdO1xuXG5cdGdldERlcHMoKTogQXJyYXk8QXJyYXk8RGVwZW5kZW5jeT4+IHtcblxuXHRcdHJldHVybiB0aGlzLnByb3ZpZGVyc1xuXHRcdFx0XHQgICAubWFwKChwcm92aWRlcjogQ2xhc3NQcm92aWRlcikgPT4ge1xuXHRcdFx0XHRcdCAgIHJldHVybiAoKHByb3ZpZGVyIGFzIGFueSkuZGVwcyB8fCBbXSlcblx0XHRcdFx0XHRcdCAgIC5tYXAoKHNlcnZpY2U6IGFueSkgPT4gbmV3IERlcGVuZGVuY3koc2VydmljZSkpO1xuXHRcdFx0XHQgICB9KTtcblx0fVxuXG5cdGNyZWF0ZShzZXRPZkRlcHM6IEFycmF5PEFycmF5PGFueT4+KTogYW55IHtcblxuXHRcdHJldHVybiBzZXRPZkRlcHNcblx0XHRcdC5tYXAoKGRlcHM6IEFycmF5PGFueT4sIGluZGV4KSA9PiB7XG5cdFx0XHRcdHJldHVybiAodGhpcy5wcm92aWRlcnNbaW5kZXhdIGFzIGFueSkuY3JlYXRlKC4uLmRlcHMpO1xuXHRcdFx0fSk7XG5cdH1cblxuXHRhZGRQcm92aWRlcihwcm92aWRlcjogRmFjdG9yeVByb3ZpZGVyKSB7XG5cdFx0dGhpcy5wcm92aWRlcnMucHVzaChwcm92aWRlcik7XG5cdH1cblxufVxuIl19