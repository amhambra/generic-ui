{"version":3,"file":"generic-ui-ngx-list.js","sources":["ng://@generic-ui/ngx-list/gui/list/feature/item/gui.list-item.component.ts","ng://@generic-ui/ngx-list/structure/paging/feature/mode/paging-display-mode.ts","ng://@generic-ui/ngx-list/gui/list/feature/paging/gui-list.paging.converter.ts","ng://@generic-ui/ngx-list/gui/list/feature/card/gui.list-card.component.ts","ng://@generic-ui/ngx-list/structure/list/core/domain/mode/list-view-mode.ts","ng://@generic-ui/ngx-list/l10n/core/domain/lang/en.ts","ng://@generic-ui/ngx-list/l10n/core/api/default-translation.ts","ng://@generic-ui/ngx-list/gui/list/core/api/gui.list.public-api.ts","ng://@generic-ui/ngx-list/gui/list/feature/mode/gui-list.mode.converter.ts","ng://@generic-ui/ngx-list/structure/list/feature/card/template/list-view.card-template.ts","ng://@generic-ui/ngx-list/structure/list/feature/source/template/list-view-template.ts","ng://@generic-ui/ngx-list/gui/list/feature/gui.list.gateway.ts","ng://@generic-ui/ngx-list/gui/list/feature/gui.list.providers.ts","ng://@generic-ui/ngx-list/gui/list/feature/gui.list.component.ts","ng://@generic-ui/ngx-list/structure/grid/core/api/read/structure.read-model-root-id.ts","ng://@generic-ui/ngx-list/structure/core/domain/structure.id.ts","ng://@generic-ui/ngx-list/structure/grid/feature/structure-id.generator.ts","ng://@generic-ui/ngx-list/common/cdk/generic-builder.ts","ng://@generic-ui/ngx-list/structure/paging/feature/paging-definition.ts","ng://@generic-ui/ngx-list/structure/grid/feature/structure-definition.ts","ng://@generic-ui/ngx-list/composition/core/api/composition.read-model-root-id.ts","ng://@generic-ui/ngx-list/composition/core/domain/composition.id.ts","ng://@generic-ui/ngx-list/composition/core/api/composition.command-invoker.ts","ng://@generic-ui/ngx-list/structure/core/domain/structure.command.ts","ng://@generic-ui/ngx-list/structure/paging/core/domain/set/set-paging.command.ts","ng://@generic-ui/ngx-list/structure/paging/core/domain/change-pagesize/change-pagesize.command.ts","ng://@generic-ui/ngx-list/structure/paging/core/domain/next-page/next-page.command.ts","ng://@generic-ui/ngx-list/structure/paging/core/domain/prev-page/prev-page.command.ts","ng://@generic-ui/ngx-list/structure/paging/core/domain/paging.dispatcher.ts","ng://@generic-ui/ngx-list/structure/core/api/structure.global-id.ts","ng://@generic-ui/ngx-list/structure/paging/core/api/paging.command-invoker.ts","ng://@generic-ui/ngx-list/common/cdk/decorators.ts","ng://@generic-ui/ngx-list/common/cdk/logger/logger.ts","ng://@generic-ui/ngx-list/structure/core/domain/structure.domain-event.ts","ng://@generic-ui/ngx-list/structure/paging/core/domain/page/page-changed.event.ts","ng://@generic-ui/ngx-list/structure/core/domain/structure.aggregate-event.ts","ng://@generic-ui/ngx-list/structure/paging/core/domain/page/page-changed.aggregate-event.ts","ng://@generic-ui/ngx-list/structure/paging/core/domain/change-pagesize/pagesize-changed.event.ts","ng://@generic-ui/ngx-list/structure/paging/core/domain/pagesize/pagesize-changed.aggregate-event.ts","ng://@generic-ui/ngx-list/structure/paging/core/domain/paging.manager.ts","ng://@generic-ui/ngx-list/structure/paging/core/domain/paging.manager-factory.ts","ng://@generic-ui/ngx-list/structure/grid/feature/local/paging/local-paging.command-dispatcher.ts","ng://@generic-ui/ngx-list/common/cdk/reactive/reactive.ts","ng://@generic-ui/ngx-list/structure/grid/core/api/read/structure.read-model-repository.ts","ng://@generic-ui/ngx-list/structure/paging/core/api/read/paging.repository.ts","ng://@generic-ui/ngx-list/structure/paging/core/api/paging.warehouse.ts","ng://@generic-ui/ngx-list/structure/grid/feature/local/paging/local-paging.warehouse.ts","ng://@generic-ui/ngx-list/structure/source/core/domain/formation/toggle/toggle-selected-row.command.ts","ng://@generic-ui/ngx-list/structure/source/core/domain/formation/formation.dispatcher.ts","ng://@generic-ui/ngx-list/structure/source/core/domain/formation/set-enabled/set-enabled-selection.command.ts","ng://@generic-ui/ngx-list/structure/source/core/domain/formation/mode/set-selection-mode.command.ts","ng://@generic-ui/ngx-list/structure/source/core/domain/formation/select-all/select-all-rows.command.ts","ng://@generic-ui/ngx-list/structure/source/core/domain/formation/unselect-all/unselect-all-rows.command.ts","ng://@generic-ui/ngx-list/structure/source/core/api/formation/formation.command-invoker.ts","ng://@generic-ui/ngx-list/structure/source/core/domain/formation/core/row-select-toggle-type.ts","ng://@generic-ui/ngx-list/structure/grid/feature/local/formation/local-formation.command-dispatcher.ts","ng://@generic-ui/ngx-list/structure/source/core/api/formation/row-selected/row-selected.repository.ts","ng://@generic-ui/ngx-list/structure/source/core/api/formation/mode/row-selection-mode.repository.ts","ng://@generic-ui/ngx-list/structure/source/core/api/formation/selected-row.ts","ng://@generic-ui/ngx-list/structure/source/core/api/origin/structure.source-origin.repository.ts","ng://@generic-ui/ngx-list/structure/source/core/api/prepared/structure.prepared-items.repository.ts","ng://@generic-ui/ngx-list/structure/source/core/api/source.warehouse.ts","ng://@generic-ui/ngx-list/structure/source/core/api/formation/formation.warehouse.ts","ng://@generic-ui/ngx-list/structure/grid/feature/local/formation/local-formation.warehouse.ts","ng://@generic-ui/ngx-list/structure/core/api/structure.command-invoker.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/config/set-config-filter.command.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/core/remove-all/remove-all-filters.command.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/core/add/add-filter.command.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/core/remove/remove-filter.command.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/unique/select-all/select-all-unique-filter.command.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/unique/unselect-all/unselect-all-unique-filter.command.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/unique/select/select-unique-filter.command.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/unique/unselect/unselect-unique-filter.command.ts","ng://@generic-ui/ngx-list/structure/filter/core/api/filter.command-invoker.ts","ng://@generic-ui/ngx-list/structure/source/core/domain/loading/source-set-loading.command.ts","ng://@generic-ui/ngx-list/structure/source/core/domain/origin/set-origin/set-origin.command.ts","ng://@generic-ui/ngx-list/structure/source/core/domain/origin/edit/structure.edit-source-item.command.ts","ng://@generic-ui/ngx-list/structure/source/core/domain/source.dispatcher.ts","ng://@generic-ui/ngx-list/structure/core/domain/create-structure/create-structure.command.ts","ng://@generic-ui/ngx-list/structure/vertical-formation/core/domain/set-enabled/set-vertical-scroll-enabled.command.ts","ng://@generic-ui/ngx-list/structure/vertical-formation/core/domain/scroll-bar/set-scroll-bar-position.command.ts","ng://@generic-ui/ngx-list/structure/vertical-formation/core/domain/scroll-position/set-scroll-position.command.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/quick/set-config-quick-filter.command.ts","ng://@generic-ui/ngx-list/structure/vertical-formation/core/domain/set-row-height/set-row-height.command.ts","ng://@generic-ui/ngx-list/structure/vertical-formation/core/domain/container/set-height/structure-set-height.command.ts","ng://@generic-ui/ngx-list/structure/vertical-formation/core/domain/set-row-height-theme/set-row-height-based-on-theme.command.ts","ng://@generic-ui/ngx-list/structure/core/domain/structure.domain-command-invoker.ts","ng://@generic-ui/ngx-list/schema/core/api/theme/schema-theme.ts","ng://@generic-ui/ngx-list/schema/core/api/row-coloring/schema-row-coloring.ts","ng://@generic-ui/ngx-list/schema/core/domain/schema.domain-event.ts","ng://@generic-ui/ngx-list/schema/core/domain/theme/schema-theme-set.event.ts","ng://@generic-ui/ngx-list/schema/core/domain/schema.aggregate-event.ts","ng://@generic-ui/ngx-list/schema/core/domain/theme/schema-theme-set.aggregate-event.ts","ng://@generic-ui/ngx-list/schema/core/domain/row-coloring/row-coloring-set.event.ts","ng://@generic-ui/ngx-list/schema/core/domain/row-coloring/row-coloring-set.aggregate-event.ts","ng://@generic-ui/ngx-list/schema/core/domain/grid/vertical/schema-vertical-grid-set.event.ts","ng://@generic-ui/ngx-list/schema/core/domain/grid/vertical/schema-vertical-grid-set.aggregate-event.ts","ng://@generic-ui/ngx-list/schema/core/domain/grid/horizontal/schema-horizontal-grid-set.event.ts","ng://@generic-ui/ngx-list/schema/core/domain/grid/horizontal/schema-horizontal-grid-set.aggregate-event.ts","ng://@generic-ui/ngx-list/schema/core/domain/create/schema-created.event.ts","ng://@generic-ui/ngx-list/schema/core/domain/create/schema-created.aggregate-event.ts","ng://@generic-ui/ngx-list/schema/core/domain/schema.aggregate.ts","ng://@generic-ui/ngx-list/schema/core/domain/create/schema.aggregate-factory.ts","ng://@generic-ui/ngx-list/schema/core/domain/schema.aggregate-repository.ts","ng://@generic-ui/ngx-list/schema/core/infrastructure/in-memory/in-memory.schema.store.ts","ng://@generic-ui/ngx-list/schema/core/infrastructure/in-memory/in-memory.schema.aggregate-store.ts","ng://@generic-ui/ngx-list/schema/core/infrastructure/in-memory/in-memory.schema.aggregate-repository.ts","ng://@generic-ui/ngx-list/schema/core/domain/create/create-schema.command.ts","ng://@generic-ui/ngx-list/schema/core/domain/create/create-schema.command-handler.ts","ng://@generic-ui/ngx-list/schema/core/domain/schema.command.ts","ng://@generic-ui/ngx-list/schema/core/domain/theme/set-schema-theme.command.ts","ng://@generic-ui/ngx-list/schema/core/domain/theme/set-schema-theme.command-handler.ts","ng://@generic-ui/ngx-list/schema/core/domain/row-coloring/set-row-coloring.command.ts","ng://@generic-ui/ngx-list/schema/core/domain/row-coloring/set-row-coloring.command-handler.ts","ng://@generic-ui/ngx-list/schema/core/domain/grid/horizontal/set-schema-horizontal-grid.command.ts","ng://@generic-ui/ngx-list/schema/core/domain/grid/horizontal/set-schema-horizontal-grid.command-handler.ts","ng://@generic-ui/ngx-list/schema/core/domain/grid/vertical/set-schema-vertical-grid.command.ts","ng://@generic-ui/ngx-list/schema/core/domain/grid/vertical/set-schema-vertical-grid.command-handler.ts","ng://@generic-ui/ngx-list/schema/core/domain-read/css-classes/schema.css-classes.repository.ts","ng://@generic-ui/ngx-list/schema/core/api/css-classes/schema-css-class.ts","ng://@generic-ui/ngx-list/schema/core/domain-read/css-classes/schema-css-classes.event-handler.ts","ng://@generic-ui/ngx-list/schema/core/domain/schema.key.ts","ng://@generic-ui/ngx-list/schema/core/domain-read/vertical-grid/schema.vertical-grid.repository.ts","ng://@generic-ui/ngx-list/schema/core/domain-read/theme/schema.theme.repository.ts","ng://@generic-ui/ngx-list/schema/core/domain-read/row-coloring/schema.row-coloring.repository.ts","ng://@generic-ui/ngx-list/schema/core/domain-read/horizontal-grid/schema.horizontal-grid.repository.ts","ng://@generic-ui/ngx-list/schema/core/domain/schema.domain-module.ts","ng://@generic-ui/ngx-list/schema/core/domain/schema.dispatcher.ts","ng://@generic-ui/ngx-list/schema/core/api/schema.command-invoker.ts","ng://@generic-ui/ngx-list/schema/core/api/schema.warehouse.ts","ng://@generic-ui/ngx-list/schema/core/api/schema.event-repository.ts","ng://@generic-ui/ngx-list/schema/core/domain/schema.id.ts","ng://@generic-ui/ngx-list/schema/core/api/schema.read-model-root-id.ts","ng://@generic-ui/ngx-list/schema/core/api/schema.global-id.ts","ng://@generic-ui/ngx-list/schema/core/api/row-coloring/row-coloring.ts","ng://@generic-ui/ngx-list/schema/core/domain/schema.domain-command-invoker.ts","ng://@generic-ui/ngx-list/schema/core/domain-read/schema.domain-warehouse.ts","ng://@generic-ui/ngx-list/schema/core/domain/schema.domain-event-repository.ts","ng://@generic-ui/ngx-list/schema/core/api/schema.api-module.ts","ng://@generic-ui/ngx-list/schema/core/api/styling/schema.row-class.archive.ts","ng://@generic-ui/ngx-list/schema/core/api/styling/schema.row-style.archive.ts","ng://@generic-ui/ngx-list/structure/grid/feature/local/structure/local-structure.command-dispatcher.ts","ng://@generic-ui/ngx-list/structure/grid/core/api/structure.warehouse.ts","ng://@generic-ui/ngx-list/structure/grid/feature/local/structure/local-structure.warehouse.ts","ng://@generic-ui/ngx-list/structure/source/core/domain/origin/edit/structure.edit-source-item.params.ts","ng://@generic-ui/ngx-list/structure/field/core/api/read/field.read-model-repository.ts","ng://@generic-ui/ngx-list/structure/field/core/api/field.warehouse.ts","ng://@generic-ui/ngx-list/structure/source/core/domain/origin/delete/delete-origin-item.command.ts","ng://@generic-ui/ngx-list/structure/source/core/api/source.command-invoker.ts","ng://@generic-ui/ngx-list/structure/grid/feature/local/source/local-source.command-dispatcher.ts","ng://@generic-ui/ngx-list/structure/grid/feature/local/source/local-source.warehouse.ts","ng://@generic-ui/ngx-list/composition/core/domain/composition.command.ts","ng://@generic-ui/ngx-list/composition/core/domain/create/create-composition.command.ts","ng://@generic-ui/ngx-list/composition/core/domain/column/set-columns/set-columns.command.ts","ng://@generic-ui/ngx-list/composition/core/domain/width/set-width/set-composition-width.command.ts","ng://@generic-ui/ngx-list/composition/core/domain/width/set-container-width/set-composition-container-width.command.ts","ng://@generic-ui/ngx-list/composition/core/domain/width/resize-width/set-composition-resize-width.command.ts","ng://@generic-ui/ngx-list/composition/core/domain/column/sort/composition-change-sort-status.command.ts","ng://@generic-ui/ngx-list/composition/core/domain/column/set-enabled/composition.set-column-enabled.command.ts","ng://@generic-ui/ngx-list/composition/core/domain/column/move/left/composition.move-left-column.command.ts","ng://@generic-ui/ngx-list/composition/core/domain/column/move/right/composition.move-right-column.command.ts","ng://@generic-ui/ngx-list/composition/core/domain/group/set-groups/set-groups.command.ts","ng://@generic-ui/ngx-list/composition/core/domain/composition.dispatcher.ts","ng://@generic-ui/ngx-list/composition/core/api/composition.global-id.ts","ng://@generic-ui/ngx-list/composition/core/domain-read/definition/column-definition-id.ts","ng://@generic-ui/ngx-list/composition/core/api/group/group.collection.ts","ng://@generic-ui/ngx-list/composition/core/domain-read/group/composition.group.repository.ts","ng://@generic-ui/ngx-list/composition/core/api/column/column.id.ts","ng://@generic-ui/ngx-list/composition/core/domain/compositon.domain-command-invoker.ts","ng://@generic-ui/ngx-list/structure/grid/feature/local/composition/local-composition.command-dispatcher.ts","ng://@generic-ui/ngx-list/composition/core/api/composition.warehouse.ts","ng://@generic-ui/ngx-list/composition/core/domain-read/composition.read-model-root-repository.ts","ng://@generic-ui/ngx-list/structure/field/core/domain/field/field.id.ts","ng://@generic-ui/ngx-list/composition/core/domain-read/composition.domain-warehouse.ts","ng://@generic-ui/ngx-list/structure/grid/feature/local/composition/local-composition.warehouse.ts","ng://@generic-ui/ngx-list/structure/search/core/domain/config/set-config-searching.command.ts","ng://@generic-ui/ngx-list/structure/search/core/domain/set-phrase/set-search-phrase.command.ts","ng://@generic-ui/ngx-list/structure/search/core/api/highlight/search-highlight.archive.ts","ng://@generic-ui/ngx-list/structure/search/core/api/placeholder/search-placeholder.archive.ts","ng://@generic-ui/ngx-list/structure/search/core/domain/search.dispatcher.ts","ng://@generic-ui/ngx-list/structure/grid/feature/local/search/local-structure-search.command-dispatcher.ts","ng://@generic-ui/ngx-list/structure/grid/feature/local/schema/local-schema.warehouse.ts","ng://@generic-ui/ngx-list/structure/grid/feature/local/schema/local-schema.command-dispatcher.ts","ng://@generic-ui/ngx-list/structure/core/domain/create-structure/structure-created.event.ts","ng://@generic-ui/ngx-list/structure/vertical-formation/core/domain/set-enabled/vertical-scroll-enabled-set.event.ts","ng://@generic-ui/ngx-list/structure/core/infrastructure/in-memory/in-memory.structure.store.ts","ng://@generic-ui/ngx-list/structure/paging/core/api/read/paging.ts","ng://@generic-ui/ngx-list/structure/paging/core/api/read/paging.converter.ts","ng://@generic-ui/ngx-list/structure/source/core/api/read/source.ts","ng://@generic-ui/ngx-list/structure/source/core/api/source.converter.ts","ng://@generic-ui/ngx-list/structure/vertical-formation/core/api/vertical-formation.read-model.ts","ng://@generic-ui/ngx-list/structure/vertical-formation/core/api/vertical-formation.converter.ts","ng://@generic-ui/ngx-list/structure/grid/core/api/read/structure.read-model-root.ts","ng://@generic-ui/ngx-list/structure/source/core/domain/core/item/item.entity.ts","ng://@generic-ui/ngx-list/structure/grid/core/api/read/structure.read-model-root-converter.ts","ng://@generic-ui/ngx-list/structure/core/infrastructure/in-memory/api/in-memory-structure.read-store.ts","ng://@generic-ui/ngx-list/structure/vertical-formation/core/domain/set-row-height/row-height-set.event.ts","ng://@generic-ui/ngx-list/structure/vertical-formation/core/domain/container/set-height/structure-height-set.event.ts","ng://@generic-ui/ngx-list/structure/source/core/domain/origin/set-origin/origin-set.event.ts","ng://@generic-ui/ngx-list/structure/vertical-formation/core/domain/scroll-position/scroll-position-set.event.ts","ng://@generic-ui/ngx-list/structure/vertical-formation/core/domain/set-row-height-theme/row-height-set-based-on-theme.event.ts","ng://@generic-ui/ngx-list/structure/search/core/domain/set-phrase/search-phrase-set.domain-event.ts","ng://@generic-ui/ngx-list/structure/paging/core/domain/set/paging-set.event.ts","ng://@generic-ui/ngx-list/structure/vertical-formation/core/api/vertical-formation.repository.ts","ng://@generic-ui/ngx-list/structure/vertical-formation/core/domain-read/scroll-bar/vertical-formation.scroll-bar-position.repository.ts","ng://@generic-ui/ngx-list/structure/vertical-formation/core/api/structure-vertical-formation.warehouse.ts","ng://@generic-ui/ngx-list/structure/grid/feature/local/vertical-formation/local-structure-vertical-formation.warehouse.ts","ng://@generic-ui/ngx-list/structure/grid/feature/local/local-providers.ts","ng://@generic-ui/ngx-list/common/cdk/dom/core/modifier.ts","ng://@generic-ui/ngx-list/common/cdk/dom/class/class-modifier.ts","ng://@generic-ui/ngx-list/structure/grid/feature/schema/schema-css-class.manager.ts","ng://@generic-ui/ngx-list/structure/grid/feature/edit/structure.cell-edit.archive.ts","ng://@generic-ui/ngx-list/structure/grid/feature/edit/structure.cell-edit.store.ts","ng://@generic-ui/ngx-list/structure/grid/feature/edit/structure.edit-mode.archive.ts","ng://@generic-ui/ngx-list/structure/grid/feature/panel/info/structure.info-panel.config.ts","ng://@generic-ui/ngx-list/structure/grid/feature/panel/info/structure.info-panel.archive.ts","ng://@generic-ui/ngx-list/structure/grid/feature/panel/summaries/structure.summaries-panel.config.ts","ng://@generic-ui/ngx-list/structure/grid/feature/panel/summaries/structure.summaries.archive.ts","ng://@generic-ui/ngx-list/structure/grid/feature/panel/summaries/structure.summaries-panel.config-converter.ts","ng://@generic-ui/ngx-list/structure/summaries/core/domain/set/structure.set-summaries-enabled.command.ts","ng://@generic-ui/ngx-list/structure/summaries/core/api/structure-summaries.command-dispatcher.ts","ng://@generic-ui/ngx-list/structure/grid/feature/panel/summaries/structure.summaries-config.service.ts","ng://@generic-ui/ngx-list/structure/grid/feature/structure-component-token.ts","ng://@generic-ui/ngx-list/common/cdk/reactive/stream-closer.ts","ng://@generic-ui/ngx-list/common/cdk/component/gui-component.ts","ng://@generic-ui/ngx-list/common/cdk/component/smart-component.ts","ng://@generic-ui/ngx-list/structure/grid/feature/edit/structure.cell-edit.state.ts","ng://@generic-ui/ngx-list/structure/field/core/domain/init/init-fields.command.ts","ng://@generic-ui/ngx-list/structure/field/core/domain/init/fields-inited.event.ts","ng://@generic-ui/ngx-list/composition/core/domain/column/field/column-field.id.ts","ng://@generic-ui/ngx-list/composition/core/domain/column/set-columns/column.params.ts","ng://@generic-ui/ngx-list/structure/grid/feature/gate/column/structure-column.input-handler.ts","ng://@generic-ui/ngx-list/structure/grid/feature/gate/structure.gateway.ts","ng://@generic-ui/ngx-list/structure/paging/core/domain/next-page/next-page.event.ts","ng://@generic-ui/ngx-list/structure/paging/core/domain/prev-page/prev-page.event.ts","ng://@generic-ui/ngx-list/structure/paging/core/api/paging.event-repository.ts","ng://@generic-ui/ngx-list/structure/source/core/api/event/editem-item.values.ts","ng://@generic-ui/ngx-list/structure/source/core/domain/origin/edit/structure.source-item-edited.event.ts","ng://@generic-ui/ngx-list/structure/source/core/api/event/source-event.service.ts","ng://@generic-ui/ngx-list/composition/core/api/composition.event-repository.ts","ng://@generic-ui/ngx-list/structure/source/core/domain/formation/selected-row-changed.event.ts","ng://@generic-ui/ngx-list/structure/source/core/api/formation/formation.event-repository.ts","ng://@generic-ui/ngx-list/structure/grid/feature/header/menu/config/structure.column-menu-config.ts","ng://@generic-ui/ngx-list/structure/grid/feature/header/menu/config/structure.column-menu-config.archive.ts","ng://@generic-ui/ngx-list/structure/paging/feature/mode/paging-display-mode.archive.ts","ng://@generic-ui/ngx-list/structure/source/core/api/formation/set-enabled/row-select-enabled.repository.ts","ng://@generic-ui/ngx-list/structure/search/core/api/search.event-repository.ts","ng://@generic-ui/ngx-list/structure/grid/feature/edit/structure.cell-edit-close-all.service.ts","ng://@generic-ui/ngx-list/structure/grid/feature/header/structure-header-bottom-enabled.archive.ts","ng://@generic-ui/ngx-list/structure/grid/feature/header/structure-header-top-enabled.archive.ts","ng://@generic-ui/ngx-list/structure/grid/feature/row-detail/structure.row-detail.config-archive.ts","ng://@generic-ui/ngx-list/structure/grid/feature/row-detail/view/structure.row-detail-view.tokens.ts","ng://@generic-ui/ngx-list/structure/grid/feature/row-detail/view/structure.row-detail-view.component.ts","ng://@generic-ui/ngx-list/structure/grid/feature/row-detail/structure.row-detail.service.ts","ng://@generic-ui/ngx-list/structure/paging/feature/paging-position.ts","ng://@generic-ui/ngx-list/structure/common/css-class/css-class.ts","ng://@generic-ui/ngx-list/structure/common/css-class/css-class.modifier.ts","ng://@generic-ui/ngx-list/structure/paging/feature/paging.component.ts","ng://@generic-ui/ngx-list/common/cdk/component/pure-component.ts","ng://@generic-ui/ngx-list/structure/paging/feature/select/paging-select.component.ts","ng://@generic-ui/ngx-list/structure/paging/feature/advanced/navigator/alternative-paging-navigator.component.ts","ng://@generic-ui/ngx-list/structure/paging/feature/advanced/pages/alternative-paging-pages.component.ts","ng://@generic-ui/ngx-list/structure/core/domain/structure-aggregate.repository.ts","ng://@generic-ui/ngx-list/structure/paging/core/domain/set/set-paging.command-handler.ts","ng://@generic-ui/ngx-list/structure/paging/core/domain/next-page/next-page.command-handler.ts","ng://@generic-ui/ngx-list/structure/paging/core/domain/prev-page/prev-page.command-handler.ts","ng://@generic-ui/ngx-list/structure/paging/core/domain/change-pagesize/change-pagesize.command-handler.ts","ng://@generic-ui/ngx-list/structure/core/api/structre.key.ts","ng://@generic-ui/ngx-list/structure/paging/core/domain/paging.domain-module.ts","ng://@generic-ui/ngx-list/structure/paging/core/api/paging.api-module.ts","ng://@generic-ui/ngx-list/structure/paging/feature/basic/navigator/paging-navigator.component.ts","ng://@generic-ui/ngx-list/structure/paging/feature/basic/stats/paging-stats.component.ts","ng://@generic-ui/ngx-list/l10n/core/api/translation.api-module.ts","ng://@generic-ui/ngx-list/l10n/core/api/translation.service.ts","ng://@generic-ui/ngx-list/l10n/feature/translation.pipe.ts","ng://@generic-ui/ngx-list/l10n/core/domain/dictionary.ts","ng://@generic-ui/ngx-list/l10n/core/domain/translation.service-impl.ts","ng://@generic-ui/ngx-list/l10n/feature/translation.feature-module.ts","ng://@generic-ui/ngx-list/structure/paging/feature/paging.feature-module.ts","ng://@generic-ui/ngx-list/structure/grid/feature/panel/banner-panels/title-panel/structure.title-panel.config-archive.ts","ng://@generic-ui/ngx-list/structure/grid/feature/panel/banner-panels/footer-panel/structure.footer-panel.config-archive.ts","ng://@generic-ui/ngx-list/structure/grid/feature/panel/info/structure.info-panel.config-converter.ts","ng://@generic-ui/ngx-list/structure/grid/feature/panel/info/structure.info-panel-config.service.ts","ng://@generic-ui/ngx-list/structure/sorting/core/domain/set-config/set-sorting.command.ts","ng://@generic-ui/ngx-list/structure/sorting/core/domain/toggle/toggle-sort.command.ts","ng://@generic-ui/ngx-list/structure/sorting/core/domain/order/set-sort-order.command.ts","ng://@generic-ui/ngx-list/structure/sorting/core/api/sorting.command-invoker.ts","ng://@generic-ui/ngx-list/structure/sorting/core/api/sorting.warehouse.ts","ng://@generic-ui/ngx-list/structure/sorting/core/api/sorting.event-repository.ts","ng://@generic-ui/ngx-list/structure/sorting/core/domain/toggle/sort-toggled.event.ts","ng://@generic-ui/ngx-list/structure/sorting/core/domain/toggle/toggle-sort.command-handler.ts","ng://@generic-ui/ngx-list/structure/sorting/core/domain/set-config/sorting-set.event.ts","ng://@generic-ui/ngx-list/structure/sorting/core/domain/set-config/set-sorting.command-handler.ts","ng://@generic-ui/ngx-list/structure/sorting/core/domain/order/sort-order-set.event.ts","ng://@generic-ui/ngx-list/structure/sorting/core/domain/order/set-sort-order.command-handler.ts","ng://@generic-ui/ngx-list/structure/sorting/core/domain/sorting.domain-module.ts","ng://@generic-ui/ngx-list/structure/sorting/core/api/sorting.api-module.ts","ng://@generic-ui/ngx-list/structure/sorting/feature/sorting.feature-module.ts","ng://@generic-ui/ngx-list/structure/search/core/domain/config/config-searching-set.event.ts","ng://@generic-ui/ngx-list/structure/search/core/domain/config/set-config-searching.command-handler.ts","ng://@generic-ui/ngx-list/structure/summaries/core/domain/structure.summaries-changed.event.ts","ng://@generic-ui/ngx-list/structure/summaries/core/domain/structure.summaries-changed.aggregate-event.ts","ng://@generic-ui/ngx-list/structure/source/core/domain/prepared/structure.prepared-entities-set.event.ts","ng://@generic-ui/ngx-list/structure/source/core/domain/source.domain-event.publisher.ts","ng://@generic-ui/ngx-list/structure/search/core/domain/set-phrase/structure.set-search-phrase.command-handler.ts","ng://@generic-ui/ngx-list/structure/field/core/domain/field/data/data-type.ts","ng://@generic-ui/ngx-list/structure/search/core/domain/search.manager.ts","ng://@generic-ui/ngx-list/structure/search/core/domain/search.manager-factory.ts","ng://@generic-ui/ngx-list/structure/search/core/api/phrase/search-phrase.repository.ts","ng://@generic-ui/ngx-list/structure/search/core/api/phrase/search-phrase-set.event-handler.ts","ng://@generic-ui/ngx-list/structure/search/core/api/enabled/searching.repository.ts","ng://@generic-ui/ngx-list/structure/search/core/api/enabled/config-searching-set.event-handler.ts","ng://@generic-ui/ngx-list/structure/search/core/domain/search.domain-module.ts","ng://@generic-ui/ngx-list/structure/search/core/api/search.command-invoker.ts","ng://@generic-ui/ngx-list/structure/search/core/api/search.warehouse.ts","ng://@generic-ui/ngx-list/structure/search/core/domain-read/search.domain-warehouse.ts","ng://@generic-ui/ngx-list/structure/search/core/api/search.api-module.ts","ng://@generic-ui/ngx-list/common/cdk/component/static-component.ts","ng://@generic-ui/ngx-list/common/cdk/component/icon-component.ts","ng://@generic-ui/ngx-list/structure/search/feature/icon/search-icon.component.ts","ng://@generic-ui/ngx-list/structure/search/feature/search.component.ts","ng://@generic-ui/ngx-list/structure/search/feature/search.feature-module.ts","ng://@generic-ui/ngx-list/structure/field/core/api/read/field.read-model.ts","ng://@generic-ui/ngx-list/structure/field/core/api/read/field.ui-converter.ts","ng://@generic-ui/ngx-list/structure/field/core/domain/field-collection.ts","ng://@generic-ui/ngx-list/structure/field/core/domain/field/field.ts","ng://@generic-ui/ngx-list/structure/field/core/domain/field/data/base-data-field.ts","ng://@generic-ui/ngx-list/structure/field/core/domain/field/data/data-field.ts","ng://@generic-ui/ngx-list/structure/summaries/core/domain/summaries.type.ts","ng://@generic-ui/ngx-list/structure/field/core/domain/field/data/type/unknown-data-field.ts","ng://@generic-ui/ngx-list/structure/field/core/domain/field/data/type/number-data-field.ts","ng://@generic-ui/ngx-list/structure/field/core/domain/field/data/type/string-data-field.ts","ng://@generic-ui/ngx-list/structure/field/core/domain/field/data/type/boolean-data-field.ts","ng://@generic-ui/ngx-list/structure/field/core/domain/field/data/type/date-data-field.ts","ng://@generic-ui/ngx-list/structure/field/core/domain/matcher/field.matchers.ts","ng://@generic-ui/ngx-list/structure/field/core/domain/field/data/data-field.factory.ts","ng://@generic-ui/ngx-list/structure/field/core/domain/field/field-id.generator.ts","ng://@generic-ui/ngx-list/structure/field/core/domain/field/field.factory.ts","ng://@generic-ui/ngx-list/structure/field/core/domain/field-collection.factory.ts","ng://@generic-ui/ngx-list/structure/field/core/domain/init/init-fields.command-handler.ts","ng://@generic-ui/ngx-list/structure/field/core/api/read/fields-inited.event-handler.ts","ng://@generic-ui/ngx-list/structure/field/core/domain/field.domain-module.ts","ng://@generic-ui/ngx-list/structure/field/core/api/field.command-invoker.ts","ng://@generic-ui/ngx-list/structure/field/core/api/field.api-module.ts","ng://@generic-ui/ngx-list/structure/field/feature/field.feature-module.ts","ng://@generic-ui/ngx-list/composition/core/domain/column/field/column-field.ts","ng://@generic-ui/ngx-list/composition/core/domain/column/field/colum-field.factory.ts","ng://@generic-ui/ngx-list/structure/filter/core/api/config/filter-container-token.ts","ng://@generic-ui/ngx-list/structure/source/core/api/row-selection.ts","ng://@generic-ui/ngx-list/structure/source/core/api/formation/type/row-selection-type.archive.ts","ng://@generic-ui/ngx-list/structure/source/core/domain/loading/set-source-loading.event.ts","ng://@generic-ui/ngx-list/structure/source/core/domain/loading/source-set-loading.command-handler.ts","ng://@generic-ui/ngx-list/structure/source/core/domain/origin/set-origin/set-origin.command-handler.ts","ng://@generic-ui/ngx-list/structure/source/core/domain/origin/edit/structure.edit-source-item.command-handler.ts","ng://@generic-ui/ngx-list/structure/source/core/domain/origin/origin-item-entity.ts","ng://@generic-ui/ngx-list/structure/source/core/domain/origin/edit/structure.source-item-edited.aggregate-event.ts","ng://@generic-ui/ngx-list/structure/source/core/domain/origin/structure.origin-changed.aggregate-event.ts","ng://@generic-ui/ngx-list/structure/source/core/domain/origin/origin-id.ts","ng://@generic-ui/ngx-list/structure/source/core/domain/core/source.manager.ts","ng://@generic-ui/ngx-list/structure/source/core/domain/formation/core/formation-manager.ts","ng://@generic-ui/ngx-list/structure/source/core/domain/formation/core/formation.manager-factory.ts","ng://@generic-ui/ngx-list/structure/source/core/domain/core/source.manager-factory.ts","ng://@generic-ui/ngx-list/structure/source/core/api/origin/structure.origin-changed.event-handler.ts","ng://@generic-ui/ngx-list/structure/source/core/api/prepared/structure.prepared-items.event-handler.ts","ng://@generic-ui/ngx-list/structure/source/core/domain/formation/set-enabled/set-enabled-selection.command-handler.ts","ng://@generic-ui/ngx-list/structure/source/core/domain/formation/toggle/toggle-selected-row.command-handler.ts","ng://@generic-ui/ngx-list/structure/source/core/api/formation/row-selected.read-model.ts","ng://@generic-ui/ngx-list/structure/source/core/api/formation/row-selected/selected-row-changed.event-handler.ts","ng://@generic-ui/ngx-list/structure/source/core/domain/formation/mode/set-selection-mode.command-handler.ts","ng://@generic-ui/ngx-list/structure/source/core/domain/formation/select-all/select-all-rows.command-handler.ts","ng://@generic-ui/ngx-list/structure/source/core/domain/formation/unselect-all/unselect-all-rows.command-handler.ts","ng://@generic-ui/ngx-list/structure/source/core/domain/formation/mode/selection-mode-set.event.ts","ng://@generic-ui/ngx-list/structure/source/core/api/formation/mode/selection-mode-set.event-handler.ts","ng://@generic-ui/ngx-list/structure/source/core/domain/origin/delete/delete-origin-item.command-handler.ts","ng://@generic-ui/ngx-list/structure/source/core/domain/source.domain-module.ts","ng://@generic-ui/ngx-list/structure/source/core/api/source.api-module.ts","ng://@generic-ui/ngx-list/structure/source/feature/source.feature-module.ts","ng://@generic-ui/ngx-list/schema/feature/schema.feature-module.ts","ng://@generic-ui/ngx-list/common/cdk/dom/style/style-name.ts","ng://@generic-ui/ngx-list/common/cdk/dom/style/style-modifier.ts","ng://@generic-ui/ngx-list/structure/grid/feature/structure.component.ts","ng://@generic-ui/ngx-list/structure/list/feature/source/template/list-view-template.archive.ts","ng://@generic-ui/ngx-list/structure/list/feature/card/template/list-view.card-template.archive.ts","ng://@generic-ui/ngx-list/structure/list/feature/list-view.providers.ts","ng://@generic-ui/ngx-list/structure/list/core/domain/list-view.id.ts","ng://@generic-ui/ngx-list/structure/list/core/api/list-view.read-model-root-id.ts","ng://@generic-ui/ngx-list/structure/list/core/domain/create/create-list-view.command.ts","ng://@generic-ui/ngx-list/structure/list/core/domain/list-view.command.ts","ng://@generic-ui/ngx-list/structure/list/core/domain/mode/set-list-view-mode.command.ts","ng://@generic-ui/ngx-list/structure/list/core/domain/mode/selector/toggle-list-view-selector.command.ts","ng://@generic-ui/ngx-list/structure/list/core/domain/list-view.dispatcher.ts","ng://@generic-ui/ngx-list/structure/list/core/api/list-view.global-id.ts","ng://@generic-ui/ngx-list/structure/list/core/api/list-view.command-invoker.ts","ng://@generic-ui/ngx-list/structure/list/feature/list-view.component.ts","ng://@generic-ui/ngx-list/structure/list/feature/source/list-view-source.component.ts","ng://@generic-ui/ngx-list/structure/list/core/api/mode/list-view.mode.repository.ts","ng://@generic-ui/ngx-list/structure/list/core/api/mode/selector/list-view.selector.repository.ts","ng://@generic-ui/ngx-list/structure/list/feature/layout/list-view-layout.component.ts","ng://@generic-ui/ngx-list/structure/list/feature/source/list-item/list-view-item.component.ts","ng://@generic-ui/ngx-list/structure/source/feature/empty/empty-source.component.ts","ng://@generic-ui/ngx-list/structure/source/feature/empty/empty-source.feature-module.ts","ng://@generic-ui/ngx-list/structure/list/feature/card/list-view.container-card.component.ts","ng://@generic-ui/ngx-list/structure/list/feature/card/card-item/list-view.card-item.component.ts","ng://@generic-ui/ngx-list/structure/list/feature/container/select/list-view.container-mode-select.component.ts","ng://@generic-ui/ngx-list/structure/list/core/domain/list-view.domain-event.ts","ng://@generic-ui/ngx-list/structure/list/core/domain/create/list-view-created.event.ts","ng://@generic-ui/ngx-list/structure/list/core/domain/list-view.aggregate-event.ts","ng://@generic-ui/ngx-list/structure/list/core/domain/create/list-view-created.aggregate-event.ts","ng://@generic-ui/ngx-list/structure/list/core/domain/mode/list-view-mode-set.event.ts","ng://@generic-ui/ngx-list/structure/list/core/domain/mode/list-view-mode-set.aggregate-event.ts","ng://@generic-ui/ngx-list/structure/list/core/domain/mode/selector/selector-visibility.ts","ng://@generic-ui/ngx-list/structure/list/core/domain/mode/selector/list-view-selector-toggled.event.ts","ng://@generic-ui/ngx-list/structure/list/core/domain/mode/selector/list-view-selector-toggled.aggregate-event.ts","ng://@generic-ui/ngx-list/structure/list/core/domain/list-view.aggregate.ts","ng://@generic-ui/ngx-list/structure/list/core/domain/list-view.aggregate-factory.ts","ng://@generic-ui/ngx-list/structure/list/core/domain/create/create-list-view.command-handler.ts","ng://@generic-ui/ngx-list/structure/list/core/infrastructure/in-memory/in-memory.list-view.store.ts","ng://@generic-ui/ngx-list/structure/list/core/infrastructure/in-memory/in-memory.list-view.aggregate-store.ts","ng://@generic-ui/ngx-list/structure/list/core/domain/list-view.aggregate-repository.ts","ng://@generic-ui/ngx-list/structure/list/core/infrastructure/in-memory/in-memory.list-view.aggregate-repository.ts","ng://@generic-ui/ngx-list/structure/list/core/api/list-view.event-repository.ts","ng://@generic-ui/ngx-list/structure/list/core/api/list-view.warehouse.ts","ng://@generic-ui/ngx-list/structure/list/core/domain/mode/set-list-view-mode.command-handler.ts","ng://@generic-ui/ngx-list/structure/list/core/domain/mode/selector/toggle-list-view-selector.command-handler.ts","ng://@generic-ui/ngx-list/structure/list/core/domain/list-view.domain-module.ts","ng://@generic-ui/ngx-list/structure/list/core/api/mode/list-view-mode-set.event-handler.ts","ng://@generic-ui/ngx-list/structure/list/core/api/mode/selector/list-view-selector-toggled.event-handler.ts","ng://@generic-ui/ngx-list/structure/list/core/api/list-view.api-module.ts","ng://@generic-ui/ngx-list/common/cdk/component/gate.ts","ng://@generic-ui/ngx-list/structure/paging/feature/gate/paging.gate.ts","ng://@generic-ui/ngx-list/structure/list/feature/gateway/paging/list-view-paging.gate.ts","ng://@generic-ui/ngx-list/structure/list/feature/gateway/mode/list-view-mode.gate.ts","ng://@generic-ui/ngx-list/structure/list/feature/gateway/template/list-view-template.gate.ts","ng://@generic-ui/ngx-list/structure/list/feature/gateway/field/list-view-field.gate.ts","ng://@generic-ui/ngx-list/structure/search/feature/gate/searching.gate.ts","ng://@generic-ui/ngx-list/structure/list/feature/gateway/searching/list-view-searching.gate.ts","ng://@generic-ui/ngx-list/structure/list/feature/gateway/l10n/list-view-l10n.gate.ts","ng://@generic-ui/ngx-list/structure/source/feature/gate/source.gate.ts","ng://@generic-ui/ngx-list/structure/list/feature/gateway/source/list-view-source.gate.ts","ng://@generic-ui/ngx-list/structure/list/feature/gateway/list-view.gates.ts","ng://@generic-ui/ngx-list/structure/sorting/feature/selector/sorting-selector.component.ts","ng://@generic-ui/ngx-list/structure/sorting/feature/selector/sorting-selector.feature-module.ts","ng://@generic-ui/ngx-list/structure/filter/feature/menu/icon/filter-icon.component.ts","ng://@generic-ui/ngx-list/structure/filter/core/api/read/filter-enabled.repository.ts","ng://@generic-ui/ngx-list/structure/filter/core/api/read/quick-filter-enabled.repository.ts","ng://@generic-ui/ngx-list/structure/filter/core/api/type/filter-type.repository.ts","ng://@generic-ui/ngx-list/structure/filter/core/api/active/active-filter.repository.ts","ng://@generic-ui/ngx-list/structure/filter/core/api/unique/unique-values.repository.ts","ng://@generic-ui/ngx-list/structure/filter/core/api/filter.warehouse.ts","ng://@generic-ui/ngx-list/structure/filter/feature/menu/filter-menu.component.ts","ng://@generic-ui/ngx-list/structure/filter/feature/menu/filter-menu-trigger.component.ts","ng://@generic-ui/ngx-list/structure/filter/feature/menu/column-selector/column-selector.component.ts","ng://@generic-ui/ngx-list/structure/filter/feature/menu/filter-selector/filter-type-selector.component.ts","ng://@generic-ui/ngx-list/structure/filter/feature/menu/value/filter-value.component.ts","ng://@generic-ui/ngx-list/structure/filter/feature/menu/field-selector/field-selector.component.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/toggle/toggle-filter.command.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/toggle/filter-toggled.event.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/toggle/toggle-filter.command-handler.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/core/add/add-filter.command-handler.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/core/remove-all/remove-all-filters.command-handler.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/core/remove/remove-filter.command-handler.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/config/config-filter-set.event.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/config/set-config-filter.command-handler.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/quick/config-quick-filter-set.event.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/quick/set-config-quick-filter.command-handler.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/filter.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/filter.settings.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/type/base-filter-type.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/type/filter-types/contains/contains-filter-type.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/type/filter-type.id.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/type/filter-type.id-generator.ts","ng://@generic-ui/ngx-list/structure/filter/core/api/type/filter-type.read-model.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/type/filter-type.manager.ts","ng://@generic-ui/ngx-list/structure/filter/core/api/filter.id.ts","ng://@generic-ui/ngx-list/structure/filter/core/api/filter.id-generator.ts","ng://@generic-ui/ngx-list/structure/filter/core/api/active/active-filter.read-model.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/filter.manager.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/filter.manager-factory.ts","ng://@generic-ui/ngx-list/structure/filter/core/api/read/config-quick-filter-set.event-handler.ts","ng://@generic-ui/ngx-list/structure/filter/core/api/read/config-filter-set.event-handler.ts","ng://@generic-ui/ngx-list/structure/filter/core/api/type/filter-type-map.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/type/init/filter-types-inited.event.ts","ng://@generic-ui/ngx-list/structure/filter/core/api/type/filter-type.config-filter-set.event-handler.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/core/active-filters-set.event.ts","ng://@generic-ui/ngx-list/structure/filter/core/api/active/active-filters-set.event-handler.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/unique/calculate/unique-filter-calculated.event.ts","ng://@generic-ui/ngx-list/structure/filter/core/api/unique/unique-values.read-model.ts","ng://@generic-ui/ngx-list/structure/filter/core/api/unique/unique-value.read-model.ts","ng://@generic-ui/ngx-list/structure/filter/core/api/unique/unique-filter-calculated.event-handler.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/type/init/filter-type.fields-inited.event-handler.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/unique/unselect-all/unselect-all-unique-filter.command-handler.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/unique/unselect/unselect-unique-filter.command-handler.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/unique/select-all/select-all-unique-filter.command-handler.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/unique/select/select-unique-filter.command-handler.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/filter.domain-module.ts","ng://@generic-ui/ngx-list/structure/filter/core/api/filter.api-module.ts","ng://@generic-ui/ngx-list/structure/grid/feature/structure-fabric.imports.ts","ng://@generic-ui/ngx-list/structure/filter/feature/active-filters/active-filter-list.component.ts","ng://@generic-ui/ngx-list/structure/filter/feature/active-filters/search/active-search.component.ts","ng://@generic-ui/ngx-list/structure/filter/feature/active-filters/active-filter-list.module.ts","ng://@generic-ui/ngx-list/structure/filter/feature/menu/filter-menu.feature-module.ts","ng://@generic-ui/ngx-list/structure/list/feature/list-view.feature-module.ts","ng://@generic-ui/ngx-list/common/cdk/number-formatter/number-formatter.pipe.ts","ng://@generic-ui/ngx-list/common/cdk/number-formatter/number-formatter.module.ts","ng://@generic-ui/ngx-list/structure/grid/feature/panel/info/info-modal/structure-info-modal.component.ts","ng://@generic-ui/ngx-list/structure/grid/feature/column-manager/dialog/structure.dialog-column-manager.component.ts","ng://@generic-ui/ngx-list/structure/grid/feature/schema/structure.theme.converter.ts","ng://@generic-ui/ngx-list/structure/grid/feature/column-manager/dialog/structure.dialog-column-manager.service.ts","ng://@generic-ui/ngx-list/schema/feature/manager/dialog/structure.dialog-schema-manager.component.ts","ng://@generic-ui/ngx-list/schema/feature/manager/dialog/structure.dialog-schema-manager.service.ts","ng://@generic-ui/ngx-list/structure/grid/feature/panel/info/structure.info-panel.component.ts","ng://@generic-ui/ngx-list/structure/grid/feature/column-manager/structure.column-manager.component.ts","ng://@generic-ui/ngx-list/structure/grid/feature/column-manager/menu/structure.menu-column-manager.component.ts","ng://@generic-ui/ngx-list/structure/grid/feature/column-manager/icon/structure.column-manager-icon.component.ts","ng://@generic-ui/ngx-list/structure/grid/feature/column-manager/structure.column-manager.module.ts","ng://@generic-ui/ngx-list/structure/grid/feature/panel/info/icon/structure.info-icon.component.ts","ng://@generic-ui/ngx-list/schema/feature/manager/structure.schema-manger.component.ts","ng://@generic-ui/ngx-list/schema/feature/manager/manager-icon/structure.schema-manager-icon.component.ts","ng://@generic-ui/ngx-list/schema/feature/manager/schema-manager.module.ts","ng://@generic-ui/ngx-list/structure/source/feature/counter/filter/active-filter-menu.component.ts","ng://@generic-ui/ngx-list/structure/source/feature/counter/filter/active-filter.service.ts","ng://@generic-ui/ngx-list/structure/source/feature/counter/filter/active-filter-menu-trigger.directive.ts","ng://@generic-ui/ngx-list/structure/source/feature/counter/source-counter.feature-module.ts","ng://@generic-ui/ngx-list/structure/grid/feature/panel/info/structure.info-panel.module.ts","ng://@generic-ui/ngx-list/composition/core/domain/column/sort/sort-order.ts","ng://@generic-ui/ngx-list/composition/core/domain/column/column-align.ts","ng://@generic-ui/ngx-list/composition/core/domain-read/definition/cell-template-with-context.ts","ng://@generic-ui/ngx-list/structure/grid/feature/header/menu/structure.column-config.component.ts","ng://@generic-ui/ngx-list/structure/grid/feature/header/menu/structure.column-config.service.ts","ng://@generic-ui/ngx-list/structure/grid/feature/header/column/structure-header-columns.component.ts","ng://@generic-ui/ngx-list/structure/grid/feature/header/filters/structure-header-filters.component.ts","ng://@generic-ui/ngx-list/structure/grid/feature/header/structure-header.component.ts","ng://@generic-ui/ngx-list/composition/core/domain-read/edit/changed-value.emitter.ts","ng://@generic-ui/ngx-list/structure/grid/feature/header/filters/structure.header-filter.component.ts","ng://@generic-ui/ngx-list/structure/grid/feature/content/structure-content.component.ts","ng://@generic-ui/ngx-list/structure/grid/feature/content/row/structure-row.component.ts","ng://@generic-ui/ngx-list/composition/core/domain/column/cell-view.ts","ng://@generic-ui/ngx-list/composition/core/domain-read/definition/cell-value.ts","ng://@generic-ui/ngx-list/composition/core/domain-read/definition/cell-template-with-accessor.ts","ng://@generic-ui/ngx-list/composition/core/domain-read/edit/state/edit.event-type.ts","ng://@generic-ui/ngx-list/structure/grid/feature/content/cell/structure.cell.component.ts","ng://@generic-ui/ngx-list/structure/grid/feature/structure-parent-component.ts","ng://@generic-ui/ngx-list/structure/grid/feature/content/structure-container.component.ts","ng://@generic-ui/ngx-list/structure/grid/feature/header/quick-filters/structure.quick-filters.component.ts","ng://@generic-ui/ngx-list/structure/grid/core/api/structure-tokens.ts","ng://@generic-ui/ngx-list/structure/grid/feature/blueprint/structure.blueprint.component.ts","ng://@generic-ui/ngx-list/structure/core/infrastructure/in-memory/domain/in-memory.structure.aggregate-store.ts","ng://@generic-ui/ngx-list/structure/core/infrastructure/in-memory/domain/in-memory.structure-aggregate.repository.ts","ng://@generic-ui/ngx-list/structure/source/core/domain/formation/set-enabled/selection-enabled-set.event.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/core/add/filter-added.event.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/unique/select/unique-filter-selected.event.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/unique/select-all/all-unique-filter-selected.event.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/unique/unselect/unique-filter-unselected.event.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/unique/unselect-all/all-unique-filter-unselected.event.ts","ng://@generic-ui/ngx-list/structure/core/infrastructure/in-memory/api/in-memory.structure.repository.ts","ng://@generic-ui/ngx-list/structure/core/infrastructure/in-memory/in-memory.structure.providers.ts","ng://@generic-ui/ngx-list/structure/vertical-formation/core/domain/vertical-range.ts","ng://@generic-ui/ngx-list/structure/vertical-formation/core/domain/container/vertical-formation.container-height.ts","ng://@generic-ui/ngx-list/structure/vertical-formation/core/domain/scroll-bar/scroll-bar-position-set.event.ts","ng://@generic-ui/ngx-list/structure/vertical-formation/core/domain/scroll-bar/scroll-bar-position-set.aggregate-event.ts","ng://@generic-ui/ngx-list/structure/vertical-formation/core/domain/vertical-formation.ts","ng://@generic-ui/ngx-list/structure/vertical-formation/core/domain/vertical-formation.factory.ts","ng://@generic-ui/ngx-list/structure/summaries/core/domain/calculation/summaries.calculators.token.ts","ng://@generic-ui/ngx-list/structure/summaries/core/domain/summaries.manager.ts","ng://@generic-ui/ngx-list/structure/summaries/core/domain/summaries.manager.factory.ts","ng://@generic-ui/ngx-list/structure/source/core/domain/prepared/structure.prepared-entities-set.aggregate-event.ts","ng://@generic-ui/ngx-list/structure/field/core/domain/init/fields-inited.aggregate-event.ts","ng://@generic-ui/ngx-list/structure/core/domain/create-structure/structure-created.aggregate-event.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/type/init/filter-types-inited.aggregate-event.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/core/remove-all/all-filters-removed.aggregate-event.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/core/add/filter-added.aggregate-event.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/core/remove/filter-removed.aggregate-event.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/unique/calculate/unique-filter-calculated.aggregate-event.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/unique/select/unique-filter-selected.aggregate-event.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/unique/unselect/unique-filter-unselected.aggregate-event.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/unique/unselect-all/all-unique-filter-unselected.aggregate-event.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/unique/select-all/all-unique-filter-selected.aggregate-event.ts","ng://@generic-ui/ngx-list/structure/source/core/domain/formation/selected-row-changed.aggregate-event.ts","ng://@generic-ui/ngx-list/structure/source/core/domain/formation/set-enabled/selection-enabled-set.aggregate-event.ts","ng://@generic-ui/ngx-list/structure/source/core/domain/formation/mode/selection-mode-set.aggregate-event.ts","ng://@generic-ui/ngx-list/structure/core/domain/structure.aggregate.ts","ng://@generic-ui/ngx-list/structure/sorting/core/domain/structure.sorter.ts","ng://@generic-ui/ngx-list/structure/sorting/core/api/sorter.id.ts","ng://@generic-ui/ngx-list/structure/sorting/core/domain/sorter.collection.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/unique/unique-value.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/unique/unique-value-id.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/unique/unique-value.id-generator.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/unique/unique-value-collection.ts","ng://@generic-ui/ngx-list/structure/filter/core/domain/unique/unique-filter-manager.ts","ng://@generic-ui/ngx-list/structure/core/domain/structure.aggregate-factory.ts","ng://@generic-ui/ngx-list/structure/summaries/core/api/enabled/structure.summaries.repository.ts","ng://@generic-ui/ngx-list/structure/core/domain/create-structure/structure-created.event-handler.ts","ng://@generic-ui/ngx-list/structure/grid/core/api/structure.providers.ts","ng://@generic-ui/ngx-list/common/cdk/logger/console.logger.ts","ng://@generic-ui/ngx-list/common/cdk/logger/logger.module.ts","ng://@generic-ui/ngx-list/structure/source/core/domain/core/item/item.entity-factory.ts","ng://@generic-ui/ngx-list/structure/grid/feature/panel/top/structure.top-panel.component.ts","ng://@generic-ui/ngx-list/structure/grid/feature/panel/top/structure.top-panel.module.ts","ng://@generic-ui/ngx-list/structure/grid/feature/header/menu/structure.column-config-trigger.component.ts","ng://@generic-ui/ngx-list/structure/grid/feature/header/menu/main/sort/structure.column-config-sort.component.ts","ng://@generic-ui/ngx-list/structure/grid/feature/header/menu/main/hide/structure.column-config-column-hide.component.ts","ng://@generic-ui/ngx-list/structure/grid/feature/header/menu/main/move/structure.column-config-column-move.component.ts","ng://@generic-ui/ngx-list/structure/grid/feature/header/menu/icon/structure.column-menu-icon.component.ts","ng://@generic-ui/ngx-list/structure/grid/feature/header/menu/icon/structure.column-menu-arrow-icon.component.ts","ng://@generic-ui/ngx-list/structure/filter/feature/unique/unique-value-list.component.ts","ng://@generic-ui/ngx-list/structure/filter/feature/unique/unique-value-list.module.ts","ng://@generic-ui/ngx-list/structure/grid/feature/header/menu/structure.column-menu.module.ts","ng://@generic-ui/ngx-list/structure/summaries/core/api/structure-summaries.event-repository.ts","ng://@generic-ui/ngx-list/structure/grid/feature/panel/summaries/structure.summaries-translations.ts","ng://@generic-ui/ngx-list/structure/grid/feature/panel/summaries/structure.summaries-panel.component.ts","ng://@generic-ui/ngx-list/structure/grid/feature/panel/summaries/structure.summaries-panel.module.ts","ng://@generic-ui/ngx-list/structure/core/domain/create-structure/create-structure-command-handler.service.ts","ng://@generic-ui/ngx-list/structure/grid/feature/content/cell/edit/structure.cell-edit.component.ts","ng://@generic-ui/ngx-list/structure/grid/feature/content/cell/boolean/structure.cell-edit-boolean.component.ts","ng://@generic-ui/ngx-list/structure/grid/feature/panel/banner-panels/structure-banner-panel.ts","ng://@generic-ui/ngx-list/structure/grid/feature/panel/banner-panels/title-panel/structure.title-panel.component.ts","ng://@generic-ui/ngx-list/structure/grid/feature/panel/banner-panels/footer-panel/structure.footer-panel.component.ts","ng://@generic-ui/ngx-list/structure/grid/feature/gate/schema/structure-theme.gateway.ts","ng://@generic-ui/ngx-list/structure/grid/feature/header/column/select-all/select-all.component.ts","ng://@generic-ui/ngx-list/structure/summaries/core/domain/set/structure.summaries-enabled-set.event.ts","ng://@generic-ui/ngx-list/structure/summaries/core/domain/set/structure.set-summaries-enabled.command-handler.ts","ng://@generic-ui/ngx-list/structure/summaries/core/api/enabled/structure.summaries-enabled-set.event-handler.ts","ng://@generic-ui/ngx-list/structure/summaries/core/domain/calculation/summaries.calculator.ts","ng://@generic-ui/ngx-list/structure/summaries/core/domain/calculation/summaries.values.ts","ng://@generic-ui/ngx-list/structure/summaries/core/domain/calculation/boolean/boolean-summarized.values.ts","ng://@generic-ui/ngx-list/structure/summaries/core/domain/calculation/boolean/boolean-summaries.calculator.ts","ng://@generic-ui/ngx-list/structure/summaries/core/domain/calculation/date/date-summarized.values.ts","ng://@generic-ui/ngx-list/structure/summaries/core/domain/calculation/date/date-summaries.calculator.ts","ng://@generic-ui/ngx-list/structure/summaries/core/domain/calculation/number/number-summarized.values.ts","ng://@generic-ui/ngx-list/structure/summaries/core/domain/calculation/number/number-summaries.calculator.ts","ng://@generic-ui/ngx-list/structure/summaries/core/domain/calculation/string/string-summarized.values.ts","ng://@generic-ui/ngx-list/structure/summaries/core/domain/calculation/string/string-summaries.calculator.ts","ng://@generic-ui/ngx-list/structure/summaries/core/domain/calculation/unknown/unknown-summarized.values.ts","ng://@generic-ui/ngx-list/structure/summaries/core/domain/calculation/unknown/unknown-summaries.calculator.ts","ng://@generic-ui/ngx-list/structure/summaries/core/domain/summaries.providers.ts","ng://@generic-ui/ngx-list/structure/summaries/core/domain/summaries.domain-module.ts","ng://@generic-ui/ngx-list/structure/summaries/core/api/structure-summaries.warehouse.ts","ng://@generic-ui/ngx-list/structure/summaries/core/api/summaries.api-module.ts","ng://@generic-ui/ngx-list/structure/summaries/feature/summaries.feature-module.ts","ng://@generic-ui/ngx-list/structure/vertical-formation/core/domain/scroll-position/set-scroll-position.command-handler.ts","ng://@generic-ui/ngx-list/structure/vertical-formation/core/domain/set-enabled/set-vertical-scroll-enabled.command-handler.ts","ng://@generic-ui/ngx-list/structure/vertical-formation/core/domain/set-row-height-theme/set-row-height-based-on-theme.command-handler.ts","ng://@generic-ui/ngx-list/structure/vertical-formation/core/domain/set-row-height/set-row-height.command-handler.ts","ng://@generic-ui/ngx-list/structure/vertical-formation/core/domain/container/set-height/structure-set-height.command-handler.ts","ng://@generic-ui/ngx-list/structure/vertical-formation/core/domain-read/scroll-bar/scroll-bar-position-set.event-handler.ts","ng://@generic-ui/ngx-list/structure/vertical-formation/core/domain/scroll-bar/set-scroll-bar-position.command-handler.ts","ng://@generic-ui/ngx-list/structure/vertical-formation/core/domain/vertical-formation.domain-module.ts","ng://@generic-ui/ngx-list/structure/vertical-formation/core/api/vertical-formation.api-module.ts","ng://@generic-ui/ngx-list/structure/vertical-formation/feature/vertical-formation.feature-module.ts","ng://@generic-ui/ngx-list/composition/core/domain/composition.key.ts","ng://@generic-ui/ngx-list/composition/core/domain/width/composition-container-width.calculator.ts","ng://@generic-ui/ngx-list/composition/core/domain/composition.domain-event.ts","ng://@generic-ui/ngx-list/composition/core/domain/width/set-width/composition-width-set.event.ts","ng://@generic-ui/ngx-list/composition/core/domain/composition.aggregate-event.ts","ng://@generic-ui/ngx-list/composition/core/domain/width/set-width/composition-width-set.aggregate-event.ts","ng://@generic-ui/ngx-list/composition/core/domain/width/set-container-width/composition-container-width-set.event.ts","ng://@generic-ui/ngx-list/composition/core/domain/width/set-container-width/composition-container-width-set.aggregate-event.ts","ng://@generic-ui/ngx-list/composition/core/domain/width/resize-width/composition-resize-width-set.event.ts","ng://@generic-ui/ngx-list/composition/core/domain/width/resize-width/composition-resize-width-set.aggregate-event.ts","ng://@generic-ui/ngx-list/composition/core/domain/column/set-enabled/composition.column-set-enabled.event.ts","ng://@generic-ui/ngx-list/composition/core/domain/column/set-enabled/composition.column-set-enabled.aggregate-event.ts","ng://@generic-ui/ngx-list/composition/core/domain/column/column-width/column-width-type.ts","ng://@generic-ui/ngx-list/composition/core/domain/column/column-width/column-width.ts","ng://@generic-ui/ngx-list/composition/core/domain/width/composition-width.calculator.ts","ng://@generic-ui/ngx-list/composition/core/domain/column/column-width/column-width-collection.ts","ng://@generic-ui/ngx-list/composition/core/domain/column/sort/composition-change-sort-status.event.ts","ng://@generic-ui/ngx-list/composition/core/domain/column/sort/composition-change-sort-status.aggregate-event.ts","ng://@generic-ui/ngx-list/composition/core/domain/column/active/active-column.container.ts","ng://@generic-ui/ngx-list/composition/core/domain/column/view.entity.ts","ng://@generic-ui/ngx-list/composition/core/domain/column/abstract-column.entity.ts","ng://@generic-ui/ngx-list/composition/core/domain/column/column.entity.ts","ng://@generic-ui/ngx-list/composition/core/domain/column/active/active-column.entity.ts","ng://@generic-ui/ngx-list/composition/core/domain/column/active/active-column.entity-converter.ts","ng://@generic-ui/ngx-list/composition/core/domain/column/move/left/composition.column-moved-left.event.ts","ng://@generic-ui/ngx-list/composition/core/domain/column/move/left/composition.column-moved-left.aggregate-event.ts","ng://@generic-ui/ngx-list/composition/core/domain/column/move/right/composition.column-moved-right.event.ts","ng://@generic-ui/ngx-list/composition/core/domain/column/move/right/composition.column-moved-right.aggregate-event.ts","ng://@generic-ui/ngx-list/composition/core/domain/column/set-columns/composition.columns-set.event.ts","ng://@generic-ui/ngx-list/composition/core/domain/column/set-columns/columns-set.aggregate-event.ts","ng://@generic-ui/ngx-list/composition/core/domain/create/composition-created.event.ts","ng://@generic-ui/ngx-list/composition/core/domain/create/composition-created.aggregate-event.ts","ng://@generic-ui/ngx-list/composition/core/api/group/group.ts","ng://@generic-ui/ngx-list/composition/core/api/group/group.id.ts","ng://@generic-ui/ngx-list/composition/core/domain/group/empty-group.ts","ng://@generic-ui/ngx-list/composition/core/domain/composition.aggregate.ts","ng://@generic-ui/ngx-list/composition/core/domain/column/presentation/column.presentation.ts","ng://@generic-ui/ngx-list/composition/core/domain/column/presentation/data-type/number-column.presentation.ts","ng://@generic-ui/ngx-list/composition/core/domain/column/presentation/data-type/boolean-column.presentation.ts","ng://@generic-ui/ngx-list/composition/core/domain/column/presentation/data-type/date-column.presentation.ts","ng://@generic-ui/ngx-list/composition/core/domain/column/presentation/data-type/string-column.presentation.ts","ng://@generic-ui/ngx-list/composition/core/domain/column/presentation/data-type/unknown-column.presentation.ts","ng://@generic-ui/ngx-list/composition/core/domain/column/presentation/column.presentation.converter.ts","ng://@generic-ui/ngx-list/composition/core/domain/column/column-entity.factory.ts","ng://@generic-ui/ngx-list/composition/core/domain/group/composition.group.factory.ts","ng://@generic-ui/ngx-list/composition/core/domain/composition.aggregate-factory.ts","ng://@generic-ui/ngx-list/composition/core/domain/composition.aggregate-repository.ts","ng://@generic-ui/ngx-list/composition/core/infrastructure/in-memory/in-memory.composition.store.ts","ng://@generic-ui/ngx-list/composition/core/infrastructure/in-memory/domain/in-memory.composition.aggregate-store.ts","ng://@generic-ui/ngx-list/composition/core/infrastructure/in-memory/domain/in-memory.composition.aggregate-repository.ts","ng://@generic-ui/ngx-list/composition/core/domain/create/create-composition.command-handler.ts","ng://@generic-ui/ngx-list/composition/core/domain/composition.events.ts","ng://@generic-ui/ngx-list/composition/core/domain/group/set-groups/composition.groups-set.event.ts","ng://@generic-ui/ngx-list/composition/core/domain/composition.event-converter.ts","ng://@generic-ui/ngx-list/composition/core/domain/column/set-columns/set-columns.command-handler.ts","ng://@generic-ui/ngx-list/composition/core/domain/width/set-width/set-composition-width.command-handler.ts","ng://@generic-ui/ngx-list/composition/core/domain/width/resize-width/set-composition-resize-width.command-handler.ts","ng://@generic-ui/ngx-list/composition/core/domain/width/set-container-width/set-composition-container-width.command-handler.ts","ng://@generic-ui/ngx-list/composition/core/domain/column/set-enabled/composition.set-column-enabled.command-handler.ts","ng://@generic-ui/ngx-list/composition/core/domain/column/sort/composition-change-sort-status.command-handler.ts","ng://@generic-ui/ngx-list/composition/core/domain/column/move/left/composition.move-left-column.command-handler.ts","ng://@generic-ui/ngx-list/composition/core/domain/column/move/right/composition.move-right-column.command-handler.ts","ng://@generic-ui/ngx-list/composition/core/domain/column/sort/change-sort.params.ts","ng://@generic-ui/ngx-list/composition/core/domain/column/sort/composition-change-sort-status.event-handler.ts","ng://@generic-ui/ngx-list/composition/core/domain-read/view/view-templates.component.ts","ng://@generic-ui/ngx-list/composition/core/domain-read/template/template.factory.ts","ng://@generic-ui/ngx-list/composition/core/domain-read/view/view-template.factory.ts","ng://@generic-ui/ngx-list/composition/core/domain-read/view/view-template.repository.ts","ng://@generic-ui/ngx-list/composition/core/domain-read/edit/edit-templates.component.ts","ng://@generic-ui/ngx-list/composition/core/domain-read/edit/edit-template.factory.ts","ng://@generic-ui/ngx-list/composition/core/domain-read/edit/edit-template.repository.ts","ng://@generic-ui/ngx-list/composition/core/domain-read/definition/cell-context.ts","ng://@generic-ui/ngx-list/composition/core/domain-read/definition/column-definition.ts","ng://@generic-ui/ngx-list/composition/core/domain-read/definition/column-definition.factory.ts","ng://@generic-ui/ngx-list/composition/core/domain-read/composition.read-mode-root.ts","ng://@generic-ui/ngx-list/composition/core/domain-read/composition.read-model-root-converter.ts","ng://@generic-ui/ngx-list/composition/core/infrastructure/in-memory/api/in-memory.composition.read-store.ts","ng://@generic-ui/ngx-list/composition/core/infrastructure/in-memory/api/in-memory.composition.repository.ts","ng://@generic-ui/ngx-list/composition/core/infrastructure/in-memory/in-memory.composition.providers.ts","ng://@generic-ui/ngx-list/composition/core/domain/group/set-groups/set-groups.command-handler.ts","ng://@generic-ui/ngx-list/composition/core/domain/composition.domain-module.ts","ng://@generic-ui/ngx-list/composition/core/domain/composition.domain-event-repository.ts","ng://@generic-ui/ngx-list/composition/core/api/composition.api-module.ts","ng://@generic-ui/ngx-list/common/cdk/sanitize/safe.pipe.ts","ng://@generic-ui/ngx-list/common/cdk/sanitize/sanitize.module.ts","ng://@generic-ui/ngx-list/composition/core/domain-read/edit/edit-communication.component.ts","ng://@generic-ui/ngx-list/composition/core/domain-read/edit/template/input-edit-template.component.ts","ng://@generic-ui/ngx-list/composition/core/domain-read/edit/template/string-edit-template.component.ts","ng://@generic-ui/ngx-list/composition/core/domain-read/edit/template/number-edit-template.component.ts","ng://@generic-ui/ngx-list/composition/core/domain-read/edit/template/boolean-edit-template.component.ts","ng://@generic-ui/ngx-list/composition/core/domain-read/edit/template/date-edit-template.component.ts","ng://@generic-ui/ngx-list/composition/feature/column/column-query.component.ts","ng://@generic-ui/ngx-list/composition/core/domain-read/view/function/function-view.component.ts","ng://@generic-ui/ngx-list/composition/core/domain-read/view/bar/bar-view.component.ts","ng://@generic-ui/ngx-list/composition/core/domain-read/view/percentage/percentage-view.component.ts","ng://@generic-ui/ngx-list/composition/core/domain-read/view/text/text-view.component.ts","ng://@generic-ui/ngx-list/composition/feature/composition.feature-module.ts","ng://@generic-ui/ngx-list/structure/grid/feature/header/group/structure-header-groups.component.ts","ng://@generic-ui/ngx-list/structure/grid/feature/gate/searching/structure-searching.gate.ts","ng://@generic-ui/ngx-list/structure/grid/feature/gate/column/header/structure-column-header.gate.ts","ng://@generic-ui/ngx-list/structure/grid/feature/gate/paging/structure-paging.gate.ts","ng://@generic-ui/ngx-list/structure/source/feature/gate/selection.gate.ts","ng://@generic-ui/ngx-list/structure/grid/feature/gate/source/structure-selection.gate.ts","ng://@generic-ui/ngx-list/structure/grid/feature/gate/l10n/structure-l10n.gate.ts","ng://@generic-ui/ngx-list/structure/grid/feature/gate/panel/structure-panel.gate.ts","ng://@generic-ui/ngx-list/structure/grid/feature/gate/row/detail/structure-row-detail.gate.ts","ng://@generic-ui/ngx-list/structure/grid/core/api/column-menu-config.ts","ng://@generic-ui/ngx-list/structure/grid/feature/gate/column/menu/structure-column-menu.gate.ts","ng://@generic-ui/ngx-list/structure/grid/feature/gate/summaries/structure-summaries.gate.ts","ng://@generic-ui/ngx-list/structure/grid/feature/gate/panel/info/structure-info-panel.gate.ts","ng://@generic-ui/ngx-list/structure/grid/feature/gate/row/class/structure-row-class.gate.ts","ng://@generic-ui/ngx-list/structure/grid/feature/gate/row/coloring/structure-row-coloring.gate.ts","ng://@generic-ui/ngx-list/structure/grid/feature/gate/row/style/structure-row-style.gate.ts","ng://@generic-ui/ngx-list/structure/grid/feature/gate/structure.gates.ts","ng://@generic-ui/ngx-list/structure/common/css-class/css-class.module.ts","ng://@generic-ui/ngx-list/structure/common/structure-shared.module.ts","ng://@generic-ui/ngx-list/structure/grid/core/api/structure.module.ts","ng://@generic-ui/ngx-list/gui/list/core/api/gui.list.module.ts"],"sourcesContent":["import { Component, ContentChild, TemplateRef } from '@angular/core';\n\n@Component({\n\tselector: 'gui-list-item',\n\ttemplate: ''\n})\nexport class GuiListItemComponent {\n\n\t@ContentChild(TemplateRef, { static: true })\n\ttemplateRef: TemplateRef<any>;\n\n}\n","export enum PagingDisplayMode {\n\tBASIC,\n\tADVANCED\n}\n","import { GuiListPaging } from '../../core/api/gui.list.public-api';\nimport { PagingConfig } from '../../../../structure/paging/core/api/paging-config';\nimport { PagingDisplayMode } from '../../../../structure/paging/feature/mode/paging-display-mode';\n\n\nexport class GuiListPagingConverter {\n\n\tconvert(guiListPaging: GuiListPaging): PagingConfig {\n\n\t\tconst pagingConfig: PagingConfig = {};\n\n\t\tif (guiListPaging.enabled !== undefined && guiListPaging.enabled !== null) {\n\t\t\tpagingConfig.enabled = guiListPaging.enabled;\n\t\t}\n\n\t\tif (guiListPaging.page !== undefined && guiListPaging.page !== null) {\n\t\t\tpagingConfig.page = guiListPaging.page;\n\t\t}\n\n\t\tif (guiListPaging.pageSize !== undefined && guiListPaging.pageSize !== null) {\n\t\t\tpagingConfig.pageSize = guiListPaging.pageSize;\n\t\t}\n\n\t\tif (guiListPaging.pageSizes !== undefined && guiListPaging.pageSizes !== null) {\n\t\t\tpagingConfig.pageSizes = guiListPaging.pageSizes;\n\t\t}\n\n\t\tif (guiListPaging.pagerTop !== undefined && guiListPaging.pagerTop !== null) {\n\t\t\tpagingConfig.pagerTop = guiListPaging.pagerTop;\n\t\t} else {\n\t\t\tpagingConfig.pagerTop = true;\n\t\t}\n\n\t\tif (guiListPaging.pagerBottom !== undefined && guiListPaging.pagerBottom !== null) {\n\t\t\tpagingConfig.pagerBottom = guiListPaging.pagerBottom;\n\t\t}\n\n\t\tpagingConfig.displayMode = PagingDisplayMode.BASIC;\n\n\t\treturn pagingConfig;\n\t}\n\n}\n","import { Component, ContentChild, TemplateRef } from '@angular/core';\n\n@Component({\n\tselector: 'gui-list-card',\n\ttemplate: ''\n})\nexport class GuiListCardComponent {\n\n\t@ContentChild(TemplateRef, { static: true })\n\ttemplateRef: TemplateRef<any>;\n\n}\n","export enum ListViewMode {\n\tLIST = 'List',\n\tCARD = 'Card'\n}\n","import { Translation } from '../../api/translation';\n\nexport const enTranslation: Translation = {\n\n\tsourceEmpty: 'There are no items to show.',\n\n\tpagingItemsPerPage: 'Items per page:',\n\tpagingOf: 'of',\n\tpagingNextPage: 'Next',\n\tpagingPrevPage: 'Prev',\n\tpagingNoItems: 'There is no items.',\n\n\tinfoPanelShowing: 'Showing',\n\tinfoPanelItems: 'items',\n\tinfoPanelOutOf: 'out of',\n\n\tinfoPanelThemeMangerTooltipText: 'Theme manager',\n\tinfoPanelColumnManagerTooltipText: 'Column manager',\n\tinfoPanelInfoTooltipText: 'info',\n\n\tthemeManagerModalTitle: 'Theme manager',\n\tthemeManagerModalTheme: 'Theme:',\n\tthemeManagerModalRowColoring: 'Row coloring:',\n\tthemeManagerModalVerticalGrid: 'Vertical grid',\n\tthemeManagerModalHorizontalGrid: 'HorizontalGrid',\n\n\tcolumnManagerModalTitle: 'Manage columns',\n\n\theaderMenuMainTab: 'Menu',\n\theaderMenuMainTabColumnSort: 'Column sort',\n\theaderMenuMainTabHideColumn: 'Hide column',\n\theaderMenuMainTabMoveLeft: 'Move left',\n\theaderMenuMainTabMoveRight: 'Move right',\n\theaderMenuMainTabColumnSortAscending: 'Ascending',\n\theaderMenuMainTabColumnSortDescending: 'Descending',\n\theaderMenuMainTabColumnSortNone: 'None',\n\theaderMenuFilterTab: 'Filter',\n\theaderMenuColumnsTab: 'Columns',\n\n\tsummariesCount: 'Count',\n\tsummariesDist: 'Dist',\n\tsummariesSum: 'Sum',\n\tsummariesAvg: 'Avg',\n\tsummariesMin: 'Min',\n\tsummariesMax: 'Max',\n\tsummariesMed: 'Med',\n\tsummariesTruthy: 'Truthy',\n\tsummariesFalsy: 'Falsy',\n\tsummariesDistinctValuesTooltip: 'Distinct values',\n\tsummariesAverageTooltip: 'Average',\n\tsummariesMinTooltip: 'Min',\n\tsummariesMaxTooltip: 'Max',\n\tsummariesMedTooltip: 'Median',\n\tsummariesCountTooltip: 'Number of items in the grid'\n};\n","import { enTranslation } from '../domain/lang/en';\n\nexport const defaultTranslation = enTranslation;\n","import { TranslationChange } from '../../../../l10n/core/api/translation-change';\nimport { defaultTranslation } from '../../../../l10n/core/api/default-translation';\n\nexport interface GuiListPaging {\n\n\tenabled?: boolean;\n\n\tpage?: number;\n\n\tpageSize?: number;\n\n\tpageSizes?: Array<number>;\n\n\tpagerTop?: boolean;\n\n\tpagerBottom?: boolean;\n\n}\n\nexport enum GuiListMode {\n\tLIST,\n\tCARD\n}\n\nexport interface GuiListView {\n\n\tactive?: GuiListMode;\n\n\tselector?: boolean;\n\n}\n\nexport interface GuiListField {\n\n\tfield?: string;\n\n\ttype?: GuiListFieldType;\n\n}\n\nexport enum GuiListFieldType {\n\tUNKNOWN,\n\tNUMBER,\n\tSTRING,\n\tBOOLEAN,\n\tDATE,\n\tCUSTOM\n}\n\nexport interface GuiListSearching {\n\n\tenabled?: boolean;\n\n\tplaceholder?: string;\n\n\tphrase?: string;\n\n}\n\nexport interface GuiListLocalization {\n\n\ttranslation?: GuiListTranslation;\n\n\ttranslationResolver?: (key: string, value: string) => string;\n\n}\n\nexport type GuiListTranslation = TranslationChange;\n\nexport const GuiListDefaultTranslation = defaultTranslation;\n","import { ListViewMode } from '../../../../structure/list/core/domain/mode/list-view-mode';\nimport { GuiListMode } from '../../core/api/gui.list.public-api';\n\nexport class GuiListModeConverter {\n\n\tconvert(mode: GuiListMode): ListViewMode {\n\n\t\tif (mode === GuiListMode.LIST) {\n\t\t\treturn ListViewMode.LIST;\n\t\t} else {\n\t\t\treturn ListViewMode.CARD;\n\t\t}\n\t}\n}\n","import { TemplateRef } from '@angular/core';\n\nexport class ListViewCardTemplate {\n\n\tconstructor(private readonly template: (item: any) => string,\n\t\t\t\tprivate readonly templRef: TemplateRef<any>) {\n\t}\n\n\thasTemplateRef(): boolean {\n\t\treturn !!this.templRef;\n\t}\n\n\tgetTemplateRef(): TemplateRef<any> {\n\t\treturn this.templRef;\n\t}\n\n\tgetTemplateMethod(): (item: any) => string {\n\t\treturn this.template;\n\t}\n}\n","import { TemplateRef } from '@angular/core';\n\nexport class ListViewTemplate {\n\n\tconstructor(private readonly template: (item: any) => string,\n\t\t\t\tprivate readonly templRef: TemplateRef<any>) {\n\t}\n\n\thasTemplateRef(): boolean {\n\t\treturn !!this.templRef;\n\t}\n\n\tgetTemplateRef(): TemplateRef<any> {\n\t\treturn this.templRef;\n\t}\n\n\tgetTemplateMethod(): (item: any) => string {\n\t\treturn this.template;\n\t}\n}\n","import { ContentChild, EventEmitter, Input, OnChanges, Output } from '@angular/core';\n\nimport { GuiListItemComponent } from './item/gui.list-item.component';\n\nimport { GuiListField, GuiListLocalization, GuiListPaging, GuiListSearching, GuiListView } from '../core/api/gui.list.public-api';\nimport { GuiListPagingConverter } from './paging/gui-list.paging.converter';\nimport { GuiListCardComponent } from './card/gui.list-card.component';\nimport { GuiListModeConverter } from './mode/gui-list.mode.converter';\n\nimport { ListViewCardTemplate } from '../../../structure/list/feature/card/template/list-view.card-template';\nimport { ListViewTemplate } from '../../../structure/list/feature/source/template/list-view-template';\nimport { ListViewMode } from '../../../structure/list/core/domain/mode/list-view-mode';\nimport { FieldConfig } from '../../../structure/field/core/api/field.config';\nimport { SearchConfig } from '../../../structure/search/core/api/search-config';\nimport { NgChanges } from '../../../common/cdk/component/ng-changes';\n\n\nexport abstract class GuiListGateway implements OnChanges {\n\n\t@ContentChild(GuiListItemComponent, { static: true })\n\tlistItem: GuiListItemComponent;\n\n\t@ContentChild(GuiListCardComponent, { static: true })\n\tlistCard: GuiListCardComponent;\n\n\t@Input()\n\tsource: Array<any>;\n\n\t@Input()\n\ttemplate: (item: any) => string;\n\n\t@Input()\n\tcardTemplate: (item: any) => string;\n\n\t@Input()\n\tpaging: boolean | GuiListPaging;\n\n\t@Input()\n\tview: GuiListView;\n\n\t@Input()\n\tfields: Array<GuiListField>;\n\n\t@Input()\n\tsearching: GuiListSearching;\n\n\t@Input()\n\tlocalization: GuiListLocalization;\n\n\t@Output()\n\tpageChanged: EventEmitter<number> = new EventEmitter<number>();\n\n\t@Output()\n\tpageSizeChanged: EventEmitter<number> = new EventEmitter<number>();\n\n\t@Output()\n\tsearchPhraseChanged: EventEmitter<string> = new EventEmitter<string>();\n\n\tcontainerTemplate: ListViewTemplate;\n\n\tlistCardTemplate: ListViewCardTemplate;\n\n\tlistViewMode: ListViewMode;\n\n\tlistViewModeSelector: boolean;\n\n\tguiListPagingConverter: GuiListPagingConverter = new GuiListPagingConverter();\n\n\tguiListModeConverter: GuiListModeConverter = new GuiListModeConverter();\n\n\tlistFields: Array<FieldConfig>;\n\n\tsearchConfig: SearchConfig;\n\n\tngOnChanges(changes: NgChanges<GuiListGateway>) {\n\n\t\tconst templateRef = this.listItem ? this.listItem.templateRef : null;\n\n\t\tthis.containerTemplate = new ListViewTemplate(this.template, templateRef);\n\n\t\tconst cardTemplateRef = this.listCard ? this.listCard.templateRef : null;\n\n\t\tthis.listCardTemplate = new ListViewCardTemplate(this.cardTemplate, cardTemplateRef);\n\n\t\tif (changes.paging !== undefined && changes.paging.currentValue !== undefined) {\n\n\t\t\tif (typeof this.paging !== 'boolean') {\n\t\t\t\tthis.paging = this.guiListPagingConverter.convert(this.paging);\n\t\t\t}\n\t\t}\n\n\t\tif (changes.view !== undefined && changes.view.currentValue !== undefined) {\n\n\t\t\tif (this.view.active !== undefined) {\n\t\t\t\tthis.listViewMode = this.guiListModeConverter.convert(this.view.active);\n\t\t\t}\n\n\t\t\tif (this.view.selector !== undefined) {\n\t\t\t\tthis.listViewModeSelector = this.view.selector;\n\t\t\t}\n\n\t\t}\n\n\t\tif (changes.fields !== undefined && changes.fields.currentValue !== undefined) {\n\n\t\t\tthis.listFields = this.fields.map((f) => {\n\t\t\t\treturn {\n\t\t\t\t\tfield: f.field,\n\t\t\t\t\ttype: f.type as any // DataType\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\n\t\tif (changes.searching !== undefined && changes.searching.currentValue !== undefined) {\n\n\t\t\tthis.searchConfig = this.searching as SearchConfig;\n\t\t}\n\n\t}\n\n}\n","import { Provider } from '@angular/core';\n\nexport const guiListProviders = [] as Array<Provider>;\n","import { Component, Inject, PLATFORM_ID, ViewEncapsulation } from '@angular/core';\n\nimport { GuiListGateway } from './gui.list.gateway';\nimport { guiListProviders } from './gui.list.providers';\n\n\n@Component({\n\tselector: 'gui-list',\n\ttemplateUrl: './gui.list.component.html',\n\tstyleUrls: [\n\t\t'./gui.list.ngx.scss'\n\t],\n\tproviders: [\n\t\t...guiListProviders\n\t],\n\thost: {\n\t\t'[class.gui-list]': '\"true\"'\n\t},\n\tencapsulation: ViewEncapsulation.None\n})\nexport class GuiListComponent extends GuiListGateway {\n\n\tconstructor(@Inject(PLATFORM_ID) private platformId: any) {\n\t\tsuper();\n\t}\n\n\tonPageChange(page: number): void {\n\t\tthis.pageChanged.emit(page);\n\t}\n\n\tonPageSizeChange(pageSize: number): void {\n\t\tthis.pageSizeChanged.emit(pageSize);\n\t}\n\n\tonSearchPhraseChange(phrase: string): void {\n\t\tthis.searchPhraseChanged.emit(phrase);\n\t}\n\n}\n","import { AggregateId, ReadModelRootId } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../core/domain/structure.id';\n\n\nexport class StructureReadModelRootId extends ReadModelRootId {\n\n\tconstructor(id: string) {\n\t\tsuper(id);\n\t}\n\n\ttoAggregateId(): AggregateId {\n\t\treturn new StructureId(this.toString());\n\t}\n}\n","import { AggregateId } from '@generic-ui/hermes';\n\nimport { StructureReadModelRootId } from '../../grid/core/api/read/structure.read-model-root-id';\n\n\nexport class StructureId extends AggregateId {\n\n\tconstructor(id: string) {\n\t\tsuper(id);\n\t}\n\n\ttoReadModelRootId(): StructureReadModelRootId {\n\t\treturn new StructureReadModelRootId(this.getId());\n\t}\n\n}\n","export class StructureIdGenerator {\n\n\tprivate increment = 0;\n\n\tgenerateId(): number {\n\t\tthis.increment++;\n\t\treturn this.increment;\n\t}\n\n}\n","export abstract class GenericBuilder<T> {\n\n\tprotected abstract buildObject(): T;\n\n\tbuild(): T {\n\t\treturn this.buildObject();\n\t}\n\n}\n","import { GenericBuilder } from '../../../common/cdk/generic-builder';\n\nexport class StructurePagingDefinitionBuilder extends GenericBuilder<PagingDefinition> {\n\n\tprivate enabled: boolean;\n\n\tconstructor(enabled: boolean) {\n\t\tsuper();\n\t\tthis.enabled = enabled;\n\t}\n\n\tprotected buildObject(): PagingDefinition {\n\t\treturn new PagingDefinition(this.enabled);\n\t}\n\n\twithEnabled(enabled: boolean): StructurePagingDefinitionBuilder {\n\t\tthis.enabled = enabled;\n\t\treturn this;\n\t}\n}\n\nexport class StructurePagingDefinitionDefaultBuilder extends StructurePagingDefinitionBuilder {\n\n\tprivate static readonly defaultEnabled = true;\n\n\tconstructor() {\n\t\tsuper(StructurePagingDefinitionDefaultBuilder.defaultEnabled);\n\t}\n}\n\nexport class PagingDefinition {\n\n\tprivate readonly enabled: boolean;\n\n\tconstructor(enabled: boolean) {\n\t\tthis.enabled = enabled;\n\t}\n\n\tstatic Builder = StructurePagingDefinitionBuilder;\n\n\tstatic DefaultBuilder = StructurePagingDefinitionDefaultBuilder;\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n}\n","import { GenericBuilder } from '../../../common/cdk/generic-builder';\nimport { PagingDefinition } from '../../paging/feature/paging-definition';\n\nexport class StructureDefinitionBuilder extends GenericBuilder<StructureDefinition> {\n\n\tprivate border: boolean = true;\n\n\tconstructor(private headerEnabled: boolean,\n\t\t\t\tprivate bottomPaging: PagingDefinition,\n\t\t\t\tprivate topPaging: PagingDefinition) {\n\t\tsuper();\n\t}\n\n\tprotected buildObject(): StructureDefinition {\n\t\treturn new StructureDefinition(\n\t\t\tthis.headerEnabled,\n\t\t\tthis.bottomPaging,\n\t\t\tthis.topPaging,\n\t\t\tthis.border\n\t\t);\n\t}\n\n\twithHeader(enabled: boolean): StructureDefinitionBuilder {\n\t\tthis.headerEnabled = enabled;\n\t\treturn this;\n\t}\n\n\twithBottomPaging(paging: PagingDefinition): StructureDefinitionBuilder {\n\t\tthis.bottomPaging = paging;\n\t\treturn this;\n\t}\n\n\twithTopPaging(paging: PagingDefinition): StructureDefinitionBuilder {\n\t\tthis.topPaging = paging;\n\t\treturn this;\n\t}\n\n\twithBorder(enabled: boolean): StructureDefinitionBuilder {\n\t\tthis.border = enabled;\n\t\treturn this;\n\t}\n\n}\n\nexport class StructureDefinitionDefaultBuilder extends StructureDefinitionBuilder {\n\n\tprivate static readonly defaultHeaderEnabled: boolean = true;\n\tprivate static readonly defaultBottomPaging: PagingDefinition = new PagingDefinition.DefaultBuilder().build();\n\tprivate static readonly defaultTopPaging: PagingDefinition = new PagingDefinition.DefaultBuilder().build();\n\n\tconstructor() {\n\t\tsuper(\n\t\t\tStructureDefinitionDefaultBuilder.defaultHeaderEnabled,\n\t\t\tStructureDefinitionDefaultBuilder.defaultBottomPaging,\n\t\t\tStructureDefinitionDefaultBuilder.defaultTopPaging\n\t\t);\n\t}\n}\n\nexport class StructureDefinition {\n\n\tprivate readonly headerEnabled: boolean;\n\n\tprivate readonly bottomPaging: PagingDefinition;\n\n\tprivate readonly topPaging: PagingDefinition;\n\n\tprivate readonly border: boolean;\n\n\tconstructor(headerEnabled: boolean,\n\t\t\t\tbottomPaging: PagingDefinition,\n\t\t\t\ttopPaging: PagingDefinition,\n\t\t\t\tborder: boolean) {\n\t\tthis.headerEnabled = headerEnabled;\n\t\tthis.bottomPaging = bottomPaging;\n\t\tthis.topPaging = topPaging;\n\t\tthis.border = border;\n\t}\n\n\tstatic Builder = StructureDefinitionBuilder;\n\n\tstatic DefaultBuilder = StructureDefinitionDefaultBuilder;\n\n\tisHeaderEnabled(): boolean {\n\t\treturn this.headerEnabled;\n\t}\n\n\tisBorderEnabled(): boolean {\n\t\treturn this.border;\n\t}\n\n\tgetBottomPaging(): PagingDefinition {\n\t\treturn this.bottomPaging;\n\t}\n\n\tgetTopPaging(): PagingDefinition {\n\t\treturn this.topPaging;\n\t}\n\n}\n","import { ReadModelRootId } from '@generic-ui/hermes';\n\nimport { CompositionId } from '../domain/composition.id';\n\nexport class CompositionReadModelRootId extends ReadModelRootId {\n\n\tconstructor(id: string) {\n\t\tsuper(id);\n\t}\n\n\ttoAggregateId(): CompositionId {\n\t\treturn new CompositionId(this.toString());\n\t}\n}\n","import { AggregateId, ReadModelRootId } from '@generic-ui/hermes';\nimport { CompositionReadModelRootId } from '../api/composition.read-model-root-id';\n\nexport class CompositionId extends AggregateId {\n\n\tconstructor(id: string) {\n\t\tsuper(id);\n\t}\n\n\ttoReadModelRootId(): ReadModelRootId {\n\t\treturn new CompositionReadModelRootId(this.getId());\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandInvoker } from '@generic-ui/hermes';\nimport { CompositionId } from '../domain/composition.id';\nimport { ColumnParams } from '../domain/column/set-columns/column.params';\nimport { ColumnDefinitionId } from '../domain-read/definition/column-definition-id';\n\n\n@Injectable()\nexport abstract class CompositionCommandInvoker implements CommandInvoker {\n\n\tprotected constructor() {\n\t}\n\n\tabstract create(compositionId?: CompositionId): void;\n\n\tabstract setColumns(params: Array<ColumnParams>, compositionId?: CompositionId): void;\n\n\tabstract setGroups(configs: any, compositionId?: CompositionId): void;\n\n\tabstract setWidth(width: number, compositionId?: CompositionId): void;\n\n\tabstract setContainerWidth(width: number, compositionId?: CompositionId): void;\n\n\tabstract setResizeWidth(enabled: boolean, compositionId?: CompositionId): void;\n\n\tabstract enableColumn(columnDefinitionId: ColumnDefinitionId, compositionId?: CompositionId): void;\n\n\tabstract disableColumn(columnDefinitionId: ColumnDefinitionId, compositionId?: CompositionId): void;\n\n\tabstract moveLeft(columnDefinitionId: ColumnDefinitionId, compositionId?: CompositionId): void;\n\n\tabstract moveRight(columnDefinitionId: ColumnDefinitionId, compositionId?: CompositionId): void;\n}\n","import { Command } from '@generic-ui/hermes';\nimport { StructureId } from './structure.id';\n\nexport class StructureCommand extends Command<StructureId> {\n}\n","import { StructureId } from '../../../../core/domain/structure.id';\nimport { PagingConfig } from '../../api/paging-config';\nimport { StructureCommand } from '../../../../core/domain/structure.command';\n\nexport class SetPagingCommand extends StructureCommand {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly config: PagingConfig) {\n\t\tsuper(structureId, 'SetPagingCommand');\n\t}\n\n\tgetPagingConfig(): PagingConfig {\n\t\treturn this.config;\n\t}\n\n}\n","import { StructureId } from '../../../../core/domain/structure.id';\nimport { StructureCommand } from '../../../../core/domain/structure.command';\n\nexport class ChangePagesizeCommand extends StructureCommand {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly pageSize: number) {\n\t\tsuper(structureId, 'ChangePagesizeCommand');\n\t}\n\n\tgetPageSize(): number {\n\t\treturn this.pageSize;\n\t}\n}\n","import { StructureId } from '../../../../core/domain/structure.id';\nimport { StructureCommand } from '../../../../core/domain/structure.command';\n\nexport class NextPageCommand extends StructureCommand {\n\n\tconstructor(structureId: StructureId) {\n\t\tsuper(structureId, 'NextPageCommand');\n\t}\n\n}\n","import { StructureId } from '../../../../core/domain/structure.id';\nimport { StructureCommand } from '../../../../core/domain/structure.command';\n\nexport class PrevPageCommand extends StructureCommand {\n\n\tconstructor(structureId: StructureId) {\n\t\tsuper(structureId, 'PrevPageCommand');\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandDispatcher } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../core/domain/structure.id';\nimport { PagingConfig } from '../api/paging-config';\nimport { SetPagingCommand } from './set/set-paging.command';\nimport { ChangePagesizeCommand } from './change-pagesize/change-pagesize.command';\nimport { NextPageCommand } from './next-page/next-page.command';\nimport { PrevPageCommand } from './prev-page/prev-page.command';\n\n\n@Injectable()\nexport class PagingDispatcher {\n\n\tconstructor(private commandDispatcher: CommandDispatcher) {\n\t}\n\n\tsetPaging(structureId: StructureId, paging: PagingConfig): void {\n\t\tthis.commandDispatcher.dispatch(new SetPagingCommand(structureId, paging));\n\t}\n\n\tchangePageSize(structureId: StructureId, pageSize: number): void {\n\t\tthis.commandDispatcher.dispatch(new ChangePagesizeCommand(structureId, pageSize));\n\t}\n\n\tnextPage(structureId: StructureId): void {\n\t\tthis.commandDispatcher.dispatch(new NextPageCommand(structureId));\n\t}\n\n\tprevPage(structureId: StructureId): void {\n\t\tthis.commandDispatcher.dispatch(new PrevPageCommand(structureId));\n\t}\n}\n","import { StructureId } from '../domain/structure.id';\n\nexport const structureGlobalId = new StructureId('-1');\n","import { Injectable } from '@angular/core';\n\nimport { CommandInvoker } from '@generic-ui/hermes';\n\nimport { PagingDispatcher } from '../domain/paging.dispatcher';\nimport { StructureId } from '../../../core/domain/structure.id';\nimport { structureGlobalId } from '../../../core/api/structure.global-id';\nimport { PagingConfig } from './paging-config';\n\n\n@Injectable()\nexport class PagingCommandInvoker implements CommandInvoker {\n\n\tconstructor(private pagingDispatcher: PagingDispatcher) {\n\t}\n\n\tenable(structureId: StructureId = structureGlobalId): void {\n\t\tthis.pagingDispatcher.setPaging(structureId, { enabled: true });\n\t}\n\n\tdisable(structureId: StructureId = structureGlobalId): void {\n\t\tthis.pagingDispatcher.setPaging(structureId, { enabled: false });\n\t}\n\n\tsetPaging(paging: PagingConfig, structureId: StructureId = structureGlobalId): void {\n\t\tthis.pagingDispatcher.setPaging(structureId, paging);\n\t}\n\n\tchangePageSize(pageSize: number, structureId: StructureId = structureGlobalId): void {\n\t\tthis.pagingDispatcher.changePageSize(structureId, pageSize);\n\t}\n\n\tnextPage(structureId: StructureId = structureGlobalId): void {\n\t\tthis.pagingDispatcher.nextPage(structureId);\n\t}\n\n\tprevPage(structureId: StructureId = structureGlobalId): void {\n\t\tthis.pagingDispatcher.prevPage(structureId);\n\t}\n\n\tgoToPage(pageNumber: number, currentPage: number) {\n\n\t\tif (currentPage < pageNumber) {\n\t\t\twhile (currentPage !== pageNumber) {\n\t\t\t\tthis.nextPage();\n\t\t\t\tcurrentPage += 1;\n\t\t\t}\n\t\t} else {\n\t\t\twhile (currentPage !== pageNumber) {\n\t\t\t\tthis.prevPage();\n\t\t\t\tcurrentPage -= 1;\n\t\t\t}\n\t\t}\n\t}\n\n\tchangePagerTop(enabled: boolean, structureId: StructureId = structureGlobalId): void {\n\t\tthis.pagingDispatcher.setPaging(structureId, { pagerTop: enabled });\n\t}\n\n\tchangePagerBottom(enabled: boolean, structureId: StructureId = structureGlobalId): void {\n\t\tthis.pagingDispatcher.setPaging(structureId, { pagerBottom: enabled });\n\t}\n}\n","/**\n * Override decorator\n *\n * class Car {\n *     drive() {}\n * }\n *\n * class FastCar {\n *     @Override\n *     drive() {}}\n * }\n */\nexport function Override(container: { [key: string]: any }, key: string) {\n\tconst basePrototype = Object.getPrototypeOf(container);\n\tif (typeof basePrototype[key] !== 'function') {\n\t\tthrow new Error('Method \"' + key + '\" of class \"' + container.constructor.name + '\" doesn\\'t override any method of base class.');\n\t}\n}\n","export abstract class Logger {\n\n\tabstract warn(text: string): void;\n\n\tabstract error(text: string): void;\n\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from './structure.id';\n\nexport class StructureDomainEvent extends DomainEvent<StructureId> {\n}\n","import { StructureId } from '../../../../core/domain/structure.id';\nimport { StructureDomainEvent } from '../../../../core/domain/structure.domain-event';\n\nexport class PageChangedEvent extends StructureDomainEvent {\n\n\tconstructor(aggregateId: StructureId) {\n\t\tsuper(aggregateId, null, 'PageChangedEvent');\n\t}\n}\n","import { AggregateEvent } from '@generic-ui/hermes';\nimport { StructureId } from './structure.id';\n\nexport abstract class StructureAggregateEvent extends AggregateEvent<StructureId> {\n}\n","import { DomainEvent } from '@generic-ui/hermes';\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { PageChangedEvent } from './page-changed.event';\nimport { StructureAggregateEvent } from '../../../../core/domain/structure.aggregate-event';\n\n\nexport class PageChangedAggregateEvent extends StructureAggregateEvent {\n\n\tconstructor(structureId: StructureId) {\n\t\tsuper(structureId, 'PageChangedAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<StructureId> {\n\t\treturn new PageChangedEvent(this.getAggregateId());\n\t}\n\n}\n","import { StructureId } from '../../../../core/domain/structure.id';\nimport { StructureDomainEvent } from '../../../../core/domain/structure.domain-event';\n\nexport class PagesizeChangedEvent extends StructureDomainEvent {\n\n\tconstructor(aggregateId: StructureId) {\n\t\tsuper(aggregateId, null, 'PagesizeChangedEvent');\n\t}\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { PagesizeChangedEvent } from '../change-pagesize/pagesize-changed.event';\nimport { StructureAggregateEvent } from '../../../../core/domain/structure.aggregate-event';\n\n\nexport class PagesizeChangedAggregateEvent extends StructureAggregateEvent {\n\n\tconstructor(structureId: StructureId) {\n\t\tsuper(structureId, 'PagesizeChangedAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<StructureId> {\n\t\treturn new PagesizeChangedEvent(this.getAggregateId());\n\t}\n\n}\n","import { AggregateEvent } from '@generic-ui/hermes';\n\nimport { Logger } from '../../../../common/cdk/logger/logger';\n\nimport { PagingConfigWithId } from './paging-config-with-id';\nimport { PagingConfig } from '../api/paging-config';\nimport { PageChangedAggregateEvent } from './page/page-changed.aggregate-event';\nimport { StructureId } from '../../../core/domain/structure.id';\nimport { PagesizeChangedAggregateEvent } from './pagesize/pagesize-changed.aggregate-event';\n\n\nexport class PagingManager {\n\n\t// TODO\n\tprivate readonly events: Array<AggregateEvent<StructureId>> = [];\n\n\t// TODO Remove\n\tstatic default(logger: Logger) {\n\t\treturn new PagingManager(\n\t\t\tfalse,\n\t\t\t1,\n\t\t\t25,\n\t\t\t[10, 25, 50, 100],\n\t\t\tfalse,\n\t\t\ttrue,\n\t\t\t0,\n\t\t\tlogger\n\t\t);\n\t}\n\n\tprivate readonly logger: Logger;\n\n\tprivate constructor(private enabled: boolean,\n\t\t\t\t\t\tprivate page: number,\n\t\t\t\t\t\tprivate pageSize: number,\n\t\t\t\t\t\tprivate pageSizes: Array<number>,\n\t\t\t\t\t\tprivate pagerTop: boolean,\n\t\t\t\t\t\tprivate pagerBottom: boolean,\n\t\t\t\t\t\tprivate sourceSize: number,\n\t\t\t\t\t\tlogger: Logger) {\n\t\tthis.logger = logger;\n\t}\n\n\t// TODO Remove\n\tstatic fromConfig(paging: PagingConfigWithId, logger: Logger): PagingManager {\n\n\t\tconst defaultPagingDefinition = PagingManager.default(logger),\n\t\t\tenabled = paging.enabled || defaultPagingDefinition.isEnabled(),\n\t\t\tpage = paging.page || defaultPagingDefinition.getPage(),\n\t\t\tpageSize = paging.pageSize || defaultPagingDefinition.getPageSize(),\n\t\t\tpageSizes = paging.pageSizes || defaultPagingDefinition.getPageSizes(),\n\t\t\tpagerTop = paging.pagerTop || defaultPagingDefinition.isPagerTop(),\n\t\t\tpagerBottom = paging.pagerBottom || defaultPagingDefinition.isPagerBottom();\n\n\t\treturn new PagingManager(\n\t\t\tenabled,\n\t\t\tpage,\n\t\t\tpageSize,\n\t\t\tpageSizes,\n\t\t\tpagerTop,\n\t\t\tpagerBottom,\n\t\t\t0,\n\t\t\tlogger\n\t\t);\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n\tisDisabled(): boolean {\n\t\treturn !this.enabled;\n\t}\n\n\tgetPage(): number {\n\t\treturn this.page;\n\t}\n\n\tgetPageSize(): number {\n\t\treturn this.pageSize;\n\t}\n\n\tgetPageSizes(): Array<number> {\n\t\treturn this.pageSizes;\n\t}\n\n\tisPagerTop(): boolean {\n\t\tif (this.isDisabled()) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn this.pagerTop;\n\t}\n\n\tisPagerBottom(): boolean {\n\t\tif (this.isDisabled()) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn this.pagerBottom;\n\t}\n\n\tgetSourceSize(): number {\n\t\treturn this.sourceSize;\n\t}\n\n\tchange(pagingConfig: PagingConfig): void {\n\n\t\tif (pagingConfig.enabled !== undefined) {\n\t\t\tthis.enabled = pagingConfig.enabled;\n\t\t}\n\n\t\tif (pagingConfig.page !== undefined) {\n\t\t\tthis.page = pagingConfig.page;\n\n\t\t\tif (pagingConfig.enabled === undefined) {\n\t\t\t\tthis.enabled = true;\n\t\t\t}\n\t\t}\n\n\t\tif (pagingConfig.pageSize !== undefined) {\n\t\t\tthis.pageSize = pagingConfig.pageSize;\n\n\t\t\tif (pagingConfig.enabled === undefined) {\n\t\t\t\tthis.enabled = true;\n\t\t\t}\n\t\t}\n\n\t\tif (pagingConfig.pageSizes !== undefined) {\n\t\t\tthis.pageSizes = pagingConfig.pageSizes;\n\n\t\t\tif (pagingConfig.enabled === undefined) {\n\t\t\t\tthis.enabled = true;\n\t\t\t}\n\t\t}\n\n\t\tif (pagingConfig.pagerTop !== undefined) {\n\t\t\tthis.pagerTop = pagingConfig.pagerTop;\n\n\t\t\tif (pagingConfig.enabled === undefined) {\n\t\t\t\tthis.enabled = true;\n\t\t\t}\n\t\t}\n\n\t\tif (pagingConfig.pagerBottom !== undefined) {\n\t\t\tthis.pagerBottom = pagingConfig.pagerBottom;\n\n\t\t\tif (pagingConfig.enabled === undefined) {\n\t\t\t\tthis.enabled = true;\n\t\t\t}\n\t\t}\n\n\t\tif (this.enabled === true &&\n\t\t\tpagingConfig.pagerTop === false &&\n\t\t\tpagingConfig.pagerBottom === false) {\n\t\t\tthis.pagerBottom = true;\n\n\t\t\tthis.logger.warn('Pagers cannot be turn off when paging is enabled.');\n\t\t}\n\n\t}\n\n\tsetSourceSize(size: number): void {\n\t\tthis.sourceSize = size;\n\t}\n\n\tnextPage(): void {\n\t\tlet nextPage = this.page;\n\n\t\tif (!this.isNextPageDisabled()) {\n\t\t\tnextPage += 1;\n\t\t}\n\n\t\tthis.page = nextPage;\n\t}\n\n\tprevPage(): void {\n\t\tlet prevPage = this.page;\n\n\t\tif (!this.isPrevPageDisabled()) {\n\t\t\tprevPage -= 1;\n\t\t}\n\n\t\tthis.page = prevPage;\n\t}\n\n\tchangePageSize(pageSize: number): ReadonlyArray<AggregateEvent<StructureId>> {\n\n\t\tif (this.pageSizes.find((ps: number) => ps === pageSize)) {\n\n\t\t\tthis.setPage(1);\n\t\t\tthis.setPageSize(pageSize);\n\t\t}\n\n\t\treturn this.events;\n\t}\n\n\tisNextPageDisabled(): boolean {\n\n\t\tif (this.sourceSize === 0) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn this.page === Math.ceil(this.sourceSize / this.pageSize);\n\t}\n\n\tisPrevPageDisabled(): boolean {\n\t\treturn this.page === 1;\n\t}\n\n\tcalculateStart(): number {\n\n\t\tconst firstItem = 1 + ((this.page - 1) * this.pageSize);\n\n\t\tif (this.sourceSize < firstItem) {\n\t\t\treturn 0;\n\t\t}\n\n\t\treturn firstItem;\n\t}\n\n\tcalculateEnd(): number {\n\n\t\tconst lastItem = this.page * this.pageSize;\n\n\t\tif (this.sourceSize < lastItem) {\n\t\t\treturn this.sourceSize;\n\t\t}\n\n\t\treturn lastItem;\n\t}\n\n\tsample(source: Array<any>): Array<any> {\n\n\t\tif (this.isDisabled()) {\n\t\t\treturn source;\n\t\t}\n\n\t\tlet start = this.calculateStart();\n\n\t\tif (start !== 0) {\n\t\t\tstart -= 1;\n\t\t}\n\n\t\treturn source.slice(start, this.calculateEnd());\n\t}\n\n\tclearEvents(): void {\n\t\tthis.events.length = 0;\n\t}\n\n\tprivate setPage(page: number): void {\n\t\tthis.page = page;\n\t\tthis.events.push(new PageChangedAggregateEvent(new StructureId('TODO need to be changed')));\n\t}\n\n\tprivate setPageSize(pageSize: number): void {\n\t\tthis.pageSize = pageSize;\n\t\tthis.events.push(new PagesizeChangedAggregateEvent(new StructureId('TODO need to be changed')));\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { Logger } from '../../../../common/cdk/logger/logger';\n\nimport { PagingManager } from './paging.manager';\nimport { PagingConfigWithId } from './paging-config-with-id';\n\n\n@Injectable()\nexport class PagingManagerFactory {\n\n\tconstructor(private logger: Logger) {\n\t}\n\n\tcreateDefault(): PagingManager {\n\t\treturn PagingManager.default(this.logger);\n\t}\n\n\tcreateFromConfig(config: PagingConfigWithId): PagingManager {\n\t\treturn PagingManager.fromConfig(config, this.logger);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { Override } from '../../../../../common/cdk/decorators';\n\nimport { PagingCommandInvoker } from '../../../../paging/core/api/paging.command-invoker';\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { PagingManagerFactory } from '../../../../paging/core/domain/paging.manager-factory';\nimport { PagingDispatcher } from '../../../../paging/core/domain/paging.dispatcher';\nimport { PagingConfig } from '../../../../paging/core/api/paging-config';\n\n\n@Injectable()\nexport class LocalPagingCommandDispatcher extends PagingCommandInvoker {\n\n\tconstructor(private structureId: StructureId,\n\t\t\t\tprivate aggregateFactory: PagingManagerFactory,\n\t\t\t\tpagingDispatcher: PagingDispatcher) {\n\t\tsuper(pagingDispatcher);\n\t}\n\n\tsetDefaultPaging(): void {\n\n\t\tconst defaultPaggingAggregate = this.aggregateFactory.createDefault();\n\n\t\tsuper.setPaging({\n\t\t\tpage: defaultPaggingAggregate.getPage(),\n\t\t\tpageSize: defaultPaggingAggregate.getPageSize(),\n\t\t\tpageSizes: defaultPaggingAggregate.getPageSizes()\n\t\t}, this.structureId);\n\t}\n\n\t@Override\n\tsetPaging(paging: PagingConfig): void {\n\t\tsuper.setPaging(paging, this.structureId);\n\t}\n\n\t@Override\n\tchangePageSize(pageSize: number): void {\n\t\tsuper.changePageSize(pageSize, this.structureId);\n\t}\n\n\t@Override\n\tnextPage(): void {\n\t\tsuper.nextPage(this.structureId);\n\t}\n\n\t@Override\n\tprevPage(): void {\n\t\tsuper.prevPage(this.structureId);\n\t}\n\n}\n","import { OnDestroy } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\nexport abstract class Reactive implements OnDestroy {\n\n\tprivate readonly unsubscribe$ = new Subject<void>();\n\n\tprotected constructor() {\n\t}\n\n\tngOnDestroy() {\n\t\tthis.unsubscribe();\n\t}\n\n\tprotected unsubscribe(): void {\n\n\t\tif (this.unsubscribe$.isStopped) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.unsubscribe$.next();\n\t\tthis.unsubscribe$.complete();\n\t}\n\n\tprotected takeUntil() {\n\t\treturn takeUntil(this.unsubscribe$);\n\t}\n\n}\n","import { Observable } from 'rxjs';\n\nimport { AggregateId, DomainEvent, DomainEventBus } from '@generic-ui/hermes';\n\nimport { Reactive } from '../../../../../common/cdk/reactive/reactive';\n\nimport { StructureReadModelRoot } from './structure.read-model-root';\nimport { StructureId } from '../../../../core/domain/structure.id';\n\n\nexport abstract class StructureReadModelRepository extends Reactive {\n\n\tprotected constructor(domainEventBus: DomainEventBus) {\n\t\tsuper();\n\t\tdomainEventBus\n\t\t\t.ofEvent(\n\t\t\t\t...this.forEvents()\n\t\t\t)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((event: DomainEvent<StructureId>) => {\n\n\t\t\t\ttry {\n\t\t\t\t\tthis.subs(event);\n\t\t\t\t} catch (e) {\n\t\t\t\t\t// eslint-disable-next-line no-console\n\t\t\t\t\tconsole.error(e);\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tabstract getStructure(aggregateId: AggregateId): StructureReadModelRoot;\n\n\tabstract onStructure(aggregateId: AggregateId): Observable<StructureReadModelRoot>;\n\n\tprotected abstract forEvents(): Array<typeof DomainEvent>;\n\n\tprotected abstract subs(event: DomainEvent<StructureId>): void;\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { filter, map } from 'rxjs/operators';\nimport { StructureReadModelRepository } from '../../../../grid/core/api/read/structure.read-model-repository';\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { Paging } from './paging';\nimport { StructureReadModelRoot } from '../../../../grid/core/api/read/structure.read-model-root';\n\n\n@Injectable()\nexport class PagingRepository {\n\n\tconstructor(private readonly structureRepository: StructureReadModelRepository) {\n\t}\n\n\ton(structureId: StructureId): Observable<Paging> {\n\n\t\treturn this.structureRepository\n\t\t\t\t   .onStructure(structureId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   filter((structure: StructureReadModelRoot) => structure.getId().toString() === structureId.toString()),\n\t\t\t\t\t   map((structure: StructureReadModelRoot) => structure.getPaging())\n\t\t\t\t   );\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { take } from 'rxjs/operators';\n\nimport { Warehouse } from '@generic-ui/hermes';\n\nimport { PagingRepository } from './read/paging.repository';\nimport { StructureId } from '../../../core/domain/structure.id';\nimport { structureGlobalId } from '../../../core/api/structure.global-id';\nimport { Paging } from './read/paging';\n\n\n@Injectable()\nexport class PagingWarehouse implements Warehouse {\n\n\tconstructor(private pagingRepository: PagingRepository) {\n\t}\n\n\tonPaging(structureId: StructureId = structureGlobalId): Observable<Paging> {\n\t\treturn this.pagingRepository.on(structureId);\n\t}\n\n\tonSinglePaging(structureId: StructureId = structureGlobalId): Observable<Paging> {\n\t\treturn this.onPaging(structureId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   take(1)\n\t\t\t\t   );\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { take } from 'rxjs/operators';\nimport { PagingWarehouse } from '../../../../paging/core/api/paging.warehouse';\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { PagingRepository } from '../../../../paging/core/api/read/paging.repository';\nimport { Override } from '../../../../../common/cdk/decorators';\nimport { Paging } from '../../../../paging/core/api/read/paging';\n\n\n@Injectable()\nexport class LocalPagingWarehouse extends PagingWarehouse {\n\n\tconstructor(private structureId: StructureId,\n\t\t\t\tpagingRepository: PagingRepository) {\n\t\tsuper(pagingRepository);\n\t}\n\n\t@Override\n\tonPaging(): Observable<Paging> {\n\t\treturn super.onPaging(this.structureId);\n\t}\n\n\t@Override\n\tonSinglePaging(): Observable<Paging> {\n\t\treturn super.onPaging(this.structureId)\n\t\t\t\t\t.pipe(\n\t\t\t\t\t\ttake(1)\n\t\t\t\t\t);\n\t}\n\n}\n","import { StructureId } from '../../../../../core/domain/structure.id';\nimport { RowSelectToggleType } from '../core/row-select-toggle-type';\nimport { StructureCommand } from '../../../../../core/domain/structure.command';\n\nexport class ToggleSelectedRowCommand extends StructureCommand {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly selectedRow: string,\n\t\t\t\tprivate readonly type: RowSelectToggleType) {\n\t\tsuper(structureId, 'ToggleSelectedRowCommand');\n\t}\n\n\tgetSelectedRow(): string {\n\t\treturn this.selectedRow;\n\t}\n\n\tgetType(): RowSelectToggleType {\n\t\treturn this.type;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\n\nimport { CommandDispatcher } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { ToggleSelectedRowCommand } from './toggle/toggle-selected-row.command';\nimport { RowSelectToggleType } from './core/row-select-toggle-type';\n\n@Injectable()\nexport class FormationDispatcher {\n\n\tconstructor(private commandDispatcher: CommandDispatcher) {\n\t}\n\n\ttoggleSelectedRow(structureId: StructureId, selectedRow: string, type: RowSelectToggleType): void {\n\t\tthis.commandDispatcher.dispatch(new ToggleSelectedRowCommand(structureId, selectedRow, type));\n\t}\n\n}\n","import { StructureId } from '../../../../../core/domain/structure.id';\nimport { StructureCommand } from '../../../../../core/domain/structure.command';\n\nexport class SetEnabledSelectionCommand extends StructureCommand {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly enabled: boolean) {\n\t\tsuper(structureId, 'SetEnabledSelectionCommand');\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n}\n","import { StructureId } from '../../../../../core/domain/structure.id';\nimport { RowSelectionMode } from '../../../api/row-selection';\nimport { StructureCommand } from '../../../../../core/domain/structure.command';\n\nexport class SetSelectionModeCommand extends StructureCommand {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly mode: RowSelectionMode) {\n\t\tsuper(structureId, 'SetSelectionModeCommand');\n\t}\n\n\tgetMode(): RowSelectionMode {\n\t\treturn this.mode;\n\t}\n\n}\n","import { StructureId } from '../../../../../core/domain/structure.id';\nimport { StructureCommand } from '../../../../../core/domain/structure.command';\n\nexport class SelectAllRowsCommand extends StructureCommand {\n\n\tconstructor(structureId: StructureId) {\n\t\tsuper(structureId, 'SelectAllRowsCommand');\n\t}\n\n}\n","import { StructureId } from '../../../../../core/domain/structure.id';\nimport { StructureCommand } from '../../../../../core/domain/structure.command';\n\nexport class UnselectAllRowsCommand extends StructureCommand {\n\n\tconstructor(structureId: StructureId) {\n\t\tsuper(structureId, 'UnselectAllRowsCommand');\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandDispatcher, CommandInvoker } from '@generic-ui/hermes';\n\nimport { FormationDispatcher } from '../../domain/formation/formation.dispatcher';\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { structureGlobalId } from '../../../../core/api/structure.global-id';\nimport { RowSelectionMode } from '../row-selection';\nimport { RowSelectToggleType } from '../../domain/formation/core/row-select-toggle-type';\nimport { SetEnabledSelectionCommand } from '../../domain/formation/set-enabled/set-enabled-selection.command';\nimport { SetSelectionModeCommand } from '../../domain/formation/mode/set-selection-mode.command';\nimport { SelectAllRowsCommand } from '../../domain/formation/select-all/select-all-rows.command';\nimport { UnselectAllRowsCommand } from '../../domain/formation/unselect-all/unselect-all-rows.command';\n\n\n@Injectable()\nexport class FormationCommandInvoker implements CommandInvoker {\n\n\tconstructor(private readonly commandDispatcher: CommandDispatcher,\n\t\t\t\tprivate readonly formationDispatcher: FormationDispatcher) {\n\t}\n\n\tsetDefaultFormation(structureId: StructureId = structureGlobalId): void {\n\t\t// this.commandDispatcher.dispatch(new )\n\t}\n\n\ttoggleSelectedRow(selectedRow: string, type: RowSelectToggleType, structureId: StructureId = structureGlobalId): void {\n\t\tthis.formationDispatcher.toggleSelectedRow(structureId, selectedRow, type);\n\t}\n\n\tchangeMode(mode: RowSelectionMode, structureId: StructureId = structureGlobalId): void {\n\t\tthis.commandDispatcher.dispatch(new SetSelectionModeCommand(structureId, mode));\n\t}\n\n\tsetSelection(enabled: boolean, structureId: StructureId = structureGlobalId): void {\n\t\tthis.commandDispatcher.dispatch(new SetEnabledSelectionCommand(structureId, enabled));\n\t}\n\n\tselectAll(structureId: StructureId = structureGlobalId): void {\n\t\tthis.commandDispatcher.dispatch(new SelectAllRowsCommand(structureId));\n\t}\n\n\tunselectAll(structureId: StructureId = structureGlobalId): void {\n\t\tthis.commandDispatcher.dispatch(new UnselectAllRowsCommand(structureId));\n\t}\n\n}\n","export enum RowSelectToggleType {\n\tNONE,\n\tADD,\n\tRANGE\n}\n","import { Injectable } from '@angular/core';\n\nimport { Override } from '../../../../../common/cdk/decorators';\n\nimport { FormationCommandInvoker } from '../../../../source/core/api/formation/formation.command-invoker';\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { FormationDispatcher } from '../../../../source/core/domain/formation/formation.dispatcher';\nimport { RowSelectToggleType } from '../../../../source/core/domain/formation/core/row-select-toggle-type';\nimport { CommandDispatcher } from '@generic-ui/hermes';\n\n\n@Injectable()\nexport class LocalFormationCommandDispatcher extends FormationCommandInvoker {\n\n\tconstructor(private structureId: StructureId,\n\t\t\t\tcommandDispatcher: CommandDispatcher,\n\t\t\t\tformationDispatcher: FormationDispatcher) {\n\t\tsuper(commandDispatcher, formationDispatcher);\n\t}\n\n\tsetDefault(): void {\n\t\tsuper.setDefaultFormation(this.structureId);\n\t}\n\n\t@Override\n\ttoggleSelectedRow(selectedRow: string, type: RowSelectToggleType): void {\n\t\tsuper.toggleSelectedRow(selectedRow, type, this.structureId);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateArchive } from '@generic-ui/hermes';\n\nimport { RowSelectedReadModel } from '../row-selected.read-model';\n\n@Injectable()\nexport class RowSelectedRepository extends AggregateArchive<RowSelectedReadModel> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateArchive } from '@generic-ui/hermes';\n\nimport { RowSelectionMode } from '../../row-selection';\n\n@Injectable()\nexport class RowSelectionModeRepository extends AggregateArchive<RowSelectionMode> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n}\n","import { OriginId } from '../../domain/origin/origin-id';\n\nexport class SelectedRow {\n\n\tprivate readonly index: number;\n\n\tprivate readonly itemId: OriginId;\n\n\tprivate readonly source: any;\n\n\tconstructor(source: any,\n\t\t\t\tindex: number,\n\t\t\t\titemId: OriginId) {\n\t\tthis.source = source;\n\t\tthis.index = index;\n\t\tthis.itemId = itemId;\n\t}\n\n\tgetData(): any {\n\t\treturn this.source;\n\t}\n\n\tgetIndex(): number {\n\t\treturn this.index;\n\t}\n\n\tgetItemId(): OriginId {\n\t\treturn this.itemId;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, ReplaySubject } from 'rxjs';\nimport { distinctUntilChanged, map } from 'rxjs/operators';\nimport { OriginItemEntity } from '../../domain/origin/origin-item-entity';\nimport { StructureId } from '../../../../core/domain/structure.id';\n\n\n@Injectable()\nexport class StructureSourceOriginRepository {\n\n\tprivate origin = new Map<string, Array<any>>();\n\n\tprivate origin$ = new ReplaySubject<Map<string, Array<any>>>();\n\n\tsetOrigin(origin: Array<OriginItemEntity>, structureId: StructureId): void {\n\t\tthis.origin.set(structureId.toString(), origin);\n\t\tthis.origin$.next(this.origin);\n\t}\n\n\tonOrigin(structureId: StructureId): Observable<Array<any>> {\n\n\t\treturn this.origin$\n\t\t\t\t   .asObservable()\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((map: Map<string, Array<any>>) => {\n\t\t\t\t\t\t   return map.get(structureId.toString());\n\t\t\t\t\t   }),\n\t\t\t\t\t   distinctUntilChanged()\n\t\t\t\t   );\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, ReplaySubject } from 'rxjs';\nimport { distinctUntilChanged, map } from 'rxjs/operators';\n\nimport { OriginItemEntity } from '../../domain/origin/origin-item-entity';\nimport { StructureId } from '../../../../core/domain/structure.id';\n\n\n@Injectable()\nexport class StructurePreparedItemsRepository {\n\n\tprivate origin = new Map<string, Array<OriginItemEntity>>();\n\n\tprivate origin$ = new ReplaySubject<Map<string, Array<OriginItemEntity>>>();\n\n\tsetItems(origin: Array<OriginItemEntity>, structureId: StructureId): void {\n\t\tthis.origin.set(structureId.toString(), origin);\n\t\tthis.origin$.next(this.origin);\n\t}\n\n\tgetPreparedItems(structureId: StructureId): Array<OriginItemEntity> {\n\t\treturn this.origin.get(structureId.getId());\n\t}\n\n\tonPreparedItems(structureId: StructureId): Observable<Array<OriginItemEntity>> {\n\n\t\treturn this.origin$\n\t\t\t\t   .asObservable()\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((map: Map<string, Array<any>>) => {\n\t\t\t\t\t\t   return map.get(structureId.toString());\n\t\t\t\t\t   }),\n\t\t\t\t\t   distinctUntilChanged()\n\t\t\t\t   );\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { distinctUntilChanged, map, take } from 'rxjs/operators';\n\nimport { StructureReadModelRepository } from '../../../grid/core/api/read/structure.read-model-repository';\nimport { StructureSourceOriginRepository } from './origin/structure.source-origin.repository';\nimport { StructureId } from '../../../core/domain/structure.id';\nimport { structureGlobalId } from '../../../core/api/structure.global-id';\nimport { StructureReadModelRoot } from '../../../grid/core/api/read/structure.read-model-root';\nimport { ItemEntity } from '../domain/core/item/item.entity';\nimport { StructurePreparedItemsRepository } from './prepared/structure.prepared-items.repository';\nimport { OriginItemEntity } from '../domain/origin/origin-item-entity';\nimport { Warehouse } from '@generic-ui/hermes';\n\n\n@Injectable()\nexport class SourceWarehouse implements Warehouse {\n\n\tconstructor(private structureRepository: StructureReadModelRepository,\n\t\t\t\tprivate structurePreparedItemsRepository: StructurePreparedItemsRepository,\n\t\t\t\tprivate structureSourceOriginRepository: StructureSourceOriginRepository) {\n\t}\n\n\tgetEntities(structureId: StructureId = structureGlobalId): Array<ItemEntity> {\n\t\treturn this.structureRepository.getStructure(structureId).getEntities();\n\t}\n\n\tonEntities(structureId: StructureId = structureGlobalId): Observable<Array<ItemEntity>> {\n\n\t\treturn this.structureRepository\n\t\t\t\t   .onStructure(structureId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   // tap(() => {\n\t\t\t\t\t   //    console.log('onEntities');\n\t\t\t\t\t   // }),\n\t\t\t\t\t   map((structure: StructureReadModelRoot) => structure.getEntities()),\n\t\t\t\t\t   distinctUntilChanged((ents1: Array<ItemEntity>, ents2: Array<ItemEntity>) => {\n\t\t\t\t\t\t   if (ents1.length !== ents2.length) {\n\t\t\t\t\t\t\t   return false;\n\t\t\t\t\t\t   }\n\n\t\t\t\t\t\t   let flag = true;\n\n\t\t\t\t\t\t   ents1.forEach((ent, index) => {\n\t\t\t\t\t\t\t   if (!ent.equals(ents2[index])) {\n\t\t\t\t\t\t\t\t   flag = false;\n\t\t\t\t\t\t\t\t   return;\n\t\t\t\t\t\t\t   }\n\t\t\t\t\t\t   });\n\n\t\t\t\t\t\t   return flag;\n\t\t\t\t\t   })\n\t\t\t\t   );\n\t}\n\n\tonEntitiesSize(structureId: StructureId = structureGlobalId): Observable<number> {\n\n\t\treturn this.onEntities(structureId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((entities: Array<ItemEntity>) => {\n\t\t\t\t\t\t   return entities.length;\n\t\t\t\t\t   })\n\t\t\t\t   );\n\t}\n\n\tonSingleEntities(structureId: StructureId = structureGlobalId): Observable<Array<ItemEntity>> {\n\n\t\treturn this.onEntities(structureId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   take(1)\n\t\t\t\t   );\n\t}\n\n\tonOriginSize(structureId: StructureId = structureGlobalId): Observable<number> {\n\t\treturn this.structureSourceOriginRepository\n\t\t\t\t   .onOrigin(structureId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map(origin => origin.length)\n\t\t\t\t   );\n\t}\n\n\tonLoading(structureId: StructureId = structureGlobalId): Observable<boolean> {\n\t\treturn this.structureRepository\n\t\t\t\t   .onStructure(structureId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((structure: StructureReadModelRoot) => structure.getSource().isLoading())\n\t\t\t\t   );\n\t}\n\n\tonPreparedEntities(structureId: StructureId = structureGlobalId): Observable<Array<OriginItemEntity>> {\n\t\treturn this.structurePreparedItemsRepository.onPreparedItems(structureId);\n\t}\n\n\tgetPreparedEntities(structureId: StructureId = structureGlobalId): Array<OriginItemEntity> {\n\t\treturn this.structurePreparedItemsRepository.getPreparedItems(structureId);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nimport { Warehouse } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { structureGlobalId } from '../../../../core/api/structure.global-id';\nimport { RowSelectedRepository } from './row-selected/row-selected.repository';\nimport { RowSelectedReadModel } from './row-selected.read-model';\nimport { RowSelectionModeRepository } from './mode/row-selection-mode.repository';\nimport { RowSelectionMode } from '../row-selection';\nimport { SelectedRow } from './selected-row';\nimport { SourceWarehouse } from '../source.warehouse';\n\n\n@Injectable()\nexport class FormationWarehouse implements Warehouse {\n\n\tconstructor(private readonly rowSelectedRepository: RowSelectedRepository,\n\t\t\t\tprivate readonly rowSelectionModeRepository: RowSelectionModeRepository,\n\t\t\t\tprivate readonly sourceWarehouse: SourceWarehouse) {\n\t}\n\n\tgetSelectedRows(structureId: StructureId = structureGlobalId): Array<SelectedRow> {\n\n\t\tconst items = this.sourceWarehouse.getPreparedEntities(structureId),\n\t\t\tselectedItemIds = this.getSelectedItemIds(structureId);\n\n\t\tconst selectedItems = [],\n\t\t\tlength = items.length;\n\n\t\tfor (let i = 0; i < length; i += 1) {\n\n\t\t\tconst item = items[i];\n\n\t\t\tif (selectedItemIds.some((itemId: string) => itemId === item.getId().toString())) {\n\t\t\t\tselectedItems.push(new SelectedRow(item.getData(), i, item.getId()));\n\t\t\t}\n\t\t}\n\t\treturn selectedItems;\n\t}\n\n\tonRowSelectedReadModel(structureId: StructureId = structureGlobalId): Observable<RowSelectedReadModel> {\n\t\treturn this.rowSelectedRepository\n\t\t\t\t   .on(structureId);\n\t}\n\n\tgetSelectedItemIds(structureId: StructureId = structureGlobalId): Array<string> {\n\t\treturn this.rowSelectedRepository.get(structureId).getValueOrNullOrThrowError().getAll();\n\t}\n\n\tonSelectedRows(structureId: StructureId = structureGlobalId): Observable<Array<string>> {\n\t\treturn this.rowSelectedRepository\n\t\t\t\t   .on(structureId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((rm: RowSelectedReadModel) => {\n\t\t\t\t\t\t   return rm.getAll();\n\t\t\t\t\t   })\n\t\t\t\t   );\n\t}\n\n\tonMode(structureId: StructureId = structureGlobalId): Observable<RowSelectionMode> {\n\t\treturn this.rowSelectionModeRepository.on(structureId);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { Override } from '../../../../../common/cdk/decorators';\n\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { FormationWarehouse } from '../../../../source/core/api/formation/formation.warehouse';\nimport { RowSelectedRepository } from '../../../../source/core/api/formation/row-selected/row-selected.repository';\nimport { RowSelectedReadModel } from '../../../../source/core/api/formation/row-selected.read-model';\nimport { RowSelectionModeRepository } from '../../../../source/core/api/formation/mode/row-selection-mode.repository';\nimport { SourceWarehouse } from '../../../../source/core/api/source.warehouse';\n\n\n@Injectable()\nexport class LocalFormationWarehouse extends FormationWarehouse {\n\n\tconstructor(private structureId: StructureId,\n\t\t\t\trowSelectedArchive: RowSelectedRepository,\n\t\t\t\trowSelectionModeRepository: RowSelectionModeRepository,\n\t\t\t\tsourceWarehouse: SourceWarehouse) {\n\t\tsuper(rowSelectedArchive, rowSelectionModeRepository, sourceWarehouse);\n\t}\n\n\t@Override\n\tonRowSelectedReadModel(): Observable<RowSelectedReadModel> {\n\t\treturn super.onRowSelectedReadModel(this.structureId);\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandInvoker } from '@generic-ui/hermes';\nimport { StructureId } from '../domain/structure.id';\nimport { FilterConfig } from '../../filter/core/api/filter-config';\nimport { QuickFiltersConfig } from '../../filter/core/api/quick-filters.config';\nimport { SchemaTheme } from '../../../schema/core/api/theme/schema-theme';\n\n\n@Injectable()\nexport abstract class StructureCommandInvoker implements CommandInvoker {\n\n\tprotected constructor() {\n\t}\n\n\tabstract create(structureId?: StructureId): void;\n\n\tabstract enableVerticalScroll(structureId?: StructureId): void;\n\n\tabstract disableVerticalScroll(structureId?: StructureId): void;\n\n\tabstract scrollToTop(structureId?: StructureId): void;\n\n\tabstract scrollToBottom(structureId?: StructureId): void;\n\n\tabstract scrollToIndex(index: number, structureId?: StructureId): void;\n\n\tabstract setScrollPosition(position: number, structureId?: StructureId): void;\n\n\tabstract setOrigin(items: Array<any>, structureId?: StructureId): void;\n\n\tabstract setFilterConfig(config: FilterConfig, structureId?: StructureId): void;\n\n\tabstract setQuickFiltersConfig(config: QuickFiltersConfig, structureId?: StructureId): void;\n\n\tabstract setRowHeight(rowHeight: number, structureId?: StructureId): void;\n\n\tabstract setContainerHeight(height: number, structureId?: StructureId): void;\n\n\tabstract setRowHeightBasedOnTheme(theme: SchemaTheme, structureId?: StructureId): void;\n\n}\n","import { StructureId } from '../../../../core/domain/structure.id';\nimport { FilterConfig } from '../../api/filter-config';\nimport { StructureCommand } from '../../../../core/domain/structure.command';\n\nexport class SetConfigFilterCommand extends StructureCommand {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly filterConfig: FilterConfig) {\n\t\tsuper(structureId, 'SetConfigFilterCommand');\n\t}\n\n\tgetConfig(): FilterConfig {\n\t\treturn this.filterConfig;\n\t}\n\n}\n","import { StructureId } from '../../../../../core/domain/structure.id';\nimport { StructureCommand } from '../../../../../core/domain/structure.command';\n\n\nexport class RemoveAllFiltersCommand extends StructureCommand {\n\n\tconstructor(structureId: StructureId) {\n\t\tsuper(structureId, 'RemoveAllFiltersCommand');\n\t}\n\n\n}\n","import { StructureId } from '../../../../../core/domain/structure.id';\nimport { FieldId } from '../../../../../field/core/domain/field/field.id';\nimport { FilterTypeId } from '../../type/filter-type.id';\nimport { StructureCommand } from '../../../../../core/domain/structure.command';\n\n\nexport class AddFilterCommand extends StructureCommand {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly fieldId: FieldId,\n\t\t\t\tprivate readonly filterTypeId: FilterTypeId,\n\t\t\t\tprivate readonly value: any) {\n\t\tsuper(structureId, 'AddFilterCommand');\n\t}\n\n\tgetFieldId(): FieldId {\n\t\treturn this.fieldId;\n\t}\n\n\tgetFilterTypeId(): FilterTypeId {\n\t\treturn this.filterTypeId;\n\t}\n\n\tgetValue(): any {\n\t\treturn this.value;\n\t}\n\n}\n","import { StructureId } from '../../../../../core/domain/structure.id';\nimport { FilterId } from '../../../api/filter.id';\nimport { StructureCommand } from '../../../../../core/domain/structure.command';\n\n\nexport class RemoveFilterCommand extends StructureCommand {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly filterId: FilterId) {\n\t\tsuper(structureId, 'RemoveFilterCommand');\n\t}\n\n\tgetFilterId(): FilterId {\n\t\treturn this.filterId;\n\t}\n\n}\n","import { StructureId } from '../../../../../core/domain/structure.id';\nimport { FieldId } from '../../../../../field/core/domain/field/field.id';\nimport { StructureCommand } from '../../../../../core/domain/structure.command';\n\n\nexport class SelectAllUniqueFilterCommand extends StructureCommand {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly fieldId: FieldId) {\n\t\tsuper(structureId, 'SelectAllUniqueFilterCommand');\n\t}\n\n\tgetFieldId(): FieldId {\n\t\treturn this.fieldId;\n\t}\n\n}\n","import { StructureId } from '../../../../../core/domain/structure.id';\nimport { FieldId } from '../../../../../field/core/domain/field/field.id';\nimport { StructureCommand } from '../../../../../core/domain/structure.command';\n\n\nexport class UnselectAllUniqueFilterCommand extends StructureCommand {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly fieldId: FieldId) {\n\t\tsuper(structureId, 'UnselectAllUniqueFilterCommand');\n\t}\n\n\tgetFieldId(): FieldId {\n\t\treturn this.fieldId;\n\t}\n\n}\n","import { StructureId } from '../../../../../core/domain/structure.id';\nimport { FieldId } from '../../../../../field/core/domain/field/field.id';\nimport { UniqueValueId } from '../unique-value-id';\nimport { StructureCommand } from '../../../../../core/domain/structure.command';\n\n\nexport class SelectUniqueFilterCommand extends StructureCommand {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly fieldId: FieldId,\n\t\t\t\tprivate readonly uniqueValueId: UniqueValueId) {\n\t\tsuper(structureId, 'SelectUniqueFilterCommand');\n\t}\n\n\tgetFieldId(): FieldId {\n\t\treturn this.fieldId;\n\t}\n\n\tgetUniqueValueId(): UniqueValueId {\n\t\treturn this.uniqueValueId;\n\t}\n\n}\n","import { StructureId } from '../../../../../core/domain/structure.id';\nimport { FieldId } from '../../../../../field/core/domain/field/field.id';\nimport { UniqueValueId } from '../unique-value-id';\nimport { StructureCommand } from '../../../../../core/domain/structure.command';\n\n\nexport class UnselectUniqueFilterCommand extends StructureCommand {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly fieldId: FieldId,\n\t\t\t\tprivate readonly uniqueValueId: UniqueValueId) {\n\t\tsuper(structureId, 'UnselectUniqueFilterCommand');\n\t}\n\n\tgetFieldId(): FieldId {\n\t\treturn this.fieldId;\n\t}\n\n\tgetUniqueValueId(): UniqueValueId {\n\t\treturn this.uniqueValueId;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandDispatcher, CommandInvoker } from '@generic-ui/hermes';\n\nimport { FilterConfig } from './filter-config';\nimport { StructureId } from '../../../core/domain/structure.id';\nimport { SetConfigFilterCommand } from '../domain/config/set-config-filter.command';\nimport { FieldId } from '../../../field/core/domain/field/field.id';\nimport { RemoveAllFiltersCommand } from '../domain/core/remove-all/remove-all-filters.command';\nimport { FilterTypeId } from '../domain/type/filter-type.id';\nimport { AddFilterCommand } from '../domain/core/add/add-filter.command';\nimport { FilterId } from './filter.id';\nimport { RemoveFilterCommand } from '../domain/core/remove/remove-filter.command';\nimport { SelectAllUniqueFilterCommand } from '../domain/unique/select-all/select-all-unique-filter.command';\nimport { UnselectAllUniqueFilterCommand } from '../domain/unique/unselect-all/unselect-all-unique-filter.command';\nimport { UniqueValueId } from '../domain/unique/unique-value-id';\nimport { SelectUniqueFilterCommand } from '../domain/unique/select/select-unique-filter.command';\nimport { UnselectUniqueFilterCommand } from '../domain/unique/unselect/unselect-unique-filter.command';\n\n\n@Injectable()\nexport class FilterCommandInvoker implements CommandInvoker {\n\n\tconstructor(private commandDispatcher: CommandDispatcher) {\n\t}\n\n\tsetFilteringEnabled(config: FilterConfig, structureId: StructureId): void {\n\t\tthis.commandDispatcher.dispatch(new SetConfigFilterCommand(structureId, config));\n\t}\n\n\tadd(fieldId: FieldId, filterTypeId: FilterTypeId, value: any, structureId: StructureId): void {\n\t\tthis.commandDispatcher.dispatch(new AddFilterCommand(structureId, fieldId, filterTypeId, value));\n\t}\n\n\tremoveAllFilters(structureId: StructureId): void {\n\t\tthis.commandDispatcher.dispatch(new RemoveAllFiltersCommand(structureId));\n\t}\n\n\tremoveFilter(filterId: FilterId, structureId: StructureId): void {\n\t\tthis.commandDispatcher.dispatch(new RemoveFilterCommand(structureId, filterId));\n\t}\n\n\tselectAllUniqueFilter(fieldId: FieldId, structureId: StructureId): void {\n\t\tthis.commandDispatcher.dispatch(new SelectAllUniqueFilterCommand(structureId, fieldId));\n\t}\n\n\tunselectAllUniqueFilter(fieldId: FieldId, structureId: StructureId): void {\n\t\tthis.commandDispatcher.dispatch(new UnselectAllUniqueFilterCommand(structureId, fieldId));\n\t}\n\n\tselectUniqueFilter(fieldId: FieldId, uniqueValueId: UniqueValueId, structureId: StructureId): void {\n\t\tthis.commandDispatcher.dispatch(new SelectUniqueFilterCommand(structureId, fieldId, uniqueValueId));\n\t}\n\n\tunselectUniqueFilter(fieldId: FieldId, uniqueValueId: UniqueValueId, structureId: StructureId): void {\n\t\tthis.commandDispatcher.dispatch(new UnselectUniqueFilterCommand(structureId, fieldId, uniqueValueId));\n\t}\n\n\n}\n","import { StructureId } from '../../../../core/domain/structure.id';\nimport { StructureCommand } from '../../../../core/domain/structure.command';\n\n\nexport class SourceSetLoadingCommand extends StructureCommand {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly enabled: boolean) {\n\t\tsuper(structureId, 'SourceSetLoadingCommand');\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n}\n","import { StructureId } from '../../../../../core/domain/structure.id';\nimport { StructureCommand } from '../../../../../core/domain/structure.command';\n\nexport class SetOriginCommand extends StructureCommand {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly items: Array<any> = []) {\n\t\tsuper(structureId, 'SetOriginCommand');\n\t}\n\n\tgetItems(): Array<any> {\n\t\treturn this.items;\n\t}\n\n}\n","import { StructureEditSourceItemParams } from './structure.edit-source-item.params';\nimport { StructureId } from '../../../../../core/domain/structure.id';\nimport { StructureCommand } from '../../../../../core/domain/structure.command';\n\nexport class StructureEditSourceItemCommand extends StructureCommand {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly params: StructureEditSourceItemParams) {\n\t\tsuper(structureId, 'StructureEditSourceItemCommand');\n\t}\n\n\tgetParams(): StructureEditSourceItemParams {\n\t\treturn this.params;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandDispatcher } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../core/domain/structure.id';\nimport { SourceSetLoadingCommand } from './loading/source-set-loading.command';\nimport { SetOriginCommand } from './origin/set-origin/set-origin.command';\nimport { StructureEditSourceItemParams } from './origin/edit/structure.edit-source-item.params';\nimport { StructureEditSourceItemCommand } from './origin/edit/structure.edit-source-item.command';\n\n\n@Injectable()\nexport class SourceDispatcher {\n\n\tconstructor(private commandDispatcher: CommandDispatcher) {\n\t}\n\n\tsetLoading(structureId: StructureId, enabled: boolean): void {\n\t\tthis.commandDispatcher.dispatch(new SourceSetLoadingCommand(structureId, enabled));\n\t}\n\n\tsetOrigin(structureId: StructureId, items: Array<any>): void {\n\t\tthis.commandDispatcher.dispatch(new SetOriginCommand(structureId, items));\n\t}\n\n\teditItem(structureId: StructureId, params: StructureEditSourceItemParams): void {\n\t\tthis.commandDispatcher.dispatch(new StructureEditSourceItemCommand(structureId, params));\n\t}\n\n}\n","import { StructureId } from '../structure.id';\nimport { StructureCommand } from '../structure.command';\n\nexport class CreateStructureCommand extends StructureCommand {\n\n\tconstructor(structureId: StructureId) {\n\t\tsuper(structureId, 'CreateStructureCommand');\n\t}\n\n}\n","import { StructureId } from '../../../../core/domain/structure.id';\nimport { StructureCommand } from '../../../../core/domain/structure.command';\n\nexport class SetVerticalScrollEnabledCommand extends StructureCommand {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly enabled: boolean) {\n\t\tsuper(structureId, 'SetVerticalScrollEnabledCommand');\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n}\n","import { StructureId } from '../../../../core/domain/structure.id';\nimport { StructureCommand } from '../../../../core/domain/structure.command';\n\n\nexport class SetScrollBarPositionCommand extends StructureCommand {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly position: number) {\n\t\tsuper(structureId, 'SetScrollBarPositionCommand');\n\t}\n\n\tgetPosition(): number {\n\t\treturn this.position;\n\t}\n\n}\n","import { StructureId } from '../../../../core/domain/structure.id';\nimport { StructureCommand } from '../../../../core/domain/structure.command';\n\n\nexport class SetScrollPositionCommand extends StructureCommand {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly position: number) {\n\t\tsuper(structureId, 'SetScrollPositionCommand');\n\t}\n\n\tgetPosition(): number {\n\t\treturn this.position;\n\t}\n\n}\n","import { QuickFiltersConfig } from '../../api/quick-filters.config';\n\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { StructureCommand } from '../../../../core/domain/structure.command';\n\n\nexport class SetConfigQuickFilterCommand extends StructureCommand {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly quickFiltersConfig: QuickFiltersConfig) {\n\t\tsuper(structureId, 'SetConfigQuickFilterCommand');\n\t}\n\n\tgetConfig(): QuickFiltersConfig {\n\t\treturn this.quickFiltersConfig;\n\t}\n\n}\n","import { StructureId } from '../../../../core/domain/structure.id';\nimport { StructureCommand } from '../../../../core/domain/structure.command';\n\nexport class SetRowHeightCommand extends StructureCommand {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly rowHeight: number) {\n\t\tsuper(structureId, 'SetRowHeightCommand');\n\t}\n\n\tgetRowHeight(): number {\n\t\treturn this.rowHeight;\n\t}\n\n}\n","import { StructureId } from '../../../../../core/domain/structure.id';\nimport { StructureCommand } from '../../../../../core/domain/structure.command';\n\n\nexport class StructureSetHeightCommand extends StructureCommand {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly height: number) {\n\t\tsuper(structureId, 'StructureSetHeightCommand');\n\t}\n\n\tgetHeight(): number {\n\t\treturn this.height;\n\t}\n\n}\n","import { StructureId } from '../../../../core/domain/structure.id';\nimport { SchemaTheme } from '../../../../../schema/core/api/theme/schema-theme';\nimport { StructureCommand } from '../../../../core/domain/structure.command';\n\nexport class SetRowHeightBasedOnThemeCommand extends StructureCommand {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly theme: SchemaTheme) {\n\t\tsuper(structureId, 'SetRowHeightBasedOnThemeCommand');\n\t}\n\n\tgetTheme(): number {\n\t\treturn this.theme;\n\t}\n\n}\n","import { CommandDispatcher } from '@generic-ui/hermes';\nimport { FilterCommandInvoker } from '../../filter/core/api/filter.command-invoker';\nimport { SourceDispatcher } from '../../source/core/domain/source.dispatcher';\nimport { StructureId } from './structure.id';\nimport { structureGlobalId } from '../api/structure.global-id';\nimport { CreateStructureCommand } from './create-structure/create-structure.command';\nimport { SetVerticalScrollEnabledCommand } from '../../vertical-formation/core/domain/set-enabled/set-vertical-scroll-enabled.command';\nimport { SetScrollBarPositionCommand } from '../../vertical-formation/core/domain/scroll-bar/set-scroll-bar-position.command';\nimport { SetScrollPositionCommand } from '../../vertical-formation/core/domain/scroll-position/set-scroll-position.command';\nimport { FilterConfig } from '../../filter/core/api/filter-config';\nimport { QuickFiltersConfig } from '../../filter/core/api/quick-filters.config';\nimport { SetConfigQuickFilterCommand } from '../../filter/core/domain/quick/set-config-quick-filter.command';\nimport { SetRowHeightCommand } from '../../vertical-formation/core/domain/set-row-height/set-row-height.command';\nimport { StructureSetHeightCommand } from '../../vertical-formation/core/domain/container/set-height/structure-set-height.command';\nimport { SchemaTheme } from '../../../schema/core';\nimport { SetRowHeightBasedOnThemeCommand } from '../../vertical-formation/core/domain/set-row-height-theme/set-row-height-based-on-theme.command';\nimport { StructureCommandInvoker } from '../api/structure.command-invoker';\nimport { Injectable } from '@angular/core';\n\n@Injectable()\nexport class StructureDomainCommandInvoker extends StructureCommandInvoker {\n\n\tconstructor(private readonly commandDispatcher: CommandDispatcher,\n\t\t\t\tprivate readonly structureFilterCommandService: FilterCommandInvoker,\n\t\t\t\tprivate readonly sourceDispatcher: SourceDispatcher) {\n\t\tsuper();\n\t}\n\n\tcreate(structureId: StructureId = structureGlobalId): void {\n\t\tthis.commandDispatcher.dispatch(new CreateStructureCommand(structureId));\n\t}\n\n\tenableVerticalScroll(structureId: StructureId = structureGlobalId): void {\n\t\tthis.commandDispatcher.dispatch(new SetVerticalScrollEnabledCommand(structureId, true));\n\t}\n\n\tdisableVerticalScroll(structureId: StructureId = structureGlobalId): void {\n\t\tthis.commandDispatcher.dispatch(new SetVerticalScrollEnabledCommand(structureId, false));\n\t}\n\n\tscrollToTop(structureId: StructureId = structureGlobalId): void {\n\t\tthis.commandDispatcher.dispatch(new SetScrollBarPositionCommand(structureId, 0));\n\t}\n\n\tscrollToBottom(structureId: StructureId = structureGlobalId): void {\n\t\tthis.commandDispatcher.dispatch(new SetScrollBarPositionCommand(structureId, Number.MAX_SAFE_INTEGER));\n\t}\n\n\tscrollToIndex(index: number, structureId: StructureId = structureGlobalId): void {\n\t\tthis.commandDispatcher.dispatch(new SetScrollBarPositionCommand(structureId, index));\n\t}\n\n\tsetScrollPosition(position: number, structureId: StructureId = structureGlobalId): void {\n\t\tthis.commandDispatcher.dispatch(new SetScrollPositionCommand(structureId, position));\n\t}\n\n\tsetOrigin(items: Array<any>, structureId: StructureId = structureGlobalId): void {\n\t\tthis.sourceDispatcher.setOrigin(structureId, items);\n\t}\n\n\tsetFilterConfig(config: FilterConfig, structureId: StructureId = structureGlobalId): void {\n\t\tthis.structureFilterCommandService.setFilteringEnabled(config, structureId);\n\t}\n\n\tsetQuickFiltersConfig(config: QuickFiltersConfig, structureId: StructureId = structureGlobalId): void {\n\t\tthis.commandDispatcher.dispatch(new SetConfigQuickFilterCommand(structureId, config));\n\t}\n\n\tsetRowHeight(rowHeight: number, structureId: StructureId = structureGlobalId): void {\n\t\tthis.commandDispatcher.dispatch(new SetRowHeightCommand(structureId, +rowHeight));\n\t}\n\n\tsetContainerHeight(height: number, structureId: StructureId = structureGlobalId): void {\n\t\tthis.commandDispatcher.dispatch(new StructureSetHeightCommand(structureId, +height));\n\t}\n\n\tsetRowHeightBasedOnTheme(theme: SchemaTheme, structureId: StructureId = structureGlobalId): void {\n\t\tthis.commandDispatcher.dispatch(new SetRowHeightBasedOnThemeCommand(structureId, theme));\n\t}\n\n}\n","export enum SchemaTheme {\n\tFABRIC,\n\tMATERIAL,\n\tLIGHT,\n\tDARK,\n\tGENERIC\n}\n","export enum SchemaRowColoring {\n\tNONE,\n\tEVEN,\n\tODD\n}\n","import { DomainEvent } from '@generic-ui/hermes';\nimport { SchemaId } from './schema.id';\n\nexport abstract class SchemaDomainEvent extends DomainEvent<SchemaId> {\n}\n","import { SchemaId } from '../schema.id';\nimport { SchemaTheme } from '../../api/theme/schema-theme';\nimport { SchemaDomainEvent } from '../schema.domain-event';\n\nexport class SchemaThemeSetEvent extends SchemaDomainEvent {\n\n\tconstructor(schemaId: SchemaId,\n\t\t\t\tprivate readonly theme: SchemaTheme) {\n\t\tsuper(schemaId, theme, 'SchemaThemeSetEvent');\n\t}\n\n\tgetTheme(): SchemaTheme {\n\t\treturn this.theme;\n\t}\n}\n","import { AggregateEvent } from '@generic-ui/hermes';\nimport { SchemaId } from './schema.id';\n\nexport abstract class SchemaAggregateEvent extends AggregateEvent<SchemaId> {\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { SchemaId } from '../schema.id';\nimport { SchemaTheme } from '../../api/theme/schema-theme';\nimport { SchemaThemeSetEvent } from './schema-theme-set.event';\nimport { SchemaAggregateEvent } from '../schema.aggregate-event';\n\nexport class SchemaThemeSetAggregateEvent extends SchemaAggregateEvent {\n\n\tconstructor(schemaId: SchemaId,\n\t\t\t\tprivate readonly theme: SchemaTheme) {\n\t\tsuper(schemaId, 'SchemaThemeSetAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<SchemaId> {\n\t\treturn new SchemaThemeSetEvent(this.getAggregateId(), this.theme);\n\t}\n}\n","import { SchemaId } from '../schema.id';\nimport { SchemaRowColoring } from '../../api/row-coloring/schema-row-coloring';\nimport { SchemaDomainEvent } from '../schema.domain-event';\n\n\nexport class RowColoringSetEvent extends SchemaDomainEvent {\n\n\tconstructor(schemaId: SchemaId,\n\t\t\t\tprivate readonly rowColoring: SchemaRowColoring) {\n\t\tsuper(schemaId, rowColoring, 'RowColoringSetEvent');\n\t}\n\n\tgetRowColoring(): SchemaRowColoring {\n\t\treturn this.rowColoring;\n\t}\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { SchemaId } from '../schema.id';\nimport { SchemaRowColoring } from '../../api/row-coloring/schema-row-coloring';\nimport { RowColoringSetEvent } from './row-coloring-set.event';\nimport { SchemaAggregateEvent } from '../schema.aggregate-event';\n\n\nexport class RowColoringSetAggregateEvent extends SchemaAggregateEvent {\n\n\tconstructor(schemaId: SchemaId,\n\t\t\t\tprivate readonly rowColoring: SchemaRowColoring) {\n\t\tsuper(schemaId, 'RowColoringSetEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<SchemaId> {\n\t\treturn new RowColoringSetEvent(this.getAggregateId(), this.rowColoring);\n\t}\n\n}\n","import { SchemaId } from '../../schema.id';\nimport { SchemaDomainEvent } from '../../schema.domain-event';\n\nexport class SchemaVerticalGridSetEvent extends SchemaDomainEvent {\n\n\tconstructor(schemaId: SchemaId,\n\t\t\t\tprivate readonly verticalGrid: boolean) {\n\t\tsuper(schemaId, verticalGrid, 'SchemaVerticalGridSetEvent');\n\t}\n\n\tgetVerticalGrid(): boolean {\n\t\treturn this.verticalGrid;\n\t}\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { SchemaId } from '../../schema.id';\nimport { SchemaHorizontalGridSetEvent } from '../horizontal/schema-horizontal-grid-set.event';\nimport { SchemaVerticalGridSetEvent } from './schema-vertical-grid-set.event';\nimport { SchemaAggregateEvent } from '../../schema.aggregate-event';\n\nexport class SchemaVerticalGridSetAggregateEvent extends SchemaAggregateEvent {\n\n\tconstructor(schemaId: SchemaId,\n\t\t\t\tprivate readonly verticalGrid: boolean) {\n\t\tsuper(schemaId, 'SchemaHorizontalGridSetEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<SchemaId> {\n\t\treturn new SchemaVerticalGridSetEvent(this.getAggregateId(), this.verticalGrid);\n\t}\n}\n","import { SchemaId } from '../../schema.id';\nimport { SchemaDomainEvent } from '../../schema.domain-event';\n\n\nexport class SchemaHorizontalGridSetEvent extends SchemaDomainEvent {\n\n\tconstructor(schemaId: SchemaId,\n\t\t\t\tprivate readonly horizontalGrid: boolean) {\n\t\tsuper(schemaId, horizontalGrid, 'SchemaHorizontalGridSetEvent');\n\t}\n\n\tgetHorizontalGrid(): boolean {\n\t\treturn this.horizontalGrid;\n\t}\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { SchemaId } from '../../schema.id';\nimport { SchemaHorizontalGridSetEvent } from './schema-horizontal-grid-set.event';\nimport { SchemaAggregateEvent } from '../../schema.aggregate-event';\n\n\nexport class SchemaHorizontalGridSetAggregateEvent extends SchemaAggregateEvent {\n\n\tconstructor(schemaId: SchemaId,\n\t\t\t\tprivate readonly horizontalGrid: boolean) {\n\t\tsuper(schemaId, 'SchemaHorizontalGridSetEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<SchemaId> {\n\t\treturn new SchemaHorizontalGridSetEvent(this.getAggregateId(), this.horizontalGrid);\n\t}\n}\n","import { SchemaDomainEvent } from '../schema.domain-event';\nimport { SchemaId } from '../schema.id';\n\n\nexport class SchemaCreatedEvent extends SchemaDomainEvent {\n\n\tconstructor(aggregateId: SchemaId) {\n\t\tsuper(aggregateId, null, 'SchemaCreatedEvent');\n\t}\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { SchemaId } from '../schema.id';\nimport { SchemaCreatedEvent } from './schema-created.event';\nimport { SchemaAggregateEvent } from '../schema.aggregate-event';\n\nexport class SchemaCreatedAggregateEvent extends SchemaAggregateEvent {\n\n\tconstructor(aggregateId: SchemaId) {\n\t\tsuper(aggregateId, 'SchemaCreatedAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<SchemaId> {\n\t\treturn new SchemaCreatedEvent(this.getAggregateId());\n\t}\n}\n","import { AggregateEvent, AggregateEventType, AggregateRoot } from '@generic-ui/hermes';\n\nimport { SchemaId } from './schema.id';\nimport { SchemaTheme } from '../api/theme/schema-theme';\nimport { SchemaRowColoring } from '../api/row-coloring/schema-row-coloring';\nimport { SchemaThemeSetAggregateEvent } from './theme/schema-theme-set.aggregate-event';\nimport { RowColoringSetAggregateEvent } from './row-coloring/row-coloring-set.aggregate-event';\nimport { SchemaVerticalGridSetAggregateEvent } from './grid/vertical/schema-vertical-grid-set.aggregate-event';\nimport { SchemaHorizontalGridSetAggregateEvent } from './grid/horizontal/schema-horizontal-grid-set.aggregate-event';\nimport { SchemaCreatedAggregateEvent } from './create/schema-created.aggregate-event';\n\n\nexport class SchemaAggregate extends AggregateRoot<SchemaId> {\n\n\tstatic readonly DEFAULT_THEME = SchemaTheme.GENERIC;\n\n\tstatic readonly DEFAULT_ROW_COLORING = SchemaRowColoring.ODD;\n\n\tstatic readonly DEFAULT_VERTICAL_GRID = true;\n\n\tstatic readonly DEFAULT_HORIZONTAL_GRID = true;\n\n\tprivate horizontalGrid: boolean;\n\n\tprivate verticalGrid: boolean;\n\n\tprivate theme: SchemaTheme;\n\n\tprivate rowColoring: SchemaRowColoring;\n\n\tconstructor(id: SchemaId) {\n\t\tsuper(id, 'SchemaAggregate');\n\t\tthis.setTheme(SchemaAggregate.DEFAULT_THEME);\n\t\tthis.setHorizontalGrid(SchemaAggregate.DEFAULT_HORIZONTAL_GRID);\n\t\tthis.setVerticalGrid(SchemaAggregate.DEFAULT_VERTICAL_GRID);\n\t\tthis.setRowColoring(SchemaAggregate.DEFAULT_ROW_COLORING);\n\t}\n\n\tcreateEvent(): AggregateEventType<AggregateEvent<SchemaId>> {\n\t\treturn SchemaCreatedAggregateEvent;\n\t}\n\n\tchangeTheme(theme: SchemaTheme): void {\n\t\tthis.setTheme(theme);\n\n\t\tif (theme === SchemaTheme.MATERIAL) {\n\t\t\tthis.setRowColoring(SchemaRowColoring.NONE);\n\t\t\tthis.setVerticalGrid(false);\n\t\t}\n\n\t\tif (theme === SchemaTheme.LIGHT) {\n\t\t\tthis.setRowColoring(SchemaRowColoring.NONE);\n\t\t\tthis.setVerticalGrid(false);\n\t\t}\n\n\t\tif (theme === SchemaTheme.DARK) {\n\t\t\tthis.setRowColoring(SchemaRowColoring.NONE);\n\t\t\tthis.setVerticalGrid(false);\n\t\t}\n\n\t\tif (theme === SchemaTheme.GENERIC) {\n\t\t\tthis.setRowColoring(SchemaRowColoring.ODD);\n\t\t}\n\t}\n\n\tsetRowColoring(coloring: SchemaRowColoring): void {\n\t\tthis.rowColoring = coloring;\n\t\tthis.addEvent(new RowColoringSetAggregateEvent(this.getId(), this.rowColoring));\n\t}\n\n\tsetVerticalGrid(enabled: boolean): void {\n\t\tthis.verticalGrid = enabled;\n\t\tthis.addEvent(new SchemaVerticalGridSetAggregateEvent(this.getId(), this.verticalGrid));\n\t}\n\n\tsetHorizontalGrid(enabled: boolean): void {\n\t\tthis.horizontalGrid = enabled;\n\t\tthis.addEvent(new SchemaHorizontalGridSetAggregateEvent(this.getId(), this.horizontalGrid));\n\t}\n\n\tprivate setTheme(theme: SchemaTheme): void {\n\t\tthis.theme = theme;\n\t\tthis.addEvent(new SchemaThemeSetAggregateEvent(this.getId(), this.theme));\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateFactory } from '@generic-ui/hermes';\n\nimport { SchemaAggregate } from '../schema.aggregate';\nimport { SchemaId } from '../schema.id';\n\n\n@Injectable()\nexport class SchemaAggregateFactory extends AggregateFactory<SchemaId, SchemaAggregate> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tcreate(aggregateId: SchemaId): SchemaAggregate {\n\t\treturn new SchemaAggregate(aggregateId);\n\t}\n}\n","import { AggregateRepository, Optional } from '@generic-ui/hermes';\n\nimport { SchemaAggregate } from './schema.aggregate';\nimport { SchemaId } from './schema.id';\n\n\nexport abstract class SchemaAggregateRepository extends AggregateRepository<SchemaId, SchemaAggregate> {\n\n\tabstract findById(schemaId: SchemaId): Optional<SchemaAggregate>;\n\n\tabstract save(aggregate: SchemaAggregate): void;\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { InMemoryStore } from '@generic-ui/hermes';\n\nimport { SchemaAggregate } from '../../domain/schema.aggregate';\nimport { SchemaId } from '../../domain/schema.id';\n\n\n@Injectable()\nexport class InMemorySchemaStore extends InMemoryStore<SchemaId, SchemaAggregate> {\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateStoreRegister, InMemoryAggregateStore } from '@generic-ui/hermes';\n\nimport { SchemaAggregate } from '../../domain/schema.aggregate';\nimport { InMemorySchemaStore } from './in-memory.schema.store';\nimport { SchemaId } from '../../domain/schema.id';\n\n\n@Injectable()\nexport class InMemorySchemaAggregateStore extends InMemoryAggregateStore<SchemaId, SchemaAggregate> {\n\n\tconstructor(inMemorySchemaStore: InMemorySchemaStore,\n\t\t\t\taggregateStoreRegister: AggregateStoreRegister) {\n\t\tsuper(inMemorySchemaStore, aggregateStoreRegister);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { Optional } from '@generic-ui/hermes';\n\nimport { SchemaAggregateRepository } from '../../domain/schema.aggregate-repository';\nimport { SchemaAggregate } from '../../domain/schema.aggregate';\nimport { SchemaId } from '../../domain/schema.id';\nimport { InMemorySchemaAggregateStore } from './in-memory.schema.aggregate-store';\n\n\n@Injectable()\nexport class InMemorySchemaAggregateRepository extends SchemaAggregateRepository {\n\n\tconstructor(private inMemorySchemaAggregateStore: InMemorySchemaAggregateStore) {\n\t\tsuper();\n\t}\n\n\tfindById(schemaId: SchemaId): Optional<SchemaAggregate> {\n\t\treturn this.inMemorySchemaAggregateStore.findById(schemaId);\n\t}\n\n\tsave(schemaAggregate: SchemaAggregate): void {\n\t\tthis.inMemorySchemaAggregateStore.save(schemaAggregate);\n\t}\n\n}\n","import { CreateAggregateCommand } from '@generic-ui/hermes';\nimport { SchemaId } from '../schema.id';\n\n\nexport class CreateSchemaCommand extends CreateAggregateCommand {\n\n\tconstructor(schemaId: SchemaId) {\n\t\tsuper(schemaId, 'CreateSchemaCommand');\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandType, CreateAggregateCommandHandler } from '@generic-ui/hermes';\n\nimport { CreateSchemaCommand } from './create-schema.command';\nimport { SchemaAggregate } from '../schema.aggregate';\n\n\n@Injectable()\nexport class CreateSchemaCommandHandler implements CreateAggregateCommandHandler<SchemaAggregate, CreateSchemaCommand> {\n\n\tforCommand(): CommandType<CreateSchemaCommand> {\n\t\treturn CreateSchemaCommand;\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\nimport { SchemaId } from './schema.id';\n\nexport abstract class SchemaCommand extends Command<SchemaId> {\n}\n","import { SchemaId } from '../schema.id';\nimport { SchemaTheme } from '../../api/theme/schema-theme';\nimport { SchemaCommand } from '../schema.command';\n\n\nexport class SetSchemaThemeCommand extends SchemaCommand {\n\n\tconstructor(schemaId: SchemaId,\n\t\t\t\tprivate readonly theme: SchemaTheme) {\n\t\tsuper(schemaId, 'SetSchemaThemeCommand');\n\t}\n\n\tgetTheme(): SchemaTheme {\n\t\treturn this.theme;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { SetSchemaThemeCommand } from './set-schema-theme.command';\nimport { SchemaAggregate } from '../schema.aggregate';\n\n\n@Injectable()\nexport class SetSchemaThemeCommandHandler implements CommandHandler<SchemaAggregate, SetSchemaThemeCommand> {\n\n\tconstructor(private readonly domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SetSchemaThemeCommand> {\n\t\treturn SetSchemaThemeCommand;\n\t}\n\n\thandle(schemaAggregate: SchemaAggregate, command: SetSchemaThemeCommand): void {\n\n\t\tconst theme = command.getTheme();\n\n\t\tschemaAggregate.changeTheme(theme);\n\t}\n\n\tpublish(aggregate: SchemaAggregate, command: SetSchemaThemeCommand): void {\n\t\tthis.domainEventPublisher.publishFromAggregate(aggregate);\n\t}\n\n}\n","import { SchemaRowColoring } from '../../api/row-coloring/schema-row-coloring';\nimport { SchemaId } from '../schema.id';\nimport { SchemaCommand } from '../schema.command';\n\n\nexport class SetRowColoringCommand extends SchemaCommand {\n\n\tconstructor(schemaId: SchemaId,\n\t\t\t\tprivate readonly coloring: SchemaRowColoring) {\n\t\tsuper(schemaId, 'SetRowColoringCommand');\n\t}\n\n\tgetColoring(): SchemaRowColoring {\n\t\treturn this.coloring;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { SetRowColoringCommand } from './set-row-coloring.command';\nimport { SchemaAggregate } from '../schema.aggregate';\n\n\n@Injectable()\nexport class SetRowColoringCommandHandler implements CommandHandler<SchemaAggregate, SetRowColoringCommand> {\n\n\tconstructor(private domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SetRowColoringCommand> {\n\t\treturn SetRowColoringCommand;\n\t}\n\n\thandle(schemaAggregate: SchemaAggregate, command: SetRowColoringCommand): void {\n\n\t\tconst coloring = command.getColoring();\n\t\tschemaAggregate.setRowColoring(coloring);\n\t}\n\n\tpublish(aggregate: SchemaAggregate, command: SetRowColoringCommand): void {\n\t\tthis.domainEventPublisher.publishFromAggregate(aggregate);\n\t}\n\n}\n","import { SchemaId } from '../../schema.id';\nimport { SchemaCommand } from '../../schema.command';\n\n\nexport class SetSchemaHorizontalGridCommand extends SchemaCommand {\n\n\tconstructor(schemaId: SchemaId,\n\t\t\t\tprivate readonly enabled: boolean) {\n\t\tsuper(schemaId, 'SetSchemaHorizontalGridCommand');\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { SetSchemaHorizontalGridCommand } from './set-schema-horizontal-grid.command';\nimport { SchemaAggregate } from '../../schema.aggregate';\n\n\n@Injectable()\nexport class SetSchemaHorizontalGridCommandHandler implements CommandHandler<SchemaAggregate, SetSchemaHorizontalGridCommand> {\n\n\tconstructor(private domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SetSchemaHorizontalGridCommand> {\n\t\treturn SetSchemaHorizontalGridCommand;\n\t}\n\n\thandle(schemaAggregate: SchemaAggregate, command: SetSchemaHorizontalGridCommand): void {\n\n\t\tconst enabled = command.isEnabled();\n\n\t\tschemaAggregate.setHorizontalGrid(enabled);\n\t}\n\n\tpublish(schemaAggregate: SchemaAggregate, command: SetSchemaHorizontalGridCommand): void {\n\t\tthis.domainEventPublisher.publishFromAggregate(schemaAggregate);\n\t}\n}\n","import { SchemaId } from '../../schema.id';\nimport { SchemaCommand } from '../../schema.command';\n\n\nexport class SetSchemaVerticalGridCommand extends SchemaCommand {\n\n\tconstructor(schemaId: SchemaId,\n\t\t\t\tprivate readonly enabled: boolean) {\n\t\tsuper(schemaId, 'SetSchemaVerticalGridCommand');\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { SetSchemaVerticalGridCommand } from './set-schema-vertical-grid.command';\nimport { SchemaAggregate } from '../../schema.aggregate';\n\n\n@Injectable()\nexport class SetSchemaVerticalGridCommandHandler implements CommandHandler<SchemaAggregate, SetSchemaVerticalGridCommand> {\n\n\tconstructor(private domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SetSchemaVerticalGridCommand> {\n\t\treturn SetSchemaVerticalGridCommand;\n\t}\n\n\thandle(schemaAggregate: SchemaAggregate, command: SetSchemaVerticalGridCommand): void {\n\n\t\tconst enabled = command.isEnabled();\n\n\t\tschemaAggregate.setVerticalGrid(enabled);\n\t}\n\n\tpublish(schemaAggregate: SchemaAggregate, command: SetSchemaVerticalGridCommand): void {\n\t\tthis.domainEventPublisher.publishFromAggregate(schemaAggregate);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, ReplaySubject } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nimport { SchemaId } from '../../domain/schema.id';\nimport { Reactive } from '../../../../common/cdk/reactive/reactive';\nimport { SchemaCssClass } from '../../api/css-classes/schema-css-class';\n\n\n@Injectable()\nexport class SchemaCssClassesRepository extends Reactive {\n\n\tprivate theme = new Map<string, SchemaCssClass>();\n\n\tprivate theme$ = new ReplaySubject<Map<string, SchemaCssClass>>();\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tsetCssClass(theme: SchemaCssClass, schemaId: SchemaId): void {\n\t\tthis.next(theme, schemaId);\n\t}\n\n\ton(schemaId: SchemaId): Observable<SchemaCssClass> {\n\n\t\treturn this.theme$\n\t\t\t\t   .asObservable()\n\t\t\t\t   .pipe(\n\t\t\t\t\t   this.takeUntil(),\n\t\t\t\t\t   map((map: Map<string, SchemaCssClass>) => {\n\t\t\t\t\t\t   return map.get(schemaId.toString());\n\t\t\t\t\t   })\n\t\t\t\t\t   // distinctUntilChanged()\n\t\t\t\t   );\n\t}\n\n\tprivate next(theme: SchemaCssClass, schemaId: SchemaId): void {\n\t\tthis.theme.set(schemaId.toString(), theme);\n\t\tthis.theme$.next(this.theme);\n\t}\n\n}\n","import { SchemaTheme } from '../theme/schema-theme';\nimport { SchemaRowColoring } from '../row-coloring/schema-row-coloring';\n\nexport class SchemaCssClass {\n\n\tconstructor(public readonly verticalGrid: boolean,\n\t\t\t\tpublic readonly horizontalGrid: boolean,\n\t\t\t\tpublic readonly theme: SchemaTheme,\n\t\t\t\tpublic readonly rowColoring: SchemaRowColoring) {\n\t}\n\n\tgetRowColoring(): SchemaRowColoring {\n\t\treturn this.rowColoring;\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventType, MultiDomainEventHandler } from '@generic-ui/hermes';\n\nimport { SchemaCssClassesRepository } from './schema.css-classes.repository';\nimport { SchemaId } from '../../domain/schema.id';\nimport { SchemaThemeSetEvent } from '../../domain/theme/schema-theme-set.event';\nimport { RowColoringSetEvent } from '../../domain/row-coloring/row-coloring-set.event';\nimport { SchemaHorizontalGridSetEvent } from '../../domain/grid/horizontal/schema-horizontal-grid-set.event';\nimport { SchemaVerticalGridSetEvent } from '../../domain/grid/vertical/schema-vertical-grid-set.event';\nimport { SchemaCssClass } from '../../api/css-classes/schema-css-class';\nimport { SchemaRowColoring } from '../../api/row-coloring/schema-row-coloring';\nimport { SchemaTheme } from '../../api/theme/schema-theme';\n\nexport type SchemaCssClassesEventType =\n\tSchemaThemeSetEvent\n\t| RowColoringSetEvent\n\t| SchemaHorizontalGridSetEvent\n\t| SchemaVerticalGridSetEvent;\n\n@Injectable()\nexport class SchemaCssClassesEventHandler implements MultiDomainEventHandler<SchemaId, SchemaCssClassesEventType> {\n\n\trowColoring: SchemaRowColoring;\n\n\thorizontalGrid: boolean;\n\n\tverticalGrid: boolean;\n\n\tschemaTheme: SchemaTheme;\n\n\tconstructor(private schemaCssClassesRepository: SchemaCssClassesRepository) {\n\t}\n\n\tprivate publish(aggregateId: SchemaId): void {\n\t\tif (this.rowColoring !== undefined && this.horizontalGrid !== undefined && this.verticalGrid !== undefined && this.schemaTheme !== undefined) {\n\t\t\tthis.schemaCssClassesRepository.setCssClass(\n\t\t\t\tnew SchemaCssClass(this.verticalGrid, this.horizontalGrid, this.schemaTheme, this.rowColoring),\n\t\t\t\taggregateId\n\t\t\t);\n\t\t}\n\t}\n\n\tforEvents(): Array<DomainEventType<SchemaCssClassesEventType>> {\n\t\treturn [\n\t\t\tSchemaThemeSetEvent,\n\t\t\tRowColoringSetEvent,\n\t\t\tSchemaHorizontalGridSetEvent,\n\t\t\tSchemaVerticalGridSetEvent\n\t\t];\n\t}\n\n\thandle(event: SchemaCssClassesEventType): void {\n\n\t\tif (event.ofMessageType('RowColoringSetEvent')) {\n\t\t\tthis.rowColoring = (event as RowColoringSetEvent).getRowColoring();\n\t\t}\n\n\t\tif (event.ofMessageType('SchemaHorizontalGridSetEvent')) {\n\t\t\tthis.horizontalGrid = (event as SchemaHorizontalGridSetEvent).getHorizontalGrid();\n\t\t}\n\n\t\tif (event.ofMessageType('SchemaVerticalGridSetEvent')) {\n\t\t\tthis.verticalGrid = (event as SchemaVerticalGridSetEvent).getVerticalGrid();\n\t\t}\n\n\t\tif (event.ofMessageType('SchemaThemeSetEvent')) {\n\t\t\tthis.schemaTheme = (event as SchemaThemeSetEvent).getTheme();\n\t\t}\n\n\t\tthis.publish(event.getAggregateId());\n\n\t}\n\n}\n","export const schemaKey = 'SchemaAggregate';\n","import { Injectable } from '@angular/core';\nimport { DomainEventType, EventDrivenRepository } from '@generic-ui/hermes';\nimport { SchemaId } from '../../domain/schema.id';\nimport { SchemaVerticalGridSetEvent } from '../../domain/grid/vertical/schema-vertical-grid-set.event';\n\n\n@Injectable()\nexport class SchemaVerticalGridRepository extends EventDrivenRepository<SchemaId, SchemaVerticalGridSetEvent, boolean> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tforEvent(): DomainEventType<SchemaVerticalGridSetEvent> {\n\t\treturn SchemaVerticalGridSetEvent;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventType, EventDrivenRepository } from '@generic-ui/hermes';\nimport { SchemaTheme } from '../../api/theme/schema-theme';\nimport { SchemaId } from '../../domain/schema.id';\nimport { SchemaThemeSetEvent } from '../../domain/theme/schema-theme-set.event';\n\n@Injectable()\nexport class SchemaThemeRepository extends EventDrivenRepository<SchemaId, SchemaThemeSetEvent, SchemaTheme> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tforEvent(): DomainEventType<SchemaThemeSetEvent> {\n\t\treturn SchemaThemeSetEvent;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { DomainEventType, EventDrivenRepository } from '@generic-ui/hermes';\nimport { SchemaRowColoring } from '../../api/row-coloring/schema-row-coloring';\nimport { SchemaId } from '../../domain/schema.id';\nimport { RowColoringSetEvent } from '../../domain/row-coloring/row-coloring-set.event';\n\n@Injectable()\nexport class SchemaRowColoringRepository extends EventDrivenRepository<SchemaId, RowColoringSetEvent, SchemaRowColoring> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tforEvent(): DomainEventType<RowColoringSetEvent> {\n\t\treturn RowColoringSetEvent;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { DomainEventType, EventDrivenRepository } from '@generic-ui/hermes';\nimport { SchemaId } from '../../domain/schema.id';\nimport { SchemaHorizontalGridSetEvent } from '../../domain/grid/horizontal/schema-horizontal-grid-set.event';\n\n\n@Injectable()\nexport class SchemaHorizontalGridRepository extends EventDrivenRepository<SchemaId, SchemaHorizontalGridSetEvent, boolean> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tforEvent(): DomainEventType<SchemaHorizontalGridSetEvent> {\n\t\treturn SchemaHorizontalGridSetEvent;\n\t}\n\n}\n","import { NgModule, Provider } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { DomainModule, HermesModule } from '@generic-ui/hermes';\n\nimport { SetSchemaThemeCommandHandler } from './theme/set-schema-theme.command-handler';\nimport { SetRowColoringCommandHandler } from './row-coloring/set-row-coloring.command-handler';\nimport { SetSchemaHorizontalGridCommandHandler } from './grid/horizontal/set-schema-horizontal-grid.command-handler';\nimport { SetSchemaVerticalGridCommandHandler } from './grid/vertical/set-schema-vertical-grid.command-handler';\nimport { SchemaCssClassesEventHandler } from '../domain-read/css-classes/schema-css-classes.event-handler';\nimport { schemaKey } from './schema.key';\nimport { SchemaVerticalGridRepository } from '../domain-read/vertical-grid/schema.vertical-grid.repository';\nimport { SchemaThemeRepository } from '../domain-read/theme/schema.theme.repository';\nimport { SchemaRowColoringRepository } from '../domain-read/row-coloring/schema.row-coloring.repository';\nimport { SchemaHorizontalGridRepository } from '../domain-read/horizontal-grid/schema.horizontal-grid.repository';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule\n\t],\n\tproviders: [],\n\tdeclarations: [],\n\texports: []\n})\nexport class SchemaDomainModule extends DomainModule {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tstatic commandHandlers(): Array<Provider> {\n\t\treturn [\n\t\t\t...HermesModule.registerCommandHandler(SetSchemaThemeCommandHandler, schemaKey),\n\t\t\t...HermesModule.registerCommandHandler(SetRowColoringCommandHandler, schemaKey),\n\t\t\t...HermesModule.registerCommandHandler(SetSchemaHorizontalGridCommandHandler, schemaKey),\n\t\t\t...HermesModule.registerCommandHandler(SetSchemaVerticalGridCommandHandler, schemaKey)\n\t\t];\n\t}\n\n\tstatic domainEventHandlers(): Array<Provider> {\n\t\treturn [\n\t\t\t...HermesModule.registerDomainEventHandler(SchemaThemeRepository),\n\t\t\t...HermesModule.registerDomainEventHandler(SchemaHorizontalGridRepository),\n\t\t\t...HermesModule.registerDomainEventHandler(SchemaRowColoringRepository),\n\t\t\t...HermesModule.registerDomainEventHandler(SchemaVerticalGridRepository),\n\t\t\t...HermesModule.registerMultiDomainEventHandler(SchemaCssClassesEventHandler)\n\t\t];\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandDispatcher } from '@generic-ui/hermes';\n\nimport { SchemaTheme } from '../api/theme/schema-theme';\nimport { SchemaId } from './schema.id';\nimport { SetSchemaThemeCommand } from './theme/set-schema-theme.command';\nimport { CreateSchemaCommand } from './create/create-schema.command';\nimport { SetRowColoringCommand } from './row-coloring/set-row-coloring.command';\nimport { SchemaRowColoring } from '../api/row-coloring/schema-row-coloring';\nimport { SetSchemaVerticalGridCommand } from './grid/vertical/set-schema-vertical-grid.command';\nimport { SetSchemaHorizontalGridCommand } from './grid/horizontal/set-schema-horizontal-grid.command';\n\n\n@Injectable()\nexport class SchemaDispatcher {\n\n\tconstructor(private readonly commandDispatcher: CommandDispatcher) {\n\t}\n\n\tcreate(schemaId: SchemaId): void {\n\t\tthis.commandDispatcher.dispatch(new CreateSchemaCommand(schemaId));\n\t}\n\n\tsetTheme(theme: SchemaTheme, schemaId: SchemaId): void {\n\t\tthis.commandDispatcher.dispatch(new SetSchemaThemeCommand(schemaId, theme));\n\t}\n\n\tsetRowColoring(rowColoring: SchemaRowColoring, schemaId: SchemaId): void {\n\t\tthis.commandDispatcher.dispatch(new SetRowColoringCommand(schemaId, rowColoring));\n\t}\n\n\tsetVerticalGrid(verticalGrid: boolean, schemaId: SchemaId): void {\n\t\tthis.commandDispatcher.dispatch(new SetSchemaVerticalGridCommand(schemaId, verticalGrid));\n\t}\n\n\tsetHorizontalGrid(horizontalGrid: boolean, schemaId: SchemaId): void {\n\t\tthis.commandDispatcher.dispatch(new SetSchemaHorizontalGridCommand(schemaId, horizontalGrid));\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandInvoker } from '@generic-ui/hermes';\n\nimport { SchemaTheme } from './theme/schema-theme';\nimport { SchemaReadModelRootId } from './schema.read-model-root-id';\nimport { StructureId } from '../../../structure/core/domain/structure.id';\nimport { RowColoring } from './row-coloring/row-coloring';\n\n\n@Injectable()\nexport abstract class SchemaCommandInvoker implements CommandInvoker {\n\n\tprotected constructor() {\n\t}\n\n\tabstract create(schemaId?: SchemaReadModelRootId): void;\n\n\tabstract setTheme(\n\t\ttheme: SchemaTheme,\n\t\tschemaId?: SchemaReadModelRootId,\n\t\tstructureId?: StructureId\n\t): void;\n\n\tabstract setRowColoring(rowColoring: RowColoring, schemaId?: SchemaReadModelRootId): void;\n\n\tabstract setVerticalGrid(verticalGrid: boolean, schemaId?: SchemaReadModelRootId): void;\n\n\tabstract setHorizontalGrid(horizontalGrid: boolean, schemaId?: SchemaReadModelRootId): void;\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { Warehouse } from '@generic-ui/hermes';\n\nimport { SchemaTheme } from './theme/schema-theme';\nimport { SchemaReadModelRootId } from './schema.read-model-root-id';\nimport { SchemaCssClass } from './css-classes/schema-css-class';\nimport { SchemaRowColoring } from './row-coloring/schema-row-coloring';\n\n@Injectable()\nexport abstract class SchemaWarehouse implements Warehouse {\n\n\tabstract onTheme(schemaId?: SchemaReadModelRootId): Observable<SchemaTheme>;\n\n\tabstract onSingleTheme(schemaId?: SchemaReadModelRootId): Observable<SchemaTheme>;\n\n\tabstract onHorizontalGrid(schemaId?: SchemaReadModelRootId): Observable<boolean>;\n\n\tabstract onVerticalGrid(schemaId?: SchemaReadModelRootId): Observable<boolean>;\n\n\tabstract onRowColoring(schemaId?: SchemaReadModelRootId): Observable<SchemaRowColoring>;\n\n\tabstract onCssClasses(schemaId?: SchemaReadModelRootId): Observable<SchemaCssClass>;\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { DomainEventBus, EventRepository } from '@generic-ui/hermes';\nimport { SchemaReadModelRootId } from './schema.read-model-root-id';\nimport { SchemaTheme } from './theme/schema-theme';\nimport { SchemaRowColoring } from './row-coloring/schema-row-coloring';\nimport { SchemaId } from '../domain/schema.id';\n\n@Injectable()\nexport abstract class SchemaEventRepository extends EventRepository<SchemaReadModelRootId, SchemaId> {\n\n\tprotected constructor(domainEventBus: DomainEventBus) {\n\t\tsuper(domainEventBus);\n\t}\n\n\tabstract onThemeChanged(schemaId: SchemaReadModelRootId): Observable<SchemaTheme>;\n\n\tabstract onHorizontalGridChanged(schemaId: SchemaReadModelRootId): Observable<boolean>;\n\n\tabstract onVerticalGridChanged(schemaId: SchemaReadModelRootId): Observable<boolean>;\n\n\tabstract onRowColoring(schemaId: SchemaReadModelRootId): Observable<SchemaRowColoring>;\n\n}\n","import { AggregateId } from '@generic-ui/hermes';\n\nimport { SchemaReadModelRootId } from '../api/schema.read-model-root-id';\n\n\nexport class SchemaId extends AggregateId {\n\n\tconstructor(id: string) {\n\t\tsuper(id);\n\t}\n\n\ttoReadModelRootId(): SchemaReadModelRootId {\n\t\treturn new SchemaReadModelRootId(this.getId());\n\t}\n}\n","import { ReadModelRootId } from '@generic-ui/hermes';\n\nimport { SchemaId } from '../domain/schema.id';\n\n\nexport class SchemaReadModelRootId extends ReadModelRootId {\n\n\tconstructor(id: string) {\n\t\tsuper(id);\n\t}\n\n\ttoAggregateId(): SchemaId {\n\t\treturn new SchemaId(this.getId());\n\t}\n}\n","import { SchemaReadModelRootId } from './schema.read-model-root-id';\n\nexport const schemaGlobalId = new SchemaReadModelRootId('-1');\n","export enum RowColoring {\n\tNONE,\n\tEVEN,\n\tODD\n}\n","import { SchemaDispatcher } from './schema.dispatcher';\nimport { StructureCommandInvoker } from '../../../structure/core/api/structure.command-invoker';\nimport { FabricModalThemeService, Theme } from '@generic-ui/fabric';\nimport { SchemaReadModelRootId } from '../api/schema.read-model-root-id';\nimport { schemaGlobalId } from '../api/schema.global-id';\nimport { SchemaTheme } from '../api/theme/schema-theme';\nimport { StructureId } from '../../../structure/core/domain/structure.id';\nimport { structureGlobalId } from '../../../structure/core/api/structure.global-id';\nimport { RowColoring } from '../api/row-coloring/row-coloring';\nimport { SchemaRowColoring } from '../api/row-coloring/schema-row-coloring';\nimport { Injectable } from '@angular/core';\nimport { SchemaCommandInvoker } from '../api/schema.command-invoker';\n\n\n@Injectable()\nexport class SchemaDomainCommandInvoker extends SchemaCommandInvoker {\n\n\tconstructor(private readonly schemaDispatcher: SchemaDispatcher,\n\t\t\t\tprivate readonly structureCommandService: StructureCommandInvoker,\n\t\t\t\tprivate readonly fabricModalThemeService: FabricModalThemeService) {\n\t\tsuper();\n\t}\n\n\tcreate(schemaId: SchemaReadModelRootId = schemaGlobalId): void {\n\t\tthis.schemaDispatcher.create(schemaId.toAggregateId());\n\t}\n\n\tsetTheme(theme: SchemaTheme,\n\t\t\t schemaId: SchemaReadModelRootId = schemaGlobalId,\n\t\t\t structureId: StructureId = structureGlobalId\n\t): void {\n\t\tthis.schemaDispatcher.setTheme(theme, schemaId.toAggregateId());\n\t\tthis.fabricModalThemeService.changeTheme(this.toFabricTheme(theme)); // TODO github #2162\n\t\tthis.structureCommandService.setRowHeightBasedOnTheme(theme, structureId);\n\t}\n\n\tsetRowColoring(rowColoring: RowColoring, schemaId: SchemaReadModelRootId = schemaGlobalId): void {\n\n\t\tconst schemaRowColoring: SchemaRowColoring = this.toSchemaRowColoring(rowColoring);\n\n\t\tthis.schemaDispatcher.setRowColoring(schemaRowColoring, schemaId.toAggregateId());\n\t}\n\n\tsetVerticalGrid(verticalGrid: boolean, schemaId: SchemaReadModelRootId = schemaGlobalId): void {\n\t\tthis.schemaDispatcher.setVerticalGrid(verticalGrid, schemaId.toAggregateId());\n\t}\n\n\tsetHorizontalGrid(horizontalGrid: boolean, schemaId: SchemaReadModelRootId = schemaGlobalId): void {\n\t\tthis.schemaDispatcher.setHorizontalGrid(horizontalGrid, schemaId.toAggregateId());\n\t}\n\n\tprivate toSchemaRowColoring(coloring: RowColoring): SchemaRowColoring {\n\t\tswitch (coloring) {\n\n\t\t\tcase RowColoring.NONE:\n\t\t\t\treturn SchemaRowColoring.NONE;\n\n\t\t\tcase RowColoring.ODD:\n\t\t\t\treturn SchemaRowColoring.ODD;\n\n\t\t\tcase RowColoring.EVEN:\n\t\t\t\treturn SchemaRowColoring.EVEN;\n\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tprivate toFabricTheme(schemaTheme: SchemaTheme): Theme {\n\n\t\tswitch (schemaTheme) {\n\t\t\tcase SchemaTheme.DARK: {\n\t\t\t\treturn Theme.DARK;\n\t\t\t}\n\n\t\t\tcase SchemaTheme.FABRIC: {\n\t\t\t\treturn Theme.FABRIC;\n\t\t\t}\n\n\t\t\tcase SchemaTheme.GENERIC: {\n\t\t\t\treturn Theme.GENERIC;\n\t\t\t}\n\n\t\t\tcase SchemaTheme.LIGHT: {\n\t\t\t\treturn Theme.LIGHT;\n\t\t\t}\n\n\t\t\tcase SchemaTheme.MATERIAL: {\n\t\t\t\treturn Theme.MATERIAL;\n\t\t\t}\n\n\t\t\tdefault:\n\t\t\t\tbreak;\n\n\t\t}\n\t}\n}\n","import { SchemaCssClassesRepository } from './css-classes/schema.css-classes.repository';\nimport { SchemaThemeRepository } from './theme/schema.theme.repository';\nimport { SchemaHorizontalGridRepository } from './horizontal-grid/schema.horizontal-grid.repository';\nimport { SchemaRowColoringRepository } from './row-coloring/schema.row-coloring.repository';\nimport { SchemaVerticalGridRepository } from './vertical-grid/schema.vertical-grid.repository';\nimport { SchemaReadModelRootId } from '../api/schema.read-model-root-id';\nimport { schemaGlobalId } from '../api/schema.global-id';\nimport { SchemaTheme } from '../api/theme/schema-theme';\nimport { SchemaRowColoring } from '../api/row-coloring/schema-row-coloring';\nimport { SchemaCssClass } from '../api/css-classes/schema-css-class';\nimport { SchemaWarehouse } from '../api/schema.warehouse';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { take } from 'rxjs/operators';\n\n\n@Injectable()\nexport class SchemaDomainWarehouse extends SchemaWarehouse {\n\n\tconstructor(private readonly schemaCssClassesRepository: SchemaCssClassesRepository,\n\t\t\t\tprivate readonly schemaThemeRepository: SchemaThemeRepository,\n\t\t\t\tprivate readonly schemaHorizontalGridRepository: SchemaHorizontalGridRepository,\n\t\t\t\tprivate readonly schemaRowColoringRepository: SchemaRowColoringRepository,\n\t\t\t\tprivate readonly schemaVerticalGridRepository: SchemaVerticalGridRepository) {\n\t\tsuper();\n\t}\n\n\tonTheme(schemaId: SchemaReadModelRootId = schemaGlobalId): Observable<SchemaTheme> {\n\t\treturn this.schemaThemeRepository\n\t\t\t\t   .on(schemaId.toAggregateId());\n\t}\n\n\tonSingleTheme(schemaId: SchemaReadModelRootId = schemaGlobalId): Observable<SchemaTheme> {\n\t\treturn this.onTheme(schemaId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   take(1)\n\t\t\t\t   );\n\t}\n\n\tonHorizontalGrid(schemaId: SchemaReadModelRootId = schemaGlobalId): Observable<boolean> {\n\t\treturn this.schemaHorizontalGridRepository\n\t\t\t\t   .on(schemaId.toAggregateId());\n\t}\n\n\tonVerticalGrid(schemaId: SchemaReadModelRootId = schemaGlobalId): Observable<boolean> {\n\t\treturn this.schemaVerticalGridRepository\n\t\t\t\t   .on(schemaId.toAggregateId());\n\t}\n\n\tonRowColoring(schemaId: SchemaReadModelRootId = schemaGlobalId): Observable<SchemaRowColoring> {\n\t\treturn this.schemaRowColoringRepository\n\t\t\t\t   .on(schemaId.toAggregateId());\n\t}\n\n\tonCssClasses(schemaId: SchemaReadModelRootId = schemaGlobalId): Observable<SchemaCssClass> {\n\t\treturn this.schemaCssClassesRepository\n\t\t\t\t   .on(schemaId.toAggregateId());\n\t}\n\n}\n","import { DomainEventBus } from '@generic-ui/hermes';\nimport { SchemaReadModelRootId } from '../api/schema.read-model-root-id';\nimport { schemaGlobalId } from '../api/schema.global-id';\nimport { SchemaTheme } from '../api/theme/schema-theme';\nimport { SchemaThemeSetEvent } from './theme/schema-theme-set.event';\nimport { SchemaHorizontalGridSetEvent } from './grid/horizontal/schema-horizontal-grid-set.event';\nimport { SchemaVerticalGridSetEvent } from './grid/vertical/schema-vertical-grid-set.event';\nimport { SchemaRowColoring } from '../api/row-coloring/schema-row-coloring';\nimport { RowColoringSetEvent } from './row-coloring/row-coloring-set.event';\nimport { SchemaEventRepository } from '../api/schema.event-repository';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\n@Injectable()\nexport class SchemaDomainEventRepository extends SchemaEventRepository {\n\n\tconstructor(domainEventBus: DomainEventBus) {\n\t\tsuper(domainEventBus);\n\t}\n\n\tonThemeChanged(schemaId: SchemaReadModelRootId = schemaGlobalId): Observable<SchemaTheme> {\n\n\t\treturn this.onEvent(schemaId, SchemaThemeSetEvent)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((event: SchemaThemeSetEvent) => {\n\t\t\t\t\t\t   return event.getTheme();\n\t\t\t\t\t   })\n\t\t\t\t   );\n\t}\n\n\tonHorizontalGridChanged(schemaId: SchemaReadModelRootId = schemaGlobalId): Observable<boolean> {\n\n\t\treturn this.onEvent(schemaId, SchemaHorizontalGridSetEvent)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((event: SchemaHorizontalGridSetEvent) => event.getHorizontalGrid())\n\t\t\t\t   );\n\t}\n\n\tonVerticalGridChanged(schemaId: SchemaReadModelRootId = schemaGlobalId): Observable<boolean> {\n\n\t\treturn this.onEvent(schemaId, SchemaVerticalGridSetEvent)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((event: SchemaVerticalGridSetEvent) => event.getVerticalGrid())\n\t\t\t\t   );\n\t}\n\n\tonRowColoring(schemaId: SchemaReadModelRootId = schemaGlobalId): Observable<SchemaRowColoring> {\n\n\t\treturn this.onEvent(schemaId, RowColoringSetEvent)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((event: RowColoringSetEvent) => event.getRowColoring())\n\t\t\t\t   );\n\t}\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { ApiModule, HermesModule } from '@generic-ui/hermes';\n\nimport { SchemaAggregateFactory } from '../domain/create/schema.aggregate-factory';\nimport { InMemorySchemaAggregateRepository } from '../infrastructure/in-memory/in-memory.schema.aggregate-repository';\nimport { CreateSchemaCommandHandler } from '../domain/create/create-schema.command-handler';\nimport { SchemaDomainModule } from '../domain/schema.domain-module';\nimport { SchemaDispatcher } from '../domain/schema.dispatcher';\nimport { SchemaAggregateRepository } from '../domain/schema.aggregate-repository';\nimport { InMemorySchemaAggregateStore } from '../infrastructure/in-memory/in-memory.schema.aggregate-store';\nimport { InMemorySchemaStore } from '../infrastructure/in-memory/in-memory.schema.store';\nimport { SchemaCommandInvoker } from './schema.command-invoker';\nimport { SchemaWarehouse } from './schema.warehouse';\nimport { SchemaEventRepository } from './schema.event-repository';\nimport { SchemaCssClassesRepository } from '../domain-read/css-classes/schema.css-classes.repository';\nimport { schemaKey } from '../domain/schema.key';\nimport { SchemaDomainCommandInvoker } from '../domain/schema.domain-command-invoker';\nimport { SchemaDomainWarehouse } from '../domain-read/schema.domain-warehouse';\nimport { SchemaDomainEventRepository } from '../domain/schema.domain-event-repository';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\n\t\tHermesModule.defineAggregate(\n\t\t\tschemaKey,\n\t\t\tSchemaAggregateFactory,\n\t\t\tInMemorySchemaAggregateRepository,\n\t\t\tCreateSchemaCommandHandler,\n\t\t\t[\n\t\t\t\t...SchemaDomainModule.commandHandlers()\n\t\t\t],\n\t\t\t[\n\t\t\t\t...SchemaDomainModule.domainEventHandlers()\n\t\t\t]\n\t\t),\n\n\t\tSchemaDomainModule\n\t],\n\tproviders: [\n\t\tSchemaDispatcher,\n\t\t{\n\t\t\tprovide: SchemaAggregateRepository,\n\t\t\tuseClass: InMemorySchemaAggregateRepository\n\t\t},\n\t\tInMemorySchemaAggregateStore,\n\t\tInMemorySchemaStore,\n\n\t\t{\n\t\t\tprovide: SchemaCommandInvoker,\n\t\t\tuseClass: SchemaDomainCommandInvoker\n\t\t},\n\t\t{\n\t\t\tprovide: SchemaWarehouse,\n\t\t\tuseClass: SchemaDomainWarehouse\n\t\t},\n\t\t{\n\t\t\tprovide: SchemaEventRepository,\n\t\t\tuseClass: SchemaDomainEventRepository\n\t\t},\n\n\t\tSchemaCssClassesRepository\n\t],\n\tdeclarations: [],\n\texports: []\n})\nexport class SchemaApiModule extends ApiModule {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { Archive } from '@generic-ui/hermes';\n\nimport { SchemaRowClass } from './schema.row-class';\n\n@Injectable()\nexport class SchemaRowClassArchive extends Archive<SchemaRowClass> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { Archive } from '@generic-ui/hermes';\n\nimport { SchemaRowStyle } from './schema.row-style';\n\n@Injectable()\nexport class SchemaRowStyleArchive extends Archive<SchemaRowStyle> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandDispatcher } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { CompositionId } from '../../../../../composition/core/domain/composition.id';\nimport { FilterCommandInvoker } from '../../../../filter/core/api/filter.command-invoker';\nimport { SourceDispatcher } from '../../../../source/core/domain/source.dispatcher';\nimport { Override } from '../../../../../common/cdk/decorators';\nimport { structureGlobalId } from '../../../../core/api/structure.global-id';\nimport { FilterConfig } from '../../../../filter/core/api/filter-config';\nimport { QuickFiltersConfig } from '../../../../filter/core/api/quick-filters.config';\nimport { StructureDomainCommandInvoker } from '../../../../core/domain/structure.domain-command-invoker';\nimport { SchemaTheme } from '../../../../../schema/core';\n\n\n@Injectable()\nexport class LocalStructureCommandDispatcher extends StructureDomainCommandInvoker {\n\n\tconstructor(private readonly structureId: StructureId,\n\t\t\t\tprivate readonly compositionId: CompositionId,\n\t\t\t\tcommandDispatcher: CommandDispatcher,\n\t\t\t\tstructureFilterCommandService: FilterCommandInvoker,\n\t\t\t\tsourceDispatcher: SourceDispatcher) {\n\t\tsuper(commandDispatcher, structureFilterCommandService, sourceDispatcher);\n\t}\n\n\t@Override\n\tcreate(): void {\n\t\tsuper.create(this.structureId);\n\t}\n\n\t@Override\n\tenableVerticalScroll(): void {\n\t\tsuper.enableVerticalScroll(this.structureId);\n\t}\n\n\t@Override\n\tdisableVerticalScroll(): void {\n\t\tsuper.disableVerticalScroll(this.structureId);\n\t}\n\n\t@Override\n\tscrollToTop(): void {\n\t\tsuper.scrollToTop(this.structureId);\n\t}\n\n\t@Override\n\tscrollToBottom(): void {\n\t\tsuper.scrollToBottom(this.structureId);\n\t}\n\n\t@Override\n\tsetScrollPosition(position: number): void {\n\t\tsuper.setScrollPosition(position, this.structureId);\n\t}\n\n\t@Override\n\tsetOrigin(items: Array<any>): void {\n\t\tsuper.setOrigin(items, this.structureId);\n\t}\n\n\t@Override\n\tsetFilterConfig(config: FilterConfig, structureId: StructureId = structureGlobalId): void {\n\t\tsuper.setFilterConfig(config, this.structureId);\n\t}\n\n\t@Override\n\tsetQuickFiltersConfig(config: QuickFiltersConfig, structureId: StructureId = structureGlobalId): void {\n\t\tsuper.setQuickFiltersConfig(config, this.structureId);\n\t}\n\n\t@Override\n\tsetRowHeight(rowHeight: number): void {\n\t\tsuper.setRowHeight(rowHeight, this.structureId);\n\t}\n\n\t@Override\n\tsetContainerHeight(rowHeight: number): void {\n\t\tsuper.setContainerHeight(rowHeight, this.structureId);\n\t}\n\n\t@Override\n\tsetRowHeightBasedOnTheme(theme: SchemaTheme): void {\n\t\tsuper.setRowHeightBasedOnTheme(theme, this.structureId);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { AggregateId } from '@generic-ui/hermes';\n\nimport { StructureReadModelRepository } from './read/structure.read-model-repository';\nimport { structureGlobalId } from '../../../core/api/structure.global-id';\nimport { StructureReadModelRoot } from './read/structure.read-model-root';\n\n\n@Injectable()\nexport class StructureWarehouse {\n\n\tconstructor(private readonly structureRepository: StructureReadModelRepository) {\n\t}\n\n\tonStructure(aggregateId: AggregateId = structureGlobalId): Observable<StructureReadModelRoot> {\n\t\treturn this.structureRepository.onStructure(aggregateId);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { Override } from '../../../../../common/cdk/decorators';\n\nimport { StructureWarehouse } from '../../../core/api/structure.warehouse';\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { StructureReadModelRepository } from '../../../core/api/read/structure.read-model-repository';\nimport { StructureReadModelRoot } from '../../../core/api/read/structure.read-model-root';\n\n\n@Injectable()\nexport class LocalStructureWarehouse extends StructureWarehouse {\n\n\tconstructor(private structureId: StructureId,\n\t\t\t\tstructureRepository: StructureReadModelRepository) {\n\t\tsuper(structureRepository);\n\t}\n\n\t@Override\n\tonStructure(): Observable<StructureReadModelRoot> {\n\t\treturn super.onStructure(this.structureId);\n\t}\n\n}\n","import { ColumnFieldId } from '../../../../../../composition/core/domain/column/field/column-field.id';\n\nexport class StructureEditSourceItemParams {\n\n\tconstructor(private readonly itemId: string,\n\t\t\t\tprivate readonly columnFieldId: ColumnFieldId, // TODO Rethink\n\t\t\t\tprivate readonly value: any) {\n\t}\n\n\tgetItemId(): string {\n\t\treturn this.itemId;\n\t}\n\n\tgetColumnFieldId(): ColumnFieldId {\n\t\treturn this.columnFieldId;\n\t}\n\n\tgetValue(): any {\n\t\treturn this.value;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateArchive } from '@generic-ui/hermes';\n\nimport { FieldReadModel } from './field.read-model';\n\n\n@Injectable()\nexport class FieldReadModelRepository extends AggregateArchive<Array<FieldReadModel>> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { Warehouse } from '@generic-ui/hermes';\n\nimport { FieldReadModelRepository } from './read/field.read-model-repository';\nimport { StructureId } from '../../../core/domain/structure.id';\nimport { FieldReadModel } from './read/field.read-model';\n\n\n@Injectable()\nexport class FieldWarehouse implements Warehouse {\n\n\tconstructor(private fieldReadModelRepository: FieldReadModelRepository) {\n\t}\n\n\tonFields(structureId: StructureId): Observable<Array<FieldReadModel>> {\n\t\treturn this.fieldReadModelRepository.on(structureId);\n\t}\n\n\n}\n","import { StructureId } from '../../../../../core/domain/structure.id';\nimport { OriginId } from '../origin-id';\nimport { StructureCommand } from '../../../../../core/domain/structure.command';\n\nexport enum DeleteCommandPayloadType {\n\tINDEX,\n\tITEM_ID,\n\tMANY_INDEX,\n\tMANY_ITEM_ID\n}\n\nexport type DeleteOriginItemPayload = {\n\n\tindex?: number;\n\n\titemId?: OriginId;\n\n}\n\nexport class DeleteOriginItemCommand extends StructureCommand {\n\n\tstatic byIndex(structureId: StructureId, index: number): DeleteOriginItemCommand {\n\t\treturn new DeleteOriginItemCommand(structureId, index, DeleteCommandPayloadType.INDEX);\n\t}\n\n\tstatic byManyIndex(structureId: StructureId, indexes: Array<number>): DeleteOriginItemCommand {\n\t\treturn new DeleteOriginItemCommand(structureId, indexes, DeleteCommandPayloadType.MANY_INDEX);\n\t}\n\n\tstatic byItemId(structureId: StructureId, itemId: OriginId): DeleteOriginItemCommand {\n\t\treturn new DeleteOriginItemCommand(structureId, itemId, DeleteCommandPayloadType.ITEM_ID);\n\t}\n\n\tstatic byManyItemId(structureId: StructureId, itemIds: Array<OriginId>): DeleteOriginItemCommand {\n\t\treturn new DeleteOriginItemCommand(structureId, itemIds, DeleteCommandPayloadType.MANY_ITEM_ID);\n\t}\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly payload: number | OriginId | Array<number> | Array<OriginId>,\n\t\t\t\tprivate readonly type: DeleteCommandPayloadType) {\n\t\tsuper(structureId, 'DeleteOriginItemCommand');\n\t}\n\n\tgetType(): DeleteCommandPayloadType {\n\t\treturn this.type;\n\t}\n\n\tgetPayload(): number | OriginId | Array<number> | Array<OriginId> {\n\t\treturn this.payload;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { zip } from 'rxjs';\nimport { map, take } from 'rxjs/operators';\n\nimport { Reactive } from '../../../../common/cdk/reactive/reactive';\n\nimport { SourceDispatcher } from '../domain/source.dispatcher';\nimport { SourceWarehouse } from './source.warehouse';\nimport { StructureId } from '../../../core/domain/structure.id';\nimport { structureGlobalId } from '../../../core/api/structure.global-id';\nimport { StructureEditSourceItemParams } from '../domain/origin/edit/structure.edit-source-item.params';\nimport { ItemEntity } from '../domain/core/item/item.entity';\nimport { FieldWarehouse } from '../../../field/core/api/field.warehouse';\nimport { SelectedRow } from './formation/selected-row';\nimport { OriginId } from '../domain/origin/origin-id';\nimport { CommandDispatcher, CommandInvoker } from '@generic-ui/hermes';\nimport { DeleteOriginItemCommand } from '../domain/origin/delete/delete-origin-item.command';\n\n\n@Injectable()\nexport class SourceCommandInvoker extends Reactive implements CommandInvoker {\n\n\tconstructor(private readonly commandDispatcher: CommandDispatcher,\n\t\t\t\tprivate readonly sourceDispatcher: SourceDispatcher,\n\t\t\t\tprivate readonly fieldWarehouse: FieldWarehouse,\n\t\t\t\tprivate readonly sourceReadModelService: SourceWarehouse) {\n\t\tsuper();\n\t}\n\n\tsetOrigin(items: Array<any>, structureId: StructureId = structureGlobalId): void {\n\t\tthis.sourceDispatcher.setOrigin(structureId, items);\n\t}\n\n\tsetLoading(enabled: boolean, structureId: StructureId = structureGlobalId): void {\n\t\tthis.sourceDispatcher.setLoading(structureId, enabled);\n\t}\n\n\teditItem(params: StructureEditSourceItemParams, structureId: StructureId = structureGlobalId): void {\n\t\tthis.sourceDispatcher.editItem(structureId, params);\n\t}\n\n\teditItemByIndex(itemIndex: number, fieldIndex: number, value: any, structureId: StructureId = structureGlobalId): void {\n\n\t\tconst itemId$ = this.sourceReadModelService\n\t\t\t\t\t\t\t.onSingleEntities()\n\t\t\t\t\t\t\t.pipe(\n\t\t\t\t\t\t\t\tmap((entities: Array<ItemEntity>) => {\n\t\t\t\t\t\t\t\t\treturn entities[itemIndex].getId();\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t);\n\n\t\tconst fieldId$ = this.fieldWarehouse\n\t\t\t\t\t\t\t .onFields(structureId);\n\n\t\tzip(itemId$, fieldId$)\n\t\t\t.pipe(\n\t\t\t\ttake(1),\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((array: Array<any>) => {\n\n\t\t\t\tconst itemId = array[0],\n\t\t\t\t\tfields = array[1];\n\n\t\t\t\tthis.editItem(\n\t\t\t\t\tnew StructureEditSourceItemParams(itemId, fields[fieldIndex], value),\n\t\t\t\t\tstructureId\n\t\t\t\t);\n\t\t\t});\n\t}\n\n\tdeleteRow(row: SelectedRow, structureId: StructureId = structureGlobalId): void {\n\n\t\tif (row.getItemId() !== undefined) {\n\t\t\tthis.deleteItemById(row.getItemId(), structureId);\n\t\t} else if (row.getIndex() !== undefined) {\n\t\t\tthis.deleteItemByIndex(row.getIndex(), structureId);\n\t\t}\n\t}\n\n\tdeleteRows(rows: Array<SelectedRow>, structureId: StructureId = structureGlobalId): void {\n\n\t\tif (rows.length > 0) {\n\t\t\tif (rows[0].getItemId() !== undefined) {\n\t\t\t\tthis.deleteManyItemsByItemIds(rows.map(r => r.getItemId()), structureId);\n\t\t\t} else if (rows[0].getIndex() !== undefined) {\n\t\t\t\tthis.deleteManyItemsByIndex(rows.map(r => r.getIndex()), structureId);\n\t\t\t}\n\t\t}\n\t}\n\n\tdeleteItemByIndex(index: number, structureId: StructureId = structureGlobalId): void {\n\t\tthis.commandDispatcher.dispatch(DeleteOriginItemCommand.byIndex(structureId, index));\n\t}\n\n\tdeleteItemById(itemId: OriginId, structureId: StructureId = structureGlobalId): void {\n\t\tthis.commandDispatcher.dispatch(DeleteOriginItemCommand.byItemId(structureId, itemId));\n\t}\n\n\tdeleteManyItemsByIndex(indexes: Array<number>, structureId: StructureId = structureGlobalId): void {\n\t\tthis.commandDispatcher.dispatch(DeleteOriginItemCommand.byManyIndex(structureId, indexes));\n\t}\n\n\tdeleteManyItemsByItemIds(itemIds: Array<OriginId>, structureId: StructureId = structureGlobalId): void {\n\t\tthis.commandDispatcher.dispatch(DeleteOriginItemCommand.byManyItemId(structureId, itemIds));\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { Override } from '../../../../../common/cdk/decorators';\n\nimport { SourceCommandInvoker } from '../../../../source/core/api/source.command-invoker';\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { SourceDispatcher } from '../../../../source/core/domain/source.dispatcher';\nimport { SourceWarehouse } from '../../../../source/core/api/source.warehouse';\nimport { StructureEditSourceItemParams } from '../../../../source/core/domain/origin/edit/structure.edit-source-item.params';\nimport { FieldWarehouse } from '../../../../field/core/api/field.warehouse';\nimport { CommandDispatcher } from '@generic-ui/hermes';\n\n\n@Injectable()\nexport class LocalSourceCommandDispatcher extends SourceCommandInvoker {\n\n\tconstructor(private readonly structureId: StructureId,\n\t\t\t\tcommandDispatcher: CommandDispatcher,\n\t\t\t\tsourceDispatcher: SourceDispatcher,\n\t\t\t\tfieldWarehouse: FieldWarehouse,\n\t\t\t\tsourceReadModelService: SourceWarehouse) {\n\t\tsuper(commandDispatcher, sourceDispatcher, fieldWarehouse, sourceReadModelService);\n\t}\n\n\t@Override\n\tsetOrigin(items: Array<any>): void {\n\t\tsuper.setOrigin(items, this.structureId);\n\t}\n\n\t@Override\n\tsetLoading(enabled: boolean): void {\n\t\tsuper.setLoading(enabled, this.structureId);\n\t}\n\n\t@Override\n\teditItem(params: StructureEditSourceItemParams): void {\n\t\tsuper.editItem(params, this.structureId);\n\t}\n\n\t@Override\n\teditItemByIndex(itemIndex: number, fieldIndex: number, value: any): void {\n\t\tsuper.editItemByIndex(itemIndex, fieldIndex, value, this.structureId);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { Override } from '../../../../../common/cdk/decorators';\n\nimport { SourceWarehouse } from '../../../../source/core/api/source.warehouse';\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { StructureReadModelRepository } from '../../../core/api/read/structure.read-model-repository';\nimport { StructureSourceOriginRepository } from '../../../../source/core/api/origin/structure.source-origin.repository';\nimport { ItemEntity } from '../../../../source/core/domain/core/item/item.entity';\nimport { StructurePreparedItemsRepository } from '../../../../source/core/api/prepared/structure.prepared-items.repository';\nimport { OriginItemEntity } from '../../../../source/core/domain/origin/origin-item-entity';\n\n\n@Injectable()\nexport class LocalSourceWarehouse extends SourceWarehouse {\n\n\tconstructor(private structureId: StructureId,\n\t\t\t\tstructureRepository: StructureReadModelRepository,\n\t\t\t\tstructurePreparedItemsRepository: StructurePreparedItemsRepository,\n\t\t\t\tstructureSourceOriginRepository: StructureSourceOriginRepository) {\n\t\tsuper(structureRepository, structurePreparedItemsRepository, structureSourceOriginRepository);\n\t}\n\n\t@Override\n\tgetEntities(): Array<ItemEntity> {\n\t\treturn super.getEntities(this.structureId);\n\t}\n\n\t@Override\n\tonEntities(): Observable<Array<ItemEntity>> {\n\t\treturn super.onEntities(this.structureId);\n\t}\n\n\t@Override\n\tonEntitiesSize(): Observable<number> {\n\t\treturn super.onEntitiesSize(this.structureId);\n\t}\n\n\t@Override\n\tonSingleEntities(): Observable<Array<ItemEntity>> {\n\t\treturn super.onSingleEntities(this.structureId);\n\t}\n\n\t@Override\n\tonOriginSize(): Observable<number> {\n\t\treturn super.onOriginSize(this.structureId);\n\t}\n\n\t@Override\n\tonLoading(): Observable<boolean> {\n\t\treturn super.onLoading(this.structureId);\n\t}\n\n\t@Override\n\tonPreparedEntities(): Observable<Array<OriginItemEntity>> {\n\t\treturn super.onPreparedEntities(this.structureId);\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\nimport { CompositionId } from './composition.id';\n\nexport abstract class CompositionCommand extends Command<CompositionId> {\n}\n","import { CompositionId } from '../composition.id';\nimport { CompositionCommand } from '../composition.command';\n\n\nexport class CreateCompositionCommand extends CompositionCommand {\n\n\tconstructor(private readonly compositionId: CompositionId) {\n\t\tsuper(compositionId, 'CreateCompositionCommand');\n\t}\n\n}\n","import { CompositionId } from '../../composition.id';\n\nimport { ColumnParams } from './column.params';\nimport { CompositionCommand } from '../../composition.command';\n\n\nexport class SetColumnsCommand extends CompositionCommand {\n\n\tconstructor(readonly compositionId: CompositionId,\n\t\t\t\tprivate readonly columns: Array<ColumnParams>) {\n\t\tsuper(compositionId, 'SetColumnsCommand');\n\t}\n\n\tgetParams(): Array<ColumnParams> {\n\t\treturn this.columns;\n\t}\n\n}\n","import { StructureId } from '../../../../../structure/core/domain/structure.id';\nimport { CompositionCommand } from '../../composition.command';\n\n\nexport class SetCompositionWidthCommand extends CompositionCommand {\n\n\tconstructor(private readonly structureId: StructureId,\n\t\t\t\tprivate readonly width: number) {\n\t\tsuper(structureId, 'SetCompositionWidthCommand');\n\t}\n\n\tgetWidth(): number {\n\t\treturn this.width;\n\t}\n\n}\n","import { StructureId } from '../../../../../structure/core/domain/structure.id';\nimport { CompositionCommand } from '../../composition.command';\n\nexport class SetCompositionContainerWidthCommand extends CompositionCommand {\n\n\tconstructor(private readonly structureId: StructureId,\n\t\t\t\tprivate readonly width: number) {\n\t\tsuper(structureId, 'SetCompositionContainerWidthCommand');\n\t}\n\n\tgetWidth(): number {\n\t\treturn this.width;\n\t}\n\n}\n","import { StructureId } from '../../../../../structure/core/domain/structure.id';\nimport { CompositionCommand } from '../../composition.command';\n\n\nexport class SetCompositionResizeWidthCommand extends CompositionCommand {\n\n\tconstructor(private readonly structureId: StructureId,\n\t\t\t\tprivate readonly enabled: boolean) {\n\t\tsuper(structureId, 'SetCompositionResizeWidthCommand');\n\t}\n\n\tgetEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n}\n","import { CompositionId } from '../../composition.id';\nimport { ChangeSortParams } from './change-sort.params';\nimport { CompositionCommand } from '../../composition.command';\n\n\nexport class CompositionChangeSortStatusCommand extends CompositionCommand {\n\n\tconstructor(readonly compositionId: CompositionId,\n\t\t\t\tprivate readonly sortParams: Array<ChangeSortParams>) {\n\t\tsuper(compositionId, 'CompositionChangeSortStatusCommand');\n\t}\n\n\tgetCompositionId(): CompositionId {\n\t\treturn this.compositionId;\n\t}\n\n\tgetSortParams(): Array<ChangeSortParams> {\n\t\treturn this.sortParams;\n\t}\n\n}\n","import { CompositionId } from '../../composition.id';\nimport { ColumnId } from '../../../api/column/column.id';\nimport { CompositionCommand } from '../../composition.command';\n\nexport class CompositionSetColumnEnabledCommand extends CompositionCommand {\n\n\tconstructor(readonly compositionId: CompositionId,\n\t\t\t\tprivate readonly columnId: ColumnId,\n\t\t\t\tprivate readonly enabled: boolean) {\n\t\tsuper(compositionId, 'CompositionSetColumnEnabledCommand');\n\t}\n\n\tgetColumnId(): ColumnId {\n\t\treturn this.columnId;\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n}\n","import { CompositionId } from '../../../composition.id';\nimport { ColumnId } from '../../../../api/column/column.id';\nimport { CompositionCommand } from '../../../composition.command';\n\nexport class CompositionMoveLeftColumnCommand extends CompositionCommand {\n\n\tconstructor(readonly compositionId: CompositionId,\n\t\t\t\tprivate readonly columnId: ColumnId) {\n\t\tsuper(compositionId, 'CompositionMoveLeftColumnCommand');\n\t}\n\n\tgetColumnId(): ColumnId {\n\t\treturn this.columnId;\n\t}\n\n}\n","import { CompositionId } from '../../../composition.id';\nimport { ColumnId } from '../../../../api/column/column.id';\nimport { CompositionCommand } from '../../../composition.command';\n\nexport class CompositionMoveRightColumnCommand extends CompositionCommand {\n\n\tconstructor(compositionId: CompositionId,\n\t\t\t\tprivate readonly columnId: ColumnId) {\n\t\tsuper(compositionId, 'CompositionMoveRightColumnCommand');\n\t}\n\n\tgetColumnId(): ColumnId {\n\t\treturn this.columnId;\n\t}\n\n}\n","import { CompositionId } from '../../composition.id';\n\nimport { CompositionCommand } from '../../composition.command';\nimport { ColumnConfig, MultiColumnConfig } from '../../../api/column/column.config';\n\n\nexport class SetGroupsCommand extends CompositionCommand {\n\n\tconstructor(readonly compositionId: CompositionId,\n\t\t\t\tprivate readonly configs: Array<ColumnConfig | MultiColumnConfig>) {\n\t\tsuper(compositionId, 'SetGroupsCommand');\n\t}\n\n\tgetConfigs(): Array<ColumnConfig | MultiColumnConfig> {\n\t\treturn this.configs;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandDispatcher } from '@generic-ui/hermes';\n\nimport { CompositionId } from './composition.id';\nimport { CreateCompositionCommand } from './create/create-composition.command';\nimport { ColumnParams } from './column/set-columns/column.params';\nimport { SetColumnsCommand } from './column/set-columns/set-columns.command';\nimport { SetCompositionWidthCommand } from './width/set-width/set-composition-width.command';\nimport { SetCompositionContainerWidthCommand } from './width/set-container-width/set-composition-container-width.command';\nimport { SetCompositionResizeWidthCommand } from './width/resize-width/set-composition-resize-width.command';\nimport { ChangeSortParams } from './column/sort/change-sort.params';\nimport { CompositionChangeSortStatusCommand } from './column/sort/composition-change-sort-status.command';\nimport { ColumnId } from '../api/column/column.id';\nimport { CompositionSetColumnEnabledCommand } from './column/set-enabled/composition.set-column-enabled.command';\nimport { CompositionMoveLeftColumnCommand } from './column/move/left/composition.move-left-column.command';\nimport { CompositionMoveRightColumnCommand } from './column/move/right/composition.move-right-column.command';\nimport { SetGroupsCommand } from './group/set-groups/set-groups.command';\n\n\n@Injectable()\nexport class CompositionDispatcher {\n\n\tconstructor(private commandDispatcher: CommandDispatcher) {\n\t}\n\n\tcreateComposition(compositionId: CompositionId): void {\n\t\tthis.commandDispatcher.dispatch(new CreateCompositionCommand(compositionId));\n\t}\n\n\tsetColumns(compositionId: CompositionId, params: Array<ColumnParams>): void {\n\t\tthis.commandDispatcher.dispatch(new SetColumnsCommand(compositionId, params));\n\t}\n\n\tsetGroups(compositionId: CompositionId, params: any): void {\n\t\tthis.commandDispatcher.dispatch(new SetGroupsCommand(compositionId, params));\n\t}\n\n\tsetWidth(compositionId: CompositionId, width: number): void {\n\t\tthis.commandDispatcher.dispatch(new SetCompositionWidthCommand(compositionId, width));\n\t}\n\n\tsetContainerWidth(compositionId: CompositionId, width: number): void {\n\t\tthis.commandDispatcher.dispatch(new SetCompositionContainerWidthCommand(compositionId, width));\n\t}\n\n\tsetResizeWidth(compositionId: CompositionId, enabled: boolean): void {\n\t\tthis.commandDispatcher.dispatch(new SetCompositionResizeWidthCommand(compositionId, enabled));\n\t}\n\n\tchangeSort(compositionId: CompositionId, params: Array<ChangeSortParams>): void {\n\t\tthis.commandDispatcher.dispatch(new CompositionChangeSortStatusCommand(compositionId, params));\n\t}\n\n\tsetColumnEnabled(compositionId: CompositionId, columnId: ColumnId, enabled: boolean): void {\n\t\tthis.commandDispatcher.dispatch(new CompositionSetColumnEnabledCommand(compositionId, columnId, enabled));\n\t}\n\n\tmoveLeft(compositionId: CompositionId, columnId: ColumnId): void {\n\t\tthis.commandDispatcher.dispatch(new CompositionMoveLeftColumnCommand(compositionId, columnId));\n\t}\n\n\tmoveRight(compositionId: CompositionId, columnId: ColumnId): void {\n\t\tthis.commandDispatcher.dispatch(new CompositionMoveRightColumnCommand(compositionId, columnId));\n\t}\n\n}\n","import { CompositionId } from '../domain/composition.id';\n\nexport const compositionGlobalId = new CompositionId('-1');\n","import { ReadModelEntityId } from '@generic-ui/hermes';\n\nexport class ColumnDefinitionId extends ReadModelEntityId {\n\tconstructor(id: string) {\n\t\tsuper(id);\n\t}\n}\n","import { Group } from './group';\n\nexport class GroupCollection {\n\n\tprivate readonly groups: Array<Group>;\n\n\tprivate readonly showGroups: boolean;\n\n\tconstructor(groups: Array<Group>,\n\t\t\t\tshowGroups: boolean) {\n\t\tthis.groups = groups;\n\t\tthis.showGroups = showGroups;\n\t}\n\n\tgetGroups(): Array<Group> {\n\t\treturn this.groups;\n\t}\n\n\tisVisible(): boolean {\n\t\treturn this.showGroups;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateArchive } from '@generic-ui/hermes';\n\nimport { GroupCollection } from '../../api/group/group.collection';\n\n\n@Injectable()\nexport class CompositionGroupRepository extends AggregateArchive<GroupCollection> {\n\n\tstatic readonly default = new GroupCollection([], true);\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n}\n","import { EntityId } from '@generic-ui/hermes';\n\nexport class ColumnId extends EntityId {\n\n\tconstructor(id: string) {\n\t\tsuper(id);\n\t}\n\n\ttoString(): string {\n\t\treturn this.getId();\n\t}\n}\n","import { CompositionDispatcher } from './composition.dispatcher';\nimport { CompositionGroupRepository } from '../domain-read/group/composition.group.repository';\nimport { CompositionId } from './composition.id';\nimport { compositionGlobalId } from '../api/composition.global-id';\nimport { ColumnParams } from './column/set-columns/column.params';\nimport { ColumnDefinitionId } from '../domain-read/definition/column-definition-id';\nimport { ColumnId } from '../api/column/column.id';\nimport { CompositionCommandInvoker } from '../api/composition.command-invoker';\nimport { Injectable } from '@angular/core';\n\n@Injectable()\nexport class CompositionDomainCommandInvoker extends CompositionCommandInvoker {\n\n\tconstructor(private readonly compositionDispatcher: CompositionDispatcher,\n\t\t\t\tprivate readonly compositionGroupRepository: CompositionGroupRepository) {\n\t\tsuper();\n\t}\n\n\tcreate(compositionId: CompositionId = compositionGlobalId): void {\n\t\tthis.compositionDispatcher.createComposition(compositionId);\n\t}\n\n\tsetColumns(params: Array<ColumnParams>, compositionId: CompositionId = compositionGlobalId): void {\n\t\tthis.compositionDispatcher.setColumns(compositionId, params);\n\t}\n\n\tsetGroups(configs: any, compositionId: CompositionId = compositionGlobalId): void {\n\t\t// this.compositionGroupRepository.next(compositionId, CompositionGroupRepository.default);\n\t\tthis.compositionDispatcher.setGroups(compositionId, configs);\n\t}\n\n\tsetWidth(width: number, compositionId: CompositionId = compositionGlobalId): void {\n\t\tthis.compositionDispatcher.setWidth(compositionId, width);\n\t}\n\n\tsetContainerWidth(width: number, compositionId: CompositionId = compositionGlobalId): void {\n\t\tthis.compositionDispatcher.setContainerWidth(compositionId, width);\n\t}\n\n\tsetResizeWidth(enabled: boolean, compositionId: CompositionId = compositionGlobalId): void {\n\t\tthis.compositionDispatcher.setResizeWidth(compositionId, enabled);\n\t}\n\n\tenableColumn(columnDefinitionId: ColumnDefinitionId, compositionId: CompositionId = compositionGlobalId): void {\n\t\tthis.compositionDispatcher.setColumnEnabled(compositionId, this.toColumnId(columnDefinitionId), true);\n\t}\n\n\tdisableColumn(columnDefinitionId: ColumnDefinitionId, compositionId: CompositionId = compositionGlobalId): void {\n\t\tthis.compositionDispatcher.setColumnEnabled(compositionId, this.toColumnId(columnDefinitionId), false);\n\t}\n\n\tmoveLeft(columnDefinitionId: ColumnDefinitionId, compositionId: CompositionId = compositionGlobalId): void {\n\t\tthis.compositionDispatcher.moveLeft(compositionId, this.toColumnId(columnDefinitionId));\n\t}\n\n\tmoveRight(columnDefinitionId: ColumnDefinitionId, compositionId: CompositionId = compositionGlobalId): void {\n\t\tthis.compositionDispatcher.moveRight(compositionId, this.toColumnId(columnDefinitionId));\n\t}\n\n\tprivate toColumnId(defId: ColumnDefinitionId): ColumnId {\n\t\treturn new ColumnId(defId.getId());\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { Override } from '../../../../../common/cdk/decorators';\nimport { CompositionId } from '../../../../../composition/core/domain/composition.id';\nimport { CompositionDispatcher } from '../../../../../composition/core/domain/composition.dispatcher';\nimport { compositionGlobalId } from '../../../../../composition/core/api/composition.global-id';\nimport { ColumnParams } from '../../../../../composition/core/domain/column/set-columns/column.params';\nimport { ColumnDefinitionId } from '../../../../../composition/core/domain-read/definition/column-definition-id';\nimport { CompositionGroupRepository } from '../../../../../composition/core/domain-read/group/composition.group.repository';\nimport { CompositionDomainCommandInvoker } from '../../../../../composition/core/domain/compositon.domain-command-invoker';\n\n\n@Injectable()\nexport class LocalCompositionCommandDispatcher extends CompositionDomainCommandInvoker {\n\n\tconstructor(private readonly compositionId: CompositionId,\n\t\t\t\tcompositionDispatcher: CompositionDispatcher,\n\t\t\t\tcompositionGroupRepository: CompositionGroupRepository) {\n\t\tsuper(compositionDispatcher, compositionGroupRepository);\n\t}\n\n\t@Override\n\tcreate(compositionId: CompositionId = compositionGlobalId): void {\n\t\tsuper.create(this.compositionId);\n\t}\n\n\t@Override\n\tsetColumns(params: Array<ColumnParams>): void {\n\t\tsuper.setColumns(params, this.compositionId);\n\t}\n\n\t@Override\n\tsetGroups(configs: any, compositionId: CompositionId = compositionGlobalId): void {\n\t\tsuper.setGroups(configs, this.compositionId);\n\t}\n\n\t@Override\n\tsetWidth(width: number, compositionId: CompositionId = compositionGlobalId): void {\n\t\tsuper.setWidth(width, this.compositionId);\n\t}\n\n\t@Override\n\tsetContainerWidth(width: number, compositionId: CompositionId = compositionGlobalId): void {\n\t\tsuper.setContainerWidth(width, this.compositionId);\n\t}\n\n\t@Override\n\tsetResizeWidth(enabled: boolean, compositionId: CompositionId = compositionGlobalId): void {\n\t\tsuper.setResizeWidth(enabled, this.compositionId);\n\t}\n\n\t@Override\n\tenableColumn(columnDefId: ColumnDefinitionId, compositionId: CompositionId = compositionGlobalId): void {\n\t\tsuper.enableColumn(columnDefId, this.compositionId);\n\t}\n\n\t@Override\n\tdisableColumn(columnDefId: ColumnDefinitionId, compositionId: CompositionId = compositionGlobalId): void {\n\t\tsuper.disableColumn(columnDefId, this.compositionId);\n\t}\n\n\t@Override\n\tmoveLeft(columnDefId: ColumnDefinitionId, compositionId: CompositionId = compositionGlobalId): void {\n\t\tsuper.moveLeft(columnDefId, this.compositionId);\n\t}\n\n\t@Override\n\tmoveRight(columnDefId: ColumnDefinitionId, compositionId: CompositionId = compositionGlobalId): void {\n\t\tsuper.moveRight(columnDefId, this.compositionId);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { Warehouse } from '@generic-ui/hermes';\nimport { CompositionId } from '../domain/composition.id';\nimport { CellTemplateWithContext } from '../domain-read/definition/cell-template-with-context';\nimport { CellTemplateWithAccessor } from '../domain-read/definition/cell-template-with-accessor';\nimport { SortOrder } from '../domain/column/sort/sort-order';\nimport { FieldId } from '../../../structure/field/core/domain/field/field.id';\nimport { GroupCollection } from './group/group.collection';\n\n\n@Injectable()\nexport abstract class CompositionWarehouse implements Warehouse {\n\n\tprotected constructor() {\n\t}\n\n\tabstract onWidth(compositionId?: CompositionId): Observable<number>;\n\n\tabstract onContainerWidth(compositionId?: CompositionId): Observable<number>;\n\n\tabstract onWidthForEachColumn(compositionId?: CompositionId): Observable<ReadonlyArray<number>>;\n\n\tabstract onHeaderColumns(compositionId?: CompositionId): Observable<ReadonlyArray<CellTemplateWithContext>>;\n\n\tabstract onAllColumns(compositionId?: CompositionId): Observable<ReadonlyArray<CellTemplateWithContext>>;\n\n\tabstract onSortOrder(fieldId: FieldId, compositionId?: CompositionId): Observable<SortOrder>;\n\n\tabstract onTemplateColumns(compositionId?: CompositionId): Observable<ReadonlyArray<CellTemplateWithAccessor>>;\n\n\tabstract onResizeWidth(compositionId?: CompositionId): Observable<boolean>;\n\n\tabstract onGroups(compositionId?: CompositionId): Observable<GroupCollection>;\n\n}\n","import { Observable } from 'rxjs';\n\nimport { CompositionId } from '../domain/composition.id';\nimport { CompositionReadModeRoot } from './composition.read-mode-root';\nimport { DomainEventBus, ReadModelRootRepository } from '@generic-ui/hermes';\n\n\nexport abstract class CompositionReadModelRootRepository extends ReadModelRootRepository<CompositionId> {\n\n\tprotected constructor(domainEventBus: DomainEventBus) {\n\t\tsuper(domainEventBus);\n\t}\n\n\tabstract on(compositionId: CompositionId): Observable<Readonly<CompositionReadModeRoot>>;\n}\n","import { Key } from '@generic-ui/hermes';\n\nexport class FieldId implements Key {\n\n\tprivate readonly id: string;\n\n\tconstructor(id: string) {\n\t\tthis.id = id;\n\t}\n\n\tgetId(): string {\n\t\treturn this.id;\n\t}\n\n\tequals(fieldId: FieldId): boolean {\n\t\treturn fieldId.toString() === this.id;\n\t}\n\n\ttoString(): string {\n\t\treturn this.id;\n\t}\n\n}\n","import { CompositionReadModelRootRepository } from './composition.read-model-root-repository';\nimport { CompositionGroupRepository } from './group/composition.group.repository';\nimport { CompositionId } from '../domain/composition.id';\nimport { compositionGlobalId } from '../api/composition.global-id';\nimport { CompositionReadModeRoot } from './composition.read-mode-root';\nimport { CellTemplateWithContext } from './definition/cell-template-with-context';\nimport { FieldId } from '../../../structure/field/core/domain/field/field.id';\nimport { SortOrder } from '../domain/column/sort/sort-order';\nimport { CellTemplateWithAccessor } from './definition/cell-template-with-accessor';\nimport { GroupCollection } from '../api/group/group.collection';\nimport { CompositionWarehouse } from '../api/composition.warehouse';\nimport { filter, map } from 'rxjs/operators';\nimport { Observable } from 'rxjs';\nimport { Injectable } from '@angular/core';\n\n@Injectable()\nexport class CompositionDomainWarehouse extends CompositionWarehouse {\n\n\tconstructor(private readonly compositionRepository: CompositionReadModelRootRepository,\n\t\t\t\tprivate readonly compositionGroupRepository: CompositionGroupRepository) {\n\t\tsuper();\n\t}\n\n\tonWidth(compositionId: CompositionId = compositionGlobalId): Observable<number> {\n\t\treturn this.compositionRepository\n\t\t\t\t   .on(compositionId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((composition: CompositionReadModeRoot) => composition.getWidth())\n\t\t\t\t   );\n\t}\n\n\tonContainerWidth(compositionId: CompositionId = compositionGlobalId): Observable<number> {\n\t\treturn this.compositionRepository\n\t\t\t\t   .on(compositionId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((composition: CompositionReadModeRoot) => composition.getContainerWidth())\n\t\t\t\t   );\n\t}\n\n\tonWidthForEachColumn(compositionId: CompositionId = compositionGlobalId): Observable<Array<number>> {\n\t\treturn this.compositionRepository\n\t\t\t\t   .on(compositionId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((composition: CompositionReadModeRoot) => composition.getAllColumns().map(c => c.width))\n\t\t\t\t   );\n\t}\n\n\tonHeaderColumns(compositionId: CompositionId = compositionGlobalId): Observable<Array<CellTemplateWithContext>> {\n\t\treturn this.compositionRepository\n\t\t\t\t   .on(compositionId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((composition: CompositionReadModeRoot) => composition.getActiveHeaderColumns())\n\t\t\t\t   );\n\t}\n\n\tonAllColumns(compositionId: CompositionId = compositionGlobalId): Observable<Array<CellTemplateWithContext>> {\n\t\treturn this.compositionRepository\n\t\t\t\t   .on(compositionId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((composition: CompositionReadModeRoot) => composition.getHeaderColumns())\n\t\t\t\t   );\n\t}\n\n\tonSortOrder(fieldId: FieldId, compositionId: CompositionId = compositionGlobalId): Observable<SortOrder> {\n\t\treturn this.compositionRepository\n\t\t\t\t   .on(compositionId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((composition: CompositionReadModeRoot) => composition.getActiveHeaderColumns()),\n\t\t\t\t\t   map((columns: Array<CellTemplateWithContext>) => {\n\t\t\t\t\t\t   return columns.filter((c) => c.getFieldId().equals(fieldId));\n\t\t\t\t\t   }),\n\t\t\t\t\t   filter((columns: Array<CellTemplateWithContext>) => {\n\t\t\t\t\t\t   return columns.length > 0;\n\t\t\t\t\t   }),\n\t\t\t\t\t   map(columns => columns[0].getSortStatus())\n\t\t\t\t   );\n\t}\n\n\tonTemplateColumns(compositionId: CompositionId = compositionGlobalId): Observable<Array<CellTemplateWithAccessor>> {\n\t\treturn this.compositionRepository\n\t\t\t\t   .on(compositionId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((composition: CompositionReadModeRoot) => composition.getTemplateColumns())\n\t\t\t\t   );\n\t}\n\n\tonResizeWidth(compositionId: CompositionId = compositionGlobalId): Observable<boolean> {\n\t\treturn this.compositionRepository\n\t\t\t\t   .on(compositionId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((composition: CompositionReadModeRoot) => composition.isResizeWidthEnabled())\n\t\t\t\t   );\n\t}\n\n\tonGroups(compositionId: CompositionId = compositionGlobalId): Observable<GroupCollection> {\n\t\treturn this.compositionGroupRepository.on(compositionId);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { Override } from '../../../../../common/cdk/decorators';\nimport { CompositionId } from '../../../../../composition/core/domain/composition.id';\nimport { CompositionReadModelRootRepository } from '../../../../../composition/core/domain-read/composition.read-model-root-repository';\nimport { CellTemplateWithContext } from '../../../../../composition/core/domain-read/definition/cell-template-with-context';\nimport { CellTemplateWithAccessor } from '../../../../../composition/core/domain-read/definition/cell-template-with-accessor';\nimport { compositionGlobalId } from '../../../../../composition/core/api/composition.global-id';\nimport { FieldId } from '../../../../field/core/domain/field/field.id';\nimport { SortOrder } from '../../../../../composition/core/domain/column/sort/sort-order';\nimport { CompositionGroupRepository } from '../../../../../composition/core/domain-read/group/composition.group.repository';\nimport { CompositionDomainWarehouse } from '../../../../../composition/core/domain-read/composition.domain-warehouse';\n\n\n@Injectable()\nexport class LocalCompositionWarehouse extends CompositionDomainWarehouse {\n\n\tconstructor(private readonly compositionId: CompositionId,\n\t\t\t\tcompositionRepository: CompositionReadModelRootRepository,\n\t\t\t\tcompositionGroupRepository: CompositionGroupRepository) {\n\t\tsuper(compositionRepository, compositionGroupRepository);\n\t}\n\n\t@Override\n\tonWidth(): Observable<number> {\n\t\treturn super.onWidth(this.compositionId);\n\t}\n\n\t@Override\n\tonContainerWidth(compositionId: CompositionId = compositionGlobalId): Observable<number> {\n\t\treturn super.onContainerWidth(this.compositionId);\n\t}\n\n\t@Override\n\tonWidthForEachColumn(): Observable<Array<number>> {\n\t\treturn super.onWidthForEachColumn(this.compositionId);\n\t}\n\n\t@Override\n\tonHeaderColumns(): Observable<Array<CellTemplateWithContext>> {\n\t\treturn super.onHeaderColumns(this.compositionId);\n\t}\n\n\t@Override\n\tonAllColumns(compositionId: CompositionId = compositionGlobalId): Observable<Array<CellTemplateWithContext>> {\n\t\treturn super.onAllColumns(this.compositionId);\n\t}\n\n\t@Override\n\tonSortOrder(fieldId: FieldId): Observable<SortOrder> {\n\t\treturn super.onSortOrder(fieldId, this.compositionId);\n\t}\n\n\t@Override\n\tonTemplateColumns(): Observable<Array<CellTemplateWithAccessor>> {\n\t\treturn super.onTemplateColumns(this.compositionId);\n\t}\n\n\t@Override\n\tonResizeWidth(): Observable<boolean> {\n\t\treturn super.onResizeWidth(this.compositionId);\n\t}\n\n}\n","import { StructureId } from '../../../../core/domain/structure.id';\nimport { SearchConfig } from '../../api/search-config';\nimport { StructureCommand } from '../../../../core/domain/structure.command';\n\n\nexport class SetConfigSearchingCommand extends StructureCommand {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly searchConfig: SearchConfig) {\n\t\tsuper(structureId, 'SetConfigSearchingCommand');\n\t}\n\n\tgetConfig(): SearchConfig {\n\t\treturn this.searchConfig;\n\t}\n\n}\n","import { StructureId } from '../../../../core/domain/structure.id';\nimport { StructureCommand } from '../../../../core/domain/structure.command';\n\nexport class SetSearchPhraseCommand extends StructureCommand {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly phrase: string,\n\t\t\t\tprivate readonly initial: boolean) {\n\t\tsuper(structureId, 'SetSearchPhraseCommand');\n\t}\n\n\tgetPhrase(): string {\n\t\treturn this.phrase;\n\t}\n\n\tisInitial(): boolean {\n\t\treturn this.initial;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, ReplaySubject } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nimport { structureGlobalId } from '../../../../core/api/structure.global-id';\nimport { StructureId } from '../../../../core/domain/structure.id';\n\n\n@Injectable()\nexport class SearchHighlightArchive {\n\n\tprivate static readonly HIGHLIGHTING = true;\n\n\tprivate readonly idToHighlight = new Map<string, boolean>();\n\n\tprivate readonly idToHighlight$ = new ReplaySubject<Map<string, boolean>>();\n\n\tnext(value: boolean, structureId: StructureId = structureGlobalId): void {\n\t\tthis.idToHighlight.set(structureId.getId(), value);\n\t\tthis.idToHighlight$.next(this.idToHighlight);\n\t}\n\n\tonValue(structureId: StructureId = structureGlobalId): Observable<boolean> {\n\t\treturn this.idToHighlight$\n\t\t\t\t   .asObservable()\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((idToHighlight: Map<string, boolean>) => {\n\t\t\t\t\t\t   return idToHighlight.get(structureId.getId()) || SearchHighlightArchive.HIGHLIGHTING;\n\t\t\t\t\t   })\n\t\t\t\t   );\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, ReplaySubject } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { structureGlobalId } from '../../../../core/api/structure.global-id';\n\n\n@Injectable()\nexport class SearchPlaceholderArchive {\n\n\tprivate static readonly PLACEHOLDER = 'Search ...';\n\n\tprivate readonly idToPlaceholder = new Map<string, string>();\n\n\tprivate readonly idToPlaceholder$ = new ReplaySubject<Map<string, string>>();\n\n\tnext(value: string, structureId: StructureId = structureGlobalId): void {\n\t\tthis.idToPlaceholder.set(structureId.getId(), value);\n\t\tthis.idToPlaceholder$.next(this.idToPlaceholder);\n\t}\n\n\tonValue(structureId: StructureId = structureGlobalId): Observable<string> {\n\t\treturn this.idToPlaceholder$\n\t\t\t\t   .asObservable()\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((idToHighlight: Map<string, string>) => {\n\t\t\t\t\t\t   return idToHighlight.get(structureId.getId()) || SearchPlaceholderArchive.PLACEHOLDER;\n\t\t\t\t\t   })\n\t\t\t\t   );\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandDispatcher } from '@generic-ui/hermes';\n\nimport { SearchConfig } from '../api/search-config';\nimport { StructureId } from '../../../core/domain/structure.id';\nimport { structureGlobalId } from '../../../core/api/structure.global-id';\nimport { SetConfigSearchingCommand } from './config/set-config-searching.command';\nimport { SetSearchPhraseCommand } from './set-phrase/set-search-phrase.command';\nimport { SearchHighlightArchive } from '../api/highlight/search-highlight.archive';\nimport { SearchPlaceholderArchive } from '../api/placeholder/search-placeholder.archive';\n\n\n@Injectable()\nexport class SearchDispatcher {\n\n\tconstructor(private readonly commandDispatcher: CommandDispatcher,\n\t\t\t\tprivate readonly structureSearchHighlightArchive: SearchHighlightArchive,\n\t\t\t\tprivate readonly structureSearchPlaceholderArchive: SearchPlaceholderArchive) {\n\t}\n\n\tsetSearchingConfig(config: SearchConfig, structureId: StructureId = structureGlobalId): void {\n\n\t\tif (config.highlighting !== undefined && config.highlighting !== null) {\n\t\t\tthis.structureSearchHighlightArchive.next(config.highlighting);\n\t\t}\n\n\t\tif (config.placeholder !== undefined && config.placeholder !== null) {\n\t\t\tthis.structureSearchPlaceholderArchive.next(config.placeholder);\n\t\t}\n\n\t\tif (config.phrase !== undefined && config.phrase !== null) {\n\t\t\tthis.searchOnInit(config.phrase, structureId);\n\t\t}\n\n\t\tthis.commandDispatcher.dispatch(new SetConfigSearchingCommand(structureId, config));\n\t}\n\n\tsearch(phrase: string, structureId: StructureId = structureGlobalId): void {\n\t\tthis.commandDispatcher.dispatch(new SetSearchPhraseCommand(structureId, phrase, false));\n\t}\n\n\tprivate searchOnInit(phrase: string, structureId: StructureId = structureGlobalId): void {\n\t\tthis.commandDispatcher.dispatch(new SetSearchPhraseCommand(structureId, phrase, true));\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandDispatcher } from '@generic-ui/hermes';\n\nimport { SearchDispatcher } from '../../../../search/core/domain/search.dispatcher';\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { SearchConfig } from '../../../../search/core/api/search-config';\nimport { Override } from '../../../../../common/cdk/decorators';\nimport { SearchHighlightArchive } from '../../../../search/core/api/highlight/search-highlight.archive';\nimport { SearchPlaceholderArchive } from '../../../../search/core/api/placeholder/search-placeholder.archive';\n\n\n@Injectable()\nexport class LocalStructureSearchCommandDispatcher extends SearchDispatcher {\n\n\tconstructor(private structureId: StructureId,\n\t\t\t\tcommandDispatcher: CommandDispatcher,\n\t\t\t\tstructureSearchHighlightArchive: SearchHighlightArchive,\n\t\t\t\tstructureSearchPlaceholderArchive: SearchPlaceholderArchive) {\n\t\tsuper(commandDispatcher, structureSearchHighlightArchive, structureSearchPlaceholderArchive);\n\t}\n\n\t@Override\n\tsetSearchingConfig(config: SearchConfig): void {\n\t\tsuper.setSearchingConfig(config, this.structureId);\n\t}\n\n\t@Override\n\tsearch(phrase: string): void {\n\t\tsuper.search(phrase, this.structureId);\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { SchemaReadModelRootId } from '../../../../../schema/core/api/schema.read-model-root-id';\nimport { SchemaTheme } from '../../../../../schema/core/api/theme/schema-theme';\n\nimport { Override } from '../../../../../common/cdk/decorators';\nimport { SchemaCssClass } from '../../../../../schema/core/api/css-classes/schema-css-class';\nimport { SchemaCssClassesRepository } from '../../../../../schema/core/domain-read/css-classes/schema.css-classes.repository';\nimport { SchemaThemeRepository } from '../../../../../schema/core/domain-read/theme/schema.theme.repository';\nimport { SchemaHorizontalGridRepository } from '../../../../../schema/core/domain-read/horizontal-grid/schema.horizontal-grid.repository';\nimport { SchemaRowColoringRepository } from '../../../../../schema/core/domain-read/row-coloring/schema.row-coloring.repository';\nimport { SchemaVerticalGridRepository } from '../../../../../schema/core/domain-read/vertical-grid/schema.vertical-grid.repository';\nimport { SchemaRowColoring } from '../../../../../schema/core/api/row-coloring/schema-row-coloring';\nimport { SchemaDomainWarehouse } from '../../../../../schema/core/domain-read/schema.domain-warehouse';\n\n\n@Injectable()\nexport class LocalSchemaWarehouse extends SchemaDomainWarehouse {\n\n\tconstructor(private readonly schemaReadModelRootId: SchemaReadModelRootId,\n\t\t\t\tschemaCssClassesRepository: SchemaCssClassesRepository,\n\t\t\t\tschemaThemeRepository: SchemaThemeRepository,\n\t\t\t\tschemaHorizontalGridRepository: SchemaHorizontalGridRepository,\n\t\t\t\tschemaRowColoringRepository: SchemaRowColoringRepository,\n\t\t\t\tschemaVerticalGridRepository: SchemaVerticalGridRepository) {\n\t\tsuper(schemaCssClassesRepository, schemaThemeRepository, schemaHorizontalGridRepository,\n\t\t\tschemaRowColoringRepository, schemaVerticalGridRepository);\n\t}\n\n\t@Override\n\tonTheme(): Observable<SchemaTheme> {\n\t\treturn super.onTheme(this.schemaReadModelRootId);\n\t}\n\n\t@Override\n\tonSingleTheme(): Observable<SchemaTheme> {\n\t\treturn super.onSingleTheme(this.schemaReadModelRootId);\n\t}\n\n\t@Override\n\tonHorizontalGrid(): Observable<boolean> {\n\t\treturn super.onHorizontalGrid(this.schemaReadModelRootId);\n\t}\n\n\t@Override\n\tonVerticalGrid(): Observable<boolean> {\n\t\treturn super.onVerticalGrid(this.schemaReadModelRootId);\n\t}\n\n\t@Override\n\tonRowColoring(): Observable<SchemaRowColoring> {\n\t\treturn super.onRowColoring(this.schemaReadModelRootId);\n\t}\n\n\t@Override\n\tonCssClasses(): Observable<SchemaCssClass> {\n\t\treturn super.onCssClasses(this.schemaReadModelRootId);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { SchemaDispatcher } from '../../../../../schema/core/domain/schema.dispatcher';\nimport { SchemaReadModelRootId } from '../../../../../schema/core/api/schema.read-model-root-id';\nimport { SchemaTheme } from '../../../../../schema/core/api/theme/schema-theme';\nimport { StructureCommandInvoker } from '../../../../core/api/structure.command-invoker';\nimport { SchemaDomainCommandInvoker } from '../../../../../schema/core/domain/schema.domain-command-invoker';\n\nimport { Override } from '../../../../../common/cdk/decorators';\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { RowColoring } from '../../../../../schema/core/api/row-coloring/row-coloring';\nimport { FabricModalThemeService } from '@generic-ui/fabric';\n\n\n@Injectable()\nexport class LocalSchemaCommandDispatcher extends SchemaDomainCommandInvoker {\n\n\tconstructor(private readonly schemaReadModelRootId: SchemaReadModelRootId,\n\t\t\t\tprivate readonly structureId: StructureId,\n\t\t\t\tstructureCommandService: StructureCommandInvoker,\n\t\t\t\tschemaDispatcher: SchemaDispatcher,\n\t\t\t\tfabricModalThemeService: FabricModalThemeService) {\n\t\tsuper(schemaDispatcher, structureCommandService, fabricModalThemeService);\n\t}\n\n\t@Override\n\tcreate(): void {\n\t\tsuper.create(this.schemaReadModelRootId);\n\t}\n\n\t@Override\n\tsetTheme(theme: SchemaTheme): void {\n\t\tsuper.setTheme(theme, this.schemaReadModelRootId, this.structureId);\n\t}\n\n\t@Override\n\tsetRowColoring(rowColoring: RowColoring): void {\n\t\tsuper.setRowColoring(rowColoring, this.schemaReadModelRootId);\n\t}\n\n\t@Override\n\tsetVerticalGrid(verticalGrid: boolean): void {\n\t\tsuper.setVerticalGrid(verticalGrid, this.schemaReadModelRootId);\n\t}\n\n\t@Override\n\tsetHorizontalGrid(horizontalGrid: boolean): void {\n\t\tsuper.setHorizontalGrid(horizontalGrid, this.schemaReadModelRootId);\n\t}\n\n}\n","import { StructureId } from '../structure.id';\nimport { StructureDomainEvent } from '../structure.domain-event';\n\nexport class StructureCreatedEvent extends StructureDomainEvent {\n\n\tconstructor(aggregateId: StructureId) {\n\t\tsuper(aggregateId, null, 'StructureCreatedEvent');\n\t}\n}\n","import { StructureId } from '../../../../core/domain/structure.id';\nimport { StructureDomainEvent } from '../../../../core/domain/structure.domain-event';\n\nexport class VerticalScrollEnabledSetEvent extends StructureDomainEvent {\n\n\tconstructor(aggregateId: StructureId) {\n\t\tsuper(aggregateId, null, 'VerticalScrollEnabledSetEvent');\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { InMemoryStore } from '@generic-ui/hermes';\n\nimport { StructureAggregate } from '../../domain/structure.aggregate';\nimport { StructureId } from '../../domain/structure.id';\n\n\n@Injectable()\nexport class InMemoryStructureStore extends InMemoryStore<StructureId, StructureAggregate> {\n}\n","import { ReadModelObject } from '@generic-ui/hermes';\n\n@ReadModelObject\nexport class Paging {\n\n\tconstructor(private readonly enabled: boolean,\n\t\t\t\tprivate readonly page: number,\n\t\t\t\tprivate readonly pageSize: number,\n\t\t\t\tprivate readonly pageSizes: Array<number>,\n\t\t\t\tprivate readonly pagerTop: boolean,\n\t\t\t\tprivate readonly pagerBottom: boolean,\n\t\t\t\tprivate readonly isNextDisabled: boolean,\n\t\t\t\tprivate readonly isPrevDisabled: boolean,\n\t\t\t\tprivate readonly start: number,\n\t\t\t\tprivate readonly end: number,\n\t\t\t\tprivate readonly sourceSize: number) {\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n\tgetPage(): number {\n\t\treturn this.page;\n\t}\n\n\tgetPageSize(): number {\n\t\treturn this.pageSize;\n\t}\n\n\tgetPageSizes(): Array<number> {\n\t\treturn this.pageSizes;\n\t}\n\n\tisPagerTop(): boolean {\n\t\treturn this.pagerTop;\n\t}\n\n\tisPagerBottom(): boolean {\n\t\treturn this.pagerBottom;\n\t}\n\n\tisNextPageDisabled(): boolean {\n\t\treturn this.isNextDisabled;\n\t}\n\n\tisPrevPageDisabled(): boolean {\n\t\treturn this.isPrevDisabled;\n\t}\n\n\tgetStart(): number {\n\t\treturn this.start;\n\t}\n\n\tgetEnd(): number {\n\t\treturn this.end;\n\t}\n\n\tgetSourceSize(): number {\n\t\treturn this.sourceSize;\n\t}\n\n\tcalculateVisiblePages(currentPage: number, numberOfVisiblePages: number, page: number): boolean {\n\t\treturn currentPage - numberOfVisiblePages < page && page < currentPage + numberOfVisiblePages;\n\t}\n\n\tsample(source: Array<any>): Array<any> {\n\n\t\tlet start = this.getStart();\n\n\t\tif (start !== 0) {\n\t\t\tstart -= 1;\n\t\t}\n\n\t\treturn source.slice(start, this.getEnd());\n\t}\n\n\t// TODO\n\tcompare(target: Paging): boolean {\n\t\treturn JSON.stringify(this) === JSON.stringify(target);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { PagingManager } from '../../domain/paging.manager';\nimport { Paging } from './paging';\n\n\n@Injectable()\nexport class PagingConverter {\n\n\tconvert(aggregate: PagingManager): Paging {\n\t\treturn new Paging(\n\t\t\taggregate.isEnabled(),\n\t\t\taggregate.getPage(),\n\t\t\taggregate.getPageSize(),\n\t\t\taggregate.getPageSizes(),\n\t\t\taggregate.isPagerTop(),\n\t\t\taggregate.isPagerBottom(),\n\t\t\taggregate.isNextPageDisabled(),\n\t\t\taggregate.isPrevPageDisabled(),\n\t\t\taggregate.calculateStart(),\n\t\t\taggregate.calculateEnd(),\n\t\t\taggregate.getSourceSize()\n\t\t);\n\t}\n\n}\n","import { ReadModelObject } from '@generic-ui/hermes';\n\n@ReadModelObject\nexport class Source {\n\n\tconstructor(private readonly loading: boolean) {\n\t}\n\n\tisLoading(): boolean {\n\t\treturn this.loading;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { Source } from './read/source';\nimport { SourceManager } from '../domain/core/source.manager';\n\n@Injectable()\nexport class SourceConverter {\n\n\tconvert(aggregate: SourceManager): Source {\n\t\treturn new Source(aggregate.isLoading());\n\t}\n\n}\n","import { ReadModelObject } from '@generic-ui/hermes';\n\n\n@ReadModelObject\nexport class VerticalFormationReadModel {\n\n\tconstructor(private readonly enabled: boolean,\n\t\t\t\tprivate readonly topMargin: number,\n\t\t\t\tprivate readonly sourceHeight: number,\n\t\t\t\tprivate readonly viewportHeight: number,\n\t\t\t\tprivate readonly rowHeight: number) {\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n\tgetTopMargin(): number {\n\t\treturn this.topMargin; //  * this.rowHeight;\n\t}\n\n\tgetSourceHeight(): number {\n\t\treturn this.sourceHeight;\n\t}\n\n\tgetViewPortHeight(): number {\n\t\treturn this.viewportHeight;\n\t}\n\n\tgetRowHeight(): number {\n\t\treturn this.rowHeight;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { VerticalFormation } from '../domain/vertical-formation';\nimport { VerticalFormationReadModel } from './vertical-formation.read-model';\n\n\n@Injectable()\nexport class VerticalFormationConverter {\n\n\tconvert(verticalFormation: VerticalFormation): VerticalFormationReadModel {\n\n\t\tconst enabled = verticalFormation.isEnabled(),\n\t\t\ttopMargin = verticalFormation.getTopMargin(),\n\t\t\tsourceHeight = verticalFormation.getSourceHeight(),\n\t\t\tviewportHeight = verticalFormation.getViewPortHeight(),\n\t\t\trowHeight = verticalFormation.getRowHeight();\n\n\t\treturn new VerticalFormationReadModel(enabled, topMargin, sourceHeight, viewportHeight, rowHeight);\n\t}\n\n}\n","import { ReadModelRoot } from '@generic-ui/hermes';\n\nimport { Paging } from '../../../../paging/core/api/read/paging';\nimport { Source } from '../../../../source/core/api/read/source';\nimport { ItemEntity } from '../../../../source/core/domain/core/item/item.entity';\nimport { VerticalFormationReadModel } from '../../../../vertical-formation/core/api/vertical-formation.read-model';\nimport { StructureReadModelRootId } from './structure.read-model-root-id';\n\n\nexport class StructureReadModelRoot extends ReadModelRoot<StructureReadModelRootId> {\n\n\tprivate readonly paging: Paging;\n\n\tprivate readonly entities: Array<ItemEntity>;\n\n\tprivate readonly source: Source;\n\n\tprivate readonly verticalFormation: VerticalFormationReadModel;\n\n\tconstructor(uid: StructureReadModelRootId,\n\t\t\t\tpaging: Paging,\n\t\t\t\tentities: Array<ItemEntity>,\n\t\t\t\tsource: Source,\n\t\t\t\tverticalFormation: VerticalFormationReadModel) {\n\t\tsuper(uid);\n\t\tthis.paging = paging;\n\t\tthis.entities = entities;\n\t\tthis.source = source;\n\t\tthis.verticalFormation = verticalFormation;\n\t}\n\n\tgetPaging(): Paging {\n\t\treturn this.paging;\n\t}\n\n\tgetEntities(): Array<ItemEntity> {\n\t\treturn this.entities;\n\t}\n\n\tgetSource(): Source {\n\t\treturn this.source;\n\t}\n\n\tgetVerticalFormation(): VerticalFormationReadModel {\n\t\treturn this.verticalFormation;\n\t}\n\n\t// TODO Remove\n\tgetTopMargin(): number {\n\t\treturn this.verticalFormation.getTopMargin();\n\t}\n\n\tisLoaderVisible(): boolean {\n\t\treturn this.getSource().isLoading();\n\t}\n\n\tgetSourceHeight(): number {\n\t\treturn this.verticalFormation.getSourceHeight();\n\t}\n\n\tisReadyToDisplay(): boolean {\n\t\treturn this.entities.length > 0;\n\t\t// this.presentation.getColumns().length > 0; // TODO presentation getColumns\n\t}\n\n\tisVerticalScrollEnabled(): boolean {\n\t\treturn this.verticalFormation.isEnabled();\n\t}\n\n}\n\n","import { RandomStringGenerator } from '@generic-ui/hermes';\n\n\nexport class ItemEntity {\n\n\tprivate readonly id: string;\n\n\tprivate readonly source: any;\n\n\tprivate readonly position: number;\n\n\tprivate readonly version: number = 0;\n\n\tconstructor(source: any,\n\t\t\t\tposition: number,\n\t\t\t\tid?: string,\n\t\t\t\tversion: number = 0) {\n\t\tthis.source = source;\n\t\tthis.position = position;\n\t\tthis.version = version;\n\t\tif (!id) {\n\t\t\tthis.id = RandomStringGenerator.generate();\n\t\t} else {\n\t\t\tthis.id = id;\n\t\t}\n\t}\n\n\tgetData(): any {\n\t\treturn this.source;\n\t}\n\n\tgetUiId(): string {\n\t\treturn 'gui' + this.id.replace(/-/g, '');\n\t}\n\n\tgetId(): string {\n\t\treturn this.id;\n\t}\n\n\tgetVersion(): number {\n\t\treturn this.version;\n\t}\n\n\tgetPosition(): number {\n\t\treturn this.position;\n\t}\n\n\tisSelected(): boolean {\n\t\treturn false;\n\t}\n\n\tisEven(): boolean {\n\t\treturn this.position % 2 === 0;\n\t}\n\n\tisOdd(): boolean {\n\t\treturn this.position % 2 === 1;\n\t}\n\n\tequals(entity: ItemEntity): boolean {\n\t\treturn this.id === entity.id && this.getVersion() === entity.getVersion();\n\t}\n\n\tequalsById(id: string): boolean {\n\t\treturn this.id === id;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { PagingConverter } from '../../../../paging/core/api/read/paging.converter';\nimport { SourceConverter } from '../../../../source/core/api/source.converter';\nimport { VerticalFormationConverter } from '../../../../vertical-formation/core/api/vertical-formation.converter';\nimport { StructureAggregate } from '../../../../core/domain/structure.aggregate';\nimport { StructureReadModelRoot } from './structure.read-model-root';\nimport { OriginItemEntity } from '../../../../source/core/domain/origin/origin-item-entity';\nimport { ItemEntity } from '../../../../source/core/domain/core/item/item.entity';\n\n\n@Injectable()\nexport class StructureReadModelRootConverter {\n\n\tconstructor(private pagingConverter: PagingConverter,\n\t\t\t\tprivate sourceConverter: SourceConverter,\n\t\t\t\tprivate verticalFormationConverter: VerticalFormationConverter) {\n\t}\n\n\tconvert(aggregate: StructureAggregate): StructureReadModelRoot {\n\n\t\tconst pagingAggregate = aggregate.getPaging(),\n\t\t\toriginItemEntities = aggregate.getEntities(),\n\t\t\tsourceCoordinator = aggregate.getSource(),\n\t\t\tverticalFormation = aggregate.getVerticalFormation();\n\n\t\treturn new StructureReadModelRoot(\n\t\t\taggregate.getId().toReadModelRootId(),\n\t\t\tthis.pagingConverter.convert(pagingAggregate),\n\t\t\tthis.convertSource(originItemEntities),\n\t\t\tthis.sourceConverter.convert(sourceCoordinator),\n\t\t\tthis.verticalFormationConverter.convert(verticalFormation)\n\t\t);\n\t}\n\n\tprivate convertSource(source: Array<OriginItemEntity>): Array<ItemEntity> {\n\t\treturn source.map((originItem: OriginItemEntity) => {\n\t\t\treturn new ItemEntity(originItem.rawData, originItem.getPosition(), originItem.getId().toString(), originItem.getVersion());\n\t\t});\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { InMemoryReadModelStore } from '@generic-ui/hermes';\n\nimport { StructureReadModelRoot } from '../../../../grid/core/api/read/structure.read-model-root';\nimport { StructureAggregate } from '../../../domain/structure.aggregate';\nimport { InMemoryStructureStore } from '../in-memory.structure.store';\nimport { StructureReadModelRootConverter } from '../../../../grid/core/api/read/structure.read-model-root-converter';\nimport { StructureReadModelRootId } from '../../../../grid/core/api/read/structure.read-model-root-id';\nimport { StructureId } from '../../../domain/structure.id';\n\n\n@Injectable()\nexport class InMemoryStructureReadStore extends InMemoryReadModelStore<StructureReadModelRootId,\n\tStructureReadModelRoot,\n\tStructureId,\n\tStructureAggregate> {\n\n\tconstructor(private inMemoryProjectStore: InMemoryStructureStore,\n\t\t\t\tprivate structureConverter: StructureReadModelRootConverter) {\n\t\tsuper(inMemoryProjectStore);\n\t}\n\n\ttoReadModel(aggregate: StructureAggregate): StructureReadModelRoot {\n\t\treturn this.structureConverter.convert(aggregate);\n\t}\n\n}\n","import { StructureId } from '../../../../core/domain/structure.id';\nimport { StructureDomainEvent } from '../../../../core/domain/structure.domain-event';\n\nexport class RowHeightSetEvent extends StructureDomainEvent {\n\n\tconstructor(aggregateId: StructureId) {\n\t\tsuper(aggregateId, null, 'RowHeightSetEvent');\n\t}\n}\n","import { StructureId } from '../../../../../core/domain/structure.id';\nimport { StructureDomainEvent } from '../../../../../core/domain/structure.domain-event';\n\n\nexport class StructureHeightSetEvent extends StructureDomainEvent {\n\n\tconstructor(aggregateId: StructureId) {\n\t\tsuper(aggregateId, null, 'StructureHeightSetEvent');\n\t}\n}\n","import { OriginItemEntity } from '../origin-item-entity';\nimport { StructureId } from '../../../../../core/domain/structure.id';\nimport { StructureDomainEvent } from '../../../../../core/domain/structure.domain-event';\n\n\nexport class OriginSetEvent extends StructureDomainEvent {\n\n\tconstructor(aggregateId: StructureId,\n\t\t\t\tprivate readonly origin: Array<OriginItemEntity>) {\n\t\tsuper(aggregateId, origin, 'OriginSetEvent');\n\t}\n\n\tgetOrigin(): Array<OriginItemEntity> {\n\t\treturn this.origin;\n\t}\n}\n","import { StructureId } from '../../../../core/domain/structure.id';\nimport { StructureDomainEvent } from '../../../../core/domain/structure.domain-event';\n\nexport class ScrollPositionSetEvent extends StructureDomainEvent {\n\n\tconstructor(aggregateId: StructureId) {\n\t\tsuper(aggregateId, null, 'ScrollPositionSetEvent');\n\t}\n}\n","import { StructureId } from '../../../../core/domain/structure.id';\nimport { StructureDomainEvent } from '../../../../core/domain/structure.domain-event';\n\n\nexport class RowHeightSetBasedOnThemeEvent extends StructureDomainEvent {\n\n\tconstructor(structureId: StructureId) {\n\t\tsuper(structureId, null, 'RowHeightSetBasedOnThemeEvent');\n\t}\n}\n","import { StructureId } from '../../../../core/domain/structure.id';\nimport { StructureDomainEvent } from '../../../../core/domain/structure.domain-event';\n\nexport class SearchPhraseSetDomainEvent extends StructureDomainEvent {\n\n\tconstructor(aggregateId: StructureId,\n\t\t\t\tprivate readonly phrase: string,\n\t\t\t\tprivate readonly initial: boolean) {\n\t\tsuper(aggregateId, { phrase, initial }, 'SearchPhraseSetDomainEvent');\n\t}\n\n\tgetPhrase(): string {\n\t\treturn this.phrase;\n\t}\n\n\tisInitial(): boolean {\n\t\treturn this.initial;\n\t}\n\n}\n","import { StructureId } from '../../../../core/domain/structure.id';\nimport { StructureDomainEvent } from '../../../../core/domain/structure.domain-event';\n\nexport class PagingSetEvent extends StructureDomainEvent {\n\n\tconstructor(aggregateId: StructureId) {\n\t\tsuper(aggregateId, null, 'PagingSetEvent');\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, ReplaySubject } from 'rxjs';\nimport { distinctUntilChanged, filter, map } from 'rxjs/operators';\n\nimport { DomainEvent, DomainEventBus } from '@generic-ui/hermes';\n\nimport { Reactive } from '../../../../common/cdk/reactive/reactive';\nimport { StructureId } from '../../../core/domain/structure.id';\nimport { VerticalFormationReadModel } from './vertical-formation.read-model';\nimport { StructureCreatedEvent } from '../../../core/domain/create-structure/structure-created.event';\nimport { VerticalScrollEnabledSetEvent } from '../domain/set-enabled/vertical-scroll-enabled-set.event';\nimport { InMemoryStructureReadStore } from '../../../core/infrastructure/in-memory/api/in-memory-structure.read-store';\nimport { RowHeightSetEvent } from '../domain/set-row-height/row-height-set.event';\nimport { StructureReadModelRoot } from '../../../grid/core/api/read/structure.read-model-root';\nimport { SchemaThemeSetEvent } from '../../../../schema/core/domain/theme/schema-theme-set.event';\nimport { StructureHeightSetEvent } from '../domain/container/set-height/structure-height-set.event';\nimport { OriginSetEvent } from '../../../source/core/domain/origin/set-origin/origin-set.event';\nimport { ScrollPositionSetEvent } from '../domain/scroll-position/scroll-position-set.event';\nimport { RowHeightSetBasedOnThemeEvent } from '../domain/set-row-height-theme/row-height-set-based-on-theme.event';\nimport { SearchPhraseSetDomainEvent } from '../../../search/core/domain/set-phrase/search-phrase-set.domain-event';\nimport { PageChangedEvent } from '../../../paging/core/domain/page/page-changed.event';\nimport { PagingSetEvent } from '../../../paging/core/domain/set/paging-set.event';\n\n\n@Injectable()\nexport class VerticalFormationRepository extends Reactive {\n\n\tprivate readonly verticalFormation = new Map<string, VerticalFormationReadModel>();\n\n\tprivate readonly verticalFormation$ = new ReplaySubject<Map<string, VerticalFormationReadModel>>();\n\n\tconstructor(private readonly domainEventBus: DomainEventBus,\n\t\t\t\tprivate readonly inMemoryStructureReadStore: InMemoryStructureReadStore) {\n\t\tsuper();\n\n\t\tthis.domainEventBus\n\t\t\t.ofEvent(\n\t\t\t\tStructureCreatedEvent as any,\n\t\t\t\tVerticalScrollEnabledSetEvent as any,\n\t\t\t\tOriginSetEvent as any,\n\t\t\t\tStructureHeightSetEvent as any,\n\t\t\t\tRowHeightSetEvent as any,\n\t\t\t\tSchemaThemeSetEvent as any, // TODO\n\t\t\t\tRowHeightSetBasedOnThemeEvent as any,\n\t\t\t\tScrollPositionSetEvent as any,\n\t\t\t\tSearchPhraseSetDomainEvent as any,\n\t\t\t\tPageChangedEvent as any,\n\t\t\t\tPagingSetEvent as any\n\t\t\t)\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((event: DomainEvent<StructureId>) => {\n\n\t\t\t\tconst aggregateId = event.getAggregateId();\n\n\t\t\t\tconst optStructure = this.inMemoryStructureReadStore.getById(aggregateId);\n\n\t\t\t\toptStructure.ifPresent((structureReadModelRoot: StructureReadModelRoot) => {\n\n\t\t\t\t\tconst verticalFormation = structureReadModelRoot.getVerticalFormation(),\n\t\t\t\t\t\tstructureReadModelRootId = structureReadModelRoot.getId();\n\n\t\t\t\t\tthis.next(aggregateId, verticalFormation);\n\t\t\t\t});\n\n\t\t\t});\n\t}\n\n\tonVerticalScrollEnabled(structureId: StructureId): Observable<boolean> {\n\n\t\treturn this.onVerticalFormation(structureId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((v: VerticalFormationReadModel) => v.isEnabled()),\n\t\t\t\t\t   distinctUntilChanged()\n\t\t\t\t   );\n\t}\n\n\tonRowHeight(structureId: StructureId): Observable<number> {\n\n\t\treturn this.onVerticalFormation(structureId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((v: VerticalFormationReadModel) => v.getRowHeight()),\n\t\t\t\t\t   distinctUntilChanged()\n\t\t\t\t   );\n\t}\n\n\tonContainerHeight(structureId: StructureId): Observable<number> {\n\n\t\treturn this.onVerticalFormation(structureId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((v: VerticalFormationReadModel) => v.getViewPortHeight()),\n\t\t\t\t\t   distinctUntilChanged()\n\t\t\t\t   );\n\t}\n\n\tonTopMargin(structureId: StructureId): Observable<number> {\n\n\t\treturn this.onVerticalFormation(structureId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((v: VerticalFormationReadModel) => v.getTopMargin()),\n\t\t\t\t\t   distinctUntilChanged()\n\t\t\t\t   );\n\t}\n\n\tprivate onVerticalFormation(structureId: StructureId): Observable<VerticalFormationReadModel> {\n\n\t\treturn this.verticalFormation$\n\t\t\t\t   .asObservable()\n\t\t\t\t   .pipe(\n\t\t\t\t\t   filter((idToVerticalFormation: Map<string, VerticalFormationReadModel>) => {\n\n\t\t\t\t\t\t   const key = structureId.getId();\n\n\t\t\t\t\t\t   return idToVerticalFormation.has(key);\n\t\t\t\t\t   }),\n\t\t\t\t\t   map((idToVerticalFormation: Map<string, VerticalFormationReadModel>) => idToVerticalFormation.get(structureId.getId()))\n\t\t\t\t   );\n\t}\n\n\tprivate next(structureId: StructureId, verticalFormation: VerticalFormationReadModel): void {\n\t\tthis.verticalFormation.set(structureId.toString(), verticalFormation);\n\t\tthis.verticalFormation$.next(this.verticalFormation);\n\t}\n\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateArchive } from '@generic-ui/hermes';\n\n\n@Injectable()\nexport class VerticalFormationScrollBarPositionRepository extends AggregateArchive<number> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { VerticalFormationRepository } from './vertical-formation.repository';\nimport { StructureId } from '../../../core/domain/structure.id';\nimport { structureGlobalId } from '../../../core/api/structure.global-id';\nimport { VerticalFormationScrollBarPositionRepository } from '../domain-read/scroll-bar/vertical-formation.scroll-bar-position.repository';\n\n\n@Injectable()\nexport class StructureVerticalFormationWarehouse {\n\n\tconstructor(private readonly verticalFormationRepository: VerticalFormationRepository,\n\t\t\t\tprivate readonly positionRepository: VerticalFormationScrollBarPositionRepository) {\n\t}\n\n\tonVerticalScrollEnabled(structureId: StructureId): Observable<boolean> {\n\t\treturn this.verticalFormationRepository.onVerticalScrollEnabled(structureId);\n\t}\n\n\tonRowHeight(structureId: StructureId): Observable<number> {\n\t\treturn this.verticalFormationRepository.onRowHeight(structureId);\n\t}\n\n\tonContainerHeight(structureId: StructureId): Observable<number> {\n\t\treturn this.verticalFormationRepository.onContainerHeight(structureId);\n\t}\n\n\tonTopMargin(structureId: StructureId): Observable<number> {\n\t\treturn this.verticalFormationRepository.onTopMargin(structureId);\n\t}\n\n\tonScrollBarPosition(structureId: StructureId = structureGlobalId): Observable<number> {\n\t\treturn this.positionRepository.on(structureId);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { Override } from '../../../../../common/cdk/decorators';\n\nimport { StructureVerticalFormationWarehouse } from '../../../../vertical-formation/core/api/structure-vertical-formation.warehouse';\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { VerticalFormationRepository } from '../../../../vertical-formation/core/api/vertical-formation.repository';\nimport { VerticalFormationScrollBarPositionRepository } from '../../../../vertical-formation/core/domain-read/scroll-bar/vertical-formation.scroll-bar-position.repository';\n\n\n@Injectable()\nexport class LocalStructureVerticalFormationWarehouse extends StructureVerticalFormationWarehouse {\n\n\tconstructor(private readonly structureId: StructureId,\n\t\t\t\tverticalFormationRepository: VerticalFormationRepository,\n\t\t\t\tpositionRepository: VerticalFormationScrollBarPositionRepository) {\n\t\tsuper(verticalFormationRepository, positionRepository);\n\t}\n\n\t@Override\n\tonVerticalScrollEnabled(): Observable<boolean> {\n\t\treturn super.onVerticalScrollEnabled(this.structureId);\n\t}\n\n\t@Override\n\tonRowHeight(): Observable<number> {\n\t\treturn super.onRowHeight(this.structureId);\n\t}\n\n\t@Override\n\tonContainerHeight(): Observable<number> {\n\t\treturn super.onContainerHeight(this.structureId);\n\t}\n\n\t@Override\n\tonTopMargin(): Observable<number> {\n\t\treturn super.onTopMargin(this.structureId);\n\t}\n\n\t@Override\n\tonScrollBarPosition(): Observable<number> {\n\t\treturn super.onScrollBarPosition(this.structureId);\n\t}\n}\n","import { CompositionCommandInvoker } from '../../../../composition/core/api/composition.command-invoker';\nimport { PagingCommandInvoker } from '../../../paging/core/api/paging.command-invoker';\nimport { LocalPagingCommandDispatcher } from './paging/local-paging.command-dispatcher';\nimport { LocalPagingWarehouse } from './paging/local-paging.warehouse';\nimport { FormationCommandInvoker } from '../../../source/core/api/formation/formation.command-invoker';\nimport { LocalFormationCommandDispatcher } from './formation/local-formation.command-dispatcher';\nimport { FormationWarehouse } from '../../../source/core/api/formation/formation.warehouse';\nimport { LocalFormationWarehouse } from './formation/local-formation.warehouse';\nimport { StructureCommandInvoker } from '../../../core/api/structure.command-invoker';\nimport { LocalStructureCommandDispatcher } from './structure/local-structure.command-dispatcher';\nimport { StructureWarehouse } from '../../core/api/structure.warehouse';\nimport { LocalStructureWarehouse } from './structure/local-structure.warehouse';\nimport { SourceCommandInvoker } from '../../../source/core/api/source.command-invoker';\nimport { LocalSourceCommandDispatcher } from './source/local-source.command-dispatcher';\nimport { SourceWarehouse } from '../../../source/core/api/source.warehouse';\nimport { LocalSourceWarehouse } from './source/local-source.warehouse';\nimport { LocalCompositionCommandDispatcher } from './composition/local-composition.command-dispatcher';\nimport { CompositionWarehouse } from '../../../../composition/core/api/composition.warehouse';\nimport { LocalCompositionWarehouse } from './composition/local-composition.warehouse';\nimport { PagingWarehouse } from '../../../paging/core/api/paging.warehouse';\nimport { SearchDispatcher } from '../../../search/core/domain/search.dispatcher';\nimport { LocalStructureSearchCommandDispatcher } from './search/local-structure-search.command-dispatcher';\n\nimport { SchemaWarehouse } from '../../../../schema/core/api/schema.warehouse';\nimport { LocalSchemaWarehouse } from './schema/local-schema.warehouse';\nimport { SchemaCommandInvoker } from '../../../../schema/core/api/schema.command-invoker';\nimport { LocalSchemaCommandDispatcher } from './schema/local-schema.command-dispatcher';\nimport { StructureVerticalFormationWarehouse } from '../../../vertical-formation/core/api/structure-vertical-formation.warehouse';\nimport { LocalStructureVerticalFormationWarehouse } from './vertical-formation/local-structure-vertical-formation.warehouse';\nimport { Provider } from '@angular/core';\n\nexport const localProviders = [\n\t{ provide: PagingCommandInvoker, useClass: LocalPagingCommandDispatcher },\n\t{ provide: PagingWarehouse, useClass: LocalPagingWarehouse },\n\t{ provide: FormationCommandInvoker, useClass: LocalFormationCommandDispatcher },\n\t{ provide: FormationWarehouse, useClass: LocalFormationWarehouse },\n\t{ provide: StructureCommandInvoker, useClass: LocalStructureCommandDispatcher },\n\t{ provide: StructureWarehouse, useClass: LocalStructureWarehouse },\n\t{ provide: SourceCommandInvoker, useClass: LocalSourceCommandDispatcher },\n\t{ provide: SourceWarehouse, useClass: LocalSourceWarehouse },\n\n\t{ provide: CompositionCommandInvoker, useClass: LocalCompositionCommandDispatcher },\n\t{ provide: CompositionWarehouse, useClass: LocalCompositionWarehouse },\n\n\t{ provide: SearchDispatcher, useClass: LocalStructureSearchCommandDispatcher },\n\n\t{ provide: StructureVerticalFormationWarehouse, useClass: LocalStructureVerticalFormationWarehouse },\n\n\t{ provide: SchemaWarehouse, useClass: LocalSchemaWarehouse },\n\t{ provide: SchemaCommandInvoker, useClass: LocalSchemaCommandDispatcher }\n];\n\nexport function provideComponentServices(): Array<Provider> {\n\treturn [\n\t\t{ provide: PagingCommandInvoker, useClass: LocalPagingCommandDispatcher },\n\t\t{ provide: PagingWarehouse, useClass: LocalPagingWarehouse },\n\t\t{ provide: FormationCommandInvoker, useClass: LocalFormationCommandDispatcher },\n\t\t{ provide: FormationWarehouse, useClass: LocalFormationWarehouse },\n\t\t// { provide: StructureCommandDispatcher, useClass: LocalStructureCommandDispatcher },\n\t\t{ provide: StructureWarehouse, useClass: LocalStructureWarehouse },\n\t\t{ provide: SourceCommandInvoker, useClass: LocalSourceCommandDispatcher },\n\t\t{ provide: SourceWarehouse, useClass: LocalSourceWarehouse },\n\t\t{ provide: SearchDispatcher, useClass: LocalStructureSearchCommandDispatcher },\n\t\t{ provide: StructureVerticalFormationWarehouse, useClass: LocalStructureVerticalFormationWarehouse }\n\t];\n}\n","import { ModifierApi } from './modifier-api';\n\nexport abstract class Modifier<T extends ModifierApi> {\n\n\tprotected constructor(\n\t\tprivate readonly hostElement?: HTMLElement\n\t) {\n\t}\n\n\tprotected abstract createModifier(htmlElement: HTMLElement): T;\n\n\tgetElement(htmlElement: HTMLElement): T {\n\t\treturn this.createModifier(htmlElement);\n\t}\n\n\tgetHost(): T {\n\n\t\tif (!this.hostElement) {\n\t\t\tthrow new Error('Missing host element in DomRenderer constructor.');\n\t\t}\n\n\t\treturn this.createModifier(this.hostElement);\n\t}\n}\n","import { ClassModifierApi } from './class-modifier-api';\nimport { Modifier } from '../core/modifier';\n\n\nexport class ClassModifier extends Modifier<ClassModifierApi> {\n\n\tconstructor(\n\t\tprivate readonly htmlElement?: HTMLElement\n\t) {\n\t\tsuper(htmlElement);\n\t}\n\n\tprotected createModifier(htmlElement: HTMLElement): ClassModifierApi {\n\t\treturn new ClassModifier.ClassModifier(htmlElement);\n\t}\n\n\tprivate static readonly ClassModifier = class implements ClassModifierApi {\n\n\t\tprivate static readonly CLASS = 'class';\n\n\t\tconstructor(\n\t\t\tprivate readonly htmlElement: HTMLElement\n\t\t) {\n\t\t}\n\n\t\tadd(...classes: Array<string>): void {\n\t\t\tthis.addClassToDomElement(this.htmlElement, classes);\n\t\t}\n\n\t\tremove(...classes: Array<string>): void {\n\t\t\tthis.removeClassFromDomElement(this.htmlElement, classes);\n\t\t}\n\n\t\tclear(): void {\n\t\t\tthis.htmlElement.removeAttribute(ClassModifier.ClassModifier.CLASS);\n\t\t}\n\n\t\tprivate addClassToDomElement(htmlElement: HTMLElement, classes: Array<string>): void {\n\n\t\t\tfor (let i = 0; i < classes.length; i++) {\n\t\t\t\thtmlElement.classList.add(classes[i]);\n\t\t\t}\n\t\t}\n\n\t\tprivate removeClassFromDomElement(htmlElement: HTMLElement, classes: Array<string>): void {\n\n\t\t\tfor (let i = 0; i < classes.length; i++) {\n\t\t\t\thtmlElement.classList.remove(classes[i]);\n\t\t\t}\n\t\t}\n\n\t};\n\n}\n","import { ElementRef, Injectable } from '@angular/core';\n\nimport { SchemaCssClass } from '../../../../schema/core/api/css-classes/schema-css-class';\nimport { SchemaTheme } from '../../../../schema/core/api/theme/schema-theme';\nimport { SchemaRowColoring } from '../../../../schema/core/api/row-coloring/schema-row-coloring';\nimport { SchemaWarehouse } from '../../../../schema/core/api/schema.warehouse';\nimport { SchemaReadModelRootId } from '../../../../schema/core/api/schema.read-model-root-id';\nimport { Reactive } from '../../../../common/cdk/reactive/reactive';\nimport { ClassModifier } from '../../../../common/cdk/dom/class/class-modifier';\n\n\n@Injectable()\nexport class SchemaCssClassManager extends Reactive {\n\n\tprivate static readonly VERTICAL_GRID_CLASS_NAME = 'gui-vertical-grid';\n\n\tprivate static readonly HORIZONTAL_GRID_CLASS_NAME = 'gui-horizontal-grid';\n\n\tprivate static readonly THEME_FABRIC_CLASS_NAME = 'gui-fabric';\n\n\tprivate static readonly THEME_MATERIAL_CLASS_NAME = 'gui-material';\n\n\tprivate static readonly THEME_LIGHT_CLASS_NAME = 'gui-light';\n\n\tprivate static readonly THEME_DARK_CLASS_NAME = 'gui-dark';\n\n\tprivate static readonly THEME_GENERIC_CLASS_NAME = 'gui-generic';\n\n\tprivate static readonly ROW_COLORING_ODD = 'gui-rows-odd';\n\n\tprivate static readonly ROW_COLORING_EVEN = 'gui-rows-even';\n\n\tprivate readonly classModifier: ClassModifier;\n\n\tprivate cssClass: SchemaCssClass = null;\n\n\tprivate cssHostRef: ElementRef;\n\n\tconstructor(private readonly schemaReadModelRepository: SchemaWarehouse) {\n\t\tsuper();\n\t\tthis.classModifier = new ClassModifier();\n\t}\n\n\tinit(elementRef: ElementRef, schemaReadModelRootId: SchemaReadModelRootId): void {\n\n\t\tthis.cssHostRef = elementRef;\n\n\t\tthis.schemaReadModelRepository\n\t\t\t.onCssClasses(schemaReadModelRootId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((classes: SchemaCssClass) => {\n\n\t\t\t\tconst diff = this.updateState(classes);\n\n\t\t\t\tthis.renderCssClasses(diff);\n\t\t\t});\n\t}\n\n\tprivate updateState(css: SchemaCssClass): Partial<SchemaCssClass> {\n\n\t\tif (!this.cssClass) {\n\t\t\tthis.cssClass = css;\n\t\t\treturn this.cssClass;\n\t\t} else {\n\n\t\t\tconst diff = {};\n\n\t\t\tObject.keys(this.cssClass)\n\t\t\t\t  .forEach((key: string) => {\n\t\t\t\t\t  if (css[key] !== this.cssClass[key]) {\n\t\t\t\t\t\t  diff[key] = css[key];\n\t\t\t\t\t  }\n\t\t\t\t  });\n\n\t\t\tthis.cssClass = css;\n\n\t\t\treturn diff;\n\t\t}\n\t}\n\n\tprivate renderCssClasses(diff: Partial<SchemaCssClass>): void {\n\n\t\tif (diff.hasOwnProperty('verticalGrid')) {\n\t\t\tthis.toggleCssClass(diff.verticalGrid, SchemaCssClassManager.VERTICAL_GRID_CLASS_NAME);\n\t\t}\n\n\t\tif (diff.hasOwnProperty('horizontalGrid')) {\n\t\t\tthis.toggleCssClass(diff.horizontalGrid, SchemaCssClassManager.HORIZONTAL_GRID_CLASS_NAME);\n\t\t}\n\n\t\tif (diff.hasOwnProperty('theme')) {\n\t\t\tthis.removeThemeCssClasses();\n\t\t\tthis.addClass(this.resolveThemeClassName(diff.theme));\n\t\t}\n\n\t\tif (diff.hasOwnProperty('rowColoring')) {\n\t\t\tthis.removeRowColoringClasses();\n\t\t\tthis.addClass(this.resolveRowColoringClassName(diff.rowColoring));\n\t\t}\n\t}\n\n\tprivate toggleCssClass(toggle: boolean, cssClassName: string): void {\n\t\tif (toggle) {\n\t\t\tthis.addClass(cssClassName);\n\t\t} else {\n\t\t\tthis.removeClass(cssClassName);\n\t\t}\n\t}\n\n\tprivate removeThemeCssClasses(): void {\n\t\tObject.keys(SchemaTheme)\n\t\t\t  .map((key: string) => SchemaTheme[key])\n\t\t\t  .map((theme: SchemaTheme) => this.resolveThemeClassName(theme))\n\t\t\t  .filter((className: string) => !!className)\n\t\t\t  .forEach((className: string) => {\n\t\t\t\t  this.removeClass(className);\n\t\t\t  });\n\t}\n\n\tprivate resolveThemeClassName(theme: SchemaTheme | string): string {\n\n\t\tswitch (theme) {\n\t\t\tcase SchemaTheme.FABRIC:\n\t\t\tcase SchemaTheme[SchemaTheme.FABRIC]:\n\t\t\t\treturn SchemaCssClassManager.THEME_FABRIC_CLASS_NAME;\n\n\t\t\tcase SchemaTheme.MATERIAL:\n\t\t\tcase SchemaTheme[SchemaTheme.MATERIAL]:\n\t\t\t\treturn SchemaCssClassManager.THEME_MATERIAL_CLASS_NAME;\n\n\t\t\tcase SchemaTheme.LIGHT:\n\t\t\tcase SchemaTheme[SchemaTheme.LIGHT]:\n\t\t\t\treturn SchemaCssClassManager.THEME_LIGHT_CLASS_NAME;\n\n\t\t\tcase SchemaTheme.DARK:\n\t\t\tcase SchemaTheme[SchemaTheme.DARK]:\n\t\t\t\treturn SchemaCssClassManager.THEME_DARK_CLASS_NAME;\n\n\t\t\tcase SchemaTheme.GENERIC:\n\t\t\tcase SchemaTheme[SchemaTheme.GENERIC]:\n\t\t\t\treturn SchemaCssClassManager.THEME_GENERIC_CLASS_NAME;\n\n\t\t\tdefault:\n\t\t\t\treturn SchemaCssClassManager.THEME_FABRIC_CLASS_NAME;\n\t\t}\n\t}\n\n\tprivate resolveRowColoringClassName(coloring: SchemaRowColoring | string): string {\n\t\tswitch (coloring) {\n\t\t\tcase SchemaRowColoring.ODD:\n\t\t\tcase SchemaRowColoring[SchemaRowColoring.ODD]:\n\t\t\t\treturn SchemaCssClassManager.ROW_COLORING_ODD;\n\n\t\t\tcase SchemaRowColoring.EVEN:\n\t\t\tcase SchemaRowColoring[SchemaRowColoring.EVEN]:\n\t\t\t\treturn SchemaCssClassManager.ROW_COLORING_EVEN;\n\n\t\t\tdefault:\n\t\t\t\treturn null;\n\t\t}\n\t}\n\n\tprivate removeRowColoringClasses(): void {\n\t\tObject.keys(SchemaRowColoring)\n\t\t\t  .map((key: string) => SchemaRowColoring[key])\n\t\t\t  .map((coloring: SchemaRowColoring) => this.resolveRowColoringClassName(coloring))\n\t\t\t  .filter((className: string) => !!className)\n\t\t\t  .forEach((className: string) => {\n\t\t\t\t  this.removeClass(className);\n\t\t\t  });\n\t}\n\n\tprivate addClass(cssClassName: string): void {\n\t\tif (cssClassName) {\n\t\t\tthis.classModifier.getElement(this.cssHostRef.nativeElement).add(cssClassName);\n\t\t}\n\t}\n\n\tprivate removeClass(cssClassName: string): void {\n\t\tif (cssClassName) {\n\t\t\tthis.classModifier.getElement(this.cssHostRef.nativeElement).remove(cssClassName);\n\t\t}\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { Archive } from '@generic-ui/hermes';\n\n\n@Injectable()\nexport class StructureCellEditArchive extends Archive<boolean> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { Archive } from '@generic-ui/hermes';\n\nimport { StructureCellEditState } from './structure.cell-edit.state';\n\n\n@Injectable()\nexport class StructureCellEditStore extends Archive<StructureCellEditState> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { Archive } from '@generic-ui/hermes';\n\n@Injectable()\nexport class StructureEditModeArchive extends Archive<boolean> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n}\n","export class StructureInfoPanelConfig {\n\n\tprivate readonly enabled?: boolean = false;\n\tprivate readonly infoDialog?: boolean = true;\n\tprivate readonly columnsManager?: boolean = true;\n\tprivate readonly schemaManager?: boolean = true;\n\tprivate readonly sourceSize?: boolean = true;\n\n\tconstructor(enabled?: boolean,\n\t\t\t\tinfoDialog?: boolean,\n\t\t\t\tcolumnsManager?: boolean,\n\t\t\t\tschemaManager?: boolean,\n\t\t\t\tsourceSize?: boolean) {\n\n\t\tif (this.isNotUndefinedOrNull(enabled)) {\n\t\t\tthis.enabled = enabled;\n\t\t}\n\n\t\tif (this.isNotUndefinedOrNull(infoDialog)) {\n\t\t\tthis.infoDialog = infoDialog;\n\t\t}\n\n\t\tif (this.isNotUndefinedOrNull(columnsManager)) {\n\t\t\tthis.columnsManager = columnsManager;\n\t\t}\n\n\t\tif (this.isNotUndefinedOrNull(sourceSize)) {\n\t\t\tthis.sourceSize = sourceSize;\n\t\t}\n\n\t\tif (this.isNotUndefinedOrNull(schemaManager)) {\n\t\t\tthis.schemaManager = schemaManager;\n\t\t}\n\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n\tisInfoDialogEnabled(): boolean {\n\t\treturn this.infoDialog;\n\t}\n\n\tisColumnsManagerEnabled(): boolean {\n\t\treturn this.columnsManager;\n\t}\n\n\tisSourceSizeEnabled(): boolean {\n\t\treturn this.sourceSize;\n\t}\n\n\tisSchemaManagerEnabled(): boolean {\n\t\treturn this.schemaManager;\n\t}\n\n\tprivate isNotUndefinedOrNull(config: boolean): boolean {\n\t\treturn config !== undefined && config !== null;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { Archive } from '@generic-ui/hermes';\nimport { StructureInfoPanelConfig } from './structure.info-panel.config';\n\n\n@Injectable()\nexport class StructureInfoPanelArchive extends Archive<StructureInfoPanelConfig> {\n\n\tconstructor() {\n\t\tsuper(new StructureInfoPanelConfig());\n\t}\n}\n","export class StructureSummariesPanelConfig {\n\n\tprivate readonly top: boolean = false;\n\n\tprivate readonly bottom: boolean = true;\n\n\tconstructor(top?: boolean,\n\t\t\t\tbottom?: boolean) {\n\n\t\tif (top !== undefined && top !== null) {\n\t\t\tthis.top = top;\n\t\t}\n\n\t\tif (bottom !== undefined && bottom !== null) {\n\t\t\tthis.bottom = bottom;\n\t\t}\n\n\t}\n\n\titTopEnabled(): boolean {\n\t\treturn this.top;\n\t}\n\n\titBottomEnabled(): boolean {\n\t\treturn this.bottom;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { Archive } from '@generic-ui/hermes';\n\nimport { StructureSummariesPanelConfig } from './structure.summaries-panel.config';\n\n\n@Injectable()\nexport class StructureSummariesArchive extends Archive<StructureSummariesPanelConfig> {\n\n\tconstructor() {\n\t\tsuper(new StructureSummariesPanelConfig());\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { StructureSummariesPanelConfig } from './structure.summaries-panel.config';\n\nimport { SummariesConfig } from '../../../../summaries/core/api/summaries-config';\n\n\n@Injectable()\nexport class StructureSummariesPanelConfigConverter {\n\n\tconvert(config: SummariesConfig): StructureSummariesPanelConfig {\n\n\t\tif (config.enabled) {\n\t\t\treturn new StructureSummariesPanelConfig(config.top, config.bottom);\n\t\t} else {\n\t\t\treturn new StructureSummariesPanelConfig(false, false);\n\t\t}\n\t}\n}\n","import { StructureId } from '../../../../core/domain/structure.id';\nimport { StructureCommand } from '../../../../core/domain/structure.command';\n\n\nexport class StructureSetSummariesEnabledCommand extends StructureCommand {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly enabled: boolean) {\n\t\tsuper(structureId, 'StructureSetSummariesEnabledCommand');\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandDispatcher } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../core/domain/structure.id';\nimport { StructureSetSummariesEnabledCommand } from '../domain/set/structure.set-summaries-enabled.command';\n\n\n@Injectable()\nexport class StructureSummariesCommandDispatcher {\n\n\tconstructor(private commandDispatcher: CommandDispatcher) {\n\t}\n\n\tsetSummariesEnabled(enabled: boolean, structureId: StructureId): void {\n\t\tthis.commandDispatcher.dispatch(new StructureSetSummariesEnabledCommand(structureId, enabled));\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { StructureSummariesPanelConfigConverter } from './structure.summaries-panel.config-converter';\nimport { StructureSummariesArchive } from './structure.summaries.archive';\n\nimport { StructureSummariesCommandDispatcher } from '../../../../summaries/core/api/structure-summaries.command-dispatcher';\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { SummariesConfig } from '../../../../summaries/core/api/summaries-config';\n\n\n@Injectable()\nexport class StructureSummariesConfigService {\n\n\tconstructor(private structureSummariesPanelConfigConverter: StructureSummariesPanelConfigConverter,\n\t\t\t\tprivate structureSummariesArchive: StructureSummariesArchive,\n\t\t\t\tprivate structureSummariesCommandDispatcher: StructureSummariesCommandDispatcher,\n\t\t\t\tprivate structureId: StructureId) {\n\t}\n\n\tset(config: SummariesConfig): void {\n\n\t\tconst summariesPanelConfig = this.structureSummariesPanelConfigConverter.convert(config);\n\n\t\tthis.structureSummariesArchive.next(summariesPanelConfig);\n\n\t\tthis.structureSummariesCommandDispatcher.setSummariesEnabled(config.enabled, this.structureId);\n\t}\n\n}\n","import { InjectionToken } from '@angular/core';\n\nimport { StructureComponent } from './structure.component';\n\nexport const structureComponentToken = new InjectionToken<StructureComponent>('StructureComponentToken');\n","import { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\n\nexport class StreamCloser<T> {\n\n\tprivate readonly unsubscribe$ = new Subject<void>();\n\n\tconstructor() {\n\t}\n\n\ttakeUntil() {\n\t\treturn takeUntil(this.unsubscribe$);\n\t}\n\n\tunsubscribe(): void {\n\t\tif (this.unsubscribe$.isStopped) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.unsubscribe$.next();\n\t\tthis.unsubscribe$.complete();\n\t}\n\n}\n","import { ElementRef } from '@angular/core';\n\nimport { ClassModifier } from '../dom/class/class-modifier';\nimport { Changes } from './ng-changes';\n\n\nexport abstract class GuiComponent {\n\n\tprivate readonly innerClassModifier: ClassModifier = new ClassModifier(this.innerElementRef.nativeElement);\n\n\tprotected constructor(private readonly innerElementRef: ElementRef) {\n\t\tthis.addHostClass();\n\t}\n\n\tprotected abstract getSelectorName(): string;\n\n\taddClassToHost(className: string): void {\n\t\tthis.innerClassModifier.getHost().add(className);\n\t}\n\n\tremoveClassFromHost(className: string): void {\n\t\tthis.innerClassModifier.getHost().remove(className);\n\t}\n\n\thasChanged<T>(prop: Changes<T>): boolean {\n\t\treturn prop !== undefined && prop.currentValue !== undefined;\n\t}\n\n\tprivate addHostClass(): void {\n\t\tthis.innerClassModifier.getHost().add(this.getSelectorName());\n\t}\n}\n","import { ChangeDetectorRef, ElementRef } from '@angular/core';\n\nimport { StreamCloser } from '../reactive/stream-closer';\nimport { GuiComponent } from './gui-component';\nimport { Subscription } from 'rxjs';\n\nexport abstract class SmartComponent extends GuiComponent {\n\n\tprivate viewInDom: boolean = false;\n\n\tprivate readonly streamCloser = new StreamCloser();\n\n\tprotected constructor(protected readonly detector: ChangeDetectorRef,\n\t\t\t\t\t\t  elementRef: ElementRef) {\n\t\tsuper(elementRef);\n\t}\n\n\tngAfterViewInit() {\n\t\tthis.viewInDom = true;\n\t}\n\n\tngOnDestroy() {\n\t\tthis.streamCloser.unsubscribe();\n\t}\n\n\treRender(): void {\n\t\tif (this.isViewInDom()) {\n\t\t\tthis.detector.detectChanges();\n\t\t}\n\t}\n\n\tisViewInDom(): boolean {\n\t\treturn this.viewInDom;\n\t}\n\n\tsubscribeAndRender(obs$: any, callback: (args: any) => void): Subscription {\n\t\treturn obs$\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((subscribeArguments: any) => {\n\t\t\t\tcallback(subscribeArguments);\n\t\t\t\tthis.reRender();\n\t\t\t});\n\t}\n\n\tsubscribeWithoutRender(obs$: any, callback: (args: any) => void): Subscription {\n\t\treturn obs$\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((subscribeArguments: any) => {\n\t\t\t\tcallback(subscribeArguments);\n\t\t\t});\n\t}\n\n\tprotected unsubscribe(): void {\n\t\tthis.streamCloser.unsubscribe();\n\t}\n\n\tprotected takeUntil() {\n\t\treturn this.streamCloser.takeUntil();\n\t}\n\n}\n","export enum StructureCellEditState {\n\tENTER,\n\tSUBMIT,\n\tCANCEL\n}\n","import { StructureId } from '../../../../core/domain/structure.id';\nimport { FieldConfig } from '../../api/field.config';\nimport { StructureCommand } from '../../../../core/domain/structure.command';\n\n\nexport class InitFieldsCommand extends StructureCommand {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly fieldConfigs: Array<FieldConfig>) {\n\t\tsuper(structureId, 'InitFieldsCommand');\n\t}\n\n\tgetFieldConfigs(): Array<FieldConfig> {\n\t\treturn this.fieldConfigs;\n\t}\n\n}\n","import { StructureId } from '../../../../core/domain/structure.id';\nimport { Field } from '../field/field';\nimport { FieldConfig } from '../../api/field.config';\nimport { StructureDomainEvent } from '../../../../core/domain/structure.domain-event';\n\n\nexport class FieldsInitedEvent extends StructureDomainEvent {\n\n\tconstructor(aggregateId: StructureId,\n\t\t\t\tpublic readonly fieldConfigs: Array<FieldConfig>, // TODO merge\n\t\t\t\tprivate readonly fields: Array<Field>) {\n\t\tsuper(aggregateId, { fieldConfigs, fields }, 'FieldsInitedEvent');\n\t}\n\n\tgetFields(): Array<Field> {\n\t\treturn this.fields;\n\t}\n}\n","export class ColumnFieldId {\n\n\tprivate readonly id: string;\n\n\tconstructor(id: string) {\n\t\tthis.id = id;\n\t}\n\n\tgetId(): string {\n\t\treturn this.id;\n\t}\n\n}\n","import { ColumnConfig } from '../../../api/column/column.config';\nimport { ColumnField } from '../field/column-field';\n\nexport class ColumnParams {\n\n\tconstructor(private readonly column: ColumnConfig,\n\t\t\t\tprivate readonly field: ColumnField) {\n\t}\n\n\tgetColumn(): ColumnConfig {\n\t\treturn this.column;\n\t}\n\n\tgetField(): ColumnField {\n\t\treturn this.field;\n\t}\n\n}\n","import { filter, take } from 'rxjs/operators';\n\nimport { CommandDispatcher, DomainEvent, DomainEventBus } from '@generic-ui/hermes';\n\nimport { InitFieldsCommand } from '../../../../field/core/domain/init/init-fields.command';\nimport { FieldConfig } from '../../../../field/core/api/field.config';\nimport { FieldsInitedEvent } from '../../../../field/core/domain/init/fields-inited.event';\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { Field } from '../../../../field/core/domain/field/field';\nimport { ColumnFieldId } from '../../../../../composition/core/domain/column/field/column-field.id';\nimport { ColumnConfig, MultiColumnConfig } from '../../../../../composition/core/api/column/column.config';\nimport { ColumnParams } from '../../../../../composition/core/domain/column/set-columns/column.params';\nimport { CompositionCommandInvoker } from '../../../../../composition/core/api/composition.command-invoker';\nimport { CompositionId } from '../../../../../composition/core/domain/composition.id';\nimport { ColumnFieldFactory } from '../../../../../composition/core/domain/column/field/colum-field.factory';\nimport { NgChanges } from '../../../../../common/cdk/component/ng-changes';\nimport { StructureGateway } from '../structure.gateway';\n\n\nexport class StructureColumnInputHandler {\n\n\tconstructor(private readonly structureId: StructureId,\n\t\t\t\tprivate readonly compositionId: CompositionId,\n\t\t\t\tprivate readonly commandDispatcher: CommandDispatcher,\n\t\t\t\tprivate readonly domainEventBus: DomainEventBus,\n\t\t\t\tprivate readonly columnFieldFactory: ColumnFieldFactory,\n\t\t\t\tprivate readonly compositionCommandInvoker: CompositionCommandInvoker) {\n\t}\n\n\thandle(changes: NgChanges<StructureGateway>): void {\n\n\t\tconst config: Array<ColumnConfig | MultiColumnConfig> = changes.columns.currentValue;\n\n\t\tthis.compositionCommandInvoker.setGroups(config, this.compositionId);\n\n\t\t// prepare model\n\t\tconst { columns, groups } = this.getConfigs(changes.columns.currentValue);\n\n\t\tconst fieldConfigs = this.getFieldConfigs(columns);\n\n\t\t// const fieldConfigs = columns as Array<FieldConfig>;\n\n\t\tconst initCommand = new InitFieldsCommand(this.structureId, fieldConfigs);\n\n\t\tthis.domainEventBus\n\t\t\t.ofEvent(\n\t\t\t\tFieldsInitedEvent as any\n\t\t\t)\n\t\t\t.pipe(\n\t\t\t\tfilter((event: DomainEvent<StructureId>) => event.getAggregateId().toString() === this.structureId.toString()),\n\t\t\t\ttake(1)\n\t\t\t)\n\t\t\t.subscribe((event: FieldsInitedEvent) => {\n\n\t\t\t\tconst fields = event.getFields(),\n\t\t\t\t\tcolumnFieldIds = this.convertColumnFieldIds(fields),\n\t\t\t\t\tparams = this.convertColumns(columns, fields, columnFieldIds);\n\n\t\t\t\tthis.compositionCommandInvoker.setColumns(params, this.compositionId);\n\n\t\t\t\t// this.compositionCommandInvoker.setGroups(this.compositionId);\n\t\t\t});\n\n\t\tthis.commandDispatcher.dispatch(initCommand);\n\t}\n\n\tprivate getConfigs(configs: Array<ColumnConfig | MultiColumnConfig>): { columns: Array<ColumnConfig>, groups: Array<MultiColumnConfig> } {\n\n\t\tconst columnConfigs: Array<ColumnConfig> = [],\n\t\t\tgroupConfigs: Array<MultiColumnConfig> = [];\n\n\t\tfor (let i = 0; i < configs.length; i += 1) {\n\n\t\t\tconst config = configs[i];\n\n\t\t\tif ((config as MultiColumnConfig).columns !== undefined) {\n\t\t\t\tgroupConfigs.push(config);\n\t\t\t\tcolumnConfigs.push(...(config as MultiColumnConfig).columns);\n\t\t\t} else {\n\t\t\t\tcolumnConfigs.push(config);\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tcolumns: columnConfigs,\n\t\t\tgroups: groupConfigs\n\t\t};\n\t}\n\n\tprivate getFieldConfigs(columns: Array<ColumnConfig>): Array<FieldConfig> {\n\n\t\treturn columns.map((c) => {\n\t\t\treturn {\n\t\t\t\tfield: c.field as string,\n\t\t\t\ttype: c.type,\n\t\t\t\tmatcher: c.matcher,\n\t\t\t\tsummaries: c.summaries,\n\t\t\t\tsorting: c.sorting\n\t\t\t};\n\t\t});\n\t}\n\n\tprivate convertColumnFieldIds(fields: Array<Field>): Array<ColumnFieldId> {\n\n\t\tif (!fields) {\n\t\t\treturn [];\n\t\t}\n\n\t\treturn fields.map((field: Field) => new ColumnFieldId(field.getId().getId()));\n\t}\n\n\tprivate convertColumns(columns: Array<ColumnConfig>, fields: Array<Field>, columnFieldIds: Array<ColumnFieldId>): Array<ColumnParams> {\n\n\t\tif (!columns) {\n\t\t\treturn [];\n\t\t}\n\n\t\treturn columns.map((column: ColumnConfig, index: number) => {\n\n\t\t\tconst columnFieldId = columnFieldIds[index],\n\t\t\t\tfield = fields[index];\n\n\t\t\tconst columnField = this.columnFieldFactory.create(\n\t\t\t\tcolumnFieldId,\n\t\t\t\tfield.getAccessorMethod(),\n\t\t\t\tfield.getDataType(),\n\t\t\t\tfield.getSearchAccessorMethod()\n\t\t\t);\n\n\t\t\treturn new ColumnParams(column, columnField);\n\t\t});\n\n\t}\n\n}\n","import { ChangeDetectorRef, ElementRef, EventEmitter, Input, OnChanges, OnInit, Output } from '@angular/core';\n\nimport { SmartComponent } from '../../../../common/cdk/component/smart-component';\nimport { ColumnConfig, MultiColumnConfig } from '../../../../composition/core/api/column/column.config';\nimport { SchemaTheme } from '../../../../schema/core/api/theme/schema-theme';\nimport { SortingConfig } from '../../../sorting/core/api/sorting-config';\nimport { FilterConfig } from '../../../filter/core/api/filter-config';\nimport { QuickFiltersConfig } from '../../../filter/core/api/quick-filters.config';\nimport { EditemItemValues } from '../../../source/core/api/event/editem-item.values';\nimport { StructureId } from '../../../core/domain/structure.id';\nimport { CompositionId } from '../../../../composition/core/domain/composition.id';\nimport { StructureCommandInvoker } from '../../../core/api/structure.command-invoker';\nimport { PagingCommandInvoker } from '../../../paging/core/api/paging.command-invoker';\nimport { PagingEventRepository } from '../../../paging/core/api/paging.event-repository';\nimport { SourceCommandInvoker } from '../../../source/core/api/source.command-invoker';\nimport { SourceEventService } from '../../../source/core/api/event/source-event.service';\nimport { CompositionCommandInvoker } from '../../../../composition/core/api/composition.command-invoker';\nimport { CompositionEventRepository } from '../../../../composition/core/api/composition.event-repository';\nimport { FormationEventRepository } from '../../../source/core/api/formation/formation.event-repository';\nimport { StructureEditModeArchive } from '../edit/structure.edit-mode.archive';\nimport { StructureCellEditArchive } from '../edit/structure.cell-edit.archive';\nimport { StructureInfoPanelArchive } from '../panel/info/structure.info-panel.archive';\nimport { StructureSummariesConfigService } from '../panel/summaries/structure.summaries-config.service';\nimport { StructureCellEditStore } from '../edit/structure.cell-edit.store';\nimport { StructureCellEditState } from '../edit/structure.cell-edit.state';\nimport { StructureColumnMenuConfigArchive } from '../header/menu/config/structure.column-menu-config.archive';\nimport { PagingDisplayModeArchive } from '../../../paging/feature/mode/paging-display-mode.archive';\nimport { RowSelectEnabledRepository } from '../../../source/core/api/formation/set-enabled/row-select-enabled.repository';\nimport { SearchEventRepository } from '../../../search/core/api/search.event-repository';\nimport { SchemaCommandInvoker } from '../../../../schema/core/api/schema.command-invoker';\nimport { StructureHeaderBottomEnabledArchive } from '../header/structure-header-bottom-enabled.archive';\nimport { StructureHeaderTopEnabledArchive } from '../header/structure-header-top-enabled.archive';\nimport { SchemaEventRepository } from '../../../../schema/core/api/schema.event-repository';\nimport { SchemaReadModelRootId } from '../../../../schema/core/api/schema.read-model-root-id';\nimport { StructureRowDetailConfigArchive } from '../row-detail/structure.row-detail.config-archive';\nimport { StructureTitlePanelConfigArchive } from '../panel/banner-panels/title-panel/structure.title-panel.config-archive';\nimport { StructureFooterPanelConfigArchive } from '../panel/banner-panels/footer-panel/structure.footer-panel.config-archive';\nimport { StructureInfoPanelConfigService } from '../panel/info/structure.info-panel-config.service';\nimport { SortingCommandInvoker } from '../../../sorting/core/api/sorting.command-invoker';\nimport { SearchCommandInvoker } from '../../../search/core/api/search.command-invoker';\nimport { FieldCommandInvoker } from '../../../field/core/api/field.command-invoker';\nimport { CommandDispatcher, DomainEventBus } from '@generic-ui/hermes';\nimport { StructureColumnInputHandler } from './column/structure-column.input-handler';\nimport { ColumnFieldFactory } from '../../../../composition/core/domain/column/field/colum-field.factory';\nimport { RowSelectionTypeArchive } from '../../../source/core/api/formation/type/row-selection-type.archive';\nimport { FormationCommandInvoker } from '../../../source/core/api/formation/formation.command-invoker';\nimport { TranslationService } from '../../../../l10n/core/api/translation.service';\nimport { SchemaRowClassArchive } from '../../../../schema/core/api/styling/schema.row-class.archive';\nimport { SchemaRowStyleArchive } from '../../../../schema/core/api/styling/schema.row-style.archive';\nimport { NgChanges } from '../../../../common/cdk/component/ng-changes';\n\n\n/** @internal */\nexport abstract class StructureGateway extends SmartComponent implements OnChanges, OnInit {\n\n\t/** *********************\n\t * INPUTS\n\t ***********************/\n\n\t@Input()\n\tmaxHeight: number;\n\n\t@Input()\n\twidth: number;\n\n\t@Input()\n\trowHeight: number;\n\n\t@Input()\n\tautoResizeWidth: boolean;\n\n\t@Input()\n\tsource: Array<any> = [];\n\n\t@Input()\n\tcolumns: Array<ColumnConfig | MultiColumnConfig> = [];\n\n\t@Input()\n\tverticalGrid: boolean;\n\n\t@Input()\n\thorizontalGrid: boolean;\n\n\t@Input()\n\ttheme: SchemaTheme;\n\n\t// @Input()\n\t// rowColoring: RowColoring;\n\n\t// @Input()\n\t// rowStyle: GuiRowStyle;\n\n\t// @Input()\n\t// rowClass: GuiRowClass;\n\n\t@Input()\n\tloading: boolean;\n\n\t@Input()\n\tvirtualScroll: boolean;\n\n\t@Input()\n\tsorting: boolean | SortingConfig;\n\n\t@Input()\n\tfiltering: boolean | FilterConfig;\n\n\t@Input()\n\tquickFilters: boolean | QuickFiltersConfig;\n\n\t@Input()\n\teditMode: boolean;\n\n\t@Input()\n\tcellEditing: boolean;\n\n\t// @Input()\n\t// infoPanel: boolean | InfoPanelConfig;\n\n\t// @Input()\n\t// summaries: SummariesConfig;\n\n\t// @Input()\n\t// columnMenu: ColumnMenuConfig;\n\t//\n\t// @Input()\n\t// rowDetail: RowDetailConfig;\n\n\t// @Input()\n\t// titlePanel: TitlePanelConfig;\n\t//\n\t// @Input()\n\t// footerPanel: FooterPanelConfig;\n\t//\n\t// @Input()\n\t// localization: GuiLocalization;\n\n\n\t/** *********************\n\t * OUTPUTS\n\t ***********************/\n\n\t@Output()\n\tcolumnsChanged: EventEmitter<void> = new EventEmitter();\n\n\t@Output()\n\tcontainerWidthChanged: EventEmitter<number> = new EventEmitter();\n\n\t@Output()\n\tsourceEdited: EventEmitter<EditemItemValues> = new EventEmitter();\n\n\t@Output()\n\tcellEditEntered: EventEmitter<void> = new EventEmitter();\n\n\t@Output()\n\tcellEditCanceled: EventEmitter<void> = new EventEmitter();\n\n\t@Output()\n\tcellEditSubmitted: EventEmitter<void> = new EventEmitter();\n\n\t@Output()\n\tthemeChanged: EventEmitter<SchemaTheme> = new EventEmitter();\n\n\t@Output()\n\thorizontalGridChanged: EventEmitter<boolean> = new EventEmitter();\n\n\t@Output()\n\tverticalGridChanged: EventEmitter<boolean> = new EventEmitter();\n\n\t// @Output()\n\t// rowColoringChanged: EventEmitter<SchemaRowColoring> = new EventEmitter();\n\n\tstructureColumnInputHandler: StructureColumnInputHandler;\n\n\tprivate changeAfterInit = false;\n\n\tprotected constructor(\n\t\tprotected readonly changeDetectorRef: ChangeDetectorRef,\n\t\telementRef: ElementRef,\n\t\tprotected readonly domainEventBus: DomainEventBus,\n\t\tprotected readonly commandDispatcher: CommandDispatcher,\n\t\tpublic structureId: StructureId,\n\t\tprotected compositionId: CompositionId,\n\t\tprotected schemaId: SchemaReadModelRootId,\n\t\tprotected structureCommandService: StructureCommandInvoker,\n\t\tprotected structurePagingCommandDispatcher: PagingCommandInvoker,\n\t\tprotected pagingEventRepository: PagingEventRepository,\n\t\tprotected sortingCommandDispatcher: SortingCommandInvoker,\n\t\tprotected searchCommandDispatcher: SearchCommandInvoker,\n\t\tprotected fieldCommandDispatcher: FieldCommandInvoker,\n\t\tprotected sourceCommandService: SourceCommandInvoker,\n\t\tprotected sourceEventService: SourceEventService,\n\t\tprotected schemaCommandInvoker: SchemaCommandInvoker,\n\t\tprotected compositionCommandDispatcher: CompositionCommandInvoker,\n\t\tprotected compositionEventService: CompositionEventRepository,\n\t\tprotected formationEventService: FormationEventRepository,\n\t\tprotected structureEditModeArchive: StructureEditModeArchive,\n\t\tprotected structureCellEditArchive: StructureCellEditArchive,\n\t\tprotected structureInfoPanelEnabledArchive: StructureInfoPanelArchive,\n\t\tprotected structureInfoPanelConfigService: StructureInfoPanelConfigService,\n\t\tprotected structureSummariesConfigService: StructureSummariesConfigService,\n\t\tprotected structureCellEditStore: StructureCellEditStore,\n\t\tprotected columnFieldFactory: ColumnFieldFactory,\n\t\tprotected structureColumnMenuConfigArchive: StructureColumnMenuConfigArchive,\n\t\tprotected structurePagingDisplayModeArchive: PagingDisplayModeArchive,\n\t\tprotected rowSelectEnabledArchive: RowSelectEnabledRepository,\n\t\tprotected rowSelectionTypeArchive: RowSelectionTypeArchive,\n\t\tprotected schemaRowClassArchive: SchemaRowClassArchive,\n\t\tprotected schemaRowStyleArchive: SchemaRowStyleArchive,\n\t\tprotected formationCommandDispatcher: FormationCommandInvoker,\n\t\tprotected searchEventRepository: SearchEventRepository,\n\t\tprotected structureHeaderTopEnabledArchive: StructureHeaderTopEnabledArchive,\n\t\tprotected structureHeaderBottomEnabledArchive: StructureHeaderBottomEnabledArchive,\n\t\tprotected structureDetailViewConfigArchive: StructureRowDetailConfigArchive,\n\t\tprotected structureTitlePanelConfigArchive: StructureTitlePanelConfigArchive,\n\t\tprotected structureFooterPanelConfigArchive: StructureFooterPanelConfigArchive,\n\t\tprotected schemaEventRepository: SchemaEventRepository,\n\t\tprotected translationService: TranslationService\n\t) {\n\t\tsuper(changeDetectorRef, elementRef);\n\n\t\tthis.structureColumnInputHandler = new StructureColumnInputHandler(structureId,\n\t\t\tcompositionId, commandDispatcher, domainEventBus, columnFieldFactory, compositionCommandDispatcher);\n\n\t\tthis.translationService.setDefaultTranslation();\n\t}\n\n\tngOnChanges(changes: NgChanges<StructureGateway>) {\n\n\t\tif (changes.theme !== undefined && changes.theme.currentValue !== undefined) {\n\t\t\tthis.schemaCommandInvoker.setTheme(this.theme);\n\t\t}\n\n\t\t// if (simpleChanges.rowDetail !== undefined && simpleChanges.rowDetail.currentValue !== undefined) {\n\t\t// \tthis.structureDetailViewConfigArchive.next(this.rowDetail);\n\t\t// }\n\n\t\t// if (simpleChanges.titlePanel !== undefined && simpleChanges.titlePanel.currentValue !== undefined) {\n\t\t// \tthis.structureTitlePanelConfigArchive.next(this.titlePanel);\n\t\t// }\n\t\t//\n\t\t// if (simpleChanges.footerPanel !== undefined && simpleChanges.footerPanel.currentValue !== undefined) {\n\t\t// \tthis.structureFooterPanelConfigArchive.next(this.footerPanel);\n\t\t// }\n\n\t\t// if (simpleChanges.columnMenu !== undefined && simpleChanges.columnMenu.currentValue !== undefined) {\n\t\t// \tthis.structureColumnMenuConfigArchive.nextConfig(this.columnMenu);\n\t\t// }\n\n\t\t// if (simpleChanges.infoPanel !== undefined && simpleChanges.infoPanel.currentValue !== undefined) {\n\t\t//\n\t\t// \tif (typeof this.infoPanel === 'boolean') {\n\t\t// \t\tthis.infoPanel = {\n\t\t// \t\t\tenabled: this.infoPanel\n\t\t// \t\t};\n\t\t// \t}\n\t\t//\n\t\t// \tthis.structureInfoPanelConfigService.set(this.infoPanel);\n\t\t// }\n\n\t\t// if (simpleChanges.summaries !== undefined && simpleChanges.summaries.currentValue !== undefined) {\n\t\t// \tthis.structureSummariesConfigService.set(this.summaries);\n\t\t// }\n\n\t\tif (changes.editMode !== undefined && changes.editMode.currentValue !== undefined) {\n\t\t\tthis.structureEditModeArchive.next(this.editMode);\n\t\t}\n\n\t\tif (changes.cellEditing !== undefined && changes.cellEditing.currentValue !== undefined) {\n\t\t\tthis.structureCellEditArchive.next(this.cellEditing);\n\t\t}\n\n\t\tif (changes.width !== undefined && changes.width.currentValue !== undefined) {\n\t\t\tthis.compositionCommandDispatcher.setWidth(this.width);\n\t\t}\n\n\t\tif (changes.rowHeight !== undefined && changes.rowHeight.currentValue !== undefined) {\n\t\t\tthis.structureCommandService.setRowHeight(this.rowHeight);\n\t\t}\n\n\t\tif (changes.autoResizeWidth !== undefined && changes.autoResizeWidth.currentValue !== undefined) {\n\t\t\tthis.compositionCommandDispatcher.setResizeWidth(this.autoResizeWidth);\n\t\t}\n\n\t\tif (changes.loading !== undefined && changes.loading.currentValue !== undefined) {\n\t\t\tthis.sourceCommandService.setLoading(this.loading);\n\t\t}\n\n\t\tif (changes.columns !== undefined && changes.columns.currentValue !== undefined) {\n\t\t\tthis.structureColumnInputHandler.handle(changes);\n\t\t}\n\n\t\tif (changes.verticalGrid !== undefined && changes.verticalGrid.currentValue !== undefined) {\n\t\t\tthis.schemaCommandInvoker.setVerticalGrid(this.verticalGrid);\n\t\t}\n\n\t\tif (changes.horizontalGrid !== undefined && changes.horizontalGrid.currentValue !== undefined) {\n\t\t\tthis.schemaCommandInvoker.setHorizontalGrid(this.horizontalGrid);\n\t\t}\n\n\t\t// if (simpleChanges.rowColoring !== undefined && simpleChanges.rowColoring.currentValue !== undefined) {\n\t\t// \tthis.schemaCommandDispatcher.setRowColoring(this.rowColoring);\n\t\t// }\n\n\t\t// if (simpleChanges.rowClass !== undefined && simpleChanges.rowClass.currentValue !== undefined) {\n\t\t// \tthis.schemaRowClassArchive.next(this.rowClass as SchemaRowClass);\n\t\t// }\n\n\t\t// if (simpleChanges.rowStyle !== undefined && simpleChanges.rowStyle.currentValue !== undefined) {\n\t\t// \tthis.schemaRowStyleArchive.next(this.rowStyle as SchemaRowStyle);\n\t\t// }\n\n\t\tif (changes.maxHeight && this.maxHeight) {\n\t\t\tthis.structureCommandService.setContainerHeight(this.maxHeight);\n\t\t}\n\n\t\tif (changes.virtualScroll !== undefined && changes.virtualScroll.currentValue !== undefined) {\n\t\t\tif (this.virtualScroll) {\n\t\t\t\tthis.structureCommandService.enableVerticalScroll();\n\t\t\t} else {\n\t\t\t\tthis.structureCommandService.disableVerticalScroll();\n\t\t\t}\n\t\t}\n\n\t\tif (changes.sorting !== undefined && changes.sorting.currentValue !== undefined) {\n\n\t\t\tlet sorting: SortingConfig;\n\n\t\t\tif (typeof this.sorting === 'boolean') {\n\t\t\t\tsorting = {\n\t\t\t\t\tenabled: this.sorting\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tsorting = this.sorting;\n\t\t\t}\n\n\t\t\tthis.sortingCommandDispatcher.setSortingConfig(sorting, this.structureId);\n\t\t}\n\n\t\tif (changes.filtering !== undefined && changes.filtering.currentValue !== undefined) {\n\n\t\t\tlet filtering: FilterConfig;\n\n\t\t\tif (typeof this.filtering === 'boolean') {\n\t\t\t\tfiltering = {\n\t\t\t\t\tenabled: this.filtering\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tfiltering = this.filtering;\n\t\t\t}\n\n\t\t\tthis.structureCommandService.setFilterConfig(filtering);\n\t\t}\n\n\t\tif (changes.quickFilters !== undefined && changes.quickFilters.currentValue !== undefined) {\n\n\t\t\tlet quickFilters: QuickFiltersConfig;\n\n\t\t\tif (typeof this.quickFilters === 'boolean') {\n\t\t\t\tquickFilters = {\n\t\t\t\t\tenabled: this.quickFilters\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tquickFilters = this.quickFilters;\n\t\t\t}\n\n\t\t\tthis.structureCommandService.setQuickFiltersConfig(quickFilters);\n\t\t}\n\n\t\t// if (simpleChanges.localization !== undefined && simpleChanges.localization.currentValue !== undefined) {\n\t\t//\n\t\t// \tif (this.localization.translationResolver) {\n\t\t// \t\tthis.translationService.setResolver(this.localization.translationResolver);\n\t\t// \t}\n\t\t//\n\t\t// \tif (this.localization.translation) {\n\t\t// \t\tthis.translationService.changeTranslation(this.localization.translation);\n\t\t// \t}\n\t\t// }\n\n\t\t/**\n\t\t * Setting source should be last step\n\t\t */\n\t\tif (changes.source) {\n\t\t\tthis.sourceCommandService.setOrigin(this.source);\n\t\t}\n\t}\n\n\tngOnInit() {\n\n\t\tthis.compositionEventService\n\t\t\t.onColumnsChanged(this.compositionId.toReadModelRootId())\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil())\n\t\t\t.subscribe(() => {\n\t\t\t\tthis.columnsChanged.emit();\n\t\t\t});\n\n\t\tthis.compositionEventService\n\t\t\t.onContainerWidthChanged(this.compositionId.toReadModelRootId())\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((containerWidth: number) => {\n\t\t\t\tthis.containerWidthChanged.emit(containerWidth);\n\t\t\t});\n\n\t\tthis.sourceEventService\n\t\t\t.onSourceEdited(this.structureId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((values: EditemItemValues) => {\n\t\t\t\tthis.sourceEdited.emit(values);\n\t\t\t});\n\n\t\tthis.structureCellEditStore\n\t\t\t.on()\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((state: StructureCellEditState) => {\n\n\t\t\t\tswitch (state) {\n\n\t\t\t\t\tcase StructureCellEditState.ENTER:\n\t\t\t\t\t\tthis.cellEditEntered.emit();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase StructureCellEditState.SUBMIT:\n\t\t\t\t\t\tthis.cellEditSubmitted.emit();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase StructureCellEditState.CANCEL:\n\t\t\t\t\t\tthis.cellEditCanceled.emit();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t});\n\n\t\tthis.connectSchemaEvents();\n\n\t\tthis.componentInitialized();\n\t}\n\n\tprivate connectSchemaEvents(): void {\n\n\t\tthis.schemaEventRepository\n\t\t\t.onThemeChanged(this.schemaId)\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((theme: SchemaTheme) => {\n\t\t\t\tthis.themeChanged.emit(theme);\n\t\t\t});\n\n\t\tthis.schemaEventRepository\n\t\t\t.onHorizontalGridChanged(this.schemaId)\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((enabled: boolean) => {\n\t\t\t\tthis.horizontalGridChanged.emit(enabled);\n\t\t\t});\n\n\t\tthis.schemaEventRepository\n\t\t\t.onVerticalGridChanged(this.schemaId)\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((enabled: boolean) => {\n\t\t\t\tthis.verticalGridChanged.emit(enabled);\n\t\t\t});\n\n\t\t// this.schemaEventRepository\n\t\t// \t.onRowColoring(this.schemaId)\n\t\t// \t.pipe(this.takeUntil())\n\t\t// \t.subscribe((coloring: SchemaRowColoring) => {\n\t\t// \t\tthis.rowColoringChanged.emit(coloring);\n\t\t// \t});\n\t}\n\n\tprivate isInitialized(): boolean {\n\t\treturn this.changeAfterInit;\n\t}\n\n\tprivate isNotInitialized(): boolean {\n\t\treturn this.changeAfterInit;\n\t}\n\n\tprivate componentInitialized(): void {\n\t\tthis.changeAfterInit = true;\n\t}\n\n}\n","import { StructureId } from '../../../../core/domain/structure.id';\nimport { StructureDomainEvent } from '../../../../core/domain/structure.domain-event';\n\nexport class NextPageEvent extends StructureDomainEvent {\n\n\tconstructor(aggregateId: StructureId) {\n\t\tsuper(aggregateId, null, 'NextPageEvent');\n\t}\n}\n","import { StructureId } from '../../../../core/domain/structure.id';\nimport { StructureDomainEvent } from '../../../../core/domain/structure.domain-event';\n\nexport class PrevPageEvent extends StructureDomainEvent {\n\n\tconstructor(aggregateId: StructureId) {\n\t\tsuper(aggregateId, null, 'PrevPageEvent');\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { filter, map, switchMap, take } from 'rxjs/operators';\n\nimport { DomainEvent, DomainEventBus, EventRepository } from '@generic-ui/hermes';\n\nimport { PagingWarehouse } from './paging.warehouse';\nimport { StructureId } from '../../../core/domain/structure.id';\nimport { NextPageEvent } from '../domain/next-page/next-page.event';\nimport { PrevPageEvent } from '../domain/prev-page/prev-page.event';\nimport { PageChangedEvent } from '../domain/page/page-changed.event';\nimport { Paging } from './read/paging';\nimport { PagesizeChangedEvent } from '../domain/change-pagesize/pagesize-changed.event';\nimport { StructureReadModelRootId } from '../../../grid/core/api/read/structure.read-model-root-id';\n\n\n@Injectable()\nexport class PagingEventRepository extends EventRepository<StructureReadModelRootId, StructureId> {\n\n\tconstructor(private readonly eventBus: DomainEventBus,\n\t\t\t\tprivate readonly pagingReadModelService: PagingWarehouse) {\n\t\tsuper(eventBus);\n\t}\n\n\tonPageChange(structureId: StructureReadModelRootId): Observable<number> {\n\n\t\treturn this.eventBus\n\t\t\t\t   .ofEvent(\n\t\t\t\t\t   PrevPageEvent as any,\n\t\t\t\t\t   NextPageEvent as any,\n\t\t\t\t\t   PageChangedEvent as any\n\t\t\t\t   )\n\t\t\t\t   .pipe(\n\t\t\t\t\t   filter((event: DomainEvent<StructureId>) => event.getAggregateId().toString() === structureId.toAggregateId().toString()),\n\t\t\t\t\t   switchMap((event: DomainEvent<StructureId>) => {\n\n\t\t\t\t\t\t   return this.pagingReadModelService\n\t\t\t\t\t\t\t\t\t  .onPaging(structureId.toAggregateId())\n\t\t\t\t\t\t\t\t\t  .pipe(\n\t\t\t\t\t\t\t\t\t\t  map((paging: Paging) => paging.getPage()),\n\t\t\t\t\t\t\t\t\t\t  take(1)\n\t\t\t\t\t\t\t\t\t  );\n\t\t\t\t\t   })\n\t\t\t\t   );\n\t}\n\n\tonPageSizeChange(structureId: StructureReadModelRootId): Observable<number> {\n\n\t\treturn this.onEvent(structureId, PagesizeChangedEvent)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   switchMap((event: DomainEvent<StructureId>) => {\n\n\t\t\t\t\t\t   return this.pagingReadModelService\n\t\t\t\t\t\t\t\t\t  .onPaging(structureId.toAggregateId())\n\t\t\t\t\t\t\t\t\t  .pipe(\n\t\t\t\t\t\t\t\t\t\t  map((paging: Paging) => paging.getPageSize()),\n\t\t\t\t\t\t\t\t\t\t  take(1)\n\t\t\t\t\t\t\t\t\t  );\n\t\t\t\t\t   })\n\t\t\t\t   );\n\t}\n\n}\n","export class EditemItemValues {\n\n\tconstructor(public readonly after: any,\n\t\t\t\tpublic readonly before: any) {\n\t}\n\n}\n","import { OriginItemEntity } from '../origin-item-entity';\nimport { StructureId } from '../../../../../core/domain/structure.id';\nimport { StructureDomainEvent } from '../../../../../core/domain/structure.domain-event';\n\n\nexport class StructureSourceItemEditedEvent extends StructureDomainEvent {\n\n\tconstructor(aggregateId: StructureId,\n\t\t\t\tprivate readonly beforeItem: OriginItemEntity,\n\t\t\t\tprivate readonly afterItem: OriginItemEntity) {\n\t\tsuper(aggregateId, { beforeItem, afterItem }, 'StructureSourceItemEditedEvent');\n\t}\n\n\tgetBeforeItem(): OriginItemEntity {\n\t\treturn this.beforeItem;\n\t}\n\n\tgetAfterItem(): OriginItemEntity {\n\t\treturn this.afterItem;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { filter, map } from 'rxjs/operators';\n\nimport { DomainEvent, DomainEventBus } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { EditemItemValues } from './editem-item.values';\nimport { StructureSourceItemEditedEvent } from '../../domain/origin/edit/structure.source-item-edited.event';\n\n\n@Injectable()\nexport class SourceEventService {\n\n\tconstructor(private readonly domainEventBus: DomainEventBus) {\n\t}\n\n\tonSourceEdited(structureId: StructureId): Observable<EditemItemValues> {\n\n\t\treturn this.domainEventBus\n\t\t\t\t   .ofEvent(\n\t\t\t\t\t   StructureSourceItemEditedEvent as any\n\t\t\t\t   )\n\t\t\t\t   .pipe(\n\t\t\t\t\t   filter((event: DomainEvent<StructureId>) => event.getAggregateId().toString() === structureId.toString()),\n\t\t\t\t\t   map((event: StructureSourceItemEditedEvent) => {\n\n\t\t\t\t\t\t   const afterItem = event.getAfterItem().getData(),\n\t\t\t\t\t\t\t   beforeItem = event.getBeforeItem().getData();\n\n\t\t\t\t\t\t   return new EditemItemValues(afterItem, beforeItem);\n\t\t\t\t\t   })\n\t\t\t\t   );\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { DomainEventBus, EventRepository } from '@generic-ui/hermes';\n\nimport { CompositionId } from '../domain/composition.id';\nimport { CompositionColumnsSetEvent } from '../domain/column/set-columns/composition.columns-set.event';\nimport { CompositionReadModelRootId } from './composition.read-model-root-id';\n\n\n@Injectable()\nexport abstract class CompositionEventRepository extends EventRepository<CompositionReadModelRootId, CompositionId> {\n\n\tprotected constructor(domainEventBus: DomainEventBus) {\n\t\tsuper(domainEventBus);\n\t}\n\n\tabstract onColumnsChanged(compositionId?: CompositionReadModelRootId): Observable<CompositionColumnsSetEvent>;\n\n\tabstract onContainerWidthChanged(compositionId?: CompositionReadModelRootId): Observable<number>;\n\n}\n","import { StructureId } from '../../../../core/domain/structure.id';\nimport { StructureDomainEvent } from '../../../../core/domain/structure.domain-event';\n\nexport class SelectedRowChangedEvent extends StructureDomainEvent {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly selectedRows: Array<string>,\n\t\t\t\tprivate readonly allSelected: boolean,\n\t\t\t\tprivate readonly allUnselected: boolean) {\n\t\tsuper(structureId, { selectedRows, allSelected, allUnselected }, 'SelectedRowChangedEvent');\n\t}\n\n\tgetSelectedRows(): Array<string> {\n\t\treturn this.selectedRows;\n\t}\n\n\tisAllSelected(): boolean {\n\t\treturn this.allSelected;\n\t}\n\n\tisAllUnselected(): boolean {\n\t\treturn this.allUnselected;\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\nimport { filter, map, switchMap, take } from 'rxjs/operators';\n\nimport { DomainEventBus, EventRepository } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { SourceWarehouse } from '../source.warehouse';\nimport { SelectedRow } from './selected-row';\nimport { SelectedRowChangedEvent } from '../../domain/formation/selected-row-changed.event';\nimport { OriginItemEntity } from '../../domain/origin/origin-item-entity';\nimport { StructureReadModelRootId } from '../../../../grid/core/api/read/structure.read-model-root-id';\n\n\n@Injectable()\nexport class FormationEventRepository extends EventRepository<StructureReadModelRootId, StructureId> {\n\n\tprivate readonly map = new Map();\n\n\tprivate readonly s$ = new Subject();\n\n\tconstructor(domainEventBus: DomainEventBus,\n\t\t\t\tprivate readonly sourceWarehouse: SourceWarehouse) {\n\t\tsuper(domainEventBus);\n\n\t\tdomainEventBus\n\t\t\t.ofEvent(\n\t\t\t\tSelectedRowChangedEvent as any\n\t\t\t)\n\t\t\t.pipe(\n\t\t\t\tswitchMap((event: SelectedRowChangedEvent) => {\n\n\t\t\t\t\tconst selectedRows = event.getSelectedRows();\n\n\t\t\t\t\tconst structureId = event.getAggregateId();\n\n\t\t\t\t\treturn this.sourceWarehouse\n\t\t\t\t\t\t\t   .onPreparedEntities(structureId)\n\t\t\t\t\t\t\t   .pipe(\n\t\t\t\t\t\t\t\t   take(1),\n\t\t\t\t\t\t\t\t   map((items: Array<OriginItemEntity>) => {\n\n\t\t\t\t\t\t\t\t\t   const selectedItems = [],\n\t\t\t\t\t\t\t\t\t\t   length = items.length,\n\t\t\t\t\t\t\t\t\t\t   itemsMap = new Map();\n\n\t\t\t\t\t\t\t\t\t   for (let i = 0; i < length; i += 1) {\n\t\t\t\t\t\t\t\t\t\t   itemsMap.set(items[i].getId().toString(), items[i]);\n\t\t\t\t\t\t\t\t\t   }\n\n\t\t\t\t\t\t\t\t\t   for (let j = 0; j < selectedRows.length; j += 1) {\n\t\t\t\t\t\t\t\t\t\t   const item = itemsMap.get(selectedRows[j]);\n\t\t\t\t\t\t\t\t\t\t   selectedItems.push(new SelectedRow(item.getData(), j, item.getId()));\n\t\t\t\t\t\t\t\t\t   }\n\n\t\t\t\t\t\t\t\t\t   return {\n\t\t\t\t\t\t\t\t\t\t   id: structureId,\n\t\t\t\t\t\t\t\t\t\t   items: selectedItems\n\t\t\t\t\t\t\t\t\t   };\n\t\t\t\t\t\t\t\t   })\n\t\t\t\t\t\t\t   );\n\t\t\t\t})\n\t\t\t)\n\t\t\t.subscribe((e) => {\n\t\t\t\tthis.map.set(e.id.toString(), e.items);\n\t\t\t\tthis.s$.next(this.map);\n\t\t\t});\n\t}\n\n\tonItemSelected(structureId: StructureId): Observable<Array<SelectedRow>> {\n\t\treturn this.s$\n\t\t\t\t   .asObservable()\n\t\t\t\t   .pipe(\n\t\t\t\t\t   filter((map: any) => {\n\t\t\t\t\t\t   return map.has(structureId.toString());\n\t\t\t\t\t   }),\n\t\t\t\t\t   map((map: any) => {\n\t\t\t\t\t\t   return map.get(structureId.toString());\n\t\t\t\t\t   })\n\t\t\t\t   );\n\t}\n\n}\n","import { ColumnMenuConfig } from '../../../../core/api/column-menu-config';\n\nexport class StructureColumnMenuConfig {\n\n\tstatic default(): StructureColumnMenuConfig {\n\t\treturn new StructureColumnMenuConfig();\n\t}\n\n\tstatic fromConfig(config: ColumnMenuConfig): StructureColumnMenuConfig {\n\t\treturn new StructureColumnMenuConfig(\n\t\t\tconfig.enabled,\n\t\t\tconfig.sort,\n\t\t\tconfig.filter,\n\t\t\tconfig.columnsManager\n\t\t);\n\t}\n\n\tprivate mainMenu: string = 'Menu';\n\n\tprivate filterMenu: string = 'Filter';\n\n\tprivate columnsMenu: string = 'Columns';\n\n\tconstructor(private enabled: boolean = false,\n\t\t\t\tprivate sort: boolean = true,\n\t\t\t\tprivate filter: boolean = false,\n\t\t\t\tprivate columnsManager: boolean = false) {\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled &&\n\t\t\t(this.sort || this.filter || this.columnsManager);\n\t}\n\n\tisMainEnabled(): boolean {\n\t\treturn this.sort;\n\t}\n\n\tisSortingEnabled(): boolean {\n\t\treturn this.sort;\n\t}\n\n\tisFilteringEnabled(): boolean {\n\t\treturn this.filter;\n\t}\n\n\tisColumnManagerEnabled(): boolean {\n\t\treturn this.columnsManager;\n\t}\n\n\tgetMenus(): Array<string> {\n\n\t\tconst menus = [];\n\n\t\tif (this.isMainEnabled()) {\n\t\t\tmenus.push(this.getMainMenu());\n\t\t}\n\n\t\tif (this.isFilteringEnabled()) {\n\t\t\tmenus.push(this.getFilterMenu());\n\t\t}\n\n\t\tif (this.isColumnManagerEnabled()) {\n\t\t\tmenus.push(this.getColumnMenu());\n\t\t}\n\n\t\treturn menus;\n\t}\n\n\tgetActiveMenu(): string {\n\t\treturn this.getMenus()[0];\n\t}\n\n\tgetMainMenu(): string {\n\t\treturn this.mainMenu;\n\t}\n\n\tgetFilterMenu(): string {\n\t\treturn this.filterMenu;\n\t}\n\n\tgetColumnMenu(): string {\n\t\treturn this.columnsMenu;\n\t}\n\n\tsetMainMenu(mainMenu: string): void {\n\t\tthis.mainMenu = mainMenu;\n\t}\n\n\tsetFilterMenu(filterMenu: string): void {\n\t\tthis.filterMenu = filterMenu;\n\t}\n\n\tsetColumnsMenu(columnsMenu: string): void {\n\t\tthis.columnsMenu = columnsMenu;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { Archive } from '@generic-ui/hermes';\n\nimport { StructureColumnMenuConfig } from './structure.column-menu-config';\nimport { ColumnMenuConfig } from '../../../../core/api/column-menu-config';\n\n@Injectable()\nexport class StructureColumnMenuConfigArchive extends Archive<StructureColumnMenuConfig> {\n\n\tconstructor() {\n\t\tsuper(StructureColumnMenuConfig.default());\n\t}\n\n\tnextConfig(config: ColumnMenuConfig): void {\n\n\t\tconst menuConfig = StructureColumnMenuConfig.fromConfig(config);\n\n\t\tthis.next(menuConfig);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { Archive } from '@generic-ui/hermes';\n\nimport { PagingDisplayMode } from './paging-display-mode';\n\n\n@Injectable()\nexport class PagingDisplayModeArchive extends Archive<PagingDisplayMode> {\n\n\tconstructor() {\n\t\tsuper(PagingDisplayMode.BASIC);\n\t}\n\n\ton(): Observable<PagingDisplayMode> {\n\t\treturn super.on();\n\t\t// .pipe(\n\t\t// \tdistinctUntilChanged()\n\t\t// );\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateArchive } from '@generic-ui/hermes';\n\n\n@Injectable()\nexport class RowSelectEnabledRepository extends AggregateArchive<boolean> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { filter, map } from 'rxjs/operators';\n\nimport { DomainEventBus, EventRepository } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../core/domain/structure.id';\nimport { SearchPhraseSetDomainEvent } from '../domain/set-phrase/search-phrase-set.domain-event';\nimport { StructureReadModelRootId } from '../../../grid/core/api/read/structure.read-model-root-id';\n\n\n@Injectable()\nexport class SearchEventRepository extends EventRepository<StructureReadModelRootId, StructureId> {\n\n\tconstructor(domainEventBus: DomainEventBus) {\n\t\tsuper(domainEventBus);\n\t}\n\n\tonSearchPhrase(structureId: StructureReadModelRootId): Observable<string> {\n\n\t\treturn this.onEvent(structureId, SearchPhraseSetDomainEvent)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   filter((event: SearchPhraseSetDomainEvent) => event.isInitial() === false),\n\t\t\t\t\t   map((event: SearchPhraseSetDomainEvent) => event.getPhrase()),\n\t\t\t\t\t   filter((phrase: string) => phrase !== null)\n\t\t\t\t   );\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\n\n@Injectable()\nexport class StructureCellEditCloseAllService {\n\n\tprivate readonly closeAll$ = new Subject<void>();\n\n\tcloseAll(): void {\n\t\tthis.closeAll$.next();\n\t}\n\n\tonCloseAll(): Observable<void> {\n\t\treturn this.closeAll$.asObservable();\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { Archive } from '@generic-ui/hermes';\n\n@Injectable()\nexport class StructureHeaderBottomEnabledArchive extends Archive<boolean> {\n\n\tconstructor() {\n\t\tsuper(false);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { Archive } from '@generic-ui/hermes';\n\n@Injectable()\nexport class StructureHeaderTopEnabledArchive extends Archive<boolean> {\n\n\tconstructor() {\n\t\tsuper(true);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { Archive } from '@generic-ui/hermes';\n\nimport { RowDetailConfig } from './row-detail.config';\n\n\n@Injectable()\nexport class StructureRowDetailConfigArchive extends Archive<RowDetailConfig> {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tenabled: false,\n\t\t\ttemplate: (item => 'Detail View')\n\t\t});\n\t}\n\n}\n","import { InjectionToken } from '@angular/core';\n\nexport const structureRowDetailViewItem = new InjectionToken('structureRowDetailViewItem');\n\nexport const structureRowDetailViewTemplate = new InjectionToken('structureRowDetailViewTemplate');\n","import { ChangeDetectionStrategy, Component, Inject, OnInit, ViewEncapsulation } from '@angular/core';\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\n\nimport { structureRowDetailViewItem, structureRowDetailViewTemplate } from './structure.row-detail-view.tokens';\nimport { SelectedRow } from '../../../../source/core/api/formation/selected-row';\n\n\n@Component({\n\ttemplate: `\n\n\t\t<div [innerHTML]=\"safeHTML\"></div>\n\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureRowDetailViewComponent implements OnInit {\n\n\tselectedRowValue: SelectedRow;\n\n\tsafeHTML: SafeHtml;\n\n\tconstructor(@Inject(structureRowDetailViewItem) private item: SelectedRow,\n\t\t\t\t@Inject(structureRowDetailViewTemplate) private template: any,\n\t\t\t\tprivate readonly sanitizer: DomSanitizer) {\n\n\t\tthis.safeHTML = this.sanitizer.bypassSecurityTrustHtml(this.template(this.item.getData(), this.item.getIndex()));\n\t}\n\n\tngOnInit(): void {\n\t\tthis.selectedRowValue = this.item.getData();\n\t}\n\n}\n","import { ElementRef, Injectable, Injector } from '@angular/core';\n\nimport { FabricDrawerService } from '@generic-ui/fabric';\n\nimport { FormationEventRepository } from '../../../source/core/api/formation/formation.event-repository';\nimport { StructureId } from '../../../core/domain/structure.id';\n\nimport { Reactive } from '../../../../common/cdk/reactive/reactive';\nimport { StructureRowDetailConfigArchive } from './structure.row-detail.config-archive';\nimport { RowDetailConfig } from './row-detail.config';\nimport { StructureRowDetailViewComponent } from './view/structure.row-detail-view.component';\nimport { structureRowDetailViewItem, structureRowDetailViewTemplate } from './view/structure.row-detail-view.tokens';\nimport { SelectedRow } from '../../../source/core/api/formation/selected-row';\n\n\n@Injectable()\nexport class StructureRowDetailService extends Reactive {\n\n\tenabled: boolean = false;\n\n\tconfig: RowDetailConfig;\n\n\telementRef: ElementRef;\n\n\tconstructor(private readonly injector: Injector,\n\t\t\t\tprivate readonly structureId: StructureId,\n\t\t\t\tprivate readonly structureDetailViewConfigArchive: StructureRowDetailConfigArchive,\n\t\t\t\tprivate readonly formationEventService: FormationEventRepository,\n\t\t\t\tprivate readonly drawerService: FabricDrawerService) {\n\t\tsuper();\n\t}\n\n\tinit(ref: ElementRef): void {\n\t\tthis.elementRef = ref;\n\n\t\tthis.structureDetailViewConfigArchive\n\t\t\t.on()\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((config: RowDetailConfig) => {\n\n\t\t\t\tthis.config = config;\n\n\t\t\t\tif (config.enabled === true) {\n\t\t\t\t\tthis.turnOn();\n\t\t\t\t} else if (config.enabled === false) {\n\t\t\t\t\tthis.turnOff();\n\t\t\t\t}\n\t\t\t});\n\n\t\tthis.formationEventService\n\t\t\t.onItemSelected(this.structureId)\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((items: Array<SelectedRow>) => {\n\n\t\t\t\tif (!this.enabled) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.drawerService.close();\n\n\t\t\t\tif (items.length === 0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst item = items[0];\n\n\t\t\t\tconst injector = Injector.create({\n\t\t\t\t\tparent: this.injector,\n\t\t\t\t\tproviders: [\n\t\t\t\t\t\t{ provide: structureRowDetailViewItem, useValue: item },\n\t\t\t\t\t\t{ provide: structureRowDetailViewTemplate, useValue: this.config.template }\n\t\t\t\t\t]\n\t\t\t\t});\n\n\t\t\t\tthis.drawerService.open(this.elementRef, StructureRowDetailViewComponent, { injector: injector });\n\t\t\t});\n\t}\n\n\tprivate turnOn(): void {\n\t\tthis.enabled = true;\n\t}\n\n\tprivate turnOff(): void {\n\t\tthis.enabled = false;\n\t}\n}\n","export enum PagingPosition {\n\tTOP,\n\tBOTTOM\n}\n","export enum CssClass {\n\tSELECTED = 'selected',\n\tPAGING_TOP_CLASS_NAME = 'gui-paging-top',\n\tPAGING_BOTTOM_CLASS_NAME = 'gui-paging-bottom'\n}\n","import { Injectable } from '@angular/core';\n\nimport { ClassModifier } from '../../../common/cdk/dom/class/class-modifier';\nimport { CssClass } from './css-class';\n\n@Injectable()\nexport class CssClassModifier {\n\n\tprivate readonly classModifier: ClassModifier = new ClassModifier();\n\n\tselect(htmlElement: HTMLElement): void {\n\t\tthis.classModifier.getElement(htmlElement).add(CssClass.SELECTED);\n\t}\n\n\tunselect(htmlElement: HTMLElement): void {\n\t\tthis.classModifier.getElement(htmlElement).remove(CssClass.SELECTED);\n\t}\n\n\tadd(htmlElement: HTMLElement, clazzName: string): void {\n\t\tthis.classModifier.getElement(htmlElement).add(clazzName);\n\t}\n\n\tremove(htmlElement: HTMLElement, clazzName: string): void {\n\t\tthis.classModifier.getElement(htmlElement).remove(clazzName);\n\t}\n\n\ttoggle(htmlElement: HTMLElement): void {\n\t}\n\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, Input, OnInit, ViewEncapsulation } from '@angular/core';\n\nimport { SmartComponent } from '../../../common/cdk/component/smart-component';\n\nimport { Paging } from '../core/api/read/paging';\nimport { PagingWarehouse } from '../core/api/paging.warehouse';\nimport { PagingCommandInvoker } from '../core/api/paging.command-invoker';\nimport { SourceWarehouse } from '../../source/core/api/source.warehouse';\nimport { PagingDisplayModeArchive } from './mode/paging-display-mode.archive';\nimport { PagingDisplayMode } from './mode/paging-display-mode';\nimport { PagingPosition } from './paging-position';\nimport { StreamCloser } from '../../../common/cdk/reactive/stream-closer';\nimport { CssClassModifier } from '../../common/css-class/css-class.modifier';\nimport { CssClass } from '../../common/css-class/css-class';\nimport { NgChanges } from '../../../common/cdk/component/ng-changes';\nimport { distinctUntilChanged } from 'rxjs/operators';\n\n\n@Component({\n\tselector: 'div[gui-paging][position]',\n\ttemplateUrl: './paging.component.html',\n\tstyleUrls: [\n\t\t'./style/paging.ngx.scss',\n\t\t'./style/theme/generic.paging.ngx.scss'\n\t],\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class PagingComponent extends SmartComponent implements OnInit {\n\n\t@Input()\n\tposition: PagingPosition;\n\n\t@Input()\n\tminimal: boolean;\n\n\tsourceSize: number;\n\n\tpaging: Paging;\n\n\talternativeDisplay: boolean = false;\n\n\tisPagingVisible = false;\n\n\tprivate readonly localStreamCloser = new StreamCloser();\n\n\tconstructor(private readonly elRef: ElementRef,\n\t\t\t\tprivate readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\tprivate readonly cssClassModifier: CssClassModifier,\n\t\t\t\tprivate readonly structurePagingWarehouse: PagingWarehouse,\n\t\t\t\tprivate readonly pagingCommandService: PagingCommandInvoker,\n\t\t\t\tprivate readonly structureSourceWarehouse: SourceWarehouse,\n\t\t\t\tprivate readonly structurePagingDisplayModeArchive: PagingDisplayModeArchive) {\n\t\tsuper(changeDetectorRef, elRef);\n\t\tthis.addClassToHost('gui-flex');\n\t\tthis.addClassToHost('gui-justify-end');\n\t\tthis.addClassToHost('gui-items-center');\n\t\tthis.addClassToHost('gui-p-4');\n\t}\n\n\tngOnChanges(changes: NgChanges<PagingComponent>) {\n\n\t\tif (changes.position) {\n\n\t\t\tif (this.position === PagingPosition.BOTTOM) {\n\t\t\t\tthis.cssClassModifier.remove(this.elRef.nativeElement, CssClass.PAGING_TOP_CLASS_NAME);\n\t\t\t\tthis.cssClassModifier.add(this.elRef.nativeElement, CssClass.PAGING_BOTTOM_CLASS_NAME);\n\t\t\t} else {\n\t\t\t\tthis.cssClassModifier.remove(this.elRef.nativeElement, CssClass.PAGING_BOTTOM_CLASS_NAME);\n\t\t\t\tthis.cssClassModifier.add(this.elRef.nativeElement, CssClass.PAGING_TOP_CLASS_NAME);\n\t\t\t}\n\t\t}\n\t}\n\n\tngOnInit() {\n\n\t\tthis.structurePagingDisplayModeArchive\n\t\t\t.on()\n\t\t\t.pipe(\n\t\t\t\tdistinctUntilChanged(),\n\t\t\t\tthis.localStreamCloser.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((mode: PagingDisplayMode) => {\n\t\t\t\tthis.alternativeDisplay = mode === PagingDisplayMode.ADVANCED;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.structurePagingWarehouse\n\t\t\t.onPaging()\n\t\t\t.pipe(\n\t\t\t\tdistinctUntilChanged((a: Paging, b: Paging) => {\n\t\t\t\t\treturn a.compare(b);\n\t\t\t\t}),\n\t\t\t\tthis.localStreamCloser.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((paging: Paging) => {\n\t\t\t\tthis.paging = paging;\n\t\t\t\tthis.calculatePagingVisibility();\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.structureSourceWarehouse\n\t\t\t.onOriginSize()\n\t\t\t.pipe(\n\t\t\t\tthis.localStreamCloser.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((size: number) => {\n\t\t\t\tthis.sourceSize = size;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\t}\n\n\tngOnDestroy() {\n\t\tthis.localStreamCloser.unsubscribe();\n\t}\n\n\tchangePageSize(pageSize: number) {\n\t\tthis.pagingCommandService.changePageSize(pageSize);\n\t}\n\n\tnextPage(): void {\n\n\t\tif (!this.sourceSize) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.pagingCommandService.nextPage();\n\t}\n\n\tprevPage(): void {\n\t\tthis.pagingCommandService.prevPage();\n\t}\n\n\tprivate calculatePagingVisibility(): void {\n\t\tthis.isPagingVisible = this.paging && this.paging.isEnabled() &&\n\t\t\t(((this.position === PagingPosition.TOP) && this.paging.isPagerTop()) ||\n\t\t\t\t((this.position === PagingPosition.BOTTOM) && this.paging.isPagerBottom()));\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-paging';\n\t}\n\n}\n","import { GuiComponent } from './gui-component';\nimport { ElementRef } from '@angular/core';\n\nexport abstract class PureComponent extends GuiComponent {\n\n\tprivate readonly subClassConstructor: Function;\n\n\tprivate readonly subClassNgOnInit: Function;\n\n\tprotected constructor(elementRef: ElementRef) {\n\t\tsuper(elementRef);\n\t\tthis.subClassConstructor = this.constructor;\n\t\tthis.subClassNgOnInit = (this as any).ngOnInit;\n\n\t\tif (!this.hasConstructorOnlyElementRefInjected(arguments)) {\n\t\t\tthis.throwError('it should not inject services');\n\t\t}\n\n\t\tif (this.subClassNgOnInit) {\n\t\t\tthis.throwError('it should not use ngOnInit');\n\t\t}\n\t}\n\n\tprivate hasConstructorOnlyElementRefInjected(args: IArguments): boolean {\n\n\t\tif (arguments.length > 1) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (arguments.length === 1) {\n\t\t\treturn this.isElementRef(arguments[0]);\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tprivate isElementRef(elRef: any): boolean {\n\t\treturn elRef.nativeElement !== null;\n\t}\n\n\tprivate throwError(reason: string): void {\n\t\tthrow new Error(`Component \"${this.subClassConstructor.name}\" is a PureComponent, ${reason}.`);\n\t}\n}\n","import { ChangeDetectionStrategy, Component, ElementRef, EventEmitter, Input, OnChanges, Output, ViewEncapsulation } from '@angular/core';\n\nimport { Paging } from '../../core/api/read/paging';\nimport { GuiSelectOption } from '@generic-ui/fabric';\nimport { PureComponent } from '../../../../common/cdk/component/pure-component';\nimport { NgChanges } from '../../../../common/cdk/component/ng-changes';\n\n\n@Component({\n\tselector: 'div[gui-paging-select][paging]',\n\ttemplateUrl: './paging-select.component.html',\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class PagingSelectComponent extends PureComponent implements OnChanges {\n\n\t@Input()\n\tpaging: Paging;\n\n\t@Output()\n\tpageSizeChanged = new EventEmitter();\n\n\tselectPageSizes: Array<GuiSelectOption>;\n\n\tselectPageSize: GuiSelectOption;\n\n\tconstructor(elementRef: ElementRef) {\n\t\tsuper(elementRef);\n\t}\n\n\tngOnChanges(changes: NgChanges<PagingSelectComponent>) {\n\n\t\tif (changes.paging) {\n\t\t\tif (this.paging) {\n\t\t\t\tthis.selectPageSizes = this.getSelectPageSizes();\n\t\t\t\tthis.selectPageSize = this.getSelectPageSize(this.paging.getPageSize());\n\t\t\t}\n\t\t}\n\t}\n\n\tchangePageSize(pageSize: GuiSelectOption): void {\n\t\tthis.pageSizeChanged.emit(+pageSize.value);\n\t}\n\n\tprivate getSelectPageSizes(): Array<GuiSelectOption> {\n\t\tconst selectPageSizes: Array<GuiSelectOption> = [],\n\t\t\tpageSizes = this.paging.getPageSizes();\n\n\t\tpageSizes.forEach((pageSize: number) => {\n\t\t\tconst selectOption = this.getSelectPageSize(pageSize);\n\t\t\tselectPageSizes.push(selectOption);\n\t\t});\n\n\t\treturn selectPageSizes;\n\t}\n\n\tprivate getSelectPageSize(pageSize: number): GuiSelectOption {\n\t\treturn { name: pageSize.toString(), value: pageSize.toString() };\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-paging-select';\n\t}\n\n}\n","import { ChangeDetectionStrategy, Component, ElementRef, EventEmitter, Input, OnChanges, Output, ViewEncapsulation } from '@angular/core';\n\nimport { Paging } from '../../../core/api/read/paging';\nimport { PagingCommandInvoker } from '../../../core/api/paging.command-invoker';\nimport { PureComponent } from '../../../../../common/cdk/component/pure-component';\n\n\n@Component({\n\tselector: 'div[gui-paging-alternative-navigator][paging][sourceSize]',\n\ttemplateUrl: './alternative-paging-navigator.component.html',\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class AlternativePagingNavigatorComponent extends PureComponent implements OnChanges {\n\n\t@Input()\n\tpaging: Paging;\n\n\t@Input()\n\tsourceSize: number;\n\n\t@Output()\n\tnextPageChanged = new EventEmitter();\n\n\t@Output()\n\tprevPageChanged = new EventEmitter();\n\n\tprevDisabled: boolean = false;\n\n\tnextDisabled: boolean = false;\n\n\tconstructor(elRef: ElementRef,\n\t\t\t\tprivate readonly pagingCommandService: PagingCommandInvoker) {\n\t\tsuper(elRef);\n\t}\n\n\tngOnChanges() {\n\t\tthis.calculatePrev();\n\t\tthis.calculateNext();\n\t}\n\n\tprevPage(): void {\n\t\tthis.prevPageChanged.emit();\n\t}\n\n\tnextPage(): void {\n\t\tthis.nextPageChanged.emit();\n\t}\n\n\tfirstPage(): void {\n\t\tthis.pagingCommandService.goToPage(1, this.paging.getPage());\n\t}\n\n\tlastPage(): void {\n\t\tconst numberOfPages = Math.ceil(this.sourceSize / this.paging.getPageSize());\n\t\tthis.pagingCommandService.goToPage(numberOfPages, this.paging.getPage());\n\t}\n\n\tprivate calculatePrev(): void {\n\n\t\tif (!this.paging) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.prevDisabled = this.paging.isPrevPageDisabled();\n\t}\n\n\tprivate calculateNext(): void {\n\n\t\tif (!this.paging && !this.sourceSize) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.nextDisabled = this.paging.isNextPageDisabled();\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-paging-alternative-navigator';\n\t}\n\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, Input, OnChanges, ViewEncapsulation } from '@angular/core';\n\nimport { Paging } from '../../../core/api/read/paging';\nimport { PagingCommandInvoker } from '../../../core/api/paging.command-invoker';\nimport { NgChanges } from '../../../../../common/cdk/component/ng-changes';\nimport { SmartComponent } from '../../../../../common/cdk/component/smart-component';\n\n\n@Component({\n\tselector: 'div[gui-paging-alternative-pages][paging]',\n\ttemplateUrl: './alternative-paging-pages.component.html',\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class AlternativePagingPagesComponent extends SmartComponent implements OnChanges {\n\n\t@Input()\n\tpaging: Paging;\n\n\t@Input()\n\tsourceSize?: number = 0;\n\n\tcurrentPage: number;\n\n\tpages: Array<number>;\n\n\tnumberOfVisiblePages: number = 3;\n\n\tconstructor(private readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\telRef: ElementRef,\n\t\t\t\tprivate pagingCommandService: PagingCommandInvoker) {\n\t\tsuper(changeDetectorRef, elRef);\n\t}\n\n\tngOnChanges(changes: NgChanges<AlternativePagingPagesComponent>) {\n\t\tthis.calculate();\n\t}\n\n\tcalculate(): void {\n\t\tif (this.paging && this.sourceSize) {\n\t\t\tconst numberOfPages = Math.ceil(this.sourceSize / this.paging.getPageSize());\n\n\t\t\tthis.currentPage = this.paging.getPage();\n\n\t\t\tthis.pages = [];\n\t\t\tif (this.pages.length <= numberOfPages) {\n\t\t\t\tfor (let i = 1; i <= numberOfPages; i++) {\n\t\t\t\t\tthis.pages.push(i);\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t}\n\n\tisSourceNotEmpty(): boolean {\n\t\treturn this.sourceSize > 0;\n\t}\n\n\tgoToPage(pageNumber: number) {\n\t\tconst currentPage = this.paging.getPage();\n\t\tthis.pagingCommandService.goToPage(pageNumber, currentPage);\n\t}\n\n\tcalculateVisiblePages(page: number): boolean {\n\t\treturn this.paging.calculateVisiblePages(this.currentPage, this.numberOfVisiblePages, page);\n\t}\n\n\tactivePage(page: number): boolean {\n\t\treturn this.currentPage === page;\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-paging-alternative-pages';\n\t}\n\n}\n","import { AggregateRepository, Optional } from '@generic-ui/hermes';\n\nimport { StructureAggregate } from './structure.aggregate';\nimport { StructureId } from './structure.id';\n\nexport abstract class StructureAggregateRepository extends AggregateRepository<StructureId, StructureAggregate> {\n\n\tabstract findById(aggregateId: StructureId): Optional<StructureAggregate>;\n\n\tabstract save(aggregate: StructureAggregate): void;\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { StructureAggregateRepository } from '../../../../core/domain/structure-aggregate.repository';\n\nimport { SetPagingCommand } from './set-paging.command';\nimport { PagingSetEvent } from './paging-set.event';\nimport { StructureAggregate } from '../../../../core/domain/structure.aggregate';\n\n\n@Injectable()\nexport class SetPagingCommandHandler implements CommandHandler<StructureAggregate, SetPagingCommand> {\n\n\tconstructor(private structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tprivate domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SetPagingCommand> {\n\t\treturn SetPagingCommand;\n\t}\n\n\thandle(structureAggregate: StructureAggregate, command: SetPagingCommand): void {\n\n\t\tconst pagingConfig = command.getPagingConfig();\n\n\t\tstructureAggregate.changePaging(pagingConfig);\n\t}\n\n\tpublish(aggregate: StructureAggregate, command: SetPagingCommand): void {\n\t\tthis.domainEventPublisher.publish(new PagingSetEvent(command.getAggregateId()));\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\nimport { NextPageCommand } from './next-page.command';\nimport { NextPageEvent } from './next-page.event';\nimport { StructureAggregate } from '../../../../core/domain/structure.aggregate';\n\n\n@Injectable()\nexport class NextPageCommandHandler implements CommandHandler<StructureAggregate, NextPageCommand> {\n\n\tconstructor(private readonly domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<NextPageCommand> {\n\t\treturn NextPageCommand;\n\t}\n\n\thandle(aggregate: StructureAggregate, command: NextPageCommand): void {\n\n\t\t// missing implementation\n\t\taggregate.nextPage();\n\t}\n\n\tpublish(aggregate: StructureAggregate, command: NextPageCommand): void {\n\t\tthis.domainEventPublisher.publish(new NextPageEvent(command.getAggregateId()));\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { PrevPageCommand } from './prev-page.command';\nimport { PrevPageEvent } from './prev-page.event';\nimport { StructureAggregate } from '../../../../core/domain/structure.aggregate';\n\n\n@Injectable()\nexport class PrevPageCommandHandler implements CommandHandler<StructureAggregate, PrevPageCommand> {\n\n\tconstructor(private domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<PrevPageCommand> {\n\t\treturn PrevPageCommand;\n\t}\n\n\thandle(structure: StructureAggregate, command: PrevPageCommand): void {\n\n\t\tstructure.prevPage();\n\t}\n\n\tpublish(aggregate: StructureAggregate, command: PrevPageCommand): void {\n\t\tthis.domainEventPublisher.publish(new PrevPageEvent(command.getAggregateId()));\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateEvent, CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { ChangePagesizeCommand } from './change-pagesize.command';\nimport { PageChangedEvent } from '../page/page-changed.event';\nimport { PagesizeChangedEvent } from './pagesize-changed.event';\nimport { StructureAggregate } from '../../../../core/domain/structure.aggregate';\nimport { StructureId } from '../../../../core/domain/structure.id';\n\n\n@Injectable()\nexport class ChangePagesizeCommandHandler implements CommandHandler<StructureAggregate, ChangePagesizeCommand> {\n\n\tconstructor(protected domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<ChangePagesizeCommand> {\n\t\treturn ChangePagesizeCommand;\n\t}\n\n\thandle(structureAggregate: StructureAggregate, command: ChangePagesizeCommand): void {\n\n\t\tconst pageSize = command.getPageSize();\n\n\t\tstructureAggregate.changePageSize(pageSize);\n\t}\n\n\tpublish(aggregate: StructureAggregate, command: ChangePagesizeCommand): void {\n\n\t\tconst aggregateEvents = aggregate.getEvents();\n\n\t\t(aggregateEvents as any).forEach((event: AggregateEvent<StructureId>) => {\n\t\t\t(event as any).aggregateId = aggregate.getId();\n\t\t});\n\n\t\tthis.publishAggregateEvents(aggregateEvents, command);\n\n\t\taggregate.clearEvents();\n\t}\n\n\tprivate publishAggregateEvents(events: ReadonlyArray<AggregateEvent<StructureId>>, command: ChangePagesizeCommand): void {\n\n\t\tfor (const event of events) {\n\t\t\tthis.publishAggregateEvent(event, command);\n\t\t}\n\t}\n\n\tprivate publishAggregateEvent(event: AggregateEvent<StructureId>, command: ChangePagesizeCommand): void {\n\n\t\tswitch (event.getType()) {\n\t\t\tcase 'PageChangedAggregateEvent':\n\n\t\t\t\tconst pageChangedEvent = new PageChangedEvent(command.getAggregateId());\n\n\t\t\t\tthis.domainEventPublisher.publish(pageChangedEvent);\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PagesizeChangedAggregateEvent':\n\n\t\t\t\tconst pagesizeChangedEvent = new PagesizeChangedEvent(command.getAggregateId());\n\n\t\t\t\tthis.domainEventPublisher.publish(pagesizeChangedEvent);\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'StructurePreparedEntitiesSetAggregateEvent':\n\n\t\t\t\tthis.domainEventPublisher.publish(event.toDomainEvent());\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n}\n","export const structureKey = 'StructureAggregate';\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { DomainModule, HermesModule } from '@generic-ui/hermes';\n\nimport { PagingManagerFactory } from './paging.manager-factory';\nimport { PagingDispatcher } from './paging.dispatcher';\nimport { SetPagingCommandHandler } from './set/set-paging.command-handler';\nimport { NextPageCommandHandler } from './next-page/next-page.command-handler';\nimport { PrevPageCommandHandler } from './prev-page/prev-page.command-handler';\nimport { ChangePagesizeCommandHandler } from './change-pagesize/change-pagesize.command-handler';\nimport { structureKey } from '../../../core/api/structre.key';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule\n\t],\n\tproviders: [\n\t\tPagingDispatcher,\n\t\tPagingManagerFactory\n\t],\n\tdeclarations: [],\n\texports: []\n})\nexport class PagingDomainModule extends DomainModule {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tstatic commandHandlers() {\n\t\treturn [\n\t\t\t...HermesModule.registerCommandHandler(SetPagingCommandHandler, structureKey),\n\t\t\t...HermesModule.registerCommandHandler(NextPageCommandHandler, structureKey),\n\t\t\t...HermesModule.registerCommandHandler(PrevPageCommandHandler, structureKey),\n\t\t\t...HermesModule.registerCommandHandler(ChangePagesizeCommandHandler, structureKey)\n\t\t];\n\t}\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { ApiModule } from '@generic-ui/hermes';\n\nimport { PagingCommandInvoker } from './paging.command-invoker';\nimport { PagingWarehouse } from './paging.warehouse';\nimport { PagingEventRepository } from './paging.event-repository';\nimport { PagingDomainModule } from '../domain/paging.domain-module';\nimport { PagingConverter } from './read/paging.converter';\nimport { PagingRepository } from './read/paging.repository';\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tPagingDomainModule\n\t],\n\tproviders: [\n\t\tPagingCommandInvoker,\n\t\tPagingWarehouse,\n\t\tPagingEventRepository,\n\n\t\tPagingRepository,\n\t\tPagingConverter\n\t],\n\tdeclarations: [],\n\texports: []\n})\nexport class PagingApiModule extends ApiModule {\n\n\n}\n","import { ChangeDetectionStrategy, Component, ElementRef, EventEmitter, Input, OnChanges, Output, ViewEncapsulation } from '@angular/core';\n\nimport { Paging } from '../../../core/api/read/paging';\nimport { PureComponent } from '../../../../../common/cdk/component/pure-component';\n\n\n@Component({\n\tselector: 'div[gui-paging-navigator][paging]',\n\ttemplateUrl: './paging-navigator.component.html',\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class PagingNavigatorComponent extends PureComponent implements OnChanges {\n\n\t@Input()\n\tpaging: Paging;\n\n\t@Input()\n\tsourceSize?: number;\n\n\t@Output()\n\tnextPageChanged = new EventEmitter();\n\n\t@Output()\n\tprevPageChanged = new EventEmitter();\n\n\tprevDisabled: boolean = false;\n\n\tnextDisabled: boolean = false;\n\n\tconstructor(elementRef: ElementRef) {\n\t\tsuper(elementRef);\n\t}\n\n\tngOnChanges() {\n\t\tthis.calculatePrev();\n\t\tthis.calculateNext();\n\t}\n\n\tprevPage(): void {\n\t\tthis.prevPageChanged.emit();\n\t}\n\n\tnextPage(): void {\n\t\tthis.nextPageChanged.emit();\n\t}\n\n\tprivate calculatePrev(): void {\n\n\t\tif (!this.paging) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.prevDisabled = this.paging.isPrevPageDisabled();\n\t}\n\n\tprivate calculateNext(): void {\n\n\t\tif (!this.paging && !this.sourceSize) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.nextDisabled = this.paging.isNextPageDisabled();\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-paging-navigator';\n\t}\n\n}\n","import { ChangeDetectionStrategy, Component, ElementRef, Input, OnChanges, ViewEncapsulation } from '@angular/core';\n\nimport { PureComponent } from '../../../../../common/cdk/component/pure-component';\nimport { Paging } from '../../../core/api/read/paging';\n\n\n@Component({\n\tselector: 'div[gui-paging-stats][paging]',\n\ttemplateUrl: './paging-stats.component.html',\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class PagingStatsComponent extends PureComponent implements OnChanges {\n\n\t@Input()\n\tpaging: Paging;\n\n\tsourceSize: number;\n\n\tfirstItemIndex: number;\n\n\tlastItemIndex: number;\n\n\tconstructor(elementRef: ElementRef) {\n\t\tsuper(elementRef);\n\t\tthis.addClassToHost('gui-mx-6');\n\t}\n\n\tngOnChanges() {\n\t\tthis.calculate();\n\t}\n\n\tcalculate(): void {\n\t\tif (this.paging) {\n\t\t\tthis.firstItemIndex = this.paging.getStart();\n\t\t\tthis.lastItemIndex = this.paging.getEnd();\n\t\t\tthis.sourceSize = this.paging.getSourceSize();\n\t\t}\n\t}\n\n\tisSourceNotEmpty(): boolean {\n\t\treturn this.sourceSize > 0;\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-paging-stats';\n\t}\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { ApiModule } from '@generic-ui/hermes';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule\n\t],\n\tproviders: [],\n\tdeclarations: [],\n\texports: []\n})\nexport class TranslationApiModule extends ApiModule {\n}\n","import { Observable } from 'rxjs';\nimport { Translation } from './translation';\nimport { TranslationChange } from './translation-change';\n\nexport abstract class TranslationService {\n\n\tabstract getTranslation(): Translation;\n\n\tabstract onTranslation(): Observable<Translation>\n\n\tabstract setDefaultTranslation(): void;\n\n\tabstract changeTranslation(change: TranslationChange): void;\n\n\tabstract setResolver(resolver: (key: string, value: string) => string): void;\n\n}\n","import { ChangeDetectorRef, OnDestroy, Pipe, PipeTransform } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { TranslationService } from '../core/api/translation.service';\nimport { Translation } from '../core/api/translation';\n\n\n@Pipe({\n\tname: 'guiTranslate',\n\tpure: false\n})\nexport class TranslationPipe implements PipeTransform, OnDestroy {\n\n\tprivate actualTranslationValue: string = '';\n\n\tprivate subscription: Subscription;\n\n\tconstructor(private readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\tprivate readonly translationService: TranslationService) {\n\t}\n\n\tngOnDestroy() {\n\t\tif (this.subscription) {\n\t\t\tthis.subscription.unsubscribe();\n\t\t}\n\t}\n\n\ttransform(key: string): string {\n\n\t\tif (this.subscription) {\n\t\t\tthis.subscription.unsubscribe();\n\t\t}\n\n\t\tthis.subscription =\n\t\t\tthis.translationService\n\t\t\t\t.onTranslation()\n\t\t\t\t.subscribe((translation: Translation) => {\n\t\t\t\t\tconst value = translation[key];\n\n\t\t\t\t\tif (!value) {\n\t\t\t\t\t\tthis.actualTranslationValue = key;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.actualTranslationValue = value;\n\t\t\t\t\tthis.changeDetectorRef.markForCheck();\n\t\t\t\t});\n\n\t\treturn this.actualTranslationValue;\n\t}\n\n}\n","import { TranslationChange } from '../api/translation-change';\nimport { Translation } from '../api/translation';\n\nexport class Dictionary {\n\n\tprivate resolver: (key: string, value: string) => string = (key: string, value: string) => value;\n\n\tprivate readonly translation: Map<string, string> = new Map<string, string>();\n\n\tchangeTranslation(change: TranslationChange | Translation): void {\n\t\tfor (const key of Object.keys(change)) {\n\t\t\tthis.translation.set(key, change[key]);\n\t\t}\n\t}\n\n\tgetTranslation(): Translation {\n\t\treturn Array.from(this.translation)\n\t\t\t\t\t.reduce((obj, [key, value]) => (\n\t\t\t\t\t\tObject.assign(obj, { [key]: this.resolver(key, value) })\n\t\t\t\t\t), {}) as Translation;\n\t}\n\n\tsetResolver(resolver: (key: string, value: string) => string): void {\n\t\tthis.resolver = resolver;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, ReplaySubject, Subject } from 'rxjs';\n\nimport { TranslationService } from '../api/translation.service';\nimport { Translation } from '../api/translation';\nimport { TranslationChange } from '../api/translation-change';\nimport { enTranslation } from './lang/en';\nimport { Dictionary } from './dictionary';\n\n\n@Injectable()\nexport class TranslationServiceImpl extends TranslationService {\n\n\tprivate readonly defaultTranslation: Translation = enTranslation;\n\n\tprivate readonly dictionary: Dictionary = new Dictionary();\n\n\tprivate readonly dictionary$: Subject<Translation> = new ReplaySubject(1);\n\n\tgetTranslation(): Translation {\n\t\treturn this.dictionary.getTranslation();\n\t}\n\n\tonTranslation(): Observable<Translation> {\n\t\treturn this.dictionary$\n\t\t\t\t   .asObservable();\n\t}\n\n\tsetDefaultTranslation(): void {\n\t\tthis.changeTranslationAndPropagate(this.defaultTranslation);\n\t}\n\n\tchangeTranslation(change: TranslationChange): void {\n\t\tthis.changeTranslationAndPropagate(change);\n\t}\n\n\tsetResolver(resolver: (key: string, value: string) => string): void {\n\t\tthis.setResolverAndPropagate(resolver);\n\t}\n\n\tprivate changeTranslationAndPropagate(change: TranslationChange | Translation): void {\n\n\t\tthis.dictionary.changeTranslation(change);\n\n\t\tthis.dictionary$.next(this.dictionary.getTranslation());\n\t}\n\n\tprivate setResolverAndPropagate(resolver: (key: string, value: string) => string): void {\n\n\t\tthis.dictionary.setResolver(resolver);\n\n\t\tthis.dictionary$.next(this.dictionary.getTranslation());\n\t}\n}\n","import { NgModule, Optional, Provider } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { FeatureModule } from '@generic-ui/hermes';\n\nimport { TranslationApiModule } from '../core/api/translation.api-module';\nimport { TranslationPipe } from './translation.pipe';\nimport { TranslationService } from '../core/api/translation.service';\nimport { TranslationServiceImpl } from '../core/domain/translation.service-impl';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\n\t\tTranslationApiModule\n\t],\n\tdeclarations: [\n\t\tTranslationPipe\n\t],\n\texports: [\n\t\tTranslationPipe\n\t],\n\tentryComponents: []\n})\nexport class TranslationFeatureModule extends FeatureModule {\n\n\tstatic forComponent(): Array<Provider> {\n\t\treturn [{ provide: TranslationService, useClass: TranslationServiceImpl }];\n\t}\n\n\tconstructor(@Optional() apiModule: TranslationApiModule) {\n\t\tsuper();\n\t\tif (apiModule === null) {\n\t\t\tthrow new Error('TranslationApiModule is required.');\n\t\t}\n\t}\n\n}\n","import { NgModule, Optional, Provider } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { FabricModule } from '@generic-ui/fabric';\nimport { FeatureModule } from '@generic-ui/hermes';\n\nimport { PagingComponent } from './paging.component';\nimport { PagingSelectComponent } from './select/paging-select.component';\nimport { AlternativePagingNavigatorComponent } from './advanced/navigator/alternative-paging-navigator.component';\nimport { AlternativePagingPagesComponent } from './advanced/pages/alternative-paging-pages.component';\nimport { PagingDisplayModeArchive } from './mode/paging-display-mode.archive';\nimport { PagingApiModule } from '../core/api/paging.api-module';\nimport { PagingNavigatorComponent } from './basic/navigator/paging-navigator.component';\nimport { PagingStatsComponent } from './basic/stats/paging-stats.component';\nimport { TranslationFeatureModule } from '../../../l10n/feature/translation.feature-module';\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tFabricModule,\n\t\tPagingApiModule,\n\t\tTranslationFeatureModule\n\t],\n\tdeclarations: [\n\t\tPagingComponent,\n\t\tPagingNavigatorComponent,\n\t\tPagingSelectComponent,\n\t\tPagingStatsComponent,\n\t\tAlternativePagingNavigatorComponent,\n\t\tAlternativePagingPagesComponent\n\t],\n\texports: [\n\t\tPagingComponent,\n\t\tPagingNavigatorComponent,\n\t\tPagingSelectComponent,\n\t\tPagingStatsComponent,\n\t\tAlternativePagingNavigatorComponent,\n\t\tAlternativePagingPagesComponent\n\t]\n})\nexport class PagingFeatureModule extends FeatureModule {\n\n\tstatic forComponent(): Array<Provider> {\n\t\treturn [\n\t\t\tPagingDisplayModeArchive\n\t\t];\n\t}\n\n\tconstructor(@Optional() pagingApiModule: PagingApiModule) {\n\t\tsuper();\n\t\tif (pagingApiModule === null) {\n\t\t\tthrow new Error('PagingApiModule is required.');\n\t\t}\n\t}\n\n}\n","import { Archive } from '@generic-ui/hermes';\nimport { StructureBannerPanelConfig } from '../structure-banner-panel.config';\n\nexport class StructureTitlePanelConfigArchive extends Archive<StructureBannerPanelConfig> {\n\n\tprivate static readonly titlePanelConfig: StructureBannerPanelConfig = {\n\t\tenabled: false,\n\t\ttemplate: 'Title Panel'\n\t};\n\n\tconstructor() {\n\t\tsuper(StructureTitlePanelConfigArchive.titlePanelConfig);\n\t}\n\n}\n","import { Archive } from '@generic-ui/hermes';\nimport { StructureBannerPanelConfig } from '../structure-banner-panel.config';\n\nexport class StructureFooterPanelConfigArchive extends Archive<StructureBannerPanelConfig> {\n\n\tprivate static readonly footerPanelConfig: StructureBannerPanelConfig = {\n\t\tenabled: false,\n\t\ttemplate: 'Footer Panel'\n\t};\n\n\tconstructor() {\n\t\tsuper(StructureFooterPanelConfigArchive.footerPanelConfig);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { InfoPanelConfig } from './info-panel.config';\nimport { StructureInfoPanelConfig } from './structure.info-panel.config';\n\n@Injectable()\nexport class StructureInfoPanelConfigConverter {\n\n\tconvert(config: InfoPanelConfig): StructureInfoPanelConfig {\n\n\t\tlet infoDialog,\n\t\t\tcolumnsManager,\n\t\t\tsourceSize,\n\t\t\tschemaManager;\n\n\t\tif (config.infoDialog !== undefined) {\n\t\t\tinfoDialog = config.infoDialog;\n\t\t}\n\n\t\tif (config.columnsManager !== undefined) {\n\t\t\tcolumnsManager = config.columnsManager;\n\t\t}\n\n\t\tif (config.schemaManager !== undefined) {\n\t\t\tschemaManager = config.schemaManager;\n\t\t}\n\n\t\tif (config.sourceSize !== undefined) {\n\t\t\tsourceSize = config.sourceSize;\n\t\t}\n\n\t\treturn new StructureInfoPanelConfig(\n\t\t\tconfig.enabled,\n\t\t\tinfoDialog,\n\t\t\tcolumnsManager,\n\t\t\tschemaManager,\n\t\t\tsourceSize);\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { InfoPanelConfig } from './info-panel.config';\nimport { StructureInfoPanelArchive } from './structure.info-panel.archive';\nimport { StructureInfoPanelConfigConverter } from './structure.info-panel.config-converter';\n\n\n@Injectable()\nexport class StructureInfoPanelConfigService {\n\n\tconstructor(private structureInfoPanelConfigConverter: StructureInfoPanelConfigConverter,\n\t\t\t\tprivate structureInfoPanelArchive: StructureInfoPanelArchive) {\n\t}\n\n\tset(config: InfoPanelConfig): void {\n\t\tconst infoPanelConfig = this.structureInfoPanelConfigConverter.convert(config);\n\n\t\tthis.structureInfoPanelArchive.next(infoPanelConfig);\n\t}\n\n}\n","import { StructureId } from '../../../../core/domain/structure.id';\nimport { SortingConfig } from '../../api/sorting-config';\nimport { StructureCommand } from '../../../../core/domain/structure.command';\n\n\nexport class SetSortingCommand extends StructureCommand {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly sortingConfig: SortingConfig) {\n\t\tsuper(structureId, 'SetSortingCommand');\n\t}\n\n\tgetSortingConfig(): SortingConfig {\n\t\treturn this.sortingConfig;\n\t}\n\n}\n","import { StructureId } from '../../../../core/domain/structure.id';\nimport { CompositionId } from '../../../../../composition/core/domain/composition.id';\nimport { FieldId } from '../../../../field/core/domain/field/field.id';\nimport { StructureCommand } from '../../../../core/domain/structure.command';\n\n\nexport class ToggleSortCommand extends StructureCommand {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly compositionId: CompositionId,\n\t\t\t\tprivate readonly fieldId: FieldId) {\n\t\tsuper(structureId, 'ToggleSortCommand');\n\t}\n\n\tgetCompositionId(): CompositionId {\n\t\treturn this.compositionId;\n\t}\n\n\tgetFieldId(): FieldId {\n\t\treturn this.fieldId;\n\t}\n\n}\n","import { StructureId } from '../../../../core/domain/structure.id';\nimport { SortOrder } from '../../../../../composition/core/domain/column/sort/sort-order';\nimport { FieldId } from '../../../../field/core/domain/field/field.id';\nimport { CompositionId } from '../../../../../composition/core/domain/composition.id';\nimport { StructureCommand } from '../../../../core/domain/structure.command';\n\n\nexport class SetSortOrderCommand extends StructureCommand {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly compositionId: CompositionId,\n\t\t\t\tprivate readonly fieldId: FieldId,\n\t\t\t\tprivate readonly sortOrder: SortOrder) {\n\t\tsuper(structureId, 'SetSortOrderCommand');\n\t}\n\n\tgetCompositionId(): CompositionId {\n\t\treturn this.compositionId;\n\t}\n\n\tgetFieldId(): FieldId {\n\t\treturn this.fieldId;\n\t}\n\n\tgetSortOrder(): SortOrder {\n\t\treturn this.sortOrder;\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandDispatcher, CommandInvoker } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../core/domain/structure.id';\nimport { structureGlobalId } from '../../../core/api/structure.global-id';\nimport { SortingConfig } from './sorting-config';\nimport { SetSortingCommand } from '../domain/set-config/set-sorting.command';\nimport { FieldId } from '../../../field/core/domain/field/field.id';\nimport { CompositionId } from '../../../../composition/core/domain/composition.id';\nimport { ToggleSortCommand } from '../domain/toggle/toggle-sort.command';\nimport { SortOrder } from '../../../../composition/core/domain/column/sort/sort-order';\nimport { SetSortOrderCommand } from '../domain/order/set-sort-order.command';\n\n\n@Injectable()\nexport class SortingCommandInvoker implements CommandInvoker {\n\n\tconstructor(private readonly commandDispatcher: CommandDispatcher) {\n\t}\n\n\tsetSortingConfig(config: SortingConfig, structureId: StructureId = structureGlobalId): void {\n\t\tthis.commandDispatcher.dispatch(new SetSortingCommand(structureId, config));\n\t}\n\n\ttoggleSort(fieldId: FieldId, compositionId?: CompositionId, structureId: StructureId = structureGlobalId): void {\n\t\tthis.commandDispatcher.dispatch(new ToggleSortCommand(structureId, compositionId, fieldId));\n\t}\n\n\tsetSortOrder(fieldId: FieldId, sortOrder: SortOrder, compositionId?: CompositionId, structureId: StructureId = structureGlobalId): void {\n\t\tthis.commandDispatcher.dispatch(new SetSortOrderCommand(structureId, compositionId, fieldId, sortOrder));\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { AggregateId, Warehouse } from '@generic-ui/hermes';\n\nimport { StructureReadModelRepository } from '../../../grid/core/api/read/structure.read-model-repository';\nimport { structureGlobalId } from '../../../core/api/structure.global-id';\nimport { StructureReadModelRoot } from '../../../grid/core/api/read/structure.read-model-root';\n\n\n@Injectable()\nexport class SortingWarehouse implements Warehouse {\n\n\tconstructor(private readonly structureRepository: StructureReadModelRepository) {\n\t}\n\n\tonStructure(aggregateId: AggregateId = structureGlobalId): Observable<StructureReadModelRoot> {\n\t\treturn this.structureRepository.onStructure(aggregateId);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventBus, EventRepository } from '@generic-ui/hermes';\n\nimport { StructureReadModelRootId } from '../../../grid/core/api/read/structure.read-model-root-id';\nimport { StructureId } from '../../../core/domain/structure.id';\n\n\n@Injectable()\nexport class SortingEventRepository extends EventRepository<StructureReadModelRootId, StructureId> {\n\n\tconstructor(domainEventBus: DomainEventBus) {\n\t\tsuper(domainEventBus);\n\t}\n\n}\n","import { CompositionId } from '../../../../../composition/core/domain/composition.id';\nimport { FieldId } from '../../../../field/core/domain/field/field.id';\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { StructureDomainEvent } from '../../../../core/domain/structure.domain-event';\n\n\nexport class SortToggledEvent extends StructureDomainEvent {\n\n\tconstructor(aggregateId: StructureId,\n\t\t\t\tprivate readonly compositionId: CompositionId,\n\t\t\t\tprivate readonly directions: Array<{ fieldId: FieldId, direction: boolean }>) {\n\t\tsuper(aggregateId, { compositionId, directions }, 'SortToggledEvent');\n\t}\n\n\tgetCompositionId(): CompositionId {\n\t\treturn this.compositionId;\n\t}\n\n\tgetDirections(): any {\n\t\treturn this.directions;\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateId, CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { StructureAggregateRepository } from '../../../../core/domain/structure-aggregate.repository';\nimport { ToggleSortCommand } from './toggle-sort.command';\nimport { FieldId } from '../../../../field/core/domain/field/field.id';\nimport { StructureSorter } from '../structure.sorter';\nimport { SortToggledEvent } from './sort-toggled.event';\nimport { StructureAggregate } from '../../../../core/domain/structure.aggregate';\nimport { CompositionId } from '../../../../../composition/core/domain/composition.id';\n\n\n@Injectable()\nexport class ToggleSortCommandHandler implements CommandHandler<StructureAggregate, ToggleSortCommand> {\n\n\tconstructor(private readonly structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tprivate domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<ToggleSortCommand> {\n\t\treturn ToggleSortCommand;\n\t}\n\n\thandle(structure: StructureAggregate, command: ToggleSortCommand): void {\n\n\t\tconst aggregateId = command.getAggregateId(),\n\t\t\tcompositionId = command.getCompositionId(),\n\t\t\tfieldId = command.getFieldId();\n\n\t\tconst sorters = structure.toggleSort(fieldId);\n\n\t\tthis.publishSortEvent(aggregateId, compositionId, fieldId, sorters);\n\t}\n\n\tpublish(aggregate: StructureAggregate, command: ToggleSortCommand): void {\n\t}\n\n\tprivate publishSortEvent(aggregateId: AggregateId, compositionId: CompositionId, fieldId: FieldId, sorters: Array<StructureSorter>): void {\n\n\t\tconst directions = sorters.map((sorter: StructureSorter) => {\n\t\t\treturn {\n\t\t\t\tdirection: sorter.hasDirection(),\n\t\t\t\tfieldId: sorter.getField().getId()\n\t\t\t};\n\t\t});\n\n\t\tthis.domainEventPublisher.publish(new SortToggledEvent(aggregateId, compositionId, directions));\n\t}\n\n}\n","import { StructureId } from '../../../../core/domain/structure.id';\nimport { StructureDomainEvent } from '../../../../core/domain/structure.domain-event';\n\nexport class SortingSetEvent extends StructureDomainEvent {\n\n\tconstructor(aggregateId: StructureId) {\n\t\tsuper(aggregateId, null, 'SortingSetEvent');\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\nimport { SetSortingCommand } from './set-sorting.command';\nimport { SortingSetEvent } from './sorting-set.event';\nimport { StructureAggregate } from '../../../../core/domain/structure.aggregate';\n\n\n@Injectable()\nexport class SetSortingCommandHandler implements CommandHandler<StructureAggregate, SetSortingCommand> {\n\n\tconstructor(private domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SetSortingCommand> {\n\t\treturn SetSortingCommand;\n\t}\n\n\thandle(aggregate: StructureAggregate, command: SetSortingCommand): void {\n\n\t\tconst sortingConfig = command.getSortingConfig();\n\n\t\taggregate.setSortingConfig(sortingConfig);\n\t}\n\n\tpublish(aggregate: StructureAggregate, command: SetSortingCommand): void {\n\t\tthis.domainEventPublisher.publish(new SortingSetEvent(command.getAggregateId()));\n\t}\n\n}\n","import { CompositionId } from '../../../../../composition/core/domain/composition.id';\nimport { FieldId } from '../../../../field/core/domain/field/field.id';\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { StructureDomainEvent } from '../../../../core/domain/structure.domain-event';\n\nexport class SortOrderSetEvent extends StructureDomainEvent {\n\n\tconstructor(aggregateId: StructureId,\n\t\t\t\tprivate readonly compositionId: CompositionId,\n\t\t\t\tprivate readonly directions: Array<{ fieldId: FieldId, direction: boolean }>) {\n\t\tsuper(aggregateId, { compositionId, directions }, 'SortOrderSetEvent');\n\t}\n\n\tgetCompositionId(): CompositionId {\n\t\treturn this.compositionId;\n\t}\n\n\tgetDirections(): any {\n\t\treturn this.directions;\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateId, CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { StructureAggregateRepository } from '../../../../core/domain/structure-aggregate.repository';\nimport { SetSortOrderCommand } from './set-sort-order.command';\nimport { SortOrderSetEvent } from './sort-order-set.event';\nimport { CompositionId } from '../../../../../composition/core/domain/composition.id';\nimport { FieldId } from '../../../../field/core/domain/field/field.id';\nimport { StructureSorter } from '../structure.sorter';\nimport { StructureAggregate } from '../../../../core/domain/structure.aggregate';\n\n\n@Injectable()\nexport class SetSortOrderCommandHandler implements CommandHandler<StructureAggregate, SetSortOrderCommand> {\n\n\tconstructor(private readonly structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tprivate domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SetSortOrderCommand> {\n\t\treturn SetSortOrderCommand;\n\t}\n\n\thandle(structure: StructureAggregate, command: SetSortOrderCommand): void {\n\n\t\tconst structureId = command.getAggregateId(),\n\t\t\tcompositionId = command.getCompositionId(),\n\t\t\tfieldId = command.getFieldId(),\n\t\t\tsortOrder = command.getSortOrder();\n\n\t\tconst sorters = structure.setSortOrder(fieldId, sortOrder);\n\n\t\tthis.publishSortEvent(structureId, compositionId, fieldId, sorters);\n\t}\n\n\tpublish(aggregate: StructureAggregate, command: SetSortOrderCommand): void {\n\t}\n\n\tprivate publishSortEvent(aggregateId: AggregateId, compositionId: CompositionId, fieldId: FieldId, sorters: Array<StructureSorter>): void {\n\n\t\tconst directions = sorters.map((sorter: StructureSorter) => {\n\t\t\treturn {\n\t\t\t\tdirection: sorter.hasDirection(),\n\t\t\t\tfieldId: sorter.getField().getId()\n\t\t\t};\n\t\t});\n\n\t\tthis.domainEventPublisher.publish(new SortOrderSetEvent(aggregateId, compositionId, directions));\n\t}\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { DomainModule, HermesModule } from '@generic-ui/hermes';\n\nimport { ToggleSortCommandHandler } from './toggle/toggle-sort.command-handler';\nimport { SetSortingCommandHandler } from './set-config/set-sorting.command-handler';\nimport { SetSortOrderCommandHandler } from './order/set-sort-order.command-handler';\nimport { structureKey } from '../../../core/api/structre.key';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule\n\t],\n\tproviders: [],\n\tdeclarations: [],\n\texports: []\n})\nexport class SortingDomainModule extends DomainModule {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tstatic commandHandlers() {\n\t\treturn [\n\t\t\t...HermesModule.registerCommandHandler(ToggleSortCommandHandler, structureKey),\n\t\t\t...HermesModule.registerCommandHandler(SetSortingCommandHandler, structureKey),\n\t\t\t...HermesModule.registerCommandHandler(SetSortOrderCommandHandler, structureKey)\n\t\t];\n\t}\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { ApiModule } from '@generic-ui/hermes';\n\nimport { SortingCommandInvoker } from './sorting.command-invoker';\nimport { SortingWarehouse } from './sorting.warehouse';\nimport { SortingEventRepository } from './sorting.event-repository';\nimport { SortingDomainModule } from '../domain/sorting.domain-module';\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tSortingDomainModule\n\t],\n\tproviders: [\n\t\tSortingCommandInvoker,\n\t\tSortingWarehouse,\n\t\tSortingEventRepository\n\t],\n\tdeclarations: [],\n\texports: []\n})\nexport class SortingApiModule extends ApiModule {\n}\n","import { NgModule, Optional, Provider } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { FeatureModule } from '@generic-ui/hermes';\n\nimport { SortingApiModule } from '../core/api/sorting.api-module';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\n\t\tSortingApiModule\n\t],\n\tdeclarations: [],\n\texports: []\n})\nexport class SortingFeatureModule extends FeatureModule {\n\n\tstatic forComponent(): Array<Provider> {\n\t\treturn [];\n\t}\n\n\tconstructor(@Optional() sortingApiModule: SortingApiModule) {\n\t\tsuper();\n\t\tif (sortingApiModule === null) {\n\t\t\tthrow new Error('SortingApiModule is required.');\n\t\t}\n\t}\n\n}\n","import { StructureId } from '../../../../core/domain/structure.id';\nimport { StructureDomainEvent } from '../../../../core/domain/structure.domain-event';\n\nexport class ConfigSearchingSetEvent extends StructureDomainEvent {\n\n\tconstructor(aggregateId: StructureId,\n\t\t\t\tprivate readonly enabled: boolean) {\n\t\tsuper(aggregateId, enabled, 'ConfigSearchingSetEvent');\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { SetConfigSearchingCommand } from './set-config-searching.command';\nimport { ConfigSearchingSetEvent } from './config-searching-set.event';\nimport { StructureAggregate } from '../../../../core/domain/structure.aggregate';\n\n\n@Injectable()\nexport class SetConfigSearchingCommandHandler implements CommandHandler<StructureAggregate, SetConfigSearchingCommand> {\n\n\tconstructor(private domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SetConfigSearchingCommand> {\n\t\treturn SetConfigSearchingCommand;\n\t}\n\n\thandle(aggregate: StructureAggregate, command: SetConfigSearchingCommand): void {\n\n\t\tconst searchingConfig = command.getConfig();\n\n\t\taggregate.setSearchingConfig(searchingConfig);\n\t}\n\n\tpublish(aggregate: StructureAggregate, command: SetConfigSearchingCommand): void {\n\n\t\tconst searchingConfig = command.getConfig();\n\n\t\tthis.domainEventPublisher.publish(new ConfigSearchingSetEvent(command.getAggregateId(), searchingConfig.enabled));\n\t}\n\n}\n","import { StructureId } from '../../../core/domain/structure.id';\nimport { SummariesValues } from './calculation/summaries.values';\nimport { StructureDomainEvent } from '../../../core/domain/structure.domain-event';\n\n\nexport class StructureSummariesChangedEvent extends StructureDomainEvent {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly values: Map<string, SummariesValues>) {\n\t\tsuper(structureId, values, 'StructureSummariesChangedEvent');\n\t}\n\n\tgetSummaries() {\n\t\treturn this.values;\n\t}\n\n}\n","import { AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nimport { SummariesValues } from './calculation/summaries.values';\nimport { StructureId } from '../../../core/domain/structure.id';\nimport { StructureSummariesChangedEvent } from './structure.summaries-changed.event';\nimport { StructureAggregateEvent } from '../../../core/domain/structure.aggregate-event';\n\nexport const StructureSummariesChangedAggregateEventName = 'StructureSummariesChangedAggregateEvent';\n\nexport class StructureSummariesChangedAggregateEvent extends StructureAggregateEvent {\n\n\tconstructor(aggregateId: AggregateId,\n\t\t\t\tprivate readonly summarizedValues: Map<string, SummariesValues>) {\n\t\tsuper(aggregateId, StructureSummariesChangedAggregateEventName);\n\t}\n\n\ttoDomainEvent(): DomainEvent<StructureId> {\n\t\treturn new StructureSummariesChangedEvent(this.getAggregateId(), this.summarizedValues);\n\t}\n\n\tgetSummaries(): Map<string, SummariesValues> {\n\t\treturn this.summarizedValues;\n\t}\n}\n","import { OriginItemEntity } from '../origin/origin-item-entity';\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { StructureDomainEvent } from '../../../../core/domain/structure.domain-event';\n\nexport class StructurePreparedEntitiesSetEvent extends StructureDomainEvent {\n\n\tconstructor(aggregateId: StructureId,\n\t\t\t\tprivate readonly preparedItems: Array<OriginItemEntity>) {\n\t\tsuper(aggregateId, preparedItems, 'StructurePreparedEntitiesSetEvent');\n\t}\n\n\tgetPreparedItems(): Array<OriginItemEntity> {\n\t\treturn this.preparedItems;\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateEvent, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { StructureOriginChangedAggregateEvent } from './origin/structure.origin-changed.aggregate-event';\nimport { OriginSetEvent } from './origin/set-origin/origin-set.event';\nimport { StructureSourceItemEditedAggregateEvent } from './origin/edit/structure.source-item-edited.aggregate-event';\nimport { StructureSourceItemEditedEvent } from './origin/edit/structure.source-item-edited.event';\nimport {\n\tStructureSummariesChangedAggregateEvent,\n\tStructureSummariesChangedAggregateEventName\n} from '../../../summaries/core/domain/structure.summaries-changed.aggregate-event';\nimport { StructureSummariesChangedEvent } from '../../../summaries/core/domain/structure.summaries-changed.event';\nimport { StructurePreparedEntitiesSetAggregateEvent } from './prepared/structure.prepared-entities-set.aggregate-event';\nimport { StructurePreparedEntitiesSetEvent } from './prepared/structure.prepared-entities-set.event';\nimport { StructureId } from '../../../core/domain/structure.id';\nimport { UniqueFilterCalculatedAggregateEvent } from '../../../filter/core/domain/unique/calculate/unique-filter-calculated.aggregate-event';\n\n\n@Injectable()\nexport class SourceDomainEventPublisher {\n\n\tconstructor(private domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tpublish(events: ReadonlyArray<AggregateEvent<StructureId>>): void {\n\n\t\tevents.forEach((event) => {\n\t\t\tthis.publishEvent(event);\n\t\t});\n\t}\n\n\tprivate publishEvent(event: AggregateEvent<StructureId>): void {\n\n\t\tif (event.getType() === 'StructureOriginChangedAggregateEvent') {\n\n\t\t\tconst structureOriginChangedAggregateEvent = (event as StructureOriginChangedAggregateEvent);\n\n\t\t\tconst domainEvent = new OriginSetEvent(structureOriginChangedAggregateEvent.getAggregateId(), structureOriginChangedAggregateEvent.getOrigin());\n\n\t\t\tthis.domainEventPublisher.publish(domainEvent);\n\t\t}\n\n\t\tif (event.getType() === 'StructureSourceItemEditedAggregateEvent') {\n\n\t\t\tconst structureSourceItemEditedAggregateEvent = (event as StructureSourceItemEditedAggregateEvent);\n\n\t\t\tconst domainEvent = new StructureSourceItemEditedEvent(\n\t\t\t\tstructureSourceItemEditedAggregateEvent.getAggregateId(),\n\t\t\t\tstructureSourceItemEditedAggregateEvent.getBeforeItem(),\n\t\t\t\tstructureSourceItemEditedAggregateEvent.getAfterItem()\n\t\t\t);\n\n\t\t\tthis.domainEventPublisher.publish(domainEvent);\n\t\t}\n\n\t\tif (event.getType() === StructureSummariesChangedAggregateEventName) {\n\n\t\t\tconst structureSummariesChangedAggregateEvent = (event as StructureSummariesChangedAggregateEvent);\n\n\t\t\tconst domainEvent = new StructureSummariesChangedEvent(\n\t\t\t\tstructureSummariesChangedAggregateEvent.getAggregateId(),\n\t\t\t\tstructureSummariesChangedAggregateEvent.getSummaries()\n\t\t\t);\n\n\t\t\tthis.domainEventPublisher.publish(domainEvent);\n\n\t\t}\n\n\t\tif (event.getType() === 'StructurePreparedEntitiesSetAggregateEvent') {\n\n\t\t\tconst structurePreparedEntitiesSetAggregateEvent = (event as StructurePreparedEntitiesSetAggregateEvent);\n\n\t\t\tconst domainEvent = new StructurePreparedEntitiesSetEvent(\n\t\t\t\tstructurePreparedEntitiesSetAggregateEvent.getAggregateId(),\n\t\t\t\tstructurePreparedEntitiesSetAggregateEvent.getPreparedItems()\n\t\t\t);\n\n\t\t\tthis.domainEventPublisher.publish(domainEvent);\n\t\t}\n\n\t\tif (event.getType() === 'UniqueFilterCalculatedAggregateEvent') {\n\n\t\t\tconst uniqueFilterCalculatedAggregateEvent = (event as UniqueFilterCalculatedAggregateEvent);\n\n\t\t\tconst domainEvent = uniqueFilterCalculatedAggregateEvent.toDomainEvent();\n\n\t\t\tthis.domainEventPublisher.publish(domainEvent);\n\t\t}\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { SetSearchPhraseCommand } from './set-search-phrase.command';\nimport { SearchPhraseSetDomainEvent } from './search-phrase-set.domain-event';\nimport { SourceDomainEventPublisher } from '../../../../source/core/domain/source.domain-event.publisher';\nimport { StructureAggregate } from '../../../../core/domain/structure.aggregate';\n\n\n@Injectable()\nexport class StructureSetSearchPhraseCommandHandler implements CommandHandler<StructureAggregate, SetSearchPhraseCommand> {\n\n\tconstructor(private readonly structureSourceDomainEventPublisher: SourceDomainEventPublisher,\n\t\t\t\tprivate readonly domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SetSearchPhraseCommand> {\n\t\treturn SetSearchPhraseCommand;\n\t}\n\n\thandle(aggregate: StructureAggregate, command: SetSearchPhraseCommand): void {\n\n\t\tconst phrase = command.getPhrase();\n\n\t\taggregate.addSearchPhrase(phrase);\n\t}\n\n\tpublish(aggregate: StructureAggregate, command: SetSearchPhraseCommand): void {\n\n\t\tconst phrase = command.getPhrase(),\n\t\t\tinitial = command.isInitial();\n\n\t\tthis.domainEventPublisher.publish(new SearchPhraseSetDomainEvent(command.getAggregateId(), phrase, initial));\n\t\tthis.structureSourceDomainEventPublisher.publish(aggregate.getEvents());\n\t}\n\n}\n","export enum DataType {\n\tUNKNOWN,\n\tNUMBER,\n\tSTRING,\n\tBOOLEAN,\n\tDATE,\n\tCUSTOM\n}\n","import { OriginItemEntity } from '../../../source/core/domain/origin/origin-item-entity';\nimport { DataType } from '../../../field/core/domain/field/data/data-type';\nimport { Field } from '../../../field/core/domain/field/field';\n\n\nexport class SearchManager {\n\n\tprivate searchFields: Array<Field> = [];\n\n\tprivate searchPhrase: string;\n\n\tprivate enabledDataTypes: Array<DataType> = [\n\t\tDataType.STRING\n\t];\n\n\taddSearchPhrase(fields: Array<Field>, searchPhrase: string): void {\n\n\t\tif (!searchPhrase) {\n\t\t\tthis.searchFields = [];\n\t\t\treturn;\n\t\t}\n\n\t\tconst searchableFields =\n\t\t\tfields.filter((field: Field) => {\n\t\t\t\treturn this.enabledDataTypes.some((dt: DataType) => dt === field.getDataType());\n\t\t\t});\n\n\t\tif (searchableFields.length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.searchFields = searchableFields;\n\n\t\tthis.searchPhrase = searchPhrase;\n\t}\n\n\tremoveSearchFilters(): void {\n\t\tthis.searchFields = [];\n\t}\n\n\tsearch(entities: Array<OriginItemEntity>): Array<OriginItemEntity> {\n\n\t\tif (entities.length === 0 || this.searchFields.length === 0) {\n\t\t\treturn entities;\n\t\t}\n\n\t\tconst searchedItems = new Set<OriginItemEntity>();\n\n\t\tfor (let i = 0; i < entities.length; i += 1) {\n\n\t\t\tthis.searchFields\n\t\t\t\t.filter((field: Field) => field.search(entities[i], this.searchPhrase))\n\t\t\t\t.forEach(() => {\n\t\t\t\t\tsearchedItems.add(entities[i]);\n\t\t\t\t});\n\t\t}\n\n\t\treturn Array.from(searchedItems);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { SearchManager } from './search.manager';\n\n@Injectable()\nexport class SearchManagerFactory {\n\n\tcreate(): SearchManager {\n\t\treturn new SearchManager();\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, ReplaySubject } from 'rxjs';\nimport { distinctUntilChanged, map } from 'rxjs/operators';\n\nimport { Reactive } from '../../../../../common/cdk/reactive/reactive';\nimport { StructureId } from '../../../../core/domain/structure.id';\n\n\n@Injectable()\nexport class SearchPhraseRepository extends Reactive {\n\n\tprivate phrase = new Map<string, string>();\n\n\tprivate phrase$ = new ReplaySubject<Map<string, string>>();\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tsetPhrase(phrase: string, structureId: StructureId): void {\n\t\tthis.phrase.set(structureId.toString(), phrase);\n\t\tthis.phrase$.next(this.phrase);\n\t}\n\n\tonPhrase(structureId: StructureId): Observable<string> {\n\n\t\treturn this.observePhrases(structureId)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   distinctUntilChanged()\n\t\t\t\t   );\n\t}\n\n\tprivate observePhrases(structureId: StructureId): Observable<string> {\n\t\treturn this.phrase$\n\t\t\t\t   .asObservable()\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((map: Map<string, string>) => {\n\t\t\t\t\t\t   return map.get(structureId.toString());\n\t\t\t\t\t   })\n\t\t\t\t   );\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventHandler, DomainEventType } from '@generic-ui/hermes';\n\nimport { SearchPhraseRepository } from './search-phrase.repository';\nimport { SearchPhraseSetDomainEvent } from '../../domain/set-phrase/search-phrase-set.domain-event';\nimport { StructureId } from '../../../../core/domain/structure.id';\n\n\n@Injectable()\nexport class SearchPhraseSetEventHandler implements DomainEventHandler<StructureId, SearchPhraseSetDomainEvent> {\n\n\tconstructor(private structureSearchPhraseRepository: SearchPhraseRepository) {\n\t}\n\n\tforEvent(): DomainEventType<SearchPhraseSetDomainEvent> {\n\t\treturn SearchPhraseSetDomainEvent;\n\t}\n\n\thandle(event: SearchPhraseSetDomainEvent): void {\n\n\t\tif (event.ofMessageType('SearchPhraseSetDomainEvent')) {\n\t\t\tthis.structureSearchPhraseRepository.setPhrase(event.getPhrase(), event.getAggregateId());\n\t\t}\n\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, ReplaySubject } from 'rxjs';\nimport { distinctUntilChanged, map } from 'rxjs/operators';\n\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { Reactive } from '../../../../../common/cdk/reactive/reactive';\n\n\n@Injectable()\nexport class SearchingRepository extends Reactive {\n\n\tprivate enabled = new Map<string, boolean>();\n\n\tprivate enabled$ = new ReplaySubject<Map<string, boolean>>();\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tsetEnabled(enabled: boolean, structureId: StructureId): void {\n\t\tthis.enabled.set(structureId.toString(), enabled);\n\t\tthis.enabled$.next(this.enabled);\n\t}\n\n\tonSearchingEnabled(structureId: StructureId): Observable<boolean> {\n\n\t\treturn this.enabled$\n\t\t\t\t   .asObservable()\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((map: Map<string, boolean>) => {\n\t\t\t\t\t\t   return map.get(structureId.toString());\n\t\t\t\t\t   }),\n\t\t\t\t\t   distinctUntilChanged()\n\t\t\t\t   );\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventHandler, DomainEventType } from '@generic-ui/hermes';\n\nimport { SearchingRepository } from './searching.repository';\n\nimport { ConfigSearchingSetEvent } from '../../domain/config/config-searching-set.event';\nimport { StructureId } from '../../../../core/domain/structure.id';\n\n\n@Injectable()\nexport class ConfigSearchingSetEventHandler implements DomainEventHandler<StructureId, ConfigSearchingSetEvent> {\n\n\tconstructor(private structureSearchingRepository: SearchingRepository) {\n\t}\n\n\tforEvent(): DomainEventType<ConfigSearchingSetEvent> {\n\t\treturn ConfigSearchingSetEvent;\n\t}\n\n\thandle(event: ConfigSearchingSetEvent): void {\n\n\t\tif (event.ofMessageType('ConfigSearchingSetEvent')) {\n\t\t\tthis.structureSearchingRepository.setEnabled(event.isEnabled(), event.getAggregateId());\n\t\t}\n\n\t}\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { DomainModule, HermesModule } from '@generic-ui/hermes';\n\nimport { SetConfigSearchingCommandHandler } from './config/set-config-searching.command-handler';\nimport { StructureSetSearchPhraseCommandHandler } from './set-phrase/structure.set-search-phrase.command-handler';\nimport { SearchManagerFactory } from './search.manager-factory';\nimport { SearchDispatcher } from './search.dispatcher';\nimport { SearchPhraseSetEventHandler } from '../api/phrase/search-phrase-set.event-handler';\nimport { ConfigSearchingSetEventHandler } from '../api/enabled/config-searching-set.event-handler';\nimport { structureKey } from '../../../core/api/structre.key';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule\n\t],\n\tproviders: [\n\t\tSearchManagerFactory,\n\t\tSearchDispatcher\n\t],\n\tdeclarations: [],\n\texports: []\n})\nexport class SearchDomainModule extends DomainModule {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tstatic commandHandlers() {\n\t\treturn [\n\t\t\t...HermesModule.registerCommandHandler(SetConfigSearchingCommandHandler, structureKey),\n\t\t\t...HermesModule.registerCommandHandler(StructureSetSearchPhraseCommandHandler, structureKey)\n\t\t];\n\t}\n\n\tstatic domainEventHandlers() {\n\t\treturn [\n\t\t\t...HermesModule.registerDomainEventHandler(SearchPhraseSetEventHandler),\n\t\t\t...HermesModule.registerDomainEventHandler(ConfigSearchingSetEventHandler)\n\t\t];\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandInvoker } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../core/domain/structure.id';\nimport { structureGlobalId } from '../../../core/api/structure.global-id';\nimport { SearchConfig } from './search-config';\nimport { SearchDispatcher } from '../domain/search.dispatcher';\n\n\n@Injectable()\nexport class SearchCommandInvoker implements CommandInvoker {\n\n\tconstructor(private readonly searchDispatcher: SearchDispatcher) {\n\t}\n\n\tsetSearchingConfig(config: SearchConfig, structureId: StructureId = structureGlobalId): void {\n\t\tthis.searchDispatcher.setSearchingConfig(config, structureId);\n\t}\n\n\tsearch(phrase: string, structureId: StructureId = structureGlobalId): void {\n\t\tthis.searchDispatcher.search(phrase, structureId);\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { Warehouse } from '@generic-ui/hermes';\nimport { StructureId } from '../../../core/domain/structure.id';\n\n@Injectable()\nexport abstract class SearchWarehouse implements Warehouse {\n\n\tprotected constructor() {\n\t}\n\n\tabstract onSearchEnabled(structureId: StructureId): Observable<boolean>;\n\n\tabstract onPhrase(structureId: StructureId): Observable<string>;\n\n}\n","import { SearchingRepository } from '../api/enabled/searching.repository';\nimport { SearchPhraseRepository } from '../api/phrase/search-phrase.repository';\nimport { StructureId } from '../../../core/domain/structure.id';\nimport { structureGlobalId } from '../../../core/api/structure.global-id';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { SearchWarehouse } from '../api/search.warehouse';\n\n\n@Injectable()\nexport class SearchDomainWarehouse extends SearchWarehouse {\n\n\tconstructor(private readonly structureSearchingRepository: SearchingRepository,\n\t\t\t\tprivate readonly searchPhraseRepository: SearchPhraseRepository) {\n\t\tsuper();\n\t}\n\n\tonSearchEnabled(structureId: StructureId = structureGlobalId): Observable<boolean> {\n\t\treturn this.structureSearchingRepository.onSearchingEnabled(structureId);\n\t}\n\n\tonPhrase(structureId: StructureId = structureGlobalId): Observable<string> {\n\t\treturn this.searchPhraseRepository.onPhrase(structureId);\n\t}\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { ApiModule } from '@generic-ui/hermes';\n\nimport { SearchDomainModule } from '../domain/search.domain-module';\nimport { SearchCommandInvoker } from './search.command-invoker';\nimport { SearchWarehouse } from './search.warehouse';\nimport { SearchEventRepository } from './search.event-repository';\nimport { SearchPhraseRepository } from './phrase/search-phrase.repository';\nimport { SearchHighlightArchive } from './highlight/search-highlight.archive';\nimport { SearchPlaceholderArchive } from './placeholder/search-placeholder.archive';\nimport { SearchingRepository } from './enabled/searching.repository';\nimport { SearchDomainWarehouse } from '../domain-read/search.domain-warehouse';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tSearchDomainModule\n\t],\n\tproviders: [\n\t\tSearchCommandInvoker,\n\t\t{\n\t\t\tprovide: SearchWarehouse,\n\t\t\tuseClass: SearchDomainWarehouse\n\t\t},\n\t\tSearchEventRepository,\n\n\t\tSearchPhraseRepository,\n\t\tSearchHighlightArchive,\n\t\tSearchPlaceholderArchive,\n\t\tSearchingRepository\n\n\t],\n\tdeclarations: [],\n\texports: []\n})\nexport class SearchApiModule extends ApiModule {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n}\n","import { ChangeDetectorRef, ElementRef, OnInit } from '@angular/core';\n\nimport { GuiComponent } from './gui-component';\n\n\nexport abstract class StaticComponent extends GuiComponent implements OnInit {\n\n\tprotected constructor(elementRef: ElementRef,\n\t\t\t\t\t\t  private readonly changeDetectorRef: ChangeDetectorRef) {\n\t\tsuper(elementRef);\n\t}\n\n\tngOnInit(): void {\n\t\tthis.changeDetectorRef.detach();\n\t}\n\n}\n","import { ChangeDetectorRef, ElementRef } from '@angular/core';\n\nimport { StaticComponent } from './static-component';\n\nexport abstract class IconComponent extends StaticComponent {\n\n\tprotected constructor(elementRef: ElementRef,\n\t\t\t\t\t\t  changeDetectorRef: ChangeDetectorRef) {\n\t\tsuper(elementRef, changeDetectorRef);\n\t\tthis.addClassToHost('gui-icon');\n\t}\n\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, ViewEncapsulation } from '@angular/core';\nimport { IconComponent } from '../../../../common/cdk/component/icon-component';\n\n\n@Component({\n\tselector: 'div[gui-search-icon]',\n\ttemplate: `\n\t\t<svg class=\"gui-search-icon-svg\" xmlns=\"http://www.w3.org/2000/svg\" width=\"10.231\" height=\"10.601\" viewBox=\"0 0 10.231 10.601\">\n\t\t\t<line x2=\"1.77\" y2=\"1.77\" transform=\"translate(7.4 7.77)\" fill=\"none\" stroke-linecap=\"round\"\n\t\t\t\t  stroke-linejoin=\"round\" stroke-width=\"1.5\"/>\n\t\t\t<circle cx=\"4.02\" cy=\"4.02\" r=\"4.02\" transform=\"translate(0.5 0.5)\" stroke-width=\"1\"\n\t\t\t\t\tstroke-linecap=\"round\" stroke-linejoin=\"round\" fill=\"none\"/>\n\t\t</svg>\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class SearchIconComponent extends IconComponent {\n\n\tconstructor(elementRef: ElementRef,\n\t\t\t\tchangeDetectorRef: ChangeDetectorRef) {\n\t\tsuper(elementRef, changeDetectorRef);\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-search-icon';\n\t}\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, OnInit, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { debounceTime } from 'rxjs/operators';\nimport { Subscription } from 'rxjs';\n\nimport { SmartComponent } from '../../../common/cdk/component/smart-component';\nimport { StructureWarehouse } from '../../grid/core/api/structure.warehouse';\nimport { SearchPlaceholderArchive } from '../core/api/placeholder/search-placeholder.archive';\nimport { StructureId } from '../../core/domain/structure.id';\nimport { StructureVerticalFormationWarehouse } from '../../vertical-formation/core/api/structure-vertical-formation.warehouse';\nimport { SearchCommandInvoker } from '../core/api/search.command-invoker';\nimport { SearchWarehouse } from '../core/api/search.warehouse';\n\n\n@Component({\n\tselector: 'div[gui-search-bar]',\n\ttemplate: `\n\t\t<ng-container *ngIf=\"searchingEnabled\">\n\t\t\t<form #formRef\n\t\t\t\t  [formGroup]=\"searchForm\"\n\t\t\t\t  class=\"gui-flex gui-relative gui-w-full\">\n\n\t\t\t\t<div gui-search-icon></div>\n\n\t\t\t\t<input formControlName=\"searchPhrase\"\n\t\t\t\t\t   class=\"gui-border-0 gui-w-full gui-h-full gui-py-5 gui-pr-5 gui-pl-21\"\n\t\t\t\t\t   [placeholder]=\"placeholder\">\n\n\t\t\t\t<span *ngIf=\"searchForm.controls['searchPhrase'].value\"\n\t\t\t\t\t  class=\"gui-clear-search-icon\"\n\t\t\t\t\t  (click)=\"clear()\">\n\t\t\t\t</span>\n\t\t\t</form>\n\t\t</ng-container>\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None,\n\tstyleUrls: [\n\t\t'./style/searching.ngx.scss'\n\t]\n})\nexport class SearchComponent extends SmartComponent implements OnInit {\n\n\tprivate static readonly FORM_SEARCH_NAME = 'searchPhrase';\n\n\t@ViewChild('formRef', { static: false })\n\tformRef: ElementRef;\n\n\tsearchForm: FormGroup;\n\n\tplaceholder = 'Search';\n\n\tsearchingEnabled: boolean = false;\n\n\tsearchInputSubscription: Subscription;\n\n\tconstructor(private readonly formBuilder: FormBuilder,\n\t\t\t\tprivate readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\telementRef: ElementRef,\n\t\t\t\tprivate readonly structureId: StructureId,\n\t\t\t\tprivate readonly searchCommandDispatcher: SearchCommandInvoker,\n\t\t\t\tprivate readonly structureWarehouse: StructureWarehouse,\n\t\t\t\tprivate readonly searchWarehouse: SearchWarehouse,\n\t\t\t\tprivate readonly verticalFormationWarehouse: StructureVerticalFormationWarehouse,\n\t\t\t\tprivate readonly structureSearchPlaceholderArchive: SearchPlaceholderArchive) {\n\t\tsuper(changeDetectorRef, elementRef);\n\n\t\tconst controlsConfig = {};\n\t\tcontrolsConfig[SearchComponent.FORM_SEARCH_NAME] = '';\n\n\t\tthis.searchForm = this.formBuilder.group(controlsConfig);\n\t}\n\n\tngOnInit() {\n\t\tthis.observeChanges();\n\n\t\tthis.structureSearchPlaceholderArchive\n\t\t\t.onValue()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((placeholder: string) => {\n\t\t\t\tthis.placeholder = placeholder;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.searchWarehouse\n\t\t\t.onPhrase(this.structureId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((phrase: string) => {\n\n\t\t\t\tif (phrase === undefined) {\n\t\t\t\t\tphrase = null;\n\t\t\t\t}\n\n\t\t\t\tconst controlsConfig = {};\n\t\t\t\tcontrolsConfig[SearchComponent.FORM_SEARCH_NAME] = phrase;\n\n\t\t\t\tif (phrase !== this.searchForm.get([SearchComponent.FORM_SEARCH_NAME]).value) {\n\n\t\t\t\t\tthis.stopObserveChanges();\n\t\t\t\t\tthis.searchForm.setValue(controlsConfig);\n\t\t\t\t\tthis.observeChanges();\n\t\t\t\t}\n\n\t\t\t});\n\n\t\tthis.searchWarehouse\n\t\t\t.onSearchEnabled(this.structureId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((searchingEnabled: boolean) => {\n\t\t\t\tthis.searchingEnabled = searchingEnabled;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\t}\n\n\tclear(): void {\n\t\tthis.searchForm.reset();\n\t}\n\n\tprivate observeChanges(): void {\n\t\tthis.searchInputSubscription =\n\t\t\tthis.searchForm\n\t\t\t\t.controls[SearchComponent.FORM_SEARCH_NAME]\n\t\t\t\t.valueChanges\n\t\t\t\t.pipe(\n\t\t\t\t\tdebounceTime(200),\n\t\t\t\t\tthis.takeUntil()\n\t\t\t\t)\n\t\t\t\t.subscribe((phrase: string) => {\n\t\t\t\t\tthis.searchCommandDispatcher.search(phrase, this.structureId);\n\t\t\t\t});\n\t}\n\n\tprivate stopObserveChanges(): void {\n\t\tthis.searchInputSubscription.unsubscribe();\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-search-bar';\n\t}\n}\n","import { NgModule, Provider } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\n\nimport { FabricModule } from '@generic-ui/fabric';\nimport { FeatureModule } from '@generic-ui/hermes';\n\nimport { SearchApiModule } from '../core/api/search.api-module';\nimport { SearchIconComponent } from './icon/search-icon.component';\nimport { SearchComponent } from './search.component';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tFabricModule,\n\t\tSearchApiModule,\n\t\tReactiveFormsModule\n\t],\n\tdeclarations: [\n\t\tSearchIconComponent,\n\t\tSearchComponent\n\t],\n\texports: [\n\t\tSearchIconComponent,\n\t\tSearchComponent\n\t]\n})\nexport class SearchFeatureModule extends FeatureModule {\n\n\tstatic forComponent(): Array<Provider> {\n\t\treturn [];\n\t}\n\n\tconstructor(searchApiModule: SearchApiModule) {\n\t\tsuper();\n\t\tif (searchApiModule === null) {\n\t\t\tthrow new Error('SearchApiModule is required');\n\t\t}\n\t}\n\n}\n","import { FieldId } from '../../domain/field/field.id';\nimport { DataType } from '../../domain/field/data/data-type';\n\n\nexport class FieldReadModel {\n\n\tconstructor(private readonly id: FieldId,\n\t\t\t\tprivate readonly dataType: DataType,\n\t\t\t\tprivate readonly name: string\n\t) {\n\t}\n\n\tgetFieldId(): FieldId {\n\t\treturn this.id;\n\t}\n\n\tgetId(): string {\n\t\treturn this.id.getId();\n\t}\n\n\tgetDataType(): DataType {\n\t\treturn this.dataType;\n\t}\n\n\tgetName(): string {\n\t\treturn this.name;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { FieldReadModel } from './field.read-model';\nimport { Field } from '../../domain/field/field';\n\n\n@Injectable()\nexport class FieldUiConverter {\n\n\tconvert(fields: Array<Field>): Array<FieldReadModel> {\n\t\treturn fields.map((field: Field) => {\n\t\t\treturn this.convertOne(field);\n\t\t});\n\t}\n\n\tprivate convertOne(field: Field): FieldReadModel {\n\n\t\treturn new FieldReadModel(field.getId(), field.getDataType(), field.getName());\n\t}\n}\n","import { FieldId } from './field/field.id';\nimport { Field } from './field/field';\nimport { FieldConfig } from '../api/field.config';\nimport { FieldFactory } from './field/field.factory';\n\n\nexport class FieldCollection {\n\n\tprivate readonly fields = new Map<string, Field>();\n\n\tconstructor(private readonly fieldFactory: FieldFactory) {\n\t}\n\n\tgetField(fieldId: FieldId): Field {\n\n\t\tif (fieldId === null) {\n\t\t\treturn this.getAllFields()[0];\n\t\t}\n\n\t\treturn this.fields.get(fieldId.getId());\n\t}\n\n\tgetAllFieldIds(): Array<string> {\n\t\treturn Array.from(this.fields.keys());\n\t}\n\n\tgetAllFields(): Array<Field> {\n\t\treturn Array.from(this.fields.values());\n\t}\n\n\tgetFieldsAsMap(): Map<string, Field> {\n\t\treturn this.fields;\n\t}\n\n\tinitFields(fieldConfigs: Array<FieldConfig>): void {\n\n\t\tconst fields: Array<Field> = this.fieldFactory.create(fieldConfigs);\n\n\t\tthis.addFields(fields);\n\t}\n\n\taddFields(fields: Array<Field>): void {\n\t\tfor (const field of fields) {\n\t\t\tthis.addField(field);\n\t\t}\n\t}\n\n\tprivate addField(field: Field): void {\n\t\tthis.fields.set(field.getId().toString(), field);\n\t}\n}\n","import { DataFieldTypes } from './data/data-field-types';\nimport { DataType } from './data/data-type';\nimport { NumberDataField } from './data/type/number-data-field';\nimport { BooleanDataField } from './data/type/boolean-data-field';\nimport { StringDataField } from './data/type/string-data-field';\nimport { DateDataField } from './data/type/date-data-field';\nimport { FieldId } from './field.id';\n\nimport { OriginItemEntity } from '../../../../source/core/domain/origin/origin-item-entity';\nimport { SummariesType } from '../../../../summaries/core/domain/summaries.type';\n\n\nexport class Field {\n\n\tstatic of(id: FieldId, dataField: DataFieldTypes, name: string): Field {\n\t\treturn new Field(id, dataField, name);\n\t}\n\n\tprivate readonly id: FieldId;\n\n\tprivate readonly field: DataFieldTypes;\n\n\tprivate readonly name: string;\n\n\tconstructor(id: FieldId,\n\t\t\t\tfield: DataFieldTypes,\n\t\t\t\tname: string) {\n\t\tthis.id = id;\n\t\tthis.field = field;\n\t\tthis.name = name;\n\t}\n\n\tgetId(): FieldId {\n\t\treturn this.id;\n\t}\n\n\tgetKey(): string {\n\t\treturn this.getId().toString();\n\t}\n\n\tgetDataType(): DataType {\n\t\treturn this.field.getDataType();\n\t}\n\n\tgetName(): string {\n\t\treturn this.name;\n\t}\n\n\t/**\n\t * @deprecated\n\t */\n\tgetField(): DataFieldTypes {\n\t\treturn this.field;\n\t}\n\n\t/**\n\t * Probably should not be used.\n\t *\n\t * @deprecated\n\t */\n\tgetAccessor(): string {\n\t\treturn this.field.getAccessor();\n\t}\n\n\t/**\n\t * Probably should not be used.\n\t *\n\t * @deprecated\n\t */\n\tgetAccessorMethod(): (entity: OriginItemEntity) => any {\n\t\treturn this.field.getAccessorMethod();\n\t}\n\n\t/**\n\t * Probably should not be used.\n\t *\n\t * @deprecated\n\t */\n\tgetSearchAccessorMethod(): (entity: OriginItemEntity) => any {\n\t\treturn this.field.getSearchAccessorMethod();\n\t}\n\n\tgetValue(entity: OriginItemEntity): any {\n\t\treturn this.field.getValue(entity);\n\t}\n\n\tgetDisplayValue(value: any): any {\n\t\treturn (this.field as any).getDisplayValue(value);\n\t}\n\n\t/**\n\t * Probably should not be used.\n\t *\n\t * @deprecated\n\t */\n\tisSummaries(type: SummariesType): boolean {\n\t\treturn this.field.isSummaries(type);\n\t}\n\n\t/**\n\t * Probably should not be used.\n\t *\n\t * @deprecated\n\t */\n\tisSummariesEnabled(): boolean {\n\t\treturn this.field.isSummariesEnabled();\n\t}\n\n\tsearch(item: OriginItemEntity, searchPhrase: string): boolean {\n\t\treturn this.field.search(item, searchPhrase);\n\t}\n\n\tfilter(item: OriginItemEntity, filterPhrase: any): boolean {\n\n\t\tconst value = this.field.getValue(item);\n\n\t\tif (this.field.getDataType() === DataType.NUMBER) {\n\t\t\treturn (this.field as NumberDataField).filter(value, filterPhrase);\n\t\t} else if (this.field.getDataType() === DataType.BOOLEAN) {\n\t\t\treturn (this.field as BooleanDataField).filter(value, filterPhrase);\n\t\t} else if (this.field.getDataType() === DataType.STRING) {\n\t\t\treturn (this.field as StringDataField).filter(value, filterPhrase);\n\t\t} else if (this.field.getDataType() === DataType.DATE) {\n\t\t\treturn (this.field as DateDataField).filter(value, filterPhrase);\n\t\t} else {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\tsort(entityOne: OriginItemEntity, entityTwo: OriginItemEntity, direction: boolean): number {\n\n\t\tconst valueOne = direction ? this.field.getSortValue(entityOne) : this.field.getSortValue(entityTwo),\n\t\t\tvalueTwo = direction ? this.field.getSortValue(entityTwo) : this.field.getSortValue(entityOne);\n\n\t\tif (this.field.getDataType() === DataType.NUMBER) {\n\t\t\treturn (this.field as NumberDataField).sort(valueOne, valueTwo);\n\t\t} else if (this.field.getDataType() === DataType.BOOLEAN) {\n\t\t\treturn (this.field as BooleanDataField).sort(valueOne, valueTwo);\n\t\t} else if (this.field.getDataType() === DataType.STRING) {\n\t\t\treturn (this.field as StringDataField).sort(valueOne, valueTwo);\n\t\t} else if (this.field.getDataType() === DataType.DATE) {\n\t\t\treturn (this.field as DateDataField).sort(valueOne, valueTwo);\n\t\t} else {\n\t\t\treturn 0;\n\t\t}\n\t}\n\n}\n","import { DataType } from './data-type';\nimport { FieldMatcherType } from '../../matcher/field.matcher.type';\nimport { FieldMatchers } from '../../matcher/field.matchers';\n\nimport { OriginItemEntity } from '../../../../../source/core/domain/origin/origin-item-entity';\n\nexport abstract class BaseDataField {\n\n\t// TODO\n\tprivate readonly accessor: string | any; // (rawData: any) => any;\n\n\tprivate readonly dataType: DataType;\n\n\tprivate readonly accessorMethod: (entity: OriginItemEntity) => any;\n\n\tprivate readonly matchers: FieldMatchers;\n\n\tprotected constructor(accessor: any,\n\t\t\t\t\t\t  dataType: DataType,\n\t\t\t\t\t\t  matchers: FieldMatchers) {\n\t\tthis.accessor = accessor;\n\t\tthis.dataType = dataType;\n\t\tthis.matchers = matchers;\n\n\t\tif (typeof accessor === 'string') {\n\t\t\tthis.accessorMethod = (entity: OriginItemEntity) => entity.getData()[accessor];\n\t\t} else if (typeof accessor === 'function') {\n\t\t\tthis.accessorMethod = (entity: OriginItemEntity) => accessor(entity.getData());\n\t\t}\n\n\t}\n\n\tgetDataType(): DataType {\n\t\treturn this.dataType;\n\t}\n\n\tgetAccessor(): string {\n\t\treturn this.accessor;\n\t}\n\n\tgetAccessorMethod(): (entity: OriginItemEntity) => any {\n\t\treturn this.accessorMethod;\n\t}\n\n\tgetMatchers(): FieldMatchers {\n\t\treturn this.matchers;\n\t}\n\n\tgetSearchAccessorMethod(): (entity: OriginItemEntity) => any {\n\n\t\tlet matcher: (i: any) => any;\n\n\t\tthis.matchers\n\t\t\t.getSearchMatcher()\n\t\t\t.ifPresent((m: FieldMatcherType) => {\n\t\t\t\tmatcher = m;\n\t\t\t});\n\n\t\tif (matcher) {\n\t\t\treturn (entity) => {\n\t\t\t\tconst val = this.accessorMethod(entity);\n\t\t\t\treturn matcher(val);\n\t\t\t};\n\t\t} else {\n\t\t\treturn (entity) => {\n\t\t\t\treturn this.accessorMethod(entity);\n\t\t\t};\n\t\t}\n\t}\n\n\tgetValue(entity: OriginItemEntity): any {\n\t\treturn this.accessorMethod(entity);\n\t}\n\n\tgetSortValue(entity: OriginItemEntity): any {\n\t\tlet value = this.accessorMethod(entity);\n\n\t\tthis.matchers\n\t\t\t.getSortMatcher()\n\t\t\t.ifPresent((matcher: FieldMatcherType) => {\n\t\t\t\tvalue = matcher(value);\n\t\t\t});\n\n\t\treturn value;\n\t}\n\n\tgetSearchValue(entity: OriginItemEntity): any {\n\t\tlet value = this.accessorMethod(entity);\n\n\t\tthis.matchers\n\t\t\t.getSearchMatcher()\n\t\t\t.ifPresent((matcher: FieldMatcherType) => {\n\t\t\t\tvalue = matcher(value);\n\t\t\t});\n\n\t\treturn value;\n\t}\n\n\n}\n","import { DataType } from './data-type';\nimport { FieldMatchers } from '../../matcher/field.matchers';\nimport { BaseDataField } from './base-data-field';\n\nimport { OriginItemEntity } from '../../../../../source/core/domain/origin/origin-item-entity';\nimport { SummariesType } from '../../../../../summaries/core/domain/summaries.type';\nimport { ColumnSummariesConfig } from '../../../../../../composition/core/api/column/column-summaries.config';\n\n\nexport abstract class DataField<T> extends BaseDataField {\n\n\tprivate summariesEnabled: boolean = true;\n\n\tprivate summariesTypes: SummariesType;\n\n\tprivate readonly possibleSummaries: SummariesType;\n\n\tprotected constructor(accessor: any,\n\t\t\t\t\t\t  dataType: DataType,\n\t\t\t\t\t\t  matchers: FieldMatchers,\n\t\t\t\t\t\t  summariesConfig?: ColumnSummariesConfig) {\n\t\tsuper(accessor,\n\t\t\tdataType,\n\t\t\tmatchers\n\t\t);\n\n\t\tthis.possibleSummaries = this.assignPossibleSummaries();\n\n\t\tthis.assignSummaries(summariesConfig);\n\t}\n\n\tabstract assignDefaultSummaries(): SummariesType;\n\n\tabstract assignPossibleSummaries(): SummariesType;\n\n\tabstract search(item: OriginItemEntity, searchPhrase: string): boolean;\n\n\tabstract sort(one: T, two: T): number;\n\n\tabstract filter(value: T, filterPhrase: T): boolean;\n\n\tabstract equals(item: OriginItemEntity, value: T): boolean;\n\n\tabstract getDisplayValue(item: T): string;\n\n\tisSummaries(type: SummariesType): boolean {\n\n\t\tif (!this.isSummariesEnabled()) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn !!(this.summariesTypes & type);\n\t}\n\n\tisSummariesEnabled(): boolean {\n\t\treturn this.summariesEnabled;\n\t}\n\n\tsetSummariesEnabled(enabled: boolean): void {\n\t\tthis.summariesEnabled = enabled;\n\t}\n\n\tprivate assignSummaries(summariesConfig: ColumnSummariesConfig): void {\n\n\t\tif (!!summariesConfig && Object.keys(summariesConfig).length !== 0) {\n\n\t\t\tif (summariesConfig.enabled) {\n\t\t\t\tthis.summariesEnabled = !!summariesConfig.enabled;\n\t\t\t}\n\n\t\t\tif (summariesConfig.summariesTypes) {\n\n\t\t\t\tthis.summariesTypes = 0;\n\n\t\t\t\tsummariesConfig.summariesTypes.forEach((t: any) => {\n\t\t\t\t\tthis.summariesTypes |= t;\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.summariesTypes = this.assignDefaultSummaries();\n\t\t\t}\n\t\t} else {\n\t\t\tthis.summariesTypes = this.assignDefaultSummaries();\n\t\t}\n\t}\n}\n","export enum SummariesType {\n\tCOUNT = 1 << 10,\n\tDISTINCT = 1 << 0,\n\tSUM = 1 << 1,\n\tAVERAGE = 1 << 2,\n\tMIN = 1 << 3,\n\tMAX = 1 << 4,\n\tMEDIAN = 1 << 5,\n\tTRUTHY = 1 << 6, // doesn't work\n\tFALSY = 1 << 7, // doesn't work\n\tEARLIEST = 1 << 8, // doesn't work\n\tLATEST = 1 << 9, // doesn't work\n}\n\n// count\n// count distinct\n// percentile\n// std.dev\n// std.dev Pop\n// variance\n// variance pop\n","import { DataField } from '../data-field';\nimport { ColumnSummariesConfig } from '../../../../../../../composition/core/api/column/column-summaries.config';\nimport { DataType } from '../data-type';\nimport { SummariesType } from '../../../../../../summaries/core/domain/summaries.type';\nimport { FieldMatchers } from '../../../matcher/field.matchers';\nimport { OriginItemEntity } from '../../../../../../source/core/domain/origin/origin-item-entity';\n\n\nexport class UnknownDataField extends DataField<any> {\n\n\tconstructor(accessor: any,\n\t\t\t\tmatchers: FieldMatchers,\n\t\t\t\tsummariesConfig?: ColumnSummariesConfig) {\n\t\tsuper(\n\t\t\taccessor,\n\t\t\tDataType.UNKNOWN,\n\t\t\tmatchers,\n\t\t\tsummariesConfig);\n\t}\n\n\tassignDefaultSummaries(): SummariesType {\n\t\treturn 0;\n\t\t// return SummariesType.COUNT |\n\t\t// \tSummariesType.DISTINCT;\n\t}\n\n\tassignPossibleSummaries(): SummariesType {\n\t\treturn SummariesType.COUNT |\n\t\t\tSummariesType.DISTINCT;\n\t}\n\n\tsearch(item: OriginItemEntity, searchPhrase: string): boolean {\n\t\treturn false;\n\t}\n\n\tsort(one: any, two: any): number {\n\t\treturn 0;\n\t}\n\n\tfilter(value: any, filterPhrase: any): boolean {\n\t\treturn false;\n\t}\n\n\tequals(item: OriginItemEntity, value: any): boolean {\n\t\treturn false;\n\t}\n\n\tgetDisplayValue(item: any): string {\n\t\treturn item;\n\t}\n\n}\n","import { DataField } from '../data-field';\nimport { ColumnSummariesConfig } from '../../../../../../../composition/core/api/column/column-summaries.config';\nimport { DataType } from '../data-type';\nimport { SummariesType } from '../../../../../../summaries/core/domain/summaries.type';\nimport { FieldMatchers } from '../../../matcher/field.matchers';\nimport { OriginItemEntity } from '../../../../../../source/core/domain/origin/origin-item-entity';\n\n\nexport class NumberDataField extends DataField<number> {\n\n\tconstructor(accessor: any,\n\t\t\t\tmatchers: FieldMatchers,\n\t\t\t\tsummariesConfig?: ColumnSummariesConfig) {\n\t\tsuper(\n\t\t\taccessor,\n\t\t\tDataType.NUMBER,\n\t\t\tmatchers,\n\t\t\tsummariesConfig);\n\t}\n\n\tgetField(): NumberDataField {\n\t\treturn this;\n\t}\n\n\tassignDefaultSummaries(): SummariesType {\n\t\treturn 0;\n\t\t// return SummariesType.COUNT |\n\t\t// \tSummariesType.DISTINCT |\n\t\t// \tSummariesType.SUM |\n\t\t// \tSummariesType.MIN |\n\t\t// \tSummariesType.MAX |\n\t\t// \tSummariesType.AVERAGE |\n\t\t// \tSummariesType.MEDIAN;\n\t}\n\n\tassignPossibleSummaries(): SummariesType {\n\t\treturn SummariesType.COUNT |\n\t\t\tSummariesType.DISTINCT |\n\t\t\tSummariesType.SUM |\n\t\t\tSummariesType.MIN |\n\t\t\tSummariesType.MAX |\n\t\t\tSummariesType.AVERAGE |\n\t\t\tSummariesType.MEDIAN;\n\t}\n\n\tsearch(item: OriginItemEntity, searchPhrase: string): boolean {\n\t\treturn false;\n\t}\n\n\tsort(numOne: number, numTwo: number): number {\n\n\t\tconst sureNumOne = +numOne,\n\t\t\tsureNumTwo = +numTwo;\n\n\t\treturn sureNumOne - sureNumTwo;\n\t}\n\n\tfilter(value: number, filterPhrase: number): boolean {\n\t\treturn value > filterPhrase;\n\t}\n\n\tequals(item: OriginItemEntity, value: number): boolean {\n\t\treturn this.getValue(item) === value;\n\t}\n\n\tgetDisplayValue(item: number): string {\n\t\treturn `${item}`;\n\t}\n\n}\n","import { DataField } from '../data-field';\nimport { DataType } from '../data-type';\nimport { FieldMatchers } from '../../../matcher/field.matchers';\n\nimport { SummariesType } from '../../../../../../summaries/core/domain/summaries.type';\nimport { ColumnSummariesConfig } from '../../../../../../../composition/core/api/column/column-summaries.config';\nimport { OriginItemEntity } from '../../../../../../source/core/domain/origin/origin-item-entity';\n\n\nexport class StringDataField extends DataField<string> {\n\n\tconstructor(accessor: any,\n\t\t\t\tmatchers: FieldMatchers,\n\t\t\t\tsummariesConfig?: ColumnSummariesConfig) {\n\t\tsuper(\n\t\t\taccessor,\n\t\t\tDataType.STRING,\n\t\t\tmatchers,\n\t\t\tsummariesConfig);\n\t}\n\n\tassignDefaultSummaries(): SummariesType {\n\t\treturn 0;\n\t\t// return SummariesType.COUNT |\n\t\t// \tSummariesType.DISTINCT;\n\t}\n\n\tassignPossibleSummaries(): SummariesType {\n\t\treturn SummariesType.COUNT |\n\t\t\tSummariesType.DISTINCT;\n\t}\n\n\tsearch(item: OriginItemEntity, searchPhrase: string): boolean {\n\t\tconst value = this.getSearchValue(item);\n\n\t\tif (typeof value === 'string') {\n\t\t\treturn value.toLowerCase().indexOf(searchPhrase.toLowerCase()) > -1;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tsort(strOne: string, strTwo: string): number {\n\t\tconst sureStrOne = '' + strOne,\n\t\t\tsureStrTwo = '' + strTwo;\n\n\t\treturn sureStrOne.localeCompare(sureStrTwo);\n\t}\n\n\tfilter(value: string, filterPhrase: string): boolean {\n\t\treturn value.toLowerCase().indexOf(filterPhrase.toLowerCase()) > -1;\n\t}\n\n\tequals(item: OriginItemEntity, value: string): boolean {\n\t\treturn this.getValue(item) === value;\n\t}\n\n\tgetDisplayValue(item: string): string {\n\t\treturn item;\n\t}\n\n}\n","import { DataField } from '../data-field';\nimport { ColumnSummariesConfig } from '../../../../../../../composition/core/api/column/column-summaries.config';\nimport { DataType } from '../data-type';\nimport { SummariesType } from '../../../../../../summaries/core/domain/summaries.type';\nimport { FieldMatchers } from '../../../matcher/field.matchers';\nimport { OriginItemEntity } from '../../../../../../source/core/domain/origin/origin-item-entity';\n\n\nexport class BooleanDataField extends DataField<boolean> {\n\n\tconstructor(accessor: any,\n\t\t\t\tmatchers: FieldMatchers,\n\t\t\t\tsummariesConfig?: ColumnSummariesConfig) {\n\t\tsuper(\n\t\t\taccessor,\n\t\t\tDataType.BOOLEAN,\n\t\t\tmatchers,\n\t\t\tsummariesConfig);\n\t}\n\n\tassignDefaultSummaries(): SummariesType {\n\t\treturn 0;\n\t\t// return SummariesType.COUNT |\n\t\t// \tSummariesType.DISTINCT |\n\t\t// \tSummariesType.TRUTHY |\n\t\t// \tSummariesType.FALSY;\n\t}\n\n\tassignPossibleSummaries(): SummariesType {\n\t\treturn SummariesType.COUNT |\n\t\t\tSummariesType.DISTINCT |\n\t\t\tSummariesType.TRUTHY |\n\t\t\tSummariesType.FALSY;\n\t}\n\n\tsearch(item: OriginItemEntity, searchPhrase: string): boolean {\n\t\treturn false;\n\t}\n\n\tsort(booleanOne: boolean, booleanTwo: boolean): number {\n\n\t\tconst sureBoolOne = !!booleanOne,\n\t\t\tsureBoolTwo = !!booleanTwo;\n\n\t\treturn (sureBoolOne === sureBoolTwo) ? 0 : sureBoolTwo ? -1 : 1;\n\t}\n\n\tfilter(value: boolean, filterPhrase: boolean): boolean {\n\t\treturn value === filterPhrase;\n\t}\n\n\tequals(item: OriginItemEntity, value: boolean): boolean {\n\t\treturn this.getValue(item) === value;\n\t}\n\n\tgetDisplayValue(item: boolean): string {\n\t\treturn item ? 'True' : 'False';\n\t}\n\n}\n","import { DataField } from '../data-field';\nimport { ColumnSummariesConfig } from '../../../../../../../composition/core/api/column/column-summaries.config';\nimport { DataType } from '../data-type';\nimport { SummariesType } from '../../../../../../summaries/core/domain/summaries.type';\nimport { FieldMatchers } from '../../../matcher/field.matchers';\nimport { OriginItemEntity } from '../../../../../../source/core/domain/origin/origin-item-entity';\n\n\nexport class DateDataField extends DataField<Date> {\n\n\tconstructor(accessor: any,\n\t\t\t\tmatchers: FieldMatchers,\n\t\t\t\tsummariesConfig?: ColumnSummariesConfig) {\n\t\tsuper(\n\t\t\taccessor,\n\t\t\tDataType.DATE,\n\t\t\tmatchers,\n\t\t\tsummariesConfig);\n\t}\n\n\tassignDefaultSummaries(): SummariesType {\n\t\treturn 0;\n\t\t// return SummariesType.COUNT |\n\t\t// \tSummariesType.DISTINCT;\n\t}\n\n\tassignPossibleSummaries(): SummariesType {\n\t\treturn SummariesType.COUNT |\n\t\t\tSummariesType.DISTINCT;\n\t}\n\n\tsearch(item: OriginItemEntity, searchPhrase: string): boolean {\n\t\treturn false;\n\t}\n\n\tsort(dateOne: Date, dateTwo: Date): number {\n\t\treturn dateOne as any - (dateTwo as any);\n\t}\n\n\tfilter(value: Date, filterPhrase: Date): boolean {\n\t\treturn false;\n\t}\n\n\tequals(item: OriginItemEntity, value: Date): boolean {\n\t\treturn this.getValue(item).getTime() === value.getTime();\n\t}\n\n\tgetDisplayValue(item: Date): string {\n\t\treturn item.toDateString();\n\t}\n\n}\n","import { Optional } from '@generic-ui/hermes';\n\nimport { FieldMatcherType } from './field.matcher.type';\n\nexport class FieldMatchers {\n\n\tconstructor(private readonly matcher?: FieldMatcherType,\n\t\t\t\tprivate readonly sortMatcher?: FieldMatcherType,\n\t\t\t\tprivate readonly searchMatcher?: FieldMatcherType) { // TODO\n\t}\n\n\tgetMatcher(): Optional<FieldMatcherType> {\n\t\treturn Optional.of(this.matcher);\n\t}\n\n\tgetSortMatcher(): Optional<FieldMatcherType> {\n\n\t\tlet matcher;\n\n\t\tif (this.sortMatcher) {\n\t\t\tmatcher = this.sortMatcher;\n\t\t}\n\n\t\tif (this.matcher) {\n\t\t\tmatcher = this.matcher;\n\t\t}\n\n\t\treturn Optional.of(matcher);\n\t}\n\n\tgetSearchMatcher(): Optional<FieldMatcherType> {\n\n\t\tlet matcher;\n\n\t\tif (this.searchMatcher) {\n\t\t\tmatcher = this.searchMatcher;\n\t\t}\n\n\t\tif (this.matcher) {\n\t\t\tmatcher = this.matcher;\n\t\t}\n\n\t\treturn Optional.of(matcher);\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { DataType } from './data-type';\nimport { UnknownDataField } from './type/unknown-data-field';\nimport { NumberDataField } from './type/number-data-field';\nimport { StringDataField } from './type/string-data-field';\nimport { BooleanDataField } from './type/boolean-data-field';\nimport { DateDataField } from './type/date-data-field';\nimport { FieldMatchers } from '../../matcher/field.matchers';\nimport { DataFieldTypes } from './data-field-types';\nimport { FieldConfig } from '../../../api/field.config';\n\n\n@Injectable()\nexport class DataFieldFactory {\n\n\tcreate(fieldConfig: FieldConfig): DataFieldTypes {\n\n\t\tconst fieldMatchers = this.createMatchers(fieldConfig);\n\n\t\tlet columnType = fieldConfig.type;\n\n\t\tif (columnType === undefined) {\n\t\t\tcolumnType = DataType.STRING;\n\t\t}\n\n\t\tif (columnType === DataType.UNKNOWN) {\n\t\t\treturn new UnknownDataField(fieldConfig.field as string, fieldMatchers, fieldConfig.summaries);\n\t\t}\n\n\t\tif (columnType === DataType.NUMBER) {\n\t\t\treturn new NumberDataField(fieldConfig.field as string, fieldMatchers, fieldConfig.summaries);\n\t\t}\n\n\t\tif (columnType === DataType.STRING) {\n\t\t\treturn new StringDataField(fieldConfig.field as string, fieldMatchers);\n\t\t}\n\n\t\tif (columnType === DataType.BOOLEAN) {\n\t\t\treturn new BooleanDataField(fieldConfig.field as string, fieldMatchers);\n\t\t}\n\n\t\tif (columnType === DataType.DATE) {\n\t\t\treturn new DateDataField(fieldConfig.field as string, fieldMatchers);\n\t\t}\n\n\t}\n\n\tprivate createMatchers(fieldConfig: FieldConfig): FieldMatchers {\n\n\t\tconst matcher = fieldConfig.matcher;\n\t\tlet sortMatcher;\n\n\t\tif (fieldConfig.sorting) {\n\t\t\tsortMatcher = fieldConfig.sorting.matcher;\n\t\t}\n\n\t\treturn new FieldMatchers(matcher, sortMatcher);\n\t}\n\n}\n","import { RandomStringGenerator } from '@generic-ui/hermes';\n\nimport { FieldId } from './field.id';\n\nexport class FieldIdGenerator {\n\n\tgenerateId(): FieldId {\n\n\t\tconst id = RandomStringGenerator.generate();\n\t\treturn new FieldId(id);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { FieldConfig } from '../../api/field.config';\nimport { Field } from './field';\nimport { DataFieldFactory } from './data/data-field.factory';\nimport { FieldIdGenerator } from './field-id.generator';\n\n\n@Injectable()\nexport class FieldFactory {\n\n\tconstructor(private readonly fieldIdGenerator: FieldIdGenerator,\n\t\t\t\tprivate readonly dataFieldFactory: DataFieldFactory) {\n\t}\n\n\tcreate(configs: Array<FieldConfig>): Array<Field> {\n\n\t\tif (!configs) {\n\t\t\treturn [];\n\t\t}\n\n\t\treturn configs.map((fieldConfig: FieldConfig, index: number) => {\n\n\t\t\tconst fieldId = this.fieldIdGenerator.generateId(),\n\t\t\t\tdataField = this.dataFieldFactory.create(fieldConfig);\n\n\t\t\treturn new Field(fieldId, dataField, this.getFieldName(fieldConfig, index));\n\t\t});\n\t}\n\n\tprivate getFieldName(fieldConfig: FieldConfig, index: number): string {\n\n\t\tif (typeof fieldConfig.field === 'string') {\n\t\t\treturn fieldConfig.field.toLowerCase();\n\t\t} else {\n\t\t\treturn 'Field #' + index;\n\t\t}\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { FieldCollection } from './field-collection';\nimport { FieldFactory } from './field/field.factory';\n\n\n@Injectable()\nexport class FieldCollectionFactory {\n\n\tconstructor(private readonly fieldFactory: FieldFactory) {\n\t}\n\n\tcreate(): FieldCollection {\n\t\treturn new FieldCollection(this.fieldFactory);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { InitFieldsCommand } from './init-fields.command';\nimport { StructureAggregate } from '../../../../core/domain/structure.aggregate';\nimport { FieldConfig } from '../../api/field.config';\n\n\n@Injectable()\nexport class InitFieldsCommandHandler implements CommandHandler<StructureAggregate, InitFieldsCommand> {\n\n\tconstructor(private domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<InitFieldsCommand> {\n\t\treturn InitFieldsCommand;\n\t}\n\n\thandle(structure: StructureAggregate, command: InitFieldsCommand): void {\n\n\t\tconst fieldConfigs: Array<FieldConfig> = command.getFieldConfigs();\n\n\t\tstructure.createFields(fieldConfigs);\n\t}\n\n\tpublish(aggregate: StructureAggregate, command: InitFieldsCommand): void {\n\t\tthis.domainEventPublisher.publishFromAggregate(aggregate);\n\t}\n\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventHandler, DomainEventType } from '@generic-ui/hermes';\n\nimport { FieldReadModelRepository } from './field.read-model-repository';\nimport { FieldUiConverter } from './field.ui-converter';\nimport { FieldsInitedEvent } from '../../domain/init/fields-inited.event';\nimport { StructureId } from '../../../../core/domain/structure.id';\n\n\n@Injectable()\nexport class FieldsInitedEventHandler implements DomainEventHandler<StructureId, FieldsInitedEvent> {\n\n\tconstructor(private fieldReadModelRepository: FieldReadModelRepository,\n\t\t\t\tprivate fieldUiConverter: FieldUiConverter) {\n\t}\n\n\tforEvent(): DomainEventType<FieldsInitedEvent> {\n\t\treturn FieldsInitedEvent;\n\t}\n\n\thandle(event: FieldsInitedEvent): void {\n\n\t\tif (event.ofMessageType('FieldsInitedEvent')) {\n\n\t\t\tconst fields = this.fieldUiConverter.convert(event.getFields());\n\n\t\t\tthis.fieldReadModelRepository.next(event.getAggregateId(), fields);\n\t\t}\n\n\t}\n\n}\n","import { NgModule, Provider } from '@angular/core';\n\nimport { DomainModule, HermesModule } from '@generic-ui/hermes';\n\nimport { FieldCollectionFactory } from './field-collection.factory';\nimport { DataFieldFactory } from './field/data/data-field.factory';\nimport { FieldIdGenerator } from './field/field-id.generator';\nimport { InitFieldsCommandHandler } from './init/init-fields.command-handler';\nimport { FieldFactory } from './field/field.factory';\nimport { structureKey } from '../../../core/api/structre.key';\nimport { FieldsInitedEventHandler } from '../api/read/fields-inited.event-handler';\n\n\n@NgModule({\n\tproviders: [\n\t\tFieldCollectionFactory,\n\t\tFieldFactory,\n\t\tFieldIdGenerator,\n\t\tDataFieldFactory\n\t]\n})\nexport class FieldDomainModule extends DomainModule {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tstatic commandHandlers(): Array<Provider> {\n\t\treturn [\n\t\t\t...HermesModule.registerCommandHandler(InitFieldsCommandHandler, structureKey)\n\t\t];\n\t}\n\n\tstatic domainEventHandlers(): Array<Provider> {\n\t\treturn [\n\t\t\t...HermesModule.registerDomainEventHandler(FieldsInitedEventHandler)\n\t\t];\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandDispatcher, CommandInvoker, DomainEventBus } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../core/domain/structure.id';\nimport { structureGlobalId } from '../../../core/api/structure.global-id';\nimport { InitFieldsCommand } from '../domain/init/init-fields.command';\nimport { FieldConfig } from './field.config';\n\n\n@Injectable()\nexport class FieldCommandInvoker implements CommandInvoker {\n\n\tconstructor(private readonly domainEventBus: DomainEventBus,\n\t\t\t\tprivate readonly commandDispatcher: CommandDispatcher) {\n\t}\n\n\tinitFields(fieldConfigs: Array<FieldConfig>, structureId: StructureId = structureGlobalId): void {\n\t\tthis.commandDispatcher.dispatch(new InitFieldsCommand(structureId, fieldConfigs));\n\t}\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { ApiModule } from '@generic-ui/hermes';\n\nimport { FieldReadModelRepository } from './read/field.read-model-repository';\nimport { FieldUiConverter } from './read/field.ui-converter';\nimport { FieldDomainModule } from '../domain/field.domain-module';\nimport { FieldCommandInvoker } from './field.command-invoker';\nimport { FieldWarehouse } from './field.warehouse';\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tFieldDomainModule\n\t],\n\tproviders: [\n\t\tFieldCommandInvoker,\n\n\t\tFieldReadModelRepository,\n\t\tFieldUiConverter,\n\t\tFieldWarehouse\n\t]\n})\nexport class FieldApiModule extends ApiModule {\n}\n","import { NgModule, Optional, Provider } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { FeatureModule } from '@generic-ui/hermes';\nimport { FieldApiModule } from '../core/api/field.api-module';\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tFieldApiModule\n\t],\n\tdeclarations: [],\n\texports: []\n})\nexport class FieldFeatureModule extends FeatureModule {\n\n\tstatic forComponent(): Array<Provider> {\n\t\treturn [];\n\t}\n\n\tconstructor(@Optional() fieldApiModule: FieldApiModule) {\n\t\tsuper();\n\t\tif (fieldApiModule === null) {\n\t\t\tthrow new Error('FieldApiModule is required.');\n\t\t}\n\t}\n\n}\n","import { ColumnFieldId } from './column-field.id';\nimport { ColumnFieldAccessor } from './column-field-accessor';\n\nimport { DataType } from '../../../../../structure/field/core/domain/field/data/data-type';\nimport { OriginItemEntity } from '../../../../../structure/source/core/domain/origin/origin-item-entity';\n\n\nexport class ColumnField {\n\n\tprivate readonly fieldId: ColumnFieldId;\n\n\tprivate readonly accessor: ColumnFieldAccessor;\n\n\tprivate readonly searchAccessor: ColumnFieldAccessor;\n\n\tprivate readonly dataType: DataType;\n\n\tconstructor(fieldId: ColumnFieldId,\n\t\t\t\taccessor: ColumnFieldAccessor,\n\t\t\t\tdataType: DataType,\n\t\t\t\tsearchAccessor: ColumnFieldAccessor) {\n\t\tthis.fieldId = fieldId;\n\t\tthis.accessor = accessor;\n\t\tthis.dataType = dataType;\n\t\tthis.searchAccessor = searchAccessor;\n\t}\n\n\tgetId(): ColumnFieldId {\n\t\treturn this.fieldId;\n\t}\n\n\tgetValue(entity: OriginItemEntity): any {\n\t\treturn this.accessor(entity);\n\t}\n\n\tgetAccessor(): ColumnFieldAccessor {\n\t\treturn this.accessor;\n\t}\n\n\tgetSearchAccessor(): ColumnFieldAccessor {\n\t\treturn this.searchAccessor;\n\t}\n\n\tgetDataType(): DataType {\n\t\treturn this.dataType;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { ColumnFieldId } from './column-field.id';\nimport { ColumnFieldAccessor } from './column-field-accessor';\nimport { ColumnField } from './column-field';\n\nimport { DataType } from '../../../../../structure/field/core/domain/field/data/data-type';\n\n\n@Injectable()\nexport class ColumnFieldFactory {\n\n\tcreate(columnFieldId: ColumnFieldId, accessor: ColumnFieldAccessor, dataType: DataType, searchAccessor: ColumnFieldAccessor): ColumnField {\n\t\treturn new ColumnField(columnFieldId, accessor, dataType, searchAccessor);\n\t}\n\n}\n","import { InjectionToken } from '@angular/core';\n\nexport const filterContainerToken = new InjectionToken('Filter container token');\n","import { GenericBuilder } from '../../../../common/cdk/generic-builder';\n\nexport enum RowSelectionType {\n\tROW,\n\tCHECKBOX\n}\n\nexport enum RowSelectionMode {\n\tSINGLE,\n\tMULTIPLE\n}\n\nexport class RowSelection {\n\n\tprivate readonly enabled: boolean;\n\n\tprivate readonly type: RowSelectionType;\n\n\tprivate readonly mode: RowSelectionMode;\n\n\tprivate constructor(config: {\n\t\tenabled?: boolean,\n\t\tmode?: RowSelectionMode,\n\t\ttype?: RowSelectionType\n\t}) {\n\t\tif (config.enabled !== undefined) {\n\t\t\tthis.enabled = config.enabled;\n\t\t}\n\n\t\tif (config.mode !== undefined) {\n\t\t\tthis.mode = config.mode;\n\t\t}\n\n\t\tif (config.type !== undefined) {\n\t\t\tthis.type = config.type;\n\t\t}\n\t}\n\n\tisModeDefined(): boolean {\n\t\treturn this.mode !== undefined;\n\t}\n\n\tisTypeDefined(): boolean {\n\t\treturn this.type !== undefined;\n\t}\n\n\tisEnabledDefined(): boolean {\n\t\treturn this.enabled !== undefined;\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n\tgetMode(): RowSelectionMode {\n\t\treturn this.mode;\n\t}\n\n\tgetType(): RowSelectionType {\n\t\treturn this.type;\n\t}\n\n\tstatic Builder = class RowSelectionBuilder extends GenericBuilder<RowSelection> {\n\n\t\tenabled: boolean;\n\n\t\ttype: RowSelectionType;\n\n\t\tmode: RowSelectionMode;\n\n\t\tconstructor() {\n\t\t\tsuper();\n\t\t}\n\n\t\tbuildObject(): RowSelection {\n\t\t\treturn new RowSelection({\n\t\t\t\tenabled: this.enabled,\n\t\t\t\ttype: this.type,\n\t\t\t\tmode: this.mode\n\t\t\t});\n\t\t}\n\n\t\twithEnabled(enabled: boolean): RowSelectionBuilder {\n\t\t\tthis.enabled = enabled;\n\t\t\treturn this;\n\t\t}\n\n\t\twithType(type: RowSelectionType): RowSelectionBuilder {\n\t\t\tthis.type = type;\n\t\t\treturn this;\n\t\t}\n\n\t\twithMode(mode: RowSelectionMode): RowSelectionBuilder {\n\t\t\tthis.mode = mode;\n\t\t\treturn this;\n\t\t}\n\n\t};\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { Archive } from '@generic-ui/hermes';\n\nimport { RowSelectionType } from '../../row-selection';\n\n@Injectable()\nexport class RowSelectionTypeArchive extends Archive<RowSelectionType> {\n\n\tstatic readonly DEFAULT_ROW_SELECTION_TYPE = RowSelectionType.ROW;\n\n\tconstructor() {\n\t\tsuper(RowSelectionTypeArchive.DEFAULT_ROW_SELECTION_TYPE);\n\t}\n}\n","import { StructureId } from '../../../../core/domain/structure.id';\nimport { StructureDomainEvent } from '../../../../core/domain/structure.domain-event';\n\nexport class SetSourceLoadingEvent extends StructureDomainEvent {\n\n\tconstructor(aggregateId: StructureId) {\n\t\tsuper(aggregateId, null, 'SetSourceLoadingEvent');\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { SetSourceLoadingEvent } from './set-source-loading.event';\nimport { SourceSetLoadingCommand } from './source-set-loading.command';\nimport { StructureAggregate } from '../../../../core/domain/structure.aggregate';\n\n\n@Injectable()\nexport class SourceSetLoadingCommandHandler implements CommandHandler<StructureAggregate, SourceSetLoadingCommand> {\n\n\tconstructor(private domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SourceSetLoadingCommand> {\n\t\treturn SourceSetLoadingCommand;\n\t}\n\n\thandle(aggregate: StructureAggregate, command: SourceSetLoadingCommand): void {\n\n\t\tconst enabled = command.isEnabled(),\n\t\t\tsource = aggregate.getSource();\n\n\t\tsource.setLoading(enabled);\n\t}\n\n\tpublish(aggregate: StructureAggregate, command: SourceSetLoadingCommand): void {\n\t\tthis.domainEventPublisher.publish(new SetSourceLoadingEvent(command.getAggregateId()));\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType } from '@generic-ui/hermes';\nimport { SourceDomainEventPublisher } from '../../source.domain-event.publisher';\nimport { StructureAggregate } from '../../../../../core/domain/structure.aggregate';\n\nimport { SetOriginCommand } from './set-origin.command';\n\n\n@Injectable()\nexport class SetOriginCommandHandler implements CommandHandler<StructureAggregate, SetOriginCommand> {\n\n\tconstructor(private structureSourceDomainEventPublisher: SourceDomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SetOriginCommand> {\n\t\treturn SetOriginCommand;\n\t}\n\n\thandle(structure: StructureAggregate, command: SetOriginCommand): void {\n\n\t\tconst items = command.getItems();\n\n\t\tstructure.setOrigin(items);\n\t}\n\n\tpublish(aggregate: StructureAggregate, command: SetOriginCommand): void {\n\n\t\tconst aggregateEvents = aggregate.getEvents();\n\n\t\tthis.structureSourceDomainEventPublisher.publish(aggregateEvents);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType } from '@generic-ui/hermes';\n\nimport { StructureEditSourceItemCommand } from './structure.edit-source-item.command';\nimport { SourceDomainEventPublisher } from '../../source.domain-event.publisher';\nimport { StructureAggregate } from '../../../../../core/domain/structure.aggregate';\n\n\n@Injectable()\nexport class StructureEditSourceItemCommandHandler implements CommandHandler<StructureAggregate, StructureEditSourceItemCommand> {\n\n\tconstructor(private structureSourceDomainEventPublisher: SourceDomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<StructureEditSourceItemCommand> {\n\t\treturn StructureEditSourceItemCommand;\n\t}\n\n\thandle(structure: StructureAggregate, command: StructureEditSourceItemCommand): void {\n\n\t\tconst params = command.getParams();\n\n\t\tstructure.editItem(params);\n\t}\n\n\tpublish(aggregate: StructureAggregate, command: StructureEditSourceItemCommand): void {\n\n\t\tconst aggregateEvents = aggregate.getEvents();\n\n\t\tthis.structureSourceDomainEventPublisher.publish(aggregateEvents);\n\t}\n\n}\n","import { Entity } from '@generic-ui/hermes';\n\nimport { OriginId } from './origin-id';\n\n\nexport class OriginItemEntity extends Entity<OriginId> {\n\n\trawData: any; // tODO\n\n\tprivate version: number;\n\n\tprivate position: number;\n\n\tconstructor(id: OriginId,\n\t\t\t\trawData: any,\n\t\t\t\tposition: number,\n\t\t\t\tversion: number = 0) {\n\t\tsuper(id);\n\t\tthis.rawData = rawData;\n\t\tthis.position = position;\n\t\tthis.version = version;\n\t}\n\n\tgetData(): any {\n\t\treturn this.rawData;\n\t}\n\n\tgetVersion(): number {\n\t\treturn this.version;\n\t}\n\n\tgetPosition(): number {\n\t\treturn this.position;\n\t}\n\n\tbumpVersion(): void {\n\t\tthis.version += 1;\n\t}\n\n\tsetPosition(position: number): void {\n\t\tthis.position = position;\n\t}\n\n\tclone(): OriginItemEntity {\n\n\t\tconst rawData = { ...this.rawData };\n\n\t\treturn new OriginItemEntity(this.getId(), rawData, this.version);\n\t}\n\n}\n","import { AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nimport { OriginItemEntity } from '../origin-item-entity';\nimport { StructureId } from '../../../../../core/domain/structure.id';\nimport { StructureSourceItemEditedEvent } from './structure.source-item-edited.event';\nimport { StructureAggregateEvent } from '../../../../../core/domain/structure.aggregate-event';\n\n\nexport class StructureSourceItemEditedAggregateEvent extends StructureAggregateEvent {\n\n\tconstructor(aggregateId: AggregateId,\n\t\t\t\tprivate readonly beforeItem: OriginItemEntity,\n\t\t\t\tprivate readonly afterItem: OriginItemEntity) {\n\t\tsuper(aggregateId, 'StructureSourceItemEditedAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<StructureId> {\n\t\treturn new StructureSourceItemEditedEvent(this.getAggregateId(), this.beforeItem, this.afterItem);\n\t}\n\n\tgetBeforeItem(): OriginItemEntity {\n\t\treturn this.beforeItem;\n\t}\n\n\tgetAfterItem(): OriginItemEntity {\n\t\treturn this.afterItem;\n\t}\n}\n","import { AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nimport { OriginItemEntity } from './origin-item-entity';\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { OriginSetEvent } from './set-origin/origin-set.event';\nimport { StructureAggregateEvent } from '../../../../core/domain/structure.aggregate-event';\n\n\nexport class StructureOriginChangedAggregateEvent extends StructureAggregateEvent {\n\n\tconstructor(aggregateId: AggregateId,\n\t\t\t\tprivate readonly origin: Array<OriginItemEntity>) {\n\t\tsuper(aggregateId, 'StructureOriginChangedAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<StructureId> {\n\t\treturn new OriginSetEvent(this.getAggregateId(), this.origin);\n\t}\n\n\tgetOrigin(): Array<OriginItemEntity> {\n\t\treturn this.origin;\n\t}\n}\n","import { EntityId } from '@generic-ui/hermes';\n\nexport class OriginId extends EntityId {\n\n\tconstructor(id: string) {\n\t\tsuper(id);\n\t}\n\n\ttoString(): string {\n\t\treturn this.getId();\n\t}\n}\n","import { AggregateEvent, RandomStringGenerator } from '@generic-ui/hermes';\n\nimport { OriginItemEntity } from '../origin/origin-item-entity';\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { StructureSourceItemEditedAggregateEvent } from '../origin/edit/structure.source-item-edited.aggregate-event';\nimport { StructureOriginChangedAggregateEvent } from '../origin/structure.origin-changed.aggregate-event';\nimport { Field } from '../../../../field/core/domain/field/field';\nimport { OriginId } from '../origin/origin-id';\nimport { FormationManager } from '../formation/core/formation-manager';\nimport { RowSelectToggleType } from '../formation/core/row-select-toggle-type';\n\n\nexport class SourceManager {\n\n\tprivate loading: boolean = false;\n\n\tprivate fetched: boolean = false;\n\n\tprivate origin: Array<OriginItemEntity>;\n\n\tprivate entities: Array<OriginItemEntity> = [];\n\n\t// Entities after filtering, searching\n\tprivate preparedEntities: Array<OriginItemEntity> = [];\n\n\tprivate slicedEntities: Array<OriginItemEntity> = [];\n\n\tprivate readonly formationManager: FormationManager;\n\n\tconstructor(formationManager: FormationManager) {\n\t\tthis.formationManager = formationManager;\n\t}\n\n\tisLoading(): boolean {\n\t\treturn this.loading;\n\t}\n\n\tisFetched(): boolean {\n\t\treturn this.fetched;\n\t}\n\n\tsetLoading(enabled: boolean): void {\n\t\tthis.loading = enabled;\n\t}\n\n\tsetEntities(ent: Array<OriginItemEntity>): void {\n\t\tthis.entities = ent;\n\t\tthis.recalculatePositions();\n\t}\n\n\tgetEntities(): Array<OriginItemEntity> {\n\t\treturn this.entities;\n\t}\n\n\tsetPreparedEntities(): void {\n\t\tthis.preparedEntities = [...this.entities];\n\t}\n\n\tgetPreparedEntities(): Array<OriginItemEntity> {\n\t\treturn this.preparedEntities;\n\t}\n\n\tsetSlicedEntities(ent: Array<OriginItemEntity>) {\n\t\tthis.slicedEntities = ent;\n\t}\n\n\tgetSlicedEntities(): Array<OriginItemEntity> {\n\t\treturn this.slicedEntities;\n\t}\n\n\tsetOrigin(items: Array<any> = [], structureId: StructureId): AggregateEvent<StructureId> {\n\t\tthis.origin = this.convertItems(items);\n\n\t\treturn this.createOriginChangedEvent(structureId);\n\t}\n\n\tsetConvertedOrigin(items: Array<OriginItemEntity> = [], structureId: StructureId): AggregateEvent<StructureId> {\n\t\tthis.origin = [...items];\n\n\t\treturn this.createOriginChangedEvent(structureId);\n\t}\n\n\tgetOrigin(): Array<OriginItemEntity> {\n\t\treturn this.origin;\n\t}\n\n\tgetOriginSize(): number {\n\t\treturn this.origin.length;\n\t}\n\n\t// editOriginItemByProperty(byField, value: any, field: Field, structureId: StructureId): AggregateEvent {\n\t//\n\t// }\n\n\teditOriginItem(itemId: string, value: any, field: Field, structureId: StructureId): ReadonlyArray<AggregateEvent<StructureId>> {\n\n\t\tconst item: OriginItemEntity = this.findOriginItem(itemId),\n\t\t\titemBeforeChange = item.clone();\n\n\t\tif (item) {\n\t\t\titem.rawData[field.getAccessor()] = value;\n\t\t\titem.bumpVersion();\n\t\t}\n\n\t\treturn [\n\t\t\tnew StructureSourceItemEditedAggregateEvent(structureId, itemBeforeChange, item.clone()),\n\t\t\tthis.createOriginChangedEvent(structureId)\n\t\t];\n\t}\n\n\tdeleteAllSelected(structureId: StructureId): Array<AggregateEvent<StructureId>> {\n\t\tconst events: Array<AggregateEvent<StructureId>> = [];\n\n\t\tconst rows = this.formationManager.getSelectedRows();\n\n\t\trows.forEach((r: string) => {\n\t\t\tevents.push(...this.deleteOriginItemByItemId(new OriginId(r), structureId));\n\t\t});\n\n\t\treturn events;\n\t}\n\n\tdeleteOriginItem(payload: number | OriginId | Array<number> | Array<OriginId>, structureId: StructureId): Array<AggregateEvent<StructureId>> {\n\n\t\tif (payload instanceof OriginId) {\n\t\t\treturn this.deleteOriginItemByItemId(payload, structureId);\n\t\t} else if (Array.isArray(payload)) {\n\n\t\t\tconst events: Array<AggregateEvent<StructureId>> = [];\n\n\t\t\tpayload.forEach((item: number | OriginId) => {\n\t\t\t\tevents.push(...this.deleteOneOriginItem(item, structureId));\n\t\t\t});\n\n\t\t\treturn events;\n\n\t\t} else if (Number.isInteger(payload)) {\n\t\t\treturn this.deleteOriginItemByIndex(payload, structureId);\n\t\t}\n\t}\n\n\tprivate deleteOneOriginItem(item: number | OriginId, structureId: StructureId): Array<AggregateEvent<StructureId>> {\n\n\t\tif (item instanceof OriginId) {\n\t\t\treturn this.deleteOriginItemByItemId(item, structureId);\n\t\t} else if (Number.isInteger(item)) {\n\t\t\treturn this.deleteOriginItemByIndex(item, structureId);\n\t\t} else {\n\t\t\treturn [];\n\t\t}\n\t}\n\n\tprivate deleteOriginItemByItemId(itemId: OriginId, structureId: StructureId): Array<AggregateEvent<StructureId>> {\n\n\t\tconst index = this.findOriginItemIndex(itemId.toString());\n\n\t\treturn this.deleteOriginItemByIndex(index, structureId);\n\t}\n\n\tprivate deleteOriginItemByIndex(index: number, structureId: StructureId): Array<AggregateEvent<StructureId>> {\n\n\t\tif (index > -1) {\n\t\t\tconst removedElements: Array<OriginItemEntity> = this.origin.splice(index, 1);\n\n\t\t\tif (removedElements.length > 0) {\n\t\t\t\tfor (const element of removedElements) {\n\t\t\t\t\tthis.formationManager.unselectRow(element.getId().toString());\n\t\t\t\t}\n\t\t\t\tthis.formationManager.calculateAllSelected(removedElements.map((f) => f.getId().toString()));\n\t\t\t\tthis.formationManager.calculateAllUnselected();\n\t\t\t}\n\n\t\t\treturn [\n\t\t\t\tthis.createOriginChangedEvent(structureId)\n\t\t\t];\n\t\t}\n\n\t\treturn [];\n\t}\n\n\tprivate deleteManyOriginItemByIndex(indexes: Array<number>, structureId: StructureId): Array<AggregateEvent<StructureId>> {\n\n\t\tconst events: Array<AggregateEvent<StructureId>> = [];\n\n\t\tindexes.forEach((index: number) => {\n\t\t\tevents.push(...this.deleteOriginItemByIndex(index, structureId));\n\t\t});\n\n\t\treturn events;\n\t}\n\n\tprivate deleteManyOriginItemByItemID(itemIds: Array<OriginId>, structureId: StructureId): Array<AggregateEvent<StructureId>> {\n\n\t\tconst events: Array<AggregateEvent<StructureId>> = [];\n\n\t\titemIds.forEach((itemId: OriginId) => {\n\t\t\tevents.push(...this.deleteOriginItemByItemId(itemId, structureId));\n\t\t});\n\n\t\treturn events;\n\t}\n\n\taddOriginItem(item: any, structureId: StructureId): ReadonlyArray<AggregateEvent<StructureId>> {\n\t\tthis.origin.push(item);\n\t\treturn [this.createOriginChangedEvent(structureId)];\n\t}\n\n\tselectAll(): void {\n\t\tthis.formationManager.selectAll(this.getEntities().map(e => e.getId().toString()));\n\t}\n\n\tunselectAll(): void {\n\t\tthis.formationManager.unselectAll();\n\t}\n\n\ttoggleRow(itemId: string, type: RowSelectToggleType): void {\n\t\tthis.formationManager.toggleRow(itemId, type, this.getEntities().map(e => e.getId().toString()));\n\t}\n\n\tgetFormation(): FormationManager {\n\t\treturn this.formationManager;\n\t}\n\n\tprivate convertItems(items: Array<any>): Array<OriginItemEntity> {\n\t\treturn items.map((item: any, index: number) => {\n\t\t\treturn new OriginItemEntity(new OriginId(RandomStringGenerator.generate()), item, index);\n\t\t});\n\t}\n\n\tprivate createOriginChangedEvent(structureId: StructureId): AggregateEvent<StructureId> {\n\t\treturn new StructureOriginChangedAggregateEvent(structureId, this.origin);\n\t}\n\n\tprivate findOriginItem(itemId: string): OriginItemEntity {\n\t\treturn this.origin.find((item: OriginItemEntity) => item.getId().toString() === itemId);\n\t}\n\n\tprivate findOriginItemIndex(itemId: string): number {\n\t\treturn this.origin.findIndex((item: OriginItemEntity) => item.getId().toString() === itemId);\n\t}\n\n\tprivate recalculatePositions(): void {\n\t\tthis.entities.forEach((ent: OriginItemEntity, index: number) => {\n\t\t\tent.setPosition(index);\n\t\t});\n\t}\n\n}\n","import { RowSelectToggleType } from './row-select-toggle-type';\nimport { RowSelectionMode } from '../../../api/row-selection';\n\nexport class FormationManager {\n\n\tprivate enabled: boolean = true;\n\n\tprivate mode: RowSelectionMode = RowSelectionMode.SINGLE;\n\n\tprivate selectedRows: Set<string>;\n\n\tprivate allSelected: boolean;\n\n\tprivate allUnselected: boolean;\n\n\tconstructor(selectedRows: Set<string>) {\n\t\tthis.selectedRows = selectedRows;\n\t}\n\n\tisAllSelected(): boolean {\n\t\treturn this.allSelected;\n\t}\n\n\tisAllUnselected(): boolean {\n\t\treturn this.allUnselected;\n\t}\n\n\tsetSelection(enabled: boolean): void {\n\t\tthis.enabled = enabled;\n\t}\n\n\tsetMode(mode: RowSelectionMode): void {\n\t\tthis.mode = mode;\n\t}\n\n\tgetSelectedRows(): Array<string> {\n\t\treturn Array.from(this.selectedRows);\n\t}\n\n\tselectAll(allItemIds: Array<string>): void {\n\t\tthis.selectedRows = new Set<string>(allItemIds);\n\t\tthis.allSelected = true;\n\t\tthis.allUnselected = false;\n\t}\n\n\tunselectAll(): void {\n\t\tthis.selectedRows.clear();\n\t\tthis.allSelected = false;\n\t\tthis.allUnselected = true;\n\t}\n\n\ttoggleRow(itemId: string, type: RowSelectToggleType, allItemIds: Array<string>): void {\n\n\t\tif (!this.enabled) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (type === RowSelectToggleType.ADD && this.mode === RowSelectionMode.SINGLE) {\n\t\t\ttype = RowSelectToggleType.NONE;\n\t\t}\n\n\t\tswitch (type) {\n\t\t\tcase RowSelectToggleType.NONE:\n\n\t\t\t\tif (this.selectedRows.has(itemId)) {\n\t\t\t\t\tthis.selectedRows.delete(itemId);\n\t\t\t\t} else {\n\t\t\t\t\tthis.selectedRows.clear();\n\t\t\t\t\tthis.selectedRows.add(itemId);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase RowSelectToggleType.ADD:\n\n\t\t\t\tif (this.selectedRows.has(itemId)) {\n\t\t\t\t\tthis.selectedRows.delete(itemId);\n\t\t\t\t} else {\n\t\t\t\t\tthis.selectedRows.add(itemId);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase RowSelectToggleType.RANGE:\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\tthis.calculateAllSelected(allItemIds);\n\t\tthis.calculateAllUnselected();\n\t}\n\n\tcalculateAllSelected(allItemIds: Array<string>): void {\n\t\tif (allItemIds.length !== this.selectedRows.size) {\n\t\t\tthis.allSelected = false;\n\t\t} else {\n\n\t\t\tconst rows = Array.from(this.selectedRows);\n\t\t\tlet equal = true;\n\n\t\t\trows.sort();\n\t\t\tallItemIds.sort();\n\n\t\t\tfor (let i = 0; i < rows.length; i += 1) {\n\t\t\t\tif (rows[i] !== allItemIds[i]) {\n\t\t\t\t\tequal = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.allSelected = equal;\n\t\t}\n\t}\n\n\tcalculateAllUnselected(): void {\n\t\tthis.allUnselected = this.selectedRows.size === 0;\n\t}\n\n\tunselectRow(itemId: string): void {\n\t\tif (this.selectedRows.has(itemId)) {\n\t\t\tthis.selectedRows.delete(itemId);\n\t\t}\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { FormationManager } from './formation-manager';\n\n\n@Injectable()\nexport class FormationManagerFactory {\n\n\tcreate(): FormationManager {\n\t\treturn new FormationManager(new Set());\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { SourceManager } from './source.manager';\nimport { FormationManagerFactory } from '../formation/core/formation.manager-factory';\n\n\n@Injectable()\nexport class SourceManagerFactory {\n\n\tconstructor(private readonly formationManagerFactory: FormationManagerFactory) {\n\t}\n\n\tcreateDefault(): SourceManager {\n\n\t\tconst fm = this.formationManagerFactory.create();\n\n\t\treturn new SourceManager(fm);\n\t}\n\n\tcreate(): SourceManager {\n\t\tconst fm = this.formationManagerFactory.create();\n\n\t\treturn new SourceManager(fm);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventHandler, DomainEventType } from '@generic-ui/hermes';\n\nimport { StructureSourceOriginRepository } from './structure.source-origin.repository';\nimport { OriginSetEvent } from '../../domain/origin/set-origin/origin-set.event';\nimport { StructureId } from '../../../../core/domain/structure.id';\n\n\n@Injectable()\nexport class StructureOriginChangedEventHandler implements DomainEventHandler<StructureId, OriginSetEvent> {\n\n\tconstructor(private structureSourceOriginRepository: StructureSourceOriginRepository) {\n\t}\n\n\tforEvent(): DomainEventType<OriginSetEvent> {\n\t\treturn OriginSetEvent;\n\t}\n\n\thandle(event: OriginSetEvent): void {\n\n\t\tif (event.ofMessageType('OriginSetEvent')) {\n\t\t\tconst origin = event.getOrigin();\n\n\t\t\tthis.structureSourceOriginRepository.setOrigin(origin, event.getAggregateId());\n\t\t}\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventHandler, DomainEventType } from '@generic-ui/hermes';\n\nimport { StructurePreparedEntitiesSetEvent } from '../../domain/prepared/structure.prepared-entities-set.event';\nimport { StructurePreparedItemsRepository } from './structure.prepared-items.repository';\nimport { StructureId } from '../../../../core/domain/structure.id';\n\n\n@Injectable()\nexport class StructurePreparedItemsEventHandler implements DomainEventHandler<StructureId, StructurePreparedEntitiesSetEvent> {\n\n\tconstructor(private structurePreparedItemsRepository: StructurePreparedItemsRepository) {\n\t}\n\n\tforEvent(): DomainEventType<StructurePreparedEntitiesSetEvent> {\n\t\treturn StructurePreparedEntitiesSetEvent;\n\t}\n\n\thandle(event: StructurePreparedEntitiesSetEvent): void {\n\n\t\tif (event.ofMessageType('StructurePreparedEntitiesSetEvent')) {\n\n\t\t\tconst preparedItems = event.getPreparedItems();\n\n\t\t\tthis.structurePreparedItemsRepository.setItems(preparedItems, event.getAggregateId());\n\t\t}\n\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { SetEnabledSelectionCommand } from './set-enabled-selection.command';\nimport { StructureAggregate } from '../../../../../core/domain/structure.aggregate';\n\n\n@Injectable()\nexport class SetEnabledSelectionCommandHandler implements CommandHandler<StructureAggregate, SetEnabledSelectionCommand> {\n\n\tconstructor(private readonly domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SetEnabledSelectionCommand> {\n\t\treturn SetEnabledSelectionCommand;\n\t}\n\n\thandle(aggregate: StructureAggregate, command: SetEnabledSelectionCommand): void {\n\t\taggregate.setSelection(command.isEnabled());\n\t}\n\n\tpublish(aggregate: StructureAggregate, command: SetEnabledSelectionCommand): void {\n\t\tthis.domainEventPublisher.publishFromAggregate(aggregate);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { StructureAggregateRepository } from '../../../../../core/domain/structure-aggregate.repository';\nimport { ToggleSelectedRowCommand } from './toggle-selected-row.command';\nimport { StructureAggregate } from '../../../../../core/domain/structure.aggregate';\n\n\n@Injectable()\nexport class ToggleSelectedRowCommandHandler implements CommandHandler<StructureAggregate, ToggleSelectedRowCommand> {\n\n\tconstructor(private structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tprivate domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<ToggleSelectedRowCommand> {\n\t\treturn ToggleSelectedRowCommand;\n\t}\n\n\thandle(aggregate: StructureAggregate, command: ToggleSelectedRowCommand): void {\n\n\t\tconst selectedRow = command.getSelectedRow(),\n\t\t\ttype = command.getType();\n\n\t\taggregate.toggleRow(selectedRow, type);\n\t}\n\n\tpublish(aggregate: StructureAggregate, command: ToggleSelectedRowCommand): void {\n\t\tthis.domainEventPublisher.publishFromAggregate(aggregate);\n\t}\n\n}\n","export class RowSelectedReadModel {\n\n\tprivate readonly itemIds: Array<string> = new Array<string>();\n\n\tprivate readonly allSelected: boolean;\n\n\tprivate readonly allUnselected: boolean;\n\n\tconstructor(itemIds: Array<string>,\n\t\t\t\tallSelected: boolean,\n\t\t\t\tallUnselected: boolean) {\n\t\tthis.itemIds = itemIds;\n\t\tthis.allSelected = allSelected;\n\t\tthis.allUnselected = allUnselected;\n\t}\n\n\tgetAll(): Array<string> {\n\t\treturn this.itemIds;\n\t}\n\n\tisSelected(id: string): boolean {\n\t\treturn this.itemIds.some((itemId: string) => itemId === id);\n\t}\n\n\n\tisAllSelected(): boolean {\n\t\treturn this.allSelected;\n\t}\n\n\tisAllUnselected(): boolean {\n\t\treturn this.allUnselected;\n\t}\n\n\tisIndeterminate(): boolean {\n\t\treturn !(this.isAllSelected() || this.isAllUnselected());\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventHandler, DomainEventType } from '@generic-ui/hermes';\n\nimport { SelectedRowChangedEvent } from '../../../domain/formation/selected-row-changed.event';\nimport { RowSelectedRepository } from './row-selected.repository';\nimport { StructureId } from '../../../../../core/domain/structure.id';\nimport { RowSelectedReadModel } from '../row-selected.read-model';\n\n\n@Injectable()\nexport class SelectedRowChangedEventHandler implements DomainEventHandler<StructureId, SelectedRowChangedEvent> {\n\n\tconstructor(private readonly rowSelectedRepository: RowSelectedRepository) {\n\t}\n\n\tforEvent(): DomainEventType<SelectedRowChangedEvent> {\n\t\treturn SelectedRowChangedEvent;\n\t}\n\n\thandle(rowChangedEvent: SelectedRowChangedEvent): void {\n\n\t\tif (rowChangedEvent.ofMessageType('SelectedRowChangedEvent')) {\n\n\t\t\tconst rowSelectedRead = new RowSelectedReadModel(\n\t\t\t\trowChangedEvent.getSelectedRows(),\n\t\t\t\trowChangedEvent.isAllSelected(),\n\t\t\t\trowChangedEvent.isAllUnselected()\n\t\t\t);\n\n\t\t\tthis.rowSelectedRepository.next(rowChangedEvent.getAggregateId(), rowSelectedRead);\n\t\t}\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { SetSelectionModeCommand } from './set-selection-mode.command';\nimport { StructureAggregate } from '../../../../../core/domain/structure.aggregate';\n\n\n@Injectable()\nexport class SetSelectionModeCommandHandler implements CommandHandler<StructureAggregate, SetSelectionModeCommand> {\n\n\tconstructor(private readonly domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SetSelectionModeCommand> {\n\t\treturn SetSelectionModeCommand;\n\t}\n\n\thandle(aggregate: StructureAggregate, command: SetSelectionModeCommand): void {\n\t\taggregate.setSelectionMode(command.getMode());\n\t}\n\n\tpublish(aggregate: StructureAggregate, command: SetSelectionModeCommand): void {\n\t\tthis.domainEventPublisher.publishFromAggregate(aggregate);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { StructureAggregateRepository } from '../../../../../core/domain/structure-aggregate.repository';\nimport { SelectAllRowsCommand } from './select-all-rows.command';\nimport { StructureAggregate } from '../../../../../core/domain/structure.aggregate';\n\n\n@Injectable()\nexport class SelectAllRowsCommandHandler implements CommandHandler<StructureAggregate, SelectAllRowsCommand> {\n\n\tconstructor(private structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tprivate domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SelectAllRowsCommand> {\n\t\treturn SelectAllRowsCommand;\n\t}\n\n\thandle(aggregate: StructureAggregate, command: SelectAllRowsCommand): void {\n\t\taggregate.selectAll();\n\t}\n\n\tpublish(aggregate: StructureAggregate, command: SelectAllRowsCommand): void {\n\t\tthis.domainEventPublisher.publishFromAggregate(aggregate);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { StructureAggregateRepository } from '../../../../../core/domain/structure-aggregate.repository';\nimport { UnselectAllRowsCommand } from './unselect-all-rows.command';\nimport { StructureAggregate } from '../../../../../core/domain/structure.aggregate';\n\n\n@Injectable()\nexport class UnselectAllRowsCommandHandler implements CommandHandler<StructureAggregate, UnselectAllRowsCommand> {\n\n\tconstructor(private structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tprivate domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<UnselectAllRowsCommand> {\n\t\treturn UnselectAllRowsCommand;\n\t}\n\n\thandle(aggregate: StructureAggregate, command: UnselectAllRowsCommand): void {\n\t\taggregate.unselectAll();\n\t}\n\n\tpublish(aggregate: StructureAggregate, command: UnselectAllRowsCommand): void {\n\t\tthis.domainEventPublisher.publishFromAggregate(aggregate);\n\t}\n\n}\n","import { StructureId } from '../../../../../core/domain/structure.id';\nimport { RowSelectionMode } from '../../../api/row-selection';\nimport { StructureDomainEvent } from '../../../../../core/domain/structure.domain-event';\n\nexport class SelectionModeSetEvent extends StructureDomainEvent {\n\n\tconstructor(aggregateId: StructureId,\n\t\t\t\tprivate readonly mode: RowSelectionMode) {\n\t\tsuper(aggregateId, mode, 'SelectionModeSetEvent');\n\t}\n\n\tgetMode(): RowSelectionMode {\n\t\treturn this.mode;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventHandler, DomainEventType } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../core/domain/structure.id';\nimport { SelectionModeSetEvent } from '../../../domain/formation/mode/selection-mode-set.event';\nimport { RowSelectionModeRepository } from './row-selection-mode.repository';\n\n@Injectable()\nexport class SelectionModeSetEventHandler implements DomainEventHandler<StructureId, SelectionModeSetEvent> {\n\n\tconstructor(private readonly rowSelectionModeRepository: RowSelectionModeRepository) {\n\t}\n\n\tforEvent(): DomainEventType<SelectionModeSetEvent> {\n\t\treturn SelectionModeSetEvent;\n\t}\n\n\thandle(modeSetEvent: SelectionModeSetEvent): void {\n\n\t\tif (modeSetEvent.ofMessageType('SelectionModeSetEvent')) {\n\t\t\tthis.rowSelectionModeRepository.next(modeSetEvent.getAggregateId(), modeSetEvent.getMode());\n\t\t}\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { StructureAggregate } from '../../../../../core/domain/structure.aggregate';\nimport { DeleteOriginItemCommand } from './delete-origin-item.command';\n\n\n@Injectable()\nexport class DeleteOriginItemCommandHandler implements CommandHandler<StructureAggregate, DeleteOriginItemCommand> {\n\n\tconstructor(private readonly domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<DeleteOriginItemCommand> {\n\t\treturn DeleteOriginItemCommand;\n\t}\n\n\thandle(aggregate: StructureAggregate, command: DeleteOriginItemCommand): void {\n\t\taggregate.deleteItem(command.getPayload());\n\t}\n\n\tpublish(aggregate: StructureAggregate, command: DeleteOriginItemCommand): void {\n\t\tthis.domainEventPublisher.publishFromAggregate(aggregate);\n\t}\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { DomainModule, HermesModule } from '@generic-ui/hermes';\n\nimport { SourceSetLoadingCommandHandler } from './loading/source-set-loading.command-handler';\nimport { SetOriginCommandHandler } from './origin/set-origin/set-origin.command-handler';\nimport { StructureEditSourceItemCommandHandler } from './origin/edit/structure.edit-source-item.command-handler';\nimport { SourceDispatcher } from './source.dispatcher';\nimport { SourceManagerFactory } from './core/source.manager-factory';\nimport { StructureOriginChangedEventHandler } from '../api/origin/structure.origin-changed.event-handler';\nimport { StructurePreparedItemsEventHandler } from '../api/prepared/structure.prepared-items.event-handler';\nimport { SourceDomainEventPublisher } from './source.domain-event.publisher';\nimport { SetEnabledSelectionCommandHandler } from './formation/set-enabled/set-enabled-selection.command-handler';\nimport { ToggleSelectedRowCommandHandler } from './formation/toggle/toggle-selected-row.command-handler';\nimport { FormationDispatcher } from './formation/formation.dispatcher';\nimport { FormationManagerFactory } from './formation/core/formation.manager-factory';\nimport { SelectedRowChangedEventHandler } from '../api/formation/row-selected/selected-row-changed.event-handler';\nimport { SetSelectionModeCommandHandler } from './formation/mode/set-selection-mode.command-handler';\nimport { SelectAllRowsCommandHandler } from './formation/select-all/select-all-rows.command-handler';\nimport { UnselectAllRowsCommandHandler } from './formation/unselect-all/unselect-all-rows.command-handler';\nimport { SelectionModeSetEventHandler } from '../api/formation/mode/selection-mode-set.event-handler';\nimport { DeleteOriginItemCommandHandler } from './origin/delete/delete-origin-item.command-handler';\nimport { structureKey } from '../../../core/api/structre.key';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule\n\t],\n\tproviders: [\n\t\tSourceDispatcher,\n\t\tSourceManagerFactory,\n\t\tSourceDomainEventPublisher,\n\n\t\tFormationDispatcher,\n\t\tFormationManagerFactory\n\t],\n\tdeclarations: [],\n\texports: []\n})\nexport class SourceDomainModule extends DomainModule {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tstatic commandHandlers() {\n\t\treturn [\n\t\t\t...HermesModule.registerCommandHandler(SourceSetLoadingCommandHandler, structureKey),\n\t\t\t...HermesModule.registerCommandHandler(SetOriginCommandHandler, structureKey),\n\t\t\t...HermesModule.registerCommandHandler(StructureEditSourceItemCommandHandler, structureKey),\n\t\t\t...HermesModule.registerCommandHandler(SetEnabledSelectionCommandHandler, structureKey),\n\t\t\t...HermesModule.registerCommandHandler(SetSelectionModeCommandHandler, structureKey),\n\t\t\t...HermesModule.registerCommandHandler(SelectAllRowsCommandHandler, structureKey),\n\t\t\t...HermesModule.registerCommandHandler(UnselectAllRowsCommandHandler, structureKey),\n\t\t\t...HermesModule.registerCommandHandler(DeleteOriginItemCommandHandler, structureKey),\n\t\t\t...HermesModule.registerCommandHandler(ToggleSelectedRowCommandHandler, structureKey)\n\t\t];\n\t}\n\n\tstatic domainEventHandlers() {\n\t\treturn [\n\t\t\t...HermesModule.registerDomainEventHandler(StructureOriginChangedEventHandler),\n\t\t\t...HermesModule.registerDomainEventHandler(SelectedRowChangedEventHandler),\n\t\t\t...HermesModule.registerDomainEventHandler(SelectionModeSetEventHandler),\n\t\t\t...HermesModule.registerDomainEventHandler(StructurePreparedItemsEventHandler)\n\t\t];\n\t}\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { ApiModule } from '@generic-ui/hermes';\n\nimport { StructureSourceOriginRepository } from './origin/structure.source-origin.repository';\nimport { StructurePreparedItemsRepository } from './prepared/structure.prepared-items.repository';\nimport { SourceConverter } from './source.converter';\nimport { SourceCommandInvoker } from './source.command-invoker';\nimport { SourceWarehouse } from './source.warehouse';\nimport { SourceEventService } from './event/source-event.service';\nimport { SourceDomainModule } from '../domain/source.domain-module';\nimport { FormationEventRepository } from './formation/formation.event-repository';\nimport { FormationCommandInvoker } from './formation/formation.command-invoker';\nimport { FormationWarehouse } from './formation/formation.warehouse';\nimport { RowSelectedRepository } from './formation/row-selected/row-selected.repository';\nimport { RowSelectionModeRepository } from './formation/mode/row-selection-mode.repository';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tSourceDomainModule\n\t],\n\tproviders: [\n\t\tStructureSourceOriginRepository,\n\t\tStructurePreparedItemsRepository,\n\t\tSourceConverter,\n\n\t\tSourceCommandInvoker,\n\t\tSourceWarehouse,\n\t\tSourceEventService,\n\n\t\tRowSelectedRepository,\n\t\tFormationEventRepository,\n\n\t\tFormationCommandInvoker,\n\t\tFormationWarehouse,\n\t\tRowSelectionModeRepository\n\n\t],\n\tdeclarations: [],\n\texports: []\n})\nexport class SourceApiModule extends ApiModule {\n}\n","import { NgModule, Optional, Provider } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { FeatureModule } from '@generic-ui/hermes';\n\nimport { RowSelectionTypeArchive } from '../core/api/formation/type/row-selection-type.archive';\nimport { SourceApiModule } from '../core/api/source.api-module';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tSourceApiModule\n\t],\n\tdeclarations: [],\n\texports: []\n})\nexport class SourceFeatureModule extends FeatureModule {\n\n\tstatic forComponent(): Array<Provider> {\n\t\treturn [\n\t\t\tRowSelectionTypeArchive\n\t\t];\n\t}\n\n\tconstructor(@Optional() sourceApiModule: SourceApiModule) {\n\t\tsuper();\n\t\tif (sourceApiModule === null) {\n\t\t\tthrow new Error('SourceApiModule is required');\n\t\t}\n\t}\n\n}\n","import { NgModule, Optional, Provider } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { FeatureModule } from '@generic-ui/hermes';\n\nimport { SchemaApiModule } from '../core/api/schema.api-module';\nimport { SchemaRowClassArchive } from '../core/api/styling/schema.row-class.archive';\nimport { SchemaRowStyleArchive } from '../core/api/styling/schema.row-style.archive';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tSchemaApiModule\n\t],\n\tdeclarations: [],\n\texports: []\n})\nexport class SchemaFeatureModule extends FeatureModule {\n\n\tstatic forComponent(): Array<Provider> {\n\t\treturn [\n\t\t\tSchemaRowClassArchive,\n\t\t\tSchemaRowStyleArchive\n\t\t];\n\t}\n\n\tconstructor(@Optional() schemaApiModule: SchemaApiModule) {\n\t\tsuper();\n\t\tif (schemaApiModule === null) {\n\t\t\tthrow new Error('SchemaApiModule is required.');\n\t\t}\n\t}\n\n}\n","export enum StyleName {\n\tWIDTH = 'width',\n\tHEIGHT = 'height',\n\tPADDING_TOP = 'padding-top'\n}\n","import { StyleModifierApi } from './style-modifier-api';\nimport { StyleName } from './style-name';\nimport { Modifier } from '../core/modifier';\n\n\nexport class StyleModifier extends Modifier<StyleModifierApi> {\n\n\tconstructor(\n\t\tprivate readonly htmlElement?: HTMLElement\n\t) {\n\t\tsuper(htmlElement);\n\t}\n\n\tprotected createModifier(htmlElement: HTMLElement): StyleModifierApi {\n\t\treturn new StyleModifier.StyleModifier(htmlElement);\n\t}\n\n\tprivate static readonly StyleModifier = class implements StyleModifierApi {\n\n\t\tprivate static readonly STYLE = 'style';\n\n\t\tconstructor(\n\t\t\tprivate readonly htmlElement: HTMLElement\n\t\t) {\n\t\t}\n\n\t\tsetStyleByName(name: string, value: string): void {\n\t\t\tthis.set(name, value);\n\t\t}\n\n\t\tsetWidth(value: number): void {\n\t\t\tthis.set(StyleName.WIDTH, this.toPx(value));\n\t\t}\n\n\t\tsetHeight(value: number): void {\n\t\t\tthis.set(StyleName.HEIGHT, this.toPx(value));\n\t\t}\n\n\t\tsetPaddingTop(value: number): void {\n\t\t\tthis.set(StyleName.PADDING_TOP, this.toPx(value));\n\t\t}\n\n\t\tremove(styleName: StyleName): void {\n\t\t\tthis.htmlElement[StyleModifier.StyleModifier.STYLE][styleName] = '';\n\t\t}\n\n\t\tremoveStyleByName(name: string): void {\n\t\t\tthis.htmlElement[StyleModifier.StyleModifier.STYLE][name] = '';\n\t\t}\n\n\t\tclear(): void {\n\t\t\tthis.htmlElement.removeAttribute(StyleModifier.StyleModifier.STYLE);\n\t\t}\n\n\t\tprivate set(name: string, value: string): void {\n\t\t\tthis.htmlElement[StyleModifier.StyleModifier.STYLE][name] = value;\n\t\t}\n\n\t\tprivate toPx(value: number): string {\n\t\t\treturn value > 0 ? `${value}px` : `${value}`;\n\t\t}\n\n\t};\n\n}\n","import {\n\tAfterViewInit,\n\tChangeDetectionStrategy,\n\tChangeDetectorRef,\n\tComponent,\n\tElementRef,\n\tInjector,\n\tOnChanges,\n\tOnDestroy,\n\tOnInit,\n\tViewEncapsulation\n} from '@angular/core';\nimport { timer } from 'rxjs';\n\nimport { StructureDefinition } from './structure-definition';\nimport { StructureIdGenerator } from './structure-id.generator';\nimport { StructureId } from '../../core/domain/structure.id';\nimport { CompositionId } from '../../../composition/core/domain/composition.id';\nimport { localProviders } from './local/local-providers';\nimport { SchemaCssClassManager } from './schema/schema-css-class.manager';\nimport { StructureCellEditArchive } from './edit/structure.cell-edit.archive';\nimport { StructureCellEditStore } from './edit/structure.cell-edit.store';\nimport { StructureEditModeArchive } from './edit/structure.edit-mode.archive';\nimport { StructureInfoPanelArchive } from './panel/info/structure.info-panel.archive';\nimport { StructureSummariesArchive } from './panel/summaries/structure.summaries.archive';\nimport { StructureSummariesConfigService } from './panel/summaries/structure.summaries-config.service';\nimport { structureComponentToken } from './structure-component-token';\nimport { StructureGateway } from './gate/structure.gateway';\nimport { StructureReadModelRoot } from '../core/api/read/structure.read-model-root';\nimport { PagingCommandInvoker } from '../../paging/core/api/paging.command-invoker';\nimport { PagingEventRepository } from '../../paging/core/api/paging.event-repository';\nimport { SourceCommandInvoker } from '../../source/core/api/source.command-invoker';\nimport { SourceEventService } from '../../source/core/api/event/source-event.service';\nimport { CompositionCommandInvoker } from '../../../composition/core/api/composition.command-invoker';\nimport { CompositionEventRepository } from '../../../composition/core/api/composition.event-repository';\nimport { FormationEventRepository } from '../../source/core/api/formation/formation.event-repository';\nimport { StructureCommandInvoker } from '../../core/api/structure.command-invoker';\nimport { StructureWarehouse } from '../core/api/structure.warehouse';\nimport { CompositionWarehouse } from '../../../composition/core/api/composition.warehouse';\nimport { StructureColumnMenuConfigArchive } from './header/menu/config/structure.column-menu-config.archive';\nimport { PagingDisplayModeArchive } from '../../paging/feature/mode/paging-display-mode.archive';\nimport { RowSelectEnabledRepository } from '../../source/core/api/formation/set-enabled/row-select-enabled.repository';\nimport { SearchEventRepository } from '../../search/core/api/search.event-repository';\nimport { StructureCellEditCloseAllService } from './edit/structure.cell-edit-close-all.service';\nimport { SchemaReadModelRootId } from '../../../schema/core/api/schema.read-model-root-id';\nimport { SchemaCommandInvoker } from '../../../schema/core/api/schema.command-invoker';\nimport { StructureHeaderBottomEnabledArchive } from './header/structure-header-bottom-enabled.archive';\nimport { StructureHeaderTopEnabledArchive } from './header/structure-header-top-enabled.archive';\nimport { SchemaEventRepository } from '../../../schema/core/api/schema.event-repository';\nimport { StructureRowDetailConfigArchive } from './row-detail/structure.row-detail.config-archive';\nimport { StructureRowDetailService } from './row-detail/structure.row-detail.service';\nimport { PagingFeatureModule } from '../../paging/feature/paging.feature-module';\nimport { StructureTitlePanelConfigArchive } from './panel/banner-panels/title-panel/structure.title-panel.config-archive';\nimport { StructureFooterPanelConfigArchive } from './panel/banner-panels/footer-panel/structure.footer-panel.config-archive';\nimport { StructureInfoPanelConfigService } from './panel/info/structure.info-panel-config.service';\nimport { SortingFeatureModule } from '../../sorting/feature/sorting.feature-module';\nimport { SortingCommandInvoker } from '../../sorting/core/api/sorting.command-invoker';\nimport { SearchFeatureModule } from '../../search/feature/search.feature-module';\nimport { FieldFeatureModule } from '../../field/feature/field.feature-module';\nimport { SearchCommandInvoker } from '../../search/core/api/search.command-invoker';\nimport { FieldCommandInvoker } from '../../field/core/api/field.command-invoker';\nimport { CommandDispatcher, DomainEventBus } from '@generic-ui/hermes';\nimport { ColumnFieldFactory } from '../../../composition/core/domain/column/field/colum-field.factory';\nimport { FilterContainerRef } from '../../filter/core/api/config/filter-container-ref';\nimport { filterContainerToken } from '../../filter/core/api/config/filter-container-token';\nimport { FormationCommandInvoker } from '../../source/core/api/formation/formation.command-invoker';\nimport { RowSelectionTypeArchive } from '../../source/core/api/formation/type/row-selection-type.archive';\nimport { SourceFeatureModule } from '../../source/feature/source.feature-module';\nimport { TranslationService } from '../../../l10n/core/api/translation.service';\nimport { TranslationFeatureModule } from '../../../l10n/feature/translation.feature-module';\nimport { SchemaRowClassArchive } from '../../../schema/core/api/styling/schema.row-class.archive';\nimport { SchemaRowStyleArchive } from '../../../schema/core/api/styling/schema.row-style.archive';\nimport { SchemaFeatureModule } from '../../../schema/feature/schema.feature-module';\nimport { StreamCloser } from '../../../common/cdk/reactive/stream-closer';\nimport { StyleModifier } from '../../../common/cdk/dom/style/style-modifier';\nimport { NgChanges } from '../../../common/cdk/component/ng-changes';\n\n\n/** @internal */\nexport function structureIdFactory(generator: StructureIdGenerator): StructureId {\n\treturn new StructureId('gui-' + generator.generateId());\n}\n\n/** @internal */\nexport function compositionIdFactory(generator: StructureIdGenerator): CompositionId {\n\treturn new CompositionId('gui-' + generator.generateId());\n}\n\n/** @internal */\nexport function schemaIdFactory(generator: StructureIdGenerator): SchemaReadModelRootId {\n\treturn new SchemaReadModelRootId('gui-' + generator.generateId());\n}\n\n/** @internal */\nexport const structureComponentSelfProviders = [\n\t{\n\t\tprovide: StructureId,\n\t\tuseFactory: structureIdFactory,\n\t\tdeps: [\n\t\t\tStructureIdGenerator\n\t\t]\n\t},\n\t{\n\t\tprovide: CompositionId,\n\t\tuseFactory: compositionIdFactory,\n\t\tdeps: [\n\t\t\tStructureIdGenerator\n\t\t]\n\t},\n\t{\n\t\tprovide: SchemaReadModelRootId,\n\t\tuseFactory: schemaIdFactory,\n\t\tdeps: [\n\t\t\tStructureIdGenerator\n\t\t]\n\t},\n\t...localProviders,\n\n\tSchemaCssClassManager,\n\tStructureCellEditArchive,\n\tStructureCellEditCloseAllService,\n\tStructureCellEditStore,\n\tStructureEditModeArchive,\n\tStructureInfoPanelArchive,\n\tStructureInfoPanelConfigService,\n\tStructureSummariesArchive,\n\tStructureSummariesConfigService,\n\tStructureColumnMenuConfigArchive,\n\n\tPagingFeatureModule.forComponent(),\n\tSortingFeatureModule.forComponent(),\n\tFieldFeatureModule.forComponent(),\n\tSearchFeatureModule.forComponent(),\n\tSourceFeatureModule.forComponent(),\n\tSchemaFeatureModule.forComponent(),\n\tTranslationFeatureModule.forComponent(),\n\n\tRowSelectEnabledRepository,\n\tStructureHeaderTopEnabledArchive,\n\tStructureHeaderBottomEnabledArchive,\n\tStructureRowDetailConfigArchive,\n\tStructureRowDetailService,\n\tStructureTitlePanelConfigArchive,\n\tStructureFooterPanelConfigArchive\n];\n\n/** @internal */\n@Component({\n\tselector: 'gui-structure',\n\ttemplateUrl: './structure.component.html',\n\tstyleUrls: [\n\t\t'./style/styles.ngx.scss',\n\t\t'./style/structure.ngx.scss',\n\t\t'./style/structure-column-manager.ngx.scss',\n\t\t'./style/structure-summaries.ngx.scss',\n\t\t'./style/structure-info-modal.ngx.scss',\n\t\t'./style/structure-responsive.ngx.scss',\n\t\t'./style/structure-flex.ngx.scss',\n\t\t'./style/structure-header-menu.ngx.scss',\n\t\t'../../../composition/feature/style/composition.ngx.scss',\n\t\t'./style/themes/fabric.structure.ngx.scss',\n\t\t'./style/themes/material.structure.ngx.scss',\n\t\t'./style/themes/dark.structure.ngx.scss',\n\t\t'./style/themes/light.structure.ngx.scss',\n\t\t'./style/themes/generic.structure.ngx.scss'\n\t],\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None,\n\thost: {\n\t\t'[class.gui-structure-border]': 'isBorderEnabled()',\n\t\t'[id]': 'structureId.toString()'\n\t},\n\tproviders: [\n\t\t...structureComponentSelfProviders,\n\t\t{\n\t\t\tprovide: structureComponentToken,\n\t\t\tuseExisting: StructureComponent\n\t\t},\n\t\t{\n\t\t\tprovide: filterContainerToken,\n\t\t\tuseExisting: StructureComponent\n\t\t}\n\t]\n})\nexport class StructureComponent extends StructureGateway implements OnChanges, OnInit, AfterViewInit, OnDestroy, FilterContainerRef {\n\n\tloaderEnabled: boolean = false;\n\n\tcircleLoaderEnabled: boolean = true;\n\n\tinitialLoaderAnimation: boolean = false;\n\n\tprivate structure: StructureReadModelRoot;\n\n\tprivate readonly localStreamCloser = new StreamCloser();\n\n\tprivate readonly styleModifier: StyleModifier;\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tcompositionId: CompositionId,\n\t\t\t\tpagingCommandService: PagingCommandInvoker,\n\t\t\t\tpagingEventRepository: PagingEventRepository,\n\t\t\t\tsourceCommandDispatcher: SourceCommandInvoker,\n\t\t\t\tsourceEventService: SourceEventService,\n\t\t\t\tsortingCommandDispatcher: SortingCommandInvoker,\n\t\t\t\tsearchCommandDispatcher: SearchCommandInvoker,\n\t\t\t\tfieldCommandDispatcher: FieldCommandInvoker,\n\t\t\t\tschemaCommandDispatcher: SchemaCommandInvoker,\n\t\t\t\tcompositionCommandDispatcher: CompositionCommandInvoker,\n\t\t\t\tcompositionEventRepository: CompositionEventRepository,\n\t\t\t\tformationEventService: FormationEventRepository,\n\t\t\t\tstructureCommandService: StructureCommandInvoker,\n\t\t\t\tstructureEditModeArchive: StructureEditModeArchive,\n\t\t\t\tstructureCellEditArchive: StructureCellEditArchive,\n\t\t\t\tstructureInfoPanelArchive: StructureInfoPanelArchive,\n\t\t\t\tstructureInfoPanelConfigService: StructureInfoPanelConfigService,\n\t\t\t\tstructureSummariesConfigService: StructureSummariesConfigService,\n\t\t\t\tstructureCellEditStore: StructureCellEditStore,\n\t\t\t\tcolumnFieldFactory: ColumnFieldFactory,\n\t\t\t\tstructureColumnMenuConfigArchive: StructureColumnMenuConfigArchive,\n\t\t\t\tpagingDisplayModeArchive: PagingDisplayModeArchive,\n\t\t\t\trowSelectEnabledArchive: RowSelectEnabledRepository,\n\t\t\t\trowSelectionTypeArchive: RowSelectionTypeArchive,\n\t\t\t\tschemaRowClassArchive: SchemaRowClassArchive,\n\t\t\t\tschemaRowStyleArchive: SchemaRowStyleArchive,\n\t\t\t\tformationCommandDispatcher: FormationCommandInvoker,\n\t\t\t\tsearchEventRepository: SearchEventRepository,\n\t\t\t\tstructureHeaderTopEnabledArchive: StructureHeaderTopEnabledArchive,\n\t\t\t\tstructureHeaderBottomEnabledArchive: StructureHeaderBottomEnabledArchive,\n\t\t\t\tstructureDetailViewConfigArchive: StructureRowDetailConfigArchive,\n\t\t\t\tstructureTitlePanelConfigArchive: StructureTitlePanelConfigArchive,\n\t\t\t\tstructureFooterPanelConfigArchive: StructureFooterPanelConfigArchive,\n\t\t\t\tschemaEventRepository: SchemaEventRepository,\n\t\t\t\ttranslationService: TranslationService,\n\t\t\t\tprivate readonly elementRef: ElementRef,\n\t\t\t\tprivate readonly detectorRef: ChangeDetectorRef,\n\t\t\t\tpublic readonly injector: Injector,\n\t\t\t\tprivate readonly structureDefinition: StructureDefinition,\n\t\t\t\tprivate readonly structureReadModelService: StructureWarehouse,\n\t\t\t\tprivate readonly compositionReadModelService: CompositionWarehouse,\n\t\t\t\tprivate readonly schemaStylesManager: SchemaCssClassManager,\n\t\t\t\tprivate readonly schemaReadModelRootId: SchemaReadModelRootId,\n\t\t\t\tdomainEventBus: DomainEventBus,\n\t\t\t\tcommandDispatcher: CommandDispatcher,\n\t\t\t\tprivate readonly structureDetailViewService: StructureRowDetailService) {\n\n\t\tsuper(\n\t\t\tdetectorRef,\n\t\t\telementRef,\n\t\t\tdomainEventBus,\n\t\t\tcommandDispatcher,\n\t\t\tstructureId,\n\t\t\tcompositionId,\n\t\t\tschemaReadModelRootId,\n\t\t\tstructureCommandService,\n\t\t\tpagingCommandService,\n\t\t\tpagingEventRepository,\n\t\t\tsortingCommandDispatcher,\n\t\t\tsearchCommandDispatcher,\n\t\t\tfieldCommandDispatcher,\n\t\t\tsourceCommandDispatcher,\n\t\t\tsourceEventService,\n\t\t\tschemaCommandDispatcher,\n\t\t\tcompositionCommandDispatcher,\n\t\t\tcompositionEventRepository,\n\t\t\tformationEventService,\n\t\t\tstructureEditModeArchive,\n\t\t\tstructureCellEditArchive,\n\t\t\tstructureInfoPanelArchive,\n\t\t\tstructureInfoPanelConfigService,\n\t\t\tstructureSummariesConfigService,\n\t\t\tstructureCellEditStore,\n\t\t\tcolumnFieldFactory,\n\t\t\tstructureColumnMenuConfigArchive,\n\t\t\tpagingDisplayModeArchive,\n\t\t\trowSelectEnabledArchive,\n\t\t\trowSelectionTypeArchive,\n\t\t\tschemaRowClassArchive,\n\t\t\tschemaRowStyleArchive,\n\t\t\tformationCommandDispatcher,\n\t\t\tsearchEventRepository,\n\t\t\tstructureHeaderTopEnabledArchive,\n\t\t\tstructureHeaderBottomEnabledArchive,\n\t\t\tstructureDetailViewConfigArchive,\n\t\t\tstructureTitlePanelConfigArchive,\n\t\t\tstructureFooterPanelConfigArchive,\n\t\t\tschemaEventRepository,\n\t\t\ttranslationService\n\t\t);\n\t\tthis.styleModifier = new StyleModifier(this.elementRef.nativeElement);\n\t\tstructureCommandService.create();\n\t\tcompositionCommandDispatcher.create();\n\t\tschemaCommandDispatcher.create();\n\t}\n\n\tngOnChanges(changes: NgChanges<StructureComponent>) {\n\t\tsuper.ngOnChanges(changes);\n\t}\n\n\tngOnInit() {\n\t\tsuper.ngOnInit();\n\n\t\tthis.structureReadModelService\n\t\t\t.onStructure()\n\t\t\t.pipe(\n\t\t\t\tthis.localStreamCloser.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((structureReadModelRoot: StructureReadModelRoot) => {\n\t\t\t\tthis.structure = structureReadModelRoot;\n\n\t\t\t\tthis.loaderEnabled = structureReadModelRoot.getSource().isLoading();\n\n\t\t\t\tthis.circleLoaderEnabled = structureReadModelRoot.isLoaderVisible();\n\n\t\t\t\tif (this.loaderEnabled && !this.initialLoaderAnimation) {\n\t\t\t\t\tthis.initialLoaderAnimation = true;\n\t\t\t\t}\n\n\t\t\t\tthis.detectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.structureDetailViewService.init(this.elementRef);\n\t}\n\n\tngAfterViewInit() {\n\t\tlet width = this.elementRef.nativeElement.offsetWidth;\n\n\t\tif (width > 0) {\n\t\t\tthis.compositionCommandDispatcher.setContainerWidth(width);\n\t\t} else {\n\n\t\t\t/**\n\t\t\t * When gui-grid is in dynamic container which is created later then grid.\n\t\t\t */\n\t\t\ttimer(0)\n\t\t\t\t.pipe(\n\t\t\t\t\tthis.localStreamCloser.takeUntil()\n\t\t\t\t)\n\t\t\t\t.subscribe(() => {\n\n\t\t\t\t\twidth = this.elementRef.nativeElement.offsetWidth;\n\n\t\t\t\t\tif (width > 0) {\n\t\t\t\t\t\tthis.compositionCommandDispatcher.setContainerWidth(width);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n\n\t\tthis.schemaStylesManager\n\t\t\t.init(this.elementRef, this.schemaReadModelRootId);\n\n\t\tthis.compositionReadModelService\n\t\t\t.onWidth()\n\t\t\t.pipe(\n\t\t\t\tthis.localStreamCloser.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((width: number) => {\n\t\t\t\tthis.styleModifier.getHost().setWidth(width);\n\t\t\t});\n\t}\n\n\tngOnDestroy() {\n\t\tthis.localStreamCloser.unsubscribe();\n\t}\n\n\tisBorderEnabled(): boolean {\n\t\treturn this.structureDefinition.isBorderEnabled();\n\t}\n\n\tgetStructureId(): StructureId {\n\t\treturn this.structureId;\n\t}\n\n\tgetElementRef(): ElementRef {\n\t\treturn this.elementRef;\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-structure';\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { Archive } from '@generic-ui/hermes';\n\nimport { ListViewTemplate } from './list-view-template';\n\n\n@Injectable()\nexport class ListViewTemplateArchive extends Archive<ListViewTemplate> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { Archive } from '@generic-ui/hermes';\n\nimport { ListViewCardTemplate } from './list-view.card-template';\n\n\n@Injectable()\nexport class ListViewCardTemplateArchive extends Archive<ListViewCardTemplate> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n}\n","import { ListViewTemplateArchive } from './source/template/list-view-template.archive';\nimport { ListViewCardTemplateArchive } from './card/template/list-view.card-template.archive';\n\nexport const listViewProviders = [\n\tListViewTemplateArchive,\n\tListViewCardTemplateArchive\n];\n","import { AggregateId, ReadModelRootId } from '@generic-ui/hermes';\nimport { ListViewReadModelRootId } from '../api/list-view.read-model-root-id';\n\nexport class ListViewId extends AggregateId {\n\n\tconstructor(id: string) {\n\t\tsuper(id);\n\t}\n\n\ttoReadModelRootId(): ReadModelRootId {\n\t\treturn new ListViewReadModelRootId(this.getId());\n\t}\n}\n","import { ReadModelRootId } from '@generic-ui/hermes';\n\nimport { ListViewId } from '../domain/list-view.id';\n\n\nexport class ListViewReadModelRootId extends ReadModelRootId {\n\n\tconstructor(id: string) {\n\t\tsuper(id);\n\t}\n\n\ttoAggregateId(): ListViewId {\n\t\treturn new ListViewId(this.getId());\n\t}\n}\n","import { CreateAggregateCommand } from '@generic-ui/hermes';\n\nimport { ListViewId } from '../list-view.id';\n\n\nexport class CreateListViewCommand extends CreateAggregateCommand {\n\n\tconstructor(listViewId: ListViewId) {\n\t\tsuper(listViewId, 'CreateListViewCommand');\n\t}\n\n}\n","import { Command } from '@generic-ui/hermes';\nimport { ListViewId } from './list-view.id';\n\nexport abstract class ListViewCommand extends Command<ListViewId> {\n}\n","import { ListViewMode } from './list-view-mode';\nimport { ListViewId } from '../list-view.id';\nimport { ListViewCommand } from '../list-view.command';\n\n\nexport class SetListViewModeCommand extends ListViewCommand {\n\n\tconstructor(listViewId: ListViewId,\n\t\t\t\tprivate readonly mode: ListViewMode) {\n\t\tsuper(listViewId, 'SetListViewModeCommand');\n\t}\n\n\tgetMode(): ListViewMode {\n\t\treturn this.mode;\n\t}\n\n}\n","import { ListViewId } from '../../list-view.id';\nimport { ListViewCommand } from '../../list-view.command';\n\n\nexport class ToggleListViewSelectorCommand extends ListViewCommand {\n\n\tconstructor(listViewId: ListViewId,\n\t\t\t\tprivate readonly enabled: boolean) {\n\t\tsuper(listViewId, 'ToggleListViewSelectorCommand');\n\t}\n\n\tiseEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandDispatcher } from '@generic-ui/hermes';\n\nimport { ListViewId } from './list-view.id';\nimport { CreateListViewCommand } from './create/create-list-view.command';\nimport { ListViewMode } from './mode/list-view-mode';\nimport { SetListViewModeCommand } from './mode/set-list-view-mode.command';\nimport { ToggleListViewSelectorCommand } from './mode/selector/toggle-list-view-selector.command';\n\n\n@Injectable()\nexport class ListViewDispatcher {\n\n\tconstructor(private commandDispatcher: CommandDispatcher) {\n\t}\n\n\tcreate(listViewId: ListViewId): void {\n\t\tthis.commandDispatcher.dispatch(new CreateListViewCommand(listViewId));\n\t}\n\n\tsetMode(mode: ListViewMode, listViewId: ListViewId): void {\n\t\tthis.commandDispatcher.dispatch(new SetListViewModeCommand(listViewId, mode));\n\t}\n\n\ttoggleSelector(enabled: boolean, listViewId: ListViewId): void {\n\t\tthis.commandDispatcher.dispatch(new ToggleListViewSelectorCommand(listViewId, enabled));\n\t}\n\n}\n","import { ListViewReadModelRootId } from './list-view.read-model-root-id';\n\nexport const listViewGlobalId = new ListViewReadModelRootId('-1');\n","import { Injectable } from '@angular/core';\n\nimport { CommandInvoker } from '@generic-ui/hermes';\n\nimport { ListViewDispatcher } from '../domain/list-view.dispatcher';\nimport { listViewGlobalId } from './list-view.global-id';\nimport { ListViewReadModelRootId } from './list-view.read-model-root-id';\nimport { ListViewMode } from '../domain/mode/list-view-mode';\n\n\n@Injectable()\nexport class ListViewCommandInvoker implements CommandInvoker {\n\n\tconstructor(private readonly listViewDispatcher: ListViewDispatcher) {\n\t}\n\n\tcreate(listViewReadModelRootId: ListViewReadModelRootId = listViewGlobalId): void {\n\t\tthis.listViewDispatcher.create(listViewReadModelRootId.toAggregateId());\n\t}\n\n\tsetMode(mode: ListViewMode, listViewReadModelRootId: ListViewReadModelRootId = listViewGlobalId): void {\n\t\tthis.listViewDispatcher.setMode(mode, listViewReadModelRootId.toAggregateId());\n\t}\n\n\ttoggleSelector(enabled: boolean, listViewReadModelRootId: ListViewReadModelRootId = listViewGlobalId): void {\n\t\tthis.listViewDispatcher.toggleSelector(enabled, listViewReadModelRootId.toAggregateId());\n\t}\n\n}\n","import { ChangeDetectionStrategy, Component, ElementRef, ViewEncapsulation } from '@angular/core';\n\nimport { StructureId } from '../../core/domain/structure.id';\nimport { StructureIdGenerator } from '../../grid/feature/structure-id.generator';\nimport { structureIdFactory } from '../../grid/feature/structure.component';\nimport { StructureCommandInvoker } from '../../core/api/structure.command-invoker';\nimport { SourceCommandInvoker } from '../../source/core/api/source.command-invoker';\nimport { listViewProviders } from './list-view.providers';\nimport { PagingFeatureModule } from '../../paging/feature/paging.feature-module';\nimport { provideComponentServices } from '../../grid/feature/local/local-providers';\nimport { PagingCommandInvoker } from '../../paging/core/api/paging.command-invoker';\nimport { ListViewTemplateArchive } from './source/template/list-view-template.archive';\nimport { ListViewCardTemplateArchive } from './card/template/list-view.card-template.archive';\nimport { ListViewReadModelRootId } from '../core/api/list-view.read-model-root-id';\nimport { ListViewCommandInvoker } from '../core/api/list-view.command-invoker';\nimport { filterContainerToken } from '../../filter/core/api/config/filter-container-token';\nimport { FilterContainerRef } from '../../filter/core/api/config/filter-container-ref';\nimport { TranslationFeatureModule } from '../../../l10n/feature/translation.feature-module';\nimport { TranslationService } from '../../../l10n/core/api/translation.service';\n\n\n/** @internal */\nexport function listViewIdFactory(generator: StructureIdGenerator): ListViewReadModelRootId {\n\treturn new ListViewReadModelRootId('gui-' + generator.generateId());\n}\n\nconst componentProviders = [{\n\tprovide: StructureId,\n\tuseFactory: structureIdFactory,\n\tdeps: [\n\t\tStructureIdGenerator\n\t]\n}, {\n\tprovide: ListViewReadModelRootId,\n\tuseFactory: listViewIdFactory,\n\tdeps: [\n\t\tStructureIdGenerator\n\t]\n},\n\t...listViewProviders,\n\n\t...provideComponentServices(),\n\n\tPagingFeatureModule.forComponent(),\n\tTranslationFeatureModule.forComponent()\n];\n\n@Component({\n\tselector: 'gui-list-view',\n\ttemplate: `\n\n\t\t<div gui-list-view-layout></div>\n\t`,\n\tencapsulation: ViewEncapsulation.None,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tproviders: [\n\t\t...componentProviders,\n\t\t{\n\t\t\tprovide: filterContainerToken,\n\t\t\tuseExisting: ListViewComponent\n\t\t}\n\t],\n\tstyleUrls: [\n\t\t'./style/list-view.ngx.scss',\n\t\t'./source/list-view-source.component.ngx.scss',\n\t\t'./style/theme/generic.list.ngx.scss'\n\t],\n\thost: {\n\t\t'[class.gui-list-view]': '\"true\"',\n\t\t'[class.gui-generic]': '\"true\"',\n\t\t'[id]': 'structureId.toString()'\n\t}\n})\nexport class ListViewComponent implements FilterContainerRef {\n\n\tconstructor(public readonly structureId: StructureId,\n\t\t\t\tpublic readonly listViewReadModelRootId: ListViewReadModelRootId,\n\t\t\t\tprivate readonly elementRef: ElementRef,\n\t\t\t\tsourceCommandService: SourceCommandInvoker,\n\t\t\t\tcontainerTemplateArchive: ListViewTemplateArchive,\n\t\t\t\tlistCardTemplateArchive: ListViewCardTemplateArchive,\n\t\t\t\tstructureCommandService: StructureCommandInvoker,\n\t\t\t\tstructurePagingCommandDispatcher: PagingCommandInvoker,\n\t\t\t\tlistViewCommandDispatcher: ListViewCommandInvoker,\n\t\t\t\tprivate readonly translationService: TranslationService\n\t) {\n\t\tthis.translationService.setDefaultTranslation();\n\t\tstructureCommandService.create(this.structureId);\n\t\tlistViewCommandDispatcher.create(this.listViewReadModelRootId);\n\t}\n\n\tgetElementRef(): ElementRef {\n\t\treturn this.elementRef;\n\t}\n\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\nimport { SourceWarehouse } from '../../../source/core/api/source.warehouse';\nimport { SmartComponent } from '../../../../common/cdk/component/smart-component';\nimport { ItemEntity } from '../../../source/core/domain/core/item/item.entity';\nimport { StructureId } from '../../../core/domain/structure.id';\nimport { ListViewTemplate } from './template/list-view-template';\nimport { ListViewTemplateArchive } from './template/list-view-template.archive';\n\n@Component({\n\tselector: 'div[gui-list-view-source]',\n\ttemplateUrl: './list-view-source.component.html',\n\tencapsulation: ViewEncapsulation.None,\n\tchangeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ListViewSourceComponent extends SmartComponent implements OnInit, OnDestroy {\n\n\tsource: Array<any> = [];\n\n\ttemplate: ListViewTemplate;\n\n\tconstructor(private readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\telementRef: ElementRef,\n\t\t\t\tprivate readonly structureId: StructureId,\n\t\t\t\tprivate readonly structureSourceWarehouse: SourceWarehouse,\n\t\t\t\tprivate readonly containerTemplateArchive: ListViewTemplateArchive) {\n\t\tsuper(changeDetectorRef, elementRef);\n\t\tthis.addClassToHost('gui-block');\n\t}\n\n\tngOnInit() {\n\n\t\tthis.subscribeAndRender(\n\t\t\tthis.structureSourceWarehouse.onEntities(this.structureId),\n\t\t\t(items: Array<ItemEntity>) => {\n\t\t\t\tthis.source = items.map(i => i.getData());\n\t\t\t}\n\t\t);\n\n\t\tthis.subscribeAndRender(\n\t\t\tthis.containerTemplateArchive.on(),\n\t\t\t(template: ListViewTemplate) => {\n\t\t\t\tthis.template = template;\n\t\t\t}\n\t\t);\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-list-view-source';\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, ReplaySubject } from 'rxjs';\nimport { distinctUntilChanged, map } from 'rxjs/operators';\n\nimport { Reactive } from '../../../../../common/cdk/reactive/reactive';\nimport { ListViewMode } from '../../domain/mode/list-view-mode';\nimport { ListViewId } from '../../domain/list-view.id';\n\n\n@Injectable()\nexport class ListViewModeRepository extends Reactive {\n\n\tprivate mode = new Map<string, ListViewMode>();\n\n\tprivate mode$ = new ReplaySubject<Map<string, ListViewMode>>();\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tsetMode(mode: ListViewMode, listViewId: ListViewId): void {\n\t\tthis.next(mode, listViewId);\n\t}\n\n\ton(listViewId: ListViewId): Observable<ListViewMode> {\n\n\t\treturn this.mode$\n\t\t\t\t   .asObservable()\n\t\t\t\t   .pipe(\n\t\t\t\t\t   this.takeUntil(),\n\t\t\t\t\t   map((map: Map<string, ListViewMode>) => {\n\t\t\t\t\t\t   return map.get(listViewId.toString());\n\t\t\t\t\t   }),\n\t\t\t\t\t   distinctUntilChanged()\n\t\t\t\t   );\n\t}\n\n\tprivate next(mode: ListViewMode, listViewId: ListViewId): void {\n\t\tthis.mode.set(listViewId.toString(), mode);\n\t\tthis.mode$.next(this.mode);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, ReplaySubject } from 'rxjs';\nimport { distinctUntilChanged, map } from 'rxjs/operators';\n\nimport { Reactive } from '@generic-ui/hermes';\n\nimport { ListViewId } from '../../../domain/list-view.id';\n\n\n@Injectable()\nexport class ListViewSelectorRepository extends Reactive {\n\n\tprivate selectorEnabled = new Map<string, boolean>();\n\n\tprivate selectorEnabled$ = new ReplaySubject<Map<string, boolean>>();\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tsetMode(selectorEnabled: boolean, listViewId: ListViewId): void {\n\t\tthis.next(selectorEnabled, listViewId);\n\t}\n\n\ton(listViewId: ListViewId): Observable<boolean> {\n\n\t\treturn this.selectorEnabled$\n\t\t\t\t   .asObservable()\n\t\t\t\t   .pipe(\n\t\t\t\t\t   this.takeUntil(),\n\t\t\t\t\t   map((map: Map<string, boolean>) => {\n\t\t\t\t\t\t   return map.get(listViewId.toString());\n\t\t\t\t\t   }),\n\t\t\t\t\t   distinctUntilChanged()\n\t\t\t\t   );\n\t}\n\n\tprivate next(enabled: boolean, listViewId: ListViewId): void {\n\t\tthis.selectorEnabled.set(listViewId.toString(), enabled);\n\t\tthis.selectorEnabled$.next(this.selectorEnabled);\n\t}\n\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, OnInit, ViewEncapsulation } from '@angular/core';\n\nimport { SmartComponent } from '../../../../common/cdk/component/smart-component';\nimport { ListViewMode } from '../../core/domain/mode/list-view-mode';\nimport { ListViewReadModelRootId } from '../../core/api/list-view.read-model-root-id';\nimport { ListViewModeRepository } from '../../core/api/mode/list-view.mode.repository';\nimport { ListViewSelectorRepository } from '../../core/api/mode/selector/list-view.selector.repository';\n\n\n@Component({\n\tselector: 'div[gui-list-view-layout]',\n\ttemplateUrl: './list-view-layout.component.html',\n\tencapsulation: ViewEncapsulation.None,\n\tchangeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ListViewLayoutComponent extends SmartComponent implements OnInit {\n\n\tlistModeEnabled: boolean;\n\n\tcardModeEnabled: boolean;\n\n\tselectorEnabled: boolean;\n\n\tsearchBarEnabled: boolean = true;\n\n\tconstructor(private readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\telementRef: ElementRef,\n\t\t\t\tprivate readonly listViewReadModelRootId: ListViewReadModelRootId,\n\t\t\t\tprivate readonly listViewModeRepository: ListViewModeRepository,\n\t\t\t\tprivate readonly listViewSelectorRepository: ListViewSelectorRepository\n\t) {\n\t\tsuper(changeDetectorRef, elementRef);\n\t}\n\n\tngOnInit() {\n\n\t\tthis.subscribeAndRender(\n\t\t\tthis.listViewModeRepository.on(this.listViewReadModelRootId.toAggregateId()),\n\t\t\t(mode: ListViewMode) => {\n\t\t\t\tthis.listModeEnabled = mode === ListViewMode.LIST;\n\t\t\t\tthis.cardModeEnabled = mode === ListViewMode.CARD;\n\t\t\t}\n\t\t);\n\n\t\tthis.subscribeAndRender(\n\t\t\tthis.listViewSelectorRepository.on(this.listViewReadModelRootId.toAggregateId()),\n\t\t\t(enabled: boolean) => {\n\t\t\t\tthis.selectorEnabled = enabled;\n\t\t\t}\n\t\t);\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-list-view-layout';\n\t}\n}\n","import { ChangeDetectionStrategy, Component, ElementRef, Input, ViewEncapsulation } from '@angular/core';\n\nimport { PureComponent } from '../../../../../common/cdk/component/pure-component';\nimport { ListViewTemplate } from '../template/list-view-template';\n\n\n@Component({\n\tselector: 'div[gui-list-view-item][item][template]',\n\ttemplateUrl: './list-view-item.component.html',\n\tencapsulation: ViewEncapsulation.None,\n\tchangeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ListViewItemComponent extends PureComponent {\n\n\t@Input()\n\titem: any;\n\n\t@Input()\n\ttemplate: ListViewTemplate;\n\n\tcontext: string = 'Template not provided';\n\n\thasTemplateRef: boolean;\n\n\tconstructor(elementRef: ElementRef) {\n\t\tsuper(elementRef);\n\n\t\tthis.addClassToHost('gui-w-full');\n\t\tthis.addClassToHost('gui-my-6');\n\t\tthis.addClassToHost('gui-mx-0');\n\t\tthis.addClassToHost('gui-block');\n\t}\n\n\tngOnChanges() {\n\n\t\tif (this.template && this.item) {\n\n\t\t\tthis.hasTemplateRef = this.template.hasTemplateRef();\n\n\t\t\tif (!this.hasTemplateRef) {\n\t\t\t\tthis.context = this.template.getTemplateMethod()(this.item);\n\t\t\t}\n\n\t\t}\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-list-item';\n\t}\n\n}\n","import { ChangeDetectionStrategy, Component, ElementRef, Input, OnChanges, ViewEncapsulation } from '@angular/core';\n\nimport { PureComponent } from '../../../../common/cdk/component/pure-component';\nimport { NgChanges } from '../../../../common/cdk/component/ng-changes';\n\n\n@Component({\n\tselector: 'div[gui-empty-source][items]',\n\ttemplateUrl: './empty-source.component.html',\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class EmptySourceComponent extends PureComponent implements OnChanges {\n\n\t@Input()\n\titems: Array<any>;\n\n\tconstructor(elRef: ElementRef) {\n\t\tsuper(elRef);\n\t\tthis.addClassToHost('gui-py-23');\n\t\tthis.addClassToHost('gui-px-6');\n\t}\n\n\tngOnChanges(changes: NgChanges<EmptySourceComponent>) {\n\n\t\tif (this.hasChanged(changes.items)) {\n\t\t\tif (this.items.length === 0) {\n\t\t\t\tthis.removeClassFromHost('gui-hidden');\n\t\t\t\tthis.addClassToHost('gui-block');\n\t\t\t} else {\n\t\t\t\tthis.removeClassFromHost('gui-block');\n\t\t\t\tthis.addClassToHost('gui-hidden');\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-empty-source';\n\t}\n}\n","import { NgModule, Provider } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { EmptySourceComponent } from './empty-source.component';\nimport { TranslationFeatureModule } from '../../../../l10n/feature/translation.feature-module';\nimport { FeatureModule } from '@generic-ui/hermes';\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tTranslationFeatureModule\n\t],\n\tdeclarations: [\n\t\tEmptySourceComponent\n\t],\n\texports: [\n\t\tEmptySourceComponent\n\t]\n})\nexport class EmptySourceFeatureModule extends FeatureModule {\n\n\tstatic forComponent(): Array<Provider> {\n\t\treturn [];\n\t}\n\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\n\nimport { SourceWarehouse } from '../../../source/core/api/source.warehouse';\nimport { SmartComponent } from '../../../../common/cdk/component/smart-component';\nimport { ItemEntity } from '../../../source/core/domain/core/item/item.entity';\nimport { StructureId } from '../../../core/domain/structure.id';\nimport { ListViewCardTemplate } from './template/list-view.card-template';\nimport { ListViewCardTemplateArchive } from './template/list-view.card-template.archive';\nimport { StreamCloser } from '../../../../common/cdk/reactive/stream-closer';\n\n\n@Component({\n\tselector: 'div[gui-list-container-card]',\n\ttemplateUrl: './list-view.container-card.component.html',\n\tencapsulation: ViewEncapsulation.None,\n\tchangeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ListViewContainerCardComponent extends SmartComponent implements OnInit, OnDestroy {\n\n\titems: Array<any> = [];\n\n\tcardTemplate: ListViewCardTemplate;\n\n\tprivate readonly localStreamCloser = new StreamCloser();\n\n\tconstructor(private readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\telementRef: ElementRef,\n\t\t\t\tprivate readonly structureId: StructureId,\n\t\t\t\tprivate readonly structureSourceWarehouse: SourceWarehouse,\n\t\t\t\tprivate readonly listCardTemplateArchive: ListViewCardTemplateArchive) {\n\t\tsuper(changeDetectorRef, elementRef);\n\n\t\tthis.addClassToHost('gui-flex');\n\t\tthis.addClassToHost('gui-flex-wrap');\n\t\tthis.addClassToHost('gui-m-0');\n\t\tthis.addClassToHost('gui-p-0');\n\t\tthis.addClassToHost('gui-rounded');\n\n\t}\n\n\tngOnInit() {\n\t\tthis.structureSourceWarehouse\n\t\t\t.onEntities(this.structureId)\n\t\t\t.pipe(\n\t\t\t\tthis.localStreamCloser.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((items: Array<ItemEntity>) => {\n\t\t\t\tthis.items = items.map(i => i.getData());\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.listCardTemplateArchive\n\t\t\t.on()\n\t\t\t.pipe(\n\t\t\t\tthis.localStreamCloser.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((template: ListViewCardTemplate) => {\n\t\t\t\tthis.cardTemplate = template;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\t}\n\n\tngOnDestroy() {\n\t\tthis.localStreamCloser.unsubscribe();\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-list-container-card';\n\t}\n\n}\n","import { ChangeDetectionStrategy, Component, ElementRef, Input, ViewEncapsulation } from '@angular/core';\n\nimport { PureComponent } from '../../../../../common/cdk/component/pure-component';\nimport { ListViewCardTemplate } from '../template/list-view.card-template';\n\n\n@Component({\n\tselector: 'div[gui-list-card-item][item][template]',\n\ttemplateUrl: './list-view.card-item.component.html',\n\tencapsulation: ViewEncapsulation.None,\n\tchangeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ListViewCardItemComponent extends PureComponent {\n\n\t@Input()\n\titem: any;\n\n\t@Input()\n\ttemplate: ListViewCardTemplate;\n\n\tcontext: string = 'Template not provided';\n\n\thasTemplateRef: boolean;\n\n\tconstructor(elementRef: ElementRef) {\n\t\tsuper(elementRef);\n\n\t\tthis.addClassToHost('gui-cursor-pointer');\n\t\tthis.addClassToHost('gui-block');\n\t\tthis.addClassToHost('gui-m-0');\n\t\tthis.addClassToHost('gui-p-0');\n\t\tthis.addClassToHost('gui-relative');\n\t}\n\n\tngOnChanges() {\n\t\tif (this.template && this.item) {\n\n\t\t\tthis.hasTemplateRef = this.template.hasTemplateRef();\n\n\t\t\tif (!this.hasTemplateRef) {\n\t\t\t\tthis.context = this.template.getTemplateMethod()(this.item);\n\t\t\t}\n\n\t\t}\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-list-card';\n\t}\n\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, OnInit, ViewEncapsulation } from '@angular/core';\n\nimport { GuiSelectOption } from '@generic-ui/fabric';\n\nimport { SmartComponent } from '../../../../../common/cdk/component/smart-component';\nimport { ListViewMode } from '../../../core/domain/mode/list-view-mode';\nimport { ListViewModeRepository } from '../../../core/api/mode/list-view.mode.repository';\nimport { ListViewReadModelRootId } from '../../../core/api/list-view.read-model-root-id';\n\n\n@Component({\n\tselector: 'div[gui-list-mode-select]',\n\ttemplateUrl: './list-view.container-mode-select.component.html',\n\tencapsulation: ViewEncapsulation.None,\n\tchangeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ListViewContainerModeSelectComponent extends SmartComponent implements OnInit {\n\n\toptions: Array<GuiSelectOption> = Object.keys(ListViewMode)\n\t\t\t\t\t\t\t\t\t\t\t.map((key: string) => ListViewMode[key])\n\t\t\t\t\t\t\t\t\t\t\t.filter((val) => !Number.isInteger(val))\n\t\t\t\t\t\t\t\t\t\t\t.map((val) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn this.toGuiSelectOption(val);\n\t\t\t\t\t\t\t\t\t\t\t});\n\n\tlistContainerMode: GuiSelectOption;\n\n\tconstructor(private readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\telementRef: ElementRef,\n\t\t\t\tprivate readonly listViewReadModelRootId: ListViewReadModelRootId,\n\t\t\t\tprivate readonly listViewModeRepository: ListViewModeRepository) {\n\t\tsuper(changeDetectorRef, elementRef);\n\t}\n\n\tngOnInit() {\n\n\t\tthis.subscribeAndRender(\n\t\t\tthis.listViewModeRepository.on(this.listViewReadModelRootId.toAggregateId()),\n\t\t\t(mode: ListViewMode) => {\n\t\t\t\tthis.listContainerMode = this.toGuiSelectOption(mode);\n\t\t\t}\n\t\t);\n\t}\n\n\tchangeContainerMode(mode: GuiSelectOption): void {\n\t\tconst selectedMode = this.toListViewMode(mode.value);\n\t\tthis.listViewModeRepository.setMode(selectedMode, this.listViewReadModelRootId.toAggregateId());\n\t}\n\n\tprivate toGuiSelectOption(value: string | ListViewMode): GuiSelectOption {\n\t\treturn { value, name: value };\n\t}\n\n\tprivate toListViewMode(mode: string): ListViewMode {\n\n\t\tswitch (mode) {\n\t\t\tcase 'List':\n\t\t\t\treturn ListViewMode.LIST;\n\n\t\t\tcase 'Card':\n\t\t\t\treturn ListViewMode.CARD;\n\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-list-mode-select';\n\t}\n}\n","import { DomainEvent } from '@generic-ui/hermes';\nimport { ListViewId } from './list-view.id';\n\nexport abstract class ListViewDomainEvent extends DomainEvent<ListViewId> {\n}\n","import { ListViewId } from '../list-view.id';\nimport { ListViewDomainEvent } from '../list-view.domain-event';\n\n\nexport class ListViewCreatedEvent extends ListViewDomainEvent {\n\n\tconstructor(aggregateId: ListViewId) {\n\t\tsuper(aggregateId, null, 'ListViewCreatedEvent');\n\t}\n}\n","import { AggregateEvent } from '@generic-ui/hermes';\nimport { ListViewId } from './list-view.id';\n\nexport abstract class ListViewAggregateEvent extends AggregateEvent<ListViewId> {\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { ListViewCreatedEvent } from './list-view-created.event';\nimport { ListViewId } from '../list-view.id';\nimport { ListViewAggregateEvent } from '../list-view.aggregate-event';\n\nexport class ListViewCreatedAggregateEvent extends ListViewAggregateEvent {\n\n\tconstructor(aggregateId: ListViewId) {\n\t\tsuper(aggregateId, 'ListViewCreatedAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<ListViewId> {\n\t\treturn new ListViewCreatedEvent(this.getAggregateId());\n\t}\n}\n","import { ListViewId } from '../list-view.id';\nimport { ListViewMode } from './list-view-mode';\nimport { ListViewDomainEvent } from '../list-view.domain-event';\n\n\nexport class ListViewModeSetEvent extends ListViewDomainEvent {\n\n\tconstructor(schemaId: ListViewId,\n\t\t\t\tprivate readonly mode: ListViewMode) {\n\t\tsuper(schemaId, mode, 'ListViewModeSetEvent');\n\t}\n\n\tgetTheme(): ListViewMode {\n\t\treturn this.mode;\n\t}\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { ListViewModeSetEvent } from './list-view-mode-set.event';\nimport { ListViewId } from '../list-view.id';\nimport { ListViewMode } from './list-view-mode';\nimport { ListViewAggregateEvent } from '../list-view.aggregate-event';\n\nexport class ListViewModeSetAggregateEvent extends ListViewAggregateEvent {\n\n\tconstructor(listViewId: ListViewId,\n\t\t\t\tprivate readonly mode: ListViewMode) {\n\t\tsuper(listViewId, 'ListViewModeSetAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<ListViewId> {\n\t\treturn new ListViewModeSetEvent(this.getAggregateId(), this.mode);\n\t}\n}\n","export class SelectorVisibility {\n\n\tenabled: boolean = null;\n\n\tvisible: boolean = false;\n\n\tconstructor() {\n\t}\n\n\tisVisible(): boolean {\n\n\t\tif (this.enabled !== null) {\n\t\t\treturn this.enabled;\n\t\t}\n\n\t\treturn this.visible;\n\t}\n\n\tsetEnabled(enabled: boolean): void {\n\t\tthis.enabled = enabled;\n\t}\n\n\tsetVisible(visible: boolean): void {\n\t\tthis.visible = visible;\n\t}\n\n}\n","import { ListViewId } from '../../list-view.id';\nimport { ListViewDomainEvent } from '../../list-view.domain-event';\n\n\nexport class ListViewSelectorToggledEvent extends ListViewDomainEvent {\n\n\tconstructor(schemaId: ListViewId,\n\t\t\t\tprivate readonly enabled: boolean) {\n\t\tsuper(schemaId, enabled, 'ListViewSelectorToggledEvent');\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { ListViewSelectorToggledEvent } from './list-view-selector-toggled.event';\nimport { ListViewId } from '../../list-view.id';\nimport { ListViewAggregateEvent } from '../../list-view.aggregate-event';\n\n\nexport class ListViewSelectorToggledAggregateEvent extends ListViewAggregateEvent {\n\n\tconstructor(listViewId: ListViewId,\n\t\t\t\tprivate readonly enabled: boolean) {\n\t\tsuper(listViewId, 'ListViewSelectorToggledAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<ListViewId> {\n\t\treturn new ListViewSelectorToggledEvent(this.getAggregateId(), this.enabled);\n\t}\n}\n","import { AggregateEvent, AggregateEventType, AggregateRoot } from '@generic-ui/hermes';\n\nimport { ListViewId } from './list-view.id';\nimport { ListViewCreatedAggregateEvent } from './create/list-view-created.aggregate-event';\nimport { ListViewModeSetAggregateEvent } from './mode/list-view-mode-set.aggregate-event';\nimport { ListViewMode } from './mode/list-view-mode';\nimport { SelectorVisibility } from './mode/selector/selector-visibility';\nimport { ListViewSelectorToggledAggregateEvent } from './mode/selector/list-view-selector-toggled.aggregate-event';\n\n\nexport class ListViewAggregate extends AggregateRoot<ListViewId> {\n\n\tprivate mode: ListViewMode;\n\n\tprivate selectorVisibility: SelectorVisibility;\n\n\tconstructor(listViewId: ListViewId) {\n\t\tsuper(listViewId, 'ListViewAggregate');\n\t\tthis.setMode(ListViewMode.LIST);\n\t\tthis.initSelectorVisibility();\n\t}\n\n\tcreateEvent(): AggregateEventType<AggregateEvent<ListViewId>> {\n\t\treturn ListViewCreatedAggregateEvent;\n\t}\n\n\tsetMode(mode: ListViewMode): void {\n\t\tthis.mode = mode;\n\t\tthis.addEvent(new ListViewModeSetAggregateEvent(this.getId(), this.mode));\n\t}\n\n\ttoggleModeSelector(enabled: boolean): void {\n\t\tthis.selectorVisibility.setEnabled(enabled);\n\t\tthis.emitEventAfterSelectorVisibilityChange();\n\t}\n\n\tprivate initSelectorVisibility(): void {\n\t\tthis.selectorVisibility = new SelectorVisibility();\n\t\tthis.emitEventAfterSelectorVisibilityChange();\n\t}\n\n\tprivate emitEventAfterSelectorVisibilityChange(): void {\n\t\tthis.addEvent(new ListViewSelectorToggledAggregateEvent(this.getId(), this.selectorVisibility.isVisible()));\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateFactory } from '@generic-ui/hermes';\n\nimport { ListViewId } from './list-view.id';\nimport { ListViewAggregate } from './list-view.aggregate';\n\n\n@Injectable()\nexport class ListViewAggregateFactory extends AggregateFactory<ListViewId, ListViewAggregate> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tcreate(id: ListViewId): ListViewAggregate {\n\t\treturn new ListViewAggregate(id);\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandType, CreateAggregateCommandHandler } from '@generic-ui/hermes';\n\nimport { CreateListViewCommand } from './create-list-view.command';\nimport { ListViewAggregate } from '../list-view.aggregate';\n\n\n@Injectable()\nexport class CreateListViewCommandHandler implements CreateAggregateCommandHandler<ListViewAggregate, CreateListViewCommand> {\n\n\tforCommand(): CommandType<CreateListViewCommand> {\n\t\treturn CreateListViewCommand;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { InMemoryStore } from '@generic-ui/hermes';\n\nimport { ListViewId } from '../../domain/list-view.id';\nimport { ListViewAggregate } from '../../domain/list-view.aggregate';\n\n\n@Injectable()\nexport class InMemoryListViewStore extends InMemoryStore<ListViewId, ListViewAggregate> {\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateStoreRegister, InMemoryAggregateStore } from '@generic-ui/hermes';\n\nimport { InMemoryListViewStore } from './in-memory.list-view.store';\nimport { ListViewId } from '../../domain/list-view.id';\nimport { ListViewAggregate } from '../../domain/list-view.aggregate';\n\n\n@Injectable()\nexport class InMemoryListViewAggregateStore extends InMemoryAggregateStore<ListViewId, ListViewAggregate> {\n\n\tconstructor(inMemorySchemaStore: InMemoryListViewStore,\n\t\t\t\taggregateStoreRegister: AggregateStoreRegister) {\n\t\tsuper(inMemorySchemaStore, aggregateStoreRegister);\n\t}\n\n}\n","import { AggregateRepository, Optional } from '@generic-ui/hermes';\n\nimport { ListViewId } from './list-view.id';\nimport { ListViewAggregate } from './list-view.aggregate';\n\n\nexport abstract class ListViewAggregateRepository extends AggregateRepository<ListViewId, ListViewAggregate> {\n\n\tabstract findById(listViewId: ListViewId): Optional<ListViewAggregate>;\n\n\tabstract save(aggregate: ListViewAggregate): void;\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { Optional } from '@generic-ui/hermes';\n\nimport { InMemoryListViewAggregateStore } from './in-memory.list-view.aggregate-store';\n\nimport { ListViewAggregateRepository } from '../../domain/list-view.aggregate-repository';\nimport { ListViewId } from '../../domain/list-view.id';\nimport { ListViewAggregate } from '../../domain/list-view.aggregate';\n\n\n@Injectable()\nexport class InMemoryListViewAggregateRepository extends ListViewAggregateRepository {\n\n\tconstructor(private inMemorySchemaAggregateStore: InMemoryListViewAggregateStore) {\n\t\tsuper();\n\t}\n\n\tfindById(listViewId: ListViewId): Optional<ListViewAggregate> {\n\t\treturn this.inMemorySchemaAggregateStore.findById(listViewId);\n\t}\n\n\tsave(listViewAggregate: ListViewAggregate): void {\n\t\tthis.inMemorySchemaAggregateStore.save(listViewAggregate);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventBus, EventRepository } from '@generic-ui/hermes';\n\nimport { ListViewId } from '../domain/list-view.id';\nimport { ListViewReadModelRootId } from './list-view.read-model-root-id';\nimport { ListViewModeSetEvent } from '../domain/mode/list-view-mode-set.event';\n\n@Injectable()\nexport class ListViewEventRepository extends EventRepository<ListViewReadModelRootId, ListViewId> {\n\n\tconstructor(domainEventBus: DomainEventBus) {\n\t\tsuper(domainEventBus);\n\t}\n\n\tonModeChange(listViewReadModelRootId: ListViewReadModelRootId) {\n\n\t\treturn this.onEvent(listViewReadModelRootId, ListViewModeSetEvent);\n\t}\n\n\n}\n","import { Injectable } from '@angular/core';\nimport { Warehouse } from '@generic-ui/hermes';\n\n\n@Injectable()\nexport class ListViewWarehouse implements Warehouse {\n\n\tconstructor() {\n\t}\n\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { SetListViewModeCommand } from './set-list-view-mode.command';\nimport { ListViewAggregate } from '../list-view.aggregate';\nimport { ListViewCommand } from '../list-view.command';\n\n\n@Injectable()\nexport class SetListViewModeCommandHandler implements CommandHandler<ListViewAggregate, SetListViewModeCommand> {\n\n\tconstructor(private readonly domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SetListViewModeCommand> {\n\t\treturn SetListViewModeCommand;\n\t}\n\n\thandle(listViewAggregate: ListViewAggregate, command: SetListViewModeCommand): void {\n\n\t\tconst mode = command.getMode();\n\n\t\tlistViewAggregate.setMode(mode);\n\t}\n\n\tpublish(aggregate: ListViewAggregate, command: ListViewCommand): void {\n\t\tthis.domainEventPublisher.publishFromAggregate(aggregate);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { ToggleListViewSelectorCommand } from './toggle-list-view-selector.command';\nimport { ListViewAggregate } from '../../list-view.aggregate';\nimport { ListViewCommand } from '../../list-view.command';\n\n\n@Injectable()\nexport class ToggleListViewSelectorCommandHandler implements CommandHandler<ListViewAggregate, ToggleListViewSelectorCommand> {\n\n\tconstructor(private readonly domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<ToggleListViewSelectorCommand> {\n\t\treturn ToggleListViewSelectorCommand;\n\t}\n\n\thandle(listViewAggregate: ListViewAggregate, command: ToggleListViewSelectorCommand): void {\n\n\t\tconst enabled = command.iseEnabled();\n\n\t\tlistViewAggregate.toggleModeSelector(enabled);\n\t}\n\n\tpublish(aggregate: ListViewAggregate, command: ListViewCommand): void {\n\t\tthis.domainEventPublisher.publishFromAggregate(aggregate);\n\t}\n\n}\n","import { NgModule } from '@angular/core';\n\nimport { HermesModule } from '@generic-ui/hermes';\n\nimport { ListViewDispatcher } from './list-view.dispatcher';\nimport { listViewKey } from '../api/list-view.api-module';\nimport { SetListViewModeCommandHandler } from './mode/set-list-view-mode.command-handler';\nimport { ToggleListViewSelectorCommandHandler } from './mode/selector/toggle-list-view-selector.command-handler';\n\n\n@NgModule({\n\timports: [],\n\tproviders: [\n\t\tListViewDispatcher\n\t],\n\tdeclarations: [],\n\texports: []\n})\nexport class ListViewDomainModule {\n\n\tstatic commandHandlers() {\n\t\treturn [\n\t\t\t...HermesModule.registerCommandHandler(SetListViewModeCommandHandler, listViewKey),\n\t\t\t...HermesModule.registerCommandHandler(ToggleListViewSelectorCommandHandler, listViewKey)\n\t\t];\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventHandler, DomainEventType } from '@generic-ui/hermes';\n\nimport { ListViewModeRepository } from './list-view.mode.repository';\nimport { ListViewId } from '../../domain/list-view.id';\nimport { ListViewModeSetEvent } from '../../domain/mode/list-view-mode-set.event';\n\n\n@Injectable()\nexport class ListViewModeSetEventHandler implements DomainEventHandler<ListViewId, ListViewModeSetEvent> {\n\n\tconstructor(private listViewModeRepository: ListViewModeRepository) {\n\t}\n\n\tforEvent(): DomainEventType<ListViewModeSetEvent> {\n\t\treturn ListViewModeSetEvent;\n\t}\n\n\thandle(event: ListViewModeSetEvent): void {\n\n\t\tif (event.ofMessageType('ListViewModeSetEvent')) {\n\t\t\tthis.listViewModeRepository.setMode(event.getTheme(), event.getAggregateId());\n\t\t}\n\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventHandler, DomainEventType } from '@generic-ui/hermes';\n\nimport { ListViewSelectorRepository } from './list-view.selector.repository';\n\nimport { ListViewId } from '../../../domain/list-view.id';\nimport { ListViewSelectorToggledEvent } from '../../../domain/mode/selector/list-view-selector-toggled.event';\n\n\n@Injectable()\nexport class ListViewSelectorToggledEventHandler implements DomainEventHandler<ListViewId, ListViewSelectorToggledEvent> {\n\n\tconstructor(private listViewSelectorRepository: ListViewSelectorRepository) {\n\t}\n\n\tforEvent(): DomainEventType<ListViewSelectorToggledEvent> {\n\t\treturn ListViewSelectorToggledEvent;\n\t}\n\n\thandle(event: ListViewSelectorToggledEvent): void {\n\n\t\tif (event.ofMessageType('ListViewSelectorToggledEvent')) {\n\t\t\tthis.listViewSelectorRepository.setMode(event.isEnabled(), event.getAggregateId());\n\t\t}\n\t}\n\n}\n","import { NgModule } from '@angular/core';\n\nimport { HermesModule } from '@generic-ui/hermes';\n\nimport { ListViewAggregateFactory } from '../domain/list-view.aggregate-factory';\nimport { CreateListViewCommandHandler } from '../domain/create/create-list-view.command-handler';\nimport { InMemoryListViewAggregateRepository } from '../infrastructure/in-memory/in-memory.list-view.aggregate-repository';\nimport { ListViewCommandInvoker } from './list-view.command-invoker';\nimport { ListViewEventRepository } from './list-view.event-repository';\nimport { ListViewWarehouse } from './list-view.warehouse';\nimport { InMemoryListViewAggregateStore } from '../infrastructure/in-memory/in-memory.list-view.aggregate-store';\nimport { InMemoryListViewStore } from '../infrastructure/in-memory/in-memory.list-view.store';\nimport { ListViewDomainModule } from '../domain/list-view.domain-module';\nimport { ListViewModeRepository } from './mode/list-view.mode.repository';\nimport { ListViewModeSetEventHandler } from './mode/list-view-mode-set.event-handler';\nimport { ListViewSelectorToggledEventHandler } from './mode/selector/list-view-selector-toggled.event-handler';\nimport { ListViewSelectorRepository } from './mode/selector/list-view.selector.repository';\n\nexport const listViewKey = 'ListViewKey';\n\n@NgModule({\n\timports: [\n\n\t\tHermesModule,\n\t\tHermesModule.defineAggregate(\n\t\t\tlistViewKey,\n\t\t\tListViewAggregateFactory,\n\t\t\tInMemoryListViewAggregateRepository,\n\t\t\tCreateListViewCommandHandler,\n\t\t\t[\n\t\t\t\t...ListViewDomainModule.commandHandlers()\n\t\t\t], [\n\t\t\t\t...HermesModule.registerDomainEventHandler(ListViewModeSetEventHandler),\n\t\t\t\t...HermesModule.registerDomainEventHandler(ListViewSelectorToggledEventHandler)\n\t\t\t]\n\t\t),\n\t\tListViewDomainModule\n\n\t],\n\tproviders: [\n\t\tListViewCommandInvoker,\n\t\tListViewEventRepository,\n\t\tListViewWarehouse,\n\n\t\tListViewModeRepository,\n\t\tListViewSelectorRepository,\n\n\t\tInMemoryListViewAggregateStore,\n\t\tInMemoryListViewStore\n\n\t],\n\tdeclarations: [],\n\texports: []\n})\nexport class ListViewApiModule {\n}\n","import { OnDestroy } from '@angular/core';\n\nimport { NgChanges } from './ng-changes';\nimport { StreamCloser } from '../reactive/stream-closer';\n\nexport abstract class Gate<T = any> implements OnDestroy {\n\n\tprivate readonly streamCloser = new StreamCloser();\n\n\tprotected constructor() {\n\t}\n\n\tngOnDestroy() {\n\t\tthis.streamCloser.unsubscribe();\n\t}\n\n\tisDefined(propertyName: string, changes: NgChanges<T>): boolean {\n\t\treturn changes[propertyName] !== undefined && changes[propertyName].currentValue !== undefined;\n\t}\n\n\tprotected unsubscribe(): void {\n\t\tthis.streamCloser.unsubscribe();\n\t}\n\n\tprotected takeUntil() {\n\t\treturn this.streamCloser.takeUntil();\n\t}\n\n}\n","import { EventEmitter, Input, OnChanges, OnInit, Output } from '@angular/core';\n\nimport { Gate } from '../../../../common/cdk/component/gate';\nimport { PagingConfig } from '../../core/api/paging-config';\nimport { StructureId } from '../../../core/domain/structure.id';\nimport { PagingCommandInvoker } from '../../core/api/paging.command-invoker';\nimport { PagingEventRepository } from '../../core/api/paging.event-repository';\nimport { NgChanges } from '../../../../common/cdk/component/ng-changes';\n\n\nexport abstract class PagingGate extends Gate implements OnChanges, OnInit {\n\n\t@Input()\n\tpaging: boolean | PagingConfig;\n\n\t@Output()\n\tpageChanged: EventEmitter<number> = new EventEmitter<number>();\n\n\t@Output()\n\tpageSizeChanged: EventEmitter<number> = new EventEmitter<number>();\n\n\tprotected constructor(protected readonly structureId: StructureId,\n\t\t\t\t\t\t  protected readonly structurePagingCommandDispatcher: PagingCommandInvoker,\n\t\t\t\t\t\t  protected readonly pagingEventRepository: PagingEventRepository) {\n\t\tsuper();\n\t}\n\n\tngOnChanges(changes: NgChanges<PagingGate>) {\n\n\t\tif (this.isDefined('paging', changes)) {\n\n\t\t\tlet pagingConfig: PagingConfig;\n\n\t\t\tif (typeof this.paging === 'boolean') {\n\t\t\t\tpagingConfig = {\n\t\t\t\t\tenabled: this.paging\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tpagingConfig = this.paging;\n\t\t\t}\n\n\t\t\tthis.structurePagingCommandDispatcher.setPaging(pagingConfig);\n\t\t}\n\t}\n\n\tngOnInit() {\n\n\t\tthis.pagingEventRepository\n\t\t\t.onPageChange(this.structureId.toReadModelRootId())\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((pageNumber: number) => {\n\t\t\t\tthis.pageChanged.emit(pageNumber);\n\t\t\t});\n\n\t\tthis.pagingEventRepository\n\t\t\t.onPageSizeChange(this.structureId.toReadModelRootId())\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((pageSize: number) => {\n\t\t\t\tthis.pageSizeChanged.emit(pageSize);\n\t\t\t});\n\t}\n\n\tonPageChange(page: number): void {\n\t\tthis.pageChanged.emit(page);\n\t}\n\n}\n","import { Directive } from '@angular/core';\n\nimport { PagingCommandInvoker } from '../../../../paging/core/api/paging.command-invoker';\nimport { PagingEventRepository } from '../../../../paging/core/api/paging.event-repository';\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { PagingGate } from '../../../../paging/feature/gate/paging.gate';\n\n\n@Directive({\n\tselector: 'gui-list-view[paging]'\n})\nexport class ListViewPagingGate extends PagingGate {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tstructurePagingCommandDispatcher: PagingCommandInvoker,\n\t\t\t\tpagingEventRepository: PagingEventRepository) {\n\t\tsuper(structureId, structurePagingCommandDispatcher, pagingEventRepository);\n\t}\n\n}\n","import { Directive, Input, OnChanges } from '@angular/core';\n\nimport { ListViewMode } from '../../../core/domain/mode/list-view-mode';\nimport { ListViewCommandInvoker } from '../../../core/api/list-view.command-invoker';\nimport { ListViewReadModelRootId } from '../../../core/api/list-view.read-model-root-id';\n\nimport { Gate } from '../../../../../common/cdk/component/gate';\nimport { NgChanges } from '../../../../../common/cdk/component/ng-changes';\n\n\n@Directive({\n\tselector: 'gui-list-view[mode]'\n})\nexport class ListViewModeGate extends Gate implements OnChanges {\n\n\t@Input()\n\tmode: ListViewMode;\n\n\t@Input()\n\tmodeSelector: boolean;\n\n\tconstructor(public readonly listViewReadModelRootId: ListViewReadModelRootId,\n\t\t\t\tprivate readonly listViewCommandDispatcher: ListViewCommandInvoker) {\n\t\tsuper();\n\t}\n\n\tngOnChanges(changes: NgChanges<ListViewModeGate>) {\n\n\t\tif (this.isDefined('mode', changes)) {\n\t\t\tthis.listViewCommandDispatcher.setMode(this.mode, this.listViewReadModelRootId);\n\t\t}\n\n\t\tif (this.isDefined('modeSelector', changes)) {\n\t\t\tthis.listViewCommandDispatcher.toggleSelector(this.modeSelector, this.listViewReadModelRootId);\n\t\t}\n\t}\n\n}\n","import { Directive, Input, OnChanges } from '@angular/core';\n\nimport { ListViewTemplateArchive } from '../../source/template/list-view-template.archive';\nimport { ListViewCardTemplateArchive } from '../../card/template/list-view.card-template.archive';\nimport { ListViewTemplate } from '../../source/template/list-view-template';\nimport { ListViewCardTemplate } from '../../card/template/list-view.card-template';\n\nimport { Gate } from '../../../../../common/cdk/component/gate';\nimport { NgChanges } from '../../../../../common/cdk/component/ng-changes';\n\n\n@Directive({\n\tselector: 'gui-list-view[mode]'\n})\nexport class ListViewTemplateGate extends Gate implements OnChanges {\n\n\t@Input()\n\ttemplate: ListViewTemplate;\n\n\t@Input()\n\tcardTemplate: ListViewCardTemplate;\n\n\tconstructor(private readonly containerTemplateArchive: ListViewTemplateArchive,\n\t\t\t\tprivate readonly listCardTemplateArchive: ListViewCardTemplateArchive) {\n\t\tsuper();\n\t}\n\n\tngOnChanges(changes: NgChanges<ListViewTemplateGate>) {\n\n\t\tif (this.isDefined('template', changes)) {\n\t\t\tthis.containerTemplateArchive.next(this.template);\n\t\t}\n\n\t\tif (this.isDefined('cardTemplate', changes)) {\n\t\t\tthis.listCardTemplateArchive.next(this.cardTemplate);\n\t\t}\n\t}\n\n}\n","import { Directive, Input, OnChanges } from '@angular/core';\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { Gate } from '../../../../../common/cdk/component/gate';\nimport { FieldConfig } from '../../../../field/core/api/field.config';\nimport { FieldCommandInvoker } from '../../../../field/core/api/field.command-invoker';\nimport { NgChanges } from '../../../../../common/cdk/component/ng-changes';\n\n\n@Directive({\n\tselector: 'gui-list-view[fields]'\n})\nexport class ListViewFieldGate extends Gate implements OnChanges {\n\n\t@Input()\n\tfields: Array<FieldConfig>;\n\n\tconstructor(private readonly structureId: StructureId,\n\t\t\t\tprivate readonly fieldCommandDispatcher: FieldCommandInvoker) {\n\t\tsuper();\n\t}\n\n\tngOnChanges(changes: NgChanges<ListViewFieldGate>) {\n\n\t\tif (this.isDefined('fields', changes)) {\n\n\t\t\tthis.fieldCommandDispatcher.initFields(this.fields, this.structureId);\n\t\t}\n\t}\n\n}\n","import { EventEmitter, Input, OnChanges, OnInit, Output } from '@angular/core';\n\nimport { Gate } from '../../../../common/cdk/component/gate';\nimport { StructureId } from '../../../core/domain/structure.id';\nimport { SearchConfig } from '../../core/api/search-config';\nimport { SearchEventRepository } from '../../core/api/search.event-repository';\nimport { SearchCommandInvoker } from '../../core/api/search.command-invoker';\nimport { NgChanges } from '../../../../common/cdk/component/ng-changes';\n\n\nexport abstract class SearchingGate extends Gate implements OnChanges, OnInit {\n\n\t@Input()\n\tsearching: boolean | SearchConfig;\n\n\t@Output()\n\tsearchPhraseChanged: EventEmitter<string> = new EventEmitter();\n\n\tprotected constructor(protected readonly structureId: StructureId,\n\t\t\t\t\t\t  protected readonly searchEventRepository: SearchEventRepository,\n\t\t\t\t\t\t  protected readonly searchCommandInvoker: SearchCommandInvoker) {\n\t\tsuper();\n\t}\n\n\tngOnChanges(changes: NgChanges<SearchingGate>) {\n\n\t\tif (this.isDefined('searching', changes)) {\n\n\t\t\tlet searching: SearchConfig;\n\n\t\t\tif (typeof this.searching === 'boolean') {\n\t\t\t\tsearching = {\n\t\t\t\t\tenabled: this.searching\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tsearching = this.searching;\n\t\t\t}\n\n\t\t\tthis.searchCommandInvoker.setSearchingConfig(searching, this.structureId);\n\t\t}\n\t}\n\n\tngOnInit() {\n\n\t\tthis.searchEventRepository\n\t\t\t.onSearchPhrase(this.structureId.toReadModelRootId())\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((phrase: string) => {\n\t\t\t\tthis.searchPhraseChanged.emit(phrase);\n\t\t\t});\n\t}\n\n}\n","import { Directive } from '@angular/core';\n\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { SearchCommandInvoker } from '../../../../search/core/api/search.command-invoker';\nimport { SearchEventRepository } from '../../../../search/core/api/search.event-repository';\nimport { SearchingGate } from '../../../../search/feature/gate/searching.gate';\n\n\n@Directive({\n\tselector: 'gui-list-view[searching]'\n})\nexport class ListViewSearchingGate extends SearchingGate {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tsearchEventRepository: SearchEventRepository,\n\t\t\t\tsearchCommandInvoker: SearchCommandInvoker) {\n\t\tsuper(structureId, searchEventRepository, searchCommandInvoker);\n\t}\n\n}\n","import { Directive, Input, OnChanges } from '@angular/core';\n\n\nimport { Gate } from '../../../../../common/cdk/component/gate';\nimport { GuiListLocalization } from '../../../../../gui/list/core/api/gui.list.public-api';\nimport { TranslationService } from '../../../../../l10n/core/api/translation.service';\nimport { NgChanges } from '../../../../../common/cdk/component/ng-changes';\n\n\n@Directive({\n\tselector: 'gui-list-view[localization]'\n})\nexport class ListViewL10nGate extends Gate implements OnChanges {\n\n\t@Input()\n\tlocalization: GuiListLocalization;\n\n\tconstructor(private readonly translationService: TranslationService) {\n\t\tsuper();\n\t}\n\n\tngOnChanges(changes: NgChanges<ListViewL10nGate>) {\n\n\t\tif (this.isDefined('localization', changes)) {\n\n\t\t\tif (this.localization.translationResolver) {\n\t\t\t\tthis.translationService.setResolver(this.localization.translationResolver);\n\t\t\t}\n\n\t\t\tif (this.localization.translation) {\n\t\t\t\tthis.translationService.changeTranslation(this.localization.translation);\n\t\t\t}\n\t\t}\n\t}\n\n}\n","import { EventEmitter, Input, OnChanges, OnDestroy, OnInit, Output } from '@angular/core';\n\nimport { Gate } from '../../../../common/cdk/component/gate';\nimport { StructureId } from '../../../core/domain/structure.id';\nimport { EditemItemValues } from '../../core/api/event/editem-item.values';\nimport { SourceCommandInvoker } from '../../core/api/source.command-invoker';\nimport { SourceEventService } from '../../core/api/event/source-event.service';\nimport { StreamCloser } from '../../../../common/cdk/reactive/stream-closer';\nimport { NgChanges } from '../../../../common/cdk/component/ng-changes';\n\n\nexport abstract class SourceGate extends Gate implements OnChanges, OnInit, OnDestroy {\n\n\t@Input()\n\tsource: Array<any> = [];\n\n\t@Input()\n\titems: Array<any> = [];\n\n\t@Output()\n\tsourceEdited: EventEmitter<EditemItemValues> = new EventEmitter();\n\n\tprivate readonly localStreamCloser = new StreamCloser();\n\n\tprotected constructor(protected readonly structureId: StructureId,\n\t\t\t\t\t\t  protected readonly sourceCommandInvoker: SourceCommandInvoker,\n\t\t\t\t\t\t  protected readonly sourceEventService: SourceEventService) {\n\t\tsuper();\n\t}\n\n\tngOnChanges(changes: NgChanges<SourceGate>) {\n\n\t\t/**\n\t\t * Setting source should be last step\n\t\t */\n\t\tif (this.isDefined('source', changes)) {\n\t\t\tthis.sourceCommandInvoker.setOrigin(this.source);\n\t\t}\n\n\t\tif (this.isDefined('items', changes)) {\n\t\t\tthis.sourceCommandInvoker.setOrigin(this.items);\n\t\t}\n\t}\n\n\tngOnInit() {\n\n\t\tthis.sourceEventService\n\t\t\t.onSourceEdited(this.structureId)\n\t\t\t.pipe(\n\t\t\t\tthis.localStreamCloser.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((values: EditemItemValues) => {\n\t\t\t\tthis.sourceEdited.emit(values);\n\t\t\t});\n\t}\n\n\tngOnDestroy() {\n\t\tthis.localStreamCloser.unsubscribe();\n\t}\n\n}\n","import { Directive } from '@angular/core';\n\nimport { SourceGate } from '../../../../source/feature/gate/source.gate';\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { SourceCommandInvoker } from '../../../../source/core/api/source.command-invoker';\nimport { SourceEventService } from '../../../../source/core/api/event/source-event.service';\n\n\n@Directive({\n\tselector: 'gui-list-view[items]'\n})\nexport class ListViewSourceGate extends SourceGate {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprotected readonly sourceCommandService: SourceCommandInvoker,\n\t\t\t\tprotected readonly sourceEventService: SourceEventService) {\n\t\tsuper(structureId, sourceCommandService, sourceEventService);\n\t}\n\n}\n","import { ListViewPagingGate } from './paging/list-view-paging.gate';\nimport { ListViewModeGate } from './mode/list-view-mode.gate';\nimport { ListViewTemplateGate } from './template/list-view-template.gate';\nimport { ListViewFieldGate } from './field/list-view-field.gate';\nimport { ListViewSearchingGate } from './searching/list-view-searching.gate';\nimport { ListViewL10nGate } from './l10n/list-view-l10n.gate';\nimport { ListViewSourceGate } from './source/list-view-source.gate';\n\nexport const listViewGatewayDeclarations = [\n\tListViewPagingGate,\n\tListViewModeGate,\n\tListViewTemplateGate,\n\tListViewFieldGate,\n\tListViewSearchingGate,\n\tListViewL10nGate,\n\tListViewSourceGate\n];\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef } from '@angular/core';\n\nimport { SmartComponent } from '../../../../common/cdk/component/smart-component';\n\n\n@Component({\n\tselector: 'div[gui-sorting-selector]',\n\ttemplate: `\n\n\t\t<gui-select (optionChanged)=\"changeSorting($event)\"\n\t\t\t\t\t[options]=\"sortingOptions\"\n\t\t\t\t\t[selected]=\"selectedSorting\"\n\t\t\t\t\t[width]=\"200\">\n\t\t</gui-select>\n\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class SortingSelectorComponent extends SmartComponent {\n\n\tsortingOptions = [\n\t\t'Name: A-Z',\n\t\t'Name: Z-A',\n\t\t'Price: Low to High',\n\t\t'Price: High to Low',\n\t\t'None'\n\t];\n\n\tselectedSorting = this.sortingOptions[0];\n\n\tconstructor(detector: ChangeDetectorRef,\n\t\t\t\telementRef: ElementRef) {\n\t\tsuper(detector, elementRef);\n\t}\n\n\tchangeSorting(sorting: string) {\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-sorting-selector';\n\t}\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { FabricSelectModule } from '@generic-ui/fabric';\n\nimport { SortingSelectorComponent } from './sorting-selector.component';\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tFabricSelectModule\n\t],\n\tdeclarations: [\n\t\tSortingSelectorComponent\n\t],\n\texports: [\n\t\tSortingSelectorComponent\n\t]\n})\nexport class SortingSelectorFeatureModule {\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, ViewEncapsulation } from '@angular/core';\nimport { IconComponent } from '../../../../../common/cdk/component/icon-component';\n\n@Component({\n\tselector: 'div[gui-filter-icon]',\n\ttemplate: `\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 10.32 7.23\">\n\t\t\t<line class=\"cls-1\" x1=\"9.57\" y1=\"0.75\" x2=\"0.75\" y2=\"0.75\"/>\n\t\t\t<line class=\"cls-1\" x1=\"8.14\" y1=\"3.62\" x2=\"2.18\" y2=\"3.62\"/>\n\t\t\t<line class=\"cls-1\" x1=\"6.71\" y1=\"6.48\" x2=\"3.62\" y2=\"6.48\"/>\n\t\t</svg>\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class FilterIconComponent extends IconComponent {\n\n\tconstructor(elementRef: ElementRef,\n\t\t\t\tchangeDetectorRef: ChangeDetectorRef) {\n\t\tsuper(elementRef, changeDetectorRef);\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-filter-icon';\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, ReplaySubject } from 'rxjs';\nimport { distinctUntilChanged, map } from 'rxjs/operators';\n\nimport { StructureId } from '../../../../core/domain/structure.id';\n\n\n@Injectable()\nexport class FilterEnabledRepository {\n\n\tprivate enabled = new Map<string, boolean>();\n\n\tprivate enabled$ = new ReplaySubject<Map<string, boolean>>();\n\n\tconstructor() {\n\t}\n\n\tsetEnabled(enabled: boolean, structureId: StructureId): void {\n\t\tthis.enabled.set(structureId.toString(), enabled);\n\t\tthis.enabled$.next(this.enabled);\n\t}\n\n\tonFilterEnabled(structureId: StructureId): Observable<boolean> {\n\n\t\treturn this.enabled$\n\t\t\t\t   .asObservable()\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((map: Map<string, boolean>) => {\n\t\t\t\t\t\t   return map.get(structureId.toString());\n\t\t\t\t\t   }),\n\t\t\t\t\t   distinctUntilChanged()\n\t\t\t\t   );\n\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, ReplaySubject } from 'rxjs';\nimport { distinctUntilChanged, map } from 'rxjs/operators';\nimport { StructureId } from '../../../../core/domain/structure.id';\n\n\n@Injectable()\nexport class QuickFilterEnabledRepository {\n\n\tprivate enabled = new Map<string, boolean>();\n\n\tprivate enabled$ = new ReplaySubject<Map<string, boolean>>();\n\n\tconstructor() {\n\t}\n\n\tsetEnabled(enabled: boolean, structureId: StructureId): void {\n\t\tthis.enabled.set(structureId.toString(), enabled);\n\t\tthis.enabled$.next(this.enabled);\n\t}\n\n\tonQuickFilterEnabled(structureId: StructureId): Observable<boolean> {\n\n\t\treturn this.enabled$\n\t\t\t\t   .asObservable()\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((map: Map<string, boolean>) => {\n\t\t\t\t\t\t   return map.get(structureId.toString());\n\t\t\t\t\t   }),\n\t\t\t\t\t   distinctUntilChanged()\n\t\t\t\t   );\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateArchive } from '@generic-ui/hermes';\n\nimport { FilterTypeMap } from './filter-type-map';\n\n@Injectable()\nexport class FilterTypeRepository extends AggregateArchive<FilterTypeMap> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateArchive } from '@generic-ui/hermes';\n\nimport { ActiveFilterReadModel } from './active-filter.read-model';\n\n@Injectable()\nexport class ActiveFilterRepository extends AggregateArchive<ReadonlyArray<ActiveFilterReadModel>> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateArchive } from '@generic-ui/hermes';\nimport { UniqueValuesReadModel } from './unique-values.read-model';\n\n@Injectable()\nexport class UniqueValuesRepository extends AggregateArchive<UniqueValuesReadModel> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { Warehouse } from '@generic-ui/hermes';\n\nimport { FilterEnabledRepository } from './read/filter-enabled.repository';\nimport { QuickFilterEnabledRepository } from './read/quick-filter-enabled.repository';\nimport { StructureId } from '../../../core/domain/structure.id';\nimport { FilterTypeRepository } from './type/filter-type.repository';\nimport { FilterTypeMap } from './type/filter-type-map';\nimport { ActiveFilterReadModel } from './active/active-filter.read-model';\nimport { ActiveFilterRepository } from './active/active-filter.repository';\nimport { UniqueValuesReadModel } from './unique/unique-values.read-model';\nimport { UniqueValuesRepository } from './unique/unique-values.repository';\n\n\n@Injectable()\nexport class FilterWarehouse implements Warehouse {\n\n\tconstructor(private readonly structureFilterRepository: FilterEnabledRepository,\n\t\t\t\tprivate readonly structureQuickFilterRepository: QuickFilterEnabledRepository,\n\t\t\t\tprivate readonly filterTypeRepository: FilterTypeRepository,\n\t\t\t\tprivate readonly uniqueValuesRepository: UniqueValuesRepository,\n\t\t\t\tprivate readonly activeFilterRepository: ActiveFilterRepository) {\n\t}\n\n\tonFilteringEnabled(structureId: StructureId): Observable<boolean> {\n\t\treturn this.structureFilterRepository.onFilterEnabled(structureId);\n\t}\n\n\tonQuickFiltersEnabled(structureId: StructureId): Observable<boolean> {\n\t\treturn this.structureQuickFilterRepository.onQuickFilterEnabled(structureId);\n\t}\n\n\tonFilterTypes(structureId: StructureId): Observable<FilterTypeMap> {\n\t\treturn this.filterTypeRepository.on(structureId);\n\t}\n\n\tonActiveFilters(structureId: StructureId): Observable<ReadonlyArray<ActiveFilterReadModel>> {\n\t\treturn this.activeFilterRepository.on(structureId);\n\t}\n\n\tonUniqueValues(structureId: StructureId): Observable<UniqueValuesReadModel> {\n\t\treturn this.uniqueValuesRepository.on(structureId);\n\t}\n\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, OnInit, ViewEncapsulation } from '@angular/core';\n\nimport { CellTemplateWithContext } from '../../../../composition/core/domain-read/definition/cell-template-with-context';\nimport { SmartComponent } from '../../../../common/cdk/component/smart-component';\nimport { CompositionWarehouse } from '../../../../composition/core/api/composition.warehouse';\nimport { FieldWarehouse } from '../../../field/core/api/field.warehouse';\nimport { StructureId } from '../../../core/domain/structure.id';\nimport { FieldReadModel } from '../../../field/core/api/read/field.read-model';\nimport { FilterWarehouse } from '../../core/api/filter.warehouse';\nimport { FilterTypeMap } from '../../core/api/type/filter-type-map';\nimport { FilterTypeReadModel } from '../../core/api/type/filter-type.read-model';\nimport { FilterTypeId } from '../../core/domain/type/filter-type.id';\nimport { FilterCommandInvoker } from '../../core/api/filter.command-invoker';\nimport { FieldId } from '../../../field/core/domain/field/field.id';\nimport { ActiveFilterReadModel } from '../../core/api/active/active-filter.read-model';\n\n\n@Component({\n\tselector: 'div[gui-filter-menu]',\n\ttemplateUrl: './filter-menu.component.html',\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class FilterMenuComponent extends SmartComponent implements OnInit {\n\n\tselectedColumn: CellTemplateWithContext;\n\n\tcolumns: Array<CellTemplateWithContext> = [];\n\n\tselectedField: FieldReadModel;\n\n\tfields: Array<FieldReadModel> = [];\n\n\tfilterTypeMap: FilterTypeMap;\n\n\tfilterTypes: Array<FilterTypeReadModel>;\n\n\tselectedFilterTypeId: FilterTypeId;\n\n\tselectedValue: string;\n\n\tactiveFilters: Array<ActiveFilterReadModel> = [];\n\n\tconstructor(private readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\telementRef: ElementRef,\n\t\t\t\tprivate readonly structureId: StructureId,\n\t\t\t\tprivate readonly fieldWarehouse: FieldWarehouse,\n\t\t\t\tprivate readonly filterWarehouse: FilterWarehouse,\n\t\t\t\tprivate readonly filterCommandDispatcher: FilterCommandInvoker,\n\t\t\t\tprivate readonly compositionWarehouse: CompositionWarehouse) {\n\t\tsuper(changeDetectorRef, elementRef);\n\t\tthis.addClassToHost('gui-block');\n\t}\n\n\tngOnInit() {\n\n\t\tthis.filterWarehouse\n\t\t\t.onActiveFilters(this.structureId)\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((activeFilters: Array<ActiveFilterReadModel>) => {\n\t\t\t\tthis.activeFilters = activeFilters;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.filterWarehouse\n\t\t\t.onFilterTypes(this.structureId)\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((filterTypeMap: FilterTypeMap) => {\n\t\t\t\tthis.filterTypeMap = filterTypeMap;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.fieldWarehouse\n\t\t\t.onFields(this.structureId)\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((fieldReadModels: Array<FieldReadModel>) => {\n\t\t\t\tthis.fields = fieldReadModels;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.compositionWarehouse\n\t\t\t.onHeaderColumns()\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((columns: Array<CellTemplateWithContext>) => {\n\t\t\t\tthis.columns = columns;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\t}\n\n\tonColumnSelect(selectedColumn: CellTemplateWithContext): void {\n\n\t\tthis.selectedColumn = selectedColumn;\n\n\t\tthis.filterTypes = this.filterTypeMap.getFilterTypes(this.selectedColumn.getFieldId());\n\n\t\tthis.changeDetectorRef.detectChanges();\n\t}\n\n\tonFieldSelect(field: FieldReadModel): void {\n\t\tthis.selectedField = field;\n\n\t\tthis.filterTypes = this.filterTypeMap.getFilterTypes(this.selectedField.getFieldId());\n\n\t\tthis.changeDetectorRef.detectChanges();\n\t}\n\n\tonFilterTypeSelect(filterTypeId: FilterTypeId): void {\n\n\t\tthis.selectedFilterTypeId = filterTypeId;\n\n\t\tthis.changeDetectorRef.detectChanges();\n\t}\n\n\tremoveAllFilters(): void {\n\t\tthis.filterCommandDispatcher.removeAllFilters(this.structureId);\n\t}\n\n\taddFilter(): void {\n\n\t\tconst fieldId: FieldId = this.selectedField.getFieldId(),\n\t\t\tfilterTypeId: FilterTypeId = this.selectedFilterTypeId,\n\t\t\tvalue: any = this.selectedValue;\n\n\t\tthis.filterCommandDispatcher.add(fieldId, filterTypeId, value, this.structureId);\n\n\t\tthis.clearAddFilterForm();\n\t}\n\n\tonValueChanged(value: string): void {\n\t\tthis.selectedValue = value;\n\t}\n\n\tclearAddFilterForm(): void {\n\t\tthis.selectedColumn = null;\n\t\tthis.selectedField = null;\n\t\tthis.selectedFilterTypeId = null;\n\t\tthis.selectedValue = null;\n\t\tthis.changeDetectorRef.detectChanges();\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-filter-menu';\n\t}\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, Inject, Injector, ViewEncapsulation } from '@angular/core';\n\nimport { FabricDrawerService } from '@generic-ui/fabric';\n\nimport { FilterMenuComponent } from './filter-menu.component';\nimport { filterContainerToken } from '../../core/api/config/filter-container-token';\nimport { FilterContainerRef } from '../../core/api/config/filter-container-ref';\nimport { SmartComponent } from '../../../../common/cdk/component/smart-component';\n\n@Component({\n\tselector: 'div[gui-filter-menu-trigger]',\n\ttemplateUrl: './filter-menu-trigger.component.html',\n\tencapsulation: ViewEncapsulation.None,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tstyleUrls: [\n\t\t'../style/filter.ngx.scss'\n\t]\n})\nexport class FilterMenuTriggerComponent extends SmartComponent {\n\n\tconstructor(detector: ChangeDetectorRef,\n\t\t\t\telementRef: ElementRef,\n\t\t\t\tprivate readonly injector: Injector,\n\t\t\t\tprivate readonly drawerService: FabricDrawerService,\n\t\t\t\t@Inject(filterContainerToken) private readonly filterContainerRef: FilterContainerRef) {\n\t\tsuper(detector, elementRef);\n\t}\n\n\topenDrawer(): void {\n\t\tconst elementRef = this.filterContainerRef.getElementRef();\n\n\t\tthis.drawerService.open(elementRef, FilterMenuComponent, { injector: this.injector });\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-filter-menu-trigger';\n\t}\n}\n","import { ChangeDetectionStrategy, Component, ElementRef, EventEmitter, Input, Output, ViewEncapsulation } from '@angular/core';\nimport { CellTemplateWithContext } from '../../../../../composition/core/domain-read/definition/cell-template-with-context';\nimport { PureComponent } from '../../../../../common/cdk/component/pure-component';\n\n@Component({\n\tselector: 'div[gui-column-selector][columns]',\n\ttemplate: `\n\n\t\tColumn:\n\n\t\t<gui-dropdown>\n\t\t\t<gui-dropdown-item *ngFor=\"let column of columns\"\n\t\t\t\t\t\t\t   (click)=\"onSelectChange(column)\">\n\t\t\t\t<ng-container\n\t\t\t\t\t\t*ngTemplateOutlet=\"column.viewTemplate;\n\t\t\t\t\t\t   context: column.context\">\n\t\t\t\t</ng-container>\n\t\t\t</gui-dropdown-item>\n\t\t</gui-dropdown>\n\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class ColumnSelectorComponent extends PureComponent {\n\n\t@Input()\n\tcolumns: Array<CellTemplateWithContext>;\n\n\t@Output()\n\tcolumnSelected = new EventEmitter<CellTemplateWithContext>();\n\n\tconstructor(elementRef: ElementRef) {\n\t\tsuper(elementRef);\n\t}\n\n\tonSelectChange(column: CellTemplateWithContext): void {\n\t\tthis.columnSelected.emit(column);\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-column-selector';\n\t}\n}\n","import { ChangeDetectionStrategy, Component, ElementRef, EventEmitter, Input, Output, ViewEncapsulation } from '@angular/core';\nimport { FilterTypeReadModel } from '../../../core/api/type/filter-type.read-model';\nimport { FilterTypeId } from '../../../core/domain/type/filter-type.id';\nimport { PureComponent } from '../../../../../common/cdk/component/pure-component';\n\n@Component({\n\tselector: 'div[gui-filter-type-selector][filterTypes]',\n\ttemplateUrl: './filter-type-selector.component.html',\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class FilterTypeSelectorComponent extends PureComponent {\n\n\t@Input()\n\tfilterTypes: Array<FilterTypeReadModel>;\n\n\t@Output()\n\tfilterTypeSelected = new EventEmitter<FilterTypeId>();\n\n\tconstructor(elementRef: ElementRef) {\n\t\tsuper(elementRef);\n\t}\n\n\tonSelectChange(filterType: FilterTypeReadModel): void {\n\t\tthis.filterTypeSelected.emit(filterType.getId());\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-filter-type-selector';\n\t}\n\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, EventEmitter, Output, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\n\nimport { SmartComponent } from '../../../../../common/cdk/component/smart-component';\n\n\n@Component({\n\tselector: 'div[gui-filter-value]',\n\ttemplateUrl: './filter-value.component.html',\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class FilterValueComponent extends SmartComponent {\n\n\tprivate static readonly FORM_FILTER_VALUE = 'filterValue';\n\n\t@ViewChild('formRef', { static: false })\n\tformRef: ElementRef;\n\n\t@Output()\n\tvalueChanged = new EventEmitter();\n\n\tfilterForm: FormGroup;\n\n\tconstructor(detector: ChangeDetectorRef,\n\t\t\t\telementRef: ElementRef,\n\t\t\t\tprivate readonly formBuilder: FormBuilder) {\n\t\tsuper(detector, elementRef);\n\n\t\tconst controlsConfig = {};\n\t\tcontrolsConfig[FilterValueComponent.FORM_FILTER_VALUE] = '';\n\n\t\tthis.filterForm = this.formBuilder.group(controlsConfig);\n\t}\n\n\tngOnInit() {\n\t\tthis.filterForm\n\t\t\t.controls[FilterValueComponent.FORM_FILTER_VALUE]\n\t\t\t.valueChanges\n\t\t\t// .pipe(\n\t\t\t// \tthis.takeUntil()\n\t\t\t// )\n\t\t\t.subscribe((value: string) => {\n\t\t\t\tthis.valueChanged.emit(value);\n\t\t\t});\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-filter-value';\n\t}\n\n}\n","import { ChangeDetectionStrategy, Component, ElementRef, EventEmitter, Input, Output, ViewEncapsulation } from '@angular/core';\nimport { FieldReadModel } from '../../../../field/core/api/read/field.read-model';\nimport { PureComponent } from '../../../../../common/cdk/component/pure-component';\n\n@Component({\n\tselector: 'div[gui-field-selector][fields]',\n\ttemplate: `\n\n\t\tField:\n\n\t\t<gui-dropdown>\n\t\t\t<gui-dropdown-item *ngFor=\"let field of fields\"\n\t\t\t\t\t\t\t   (click)=\"onSelectChange(field)\">\n\t\t\t\t{{field.getName()}}\n\t\t\t</gui-dropdown-item>\n\t\t</gui-dropdown>\n\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class FieldSelectorComponent extends PureComponent {\n\n\t@Input()\n\tfields: ReadonlyArray<FieldReadModel>;\n\n\t@Output()\n\tfieldSelected = new EventEmitter<FieldReadModel>();\n\n\tconstructor(elementRef: ElementRef) {\n\t\tsuper(elementRef);\n\t}\n\n\tonSelectChange(field: FieldReadModel): void {\n\t\tthis.fieldSelected.emit(field);\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-field-selector';\n\t}\n}\n","import { FieldId } from '../../../../field/core/domain/field/field.id';\n\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { StructureCommand } from '../../../../core/domain/structure.command';\n\n\nexport class ToggleFilterCommand extends StructureCommand {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly fieldId: FieldId,\n\t\t\t\tprivate readonly externalFilterId: string,\n\t\t\t\tprivate readonly filterValue: string) {\n\t\tsuper(structureId, 'ToggleFilterCommand');\n\t}\n\n\tgetFieldId(): FieldId {\n\t\treturn this.fieldId;\n\t}\n\n\tgetExternalFilterId(): string {\n\t\treturn this.externalFilterId;\n\t}\n\n\tgetFilterValue(): string {\n\t\treturn this.filterValue;\n\t}\n\n}\n","import { StructureId } from '../../../../core/domain/structure.id';\nimport { StructureDomainEvent } from '../../../../core/domain/structure.domain-event';\n\nexport class FilterToggledEvent extends StructureDomainEvent {\n\n\tconstructor(aggregateId: StructureId) {\n\t\tsuper(aggregateId, null, 'FilterToggledEvent');\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { StructureAggregateRepository } from '../../../../core/domain/structure-aggregate.repository';\nimport { ToggleFilterCommand } from './toggle-filter.command';\nimport { FieldId } from '../../../../field/core/domain/field/field.id';\nimport { FilterToggledEvent } from './filter-toggled.event';\nimport { StructureAggregate } from '../../../../core/domain/structure.aggregate';\n\n\n@Injectable()\nexport class ToggleFilterCommandHandler implements CommandHandler<StructureAggregate, ToggleFilterCommand> {\n\n\tconstructor(private readonly structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tprivate readonly domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<ToggleFilterCommand> {\n\t\treturn ToggleFilterCommand;\n\t}\n\n\thandle(aggregate: StructureAggregate, command: ToggleFilterCommand): void {\n\n\t\tconst fieldId: FieldId = command.getFieldId(),\n\t\t\texternalFieldId: string = command.getExternalFilterId(),\n\t\t\tfilterValue = command.getFilterValue();\n\n\t\taggregate.toggleFilter(fieldId, externalFieldId, filterValue);\n\t}\n\n\tpublish(aggregate: StructureAggregate, command: ToggleFilterCommand): void {\n\t\tthis.domainEventPublisher.publish(new FilterToggledEvent(command.getAggregateId()));\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { AddFilterCommand } from './add-filter.command';\nimport { StructureAggregate } from '../../../../../core/domain/structure.aggregate';\nimport { FieldId } from '../../../../../field/core/domain/field/field.id';\nimport { FilterTypeId } from '../../type/filter-type.id';\n\n\n@Injectable()\nexport class AddFilterCommandHandler implements CommandHandler<StructureAggregate, AddFilterCommand> {\n\n\tconstructor(private domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<AddFilterCommand> {\n\t\treturn AddFilterCommand;\n\t}\n\n\thandle(structure: StructureAggregate, command: AddFilterCommand): void {\n\n\t\tconst fieldId: FieldId = command.getFieldId(),\n\t\t\tfilterTypeId: FilterTypeId = command.getFilterTypeId(),\n\t\t\tvalue: any = command.getValue();\n\n\t\tstructure.addFilter(fieldId, filterTypeId, value);\n\t}\n\n\tpublish(aggregate: StructureAggregate, command: AddFilterCommand): void {\n\t\tthis.domainEventPublisher.publishFromAggregate(aggregate);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { RemoveAllFiltersCommand } from './remove-all-filters.command';\nimport { StructureAggregate } from '../../../../../core/domain/structure.aggregate';\n\n\n@Injectable()\nexport class RemoveAllFiltersCommandHandler implements CommandHandler<StructureAggregate, RemoveAllFiltersCommand> {\n\n\tconstructor(private domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<RemoveAllFiltersCommand> {\n\t\treturn RemoveAllFiltersCommand;\n\t}\n\n\thandle(structure: StructureAggregate, command: RemoveAllFiltersCommand): void {\n\t\tstructure.removeAllFilters();\n\t}\n\n\tpublish(aggregate: StructureAggregate, command: RemoveAllFiltersCommand): void {\n\t\tthis.domainEventPublisher.publishFromAggregate(aggregate);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { RemoveFilterCommand } from './remove-filter.command';\nimport { StructureAggregate } from '../../../../../core/domain/structure.aggregate';\n\n\n@Injectable()\nexport class RemoveFilterCommandHandler implements CommandHandler<StructureAggregate, RemoveFilterCommand> {\n\n\tconstructor(private domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<RemoveFilterCommand> {\n\t\treturn RemoveFilterCommand;\n\t}\n\n\thandle(structure: StructureAggregate, command: RemoveFilterCommand): void {\n\n\t\tconst filterId = command.getFilterId();\n\n\t\tstructure.removeFilter(filterId);\n\t}\n\n\tpublish(aggregate: StructureAggregate, command: RemoveFilterCommand): void {\n\t\tthis.domainEventPublisher.publishFromAggregate(aggregate);\n\t}\n\n}\n","import { StructureId } from '../../../../core/domain/structure.id';\nimport { StructureDomainEvent } from '../../../../core/domain/structure.domain-event';\n\nexport class ConfigFilterSetEvent extends StructureDomainEvent {\n\n\tconstructor(aggregateId: StructureId,\n\t\t\t\tprivate readonly enabled: boolean) {\n\t\tsuper(aggregateId, enabled, 'ConfigFilterSetEvent');\n\t}\n\n\tgetEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\nimport { SetConfigFilterCommand } from './set-config-filter.command';\nimport { ConfigFilterSetEvent } from './config-filter-set.event';\nimport { StructureAggregate } from '../../../../core/domain/structure.aggregate';\n\n\n@Injectable()\nexport class SetConfigFilterCommandHandler implements CommandHandler<StructureAggregate, SetConfigFilterCommand> {\n\n\tconstructor(private readonly domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SetConfigFilterCommand> {\n\t\treturn SetConfigFilterCommand;\n\t}\n\n\thandle(aggregate: StructureAggregate, command: SetConfigFilterCommand): void {\n\n\t\tconst filterConfig = command.getConfig();\n\n\t\taggregate.setFilterConfig(filterConfig);\n\t}\n\n\tpublish(aggregate: StructureAggregate, command: SetConfigFilterCommand): void {\n\n\t\tconst filterConfig = command.getConfig();\n\n\t\tthis.domainEventPublisher.publish(new ConfigFilterSetEvent(command.getAggregateId(), filterConfig.enabled));\n\t}\n\n}\n","import { StructureId } from '../../../../core/domain/structure.id';\nimport { StructureDomainEvent } from '../../../../core/domain/structure.domain-event';\n\n\nexport class ConfigQuickFilterSetEvent extends StructureDomainEvent {\n\n\tconstructor(aggregateId: StructureId,\n\t\t\t\tprivate readonly enabled: boolean) {\n\t\tsuper(aggregateId, enabled, 'ConfigQuickFilterSetEvent');\n\t}\n\n\tgetEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { SetConfigQuickFilterCommand } from './set-config-quick-filter.command';\nimport { ConfigQuickFilterSetEvent } from './config-quick-filter-set.event';\n\nimport { StructureAggregateRepository } from '../../../../core/domain/structure-aggregate.repository';\nimport { StructureAggregate } from '../../../../core/domain/structure.aggregate';\n\n\n@Injectable()\nexport class SetConfigQuickFilterCommandHandler implements CommandHandler<StructureAggregate, SetConfigQuickFilterCommand> {\n\n\tconstructor(private readonly structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tprivate domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SetConfigQuickFilterCommand> {\n\t\treturn SetConfigQuickFilterCommand;\n\t}\n\n\thandle(aggregate: StructureAggregate, command: SetConfigQuickFilterCommand): void {\n\n\t\tconst quickFiltersConfig = command.getConfig();\n\n\t\taggregate.setQuickFiltersConfig(quickFiltersConfig);\n\t}\n\n\tpublish(aggregate: StructureAggregate, command: SetConfigQuickFilterCommand): void {\n\n\t\tconst structureId = command.getAggregateId(),\n\t\t\tquickFiltersConfig = command.getConfig();\n\n\t\tthis.domainEventPublisher.publish(new ConfigQuickFilterSetEvent(structureId, quickFiltersConfig.enabled));\n\t}\n\n}\n","import { FilterId } from '../api/filter.id';\nimport { FieldId } from '../../../field/core/domain/field/field.id';\nimport { FilterTypeId } from './type/filter-type.id';\n\nexport class Filter {\n\n\tprivate readonly filterId: FilterId;\n\n\tprivate readonly fieldId: FieldId;\n\n\tprivate readonly filterTypeId: FilterTypeId;\n\n\tprivate readonly filterValue: any;\n\n\tconstructor(filterId: FilterId,\n\t\t\t\tfieldId: FieldId,\n\t\t\t\tfilterTypeId: FilterTypeId,\n\t\t\t\tfilterValue: any) { // TODO not any\n\t\tthis.filterId = filterId;\n\t\tthis.fieldId = fieldId;\n\t\tthis.filterTypeId = filterTypeId;\n\t\tthis.filterValue = filterValue;\n\t}\n\n\tgetFilterId(): FilterId {\n\t\treturn this.filterId;\n\t}\n\n\tgetFilterTypeId(): FilterTypeId {\n\t\treturn this.filterTypeId;\n\t}\n\n\tgetFieldId(): FieldId {\n\t\treturn this.fieldId;\n\t}\n\n\tgetFilterValue(): any {\n\t\treturn this.filterValue;\n\t}\n\n}\n","import { FilterConfig } from '../api/filter-config';\nimport { SearchConfig } from '../../../search/core/api/search-config';\nimport { QuickFiltersConfig } from '../api/quick-filters.config';\n\nexport class FilterSettings {\n\n\tprivate filteringEnabled: boolean = false;\n\n\tprivate searchEnabled: boolean = false;\n\n\tprivate quickFiltersEnabled: boolean = false;\n\n\tconstructor(filteringEnabled: boolean = false,\n\t\t\t\tsearchEnabled: boolean = false,\n\t\t\t\tquickFiltersEnabled: boolean = false) {\n\t\tthis.filteringEnabled = filteringEnabled;\n\t\tthis.searchEnabled = searchEnabled;\n\t\tthis.quickFiltersEnabled = quickFiltersEnabled;\n\t}\n\n\tisFilteringEnabled(): boolean {\n\t\treturn this.filteringEnabled;\n\t}\n\n\tisQuickFilteringEnabled(): boolean {\n\t\treturn this.quickFiltersEnabled;\n\t}\n\n\tisSearchingEnabled(): boolean {\n\t\treturn this.searchEnabled;\n\t}\n\n\tsetFilterConfig(config: FilterConfig): void {\n\t\tif (config && config.enabled !== undefined && config.enabled !== null) {\n\t\t\tthis.filteringEnabled = config.enabled;\n\t\t}\n\t}\n\n\tsetSearchingConfig(config: SearchConfig): void {\n\t\tif (config && config.enabled !== undefined && config.enabled !== null) {\n\t\t\tthis.searchEnabled = config.enabled;\n\t\t}\n\t}\n\n\tsetQuickFiltersConfig(config: QuickFiltersConfig): void {\n\t\tif (config && config.enabled !== undefined && config.enabled !== null) {\n\t\t\tthis.quickFiltersEnabled = config.enabled;\n\t\t}\n\t}\n\n}\n","import { OriginItemEntity } from '../../../../source/core/domain/origin/origin-item-entity';\nimport { Field } from '../../../../field/core/domain/field/field';\nimport { FilterTypeId } from './filter-type.id';\n\nexport abstract class BaseFilterType<T> {\n\n\tprivate readonly filterTypeId: FilterTypeId;\n\n\tprotected constructor(filterTypeId: FilterTypeId) {\n\t\tthis.filterTypeId = filterTypeId;\n\t}\n\n\tabstract getName(): string;\n\n\tprotected abstract filterEntity(entity: OriginItemEntity, field: Field, value: T): boolean;\n\n\tgetId(): FilterTypeId {\n\t\treturn this.filterTypeId;\n\t}\n\n\tfilterMany(entities: Array<OriginItemEntity>, field: Field, value: T): Array<OriginItemEntity> {\n\n\t\tif (entities.length === 0) {\n\t\t\treturn entities;\n\t\t}\n\n\t\treturn entities.filter((item: OriginItemEntity) => {\n\t\t\treturn this.filterEntity(item, field, value);\n\t\t});\n\t}\n\n\tfilterOne(entity: OriginItemEntity, field: Field, value: T): boolean {\n\t\treturn this.filterEntity(entity, field, value);\n\t}\n}\n","import { BaseFilterType } from '../../base-filter-type';\nimport { OriginItemEntity } from '../../../../../../source/core/domain/origin/origin-item-entity';\nimport { Field } from '../../../../../../field/core/domain/field/field';\nimport { FilterTypeId } from '../../filter-type.id';\n\nexport class ContainsFilterType extends BaseFilterType<string> {\n\n\tconstructor(filterTypeId: FilterTypeId) {\n\t\tsuper(filterTypeId);\n\t}\n\n\tgetName(): string {\n\t\treturn 'Contains';\n\t}\n\n\tprotected filterEntity(entity: OriginItemEntity, field: Field, value: string): boolean {\n\n\t\tconst fieldValue: string = field.getValue(entity);\n\n\t\treturn !!fieldValue.includes(value);\n\t}\n}\n","export class FilterTypeId {\n\n\tprivate readonly id: string;\n\n\tconstructor(id: string) {\n\t\tthis.id = id;\n\t}\n\n\ttoString(): string {\n\t\treturn this.id;\n\t}\n\n}\n","import { FilterTypeId } from './filter-type.id';\n\nexport class FilterTypeIdGenerator {\n\n\tstatic index = 0;\n\n\tgenerate(): FilterTypeId {\n\t\tFilterTypeIdGenerator.index += 1;\n\n\t\treturn new FilterTypeId(`${FilterTypeIdGenerator.index}`);\n\t}\n\n}\n","import { FilterTypeId } from '../../domain/type/filter-type.id';\n\nexport class FilterTypeReadModel {\n\n\tprivate readonly filterTypeId: FilterTypeId;\n\n\tprivate readonly name: string;\n\n\tconstructor(id: FilterTypeId,\n\t\t\t\tname: string) {\n\t\tthis.filterTypeId = id;\n\t\tthis.name = name;\n\t}\n\n\tgetId(): FilterTypeId {\n\t\treturn this.filterTypeId;\n\t}\n\n\tgetName(): string {\n\t\treturn this.name;\n\t}\n\n}\n","import { FieldId } from '../../../../field/core/domain/field/field.id';\nimport { Field } from '../../../../field/core/domain/field/field';\nimport { FilterTypeId } from './filter-type.id';\nimport { DataType } from '../../../../field/core/domain/field/data/data-type';\nimport { ContainsFilterType } from './filter-types/contains/contains-filter-type';\nimport { FilterTypeIdGenerator } from './filter-type.id-generator';\nimport { BaseFilterType } from './base-filter-type';\nimport { FilterTypeReadModel } from '../../api/type/filter-type.read-model';\n\n\nexport class FilterTypeManager {\n\n\tprivate readonly fieldIds: Array<FieldId> = [];\n\n\tprivate readonly map = new WeakMap<FieldId, Array<BaseFilterType<any>>>();\n\n\tprivate readonly filterTypeMap = new WeakMap<FilterTypeId, BaseFilterType<any>>();\n\n\tprivate readonly dataTypeToFilterType = new Map<DataType, Array<BaseFilterType<any>>>();\n\n\tprivate readonly filterTypeIdGenerator: FilterTypeIdGenerator = new FilterTypeIdGenerator();\n\n\tconstructor(fields: Array<Field>) {\n\t\tthis.assignFilterTypes();\n\n\t\tthis.addFields(fields);\n\t}\n\n\tgetFilterType(filterTypeId: FilterTypeId): BaseFilterType<any> {\n\t\treturn this.filterTypeMap.get(filterTypeId);\n\t}\n\n\tgetFieldIdsToFilterTypes(): Map<string, Array<FilterTypeReadModel>> {\n\t\tconst map = new Map();\n\n\t\tfor (const fieldId of this.fieldIds) {\n\t\t\tconst filterTypes = this.map.get(fieldId),\n\t\t\t\treadModels = filterTypes.map(f => {\n\t\t\t\t\treturn new FilterTypeReadModel(f.getId(), f.getName());\n\t\t\t\t});\n\n\t\t\tmap.set(fieldId.toString(), readModels);\n\t\t}\n\n\t\treturn map;\n\t}\n\n\tprivate addFields(fields: Array<Field>): void {\n\t\tfor (const field of fields) {\n\t\t\tthis.addField(field);\n\t\t}\n\t}\n\n\tprivate addField(field: Field): void {\n\n\t\tconst fieldId = field.getId(),\n\t\t\tdataType = field.getDataType();\n\n\t\tconst filterTypesFromDataType = this.dataTypeToFilterType.get(dataType);\n\n\t\tthis.fieldIds.push(fieldId);\n\t\tthis.map.set(fieldId, [...filterTypesFromDataType]);\n\t}\n\n\tprivate assignFilterTypes(): void {\n\t\tthis.assignFilterTypesForDataTypeUnknown();\n\t\tthis.assignFilterTypesForDataTypeNumber();\n\t\tthis.assignFilterTypesForDataTypeString();\n\t\tthis.assignFilterTypesForDataTypeBoolean();\n\t\tthis.assignFilterTypesForDataTypeDate();\n\t\tthis.assignFilterTypesForDataTypeCustom();\n\t}\n\n\tprivate assignFilterTypesForDataTypeUnknown(): void {\n\t\tthis.dataTypeToFilterType.set(DataType.UNKNOWN, []);\n\t}\n\n\tprivate assignFilterTypesForDataTypeNumber(): void {\n\t\tthis.dataTypeToFilterType.set(DataType.NUMBER, []);\n\t}\n\n\tprivate assignFilterTypesForDataTypeString(): void {\n\n\t\tconst filterTypes = [\n\t\t\tnew ContainsFilterType(this.generateId())\n\t\t];\n\n\t\tthis.dataTypeToFilterType.set(DataType.STRING, filterTypes);\n\n\t\tthis.addFilterTypes(filterTypes);\n\t}\n\n\tprivate assignFilterTypesForDataTypeBoolean(): void {\n\t\tthis.dataTypeToFilterType.set(DataType.BOOLEAN, []);\n\t}\n\n\tprivate assignFilterTypesForDataTypeDate(): void {\n\t\tthis.dataTypeToFilterType.set(DataType.DATE, []);\n\t}\n\n\tprivate assignFilterTypesForDataTypeCustom(): void {\n\t\tthis.dataTypeToFilterType.set(DataType.CUSTOM, []);\n\t}\n\n\tprivate generateId(): FilterTypeId {\n\t\treturn this.filterTypeIdGenerator.generate();\n\t}\n\n\tprivate addFilterTypes(filterTypes: Array<BaseFilterType<any>>): void {\n\t\tfor (const filterType of filterTypes) {\n\t\t\tthis.filterTypeMap.set(filterType.getId(), filterType);\n\t\t}\n\t}\n\n}\n","export class FilterId {\n\n\tprivate readonly id: string;\n\n\tconstructor(filterId: string) {\n\t\tthis.id = filterId;\n\t}\n\n\ttoString(): string {\n\t\treturn this.id;\n\t}\n\n}\n","import { FilterId } from './filter.id';\n\nexport class FilterIdGenerator {\n\n\tstatic index = 0;\n\n\tstatic generateId(): FilterId {\n\t\treturn new FilterId(`${FilterIdGenerator.index}`);\n\t}\n\n}\n","import { FilterId } from '../filter.id';\n\nexport class ActiveFilterReadModel {\n\n\tconstructor(private readonly filterId: FilterId,\n\t\t\t\tprivate readonly fieldName: string,\n\t\t\t\tprivate readonly filterTypeName: string,\n\t\t\t\tprivate readonly value: any) {\n\t}\n\n\tgetText(): string {\n\t\treturn `${this.fieldName}: ${this.filterTypeName}: ${this.value}`;\n\t}\n\n\tgetFilterId(): FilterId {\n\t\treturn this.filterId;\n\t}\n\n}\n","import { Filter } from './filter';\nimport { OriginItemEntity } from '../../../source/core/domain/origin/origin-item-entity';\nimport { FilterSettings } from './filter.settings';\nimport { Field } from '../../../field/core/domain/field/field';\nimport { FilterTypeId } from './type/filter-type.id';\nimport { FieldId } from '../../../field/core/domain/field/field.id';\nimport { FilterTypeManager } from './type/filter-type.manager';\nimport { FilterTypeReadModel } from '../api/type/filter-type.read-model';\nimport { BaseFilterType } from './type/base-filter-type';\nimport { FilterIdGenerator } from '../api/filter.id-generator';\nimport { ActiveFilterReadModel } from '../api/active/active-filter.read-model';\nimport { FilterId } from '../api/filter.id';\n\n\nexport class FilterManager {\n\n\tprivate readonly filterSettings = new FilterSettings();\n\n\t// string -> FilterId\n\tprivate readonly filters = new Map<string, Filter>();\n\n\tprivate activeFilters: Array<Filter> = [];\n\n\tprivate filterTypeManager: FilterTypeManager;\n\n\tconstructor() {\n\t}\n\n\tgetSettings(): FilterSettings {\n\t\treturn this.filterSettings;\n\t}\n\n\tgetAll(): Array<Filter> {\n\t\treturn Array.from(this.filters)\n\t\t\t\t\t.map((arr) => arr[1]);\n\t}\n\n\tgetAllActiveFilters(fields: Map<string, Field>): ReadonlyArray<ActiveFilterReadModel> {\n\t\treturn this.activeFilters\n\t\t\t\t   .map((af: Filter) => {\n\t\t\t\t\t   return new ActiveFilterReadModel(\n\t\t\t\t\t\t   af.getFilterId(),\n\t\t\t\t\t\t   (fields.get(af.getFieldId().toString())).getName(),\n\t\t\t\t\t\t   this.filterTypeManager.getFilterType(af.getFilterTypeId()).getName(),\n\t\t\t\t\t\t   af.getFilterValue()\n\t\t\t\t\t   );\n\t\t\t\t   });\n\t}\n\n\tgetFilterTypes(): Map<string, Array<FilterTypeReadModel>> {\n\t\treturn this.filterTypeManager.getFieldIdsToFilterTypes();\n\t}\n\n\tassignFilterTypes(fields: Array<Field>) {\n\t\tthis.filterTypeManager = new FilterTypeManager(fields);\n\t}\n\n\tadd(fieldId: FieldId, filterTypeId: FilterTypeId, value: any): void {\n\n\t\tconst filter = new Filter(FilterIdGenerator.generateId(), fieldId, filterTypeId, value);\n\n\t\tthis.activeFilters.push(filter);\n\t}\n\n\tfilter(entities: Array<OriginItemEntity>, fields: Map<string, Field>): Array<OriginItemEntity> {\n\n\t\tlet filteredEntities: Array<OriginItemEntity> = [...entities];\n\n\t\tfor (const filter of this.activeFilters) {\n\n\t\t\tconst filterTypeId = filter.getFilterTypeId(),\n\t\t\t\tfilterType = this.getFilterType(filterTypeId),\n\t\t\t\tvalue = filter.getFilterValue();\n\n\t\t\tfilteredEntities = filterType.filterMany(filteredEntities, fields.get(filter.getFieldId().toString()), value);\n\t\t}\n\n\t\treturn filteredEntities;\n\t}\n\n\tremoveAll(): void {\n\t\tthis.activeFilters.length = 0;\n\t}\n\n\tremove(filterId: FilterId): void {\n\n\t\tthis.activeFilters =\n\t\t\tthis.activeFilters.filter((filter: Filter) => {\n\t\t\t\treturn filter.getFilterId() !== filterId;\n\t\t\t});\n\t}\n\n\tprivate getFilterType(filterTypeId: FilterTypeId): BaseFilterType<any> {\n\t\treturn this.filterTypeManager.getFilterType(filterTypeId);\n\t}\n\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { FilterManager } from './filter.manager';\n\n\n@Injectable()\nexport class FilterManagerFactory {\n\n\tcreate(enabled: boolean = false): FilterManager {\n\t\treturn new FilterManager();\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventHandler, DomainEventType } from '@generic-ui/hermes';\n\nimport { QuickFilterEnabledRepository } from './quick-filter-enabled.repository';\nimport { ConfigQuickFilterSetEvent } from '../../domain/quick/config-quick-filter-set.event';\nimport { StructureId } from '../../../../core/domain/structure.id';\n\n\n@Injectable()\nexport class ConfigQuickFilterSetEventHandler implements DomainEventHandler<StructureId, ConfigQuickFilterSetEvent> {\n\n\tconstructor(private structureQuickFilterRepository: QuickFilterEnabledRepository) {\n\t}\n\n\tforEvent(): DomainEventType<ConfigQuickFilterSetEvent> {\n\t\treturn ConfigQuickFilterSetEvent;\n\t}\n\n\thandle(event: ConfigQuickFilterSetEvent): void {\n\n\t\tif (event.ofMessageType('ConfigQuickFilterSetEvent')) {\n\t\t\tthis.structureQuickFilterRepository.setEnabled(event.getEnabled(), event.getAggregateId());\n\t\t}\n\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventHandler, DomainEventType } from '@generic-ui/hermes';\n\nimport { FilterEnabledRepository } from './filter-enabled.repository';\nimport { ConfigFilterSetEvent } from '../../domain/config/config-filter-set.event';\nimport { StructureId } from '../../../../core/domain/structure.id';\n\n\n@Injectable()\nexport class ConfigFilterSetEventHandler implements DomainEventHandler<StructureId, ConfigFilterSetEvent> {\n\n\tconstructor(private structureFilterRepository: FilterEnabledRepository) {\n\t}\n\n\tforEvent(): DomainEventType<ConfigFilterSetEvent> {\n\t\treturn ConfigFilterSetEvent;\n\t}\n\n\thandle(event: ConfigFilterSetEvent): void {\n\n\t\tif (event.ofMessageType('ConfigFilterSetEvent')) {\n\t\t\tthis.structureFilterRepository.setEnabled(event.getEnabled(), event.getAggregateId());\n\t\t}\n\n\t}\n\n}\n","import { FilterTypeReadModel } from './filter-type.read-model';\nimport { FieldId } from '../../../../field/core/domain/field/field.id';\n\nexport class FilterTypeMap {\n\n\tprivate readonly map: Map<string, Array<FilterTypeReadModel>>; // = new WeakMap<FieldId, Array<FilterTypeReadModel>>();\n\n\tconstructor(map: Map<string, Array<FilterTypeReadModel>>) {\n\t\tthis.map = map;\n\t}\n\n\tgetFilterTypes(fieldId: FieldId): Array<FilterTypeReadModel> {\n\t\treturn this.map.get(fieldId.toString());\n\t}\n\n\n}\n","import { StructureId } from '../../../../../core/domain/structure.id';\nimport { FilterTypeReadModel } from '../../../api/type/filter-type.read-model';\nimport { StructureDomainEvent } from '../../../../../core/domain/structure.domain-event';\n\nexport class FilterTypesInitedEvent extends StructureDomainEvent {\n\n\tconstructor(aggregateId: StructureId,\n\t\t\t\tprivate readonly map: Map<string, Array<FilterTypeReadModel>>) {\n\t\tsuper(aggregateId, map, 'FilterTypesInitedEvent');\n\t}\n\n\tgetMap(): Map<string, Array<FilterTypeReadModel>> {\n\t\treturn this.map;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventHandler, DomainEventType } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { FilterTypeRepository } from './filter-type.repository';\nimport { FilterTypeMap } from './filter-type-map';\nimport { FilterTypesInitedEvent } from '../../domain/type/init/filter-types-inited.event';\nimport { FilterTypeReadModel } from './filter-type.read-model';\n\n\n@Injectable()\nexport class FilterTypeConfigFilterSetEventHandler implements DomainEventHandler<StructureId, FilterTypesInitedEvent> {\n\n\tconstructor(private readonly filterTypeRepository: FilterTypeRepository) {\n\t}\n\n\tforEvent(): DomainEventType<FilterTypesInitedEvent> {\n\t\treturn FilterTypesInitedEvent;\n\t}\n\n\thandle(filterTypesInitedEvent: FilterTypesInitedEvent): void {\n\n\t\tif (filterTypesInitedEvent.ofMessageType('FilterTypesInitedEvent')) {\n\n\t\t\tconst map: Map<string, Array<FilterTypeReadModel>> = filterTypesInitedEvent.getMap();\n\n\t\t\tthis.filterTypeRepository.next(filterTypesInitedEvent.getAggregateId(), new FilterTypeMap(map));\n\t\t}\n\t}\n\n}\n","import { StructureId } from '../../../../core/domain/structure.id';\nimport { ActiveFilterReadModel } from '../../api/active/active-filter.read-model';\nimport { StructureDomainEvent } from '../../../../core/domain/structure.domain-event';\n\nexport class ActiveFiltersSetEvent extends StructureDomainEvent {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly filters: ReadonlyArray<ActiveFilterReadModel>) {\n\t\tsuper(structureId, filters, 'ActiveFiltersSetEvent');\n\t}\n\n\tgetFilters(): ReadonlyArray<any> {\n\t\treturn this.filters;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventHandler, DomainEventType } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { ActiveFiltersSetEvent } from '../../domain/core/active-filters-set.event';\nimport { ActiveFilterRepository } from './active-filter.repository';\nimport { ActiveFilterReadModel } from './active-filter.read-model';\n\n@Injectable()\nexport class ActiveFiltersSetEventHandler implements DomainEventHandler<StructureId, ActiveFiltersSetEvent> {\n\n\tconstructor(private readonly activeFilterRepository: ActiveFilterRepository) {\n\t}\n\n\tforEvent(): DomainEventType<ActiveFiltersSetEvent> {\n\t\treturn ActiveFiltersSetEvent;\n\t}\n\n\thandle(activeFiltersSetEvent: ActiveFiltersSetEvent): void {\n\n\t\tif (activeFiltersSetEvent.ofMessageType('ActiveFiltersSetEvent')) {\n\n\t\t\tconst activeFilters: ReadonlyArray<ActiveFilterReadModel> = activeFiltersSetEvent.getFilters();\n\n\t\t\tthis.activeFilterRepository.next(activeFiltersSetEvent.getAggregateId(), activeFilters);\n\t\t}\n\t}\n\n}\n","import { StructureId } from '../../../../../core/domain/structure.id';\nimport { UniqueValue } from '../unique-value';\nimport { StructureDomainEvent } from '../../../../../core/domain/structure.domain-event';\n\nexport class UniqueFilterCalculatedEvent extends StructureDomainEvent {\n\n\tconstructor(aggregateId: StructureId,\n\t\t\t\tprivate readonly map: Map<string, Array<UniqueValue>>) {\n\t\tsuper(aggregateId, map, 'UniqueFilterCalculatedEvent');\n\t}\n\n\tgetUniqueValues(): Map<string, Array<UniqueValue>> {\n\t\treturn this.map;\n\t}\n\n}\n","import { FieldId } from '../../../../field/core/domain/field/field.id';\nimport { UniqueValueReadModel } from './unique-value.read-model';\n\nexport class UniqueValuesReadModel {\n\n\tprivate readonly map = new Map<string, Array<UniqueValueReadModel>>();\n\n\tprivate readonly allSelected: Map<string, boolean> = new Map<string, boolean>();\n\n\tprivate readonly allDisabled: Map<string, boolean> = new Map<string, boolean>();\n\n\tconstructor(map: Map<string, Array<UniqueValueReadModel>>) {\n\t\tthis.map = map;\n\t\tthis.calculateSelection();\n\t}\n\n\tgetValues(fieldId: FieldId): Array<UniqueValueReadModel> {\n\t\treturn this.map.get(fieldId.toString());\n\t}\n\n\tareAllSelected(fieldId: FieldId): boolean {\n\t\treturn this.allSelected.get(fieldId.toString());\n\t}\n\n\tareAllDisabled(fieldId: FieldId): boolean {\n\t\treturn this.allDisabled.get(fieldId.toString());\n\t}\n\n\tisSelectAllChecked(fieldId: FieldId): boolean {\n\t\treturn this.areAllSelected(fieldId);\n\t}\n\n\tisIndeterminate(fieldId: FieldId): boolean {\n\t\treturn !(this.areAllSelected(fieldId) || this.areAllDisabled(fieldId));\n\t}\n\n\tprivate calculateSelection(): void {\n\n\t\tfor (const key of Array.from(this.map.keys())) {\n\n\t\t\tconst values = this.map.get(key);\n\n\t\t\tthis.allSelected.set(\n\t\t\t\tkey,\n\t\t\t\t!values.some((r) => !r.isEnabled())\n\t\t\t);\n\n\t\t\tthis.allDisabled.set(\n\t\t\t\tkey,\n\t\t\t\t!values.some((r) => r.isEnabled())\n\t\t\t);\n\t\t}\n\t}\n}\n","import { UniqueValueId } from '../../domain/unique/unique-value-id';\n\nexport class UniqueValueReadModel {\n\n\tprivate readonly id: UniqueValueId;\n\n\tprivate readonly value: any;\n\n\tprivate readonly displayValue: string;\n\n\tprivate readonly enabled: boolean;\n\n\tconstructor(\n\t\tid: UniqueValueId,\n\t\tvalue: any,\n\t\tenabled: boolean\n\t) {\n\t\tthis.id = id;\n\t\tthis.value = value;\n\t\tthis.enabled = enabled;\n\t}\n\n\tgetId(): UniqueValueId {\n\t\treturn this.id;\n\t}\n\n\tgetValue(): any {\n\t\treturn this.value;\n\t}\n\n\tgeDisplayValue(): string {\n\t\treturn this.displayValue;\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventHandler, DomainEventType } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { UniqueFilterCalculatedEvent } from '../../domain/unique/calculate/unique-filter-calculated.event';\nimport { UniqueValuesRepository } from './unique-values.repository';\nimport { UniqueValuesReadModel } from './unique-values.read-model';\nimport { UniqueValue } from '../../domain/unique/unique-value';\nimport { UniqueValueReadModel } from './unique-value.read-model';\n\n@Injectable()\nexport class UniqueFilterCalculatedEventHandler implements DomainEventHandler<StructureId, UniqueFilterCalculatedEvent> {\n\n\tconstructor(private readonly uniqueValuesRepository: UniqueValuesRepository) {\n\t}\n\n\tforEvent(): DomainEventType<UniqueFilterCalculatedEvent> {\n\t\treturn UniqueFilterCalculatedEvent;\n\t}\n\n\thandle(calculatedEvent: UniqueFilterCalculatedEvent): void {\n\n\t\tif (calculatedEvent.ofMessageType('UniqueFilterCalculatedEvent')) {\n\n\t\t\tconst uvRM = new Map();\n\n\t\t\tcalculatedEvent.getUniqueValues()\n\t\t\t\t\t\t   .forEach((values: Array<UniqueValue>, key: string) => {\n\n\t\t\t\t\t\t\t   const valuesRM = values.map((uv: UniqueValue) => {\n\t\t\t\t\t\t\t\t   return new UniqueValueReadModel(uv.getId(), uv.getDisplayValue(), uv.isEnabled());\n\t\t\t\t\t\t\t   });\n\n\t\t\t\t\t\t\t   uvRM.set(key, valuesRM);\n\t\t\t\t\t\t   });\n\n\n\t\t\tconst uniqueValues = new UniqueValuesReadModel(\n\t\t\t\tuvRM\n\t\t\t);\n\n\t\t\tthis.uniqueValuesRepository.next(calculatedEvent.getAggregateId(), uniqueValues);\n\t\t}\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventHandler, DomainEventType } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../core/domain/structure.id';\nimport { FieldsInitedEvent } from '../../../../../field/core/domain/init/fields-inited.event';\n\n// TODO Remove\n\n\n@Injectable()\nexport class FilterTypeFieldsInitedEventHandler implements DomainEventHandler<StructureId, FieldsInitedEvent> {\n\n\t// constructor(private readonly filterTypeManagerRepository: FilterTypeManagerRepository,\n\t// \t\t\tprivate readonly domainEventPublisher: DomainEventPublisher) {\n\t// }\n\n\tforEvent(): DomainEventType<FieldsInitedEvent> {\n\t\treturn FieldsInitedEvent;\n\t}\n\n\thandle(fieldsInitedEvent: FieldsInitedEvent): void {\n\n\t\t// if (fieldsInitedEvent.ofMessageType('FieldsInitedEvent')) {\n\t\t//\n\t\t// \tconst fields = fieldsInitedEvent.getFields();\n\t\t//\n\t\t// \tconst manager = new FilterTypeManager(fields);\n\t\t//\n\t\t// \tthis.filterTypeManagerRepository.next(fieldsInitedEvent.getAggregateId(), manager);\n\t\t//\n\t\t// \tthis.domainEventPublisher.publish(new FilterTypesInitedEvent(fieldsInitedEvent.getAggregateId(), manager.getFieldIdsToFieldTypes()));\n\t\t// }\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { UnselectAllUniqueFilterCommand } from './unselect-all-unique-filter.command';\nimport { StructureAggregate } from '../../../../../core/domain/structure.aggregate';\nimport { FieldId } from '../../../../../field/core/domain/field/field.id';\n\n\n@Injectable()\nexport class UnselectAllUniqueFilterCommandHandler implements CommandHandler<StructureAggregate, UnselectAllUniqueFilterCommand> {\n\n\tconstructor(private domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<UnselectAllUniqueFilterCommand> {\n\t\treturn UnselectAllUniqueFilterCommand;\n\t}\n\n\thandle(structure: StructureAggregate, command: UnselectAllUniqueFilterCommand): void {\n\n\t\tconst fieldId: FieldId = command.getFieldId();\n\n\t\tstructure.unselectAllUniqueFilter(fieldId);\n\t}\n\n\tpublish(aggregate: StructureAggregate, command: UnselectAllUniqueFilterCommand): void {\n\t\tthis.domainEventPublisher.publishFromAggregate(aggregate);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { UnselectUniqueFilterCommand } from './unselect-unique-filter.command';\nimport { StructureAggregate } from '../../../../../core/domain/structure.aggregate';\nimport { FieldId } from '../../../../../field/core/domain/field/field.id';\n\n\n@Injectable()\nexport class UnselectUniqueFilterCommandHandler implements CommandHandler<StructureAggregate, UnselectUniqueFilterCommand> {\n\n\tconstructor(private domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<UnselectUniqueFilterCommand> {\n\t\treturn UnselectUniqueFilterCommand;\n\t}\n\n\thandle(structure: StructureAggregate, command: UnselectUniqueFilterCommand): void {\n\n\t\tconst fieldId: FieldId = command.getFieldId(),\n\t\t\tuniqueValueId = command.getUniqueValueId();\n\n\t\tstructure.unselectUniqueFilter(fieldId, uniqueValueId);\n\t}\n\n\tpublish(aggregate: StructureAggregate, command: UnselectUniqueFilterCommand): void {\n\t\tthis.domainEventPublisher.publishFromAggregate(aggregate);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { SelectAllUniqueFilterCommand } from './select-all-unique-filter.command';\nimport { StructureAggregate } from '../../../../../core/domain/structure.aggregate';\nimport { FieldId } from '../../../../../field/core/domain/field/field.id';\n\n\n@Injectable()\nexport class SelectAllUniqueFilterCommandHandler implements CommandHandler<StructureAggregate, SelectAllUniqueFilterCommand> {\n\n\tconstructor(private domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SelectAllUniqueFilterCommand> {\n\t\treturn SelectAllUniqueFilterCommand;\n\t}\n\n\thandle(structure: StructureAggregate, command: SelectAllUniqueFilterCommand): void {\n\n\t\tconst fieldId: FieldId = command.getFieldId();\n\n\t\tstructure.selectAllUniqueFilter(fieldId);\n\t}\n\n\tpublish(aggregate: StructureAggregate, command: SelectAllUniqueFilterCommand): void {\n\t\tthis.domainEventPublisher.publishFromAggregate(aggregate);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { SelectUniqueFilterCommand } from './select-unique-filter.command';\nimport { StructureAggregate } from '../../../../../core/domain/structure.aggregate';\nimport { FieldId } from '../../../../../field/core/domain/field/field.id';\n\n\n@Injectable()\nexport class SelectUniqueFilterCommandHandler implements CommandHandler<StructureAggregate, SelectUniqueFilterCommand> {\n\n\tconstructor(private domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SelectUniqueFilterCommand> {\n\t\treturn SelectUniqueFilterCommand;\n\t}\n\n\thandle(structure: StructureAggregate, command: SelectUniqueFilterCommand): void {\n\n\t\tconst fieldId: FieldId = command.getFieldId(),\n\t\t\tuniqueValueId = command.getUniqueValueId();\n\n\t\tstructure.selectUniqueFilter(fieldId, uniqueValueId);\n\t}\n\n\tpublish(aggregate: StructureAggregate, command: SelectUniqueFilterCommand): void {\n\t\tthis.domainEventPublisher.publishFromAggregate(aggregate);\n\t}\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { DomainModule, HermesModule } from '@generic-ui/hermes';\n\nimport { ToggleFilterCommandHandler } from './toggle/toggle-filter.command-handler';\nimport { AddFilterCommandHandler } from './core/add/add-filter.command-handler';\nimport { RemoveAllFiltersCommandHandler } from './core/remove-all/remove-all-filters.command-handler';\nimport { RemoveFilterCommandHandler } from './core/remove/remove-filter.command-handler';\nimport { SetConfigFilterCommandHandler } from './config/set-config-filter.command-handler';\nimport { SetConfigQuickFilterCommandHandler } from './quick/set-config-quick-filter.command-handler';\nimport { FilterManagerFactory } from './filter.manager-factory';\nimport { ConfigQuickFilterSetEventHandler } from '../api/read/config-quick-filter-set.event-handler';\nimport { ConfigFilterSetEventHandler } from '../api/read/config-filter-set.event-handler';\nimport { FilterTypeConfigFilterSetEventHandler } from '../api/type/filter-type.config-filter-set.event-handler';\nimport { ActiveFiltersSetEventHandler } from '../api/active/active-filters-set.event-handler';\nimport { UniqueFilterCalculatedEventHandler } from '../api/unique/unique-filter-calculated.event-handler';\nimport { FilterTypeFieldsInitedEventHandler } from './type/init/filter-type.fields-inited.event-handler';\nimport { UnselectAllUniqueFilterCommandHandler } from './unique/unselect-all/unselect-all-unique-filter.command-handler';\nimport { UnselectUniqueFilterCommandHandler } from './unique/unselect/unselect-unique-filter.command-handler';\nimport { SelectAllUniqueFilterCommandHandler } from './unique/select-all/select-all-unique-filter.command-handler';\nimport { SelectUniqueFilterCommandHandler } from './unique/select/select-unique-filter.command-handler';\nimport { structureKey } from '../../../core/api/structre.key';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule\n\t],\n\tproviders: [\n\t\tFilterManagerFactory\n\n\t],\n\tdeclarations: [],\n\texports: []\n})\nexport class FilterDomainModule extends DomainModule {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tstatic commandHandlers() {\n\t\treturn [\n\t\t\t...HermesModule.registerCommandHandler(SetConfigFilterCommandHandler, structureKey),\n\t\t\t...HermesModule.registerCommandHandler(SetConfigQuickFilterCommandHandler, structureKey),\n\t\t\t...HermesModule.registerCommandHandler(ToggleFilterCommandHandler, structureKey),\n\t\t\t...HermesModule.registerCommandHandler(AddFilterCommandHandler, structureKey),\n\t\t\t...HermesModule.registerCommandHandler(RemoveAllFiltersCommandHandler, structureKey),\n\t\t\t...HermesModule.registerCommandHandler(RemoveFilterCommandHandler, structureKey),\n\t\t\t...HermesModule.registerCommandHandler(SelectUniqueFilterCommandHandler, structureKey),\n\t\t\t...HermesModule.registerCommandHandler(SelectAllUniqueFilterCommandHandler, structureKey),\n\t\t\t...HermesModule.registerCommandHandler(UnselectUniqueFilterCommandHandler, structureKey),\n\t\t\t...HermesModule.registerCommandHandler(UnselectAllUniqueFilterCommandHandler, structureKey)\n\t\t];\n\t}\n\n\tstatic domainEventHandlers() {\n\t\treturn [\n\t\t\t...HermesModule.registerDomainEventHandler(ConfigQuickFilterSetEventHandler),\n\t\t\t...HermesModule.registerDomainEventHandler(ConfigFilterSetEventHandler),\n\t\t\t...HermesModule.registerDomainEventHandler(FilterTypeConfigFilterSetEventHandler),\n\t\t\t...HermesModule.registerDomainEventHandler(ActiveFiltersSetEventHandler),\n\t\t\t...HermesModule.registerDomainEventHandler(UniqueFilterCalculatedEventHandler),\n\t\t\t...HermesModule.registerDomainEventHandler(FilterTypeFieldsInitedEventHandler)\n\t\t];\n\t}\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { ApiModule } from '@generic-ui/hermes';\n\nimport { FilterCommandInvoker } from './filter.command-invoker';\nimport { FilterDomainModule } from '../domain/filter.domain-module';\nimport { FilterWarehouse } from './filter.warehouse';\nimport { FilterTypeRepository } from './type/filter-type.repository';\nimport { ActiveFilterRepository } from './active/active-filter.repository';\nimport { UniqueValuesRepository } from './unique/unique-values.repository';\nimport { FilterEnabledRepository } from './read/filter-enabled.repository';\nimport { QuickFilterEnabledRepository } from './read/quick-filter-enabled.repository';\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tFilterDomainModule\n\t],\n\tproviders: [\n\t\tFilterCommandInvoker,\n\t\tFilterWarehouse,\n\t\tFilterTypeRepository,\n\t\tActiveFilterRepository,\n\t\tUniqueValuesRepository,\n\t\tFilterEnabledRepository,\n\t\tQuickFilterEnabledRepository\n\t],\n\tdeclarations: [],\n\texports: []\n})\nexport class FilterApiModule extends ApiModule {\n\n}\n","import {\n\tFabricBadgeModule,\n\tFabricButtonGroupModule,\n\tFabricButtonModule,\n\tFabricCheckboxModule,\n\tFabricChipModule,\n\tFabricDialogModule,\n\tFabricDrawerModule,\n\tFabricDropdownModule,\n\tFabricInlineDialogModule,\n\tFabricInputModule,\n\tFabricProgressBarModule,\n\tFabricProgressSpinnerModule,\n\tFabricRadioButtonModule,\n\tFabricRadioGroupModule,\n\tFabricSelectModule,\n\tFabricSpinnerModule,\n\tFabricTabModule,\n\tFabricToggleButtonModule,\n\tFabricTooltipModule\n} from '@generic-ui/fabric';\n\n\nexport const fabricImports = [\n\tFabricBadgeModule,\n\tFabricButtonModule,\n\tFabricButtonGroupModule,\n\tFabricCheckboxModule,\n\tFabricChipModule,\n\tFabricDrawerModule,\n\tFabricDropdownModule,\n\tFabricRadioButtonModule,\n\tFabricRadioGroupModule,\n\tFabricProgressBarModule,\n\tFabricProgressSpinnerModule,\n\tFabricSelectModule,\n\tFabricSpinnerModule,\n\tFabricTabModule,\n\tFabricTooltipModule,\n\tFabricToggleButtonModule,\n\tFabricInputModule,\n\tFabricDialogModule,\n\tFabricInlineDialogModule,\n\tFabricTabModule\n];\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, OnInit, ViewEncapsulation } from '@angular/core';\n\nimport { SmartComponent } from '../../../../common/cdk/component/smart-component';\nimport { FilterWarehouse } from '../../core/api/filter.warehouse';\nimport { ActiveFilterReadModel } from '../../core/api/active/active-filter.read-model';\nimport { StructureId } from '../../../core/domain/structure.id';\nimport { FilterCommandInvoker } from '../../core/api/filter.command-invoker';\n\n\n@Component({\n\tselector: 'div[gui-active-filter-list]',\n\ttemplateUrl: './active-filter-list.component.html',\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class ActiveFilterListComponent extends SmartComponent implements OnInit {\n\n\tactiveFilters: Array<ActiveFilterReadModel> = [];\n\n\tconstructor(private readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\telementRef: ElementRef,\n\t\t\t\tprivate readonly structureId: StructureId,\n\t\t\t\tprivate readonly filterWarehouse: FilterWarehouse,\n\t\t\t\tprivate readonly filterCommandDispatcher: FilterCommandInvoker) {\n\t\tsuper(changeDetectorRef, elementRef);\n\t}\n\n\tngOnInit() {\n\t\tthis.filterWarehouse\n\t\t\t.onActiveFilters(this.structureId)\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((activeFilters: Array<ActiveFilterReadModel>) => {\n\t\t\t\tthis.activeFilters = activeFilters;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\t}\n\n\tremoveFilter(filter: ActiveFilterReadModel): void {\n\t\tthis.filterCommandDispatcher.removeFilter(filter.getFilterId(), this.structureId);\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-active-filter-list';\n\t}\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, ViewEncapsulation } from '@angular/core';\nimport { SearchWarehouse } from '../../../../search/core/api/search.warehouse';\nimport { SmartComponent } from '../../../../../common/cdk/component/smart-component';\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { SearchCommandInvoker } from '../../../../search/core/api/search.command-invoker';\n\n@Component({\n\tselector: 'div[gui-active-search]',\n\ttemplateUrl: './active-search.component.html',\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class ActiveSearchComponent extends SmartComponent {\n\n\tphrase: string;\n\n\tconstructor(private readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\telementRef: ElementRef,\n\t\t\t\tprivate readonly structureId: StructureId,\n\t\t\t\tprivate readonly searchCommandDispatcher: SearchCommandInvoker,\n\t\t\t\tprivate readonly searchWarehouse: SearchWarehouse) {\n\t\tsuper(changeDetectorRef, elementRef);\n\t}\n\n\tngOnInit() {\n\t\tthis.searchWarehouse\n\t\t\t.onPhrase(this.structureId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((phrase: string) => {\n\t\t\t\tthis.phrase = phrase;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\t}\n\n\tclearSearch(): void {\n\t\tevent.stopPropagation();\n\t\tthis.searchCommandDispatcher.search('', this.structureId);\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-active-search';\n\t}\n\n}\n","import { NgModule, Optional, Provider } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { FeatureModule } from '@generic-ui/hermes';\n\nimport { FilterApiModule } from '../../core/api/filter.api-module';\nimport { fabricImports } from '../../../grid/feature/structure-fabric.imports';\nimport { ActiveFilterListComponent } from './active-filter-list.component';\nimport { ActiveSearchComponent } from './search/active-search.component';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tfabricImports,\n\t\tFilterApiModule\n\t],\n\tdeclarations: [\n\t\tActiveFilterListComponent,\n\t\tActiveSearchComponent\n\t],\n\texports: [\n\t\tActiveFilterListComponent\n\t]\n})\nexport class ActiveFilterListModule extends FeatureModule {\n\n\tstatic forComponent(): Array<Provider> {\n\t\treturn [];\n\t}\n\n\tconstructor(@Optional() filterApiModule: FilterApiModule) {\n\t\tsuper();\n\t\tif (filterApiModule === null) {\n\t\t\tthrow new Error('FilterApiModule is required.');\n\t\t}\n\t}\n\n}\n","import { NgModule, Optional, Provider } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\n\nimport { FeatureModule } from '@generic-ui/hermes';\nimport { FabricModule } from '@generic-ui/fabric';\n\nimport { FilterIconComponent } from './icon/filter-icon.component';\nimport { FilterMenuTriggerComponent } from './filter-menu-trigger.component';\nimport { FilterMenuComponent } from './filter-menu.component';\nimport { ColumnSelectorComponent } from './column-selector/column-selector.component';\nimport { FilterTypeSelectorComponent } from './filter-selector/filter-type-selector.component';\nimport { FilterValueComponent } from './value/filter-value.component';\nimport { FieldSelectorComponent } from './field-selector/field-selector.component';\nimport { FilterApiModule } from '../../core/api/filter.api-module';\nimport { ActiveFilterListModule } from '../active-filters/active-filter-list.module';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tFabricModule,\n\t\tReactiveFormsModule,\n\t\tFilterApiModule,\n\t\tActiveFilterListModule\n\t],\n\tdeclarations: [\n\t\tFilterIconComponent,\n\t\tFilterMenuComponent,\n\t\tFilterMenuTriggerComponent,\n\t\tColumnSelectorComponent,\n\t\tFilterTypeSelectorComponent,\n\t\tFilterValueComponent,\n\t\tFieldSelectorComponent\n\t],\n\texports: [\n\t\tFilterMenuTriggerComponent\n\t],\n\tentryComponents: [\n\t\tFilterMenuComponent\n\t]\n})\nexport class FilterMenuFeatureModule extends FeatureModule {\n\n\tstatic forComponent(): Array<Provider> {\n\t\treturn [];\n\t}\n\n\tconstructor(@Optional() filterApiModule: FilterApiModule) {\n\t\tsuper();\n\t\tif (filterApiModule === null) {\n\t\t\tthrow new Error('FilterApiModule is required.');\n\t\t}\n\t}\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { FabricSelectModule } from '@generic-ui/fabric';\n\nimport { ListViewComponent } from './list-view.component';\nimport { ListViewSourceComponent } from './source/list-view-source.component';\nimport { ListViewLayoutComponent } from './layout/list-view-layout.component';\nimport { ListViewItemComponent } from './source/list-item/list-view-item.component';\n\nimport { PagingFeatureModule } from '../../paging/feature/paging.feature-module';\nimport { EmptySourceFeatureModule } from '../../source/feature/empty/empty-source.feature-module';\nimport { ListViewContainerCardComponent } from './card/list-view.container-card.component';\nimport { ListViewCardItemComponent } from './card/card-item/list-view.card-item.component';\nimport { ListViewContainerModeSelectComponent } from './container/select/list-view.container-mode-select.component';\nimport { ListViewApiModule } from '../core/api/list-view.api-module';\nimport { listViewGatewayDeclarations } from './gateway/list-view.gates';\nimport { SearchFeatureModule } from '../../search/feature/search.feature-module';\nimport { SortingSelectorFeatureModule } from '../../sorting/feature/selector/sorting-selector.feature-module';\nimport { FilterMenuFeatureModule } from '../../filter/feature/menu/filter-menu.feature-module';\n\nconst exportDeclarations = [\n\tListViewComponent,\n\tlistViewGatewayDeclarations,\n\t...listViewGatewayDeclarations\n];\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tListViewApiModule,\n\n\t\tFabricSelectModule,\n\t\tPagingFeatureModule,\n\t\tSearchFeatureModule,\n\t\tEmptySourceFeatureModule,\n\t\tSortingSelectorFeatureModule,\n\t\tFilterMenuFeatureModule\n\t],\n\tdeclarations: [\n\t\tListViewComponent,\n\t\tListViewItemComponent,\n\t\tListViewLayoutComponent,\n\t\tListViewSourceComponent,\n\n\t\tListViewContainerCardComponent,\n\t\tListViewCardItemComponent,\n\t\tListViewContainerModeSelectComponent,\n\n\t\t...listViewGatewayDeclarations\n\t],\n\texports: exportDeclarations,\n\tproviders: []\n})\nexport class ListViewFeatureModule {\n\n\tstatic exportDeclarations = [...exportDeclarations];\n\n\tconstructor(private readonly paging: PagingFeatureModule) {\n\t}\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({ name: 'numberFormatter' })\nexport class NumberFormatterPipe implements PipeTransform {\n\n\ttransform(number: number): string {\n\t\treturn number.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ' ');\n\t}\n\n}\n","import { NgModule } from '@angular/core';\n\nimport { NumberFormatterPipe } from './number-formatter.pipe';\n\n@NgModule({\n\tdeclarations: [\n\t\tNumberFormatterPipe\n\t],\n\texports: [\n\t\tNumberFormatterPipe\n\t]\n})\nexport class NumberFormatterModule {\n\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, ViewEncapsulation } from '@angular/core';\n\nimport { StaticComponent } from '../../../../../../common/cdk/component/static-component';\n\n@Component({\n\tselector: 'div[gui-info-dialog]',\n\ttemplateUrl: './structure-info-modal.component.html',\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureInfoModalComponent extends StaticComponent {\n\n\tconstructor(elementRef: ElementRef,\n\t\t\t\tchangeDetectorRef: ChangeDetectorRef) {\n\t\tsuper(elementRef, changeDetectorRef);\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-info-dialog';\n\t}\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, ViewEncapsulation } from '@angular/core';\nimport { SmartComponent } from '../../../../../common/cdk/component/smart-component';\n\n@Component({\n\tselector: 'div[gui-structure-dialog-column-manager]',\n\ttemplateUrl: './structure.dialog-column-manager.component.html',\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureDialogColumnManagerComponent extends SmartComponent {\n\n\tconstructor(detector: ChangeDetectorRef,\n\t\t\t\telementRef: ElementRef) {\n\t\tsuper(detector, elementRef);\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-structure-dialog-column-manager';\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { Theme } from '@generic-ui/fabric';\n\nimport { SchemaTheme } from '../../../../schema/core/api/theme/schema-theme';\n\n\n@Injectable()\nexport class StructureThemeConverter {\n\n\tconvertTheme(schemaTheme: SchemaTheme): Theme {\n\t\tswitch (schemaTheme) {\n\n\t\t\tcase SchemaTheme.FABRIC:\n\t\t\t\treturn Theme.FABRIC;\n\n\t\t\tcase SchemaTheme.MATERIAL:\n\t\t\t\treturn Theme.MATERIAL;\n\n\t\t\tcase SchemaTheme.GENERIC:\n\t\t\t\treturn Theme.GENERIC;\n\n\t\t\tcase SchemaTheme.LIGHT:\n\t\t\t\treturn Theme.LIGHT;\n\n\t\t\tcase SchemaTheme.DARK:\n\t\t\t\treturn Theme.DARK;\n\n\t\t\tdefault:\n\t\t\t\treturn Theme.FABRIC;\n\n\t\t}\n\t}\n}\n","import { Injectable, Injector } from '@angular/core';\n\nimport { FabricDialogService } from '@generic-ui/fabric';\n\nimport { CompositionId } from '../../../../../composition/core/domain/composition.id';\nimport { StructureDialogColumnManagerComponent } from './structure.dialog-column-manager.component';\nimport { SchemaTheme } from '../../../../../schema/core/api/theme/schema-theme';\nimport { Reactive } from '../../../../../common/cdk/reactive/reactive';\nimport { StructureThemeConverter } from '../../schema/structure.theme.converter';\nimport { SchemaWarehouse } from '../../../../../schema/core/api/schema.warehouse';\nimport { SchemaReadModelRootId } from '../../../../../schema/core/api/schema.read-model-root-id';\n\n\n@Injectable()\nexport class StructureDialogColumnManagerService extends Reactive {\n\n\tconstructor(private readonly injector: Injector,\n\t\t\t\tprivate readonly schemaWarehouse: SchemaWarehouse,\n\t\t\t\tprivate readonly structureThemeConverter: StructureThemeConverter,\n\t\t\t\tprivate readonly fabricDialogService: FabricDialogService) {\n\t\tsuper();\n\t}\n\n\topen(compositionId: CompositionId, readModelId: SchemaReadModelRootId, parentInjector?: Injector) {\n\n\t\tif (!parentInjector) {\n\t\t\tparentInjector = this.injector;\n\t\t}\n\n\t\tconst injector = Injector.create({ parent: parentInjector, providers: [{ provide: CompositionId, useValue: compositionId }] });\n\n\t\tthis.schemaWarehouse\n\t\t\t.onSingleTheme(readModelId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((theme: SchemaTheme) => {\n\n\t\t\t\tthis.fabricDialogService.open(StructureDialogColumnManagerComponent, {\n\t\t\t\t\tinjector: injector,\n\t\t\t\t\ttheme: this.structureThemeConverter.convertTheme(theme)\n\t\t\t\t});\n\t\t\t});\n\t}\n\n}\n","import { ChangeDetectionStrategy, Component, ElementRef, ViewEncapsulation } from '@angular/core';\n\nimport { PureComponent } from '../../../../common/cdk/component/pure-component';\n\n\n@Component({\n\tselector: 'div[gui-schema-manager-dialog]',\n\ttemplate: `\n\t\t<div gui-structure-schema-manager></div>\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureDialogSchemaManagerComponent extends PureComponent {\n\n\tconstructor(elRef: ElementRef) {\n\t\tsuper(elRef);\n\t\tthis.addClassToHost('gui-pr-10');\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-schema-manager-dialog';\n\t}\n}\n","import { Injectable, Injector } from '@angular/core';\n\nimport { FabricDialogService } from '@generic-ui/fabric';\nimport { SchemaReadModelRootId } from '../../../core/api/schema.read-model-root-id';\nimport { StructureDialogSchemaManagerComponent } from './structure.dialog-schema-manager.component';\nimport { Reactive } from '../../../../common/cdk/reactive/reactive';\n\n\n@Injectable()\nexport class StructureDialogSchemaManagerService extends Reactive {\n\n\tconstructor(private readonly injector: Injector,\n\t\t\t\tprivate readonly fabricDialogService: FabricDialogService) {\n\t\tsuper();\n\t}\n\n\topen(readModelId: SchemaReadModelRootId, parentInjector?: Injector): void {\n\n\t\tif (!parentInjector) {\n\t\t\tparentInjector = this.injector;\n\t\t}\n\n\t\tconst injector = Injector.create({\n\t\t\tproviders: [{ provide: SchemaReadModelRootId, useValue: readModelId }],\n\t\t\tparent: parentInjector\n\t\t});\n\n\t\tthis.fabricDialogService.open(StructureDialogSchemaManagerComponent, {\n\t\t\tinjector: injector\n\t\t});\n\t}\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, Injector, OnInit, ViewEncapsulation } from '@angular/core';\n\nimport { FabricDialogService } from '@generic-ui/fabric';\n\nimport { SmartComponent } from '../../../../../common/cdk/component/smart-component';\n\nimport { StructureInfoModalComponent } from './info-modal/structure-info-modal.component';\n\nimport { SourceWarehouse } from '../../../../source/core/api/source.warehouse';\nimport { StructureDialogColumnManagerService } from '../../column-manager/dialog/structure.dialog-column-manager.service';\nimport { CompositionId } from '../../../../../composition/core/domain/composition.id';\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { SchemaReadModelRootId } from '../../../../../schema/core/api/schema.read-model-root-id';\nimport { StructureInfoPanelArchive } from './structure.info-panel.archive';\nimport { StructureInfoPanelConfig } from './structure.info-panel.config';\nimport { StructureDialogSchemaManagerService } from '../../../../../schema/feature/manager/dialog/structure.dialog-schema-manager.service';\nimport { OriginItemEntity } from '../../../../source/core/domain/origin/origin-item-entity';\nimport { TranslationService } from '../../../../../l10n/core/api/translation.service';\nimport { Translation } from '../../../../../l10n/core/api/translation';\n\n\n@Component({\n\tselector: 'div[gui-structure-info-panel]',\n\ttemplateUrl: './structure.info-panel.component.html',\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureInfoPanelComponent extends SmartComponent implements OnInit {\n\n\ttotalItemsSize: number;\n\n\tpreparedItemsSize: number;\n\n\trowHeight: number;\n\n\tinfoModal = StructureInfoModalComponent;\n\n\tinfoPanelConfig: StructureInfoPanelConfig;\n\n\tthemeManagerTooltipText: string;\n\n\tcolumnManagerTooltipText: string;\n\n\tinfoTooltipText: string;\n\n\tconstructor(private readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\telementRef: ElementRef,\n\t\t\t\tprivate readonly injector: Injector,\n\t\t\t\tprivate readonly sourceReadModelService: SourceWarehouse,\n\t\t\t\tprivate readonly dialog: FabricDialogService,\n\t\t\t\tprivate readonly compositionId: CompositionId,\n\t\t\t\tprivate readonly structureId: StructureId,\n\t\t\t\tprivate readonly schemaReadModelRootId: SchemaReadModelRootId,\n\t\t\t\tprivate readonly menuColumnManagerService: StructureDialogColumnManagerService,\n\t\t\t\tprivate readonly translationService: TranslationService,\n\t\t\t\tprivate readonly schemaManagerService: StructureDialogSchemaManagerService,\n\t\t\t\tprivate readonly structureInfoPanelEnabledArchive: StructureInfoPanelArchive) {\n\t\tsuper(changeDetectorRef, elementRef);\n\t}\n\n\tngOnInit() {\n\n\t\tthis.structureInfoPanelEnabledArchive\n\t\t\t.on()\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe(\n\t\t\t\t(infoPanel: StructureInfoPanelConfig) => {\n\t\t\t\t\tthis.infoPanelConfig = infoPanel;\n\t\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t\t}\n\t\t\t);\n\n\t\tthis.sourceReadModelService\n\t\t\t.onOriginSize()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((size: number) => {\n\t\t\t\tthis.totalItemsSize = size;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.sourceReadModelService\n\t\t\t.onPreparedEntities()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((preparedItems: Array<OriginItemEntity>) => {\n\t\t\t\tthis.preparedItemsSize = preparedItems.length;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.translationService\n\t\t\t.onTranslation()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((translation: Translation) => {\n\t\t\t\tthis.themeManagerTooltipText = translation.infoPanelThemeMangerTooltipText;\n\t\t\t\tthis.columnManagerTooltipText = translation.infoPanelColumnManagerTooltipText;\n\t\t\t\tthis.infoTooltipText = translation.infoPanelInfoTooltipText;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\t}\n\n\topenInfo(): void {\n\t\tthis.dialog.open(this.infoModal);\n\t}\n\n\topenColumnManager(): void {\n\t\tthis.menuColumnManagerService.open(this.compositionId, this.schemaReadModelRootId, this.injector);\n\t}\n\n\topenSchemaManager(): void {\n\t\tthis.schemaManagerService.open(this.schemaReadModelRootId, this.injector);\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-structure-info-panel';\n\t}\n\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, OnInit, ViewEncapsulation } from '@angular/core';\n\nimport { SmartComponent } from '../../../../common/cdk/component/smart-component';\n\nimport { CompositionWarehouse } from '../../../../composition/core/api/composition.warehouse';\nimport { CellTemplateWithContext } from '../../../../composition/core/domain-read/definition/cell-template-with-context';\nimport { CompositionCommandInvoker } from '../../../../composition/core/api/composition.command-invoker';\nimport { CompositionId } from '../../../../composition/core/domain/composition.id';\n\n\n@Component({\n\tselector: 'div[gui-structure-column-manager]',\n\ttemplate: `\n\n\t\t<ol class=\"gui-p-0 gui-my-4 gui-mx-0 gui-list-none gui-overflow-auto\">\n\t\t\t<li *ngFor=\"let column of columns\"\n\t\t\t\t(click)=\"toggleColumn(column)\"\n\t\t\t\tclass=\"gui-p-6 gui-cursor-pointer\">\n\n\t\t\t\t<gui-checkbox [checked]=\"column.isEnabled()\"\n\t\t\t\t\t\t\t  [disabled]=\"enabledColumnsCount === 1 && column.isEnabled()\">\n\n\t\t\t\t\t<ng-container\n\t\t\t\t\t\t\t*ngTemplateOutlet=\"column.viewTemplate;\n\t\t\t\t\t\t\t\t\t\t\tcontext: column.context\">\n\t\t\t\t\t</ng-container>\n\t\t\t\t</gui-checkbox>\n\n\t\t\t</li>\n\t\t</ol>\n\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureColumnManagerComponent extends SmartComponent implements OnInit {\n\n\tcolumns: Array<CellTemplateWithContext>;\n\n\tenabledColumnsCount: number;\n\n\tconstructor(private changeDetectorRef: ChangeDetectorRef,\n\t\t\t\telementRef: ElementRef,\n\t\t\t\tprivate compositionId: CompositionId,\n\t\t\t\tprivate compositionCommandInvoker: CompositionCommandInvoker,\n\t\t\t\tprivate compositionWarehouse: CompositionWarehouse) {\n\t\tsuper(changeDetectorRef, elementRef);\n\n\t\tthis.addClassToHost('gui-block');\n\t}\n\n\tngOnInit() {\n\n\t\tthis.compositionWarehouse\n\t\t\t.onAllColumns(this.compositionId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((columns: Array<CellTemplateWithContext>) => {\n\t\t\t\tthis.columns = columns;\n\t\t\t\tthis.enabledColumnsCount = this.columns\n\t\t\t\t\t\t\t\t\t\t\t   .map((c) => +c.isEnabled())\n\t\t\t\t\t\t\t\t\t\t\t   .reduce((accumulator, currentValue) => accumulator + currentValue);\n\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\t}\n\n\ttoggleColumn(column: CellTemplateWithContext): void {\n\t\tevent.stopPropagation();\n\t\tif (column.isEnabled()) {\n\t\t\tthis.compositionCommandInvoker.disableColumn(column.getColumnDefinitionId(), this.compositionId);\n\t\t} else {\n\t\t\tthis.compositionCommandInvoker.enableColumn(column.getColumnDefinitionId(), this.compositionId);\n\t\t}\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-structure-column-manager';\n\t}\n}\n","import { ChangeDetectionStrategy, Component, ElementRef, ViewEncapsulation } from '@angular/core';\n\nimport { PureComponent } from '../../../../../common/cdk/component/pure-component';\n\n@Component({\n\tselector: 'div[gui-structure-menu-column-manager]',\n\ttemplateUrl: './structure.menu-column-manager.component.html',\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureMenuColumnManagerComponent extends PureComponent {\n\n\tconstructor(elementRef: ElementRef) {\n\t\tsuper(elementRef);\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-structure-menu-column-manager';\n\t}\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, ViewEncapsulation } from '@angular/core';\nimport { IconComponent } from '../../../../../common/cdk/component/icon-component';\n\n\n@Component({\n\tselector: 'div[gui-structure-column-manager-icon]',\n\ttemplate: `\n\t\t<svg data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 10.32 10.31\">\n\t\t\t<line class=\"cls-1\" x1=\"9.57\" y1=\"3.65\" x2=\"0.75\" y2=\"3.65\"/>\n\t\t\t<line class=\"cls-2\" x1=\"9.57\" y1=\"0.75\" x2=\"0.75\" y2=\"0.75\"/>\n\t\t\t<line class=\"cls-2\" x1=\"0.75\" y1=\"9.56\" x2=\"0.75\" y2=\"0.88\"/>\n\t\t\t<line class=\"cls-1\" x1=\"3.69\" y1=\"9.65\" x2=\"3.69\" y2=\"3.89\"/>\n\t\t\t<line class=\"cls-1\" x1=\"6.63\" y1=\"9.56\" x2=\"6.63\" y2=\"3.89\"/>\n\t\t\t<line class=\"cls-2\" x1=\"9.57\" y1=\"9.56\" x2=\"9.57\" y2=\"0.88\"/>\n\t\t</svg>\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureColumnManagerIconComponent extends IconComponent {\n\n\tconstructor(elementRef: ElementRef,\n\t\t\t\tchangeDetectorRef: ChangeDetectorRef) {\n\t\tsuper(elementRef, changeDetectorRef);\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-structure-column-manager-icon';\n\t}\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { StructureColumnManagerComponent } from './structure.column-manager.component';\nimport { fabricImports } from '../structure-fabric.imports';\nimport { StructureDialogColumnManagerService } from './dialog/structure.dialog-column-manager.service';\nimport { StructureDialogColumnManagerComponent } from './dialog/structure.dialog-column-manager.component';\nimport { StructureMenuColumnManagerComponent } from './menu/structure.menu-column-manager.component';\nimport { StructureColumnManagerIconComponent } from './icon/structure.column-manager-icon.component';\nimport { TranslationFeatureModule } from '../../../../l10n/feature/translation.feature-module';\n\n\nconst declarations = [\n\tStructureColumnManagerComponent,\n\tStructureDialogColumnManagerComponent,\n\tStructureMenuColumnManagerComponent,\n\tStructureColumnManagerIconComponent\n];\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tfabricImports,\n\t\tTranslationFeatureModule\n\t],\n\tdeclarations: declarations,\n\texports: declarations,\n\tentryComponents: [\n\t\tStructureColumnManagerComponent,\n\t\tStructureDialogColumnManagerComponent,\n\t\tStructureMenuColumnManagerComponent\n\t],\n\tproviders: [\n\t\tStructureDialogColumnManagerService\n\t]\n})\nexport class StructureColumnManagerModule {\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, ViewEncapsulation } from '@angular/core';\n\nimport { IconComponent } from '../../../../../../common/cdk/component/icon-component';\n\n\n@Component({\n\tselector: 'div[gui-structure-info-icon]',\n\ttemplateUrl: './structure.info-icon.component.html',\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureInfoIconComponent extends IconComponent {\n\n\tconstructor(elRef: ElementRef,\n\t\t\t\tcdr: ChangeDetectorRef) {\n\t\tsuper(elRef, cdr);\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-structure-info-icon';\n\t}\n\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, OnInit, ViewEncapsulation } from '@angular/core';\n\nimport { GuiSelectOption } from '@generic-ui/fabric';\nimport { SchemaWarehouse } from '../../core/api/schema.warehouse';\nimport { SchemaRowColoring } from '../../core/api/row-coloring/schema-row-coloring';\nimport { SchemaTheme } from '../../core/api/theme/schema-theme';\nimport { SchemaCommandInvoker } from '../../core/api/schema.command-invoker';\nimport { SchemaReadModelRootId } from '../../core/api/schema.read-model-root-id';\nimport { RowColoring } from '../../core/api/row-coloring/row-coloring';\nimport { SmartComponent } from '../../../common/cdk/component/smart-component';\n\n\n@Component({\n\tselector: 'div[gui-structure-schema-manager]',\n\ttemplateUrl: './structure.schema-manger.component.html',\n\tencapsulation: ViewEncapsulation.None,\n\tchangeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class StructureSchemaMangerComponent extends SmartComponent implements OnInit {\n\n\tcoloring: Array<GuiSelectOption> = Object.keys(SchemaRowColoring)\n\t\t\t\t\t\t\t\t\t\t\t .map((key: string) => SchemaRowColoring[key])\n\t\t\t\t\t\t\t\t\t\t\t .filter((val) => !Number.isInteger(val))\n\t\t\t\t\t\t\t\t\t\t\t .map((value: string) => {\n\t\t\t\t\t\t\t\t\t\t\t\t return {\n\t\t\t\t\t\t\t\t\t\t\t\t\t value: value,\n\t\t\t\t\t\t\t\t\t\t\t\t\t name: value\n\t\t\t\t\t\t\t\t\t\t\t\t };\n\t\t\t\t\t\t\t\t\t\t\t });\n\n\tthemes: Array<GuiSelectOption> = Object.keys(SchemaTheme)\n\t\t\t\t\t\t\t\t\t\t   .map((key: string) => SchemaTheme[key])\n\t\t\t\t\t\t\t\t\t\t   .filter((val) => !Number.isInteger(val))\n\t\t\t\t\t\t\t\t\t\t   .map((value: string) => {\n\t\t\t\t\t\t\t\t\t\t\t   return {\n\t\t\t\t\t\t\t\t\t\t\t\t   value: value,\n\t\t\t\t\t\t\t\t\t\t\t\t   name: value\n\t\t\t\t\t\t\t\t\t\t\t   };\n\t\t\t\t\t\t\t\t\t\t   });\n\n\tselectedRowColoring: GuiSelectOption;\n\n\tselectedTheme: GuiSelectOption;\n\n\tverticalGrid: boolean;\n\n\thorizontalGrid: boolean;\n\n\tconstructor(private readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\telRef: ElementRef,\n\t\t\t\tprivate readonly schemaReadModelRootId: SchemaReadModelRootId,\n\t\t\t\tprivate readonly schemaCommandService: SchemaCommandInvoker,\n\t\t\t\tprivate readonly schemaReadModelService: SchemaWarehouse) {\n\t\tsuper(changeDetectorRef, elRef);\n\t}\n\n\tngOnInit() {\n\n\t\tthis.schemaReadModelService\n\t\t\t.onRowColoring(this.schemaReadModelRootId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((rowColoring: SchemaRowColoring) => {\n\t\t\t\tthis.selectedRowColoring = {\n\t\t\t\t\tvalue: SchemaRowColoring[rowColoring],\n\t\t\t\t\tname: SchemaRowColoring[rowColoring]\n\t\t\t\t};\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.schemaReadModelService\n\t\t\t.onTheme(this.schemaReadModelRootId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((schemaTheme: SchemaTheme) => {\n\t\t\t\tthis.selectedTheme = {\n\t\t\t\t\tvalue: SchemaTheme[schemaTheme],\n\t\t\t\t\tname: SchemaTheme[schemaTheme]\n\t\t\t\t};\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.schemaReadModelService\n\t\t\t.onVerticalGrid(this.schemaReadModelRootId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((verticalGrid: boolean) => {\n\t\t\t\tthis.verticalGrid = verticalGrid;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.schemaReadModelService\n\t\t\t.onHorizontalGrid(this.schemaReadModelRootId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((horizontalGrid: boolean) => {\n\t\t\t\tthis.horizontalGrid = horizontalGrid;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\t}\n\n\ttoggleTheme(theme: GuiSelectOption): void {\n\t\tthis.schemaCommandService.setTheme(this.toTheme(theme.value), this.schemaReadModelRootId);\n\t}\n\n\ttoggleRowColoring(schemaRowColoring: GuiSelectOption): void {\n\t\tthis.schemaCommandService.setRowColoring(this.toRowColoring(schemaRowColoring.value), this.schemaReadModelRootId);\n\t}\n\n\ttoggleVerticalGrid(verticalGrid: boolean): void {\n\t\tthis.schemaCommandService.setVerticalGrid(verticalGrid, this.schemaReadModelRootId);\n\t}\n\n\ttoggleHorizontalGrid(horizontalGrid: boolean): void {\n\t\tthis.schemaCommandService.setHorizontalGrid(horizontalGrid, this.schemaReadModelRootId);\n\t}\n\n\tprivate toTheme(theme: string): SchemaTheme {\n\t\tswitch (theme.toLowerCase()) {\n\n\t\t\tcase 'fabric':\n\t\t\t\treturn SchemaTheme.FABRIC;\n\n\t\t\tcase 'material':\n\t\t\t\treturn SchemaTheme.MATERIAL;\n\n\t\t\tcase 'generic':\n\t\t\t\treturn SchemaTheme.GENERIC;\n\n\t\t\tcase 'light':\n\t\t\t\treturn SchemaTheme.LIGHT;\n\n\t\t\tcase 'dark':\n\t\t\t\treturn SchemaTheme.DARK;\n\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tprivate toRowColoring(coloring: string): RowColoring {\n\t\tswitch (coloring.toLowerCase()) {\n\n\t\t\tcase 'none':\n\t\t\t\treturn RowColoring.NONE;\n\n\t\t\tcase 'odd':\n\t\t\t\treturn RowColoring.ODD;\n\n\t\t\tcase 'even':\n\t\t\t\treturn RowColoring.EVEN;\n\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-structure-schema-manager';\n\t}\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, ViewEncapsulation } from '@angular/core';\nimport { IconComponent } from '../../../../common/cdk/component/icon-component';\n\n\n@Component({\n\tselector: 'div[gui-structure-schema-manager-icon]',\n\ttemplateUrl: './structure.schema-manager-icon.component.html',\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureSchemaManagerIconComponent extends IconComponent {\n\n\tconstructor(elRef: ElementRef,\n\t\t\t\tcdr: ChangeDetectorRef) {\n\t\tsuper(elRef, cdr);\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-structure-schema-manager-icon';\n\t}\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { StructureSchemaMangerComponent } from './structure.schema-manger.component';\nimport { StructureDialogSchemaManagerComponent } from './dialog/structure.dialog-schema-manager.component';\nimport { StructureDialogSchemaManagerService } from './dialog/structure.dialog-schema-manager.service';\nimport { fabricImports } from '../../../structure/grid/feature/structure-fabric.imports';\nimport { StructureSchemaManagerIconComponent } from './manager-icon/structure.schema-manager-icon.component';\nimport { TranslationFeatureModule } from '../../../l10n/feature/translation.feature-module';\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tfabricImports,\n\t\tTranslationFeatureModule\n\t],\n\tdeclarations: [\n\t\tStructureSchemaMangerComponent,\n\t\tStructureDialogSchemaManagerComponent,\n\t\tStructureSchemaManagerIconComponent\n\t],\n\texports: [\n\t\tStructureSchemaManagerIconComponent\n\t],\n\tentryComponents: [\n\t\tStructureDialogSchemaManagerComponent,\n\t\tStructureSchemaMangerComponent\n\t],\n\tproviders: [\n\t\tStructureDialogSchemaManagerService\n\t]\n})\nexport class SchemaManagerModule {\n\n}\n","import { Component } from '@angular/core';\n\n@Component({\n\ttemplate: `\n\n\t\t<h3>Active filters</h3>\n\n\t\t<div gui-active-filter-list></div>\n\n\t\t<div>\n\n\t\t\t<button gui-button\n\t\t\t\t\t[text]=\"true\">\n\t\t\t\tCancel\n\t\t\t</button>\n\n\t\t\t<button gui-button\n\t\t\t\t\t[outline]=\"true\"\n\t\t\t\t\t[primary]=\"true\">\n\t\t\t\tClear All\n\t\t\t</button>\n\t\t</div>\n\t`\n})\nexport class ActiveFilterMenuComponent {\n}\n","import { Injectable, Injector } from '@angular/core';\n\nimport { FabricDialogService } from '@generic-ui/fabric';\n\nimport { Reactive } from '../../../../../common/cdk/reactive/reactive';\nimport { SchemaWarehouse } from '../../../../../schema/core/api/schema.warehouse';\nimport { StructureThemeConverter } from '../../../../grid/feature/schema/structure.theme.converter';\nimport { SchemaReadModelRootId } from '../../../../../schema/core/api/schema.read-model-root-id';\nimport { SchemaTheme } from '../../../../../schema/core/api/theme/schema-theme';\nimport { ActiveFilterMenuComponent } from './active-filter-menu.component';\nimport { StructureId } from '../../../../core/domain/structure.id';\n\n@Injectable()\nexport class ActiveFilterService extends Reactive {\n\n\tconstructor(private readonly injector: Injector,\n\t\t\t\tprivate readonly schemaReadModelRepository: SchemaWarehouse,\n\t\t\t\tprivate readonly structureThemeConverter: StructureThemeConverter,\n\t\t\t\tprivate readonly fabricDialogService: FabricDialogService) {\n\t\tsuper();\n\t}\n\n\topen(readModelId: SchemaReadModelRootId, structureId: StructureId): void {\n\n\t\tconst injector = Injector.create({\n\t\t\tparent: this.injector,\n\t\t\tproviders: [\n\t\t\t\t{ provide: SchemaReadModelRootId, useValue: readModelId },\n\t\t\t\t{ provide: StructureId, useValue: structureId }\n\t\t\t]\n\t\t});\n\n\t\tthis.schemaReadModelRepository\n\t\t\t.onSingleTheme(readModelId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((theme: SchemaTheme) => {\n\n\t\t\t\tthis.fabricDialogService.open(ActiveFilterMenuComponent, {\n\t\t\t\t\tinjector: injector,\n\t\t\t\t\ttheme: this.structureThemeConverter.convertTheme(theme)\n\t\t\t\t});\n\t\t\t});\n\t}\n\n\n}\n","import { Directive, ElementRef } from '@angular/core';\n\nimport { ActiveFilterService } from './active-filter.service';\n\nimport { SchemaReadModelRootId } from '../../../../../schema/core/api/schema.read-model-root-id';\nimport { StructureId } from '../../../../core/domain/structure.id';\n\n@Directive({\n\tselector: '[gui-active-filter-menu-trigger]'\n})\nexport class ActiveFilterMenuTriggerDirective {\n\n\tconstructor(private readonly el: ElementRef,\n\t\t\t\tprivate readonly structureId: StructureId,\n\t\t\t\tprivate readonly activeFilterService: ActiveFilterService,\n\t\t\t\tprivate readonly schemaReadModelRootId: SchemaReadModelRootId) {\n\t}\n\n\tngOnInit() {\n\t\t// this.renderer.listen(this.el.nativeElement, 'click', () => {\n\t\t// \tthis.activeFilterService.open(this.schemaReadModelRootId, this.structureId);\n\t\t// });\n\t}\n\n}\n","import { NgModule, Provider } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { FeatureModule } from '@generic-ui/hermes';\nimport { FabricButtonModule } from '@generic-ui/fabric';\n\nimport { ActiveFilterMenuTriggerDirective } from './filter/active-filter-menu-trigger.directive';\nimport { ActiveFilterMenuComponent } from './filter/active-filter-menu.component';\nimport { ActiveFilterService } from './filter/active-filter.service';\nimport { FilterMenuFeatureModule } from '../../../filter/feature/menu/filter-menu.feature-module';\nimport { ActiveFilterListModule } from '../../../filter/feature/active-filters/active-filter-list.module';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\n\t\tFilterMenuFeatureModule,\n\t\tActiveFilterListModule,\n\n\t\tFabricButtonModule\n\n\t],\n\tdeclarations: [\n\t\tActiveFilterMenuTriggerDirective,\n\t\tActiveFilterMenuComponent\n\t],\n\texports: [\n\t\tActiveFilterMenuTriggerDirective\n\t],\n\tproviders: [\n\t\tActiveFilterService\n\t],\n\tentryComponents: [\n\t\tActiveFilterMenuComponent\n\t]\n})\nexport class SourceCounterFeatureModule extends FeatureModule {\n\n\tstatic forComponent(): Array<Provider> {\n\t\treturn [];\n\t}\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { FabricModule } from '@generic-ui/fabric';\n\nimport { NumberFormatterModule } from '../../../../../common/cdk/number-formatter/number-formatter.module';\nimport { StructureInfoPanelComponent } from './structure.info-panel.component';\nimport { StructureInfoModalComponent } from './info-modal/structure-info-modal.component';\nimport { StructureColumnManagerModule } from '../../column-manager/structure.column-manager.module';\nimport { StructureInfoIconComponent } from './icon/structure.info-icon.component';\nimport { StructureInfoPanelConfigConverter } from './structure.info-panel.config-converter';\nimport { SchemaManagerModule } from '../../../../../schema/feature/manager/schema-manager.module';\nimport { SourceCounterFeatureModule } from '../../../../source/feature/counter/source-counter.feature-module';\nimport { TranslationFeatureModule } from '../../../../../l10n/feature/translation.feature-module';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tNumberFormatterModule,\n\t\tFabricModule,\n\t\tStructureColumnManagerModule,\n\t\tSchemaManagerModule,\n\t\tSourceCounterFeatureModule,\n\t\tTranslationFeatureModule\n\t],\n\tdeclarations: [\n\t\tStructureInfoPanelComponent,\n\t\tStructureInfoModalComponent,\n\t\tStructureInfoIconComponent\n\t],\n\texports: [\n\t\tStructureInfoModalComponent,\n\t\tStructureInfoPanelComponent\n\t],\n\tentryComponents: [\n\t\tStructureInfoModalComponent\n\t],\n\tproviders: [\n\t\tStructureInfoPanelConfigConverter\n\t]\n})\nexport class StructureInfoPanelModule {\n\n}\n","export enum SortOrder {\n\tASC,\n\tDESC,\n\tNONE\n}\n","export enum ColumnAlign {\n\tRIGHT,\n\tCENTER,\n\tLEFT\n}\n","import { TemplateRef } from '@angular/core';\n\nimport { CellContext } from './cell-context';\nimport { FieldId } from '../../../../structure/field/core/domain/field/field.id';\nimport { SortOrder } from '../../domain/column/sort/sort-order';\nimport { ColumnAlign } from '../../domain/column/column-align';\nimport { ColumnDefinitionId } from './column-definition-id';\n\n// Basically header template\nexport class CellTemplateWithContext {\n\n\tconstructor(public viewTemplate: TemplateRef<any>,\n\t\t\t\tpublic editTemplate: TemplateRef<any>,\n\t\t\t\t// public editContext: any,\n\t\t\t\tpublic context: CellContext,\n\t\t\t\tpublic width: number,\n\t\t\t\tprivate readonly fieldId: FieldId,\n\t\t\t\tprivate readonly columnDefinitionId: ColumnDefinitionId,\n\t\t\t\tprivate readonly sortStatus: SortOrder,\n\t\t\t\tprivate readonly enabled: boolean,\n\t\t\t\tprivate readonly sortable: boolean,\n\t\t\t\tprivate readonly align: ColumnAlign) {\n\t}\n\n\tgetColumnDefinitionId(): ColumnDefinitionId {\n\t\treturn this.columnDefinitionId;\n\t}\n\n\tgetFieldId(): FieldId {\n\t\treturn this.fieldId;\n\t}\n\n\tgetSortStatus(): SortOrder {\n\t\treturn this.sortStatus;\n\t}\n\n\tisSortEnabled(): boolean {\n\t\treturn this.sortable;\n\t}\n\n\tisAscSort(): boolean {\n\t\treturn this.sortStatus === SortOrder.ASC;\n\t}\n\n\tisDescSort(): boolean {\n\t\treturn this.sortStatus === SortOrder.DESC;\n\t}\n\n\tisNoSort(): boolean {\n\t\treturn this.sortStatus === SortOrder.NONE;\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n\tisAlignLeft(): boolean {\n\t\treturn this.align === ColumnAlign.LEFT;\n\t}\n\n\tisAlignCenter(): boolean {\n\t\treturn this.align === ColumnAlign.CENTER;\n\t}\n\n\tisAlignRight(): boolean {\n\t\treturn this.align === ColumnAlign.RIGHT;\n\t}\n\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, Inject, OnInit, ViewChild, ViewEncapsulation } from '@angular/core';\n\nimport { StructureCommandInvoker } from '../../../../core/api/structure.command-invoker';\nimport { CellTemplateWithContext } from '../../../../../composition/core/domain-read/definition/cell-template-with-context';\nimport { SmartComponent } from '../../../../../common/cdk/component/smart-component';\nimport { CompositionWarehouse } from '../../../../../composition/core/api/composition.warehouse';\n\nimport { StructureColumnMenuConfigArchive } from './config/structure.column-menu-config.archive';\nimport { StructureColumnMenuConfig } from './config/structure.column-menu-config';\nimport { FilterWarehouse } from '../../../../filter/core/api/filter.warehouse';\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { UniqueValuesReadModel } from '../../../../filter/core/api/unique/unique-values.read-model';\nimport { TranslationService } from '../../../../../l10n/core/api/translation.service';\nimport { switchMap } from 'rxjs/operators';\nimport { Translation } from '../../../../../l10n/core/api/translation';\n\n\n@Component({\n\tselector: 'gui-column-config',\n\ttemplate: `\n\t\t<div *ngIf=\"isEnabled()\"\n\t\t\t class=\"gui-header-menu-tab\">\n\n\t\t\t<gui-tab [menu]=\"config.getMenus()\" [active]=\"config.getActiveMenu()\">\n\n\t\t\t\t<ng-container *ngIf=\"config.isMainEnabled()\">\n\n\t\t\t\t\t<gui-tab-item class=\"gui-tab-item-dropdown\" [tab]=\"config.getMainMenu()\">\n\n\t\t\t\t\t\t<gui-structure-column-config-sort *ngIf=\"column.isSortEnabled()\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  [dropdownTextTranslation]=\"dropdownTextTranslation\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  [column]=\"column\">\n\t\t\t\t\t\t</gui-structure-column-config-sort>\n\n\t\t\t\t\t\t<gui-structure-column-config-column-hide\n\t\t\t\t\t\t\t\t[column]=\"column\">\n\t\t\t\t\t\t</gui-structure-column-config-column-hide>\n\n\t\t\t\t\t\t<gui-structure-column-config-column-move\n\t\t\t\t\t\t\t\t[column]=\"column\">\n\t\t\t\t\t\t</gui-structure-column-config-column-move>\n\n\t\t\t\t\t</gui-tab-item>\n\n\t\t\t\t</ng-container>\n\n\t\t\t\t<ng-container *ngIf=\"config.isFilteringEnabled()\">\n\n\t\t\t\t\t<gui-tab-item [tab]=\"config.getFilterMenu()\">\n\n\t\t\t\t\t\t<!--\t\t\t\t\t\t<div class=\"gui-header-menu-item\">{{config.getFilterMenu()}}</div>-->\n\n\t\t\t\t\t\t<div gui-unique-value-list\n\t\t\t\t\t\t\t [fieldId]=\"column.getFieldId()\">\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t</gui-tab-item>\n\n\t\t\t\t</ng-container>\n\n\t\t\t\t<ng-container *ngIf=\"config.isColumnManagerEnabled()\">\n\n\t\t\t\t\t<gui-tab-item [tab]=\"config.getColumnMenu()\">\n\n\t\t\t\t\t\t<div gui-structure-menu-column-manager>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t</gui-tab-item>\n\n\t\t\t\t</ng-container>\n\n\t\t\t</gui-tab>\n\t\t</div>\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureColumnConfigComponent extends SmartComponent implements OnInit {\n\n\t@ViewChild('headerSortMenu', { static: false })\n\theaderSortMenu: ElementRef;\n\n\tconfig: StructureColumnMenuConfig;\n\n\tuniqueValues: Array<any> = [];\n\n\thideColumnTitle: string;\n\n\tdropdownTextTranslation: string;\n\n\tconstructor(private readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\telementRef: ElementRef,\n\t\t\t\tprivate readonly structureId: StructureId,\n\t\t\t\tprivate readonly structureCommandService: StructureCommandInvoker,\n\t\t\t\tprivate readonly compositionReadModelService: CompositionWarehouse,\n\t\t\t\tprivate readonly filterWarehouse: FilterWarehouse,\n\t\t\t\tprivate readonly translationService: TranslationService,\n\t\t\t\tprivate readonly structureColumnMenuConfigArchive: StructureColumnMenuConfigArchive,\n\t\t\t\t@Inject('column') public readonly column: CellTemplateWithContext) {\n\t\tsuper(changeDetectorRef, elementRef);\n\t}\n\n\tngOnInit() {\n\n\t\tthis.filterWarehouse\n\t\t\t.onUniqueValues(this.structureId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((uniqueValuesReadModel: UniqueValuesReadModel) => {\n\t\t\t\tthis.uniqueValues = uniqueValuesReadModel.getValues(this.column.getFieldId());\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.structureColumnMenuConfigArchive\n\t\t\t.on()\n\t\t\t.pipe(\n\t\t\t\tswitchMap((config: StructureColumnMenuConfig) => {\n\t\t\t\t\tthis.config = config;\n\t\t\t\t\treturn this.translationService.onTranslation();\n\t\t\t\t}),\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((translation: Translation) => {\n\t\t\t\tthis.setTabTitles(translation);\n\t\t\t\tthis.dropdownTextTranslation = translation.headerMenuMainTabColumnSort;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.config && this.config.isEnabled();\n\t}\n\n\tprivate setTabTitles(translation: Translation): void {\n\t\tthis.config.setMainMenu(translation.headerMenuMainTab);\n\t\tthis.config.setFilterMenu(translation.headerMenuFilterTab);\n\t\tthis.config.setColumnsMenu(translation.headerMenuColumnsTab);\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-column-config';\n\t}\n}\n","import { ElementRef, Injectable, Injector } from '@angular/core';\n\nimport { FabricInlineDialogService, FabricPlacement } from '@generic-ui/fabric';\n\nimport { StructureColumnConfigComponent } from './structure.column-config.component';\nimport { CellTemplateWithContext } from '../../../../../composition/core/domain-read/definition/cell-template-with-context';\nimport { Reactive } from '../../../../../common/cdk/reactive/reactive';\nimport { StructureThemeConverter } from '../../schema/structure.theme.converter';\nimport { SchemaTheme } from '../../../../../schema/core/api/theme/schema-theme';\nimport { SchemaWarehouse } from '../../../../../schema/core/api/schema.warehouse';\n\n@Injectable()\nexport class StructureColumnConfigService extends Reactive {\n\n\tconstructor(private readonly injector: Injector,\n\t\t\t\tprivate readonly schemaWarehouse: SchemaWarehouse,\n\t\t\t\tprivate readonly structureThemeConverter: StructureThemeConverter,\n\t\t\t\tprivate readonly inlineDialogService: FabricInlineDialogService) {\n\t\tsuper();\n\t}\n\n\topen(elementRef: ElementRef, column: CellTemplateWithContext): void {\n\t\tthis.close();\n\t\tconst injector = Injector.create({\n\t\t\tproviders: [{\n\t\t\t\tprovide: 'column', // TODO\n\t\t\t\tuseValue: column\n\t\t\t}],\n\t\t\tparent: this.injector\n\t\t});\n\n\t\tthis.schemaWarehouse\n\t\t\t.onSingleTheme()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((theme: SchemaTheme) => {\n\t\t\t\tthis.inlineDialogService.open(elementRef, StructureColumnConfigComponent, {\n\t\t\t\t\tinjector: injector,\n\t\t\t\t\tplacement: FabricPlacement.BOTTOM,\n\t\t\t\t\toffset: -34,\n\t\t\t\t\ttheme: this.structureThemeConverter.convertTheme(theme),\n\t\t\t\t\tcustomClass: 'gui-inline-dialog-header-menu'\n\t\t\t\t});\n\t\t\t});\n\t}\n\n\tclose(): void {\n\t\tthis.inlineDialogService.close();\n\t}\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, Injector, Input, ViewEncapsulation } from '@angular/core';\n\nimport { CellTemplateWithContext } from '../../../../../composition/core/domain-read/definition/cell-template-with-context';\nimport { StructureColumnConfigService } from '../menu/structure.column-config.service';\nimport { SortOrder } from '../../../../../composition/core/domain/column/sort/sort-order';\nimport { SmartComponent } from '../../../../../common/cdk/component/smart-component';\nimport { SortingCommandInvoker } from '../../../../sorting/core/api/sorting.command-invoker';\nimport { CompositionId } from '../../../../../composition/core/domain/composition.id';\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { FormationCommandInvoker } from '../../../../source/core/api/formation/formation.command-invoker';\n\n\n@Component({\n\tselector: 'div[gui-structure-header-columns][columns]',\n\ttemplateUrl: './structure-header-columns.component.html',\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None,\n\tproviders: [\n\t\tStructureColumnConfigService\n\t]\n})\nexport class StructureHeaderColumnsComponent extends SmartComponent {\n\n\t@Input()\n\tcolumns: Array<CellTemplateWithContext>;\n\n\t@Input()\n\tcheckboxSelection: boolean = false;\n\n\tglobalSearching = false;\n\n\tconstructor(private readonly elementRef: ElementRef,\n\t\t\t\tprivate readonly injector: Injector,\n\t\t\t\tprivate readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\tprivate readonly compositionId: CompositionId,\n\t\t\t\tprivate readonly structureId: StructureId,\n\t\t\t\tprivate readonly formationCommandDispatcher: FormationCommandInvoker,\n\t\t\t\tprivate readonly sortingCommandDispatcher: SortingCommandInvoker) {\n\t\tsuper(changeDetectorRef, elementRef);\n\t}\n\n\ttoggleSort(column: CellTemplateWithContext): void {\n\n\t\tif (column.isSortEnabled()) {\n\t\t\tthis.sortingCommandDispatcher.toggleSort(column.getFieldId(), this.compositionId, this.structureId);\n\t\t}\n\t}\n\n\tisSortAsc(column: CellTemplateWithContext): boolean {\n\t\treturn column.getSortStatus() === SortOrder.ASC;\n\t}\n\n\tisSortDesc(column: CellTemplateWithContext): boolean {\n\t\treturn column.getSortStatus() === SortOrder.DESC;\n\t}\n\n\tisGlobalSortEnabled(): boolean {\n\t\treturn this.globalSearching;\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-structure-header-columns';\n\t}\n\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, EventEmitter, Input, OnInit, Output, ViewEncapsulation } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\n\nimport { FilterCommandInvoker } from '../../../../filter/core/api/filter.command-invoker';\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { CellTemplateWithContext } from '../../../../../composition/core/domain-read/definition/cell-template-with-context';\nimport { PureComponent } from '../../../../../common/cdk/component/pure-component';\n\n\n@Component({\n\tselector: 'div[gui-structure-header-filters][columns]',\n\ttemplate: `\n\n\t\t<ng-container *ngIf=\"!filterMode\">\n\n\t\t\t<div *ngFor=\"let cell of columns\"\n\t\t\t\t [style.width.px]=\"cell.width\"\n\t\t\t\t class=\"gui-header-cell gui-flex gui-justify-between\n\\t gui-overflow-hidden gui-relative gui-py-0 gui-px-6 gui-box-border\n\\t gui-leading-4 gui-whitespace-nowrap gui-overflow-ellipsis\">\n\n\t\t\t\t<!--\t\t\t\t<gui-structure-header-filter [column]=\"cell\">-->\n\t\t\t\t<!--\t\t\t\t</gui-structure-header-filter>-->\n\n\t\t\t\t<button (click)=\"turnOnFilterMode()\">Add Filter</button>\n\n\t\t\t</div>\n\n\t\t</ng-container>\n\n\t\t<ng-container *ngIf=\"filterMode\">\n\n\t\t\t<gui-select [options]=\"['has value', 'is the same as', 'starts with', 'ends with']\" [selected]=\"'has value'\">\n\n\t\t\t</gui-select>\n\n\t\t\t<form [formGroup]=\"filterForm\">\n\t\t\t\t<input type=\"text\" [formControlName]=\"filterFieldName\" gui-input/>\n\t\t\t</form>\n\n\t\t\t<button gui-button (click)=\"clearFilters()\">Clear All</button>\n\t\t\t<button gui-button (click)=\"turnOffFilterMode()\">Close</button>\n\n\t\t</ng-container>\n\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureHeaderFiltersComponent extends PureComponent implements OnInit {\n\n\t@Input()\n\tcolumns: Array<CellTemplateWithContext>;\n\n\t@Output()\n\tclosed = new EventEmitter<void>();\n\n\treadonly filterFieldName = 'phrase';\n\n\tfilterForm: FormGroup;\n\n\tfilterMode: boolean = false;\n\n\tconstructor(private readonly structureFilterCommandService: FilterCommandInvoker,\n\t\t\t\tprivate readonly formBuilder: FormBuilder,\n\t\t\t\tprivate readonly cd: ChangeDetectorRef,\n\t\t\t\telementRef: ElementRef,\n\t\t\t\tprivate readonly structureId: StructureId) {\n\t\tsuper(elementRef);\n\t\tthis.filterForm = this.formBuilder.group({\n\t\t\t[this.filterFieldName]: ['']\n\t\t});\n\n\t}\n\n\tngOnInit() {\n\t\tthis.filterForm\n\t\t\t.valueChanges\n\t\t\t// .pipe(\n\t\t\t// debounceTime(500)\n\t\t\t// )\n\t\t\t.subscribe((f) => {\n\t\t\t\tthis.filter(f[this.filterFieldName]);\n\t\t\t});\n\t}\n\n\tfilter(phrase: string): void {\n\n\t\tif (phrase === undefined || phrase === null) {\n\t\t\tphrase = '';\n\t\t}\n\n\t\t// this.structureFilterCommandService.addFilter(this.columns[0].getFieldId(), '1', phrase, this.structureId);\n\t}\n\n\tclearFilters(): void {\n\t\tthis.filterForm.reset();\n\t}\n\n\tturnOnFilterMode(): void {\n\t\tthis.filterMode = true;\n\t\tthis.cd.detectChanges();\n\t}\n\n\tturnOffFilterMode(): void {\n\t\tthis.filterMode = false;\n\t\tthis.cd.detectChanges();\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn '';\n\t}\n\n}\n","import { AfterViewInit, ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, OnInit, ViewChild, ViewEncapsulation } from '@angular/core';\n\nimport { DomainEventBus } from '@generic-ui/hermes';\n\nimport { SmartComponent } from '../../../../common/cdk/component/smart-component';\n\nimport { StructureHeaderColumnsComponent } from './column/structure-header-columns.component';\nimport { CellTemplateWithContext } from '../../../../composition/core/domain-read/definition/cell-template-with-context';\nimport { StructureId } from '../../../core/domain/structure.id';\nimport { FilterWarehouse } from '../../../filter/core/api/filter.warehouse';\nimport { CompositionWarehouse } from '../../../../composition/core/api/composition.warehouse';\nimport { StructureHeaderFiltersComponent } from './filters/structure-header-filters.component';\nimport { StructureWarehouse } from '../../core/api/structure.warehouse';\nimport { StructureVerticalFormationWarehouse } from '../../../vertical-formation/core/api/structure-vertical-formation.warehouse';\nimport { RowSelectionType } from '../../../source/core/api/row-selection';\nimport { RowSelectionTypeArchive } from '../../../source/core/api/formation/type/row-selection-type.archive';\nimport { Group } from '../../../../composition/core/api/group/group';\nimport { CompositionId } from '../../../../composition/core/domain/composition.id';\nimport { GroupCollection } from '../../../../composition/core/api/group/group.collection';\nimport { StyleModifier } from '../../../../common/cdk/dom/style/style-modifier';\n\n\n@Component({\n\tselector: 'div[gui-structure-header]',\n\ttemplateUrl: './structure-header.component.html',\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureHeaderComponent extends SmartComponent implements OnInit, AfterViewInit {\n\n\t@ViewChild(StructureHeaderColumnsComponent, { read: ElementRef, static: true })\n\tcontainerRef: ElementRef;\n\n\t@ViewChild(StructureHeaderFiltersComponent, { read: ElementRef, static: true })\n\tfiltersRef: ElementRef;\n\n\theaderColumns: Array<CellTemplateWithContext> = [];\n\n\tfilterRowEnabled: boolean = false;\n\n\tcheckboxSelection: boolean = false;\n\n\tgroups: Array<Group>;\n\n\tshowGroups: boolean = false;\n\n\tprivate readonly styleModifier: StyleModifier;\n\n\tconstructor(private readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\telementRef: ElementRef,\n\t\t\t\tprivate readonly eventBus: DomainEventBus,\n\t\t\t\tprivate readonly structureId: StructureId,\n\t\t\t\tprivate readonly compositionId: CompositionId,\n\t\t\t\tprivate readonly filterWarehouse: FilterWarehouse,\n\t\t\t\tprivate readonly structureWarehouse: StructureWarehouse,\n\t\t\t\tprivate readonly rowSelectionTypeArchive: RowSelectionTypeArchive,\n\t\t\t\tprivate readonly structureVerticalFormationWarehouse: StructureVerticalFormationWarehouse,\n\t\t\t\tprivate readonly compositionWarehouse: CompositionWarehouse) {\n\t\tsuper(changeDetectorRef, elementRef);\n\t\tthis.styleModifier = new StyleModifier(elementRef.nativeElement);\n\t}\n\n\tngOnInit() {\n\n\t\tthis.rowSelectionTypeArchive\n\t\t\t.on()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((type: RowSelectionType) => {\n\t\t\t\tthis.checkboxSelection = type === RowSelectionType.CHECKBOX;\n\t\t\t\tthis.reRender();\n\t\t\t});\n\n\t\tthis.compositionWarehouse\n\t\t\t.onHeaderColumns()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((columns: Array<CellTemplateWithContext>) => {\n\t\t\t\tthis.headerColumns = columns;\n\t\t\t\tthis.reRender();\n\t\t\t});\n\n\t\tthis.compositionWarehouse\n\t\t\t.onContainerWidth()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((width: number) => {\n\t\t\t\tthis.styleModifier.getElement(this.containerRef.nativeElement).setWidth(width);\n\t\t\t});\n\n\t\tthis.filterWarehouse\n\t\t\t.onFilteringEnabled(this.structureId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((enabled: boolean) => {\n\n\t\t\t\tthis.filterRowEnabled = enabled;\n\t\t\t\tthis.reRender();\n\t\t\t});\n\n\t\tthis.compositionWarehouse\n\t\t\t.onGroups(this.compositionId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((collection: GroupCollection) => {\n\n\t\t\t\tthis.showGroups = collection.isVisible();\n\t\t\t\tthis.groups = collection.getGroups();\n\t\t\t\tthis.reRender();\n\t\t\t});\n\t}\n\n\tngAfterViewInit() {\n\t\tsuper.ngAfterViewInit();\n\n\t\tthis.structureVerticalFormationWarehouse\n\t\t\t.onRowHeight(this.structureId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((rowHeight: number) => {\n\n\t\t\t\tconst headerHeight = +(rowHeight) + 2;\n\n\t\t\t\tif (this.filtersRef) {\n\t\t\t\t\tthis.styleModifier.getElement(this.filtersRef.nativeElement).setHeight(headerHeight);\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-structure-header';\n\t}\n\n}\n","import { Observable, ReplaySubject } from 'rxjs';\n\nexport class ChangedValueEmitter<T> {\n\n\tprivate subject$ = new ReplaySubject<T>(1);\n\n\tconstructor() {\n\t}\n\n\temit(value: T): void {\n\t\tthis.subject$.next(value);\n\t}\n\n\ton(): Observable<T> {\n\t\treturn this.subject$.asObservable();\n\t}\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, Input, OnInit, ViewEncapsulation } from '@angular/core';\n\nimport { SmartComponent } from '../../../../../common/cdk/component/smart-component';\n\nimport { CellTemplateWithContext } from '../../../../../composition/core/domain-read/definition/cell-template-with-context';\nimport { ChangedValueEmitter } from '../../../../../composition/core/domain-read/edit/changed-value.emitter';\nimport { FilterCommandInvoker } from '../../../../filter/core/api/filter.command-invoker';\nimport { StructureId } from '../../../../core/domain/structure.id';\n\n\n@Component({\n\tselector: 'gui-structure-header-filter',\n\ttemplate: `\n\n\t\t<!--\t\t<ng-container-->\n\t\t<!--\t\t\t\t*ngTemplateOutlet=\"column.editTemplate; context: editContext\">-->\n\t\t<!--\t\t</ng-container>-->\n\n\t\t<button gui-button [primary]=\"true\">Add Filter</button>\n\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureHeaderFilterComponent extends SmartComponent implements OnInit {\n\n\t@Input()\n\tcolumn: CellTemplateWithContext;\n\n\tsub = new ChangedValueEmitter();\n\n\teditContext: any;\n\n\tconstructor(private readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\telementRef: ElementRef,\n\t\t\t\tprivate readonly structureFilterCommandService: FilterCommandInvoker,\n\t\t\t\tprivate readonly structureId: StructureId) {\n\t\tsuper(changeDetectorRef, elementRef);\n\n\t\tthis.editContext = {\n\t\t\tchanges: this.sub\n\t\t};\n\t}\n\n\tngOnInit() {\n\t\tthis.sub\n\t\t\t.on()\n\t\t\t.subscribe((phrase: string) => this.filter(phrase));\n\t}\n\n\tfilter(phrase: string): void {\n\t\t// this.structureFilterCommandService.addFilter(this.column.getFieldId(), '1', phrase, this.structureId);\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-structure-header-filter';\n\t}\n\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, Input, OnInit, ViewEncapsulation } from '@angular/core';\nimport { combineLatest } from 'rxjs';\n\nimport { SmartComponent } from '../../../../common/cdk/component/smart-component';\n\nimport { CellTemplateWithAccessor } from '../../../../composition/core/domain-read/definition/cell-template-with-accessor';\nimport { FormationCommandInvoker } from '../../../source/core/api/formation/formation.command-invoker';\nimport { StructureCellEditArchive } from '../edit/structure.cell-edit.archive';\nimport { StructureEditModeArchive } from '../edit/structure.edit-mode.archive';\nimport { FormationWarehouse } from '../../../source/core/api/formation/formation.warehouse';\nimport { ItemEntity } from '../../../source/core/domain/core/item/item.entity';\nimport { VerticalFormationRepository } from '../../../vertical-formation/core/api/vertical-formation.repository';\nimport { StructureWarehouse } from '../../core/api/structure.warehouse';\nimport { StructureId } from '../../../core/domain/structure.id';\nimport { SearchPhraseRepository } from '../../../search/core/api/phrase/search-phrase.repository';\nimport { SearchHighlightArchive } from '../../../search/core/api/highlight/search-highlight.archive';\nimport { StructureVerticalFormationWarehouse } from '../../../vertical-formation/core/api/structure-vertical-formation.warehouse';\nimport { RowSelectionTypeArchive } from '../../../source/core/api/formation/type/row-selection-type.archive';\nimport { RowSelectionType } from '../../../source/core/api/row-selection';\nimport { RowSelectToggleType } from '../../../source/core/domain/formation/core/row-select-toggle-type';\nimport { SchemaRowClassArchive } from '../../../../schema/core/api/styling/schema.row-class.archive';\nimport { SchemaRowStyleArchive } from '../../../../schema/core/api/styling/schema.row-style.archive';\nimport { SchemaRowClass } from '../../../../schema/core/api/styling/schema.row-class';\nimport { SchemaRowStyle } from '../../../../schema/core/api/styling/schema.row-style';\n\n\n@Component({\n\tselector: 'div[gui-structure-content]',\n\ttemplateUrl: './structure-content.component.html',\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureContentComponent extends SmartComponent implements OnInit {\n\n\t@Input()\n\tsource: Array<ItemEntity>;\n\n\t@Input()\n\tcolumns: Array<CellTemplateWithAccessor>;\n\n\teditMode = false;\n\n\tcellEditing = false;\n\n\trowHeight: number;\n\n\tsearchPhrase: string = '';\n\n\thighlighting: boolean = true;\n\n\tphrase: boolean = true;\n\n\trowDetailOpened = 4;\n\n\tcheckboxSelection: boolean = false;\n\n\tschemaRowClass: SchemaRowClass;\n\n\tschemaRowStyle: SchemaRowStyle;\n\n\tconstructor(private readonly elementRef: ElementRef,\n\t\t\t\tprivate readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\tprivate readonly formationCommandService: FormationCommandInvoker,\n\t\t\t\tprivate readonly structureCellEditArchive: StructureCellEditArchive,\n\t\t\t\tprivate readonly structureEditModeArchive: StructureEditModeArchive,\n\t\t\t\tprivate readonly formationWarehouse: FormationWarehouse,\n\t\t\t\tprivate readonly structureWarehouse: StructureWarehouse,\n\t\t\t\tprivate readonly structureVerticalFormationWarehouse: StructureVerticalFormationWarehouse,\n\t\t\t\tprivate readonly verticalFormationRepository: VerticalFormationRepository,\n\t\t\t\tprivate readonly structureId: StructureId, // REfactor\n\t\t\t\tprivate readonly rowSelectionTypeArchive: RowSelectionTypeArchive,\n\t\t\t\tprivate readonly structureSearchPhraseRepository: SearchPhraseRepository,\n\t\t\t\tprivate readonly structureSearchHighlightArchive: SearchHighlightArchive,\n\t\t\t\tprivate readonly schemaRowClassArchive: SchemaRowClassArchive,\n\t\t\t\tprivate readonly schemaRowStyleArchive: SchemaRowStyleArchive) {\n\t\tsuper(changeDetectorRef, elementRef);\n\t}\n\n\tngOnInit() {\n\n\t\tthis.rowSelectionTypeArchive\n\t\t\t.on()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((type: RowSelectionType) => {\n\t\t\t\tthis.checkboxSelection = type === RowSelectionType.CHECKBOX;\n\t\t\t\tthis.reRender();\n\t\t\t});\n\n\t\tthis.structureEditModeArchive\n\t\t\t.on()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((enabled: boolean) => {\n\t\t\t\tthis.editMode = enabled;\n\t\t\t\tthis.reRender();\n\t\t\t});\n\n\t\tthis.structureCellEditArchive\n\t\t\t.on()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((enabled: boolean) => {\n\t\t\t\tthis.cellEditing = enabled;\n\t\t\t\tthis.reRender();\n\t\t\t});\n\n\t\tthis.structureVerticalFormationWarehouse\n\t\t\t.onRowHeight(this.structureId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((rowHeight: number) => {\n\t\t\t\tthis.rowHeight = rowHeight;\n\t\t\t\tthis.reRender();\n\t\t\t});\n\n\t\tcombineLatest(\n\t\t\tthis.structureSearchPhraseRepository\n\t\t\t\t.onPhrase(this.structureId),\n\t\t\tthis.structureSearchHighlightArchive\n\t\t\t\t.onValue()\n\t\t).pipe(\n\t\t\tthis.takeUntil()\n\t\t )\n\t\t .subscribe((args: Array<any>) => {\n\n\t\t\t const searchPhrase = args[0],\n\t\t\t\t highlighting = args[1];\n\n\t\t\t this.highlighting = highlighting;\n\t\t\t this.searchPhrase = searchPhrase;\n\n\t\t\t if (!this.highlighting) {\n\t\t\t\t this.searchPhrase = '';\n\t\t\t }\n\n\t\t\t this.reRender();\n\t\t });\n\n\t\tthis.schemaRowClassArchive\n\t\t\t.on()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((schemaRowClass: SchemaRowClass) => {\n\t\t\t\tthis.schemaRowClass = schemaRowClass;\n\t\t\t\tthis.reRender();\n\t\t\t});\n\n\t\tthis.schemaRowStyleArchive\n\t\t\t.on()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((schemaRowStyle: SchemaRowStyle) => {\n\t\t\t\tthis.schemaRowStyle = schemaRowStyle;\n\t\t\t\tthis.reRender();\n\t\t\t});\n\t}\n\n\ttrackByFn() {\n\t\treturn 0;\n\t}\n\n\ttranslateY(index: number): string {\n\n\t\tconst height = index * this.rowHeight;\n\n\t\treturn `translateY(${height}px)`;\n\t}\n\n\ttoggleSelectedRow(entity: ItemEntity): void {\n\t\tif (!this.checkboxSelection) {\n\t\t\tthis.formationCommandService.toggleSelectedRow(entity.getId(), RowSelectToggleType.NONE);\n\t\t}\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-structure-content';\n\t}\n\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, Input, OnChanges, OnInit, ViewEncapsulation } from '@angular/core';\n\nimport { CellTemplateWithAccessor } from '../../../../../composition/core/domain-read/definition/cell-template-with-accessor';\nimport { ItemEntity } from '../../../../source/core/domain/core/item/item.entity';\nimport { FormationCommandInvoker } from '../../../../source/core/api/formation/formation.command-invoker';\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { RowSelectToggleType } from '../../../../source/core/domain/formation/core/row-select-toggle-type';\nimport { FormationWarehouse } from '../../../../source/core/api/formation/formation.warehouse';\nimport { SmartComponent } from '../../../../../common/cdk/component/smart-component';\nimport { RowSelectedReadModel } from '../../../../source/core/api/formation/row-selected.read-model';\nimport { GuiRowClass, GuiRowStyle } from '../../../../../gui/grid/core/api/gui.grid.public-api';\nimport { StyleModifier } from '../../../../../common/cdk/dom/style/style-modifier';\nimport { ClassModifier } from '../../../../../common/cdk/dom/class/class-modifier';\nimport { CssClassModifier } from '../../../../common/css-class/css-class.modifier';\nimport { NgChanges } from '../../../../../common/cdk/component/ng-changes';\n\n\n@Component({\n\tselector: 'div[gui-structure-row]',\n\ttemplateUrl: './structure-row.component.html',\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureRowComponent extends SmartComponent implements OnChanges, OnInit {\n\n\t@Input()\n\tentity: ItemEntity;\n\n\t@Input()\n\tcolumns: Array<CellTemplateWithAccessor>;\n\n\t@Input()\n\teditMode: boolean;\n\n\t@Input()\n\tcellEditing: boolean;\n\n\t@Input()\n\tsearchPhrase: string;\n\n\t@Input()\n\tindex: number;\n\n\t@Input()\n\trowStyle: GuiRowStyle;\n\n\t@Input()\n\trowClass: GuiRowClass;\n\n\t@Input()\n\tdetailsEnabled: boolean = false;\n\n\t@Input()\n\tcheckboxSelection: boolean = false;\n\n\tselectedItem: boolean = false;\n\n\tprivate row: RowSelectedReadModel;\n\n\tprivate readonly styleModifier: StyleModifier;\n\n\tprivate readonly classModifier: ClassModifier;\n\n\tconstructor(private readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\tprivate readonly elRef: ElementRef,\n\t\t\t\tprivate readonly structureId: StructureId,\n\t\t\t\tprivate readonly formationWarehouse: FormationWarehouse,\n\t\t\t\tprivate readonly formationCommandDispatcher: FormationCommandInvoker,\n\t\t\t\tprivate readonly cssClassModifier: CssClassModifier) {\n\t\tsuper(changeDetectorRef, elRef);\n\t\tthis.styleModifier = new StyleModifier(this.elRef.nativeElement);\n\t\tthis.classModifier = new ClassModifier(this.elRef.nativeElement);\n\t}\n\n\tngOnChanges(changes: NgChanges<StructureRowComponent>) {\n\n\t\tif (changes.entity !== undefined && changes.entity.currentValue !== undefined) {\n\t\t\tthis.checkSelectedItem();\n\t\t\tthis.updateRowClass(changes.entity.previousValue);\n\t\t\tthis.updateRowStyle(changes.entity.previousValue);\n\t\t}\n\n\t\tif (changes.rowClass !== undefined && changes.rowClass.currentValue !== undefined) {\n\t\t\tthis.updateRowClass();\n\t\t}\n\n\t\tif (changes.rowStyle !== undefined && changes.rowStyle.currentValue !== undefined) {\n\t\t\tthis.updateRowStyle();\n\t\t}\n\t}\n\n\tngOnInit() {\n\n\t\tthis.formationWarehouse\n\t\t\t.onRowSelectedReadModel(this.structureId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((row: RowSelectedReadModel) => {\n\t\t\t\tthis.row = row;\n\t\t\t\tconst prevValue = this.selectedItem;\n\n\t\t\t\tthis.checkSelectedItem();\n\n\t\t\t\tif (prevValue !== this.selectedItem) {\n\n\t\t\t\t\tif (prevValue) {\n\t\t\t\t\t\tthis.cssClassModifier.unselect(this.elRef.nativeElement);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.cssClassModifier.select(this.elRef.nativeElement);\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tngAfterViewInit() {\n\t\tsuper.ngAfterViewInit();\n\n\t\tthis.updateRowClass();\n\t\tthis.updateRowStyle();\n\t}\n\n\ttrackByFn(): number {\n\t\treturn 0;\n\t}\n\n\tselectRow(): void {\n\t\tevent.stopPropagation();\n\t\tthis.formationCommandDispatcher.toggleSelectedRow(this.entity.getId(), RowSelectToggleType.ADD, this.structureId);\n\t}\n\n\tcheckSelectedItem(): void {\n\t\tif (this.row) {\n\n\t\t\tconst prevValue = this.selectedItem;\n\n\t\t\tthis.selectedItem = this.row.isSelected(this.entity.getId());\n\n\t\t\tif (prevValue !== this.selectedItem) {\n\n\t\t\t\tif (prevValue) {\n\t\t\t\t\tthis.cssClassModifier.unselect(this.elRef.nativeElement);\n\t\t\t\t} else {\n\t\t\t\t\tthis.cssClassModifier.select(this.elRef.nativeElement);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate calculateRowStyle(entity: ItemEntity): string {\n\n\t\tif (!this.rowStyle) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (typeof this.rowStyle.style === 'string') {\n\t\t\treturn this.rowStyle.style || '';\n\t\t}\n\n\t\tif (typeof this.rowStyle.styleFunction === 'function') {\n\t\t\treturn this.rowStyle.styleFunction(entity.getData(), entity.getPosition());\n\t\t}\n\t}\n\n\tprivate updateRowStyle(prevEntity?: ItemEntity) {\n\n\t\tif (prevEntity) {\n\t\t\tconst rowStylesToRemove = this.calculateRowStyle(prevEntity);\n\n\t\t\tthis.removeRowStyles(rowStylesToRemove);\n\t\t}\n\n\t\tconst rowStylesToAdd = this.calculateRowStyle(this.entity);\n\n\t\tthis.renderRowStyles(rowStylesToAdd);\n\t}\n\n\tprivate removeRowStyles(rowStyle: string): void {\n\n\t\tif (!rowStyle) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst styles = rowStyle.split(';');\n\n\t\tfor (let i = 0; i < styles.length; i += 1) {\n\n\t\t\tconst separatedStyles = styles[i].split(':');\n\n\t\t\tif (separatedStyles[0] && separatedStyles[1]) {\n\t\t\t\tthis.styleModifier.getHost().removeStyleByName(separatedStyles[0].trim());\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate renderRowStyles(rowStyle: string): void {\n\n\t\tif (!rowStyle) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst styles = rowStyle.split(';');\n\n\t\tfor (let i = 0; i < styles.length; i += 1) {\n\n\t\t\tconst separatedStyles = styles[i].split(':');\n\n\t\t\tif (separatedStyles[0] && separatedStyles[1]) {\n\t\t\t\tthis.styleModifier.getHost().setStyleByName(separatedStyles[0].trim(), separatedStyles[1].trim());\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate updateRowClass(prevEntity?: ItemEntity): void {\n\n\t\tif (prevEntity) {\n\t\t\tconst toRemoveClass = this.calculateRowClass(prevEntity);\n\n\t\t\tif (toRemoveClass) {\n\t\t\t\tthis.classModifier.getHost().remove(toRemoveClass);\n\t\t\t}\n\t\t}\n\n\t\tconst toAddClass = this.calculateRowClass(this.entity);\n\n\t\tif (toAddClass) {\n\t\t\tthis.classModifier.getHost().add(toAddClass);\n\t\t}\n\t}\n\n\tprivate calculateRowClass(entity: ItemEntity): string {\n\n\t\tif (!this.rowClass) {\n\t\t\treturn '';\n\t\t}\n\n\t\tlet clazz: string;\n\n\t\tif (typeof this.rowClass.class === 'string') {\n\t\t\tclazz = this.rowClass.class || '';\n\t\t}\n\n\t\tif (typeof this.rowClass.classFunction === 'function') {\n\t\t\tif (entity) {\n\t\t\t\tclazz = this.rowClass.classFunction(entity.getData(), entity.getPosition()) || '';\n\t\t\t}\n\t\t}\n\n\t\treturn clazz;\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-structure-row';\n\t}\n\n}\n","export enum CellView {\n\tTEXT,\n\tNUMBER,\n\tCHIP,\n\tLINK,\n\tIMAGE,\n\tBOLD,\n\tITALIC,\n\tCHECKBOX,\n\tCUSTOM,\n\tFUNCTION,\n\tDATE,\n\tBAR,\n\tPERCENTAGE_BAR,\n\tPERCENTAGE\n}\n","export enum CellValueType {\n\tTEXT,\n\tHTML\n}\n\nexport class CellValue {\n\n\tconstructor(public value: any,\n\t\t\t\tpublic readonly type: CellValueType) {\n\t}\n\n\tstatic text(value: any): CellValue {\n\t\treturn new CellValue(value, CellValueType.TEXT);\n\t}\n\n\tstatic HTML(value: any): CellValue {\n\t\treturn new CellValue(value, CellValueType.HTML);\n\t}\n\n}\n","import { TemplateRef } from '@angular/core';\n\nimport { ColumnFieldId } from '../../domain/column/field/column-field.id';\nimport { ItemEntity } from '../../../../structure/source/core/domain/core/item/item.entity';\nimport { DataType } from '../../../../structure/field/core/domain/field/data/data-type';\nimport { ViewEntity } from '../../domain/column/view.entity';\nimport { CellView } from '../../domain/column/cell-view';\nimport { ColumnAlign } from '../../domain/column/column-align';\nimport { CellValue } from './cell-value';\n\n\nexport class CellTemplateWithAccessor {\n\n\tconstructor(public template: TemplateRef<any>,\n\t\t\t\tpublic editTemplate: TemplateRef<any>,\n\t\t\t\tpublic editable: boolean,\n\t\t\t\tpublic templateFun: (value: any, item: any) => any,\n\t\t\t\tpublic formatterFun: (value: any, item: any) => any,\n\t\t\t\tpublic accessor: (element: any) => any,\n\t\t\t\tpublic searchAccessor: (element: any) => any,\n\t\t\t\tpublic width: number,\n\t\t\t\tpublic columnFieldId: ColumnFieldId,\n\t\t\t\tprivate readonly align: ColumnAlign,\n\t\t\t\tprivate readonly cellEditingEnabled: boolean,\n\t\t\t\tprivate readonly type: DataType, // REFACTOR\n\t\t\t\tprivate readonly view: ViewEntity) { // REFACTOR\n\t}\n\n\tisCellEditingEnabled(): boolean {\n\t\treturn this.cellEditingEnabled;\n\t}\n\n\tisBooleanDataType(): boolean {\n\t\treturn this.type === DataType.BOOLEAN;\n\t}\n\n\tisAlignLeft(): boolean {\n\t\treturn this.align === ColumnAlign.LEFT;\n\t}\n\n\tisAlignCenter(): boolean {\n\t\treturn this.align === ColumnAlign.CENTER;\n\t}\n\n\tisAlignRight(): boolean {\n\t\treturn this.align === ColumnAlign.RIGHT;\n\t}\n\n\t// REFACTOR #1581\n\tgetValue(entity: ItemEntity, searchPhrase?: string): CellValue {\n\n\t\tconst cellValue = this.findValue(entity, searchPhrase);\n\n\t\tcellValue.value = this.templateFun(cellValue.value, entity.getData());\n\n\t\tif (this.formatterFun) {\n\t\t\tcellValue.value = this.formatterFun(cellValue.value, entity.getData());\n\t\t}\n\n\t\treturn cellValue;\n\t}\n\n\tprivate findValue(entity: ItemEntity, searchPhrase?: string): CellValue {\n\n\t\tconst value = this.accessor(entity);\n\n\t\tif (this.type !== DataType.STRING) {\n\t\t\treturn CellValue.text(value);\n\t\t}\n\n\t\tif (this.view && this.view.getCellView() === CellView.FUNCTION) {\n\t\t\treturn CellValue.text(value);\n\t\t}\n\n\t\tif (searchPhrase) {\n\n\t\t\tlet txt: string = '' + this.searchAccessor(entity);\n\t\t\tconst lowerCasedText: string = txt.toLocaleLowerCase(),\n\t\t\t\tloweredSearchPhrase = searchPhrase.toLocaleLowerCase();\n\n\t\t\tconst positions: Array<number> = [];\n\n\t\t\tlet index = 0;\n\n\t\t\twhile (index < loweredSearchPhrase.length) {\n\n\t\t\t\tconst found = lowerCasedText.indexOf(loweredSearchPhrase, index);\n\n\t\t\t\tif (found >= 0) {\n\t\t\t\t\tpositions.push(found);\n\t\t\t\t\tindex = found + searchPhrase.length;\n\t\t\t\t\tcontinue;\n\t\t\t\t} else {\n\t\t\t\t\tindex = loweredSearchPhrase.length;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst arr = txt.split('');\n\n\t\t\tpositions.forEach((pos: number) => {\n\n\t\t\t\tfor (let i = 0; i < searchPhrase.length; i += 1) {\n\n\t\t\t\t\tlet ph;\n\n\t\t\t\t\tif (i === 0) {\n\t\t\t\t\t\tph = `<span class=\"gui-text-highlight\">${arr[pos + i]}`;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tph = arr[pos + i];\n\t\t\t\t\t}\n\n\t\t\t\t\tif (i === searchPhrase.length - 1) {\n\t\t\t\t\t\tph += '</span>';\n\t\t\t\t\t}\n\n\t\t\t\t\tarr[pos + i] = ph;\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t\ttxt = arr.join('');\n\n\t\t\treturn CellValue.HTML(txt);\n\t\t} else {\n\t\t\treturn CellValue.text(value);\n\t\t}\n\t}\n\n}\n","export enum EditEventType {\n\tSUBMIT,\n\tBLUR,\n\tCANCEL\n}\n","import { AfterViewInit, ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, Input, ViewEncapsulation } from '@angular/core';\nimport { timer } from 'rxjs';\n\nimport { SmartComponent } from '../../../../../common/cdk/component/smart-component';\n\nimport { CellTemplateWithAccessor } from '../../../../../composition/core/domain-read/definition/cell-template-with-accessor';\nimport { StructureCellEditArchive } from '../../edit/structure.cell-edit.archive';\nimport { StructureCellEditStore } from '../../edit/structure.cell-edit.store';\nimport { SourceCommandInvoker } from '../../../../source/core/api/source.command-invoker';\nimport { ChangedValueEmitter } from '../../../../../composition/core/domain-read/edit/changed-value.emitter';\nimport { EditEventType } from '../../../../../composition/core/domain-read/edit/state/edit.event-type';\nimport { StructureEditSourceItemParams } from '../../../../source/core/domain/origin/edit/structure.edit-source-item.params';\nimport { StructureCellEditState } from '../../edit/structure.cell-edit.state';\nimport { ItemEntity } from '../../../../source/core/domain/core/item/item.entity';\nimport { StructureCellEditCloseAllService } from '../../edit/structure.cell-edit-close-all.service';\n\n\n@Component({\n\tselector: 'div[gui-structure-cell][entity][cell]',\n\ttemplateUrl: './structure.cell.component.html',\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureCellComponent extends SmartComponent implements AfterViewInit {\n\n\t@Input()\n\tentity: ItemEntity;\n\n\t@Input()\n\tcell: CellTemplateWithAccessor;\n\n\t@Input()\n\teditMode: boolean;\n\n\t@Input()\n\tcellEditingEnabled: boolean;\n\n\t@Input()\n\tsearchPhrase: string;\n\n\tinEditMode: boolean = false;\n\n\teditContext: any;\n\n\tvalueChanges$: ChangedValueEmitter<any>;\n\n\tstatus$: ChangedValueEmitter<any>;\n\n\tactualValue: any;\n\n\tconstructor(private readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\tprivate readonly elementRef: ElementRef,\n\t\t\t\tprivate readonly structureCellEditArchive: StructureCellEditArchive,\n\t\t\t\tprivate readonly structureCellEditStore: StructureCellEditStore,\n\t\t\t\tprivate readonly cellEditCloseAllService: StructureCellEditCloseAllService,\n\t\t\t\tprivate readonly sourceCommandService: SourceCommandInvoker) {\n\t\tsuper(changeDetectorRef, elementRef);\n\t}\n\n\tngAfterViewInit() {\n\t\tsuper.ngAfterViewInit();\n\n\t\tthis.cellEditCloseAllService\n\t\t\t.onCloseAll()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe(() => {\n\t\t\t\tthis.exitEditMode();\n\t\t\t});\n\t}\n\n\tisCellEditingEnabled(): boolean {\n\t\treturn this.cellEditingEnabled && this.cell.isCellEditingEnabled();\n\t}\n\n\tenterEditMode(forceCheck: boolean = true): void {\n\n\t\tif (!this.isCellEditingEnabled()) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.cellEditCloseAllService.closeAll();\n\n\t\ttimer(0)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe(() => {\n\t\t\t\tthis.inEditMode = true;\n\n\t\t\t\tthis.valueChanges$ = new ChangedValueEmitter();\n\t\t\t\tthis.status$ = new ChangedValueEmitter<EditEventType>();\n\n\t\t\t\tthis.editContext = {\n\t\t\t\t\tstatus: this.status$,\n\t\t\t\t\tvalueChanges: this.valueChanges$,\n\t\t\t\t\tvalue: this.cell.getValue(this.entity).value,\n\t\t\t\t\tfocus: forceCheck,\n\t\t\t\t\tparent: this.elementRef\n\t\t\t\t};\n\n\t\t\t\tthis.observeFieldStatus();\n\t\t\t\tthis.observeValueChanges();\n\n\t\t\t\tthis.publishEditEnter();\n\n\t\t\t\tif (!forceCheck) {\n\t\t\t\t\tthis.changeDetectorRef.markForCheck();\n\t\t\t\t} else {\n\t\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t\t}\n\t\t\t});\n\n\t}\n\n\texitEditMode(): void {\n\t\tthis.inEditMode = false;\n\t\tthis.changeDetectorRef.detectChanges();\n\t}\n\n\tsubmitChangesAndExit(): void {\n\n\t\tconst itemId = this.entity.getId(),\n\t\t\tupdatedValue = this.actualValue,\n\t\t\tfieldId = this.cell.columnFieldId;\n\n\t\tthis.sourceCommandService.editItem(new StructureEditSourceItemParams(itemId, fieldId, updatedValue));\n\n\t\tthis.exitEditMode();\n\t}\n\n\tprivate observeFieldStatus(): void {\n\n\t\tthis.status$\n\t\t\t.on()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((status: EditEventType) => {\n\n\t\t\t\tswitch (status) {\n\t\t\t\t\tcase EditEventType.SUBMIT:\n\t\t\t\t\t\tthis.submitChangesAndExit();\n\t\t\t\t\t\tthis.publishEditSubmit();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase EditEventType.CANCEL:\n\t\t\t\t\t\tthis.exitEditMode();\n\t\t\t\t\t\tthis.publishEditCancel();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tprivate observeValueChanges(): void {\n\n\t\tthis.valueChanges$\n\t\t\t.on()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((value: any) => {\n\t\t\t\tthis.actualValue = value;\n\t\t\t});\n\t}\n\n\tprivate publishEditState(state: StructureCellEditState): void {\n\t\tthis.structureCellEditStore.next(state);\n\t}\n\n\tprivate publishEditEnter(): void {\n\t\tthis.publishEditState(StructureCellEditState.ENTER);\n\t}\n\n\tprivate publishEditCancel(): void {\n\t\tthis.publishEditState(StructureCellEditState.CANCEL);\n\t}\n\n\tprivate publishEditSubmit(): void {\n\t\tthis.publishEditState(StructureCellEditState.SUBMIT);\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-structure-cell';\n\t}\n}\n","import { InjectionToken } from '@angular/core';\n\nexport const structureParentComponent = new InjectionToken('StructureParentComponent');\n","import {\n\tAfterViewInit,\n\tChangeDetectionStrategy,\n\tChangeDetectorRef,\n\tComponent,\n\tElementRef,\n\tInject,\n\tNgZone,\n\tOnDestroy,\n\tOnInit,\n\tOptional,\n\tViewChild,\n\tViewEncapsulation\n} from '@angular/core';\nimport { combineLatest, fromEvent, Subject } from 'rxjs';\nimport { distinctUntilChanged, filter, map, takeUntil } from 'rxjs/operators';\n\nimport { ResizeDetector } from '@generic-ui/fabric';\n\nimport { SmartComponent } from '../../../../common/cdk/component/smart-component';\nimport { CellTemplateWithAccessor } from '../../../../composition/core/domain-read/definition/cell-template-with-accessor';\nimport { SchemaRowColoring } from '../../../../schema/core/api/row-coloring/schema-row-coloring';\nimport { StructureId } from '../../../core/domain/structure.id';\nimport { StructureCommandInvoker } from '../../../core/api/structure.command-invoker';\nimport { StructureWarehouse } from '../../core/api/structure.warehouse';\nimport { SourceWarehouse } from '../../../source/core/api/source.warehouse';\nimport { CompositionCommandInvoker } from '../../../../composition/core/api/composition.command-invoker';\nimport { CompositionWarehouse } from '../../../../composition/core/api/composition.warehouse';\nimport { FormationWarehouse } from '../../../source/core/api/formation/formation.warehouse';\nimport { structureParentComponent } from '../structure-parent-component';\nimport { StructureReadModelRoot } from '../../core/api/read/structure.read-model-root';\nimport { ItemEntity } from '../../../source/core/domain/core/item/item.entity';\nimport { StructureVerticalFormationWarehouse } from '../../../vertical-formation/core/api/structure-vertical-formation.warehouse';\nimport { StyleModifier } from '../../../../common/cdk/dom/style/style-modifier';\n\n\n@Component({\n\tselector: 'div[gui-structure-container]',\n\ttemplateUrl: './structure-container.component.html',\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureContainerComponent extends SmartComponent implements OnInit, AfterViewInit, OnDestroy {\n\n\t@ViewChild('sourceCollection', { static: false })\n\tsourceCollectionRef: ElementRef;\n\n\tcolumns: Array<CellTemplateWithAccessor> = [];\n\n\tsource: Array<ItemEntity> = [];\n\n\theight: number;\n\n\trowColoring: SchemaRowColoring;\n\n\tprivate autoResizeWidthEnabled: boolean = false;\n\n\tprivate scrollObservation$ = new Subject();\n\n\tprivate readonly styleModifier: StyleModifier;\n\n\tconstructor(changeDetectorRef: ChangeDetectorRef,\n\t\t\t\tprivate readonly elRef: ElementRef,\n\t\t\t\tprivate readonly ngZone: NgZone,\n\t\t\t\tprivate readonly structureId: StructureId,\n\t\t\t\tprivate readonly structureCommandService: StructureCommandInvoker,\n\t\t\t\tprivate readonly structureWarehouse: StructureWarehouse,\n\t\t\t\tprivate readonly structureVerticalFormationWarehouse: StructureVerticalFormationWarehouse,\n\t\t\t\tprivate readonly sourceWarehouse: SourceWarehouse,\n\t\t\t\tprivate readonly compositionCommandInvoker: CompositionCommandInvoker,\n\t\t\t\tprivate readonly compositionWarehouse: CompositionWarehouse,\n\t\t\t\tprivate readonly formationWarehouse: FormationWarehouse,\n\t\t\t\tprivate readonly resizeDetector: ResizeDetector,\n\t\t\t\t@Optional() @Inject(structureParentComponent) private readonly structureParent: any) {\n\t\tsuper(changeDetectorRef, elRef);\n\t\tthis.styleModifier = new StyleModifier(this.elRef.nativeElement);\n\t}\n\n\tngOnInit() {\n\n\t\tthis.structureVerticalFormationWarehouse\n\t\t\t.onContainerHeight(this.structureId)\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((containerHeight: number) => {\n\t\t\t\tthis.setContainerHeight(containerHeight);\n\t\t\t});\n\n\t\tcombineLatest(\n\t\t\tthis.sourceWarehouse.onEntities(),\n\t\t\tthis.compositionWarehouse.onTemplateColumns()\n\t\t)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((arr: Array<any>) => {\n\n\t\t\t\tthis.source = arr[0] as Array<ItemEntity>;\n\t\t\t\tthis.columns = arr[1] as Array<CellTemplateWithAccessor>;\n\n\t\t\t\tthis.reRender();\n\t\t\t});\n\n\t\tthis.compositionWarehouse\n\t\t\t.onResizeWidth()\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((enabled: boolean) => {\n\t\t\t\tthis.autoResizeWidthEnabled = enabled;\n\t\t\t});\n\t}\n\n\tngAfterViewInit() {\n\t\tsuper.ngAfterViewInit();\n\n\t\t// turn on when structure is ready\n\t\tif (this.structureParent) {\n\t\t\tthis.resizeDetector\n\t\t\t\t.observe(this.structureParent.getElementRef().nativeElement)\n\t\t\t\t.pipe(\n\t\t\t\t\tfilter(() => this.autoResizeWidthEnabled),\n\t\t\t\t\tmap((element: HTMLElement) => element.offsetWidth),\n\t\t\t\t\tdistinctUntilChanged(),\n\t\t\t\t\tthis.takeUntil()\n\t\t\t\t)\n\t\t\t\t.subscribe((width: number) => {\n\t\t\t\t\tthis.recalculateContainer(width);\n\t\t\t\t});\n\t\t}\n\n\t\tthis.compositionWarehouse\n\t\t\t.onContainerWidth()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((width: number) => {\n\t\t\t\tthis.styleModifier.getElement(this.sourceCollectionRef.nativeElement).setWidth(width);\n\t\t\t});\n\n\t\tthis.structureVerticalFormationWarehouse\n\t\t\t.onVerticalScrollEnabled(this.structureId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((enabled: boolean) => {\n\t\t\t\tif (enabled) {\n\t\t\t\t\tthis.enableScrollObservation();\n\t\t\t\t} else {\n\t\t\t\t\tthis.disableScrollObservation();\n\t\t\t\t}\n\t\t\t});\n\n\t\tthis.structureWarehouse\n\t\t\t.onStructure()\n\t\t\t.pipe(\n\t\t\t\tfilter((str: StructureReadModelRoot) => {\n\t\t\t\t\treturn str.isVerticalScrollEnabled();\n\t\t\t\t}),\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((structure: StructureReadModelRoot) => {\n\n\t\t\t\tconst topMargin = structure.getTopMargin(),\n\t\t\t\t\tsourceHeight = structure.getSourceHeight();\n\n\t\t\t\tthis.setSourceHeight(topMargin, sourceHeight);\n\t\t\t});\n\n\t\tthis.structureVerticalFormationWarehouse\n\t\t\t.onScrollBarPosition()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((scrollPosition: number) => {\n\n\t\t\t\tthis.elRef.nativeElement.scrollTop = scrollPosition;\n\t\t\t});\n\t}\n\n\tngOnDestroy() {\n\t\tsuper.ngOnDestroy();\n\t\tthis.resizeDetector.destroy(this.elRef.nativeElement);\n\t}\n\n\tprivate setContainerHeight(height: number): void {\n\t\tthis.height = height;\n\t\tthis.styleModifier.getHost().setHeight(height);\n\t}\n\n\tprivate setSourceHeight(topMargin: number, sourceHeight: number): void {\n\t\tthis.styleModifier.getElement(this.sourceCollectionRef.nativeElement).setPaddingTop(topMargin);\n\t\tthis.styleModifier.getElement(this.sourceCollectionRef.nativeElement).setHeight(sourceHeight);\n\t}\n\n\tprivate recalculateContainer(width: number): void {\n\t\tif (this.autoResizeWidthEnabled) {\n\t\t\tthis.compositionCommandInvoker.setContainerWidth(width);\n\t\t}\n\t}\n\n\tprivate enableScrollObservation(): void {\n\t\tthis.ngZone\n\t\t\t.runOutsideAngular(() => {\n\n\t\t\t\tfromEvent(this.elRef.nativeElement, 'scroll')\n\t\t\t\t\t.pipe(\n\t\t\t\t\t\t// auditTime(10),\n\t\t\t\t\t\ttakeUntil(this.scrollObservation$),\n\t\t\t\t\t\tthis.takeUntil()\n\t\t\t\t\t)\n\t\t\t\t\t.subscribe((event: any) => {\n\n\t\t\t\t\t\tconst scrollTop = event.target.scrollTop;\n\n\t\t\t\t\t\tthis.structureCommandService.setScrollPosition(scrollTop);\n\t\t\t\t\t});\n\t\t\t});\n\t}\n\n\tprivate disableScrollObservation(): void {\n\t\tthis.scrollObservation$.next();\n\t\tthis.scrollObservation$.complete();\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-structure-container';\n\t}\n\n}\n","import { Component } from '@angular/core';\n\n@Component({\n\tselector: 'div[gui-structure-quick-filters]',\n\ttemplate: `\n\n\t\tQuickFilters\n\n\t`\n})\nexport class StructureQuickFiltersComponent {\n}\n","import { InjectionToken } from '@angular/core';\n\nconst prefix = 'Structure -';\n\nexport const STRUCTURE_CSS_CLASS_NAME = new InjectionToken<string>(`${prefix} - css className`);\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, Inject, ViewEncapsulation } from '@angular/core';\n\nimport { SmartComponent } from '../../../../common/cdk/component/smart-component';\nimport { StructureReadModelRoot } from '../../core/api/read/structure.read-model-root';\nimport { Paging } from '../../../paging/core/api/read/paging';\nimport { StructureDefinition } from '../structure-definition';\nimport { StructureId } from '../../../core/domain/structure.id';\nimport { StructureWarehouse } from '../../core/api/structure.warehouse';\nimport { PagingWarehouse } from '../../../paging/core/api/paging.warehouse';\nimport { StructureInfoPanelArchive } from '../panel/info/structure.info-panel.archive';\nimport { StructureSummariesArchive } from '../panel/summaries/structure.summaries.archive';\nimport { FilterWarehouse } from '../../../filter/core/api/filter.warehouse';\nimport { SearchWarehouse } from '../../../search/core/api/search.warehouse';\nimport { STRUCTURE_CSS_CLASS_NAME } from '../../core/api/structure-tokens';\nimport { StructureSummariesPanelConfig } from '../panel/summaries/structure.summaries-panel.config';\nimport { StructureHeaderTopEnabledArchive } from '../header/structure-header-top-enabled.archive';\nimport { StructureHeaderBottomEnabledArchive } from '../header/structure-header-bottom-enabled.archive';\nimport { StructureTitlePanelConfigArchive } from '../panel/banner-panels/title-panel/structure.title-panel.config-archive';\nimport { StructureFooterPanelConfigArchive } from '../panel/banner-panels/footer-panel/structure.footer-panel.config-archive';\n\nimport { StructureInfoPanelConfig } from '../panel/info/structure.info-panel.config';\nimport { StreamCloser } from '../../../../common/cdk/reactive/stream-closer';\nimport { StructureBannerPanelConfig } from '../panel/banner-panels/structure-banner-panel.config';\n\n\n@Component({\n\tselector: 'div[gui-structure-blueprint]',\n\ttemplateUrl: './structure.blueprint.component.html',\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureBlueprintComponent extends SmartComponent {\n\n\tstructure: StructureReadModelRoot;\n\n\tsearchEnabled: boolean = false;\n\n\ttopSummariesPanelEnabled: boolean = false;\n\n\tbottomSummariesPanelEnabled: boolean = false;\n\n\tquickFiltersEnabled: boolean = false;\n\n\tinfoPanelEnabled: boolean = false;\n\n\treadonly contentCssClass: string;\n\n\treadonly headerCssClass: string;\n\n\ttopHeaderEnabled: boolean;\n\n\tbottomHeaderEnabled: boolean;\n\n\ttitlePanelEnabled: boolean;\n\n\tfooterPanelEnabled: boolean;\n\n\titems: Array<any> = [];\n\n\tprivate pagingReadModel: Paging;\n\n\tprivate readonly localStreamCloser = new StreamCloser();\n\n\tconstructor(private readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\telementRef: ElementRef,\n\t\t\t\tprivate readonly structureDefinition: StructureDefinition,\n\t\t\t\tprivate readonly structureId: StructureId,\n\t\t\t\tprivate readonly structureWarehouse: StructureWarehouse,\n\t\t\t\tprivate readonly structureInfoPanelArchive: StructureInfoPanelArchive,\n\t\t\t\tprivate readonly pagingWarehouse: PagingWarehouse,\n\t\t\t\tprivate readonly structureSummariesArchive: StructureSummariesArchive,\n\t\t\t\tprivate readonly filterWarehouse: FilterWarehouse,\n\t\t\t\tprivate readonly searchWarehouse: SearchWarehouse,\n\t\t\t\tprivate readonly structureHeaderTopEnabledArchive: StructureHeaderTopEnabledArchive,\n\t\t\t\tprivate readonly structureHeaderBottomEnabledArchive: StructureHeaderBottomEnabledArchive,\n\t\t\t\tprivate readonly structureTitlePanelConfigArchive: StructureTitlePanelConfigArchive,\n\t\t\t\tprivate readonly structureFooterPanelConfigArchive: StructureFooterPanelConfigArchive,\n\t\t\t\t@Inject(STRUCTURE_CSS_CLASS_NAME) private className: string) {\n\t\tsuper(changeDetectorRef, elementRef);\n\n\t\tthis.headerCssClass = `gui-${this.className}-header`;\n\t\tthis.contentCssClass = `gui-${this.className}-content`;\n\t}\n\n\tngOnInit() {\n\n\t\tthis.structureHeaderTopEnabledArchive\n\t\t\t.on()\n\t\t\t.pipe(\n\t\t\t\tthis.localStreamCloser.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((topHeaderEnabled: boolean) => {\n\t\t\t\tthis.topHeaderEnabled = topHeaderEnabled;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.structureHeaderBottomEnabledArchive\n\t\t\t.on()\n\t\t\t.pipe(this.localStreamCloser.takeUntil())\n\t\t\t.subscribe((bottomHeaderEnabled: boolean) => {\n\t\t\t\tthis.bottomHeaderEnabled = bottomHeaderEnabled;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.structureWarehouse\n\t\t\t.onStructure()\n\t\t\t.pipe(this.localStreamCloser.takeUntil())\n\t\t\t.subscribe((structure: StructureReadModelRoot) => {\n\t\t\t\tthis.structure = structure;\n\t\t\t\tthis.items = structure.getEntities();\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.pagingWarehouse\n\t\t\t.onPaging()\n\t\t\t.pipe(this.localStreamCloser.takeUntil())\n\t\t\t.subscribe((paging: Paging) => {\n\t\t\t\tthis.pagingReadModel = paging;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.searchWarehouse\n\t\t\t.onSearchEnabled(this.structureId)\n\t\t\t.pipe(\n\t\t\t\tthis.localStreamCloser.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((enabled: boolean) => {\n\t\t\t\tthis.searchEnabled = enabled;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\n\t\tthis.filterWarehouse\n\t\t\t.onQuickFiltersEnabled(this.structureId)\n\t\t\t.pipe(\n\t\t\t\tthis.localStreamCloser.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((enabled: boolean) => {\n\t\t\t\tthis.quickFiltersEnabled = enabled;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.structureSummariesArchive\n\t\t\t.on()\n\t\t\t.pipe(\n\t\t\t\tthis.localStreamCloser.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((config: StructureSummariesPanelConfig) => {\n\t\t\t\tthis.topSummariesPanelEnabled = config.itTopEnabled();\n\t\t\t\tthis.bottomSummariesPanelEnabled = config.itBottomEnabled();\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.structureInfoPanelArchive\n\t\t\t.on()\n\t\t\t.pipe(\n\t\t\t\tthis.localStreamCloser.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((infoPanel: StructureInfoPanelConfig) => {\n\t\t\t\tthis.infoPanelEnabled = infoPanel.isEnabled();\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.structureTitlePanelConfigArchive\n\t\t\t.on()\n\t\t\t.pipe(\n\t\t\t\tthis.localStreamCloser.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((titlePanel: StructureBannerPanelConfig) => {\n\t\t\t\tthis.titlePanelEnabled = titlePanel.enabled;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.structureFooterPanelConfigArchive\n\t\t\t.on()\n\t\t\t.pipe(\n\t\t\t\tthis.localStreamCloser.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((footerPanel: StructureBannerPanelConfig) => {\n\t\t\t\tthis.footerPanelEnabled = footerPanel.enabled;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\t}\n\n\tngOnDestroy() {\n\t\tthis.localStreamCloser.unsubscribe();\n\t}\n\n\tgetHeaderTopClasses(): string {\n\t\treturn this.headerCssClass + ' gui-header-top';\n\t}\n\n\tgetHeaderBottomClasses(): string {\n\t\treturn this.headerCssClass + ' gui-header-bottom';\n\t}\n\n\tisColumnHeaderTopEnabled(): boolean {\n\t\treturn this.structureDefinition.isHeaderEnabled() && this.topHeaderEnabled;\n\t}\n\n\tisColumnHeaderBottomEnabled(): boolean {\n\t\treturn this.structureDefinition.isHeaderEnabled() && this.bottomHeaderEnabled;\n\t}\n\n\tisPagingTopEnabled(): boolean {\n\t\treturn this.structureDefinition.getTopPaging().isEnabled() && this.pagingReadModel && this.pagingReadModel.isPagerTop();\n\t}\n\n\tisPagingBottomEnabled(): boolean {\n\t\treturn this.structureDefinition.getBottomPaging().isEnabled() && this.pagingReadModel && this.pagingReadModel.isPagerBottom();\n\t}\n\n\tisSourceEmpty(): boolean {\n\t\treturn this.structure && this.structure.getEntities().length === 0;\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-structure-blueprint';\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateStoreRegister, InMemoryAggregateStore } from '@generic-ui/hermes';\n\nimport { StructureAggregate } from '../../../domain/structure.aggregate';\nimport { InMemoryStructureStore } from '../in-memory.structure.store';\nimport { StructureId } from '../../../domain/structure.id';\n\n\n@Injectable()\nexport class InMemoryStructureAggregateStore extends InMemoryAggregateStore<StructureId, StructureAggregate> {\n\n\tconstructor(inMemoryStructureStore: InMemoryStructureStore,\n\t\t\t\taggregateStoreRegister: AggregateStoreRegister) {\n\t\tsuper(inMemoryStructureStore, aggregateStoreRegister);\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { Optional } from '@generic-ui/hermes';\n\nimport { StructureAggregateRepository } from '../../../domain/structure-aggregate.repository';\nimport { StructureAggregate } from '../../../domain/structure.aggregate';\n\nimport { InMemoryStructureAggregateStore } from './in-memory.structure.aggregate-store';\nimport { StructureId } from '../../../domain/structure.id';\n\n\n@Injectable()\nexport class InMemoryStructureAggregateRepository extends StructureAggregateRepository {\n\n\tconstructor(private inMemoryStructureAggregateStore: InMemoryStructureAggregateStore) {\n\t\tsuper();\n\t}\n\n\tfindById(aggregateId: StructureId): Optional<StructureAggregate> {\n\t\treturn this.inMemoryStructureAggregateStore.findById(aggregateId);\n\t}\n\n\tsave(aggregate: StructureAggregate): void {\n\t\tthis.inMemoryStructureAggregateStore.save(aggregate);\n\t}\n\n}\n","import { StructureId } from '../../../../../core/domain/structure.id';\nimport { StructureDomainEvent } from '../../../../../core/domain/structure.domain-event';\n\nexport class SelectionEnabledSetEvent extends StructureDomainEvent {\n\n\tconstructor(aggregateId: StructureId,\n\t\t\t\tprivate readonly enabled: boolean) {\n\t\tsuper(aggregateId, enabled, 'SelectionEnabledSetEvent');\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n}\n","import { StructureId } from '../../../../../core/domain/structure.id';\nimport { FieldId } from '../../../../../field/core/domain/field/field.id';\nimport { FilterTypeId } from '../../type/filter-type.id';\nimport { StructureDomainEvent } from '../../../../../core/domain/structure.domain-event';\n\n\nexport class FilterAddedEvent extends StructureDomainEvent {\n\n\tconstructor(aggregateId: StructureId,\n\t\t\t\tprivate readonly fieldId: FieldId,\n\t\t\t\tprivate readonly filterTypeId: FilterTypeId,\n\t\t\t\tprivate readonly value: any) {\n\t\tsuper(aggregateId, { fieldId, filterTypeId, value }, 'FilterAddedEvent');\n\t}\n\n}\n","import { StructureId } from '../../../../../core/domain/structure.id';\nimport { StructureDomainEvent } from '../../../../../core/domain/structure.domain-event';\n\n\nexport class UniqueFilterSelectedEvent extends StructureDomainEvent {\n\n\tconstructor(aggregateId: StructureId) {\n\t\tsuper(aggregateId, null, 'UniqueFilterSelectedEvent');\n\t}\n\n}\n","import { StructureId } from '../../../../../core/domain/structure.id';\nimport { StructureDomainEvent } from '../../../../../core/domain/structure.domain-event';\n\n\nexport class AllUniqueFilterSelectedEvent extends StructureDomainEvent {\n\n\tconstructor(aggregateId: StructureId) {\n\t\tsuper(aggregateId, null, 'AllUniqueFilterSelectedEvent');\n\t}\n\n}\n","import { StructureId } from '../../../../../core/domain/structure.id';\nimport { StructureDomainEvent } from '../../../../../core/domain/structure.domain-event';\n\n\nexport class UniqueFilterUnselectedEvent extends StructureDomainEvent {\n\n\tconstructor(aggregateId: StructureId) {\n\t\tsuper(aggregateId, null, 'UniqueFilterUnselectedEvent');\n\t}\n\n}\n","import { StructureId } from '../../../../../core/domain/structure.id';\nimport { StructureDomainEvent } from '../../../../../core/domain/structure.domain-event';\n\n\nexport class AllUniqueFilterUnselectedEvent extends StructureDomainEvent {\n\n\tconstructor(aggregateId: StructureId) {\n\t\tsuper(aggregateId, null, 'AllUniqueFilterUnselectedEvent');\n\t}\n\n}\n","import { Injectable, OnDestroy } from '@angular/core';\nimport { Observable, ReplaySubject } from 'rxjs';\nimport { filter, map } from 'rxjs/operators';\n\nimport { AggregateId, DomainEvent, DomainEventBus } from '@generic-ui/hermes';\n\nimport { StructureReadModelRepository } from '../../../../grid/core/api/read/structure.read-model-repository';\nimport { StructureReadModelRoot } from '../../../../grid/core/api/read/structure.read-model-root';\nimport { InMemoryStructureReadStore } from './in-memory-structure.read-store';\nimport { StructureCreatedEvent } from '../../../domain/create-structure/structure-created.event';\nimport { SetSourceLoadingEvent } from '../../../../source/core/domain/loading/set-source-loading.event';\nimport { PagingSetEvent } from '../../../../paging/core/domain/set/paging-set.event';\nimport { PrevPageEvent } from '../../../../paging/core/domain/prev-page/prev-page.event';\nimport { NextPageEvent } from '../../../../paging/core/domain/next-page/next-page.event';\nimport { PagesizeChangedEvent } from '../../../../paging/core/domain/change-pagesize/pagesize-changed.event';\nimport { SelectionEnabledSetEvent } from '../../../../source/core/domain/formation/set-enabled/selection-enabled-set.event';\nimport { VerticalScrollEnabledSetEvent } from '../../../../vertical-formation/core/domain/set-enabled/vertical-scroll-enabled-set.event';\nimport { ScrollPositionSetEvent } from '../../../../vertical-formation/core/domain/scroll-position/scroll-position-set.event';\nimport { SortToggledEvent } from '../../../../sorting/core/domain/toggle/sort-toggled.event';\nimport { OriginSetEvent } from '../../../../source/core/domain/origin/set-origin/origin-set.event';\nimport { FilterToggledEvent } from '../../../../filter/core/domain/toggle/filter-toggled.event';\nimport { SearchPhraseSetDomainEvent } from '../../../../search/core/domain/set-phrase/search-phrase-set.domain-event';\nimport { SortOrderSetEvent } from '../../../../sorting/core/domain/order/sort-order-set.event';\nimport { RowHeightSetEvent } from '../../../../vertical-formation/core/domain/set-row-height/row-height-set.event';\nimport { StructureHeightSetEvent } from '../../../../vertical-formation/core/domain/container/set-height/structure-height-set.event';\nimport { RowHeightSetBasedOnThemeEvent } from '../../../../vertical-formation/core/domain/set-row-height-theme/row-height-set-based-on-theme.event';\nimport { StructureId } from '../../../domain/structure.id';\nimport { FilterAddedEvent } from '../../../../filter/core/domain/core/add/filter-added.event';\nimport { ActiveFiltersSetEvent } from '../../../../filter/core/domain/core/active-filters-set.event';\nimport { UniqueFilterSelectedEvent } from '../../../../filter/core/domain/unique/select/unique-filter-selected.event';\nimport { AllUniqueFilterSelectedEvent } from '../../../../filter/core/domain/unique/select-all/all-unique-filter-selected.event';\nimport { UniqueFilterUnselectedEvent } from '../../../../filter/core/domain/unique/unselect/unique-filter-unselected.event';\nimport { AllUniqueFilterUnselectedEvent } from '../../../../filter/core/domain/unique/unselect-all/all-unique-filter-unselected.event';\n\n\n@Injectable()\nexport class InMemoryStructureRepository extends StructureReadModelRepository implements OnDestroy {\n\n\tprivate readonly structureIdToStructure = new Map<string, StructureReadModelRoot>();\n\n\tprivate readonly structure$ = new ReplaySubject<Map<string, StructureReadModelRoot>>(1);\n\n\tconstructor(domainEventBus: DomainEventBus,\n\t\t\t\tprivate inMemoryStructureReadStore: InMemoryStructureReadStore) {\n\t\tsuper(domainEventBus);\n\t}\n\n\tgetStructure(aggregateId: AggregateId): StructureReadModelRoot {\n\t\treturn this.structureIdToStructure.get(aggregateId.getId());\n\t}\n\n\tonStructure(aggregateId: AggregateId): Observable<StructureReadModelRoot> {\n\n\t\treturn this.structure$\n\t\t\t\t   .asObservable()\n\t\t\t\t   .pipe(\n\t\t\t\t\t   filter((structureIdToStructure: Map<string, StructureReadModelRoot>) => {\n\n\t\t\t\t\t\t   const key = aggregateId.getId();\n\n\t\t\t\t\t\t   return structureIdToStructure.has(key);\n\t\t\t\t\t   }),\n\t\t\t\t\t   map((structureIdToStructure: Map<string, StructureReadModelRoot>) => structureIdToStructure.get(aggregateId.getId()))\n\t\t\t\t   );\n\t}\n\n\tprotected forEvents(): Array<typeof DomainEvent> {\n\t\treturn [\n\t\t\tStructureCreatedEvent,\n\t\t\tSetSourceLoadingEvent,\n\t\t\tPagingSetEvent,\n\t\t\tPrevPageEvent,\n\t\t\tNextPageEvent,\n\t\t\tPagesizeChangedEvent,\n\t\t\tSelectionEnabledSetEvent,\n\t\t\tVerticalScrollEnabledSetEvent,\n\t\t\tScrollPositionSetEvent,\n\t\t\tSortToggledEvent as any,\n\t\t\tFilterToggledEvent,\n\t\t\tSearchPhraseSetDomainEvent,\n\t\t\tSortOrderSetEvent as any,\n\t\t\tOriginSetEvent as any,\n\t\t\tRowHeightSetEvent,\n\t\t\tStructureHeightSetEvent,\n\t\t\tRowHeightSetBasedOnThemeEvent,\n\t\t\tFilterAddedEvent,\n\t\t\tActiveFiltersSetEvent,\n\t\t\tUniqueFilterSelectedEvent,\n\t\t\tAllUniqueFilterSelectedEvent,\n\t\t\tUniqueFilterUnselectedEvent,\n\t\t\tAllUniqueFilterUnselectedEvent\n\t\t];\n\t}\n\n\tprotected subs(event: DomainEvent<StructureId>): void {\n\n\t\tconst aggregateId = event.getAggregateId();\n\n\t\tconst optStructure = this.inMemoryStructureReadStore.getById(aggregateId);\n\n\t\toptStructure.ifPresent((structureReadModelRoot: StructureReadModelRoot) => {\n\n\t\t\tconst key = structureReadModelRoot.getId().toString();\n\n\t\t\tthis.structureIdToStructure.set(key, structureReadModelRoot);\n\n\t\t\tthis.structure$.next(this.structureIdToStructure);\n\t\t});\n\t}\n\n}\n","import { InMemoryStructureAggregateStore } from './domain/in-memory.structure.aggregate-store';\n\nimport { InMemoryStructureAggregateRepository } from './domain/in-memory.structure-aggregate.repository';\nimport { StructureAggregateRepository } from '../../domain/structure-aggregate.repository';\nimport { InMemoryStructureReadStore } from './api/in-memory-structure.read-store';\nimport { StructureReadModelRepository } from '../../../grid/core/api/read/structure.read-model-repository';\nimport { InMemoryStructureRepository } from './api/in-memory.structure.repository';\nimport { InMemoryStructureStore } from './in-memory.structure.store';\n\nexport const inMemoryStructureCommandProviders = [\n\tInMemoryStructureAggregateStore,\n\t{\n\t\tprovide: StructureAggregateRepository,\n\t\tuseClass: InMemoryStructureAggregateRepository\n\t}\n];\n\nexport const inMemoryStructureReadProviders = [\n\tInMemoryStructureReadStore,\n\t{\n\t\tprovide: StructureReadModelRepository,\n\t\tuseClass: InMemoryStructureRepository\n\t}\n];\n\nexport const inMemoryStructureProviders = [\n\tInMemoryStructureStore\n];\n","export class VerticalRange {\n\n\tconstructor(private readonly start: number,\n\t\t\t\tprivate readonly end: number,\n\t\t\t\tprivate readonly margin: number) {\n\t}\n\n\tgetStart(): number {\n\t\treturn this.start;\n\t}\n\n\tgetEnd(): number {\n\t\treturn this.end;\n\t}\n\n\tgetMargin(): number {\n\t\treturn this.margin;\n\t}\n\n}\n","import { DomainObject, Optional } from '@generic-ui/hermes';\n\n@DomainObject\nexport class VerticalFormationContainerHeight {\n\n\tprivate containerHeight: Optional<number> = Optional.empty();\n\n\tprivate sourceHeight: number;\n\n\tisContainerHeightProperForVirtualScroll(): boolean {\n\t\tif (this.containerHeight.isPresent()) {\n\t\t\treturn this.containerHeight.getValueOrNullOrThrowError() > 0;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tgetVisibleContainerHeight(): number {\n\t\treturn this.getHeight();\n\t}\n\n\tgetHeight(): number {\n\n\t\tif (this.containerHeight.isPresent()) {\n\t\t\treturn this.getContainerHeight();\n\t\t}\n\n\t\treturn this.sourceHeight;\n\t}\n\n\tgetSourceHeight(): number {\n\t\treturn this.sourceHeight;\n\t}\n\n\tsetContainerHeight(height: number): void {\n\n\t\tif (height >= 0) {\n\t\t\tthis.containerHeight = Optional.of(height);\n\t\t}\n\t}\n\n\tsetSourceSize(height: number): void {\n\t\tthis.sourceHeight = height;\n\t}\n\n\tprivate getContainerHeight(): number {\n\n\t\tif (this.containerHeight.getValueOrNullOrThrowError() > this.sourceHeight) {\n\t\t\treturn this.sourceHeight;\n\t\t} else {\n\t\t\treturn this.containerHeight.getValueOrNullOrThrowError();\n\t\t}\n\t}\n}\n","import { StructureId } from '../../../../core/domain/structure.id';\nimport { StructureDomainEvent } from '../../../../core/domain/structure.domain-event';\n\nexport class ScrollBarPositionSetEvent extends StructureDomainEvent {\n\n\tconstructor(aggregateId: StructureId,\n\t\t\t\tprivate readonly position: number) {\n\t\tsuper(aggregateId, position, 'ScrollBarPositionSetEvent');\n\t}\n\n\tgetPosition(): number {\n\t\treturn this.position;\n\t}\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureAggregateEvent } from '../../../../core/domain/structure.aggregate-event';\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { ScrollBarPositionSetEvent } from './scroll-bar-position-set.event';\n\n\nexport class ScrollBarPositionSetAggregateEvent extends StructureAggregateEvent {\n\n\tconstructor(schemaId: StructureId,\n\t\t\t\tprivate readonly position: number) {\n\t\tsuper(schemaId, 'ScrollBarPositionSetAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<StructureId> {\n\t\treturn new ScrollBarPositionSetEvent(this.getAggregateId(), this.position);\n\t}\n}\n","import { DomainObject } from '@generic-ui/hermes';\n\nimport { VerticalRange } from './vertical-range';\nimport { VerticalFormationContainerHeight } from './container/vertical-formation.container-height';\n\nimport { Logger } from '../../../../common/cdk/logger/logger';\nimport { StructureAggregateEvent } from '../../../core/domain/structure.aggregate-event';\nimport { StructureId } from '../../../core/domain/structure.id';\nimport { ScrollBarPositionSetAggregateEvent } from './scroll-bar/scroll-bar-position-set.aggregate-event';\n\n\n@DomainObject\nexport class VerticalFormation {\n\n\tprivate rowHeight: number = 42;\n\n\tprivate hiddenItemsTop: number = 5;\n\n\tprivate hiddenItemsBottom: number = 2;\n\n\tprivate container: VerticalFormationContainerHeight = new VerticalFormationContainerHeight();\n\n\tprivate scrollPosition: number;\n\n\tprivate range: VerticalRange;\n\n\tprivate sourceSize: number;\n\n\tprivate logger: Logger;\n\n\tconstructor(private structureId: StructureId,\n\t\t\t\tprivate enabled: boolean = false,\n\t\t\t\tviewportHeight: number = 0,\n\t\t\t\tsourceSize: number = 0,\n\t\t\t\tscrollPosition: number = 0,\n\t\t\t\trowHeight?: number,\n\t\t\t\thiddenItemsTop?: number,\n\t\t\t\thiddenItemsBottom?: number) {\n\t\tthis.sourceSize = sourceSize;\n\t\tthis.container.setSourceSize(this.sourceSize * this.rowHeight);\n\t\tthis.container.setContainerHeight(viewportHeight);\n\n\t\tthis.scrollPosition = scrollPosition;\n\n\t\tif (Number.isInteger(rowHeight)) {\n\t\t\tthis.rowHeight = rowHeight;\n\t\t}\n\n\t\tif (Number.isInteger(hiddenItemsTop)) {\n\t\t\tthis.hiddenItemsTop = hiddenItemsTop;\n\t\t}\n\n\t\tif (Number.isInteger(hiddenItemsBottom)) {\n\t\t\tthis.hiddenItemsBottom = hiddenItemsBottom;\n\t\t}\n\n\t\tthis.calculateRange();\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled &&\n\t\t\tthis.container.getHeight() > 0 &&\n\t\t\tthis.sourceSize > 0;\n\t}\n\n\tgetViewPortHeight(): number {\n\t\treturn this.container.getVisibleContainerHeight();\n\t}\n\n\tgetSourceHeight(): number {\n\t\treturn this.container.getSourceHeight();\n\t}\n\n\tgetRowHeight(): number {\n\t\treturn this.rowHeight;\n\t}\n\n\tgetRange(): VerticalRange {\n\t\treturn this.range;\n\t}\n\n\tgetTopMargin(): number {\n\t\treturn this.range.getStart() * this.rowHeight;\n\t}\n\n\tcalculateRange(): any {\n\n\t\tif (this.calcFullHeight() <= this.container.getHeight()) {\n\t\t\tthis.range = new VerticalRange(0, this.sourceSize, 0);\n\t\t\treturn;\n\t\t}\n\n\t\tconst itemsInViewport = Math.ceil(this.container.getHeight() / this.rowHeight),\n\t\t\tviewportPositionIndex = Math.floor(this.scrollPosition / this.rowHeight);\n\n\t\tlet end = (viewportPositionIndex + itemsInViewport + this.hiddenItemsBottom);\n\n\t\tlet topMargin = viewportPositionIndex;\n\n\t\tif (topMargin + itemsInViewport >= this.sourceSize) {\n\t\t\ttopMargin = this.sourceSize - itemsInViewport;\n\t\t}\n\n\t\tlet start = Math.max(viewportPositionIndex - this.hiddenItemsTop, 0);\n\n\t\tif (end > this.sourceSize) {\n\t\t\tend = this.sourceSize;\n\t\t\tstart = end - itemsInViewport;\n\t\t}\n\n\t\t// end - itemsInViewport;\n\n\t\tthis.range = new VerticalRange(start, end, topMargin);\n\n\t\treturn {\n\t\t\tstart,\n\t\t\tend,\n\t\t\ttopMargin\n\t\t};\n\t}\n\n\tsetEnabled(enabled: boolean): void {\n\t\tthis.enabled = enabled;\n\n\t\t// TODO dispatch aggregate event\n\t\tif (this.enabled && !this.container.isContainerHeightProperForVirtualScroll()) {\n\t\t\tthis.logger.warn('Height needs to be specified in order for virtual scroll to work.');\n\t\t}\n\n\t\tthis.calculateRange();\n\t}\n\n\tsetSourceSize(sourceSize: number = 0): void {\n\t\tthis.sourceSize = sourceSize;\n\n\t\tthis.container.setSourceSize(this.sourceSize * this.rowHeight);\n\n\t\tthis.calculateRange();\n\t}\n\n\tsetTopHiddenItemsCount(count: number): void {\n\t\tthis.hiddenItemsTop = count;\n\t\tthis.calculateRange();\n\t}\n\n\tsetBottomHiddenItemsCount(count: number): void {\n\t\tthis.hiddenItemsBottom = count;\n\t\tthis.calculateRange();\n\t}\n\n\tsetScrollPosition(scrollPosition: number): void {\n\t\tthis.scrollPosition = scrollPosition;\n\t\tthis.calculateRange();\n\t}\n\n\tscrollToIndex(index: number): StructureAggregateEvent {\n\n\t\tif (index >= this.sourceSize) {\n\t\t\tindex = this.sourceSize;\n\t\t}\n\n\t\tif (index < -1) {\n\t\t\tindex = 0;\n\t\t}\n\n\t\tconst position = index * this.rowHeight;\n\n\t\treturn new ScrollBarPositionSetAggregateEvent(this.structureId, position);\n\t}\n\n\tsetViewportHeight(height: number): void {\n\t\tthis.container.setContainerHeight(height);\n\t\tthis.calculateRange();\n\t}\n\n\tsetRowHeight(rowHeight: number): void {\n\t\tthis.rowHeight = rowHeight;\n\t\tthis.container.setSourceSize(this.sourceSize * this.rowHeight);\n\t\tthis.calculateRange();\n\t}\n\n\tsetLogger(logger: Logger): void {\n\t\tthis.logger = logger;\n\t}\n\n\t// TODO REMOVE\n\tcalcFullHeight(): number {\n\t\treturn this.sourceSize * this.rowHeight;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { Logger } from '../../../../common/cdk/logger/logger';\n\nimport { VerticalFormation } from './vertical-formation';\nimport { StructureId } from '../../../core/domain/structure.id';\n\n\n@Injectable()\nexport class VerticalFormationFactory {\n\n\tconstructor(private logger: Logger) {\n\t}\n\n\tcreate(structureId: StructureId,\n\t\t   enabled: boolean = false,\n\t\t   viewportHeight: number = -1,\n\t\t   sourceSize: number = 0,\n\t\t   scrollPosition: number = 0,\n\t\t   rowHeight?: number,\n\t\t   hiddenItemsTop?: number,\n\t\t   hiddenItemsBottom?: number): VerticalFormation {\n\n\t\tconst vf = new VerticalFormation(\n\t\t\tstructureId,\n\t\t\tenabled,\n\t\t\tviewportHeight,\n\t\t\tsourceSize,\n\t\t\tscrollPosition,\n\t\t\trowHeight,\n\t\t\thiddenItemsTop,\n\t\t\thiddenItemsBottom\n\t\t);\n\n\t\tvf.setLogger(this.logger);\n\n\t\treturn vf;\n\t}\n\n}\n","export const SUMMARIES_CALCULATORS = 'GUI - Summaries Calculators';\n","import { AggregateEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../core/domain/structure.id';\nimport { FieldId } from '../../../field/core/domain/field/field.id';\nimport { SummariesCalculator } from './calculation/summaries.calculator';\nimport { OriginItemEntity } from '../../../source/core/domain/origin/origin-item-entity';\nimport { StructureSummariesChangedAggregateEvent } from './structure.summaries-changed.aggregate-event';\nimport { Field } from '../../../field/core/domain/field/field';\n\n\nexport class SummariesManager {\n\n\tstatic DEFAULT_ENABLED = false;\n\n\tprivate readonly structureId: StructureId;\n\n\tprivate enabled: boolean;\n\n\tprivate readonly values = new Map<FieldId, any>();\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly calculators: Array<SummariesCalculator<any, any>>) {\n\t\tthis.structureId = structureId;\n\t\tthis.enabled = SummariesManager.DEFAULT_ENABLED;\n\t}\n\n\tcalculate(fields: Array<Field>, entities: Array<OriginItemEntity>): Array<AggregateEvent<StructureId>> {\n\n\t\tif (!this.enabled) {\n\t\t\treturn [];\n\t\t}\n\n\t\tconst calculations = new Map();\n\n\t\tthis.calculators.forEach((calc: SummariesCalculator<any, any>) => {\n\n\t\t\tconst aggregatedValues = calc.calculate(fields, entities);\n\n\t\t\tif (aggregatedValues) {\n\t\t\t\tArray.from(aggregatedValues.keys())\n\t\t\t\t\t .forEach((key: any) => {\n\t\t\t\t\t\t calculations.set(key, aggregatedValues.get(key));\n\t\t\t\t\t });\n\t\t\t}\n\t\t});\n\n\t\tif (calculations.size > 0) {\n\t\t\treturn [\n\t\t\t\tnew StructureSummariesChangedAggregateEvent(this.structureId, calculations)\n\t\t\t];\n\t\t} else {\n\t\t\treturn [];\n\t\t}\n\n\t}\n\n\tsetEnabled(enabled: boolean): void {\n\t\tthis.enabled = enabled;\n\t}\n\n\tadd() {\n\t}\n\n\tremove() {\n\t}\n\n\tupdate() {\n\t}\n\n}\n","import { Inject, Injectable } from '@angular/core';\n\nimport { SUMMARIES_CALCULATORS } from './calculation/summaries.calculators.token';\nimport { SummariesCalculator } from './calculation/summaries.calculator';\nimport { StructureId } from '../../../core/domain/structure.id';\nimport { SummariesManager } from './summaries.manager';\n\n\n@Injectable()\nexport class SummariesManagerFactory {\n\n\tconstructor(@Inject(SUMMARIES_CALCULATORS) private calculators: Array<SummariesCalculator<any, any>>) {\n\t}\n\n\tcreate(structureId: StructureId): SummariesManager {\n\t\treturn new SummariesManager(structureId, this.calculators);\n\t}\n\n}\n","import { AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nimport { OriginItemEntity } from '../origin/origin-item-entity';\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { StructurePreparedEntitiesSetEvent } from './structure.prepared-entities-set.event';\nimport { StructureAggregateEvent } from '../../../../core/domain/structure.aggregate-event';\n\n\nexport class StructurePreparedEntitiesSetAggregateEvent extends StructureAggregateEvent {\n\n\tconstructor(aggregateId: AggregateId,\n\t\t\t\tprivate readonly preparedItems: Array<OriginItemEntity>) {\n\t\tsuper(aggregateId, 'StructurePreparedEntitiesSetAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<StructureId> {\n\t\treturn new StructurePreparedEntitiesSetEvent(this.getAggregateId(), this.preparedItems);\n\t}\n\n\tgetPreparedItems(): Array<OriginItemEntity> {\n\t\treturn this.preparedItems;\n\t}\n\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { Field } from '../field/field';\nimport { FieldsInitedEvent } from './fields-inited.event';\nimport { FieldConfig } from '../../api/field.config';\nimport { StructureAggregateEvent } from '../../../../core/domain/structure.aggregate-event';\n\n\nexport class FieldsInitedAggregateEvent extends StructureAggregateEvent {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly fieldConfigs: Array<FieldConfig>, // TODO merge\n\t\t\t\tprivate readonly fields: Array<Field>) {\n\t\tsuper(structureId, 'FieldsInitedAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<StructureId> {\n\n\t\treturn new FieldsInitedEvent(\n\t\t\tthis.getAggregateId(),\n\t\t\tthis.fieldConfigs,\n\t\t\tthis.fields\n\t\t);\n\t}\n\n\tgetFieldConfigs(): Array<FieldConfig> {\n\t\treturn this.fieldConfigs;\n\t}\n\n\tgetFields(): Array<Field> {\n\t\treturn this.fields;\n\t}\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../structure.id';\nimport { StructureCreatedEvent } from './structure-created.event';\nimport { StructureAggregateEvent } from '../structure.aggregate-event';\n\n\nexport class StructureCreatedAggregateEvent extends StructureAggregateEvent {\n\n\tconstructor(aggregateId: StructureId) {\n\t\tsuper(aggregateId, 'StructureCreatedAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<StructureId> {\n\t\treturn new StructureCreatedEvent(this.getAggregateId());\n\t}\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../core/domain/structure.id';\nimport { FilterTypeReadModel } from '../../../api/type/filter-type.read-model';\nimport { FilterTypesInitedEvent } from './filter-types-inited.event';\nimport { StructureAggregateEvent } from '../../../../../core/domain/structure.aggregate-event';\n\n\nexport class FilterTypesInitedAggregateEvent extends StructureAggregateEvent {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly filterTypes: Map<string, Array<FilterTypeReadModel>>) {\n\t\tsuper(structureId, 'FilterTypesInitedAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<StructureId> {\n\n\t\treturn new FilterTypesInitedEvent(\n\t\t\tthis.getAggregateId(),\n\t\t\tthis.filterTypes\n\t\t);\n\t}\n\n\tgetFilterTypes(): Map<string, Array<FilterTypeReadModel>> {\n\t\treturn this.filterTypes;\n\t}\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../core/domain/structure.id';\nimport { ActiveFiltersSetEvent } from '../active-filters-set.event';\nimport { StructureAggregateEvent } from '../../../../../core/domain/structure.aggregate-event';\n\n\nexport class AllFiltersRemovedAggregateEvent extends StructureAggregateEvent {\n\n\tconstructor(aggregateId: StructureId) {\n\t\tsuper(aggregateId, 'FilterAddedEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<StructureId> {\n\t\treturn new ActiveFiltersSetEvent(\n\t\t\tthis.getAggregateId(),\n\t\t\t[]\n\t\t);\n\t}\n\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../core/domain/structure.id';\nimport { FilterAddedEvent } from './filter-added.event';\nimport { ActiveFilterReadModel } from '../../../api/active/active-filter.read-model';\nimport { ActiveFiltersSetEvent } from '../active-filters-set.event';\nimport { StructureAggregateEvent } from '../../../../../core/domain/structure.aggregate-event';\n\n\nexport class FilterAddedAggregateEvent extends StructureAggregateEvent {\n\n\tconstructor(aggregateId: StructureId,\n\t\t\t\tprivate readonly activeFilters: ReadonlyArray<ActiveFilterReadModel>) {\n\t\tsuper(aggregateId, 'FilterAddedEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<StructureId> {\n\t\treturn new ActiveFiltersSetEvent(\n\t\t\tthis.getAggregateId(),\n\t\t\tthis.activeFilters\n\t\t);\n\t}\n\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../core/domain/structure.id';\nimport { ActiveFiltersSetEvent } from '../active-filters-set.event';\nimport { ActiveFilterReadModel } from '../../../api/active/active-filter.read-model';\nimport { StructureAggregateEvent } from '../../../../../core/domain/structure.aggregate-event';\n\n\nexport class FilterRemovedAggregateEvent extends StructureAggregateEvent {\n\n\tconstructor(aggregateId: StructureId,\n\t\t\t\tprivate readonly activeFilters: ReadonlyArray<ActiveFilterReadModel>) {\n\t\tsuper(aggregateId, 'FilterRemovedAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<StructureId> {\n\t\treturn new ActiveFiltersSetEvent(\n\t\t\tthis.getAggregateId(),\n\t\t\tthis.activeFilters\n\t\t);\n\t}\n\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../core/domain/structure.id';\nimport { UniqueFilterCalculatedEvent } from './unique-filter-calculated.event';\nimport { UniqueValue } from '../unique-value';\nimport { StructureAggregateEvent } from '../../../../../core/domain/structure.aggregate-event';\n\n\nexport class UniqueFilterCalculatedAggregateEvent extends StructureAggregateEvent {\n\n\tconstructor(aggregateId: StructureId,\n\t\t\t\tprivate readonly map: Map<string, Array<UniqueValue>>) {\n\t\tsuper(aggregateId, 'UniqueFilterCalculatedAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<StructureId> {\n\t\treturn new UniqueFilterCalculatedEvent(\n\t\t\tthis.getAggregateId(),\n\t\t\tthis.map\n\t\t);\n\t}\n\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../core/domain/structure.id';\nimport { UniqueFilterSelectedEvent } from './unique-filter-selected.event';\nimport { StructureAggregateEvent } from '../../../../../core/domain/structure.aggregate-event';\n\n\nexport class UniqueFilterSelectedAggregateEvent extends StructureAggregateEvent {\n\n\tconstructor(aggregateId: StructureId) {\n\t\tsuper(aggregateId, 'UniqueFilterSelectedAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<StructureId> {\n\t\treturn new UniqueFilterSelectedEvent(\n\t\t\tthis.getAggregateId()\n\t\t);\n\t}\n\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../core/domain/structure.id';\nimport { UniqueFilterUnselectedEvent } from './unique-filter-unselected.event';\nimport { StructureAggregateEvent } from '../../../../../core/domain/structure.aggregate-event';\n\n\nexport class UniqueFilterUnselectedAggregateEvent extends StructureAggregateEvent {\n\n\tconstructor(aggregateId: StructureId) {\n\t\tsuper(aggregateId, 'UniqueFilterUnselectedAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<StructureId> {\n\t\treturn new UniqueFilterUnselectedEvent(\n\t\t\tthis.getAggregateId()\n\t\t);\n\t}\n\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../core/domain/structure.id';\nimport { AllUniqueFilterUnselectedEvent } from './all-unique-filter-unselected.event';\nimport { StructureAggregateEvent } from '../../../../../core/domain/structure.aggregate-event';\n\n\nexport class AllUniqueFilterUnselectedAggregateEvent extends StructureAggregateEvent {\n\n\tconstructor(aggregateId: StructureId) {\n\t\tsuper(aggregateId, 'AllUniqueFilterUnselectedAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<StructureId> {\n\t\treturn new AllUniqueFilterUnselectedEvent(\n\t\t\tthis.getAggregateId()\n\t\t);\n\t}\n\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../core/domain/structure.id';\nimport { AllUniqueFilterSelectedEvent } from './all-unique-filter-selected.event';\nimport { StructureAggregateEvent } from '../../../../../core/domain/structure.aggregate-event';\n\n\nexport class AllUniqueFilterSelectedAggregateEvent extends StructureAggregateEvent {\n\n\tconstructor(aggregateId: StructureId) {\n\t\tsuper(aggregateId, 'AllUniqueFilterSelectedAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<StructureId> {\n\t\treturn new AllUniqueFilterSelectedEvent(\n\t\t\tthis.getAggregateId()\n\t\t);\n\t}\n\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { SelectedRowChangedEvent } from './selected-row-changed.event';\nimport { StructureAggregateEvent } from '../../../../core/domain/structure.aggregate-event';\n\nexport class SelectedRowChangedAggregateEvent extends StructureAggregateEvent {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly selectedRows: Array<string>,\n\t\t\t\tprivate readonly allSelected: boolean,\n\t\t\t\tprivate readonly allUnselected: boolean) {\n\t\tsuper(structureId, 'SelectedRowChangedAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<StructureId> {\n\t\treturn new SelectedRowChangedEvent(this.getAggregateId(), this.selectedRows, this.allSelected, this.allUnselected);\n\t}\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../core/domain/structure.id';\nimport { SelectionEnabledSetEvent } from './selection-enabled-set.event';\nimport { StructureAggregateEvent } from '../../../../../core/domain/structure.aggregate-event';\n\nexport class SelectionEnabledSetAggregateEvent extends StructureAggregateEvent {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly enabled: boolean) {\n\t\tsuper(structureId, 'SelectionEnabledSetAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<StructureId> {\n\t\treturn new SelectionEnabledSetEvent(this.getAggregateId(), this.enabled);\n\t}\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../../../core/domain/structure.id';\nimport { SelectionModeSetEvent } from './selection-mode-set.event';\nimport { RowSelectionMode } from '../../../api/row-selection';\nimport { StructureAggregateEvent } from '../../../../../core/domain/structure.aggregate-event';\n\nexport class SelectionModeSetAggregateEvent extends StructureAggregateEvent {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tprivate readonly mode: RowSelectionMode) {\n\t\tsuper(structureId, 'SelectionModeSetAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<StructureId> {\n\t\treturn new SelectionModeSetEvent(this.getAggregateId(), this.mode);\n\t}\n}\n","import { AggregateEvent, AggregateEventType, AggregateRoot } from '@generic-ui/hermes';\n\nimport { PagingManager } from '../../paging/core/domain/paging.manager';\nimport { SourceManager } from '../../source/core/domain/core/source.manager';\nimport { VerticalFormation } from '../../vertical-formation/core/domain/vertical-formation';\nimport { SummariesManager } from '../../summaries/core/domain/summaries.manager';\nimport { SorterCollection } from '../../sorting/core/domain/sorter.collection';\nimport { FilterManager } from '../../filter/core/domain/filter.manager';\nimport { FieldCollection } from '../../field/core/domain/field-collection';\nimport { FormationManager } from '../../source/core/domain/formation/core/formation-manager';\nimport { StructureId } from './structure.id';\nimport { StructureEditSourceItemParams } from '../../source/core/domain/origin/edit/structure.edit-source-item.params';\nimport { PagingConfig } from '../../paging/core/api/paging-config';\nimport { OriginItemEntity } from '../../source/core/domain/origin/origin-item-entity';\nimport { SortingConfig } from '../../sorting/core/api/sorting-config';\nimport { FieldId } from '../../field/core/domain/field/field.id';\nimport { StructureSorter } from '../../sorting/core/domain/structure.sorter';\nimport { FilterConfig } from '../../filter/core/api/filter-config';\nimport { QuickFiltersConfig } from '../../filter/core/api/quick-filters.config';\nimport { SearchConfig } from '../../search/core/api/search-config';\nimport { SearchManager } from '../../search/core/domain/search.manager';\nimport { StructurePreparedEntitiesSetAggregateEvent } from '../../source/core/domain/prepared/structure.prepared-entities-set.aggregate-event';\nimport { SortOrder } from '../../../composition/core/domain/column/sort/sort-order';\nimport { FieldsInitedAggregateEvent } from '../../field/core/domain/init/fields-inited.aggregate-event';\nimport { SchemaTheme } from '../../../schema/core/api/theme/schema-theme';\nimport { SchemaAggregate } from '../../../schema/core/domain/schema.aggregate';\nimport { StructureCreatedAggregateEvent } from './create-structure/structure-created.aggregate-event';\nimport { FieldConfig } from '../../field/core/api/field.config';\nimport { Override } from '../../../common/cdk/decorators';\nimport { FilterTypesInitedAggregateEvent } from '../../filter/core/domain/type/init/filter-types-inited.aggregate-event';\nimport { AllFiltersRemovedAggregateEvent } from '../../filter/core/domain/core/remove-all/all-filters-removed.aggregate-event';\nimport { FilterTypeId } from '../../filter/core/domain/type/filter-type.id';\nimport { FilterAddedAggregateEvent } from '../../filter/core/domain/core/add/filter-added.aggregate-event';\nimport { FilterId } from '../../filter/core/api/filter.id';\nimport { FilterRemovedAggregateEvent } from '../../filter/core/domain/core/remove/filter-removed.aggregate-event';\nimport { UniqueFilterManager } from '../../filter/core/domain/unique/unique-filter-manager';\nimport { UniqueFilterCalculatedAggregateEvent } from '../../filter/core/domain/unique/calculate/unique-filter-calculated.aggregate-event';\nimport { UniqueValueId } from '../../filter/core/domain/unique/unique-value-id';\nimport { UniqueFilterSelectedAggregateEvent } from '../../filter/core/domain/unique/select/unique-filter-selected.aggregate-event';\nimport { UniqueFilterUnselectedAggregateEvent } from '../../filter/core/domain/unique/unselect/unique-filter-unselected.aggregate-event';\nimport { AllUniqueFilterUnselectedAggregateEvent } from '../../filter/core/domain/unique/unselect-all/all-unique-filter-unselected.aggregate-event';\nimport { AllUniqueFilterSelectedAggregateEvent } from '../../filter/core/domain/unique/select-all/all-unique-filter-selected.aggregate-event';\nimport { SelectedRowChangedAggregateEvent } from '../../source/core/domain/formation/selected-row-changed.aggregate-event';\nimport { RowSelectToggleType } from '../../source/core/domain/formation/core/row-select-toggle-type';\nimport { SelectionEnabledSetAggregateEvent } from '../../source/core/domain/formation/set-enabled/selection-enabled-set.aggregate-event';\nimport { RowSelectionMode } from '../../source/core/api/row-selection';\nimport { SelectionModeSetAggregateEvent } from '../../source/core/domain/formation/mode/selection-mode-set.aggregate-event';\nimport { OriginId } from '../../source/core/domain/origin/origin-id';\nimport { structureKey } from '../api/structre.key';\n\n\nexport class StructureAggregate extends AggregateRoot<StructureId> {\n\n\tprivate pagingManager: PagingManager;\n\n\tprivate readonly sourceManager: SourceManager;\n\n\tprivate sorterCollection: SorterCollection;\n\n\tprivate filterManager: FilterManager;\n\n\tprivate searchManager: SearchManager;\n\n\tprivate readonly verticalFormation: VerticalFormation;\n\n\tprivate fieldCollection: FieldCollection;\n\n\tprivate summariesManager: SummariesManager;\n\n\tprivate readonly uniqueFilterManager: UniqueFilterManager;\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tpagingAggregate: PagingManager,\n\t\t\t\tsourceManager: SourceManager,\n\t\t\t\tverticalFormation: VerticalFormation,\n\t\t\t\tsummariesManager: SummariesManager,\n\t\t\t\tsorterCollection: SorterCollection,\n\t\t\t\tfilterManager: FilterManager,\n\t\t\t\tuniqueFilterManager: UniqueFilterManager,\n\t\t\t\tsearchManager: SearchManager,\n\t\t\t\tfieldCollection: FieldCollection) {\n\t\tsuper(structureId, structureKey);\n\t\tthis.pagingManager = pagingAggregate;\n\t\tthis.sourceManager = sourceManager;\n\t\tthis.verticalFormation = verticalFormation;\n\t\tthis.summariesManager = summariesManager;\n\t\tthis.sorterCollection = sorterCollection;\n\t\tthis.filterManager = filterManager;\n\t\tthis.uniqueFilterManager = uniqueFilterManager;\n\t\tthis.searchManager = searchManager;\n\t\tthis.fieldCollection = fieldCollection;\n\t}\n\n\tcreateEvent(): AggregateEventType<AggregateEvent<StructureId>> {\n\t\treturn StructureCreatedAggregateEvent;\n\t}\n\n\t@Override\n\tclearEvents(): void {\n\t\tsuper.clearEvents();\n\t\tthis.pagingManager.clearEvents();\n\t}\n\n\tinit(): void {\n\t\tthis.initTheme();\n\t}\n\n\tsetVerticalFormationEnabled(enabled: boolean): void {\n\t\tthis.verticalFormation.setEnabled(enabled);\n\t\tthis.calculateSource();\n\t}\n\n\tgetVerticalFormation(): VerticalFormation {\n\t\treturn this.verticalFormation;\n\t}\n\n\tsetSummariesEnabled(enabled: boolean): ReadonlyArray<AggregateEvent<StructureId>> {\n\n\t\tthis.summariesManager.setEnabled(enabled);\n\n\t\tthis.calculateSource();\n\n\t\treturn this.getEvents();\n\t}\n\n\tsetOrigin(items: Array<any>): ReadonlyArray<AggregateEvent<StructureId>> {\n\n\t\tthis.addEvent(\n\t\t\tthis.sourceManager.setOrigin(items, this.getId())\n\t\t);\n\n\t\tthis.calculateUniqueValues();\n\n\t\tthis.calculateSource();\n\n\t\treturn this.getEvents();\n\t}\n\n\tdeleteAllSelected(): void {\n\n\t}\n\n\tdeleteItem(payload: number | OriginId | Array<number> | Array<OriginId>): void {\n\t\tthis.addEvent(\n\t\t\tthis.sourceManager.deleteOriginItem(payload, this.getId())\n\t\t);\n\t\tthis.generateSelectedRowChangedEvent();\n\t\tthis.calculateSource();\n\t}\n\n\teditItem(editParams: StructureEditSourceItemParams): ReadonlyArray<AggregateEvent<StructureId>> {\n\n\t\tconst itemId = editParams.getItemId(),\n\t\t\tfieldId = editParams.getColumnFieldId(),\n\t\t\tfield = this.fieldCollection.getField(fieldId as any), // as FieldId\n\t\t\tvalue = editParams.getValue();\n\n\t\tconst editItemEvents = this.sourceManager.editOriginItem(itemId, value, field, this.getId());\n\n\t\teditItemEvents.forEach((e) => this.addEvent(e));\n\n\t\t// TODO\n\t\t// this.calculateUniqueValues();\n\n\t\tthis.calculateSource();\n\n\t\treturn this.getEvents();\n\t}\n\n\tsetHeight(height: number): void {\n\n\t\tthis.verticalFormation.setViewportHeight(height);\n\n\t\tthis.calculateSourceBasedOnVirtualScroll();\n\t}\n\n\tsetTheme(theme: SchemaTheme): void {\n\n\t\t// #1707 Move to SchemeAggregate\n\t\tif (theme === SchemaTheme.MATERIAL) {\n\t\t\tthis.getVerticalFormation().setRowHeight(52);\n\t\t}\n\n\t\tif (theme === SchemaTheme.GENERIC) {\n\t\t\tthis.getVerticalFormation().setRowHeight(42);\n\t\t}\n\n\t\tif (theme === SchemaTheme.FABRIC) {\n\t\t\tthis.getVerticalFormation().setRowHeight(36);\n\t\t}\n\n\t\tif (theme === SchemaTheme.LIGHT) {\n\t\t\tthis.getVerticalFormation().setRowHeight(56);\n\t\t}\n\n\t\tif (theme === SchemaTheme.DARK) {\n\t\t\tthis.getVerticalFormation().setRowHeight(38);\n\t\t}\n\t}\n\n\tsetScrollPosition(position: number): void {\n\t\tthis.verticalFormation.setScrollPosition(position);\n\t\tthis.calculateSourceBasedOnVirtualScroll();\n\t}\n\n\tscrollToIndex(index: number): void {\n\t\tthis.addEvent(\n\t\t\tthis.verticalFormation.scrollToIndex(index)\n\t\t);\n\t}\n\n\tsetSelection(enabled: boolean): void {\n\n\t\tthis.sourceManager.getFormation().setSelection(enabled);\n\n\t\tthis.addEvent(\n\t\t\tnew SelectionEnabledSetAggregateEvent(this.getId(), enabled)\n\t\t);\n\t}\n\n\tsetSelectionMode(mode: RowSelectionMode): void {\n\n\t\tthis.sourceManager.getFormation().setMode(mode);\n\n\t\tthis.addEvent(\n\t\t\tnew SelectionModeSetAggregateEvent(this.getId(), mode)\n\t\t);\n\t}\n\n\ttoggleRow(selectedRow: string, type: RowSelectToggleType): void {\n\n\t\tthis.sourceManager.toggleRow(selectedRow, type);\n\n\t\tthis.generateSelectedRowChangedEvent();\n\t}\n\n\tselectAll(): void {\n\t\tthis.sourceManager.selectAll();\n\t\tthis.generateSelectedRowChangedEvent();\n\t}\n\n\tunselectAll(): void {\n\t\tthis.sourceManager.unselectAll();\n\t\tthis.generateSelectedRowChangedEvent();\n\t}\n\n\tgetFormation(): FormationManager {\n\t\treturn this.sourceManager.getFormation();\n\t}\n\n\tgetPaging(): PagingManager {\n\t\treturn this.pagingManager;\n\t}\n\n\tchangePaging(config: PagingConfig) {\n\t\tthis.pagingManager.change(config);\n\t\tthis.calculateSource();\n\t}\n\n\tsetPaging(paging: PagingManager): void {\n\t\tthis.pagingManager = paging;\n\t\tthis.calculateSource();\n\t}\n\n\tnextPage(): void {\n\n\t\tthis.pagingManager.nextPage();\n\n\t\tthis.calculateSource();\n\t}\n\n\tprevPage(): void {\n\t\tthis.pagingManager.prevPage();\n\t\tthis.calculateSource();\n\t}\n\n\tchangePageSize(pageSize: number): ReadonlyArray<AggregateEvent<StructureId>> {\n\n\t\tconst pagingEvents = this.pagingManager.changePageSize(pageSize);\n\n\t\t// TODO\n\t\tpagingEvents.forEach((event) => {\n\t\t\tthis.addEvent(event);\n\t\t});\n\n\t\tthis.calculateSource();\n\n\t\treturn this.getEvents();\n\t}\n\n\tgetEntities(): Array<OriginItemEntity> {\n\t\treturn this.sourceManager.getSlicedEntities();\n\t}\n\n\tgetSource(): SourceManager {\n\t\treturn this.sourceManager;\n\t}\n\n\tcreateFields(fieldConfigs: Array<FieldConfig>): ReadonlyArray<AggregateEvent<StructureId>> {\n\n\t\tthis.fieldCollection.initFields(fieldConfigs);\n\n\t\tconst fields = this.fieldCollection.getAllFields();\n\n\t\tthis.addEvent(\n\t\t\tnew FieldsInitedAggregateEvent(this.getId(), fieldConfigs, fields)\n\t\t);\n\n\t\tthis.filterManager.assignFilterTypes(fields);\n\n\t\tthis.addEvent(\n\t\t\tnew FilterTypesInitedAggregateEvent(this.getId(), this.filterManager.getFilterTypes())\n\t\t);\n\n\t\treturn this.getEvents();\n\t}\n\n\tsetSortingConfig(config: SortingConfig): void {\n\t\tthis.sorterCollection.setConfig(config);\n\t}\n\n\ttoggleSort(fieldId: FieldId): Array<StructureSorter> {\n\n\t\tconst field = this.fieldCollection.getField(fieldId);\n\n\t\tthis.sorterCollection.toggle(field);\n\n\t\tthis.calculateSource();\n\n\t\treturn this.sorterCollection.getAll();\n\t}\n\n\tsetSortOrder(fieldId: FieldId, sortOrder: SortOrder): Array<StructureSorter> {\n\n\t\tconst field = this.fieldCollection.getField(fieldId);\n\n\t\tthis.sorterCollection.setSortOrder(field, sortOrder);\n\n\t\tthis.calculateSource();\n\n\t\treturn this.sorterCollection.getAll();\n\t}\n\n\tsetFilterConfig(config: FilterConfig): void {\n\t\tthis.filterManager.getSettings().setFilterConfig(config);\n\t}\n\n\tsetQuickFiltersConfig(config: QuickFiltersConfig): void {\n\t\tthis.filterManager.getSettings().setQuickFiltersConfig(config);\n\t}\n\n\ttoggleFilter(fieldId: FieldId, externalFilterId: string, filterValue: string): Array<AggregateEvent<StructureId>> {\n\n\t\tconst field = this.fieldCollection.getField(fieldId);\n\n\t\t// Field not found\n\t\t// TODO throw aggregate event\n\t\tif (field === undefined) {\n\t\t\treturn [];\n\t\t}\n\n\t\t// this.filterManager.addFilter(field, externalFilterId, filterValue);\n\n\t\t// this.filterManager.a\n\n\t\tthis.calculateSource();\n\n\t\treturn [];\n\t}\n\n\taddFilter(fieldId: FieldId, filterTypeId: FilterTypeId, value: any): void {\n\t\tthis.filterManager.add(fieldId, filterTypeId, value);\n\n\t\tconst fields = this.fieldCollection.getFieldsAsMap();\n\n\t\tconst activeFilters = this.filterManager.getAllActiveFilters(fields);\n\n\t\tthis.addEvent(\n\t\t\tnew FilterAddedAggregateEvent(\n\t\t\t\tthis.getId(),\n\t\t\t\tactiveFilters\n\t\t\t)\n\t\t);\n\n\t\tthis.calculateSource();\n\t}\n\n\tremoveAllFilters(): void {\n\t\tthis.filterManager.removeAll();\n\n\t\tthis.addEvent(\n\t\t\tnew AllFiltersRemovedAggregateEvent(this.getId())\n\t\t);\n\n\t\tthis.calculateSource();\n\t}\n\n\tremoveFilter(filterId: FilterId): void {\n\t\tthis.filterManager.remove(filterId);\n\n\t\tconst fields = this.fieldCollection.getFieldsAsMap();\n\t\tconst activeFilters = this.filterManager.getAllActiveFilters(fields);\n\n\t\tthis.addEvent(\n\t\t\tnew FilterRemovedAggregateEvent(this.getId(), activeFilters)\n\t\t);\n\n\t\tthis.calculateSource();\n\t}\n\n\tsetSearchingConfig(config: SearchConfig): void {\n\t\tthis.filterManager.getSettings().setSearchingConfig(config);\n\t}\n\n\taddSearchPhrase(phrase: string): Array<AggregateEvent<StructureId>> {\n\n\t\tconst fields = this.fieldCollection.getAllFields();\n\n\t\tthis.searchManager.addSearchPhrase(fields, phrase);\n\n\t\tthis.calculateSource();\n\n\t\treturn [];\n\t}\n\n\tremoveSearchPhrase(): Array<AggregateEvent<StructureId>> {\n\n\t\tthis.searchManager.removeSearchFilters();\n\n\t\tthis.calculateSource();\n\n\t\treturn [];\n\t}\n\n\tselectAllUniqueFilter(fieldId: FieldId): void {\n\n\t\tthis.uniqueFilterManager.selectAll(fieldId);\n\n\t\tthis.addEvent(\n\t\t\tnew AllUniqueFilterSelectedAggregateEvent(\n\t\t\t\tthis.getId()\n\t\t\t)\n\t\t);\n\n\t\tthis.generateCalculateUniqueValuesAggregateEvent();\n\n\t\tthis.calculateSource();\n\t}\n\n\tselectUniqueFilter(fieldId: FieldId, uniqueValueId: UniqueValueId): void {\n\n\t\tthis.uniqueFilterManager.select(fieldId, uniqueValueId);\n\n\t\tthis.addEvent(\n\t\t\tnew UniqueFilterSelectedAggregateEvent(\n\t\t\t\tthis.getId()\n\t\t\t)\n\t\t);\n\n\t\tthis.generateCalculateUniqueValuesAggregateEvent();\n\n\t\tthis.calculateSource();\n\t}\n\n\tunselectAllUniqueFilter(fieldId: FieldId): void {\n\n\t\tthis.uniqueFilterManager.unselectAll(fieldId);\n\n\t\tthis.addEvent(\n\t\t\tnew AllUniqueFilterUnselectedAggregateEvent(\n\t\t\t\tthis.getId()\n\t\t\t)\n\t\t);\n\n\t\tthis.generateCalculateUniqueValuesAggregateEvent();\n\n\t\tthis.calculateSource();\n\t}\n\n\tunselectUniqueFilter(fieldId: FieldId, uniqueValueId: UniqueValueId): void {\n\n\t\tthis.uniqueFilterManager.unselect(fieldId, uniqueValueId);\n\n\t\tthis.addEvent(\n\t\t\tnew UniqueFilterUnselectedAggregateEvent(\n\t\t\t\tthis.getId()\n\t\t\t)\n\t\t);\n\n\t\tthis.generateCalculateUniqueValuesAggregateEvent();\n\n\t\tthis.calculateSource();\n\t}\n\n\tprivate calculateSource(): void {\n\n\t\tif (!this.sourceManager.getOrigin() || !this.pagingManager) {\n\t\t\treturn;\n\t\t}\n\n\t\t// TODO Refactor\n\t\tthis.sourceManager.setEntities(this.sourceManager.getOrigin());\n\n\t\t// filtering\n\t\tthis.sourceManager.setEntities(\n\t\t\tthis.filterManager.filter(this.sourceManager.getEntities(), this.fieldCollection.getFieldsAsMap())\n\t\t);\n\n\t\t// search\n\t\tconst searchedEntities = this.searchManager.search(this.sourceManager.getEntities());\n\t\tthis.sourceManager.setEntities(searchedEntities);\n\n\t\t// unique filtering\n\t\tthis.sourceManager.setEntities(\n\t\t\tthis.uniqueFilterManager.filterAll(this.sourceManager.getEntities(), this.fieldCollection.getAllFields())\n\t\t);\n\n\t\t// sorting\n\t\tconst ents = this.sorterCollection.sort(this.sourceManager.getEntities());\n\t\tthis.sourceManager.setEntities(ents);\n\n\t\t// calculate filteredEntities\n\t\tthis.sourceManager.setPreparedEntities();\n\n\t\tthis.pagingManager.setSourceSize(this.sourceManager.getPreparedEntities().length);\n\n\t\tthis.addEvent(new StructurePreparedEntitiesSetAggregateEvent(this.getId(), ents));\n\n\t\t// summaries\n\t\tconst summariesEvents = this.summariesManager.calculate(\n\t\t\tthis.fieldCollection.getAllFields(),\n\t\t\tthis.sourceManager.getEntities()\n\t\t);\n\n\t\tsummariesEvents.forEach((ae: AggregateEvent<StructureId>) => {\n\t\t\tthis.addEvent(ae);\n\t\t});\n\n\t\t// paging\n\t\tthis.sourceManager.setEntities(this.pagingManager.sample(this.sourceManager.getEntities()));\n\n\t\tthis.verticalFormation.setSourceSize(this.sourceManager.getEntities().length);\n\n\t\tthis.calculateSourceBasedOnVirtualScroll();\n\t}\n\n\tprivate calculateSourceBasedOnVirtualScroll(): void {\n\n\t\tif (this.verticalFormation.isEnabled()) {\n\n\t\t\tconst range = this.verticalFormation.getRange();\n\n\t\t\tthis.sourceManager.setSlicedEntities(\n\t\t\t\tthis.sourceManager.getEntities().slice(range.getStart(), range.getEnd())\n\t\t\t);\n\t\t} else {\n\t\t\tthis.sourceManager.setSlicedEntities(\n\t\t\t\tthis.sourceManager.getEntities()\n\t\t\t);\n\t\t}\n\t}\n\n\tprivate initTheme() {\n\n\t\t// TODO\n\t\tconst theme = SchemaAggregate.DEFAULT_THEME;\n\n\t\tthis.setTheme(theme);\n\t}\n\n\tprivate calculateUniqueValues(): void {\n\n\t\tconst fields = this.fieldCollection.getAllFields(),\n\t\t\titems = this.sourceManager.getOrigin();\n\n\t\tthis.uniqueFilterManager.calculateAll(items, fields);\n\n\t\tthis.generateCalculateUniqueValuesAggregateEvent();\n\t}\n\n\tprivate generateCalculateUniqueValuesAggregateEvent(): void {\n\t\tthis.addEvent(\n\t\t\tnew UniqueFilterCalculatedAggregateEvent(\n\t\t\t\tthis.getId(),\n\t\t\t\tthis.uniqueFilterManager.getAll(\n\t\t\t\t\tthis.fieldCollection.getAllFields()\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t}\n\n\tprivate generateSelectedRowChangedEvent() {\n\t\tthis.addEvent(\n\t\t\tnew SelectedRowChangedAggregateEvent(\n\t\t\t\tthis.getId(),\n\t\t\t\tthis.sourceManager.getFormation().getSelectedRows(),\n\t\t\t\tthis.sourceManager.getFormation().isAllSelected(),\n\t\t\t\tthis.sourceManager.getFormation().isAllUnselected()\n\t\t\t)\n\t\t);\n\t}\n\n}\n","import { SorterId } from '../api/sorter.id';\nimport { OriginItemEntity } from '../../../source/core/domain/origin/origin-item-entity';\nimport { Field } from '../../../field/core/domain/field/field';\n\nexport class StructureSorter {\n\n\tprivate readonly sorterId: SorterId;\n\n\tprivate columnId: string;\n\n\tprivate field: Field;\n\n\tprivate rank: number = 1;\n\n\tprivate direction: boolean;\n\n\tconstructor(id: SorterId,\n\t\t\t\tfield: Field,\n\t\t\t\tdirection: boolean = true) {\n\t\tthis.sorterId = id;\n\t\tthis.field = field;\n\t\tthis.direction = direction;\n\t}\n\n\tgetId(): SorterId {\n\t\treturn this.sorterId;\n\t}\n\n\tgetRank(): number {\n\t\treturn this.rank;\n\t}\n\n\tgetField(): Field {\n\t\treturn this.field;\n\t}\n\n\thasDirection(): boolean {\n\t\treturn this.direction;\n\t}\n\n\tchangeDirection(): void {\n\t\tthis.direction = !this.direction;\n\t}\n\n\tsetDirection(direction: boolean): void {\n\t\tthis.direction = direction;\n\t}\n\n\tsort(entities: Array<OriginItemEntity>): Array<OriginItemEntity> {\n\n\t\tif (entities.length === 0) {\n\t\t\treturn entities;\n\t\t}\n\n\t\treturn entities.sort((entityOne: OriginItemEntity, entityTwo: OriginItemEntity) => {\n\t\t\treturn this.field.sort(entityOne, entityTwo, this.direction);\n\t\t});\n\t}\n\n}\n","export class SorterId {\n\n\tprivate readonly sorterId: string;\n\n\tconstructor(id: string) {\n\t\tthis.sorterId = id;\n\t}\n\n\tgetId(): string {\n\t\treturn this.sorterId;\n\t}\n}\n","import { RandomStringGenerator } from '@generic-ui/hermes';\n\nimport { StructureSorter } from './structure.sorter';\nimport { SortingConfig } from '../api/sorting-config';\nimport { SorterId } from '../api/sorter.id';\nimport { FieldId } from '../../../field/core/domain/field/field.id';\nimport { OriginItemEntity } from '../../../source/core/domain/origin/origin-item-entity';\nimport { SortOrder } from '../../../../composition/core/domain/column/sort/sort-order';\nimport { Field } from '../../../field/core/domain/field/field';\n\n\nexport class SorterCollection {\n\n\tprivate enabled: boolean;\n\n\tprivate multi: boolean;\n\n\tprivate readonly sorters = new Map<string, StructureSorter>();\n\n\tconstructor(enabled: boolean = false,\n\t\t\t\tmulti: boolean = false) {\n\t\tthis.enabled = enabled;\n\t\tthis.multi = multi;\n\t}\n\n\tsetConfig(config: SortingConfig): void {\n\n\t\tif (config && config.enabled !== undefined && config.enabled !== null) {\n\t\t\tthis.enabled = config.enabled;\n\t\t}\n\n\t\tif (config && config.multiSorting !== undefined && config.multiSorting !== null) {\n\t\t\tthis.multi = config.multiSorting;\n\t\t\tthis.sorters.clear();\n\t\t}\n\n\t}\n\n\ttoggle(field: Field): void {\n\n\t\tconst fieldId = field.getId(),\n\t\t\tsorter = this.sorters.get(fieldId.getId());\n\n\t\tif (sorter) {\n\t\t\tif (sorter.hasDirection()) {\n\t\t\t\tsorter.changeDirection();\n\t\t\t} else {\n\t\t\t\tthis.delete(fieldId);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.add(field);\n\t\t}\n\n\t}\n\n\tsetSortOrder(field: Field, sortOrder: SortOrder): void {\n\n\t\tconst fieldId = field.getId(),\n\t\t\tsorter = this.sorters.get(fieldId.getId());\n\n\t\tif (sortOrder === SortOrder.NONE) {\n\t\t\tthis.delete(fieldId);\n\t\t} else if (sortOrder === SortOrder.ASC || sortOrder === SortOrder.DESC) {\n\n\t\t\tthis.delete(fieldId);\n\n\t\t\tconst direction = sortOrder === SortOrder.ASC;\n\n\t\t\tthis.add(field, direction);\n\t\t}\n\t}\n\n\tadd(field: Field, direction = true): void {\n\t\tthis.addSorter(field.getId(), new StructureSorter(new SorterId(RandomStringGenerator.generate()), field, direction));\n\t}\n\n\taddSorter(fieldId: FieldId, sorter: StructureSorter): void {\n\n\t\tif (!this.multi) {\n\t\t\tthis.sorters.clear();\n\t\t}\n\n\t\tthis.sorters.set(fieldId.getId(), sorter);\n\t}\n\n\tdelete(fieldId: FieldId): void {\n\t\tthis.sorters.delete(fieldId.getId());\n\t}\n\n\tupdate(): void {\n\t}\n\n\t// TODO Remove the loop from sorter.sort\n\tsort(entities: Array<OriginItemEntity>): Array<OriginItemEntity> {\n\t\tconst sorters = this.getAll();\n\n\t\tlet sortedEntities = [...entities];\n\n\t\tfor (const sorter of sorters) {\n\t\t\tsortedEntities = sorter.sort(sortedEntities);\n\t\t}\n\n\t\treturn sortedEntities;\n\t}\n\n\tgetAll(): Array<StructureSorter> {\n\n\t\tif (!this.enabled) {\n\t\t\treturn [];\n\t\t}\n\n\t\treturn Array.from(this.sorters)\n\t\t\t\t\t.map((arr) => arr[1])\n\t\t\t\t\t.sort((sorterOne: StructureSorter, sorterTwo: StructureSorter) => {\n\t\t\t\t\t\treturn sorterOne.getRank() - sorterTwo.getRank();\n\t\t\t\t\t})\n\t\t\t\t\t.reverse();\n\t}\n}\n","import { UniqueValueId } from './unique-value-id';\n\nexport class UniqueValue {\n\n\tprivate readonly id: UniqueValueId;\n\n\tprivate value: any;\n\n\tprivate displayValue: string;\n\n\tprivate enabled: boolean;\n\n\tconstructor(\n\t\tid: UniqueValueId,\n\t\tvalue: any,\n\t\tdisplayValue: string,\n\t\tenabled: boolean\n\t) {\n\t\tthis.id = id;\n\t\tthis.value = value;\n\t\tthis.displayValue = displayValue;\n\t\tthis.enabled = enabled;\n\t}\n\n\tgetId(): UniqueValueId {\n\t\treturn this.id;\n\t}\n\n\tgetValue(): any {\n\t\treturn this.value;\n\t}\n\n\tgetDisplayValue(): string {\n\t\treturn this.displayValue;\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n\tisDisabled(): boolean {\n\t\treturn !this.enabled;\n\t}\n\n\tselect(): void {\n\t\tthis.enabled = true;\n\t}\n\n\tunselect(): void {\n\t\tthis.enabled = false;\n\t}\n}\n","export class UniqueValueId {\n\n\tprivate readonly id: string;\n\n\tconstructor(uniqueValueId: string) {\n\t\tthis.id = uniqueValueId;\n\t}\n\n\ttoString(): string {\n\t\treturn this.id;\n\t}\n\n\tequals(uniqueValueId: UniqueValueId): boolean {\n\t\treturn uniqueValueId.toString() === this.id;\n\t}\n\n}\n","import { UniqueValueId } from './unique-value-id';\n\nexport class UniqueValueIdGenerator {\n\n\tstatic index = 0;\n\n\tstatic generate(): UniqueValueId {\n\n\t\tUniqueValueIdGenerator.index += 1;\n\n\t\treturn new UniqueValueId(`${UniqueValueIdGenerator.index}`);\n\t}\n\n}\n","import { UniqueValue } from './unique-value';\nimport { UniqueValueIdGenerator } from './unique-value.id-generator';\nimport { UniqueValueId } from './unique-value-id';\nimport { Field } from '../../../../field/core/domain/field/field';\n\nexport class UniqueValueCollection {\n\n\tprivate readonly values: Array<UniqueValue> = [];\n\n\tprivate allSelected: boolean;\n\n\tprivate allDisabled: boolean;\n\n\tconstructor(values: Array<any>,\n\t\t\t\tfield: Field) {\n\n\t\tfor (const value of values) {\n\n\t\t\tthis.values.push(\n\t\t\t\tnew UniqueValue(\n\t\t\t\t\tUniqueValueIdGenerator.generate(),\n\t\t\t\t\tvalue,\n\t\t\t\t\tfield.getDisplayValue(value),\n\t\t\t\t\ttrue\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\tthis.calculateAllSelected();\n\t\tthis.calculateAllDisabled();\n\t}\n\n\tgetAll(): Array<UniqueValue> {\n\t\treturn this.values;\n\t}\n\n\tisAllSelected(): boolean {\n\t\treturn this.allSelected;\n\t}\n\n\tisAllDisabled(): boolean {\n\t\treturn this.allDisabled;\n\t}\n\n\tgetNotSelected(): Array<UniqueValue> {\n\t\treturn this.values.filter((uv: UniqueValue) => uv.isDisabled());\n\t}\n\n\tselectAll(): void {\n\t\tthis.values.forEach((uv: UniqueValue) => {\n\t\t\tuv.select();\n\t\t});\n\t\tthis.allSelected = true;\n\t\tthis.allDisabled = false;\n\t}\n\n\tselect(uniqueValueId: UniqueValueId): void {\n\n\t\tthis.values\n\t\t\t.filter((uv) => uv.getId().equals(uniqueValueId))\n\t\t\t.forEach((uv: UniqueValue) => {\n\t\t\t\tuv.select();\n\t\t\t});\n\n\t\tthis.calculateAllSelected();\n\t\tthis.calculateAllDisabled();\n\t}\n\n\tunselectAll(): void {\n\t\tthis.values.forEach((uv: UniqueValue) => {\n\t\t\tuv.unselect();\n\t\t});\n\t\tthis.allSelected = false;\n\t\tthis.allDisabled = true;\n\t}\n\n\tunselect(uniqueValueId: UniqueValueId): void {\n\n\t\tthis.values\n\t\t\t.filter((uv) => uv.getId().equals(uniqueValueId))\n\t\t\t.forEach((uv: UniqueValue) => {\n\t\t\t\tuv.unselect();\n\t\t\t});\n\n\t\tthis.calculateAllSelected();\n\t\tthis.calculateAllDisabled();\n\t}\n\n\tprivate calculateAllSelected(): void {\n\t\tthis.allSelected = !this.values.some((f: UniqueValue) => f.isDisabled());\n\t}\n\n\tprivate calculateAllDisabled(): void {\n\t\tthis.allDisabled = !this.values.some((f: UniqueValue) => f.isEnabled());\n\t}\n\n}\n","import { KeyMap, Optional } from '@generic-ui/hermes';\n\nimport { FieldId } from '../../../../field/core/domain/field/field.id';\nimport { OriginItemEntity } from '../../../../source/core/domain/origin/origin-item-entity';\nimport { Field } from '../../../../field/core/domain/field/field';\nimport { UniqueValueCollection } from './unique-value-collection';\nimport { UniqueValue } from './unique-value';\nimport { UniqueValueId } from './unique-value-id';\n\n\nexport class UniqueFilterManager {\n\n\tprivate readonly uniqueValueMap = new KeyMap<FieldId, UniqueValueCollection>();\n\n\tcalculate(entities: Array<OriginItemEntity>, field: Field): void {\n\n\t\tconst fieldId = field.getId();\n\n\t\tconst optUVM = this.uniqueValueMap.get(fieldId);\n\n\t\toptUVM.ifEmpty(() => {\n\n\t\t\tconst set = new Set();\n\n\t\t\tfor (const entity of entities) {\n\t\t\t\tset.add(field.getValue(entity));\n\t\t\t}\n\n\t\t\t// sort\n\t\t\tconst sortedValues = Array.from(set.values()).sort((a: any, b: any) => {\n\t\t\t\treturn (field as any).getField().sort(a, b);\n\t\t\t});\n\n\t\t\tconst uvc = new UniqueValueCollection(sortedValues, field);\n\n\t\t\tthis.uniqueValueMap.set(field.getId(), uvc);\n\t\t});\n\n\t}\n\n\tcalculateAll(entities: Array<OriginItemEntity>, fields: Array<Field>): void {\n\t\tfor (const field of fields) {\n\t\t\tthis.calculate(entities, field);\n\t\t}\n\t}\n\n\tfilterAll(entities: Array<OriginItemEntity>, fields: Array<Field>): Array<OriginItemEntity> {\n\n\t\tlet values: Array<OriginItemEntity> = entities;\n\n\t\tfor (const field of fields) {\n\n\t\t\tvalues = this.filter(values, field);\n\t\t}\n\n\t\treturn values;\n\t}\n\n\tfilter(entities: Array<OriginItemEntity>, field: Field): Array<OriginItemEntity> {\n\n\t\tlet values: Array<OriginItemEntity> = [];\n\n\t\tthis.uniqueValueMap\n\t\t\t.get(field.getId())\n\t\t\t.ifPresent((uvc: UniqueValueCollection) => {\n\n\t\t\t\tif (uvc.isAllSelected()) {\n\t\t\t\t\tvalues = entities;\n\t\t\t\t} else if (uvc.isAllDisabled()) {\n\t\t\t\t\tvalues = [];\n\t\t\t\t} else {\n\n\t\t\t\t\tvalues = entities.filter((itemEntity: OriginItemEntity) => {\n\n\t\t\t\t\t\tfor (const notSelectedValue of uvc.getNotSelected()) {\n\n\t\t\t\t\t\t\tif ((field.getField() as any).equals(itemEntity, (notSelectedValue as any).getValue())) {\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t});\n\n\t\treturn values;\n\t}\n\n\tselectAll(fieldId: FieldId): void {\n\n\t\tthis.uniqueValueMap\n\t\t\t.get(fieldId)\n\t\t\t.ifPresent((uvc: UniqueValueCollection) => {\n\t\t\t\tuvc.selectAll();\n\t\t\t});\n\t}\n\n\tselect(fieldId: FieldId, uniqueValueId: UniqueValueId): void {\n\n\t\tthis.uniqueValueMap\n\t\t\t.get(fieldId)\n\t\t\t.ifPresent((uvc: UniqueValueCollection) => {\n\t\t\t\tuvc.select(uniqueValueId);\n\t\t\t});\n\t}\n\n\tunselectAll(fieldId: FieldId): void {\n\n\t\tthis.uniqueValueMap\n\t\t\t.get(fieldId)\n\t\t\t.ifPresent((uvc: UniqueValueCollection) => {\n\t\t\t\tuvc.unselectAll();\n\t\t\t});\n\t}\n\n\tunselect(fieldId: FieldId, uniqueValueId: UniqueValueId): void {\n\n\t\tthis.uniqueValueMap\n\t\t\t.get(fieldId)\n\t\t\t.ifPresent((uvc: UniqueValueCollection) => {\n\t\t\t\tuvc.unselect(uniqueValueId);\n\t\t\t});\n\t}\n\n\tgetAll(fields: Array<Field>): Map<string, Array<UniqueValue>> {\n\n\t\tconst map = new Map();\n\n\t\tfor (const field of fields) {\n\n\t\t\tthis.getValues(field)\n\t\t\t\t.ifPresent((v) => {\n\t\t\t\t\tmap.set(field.getId().toString(), v);\n\t\t\t\t});\n\t\t}\n\n\t\treturn map;\n\t}\n\n\tgetValues(field: Field): Optional<Array<UniqueValue>> {\n\n\t\treturn this.uniqueValueMap\n\t\t\t\t   .get(field.getId())\n\t\t\t\t   .map((uvc: UniqueValueCollection) => {\n\t\t\t\t\t   return uvc.getAll();\n\t\t\t\t   });\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateFactory } from '@generic-ui/hermes';\n\nimport { PagingManagerFactory } from '../../paging/core/domain/paging.manager-factory';\nimport { SourceManagerFactory } from '../../source/core/domain/core/source.manager-factory';\nimport { VerticalFormationFactory } from '../../vertical-formation/core/domain/vertical-formation.factory';\nimport { SummariesManagerFactory } from '../../summaries/core/domain/summaries.manager.factory';\nimport { FilterManagerFactory } from '../../filter/core/domain/filter.manager-factory';\nimport { FieldCollectionFactory } from '../../field/core/domain/field-collection.factory';\nimport { StructureId } from './structure.id';\nimport { StructureAggregate } from './structure.aggregate';\nimport { SorterCollection } from '../../sorting/core/domain/sorter.collection';\nimport { SearchManagerFactory } from '../../search/core/domain/search.manager-factory';\nimport { UniqueFilterManager } from '../../filter/core/domain/unique/unique-filter-manager';\n\n\n@Injectable()\nexport class StructureAggregateFactory extends AggregateFactory<StructureId, StructureAggregate> {\n\n\tconstructor(private readonly pagingAggregateFactory: PagingManagerFactory,\n\t\t\t\tprivate readonly sourceManagerFactory: SourceManagerFactory,\n\t\t\t\tprivate readonly verticalFormationFactory: VerticalFormationFactory,\n\t\t\t\tprivate readonly summariesManagerFactory: SummariesManagerFactory,\n\t\t\t\tprivate readonly filterManagerFactory: FilterManagerFactory,\n\t\t\t\tprivate readonly searchManagerFactory: SearchManagerFactory,\n\t\t\t\tprivate readonly fieldCollectionFactory: FieldCollectionFactory) {\n\t\tsuper();\n\t}\n\n\tcreate(structureId: StructureId): StructureAggregate {\n\n\t\tconst paging = this.pagingAggregateFactory.createDefault(),\n\t\t\tsource = this.sourceManagerFactory.createDefault(),\n\t\t\tverticalFormation = this.verticalFormationFactory.create(structureId);\n\n\t\tconst sorterContainer: SorterCollection = new SorterCollection(),\n\t\t\tfilterContainer = this.filterManagerFactory.create(false),\n\t\t\tfieldContainer = this.fieldCollectionFactory.create(),\n\t\t\tsummariesManager = this.summariesManagerFactory.create(structureId),\n\t\t\tsearchManager = this.searchManagerFactory.create();\n\n\t\tconst structureAggregate = new StructureAggregate(structureId,\n\t\t\tpaging,\n\t\t\tsource,\n\t\t\tverticalFormation,\n\t\t\tsummariesManager,\n\t\t\tsorterContainer,\n\t\t\tfilterContainer,\n\t\t\tnew UniqueFilterManager(),\n\t\t\tsearchManager,\n\t\t\tfieldContainer\n\t\t);\n\n\t\tthis.init(structureAggregate);\n\n\t\treturn structureAggregate;\n\t}\n\n\tinit(structureAggregate: StructureAggregate): void {\n\t\tstructureAggregate.init();\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, ReplaySubject } from 'rxjs';\nimport { distinctUntilChanged, map } from 'rxjs/operators';\n\nimport { Reactive } from '../../../../../common/cdk/reactive/reactive';\n\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { SummariesManager } from '../../domain/summaries.manager';\n\n\n@Injectable()\nexport class StructureSummariesRepository extends Reactive {\n\n\tprivate enabled = new Map<string, boolean>();\n\n\tprivate enabled$ = new ReplaySubject<Map<string, boolean>>();\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tinit(structureId: StructureId): void {\n\t\tthis.setEnabled(SummariesManager.DEFAULT_ENABLED, structureId);\n\t}\n\n\tsetEnabled(enabled: boolean, structureId: StructureId): void {\n\t\tthis.next(enabled, structureId);\n\t}\n\n\tonSummariesEnabled(structureId: StructureId): Observable<boolean> {\n\n\t\treturn this.enabled$\n\t\t\t\t   .asObservable()\n\t\t\t\t   .pipe(\n\t\t\t\t\t   this.takeUntil(),\n\t\t\t\t\t   map((map: Map<string, boolean>) => {\n\t\t\t\t\t\t   return map.get(structureId.toString());\n\t\t\t\t\t   }),\n\t\t\t\t\t   distinctUntilChanged()\n\t\t\t\t   );\n\t}\n\n\tprivate next(enabled: boolean, structureId: StructureId): void {\n\t\tthis.enabled.set(structureId.toString(), enabled);\n\t\tthis.enabled$.next(this.enabled);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventHandler, DomainEventType } from '@generic-ui/hermes';\n\nimport { StructureSummariesRepository } from '../../../summaries/core/api/enabled/structure.summaries.repository';\nimport { StructureCreatedEvent } from './structure-created.event';\nimport { StructureId } from '../structure.id';\n\n\n@Injectable()\nexport class StructureCreatedEventHandler implements DomainEventHandler<StructureId, StructureCreatedEvent> {\n\n\tconstructor(private structureSummariesRepository: StructureSummariesRepository) {\n\t}\n\n\tforEvent(): DomainEventType<StructureCreatedEvent> {\n\t\treturn StructureCreatedEvent;\n\t}\n\n\thandle(event: StructureCreatedEvent): void {\n\n\t\tif (event.ofMessageType('StructureCreatedEvent')) {\n\n\t\t\tconst structureId = event.getAggregateId();\n\n\t\t\tthis.structureSummariesRepository.init(structureId);\n\n\t\t}\n\n\t}\n\n}\n","import { Provider } from '@angular/core';\nimport { HermesModule } from '@generic-ui/hermes';\nimport {\n\tinMemoryStructureCommandProviders,\n\tinMemoryStructureProviders,\n\tinMemoryStructureReadProviders\n} from '../../../core/infrastructure/in-memory/in-memory.structure.providers';\nimport { StructureCommandInvoker } from '../../../core/api/structure.command-invoker';\nimport { StructureReadModelRootConverter } from './read/structure.read-model-root-converter';\nimport { StructureAggregateFactory } from '../../../core/domain/structure.aggregate-factory';\nimport { StructureWarehouse } from './structure.warehouse';\nimport { StructureCreatedEventHandler } from '../../../core/domain/create-structure/structure-created.event-handler';\nimport { StructureDomainCommandInvoker } from '../../../core/domain/structure.domain-command-invoker';\n\n\nconst commandProviders = [\n\t...inMemoryStructureCommandProviders\n];\n\nconst readProviders = [\n\t...inMemoryStructureReadProviders\n];\n\nexport const structureCommandHandlers: Array<Provider> = [];\n\nexport const structureDomainEventHandlers = [\n\n\t...HermesModule.registerDomainEventHandler(StructureCreatedEventHandler)\n];\n\nexport const structureProviders = [\n\t...inMemoryStructureProviders,\n\n\t...commandProviders,\n\t...readProviders,\n\n\tStructureAggregateFactory,\n\tStructureReadModelRootConverter,\n\n\tStructureWarehouse,\n\t{\n\t\tprovide: StructureCommandInvoker,\n\t\tuseClass: StructureDomainCommandInvoker\n\t}\n\n];\n","import { Logger } from './logger';\n\nexport class ConsoleLogger extends Logger {\n\n\twarn(text: string): void {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.warn(text);\n\t}\n\n\terror(text: string): void {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.error(text);\n\t}\n\n}\n","import { NgModule } from '@angular/core';\nimport { Logger } from './logger';\nimport { ConsoleLogger } from './console.logger';\n\n\n@NgModule({\n\tproviders: [{\n\t\tprovide: Logger,\n\t\tuseClass: ConsoleLogger\n\t}]\n})\nexport class LoggerModule {\n}\n","import { Injectable } from '@angular/core';\n\nimport { ItemEntity } from './item.entity';\nimport { OriginItemEntity } from '../../origin/origin-item-entity';\n\n@Injectable()\nexport class ItemEntityFactory {\n\n\tcreate(source: any): ItemEntity;\n\tcreate(source: Array<any>): Array<ItemEntity>;\n\tcreate(source: any): any {\n\n\t\tif (Array.isArray(source)) {\n\t\t\treturn this.createEntities(source);\n\t\t} else {\n\t\t\treturn this.createEntity(source);\n\t\t}\n\t}\n\n\tcreateEntities(source: Array<any>): Array<ItemEntity> {\n\t\treturn source.map((source: any) => this.createEntity(source));\n\t}\n\n\tprivate createEntity(originItem: OriginItemEntity | any): ItemEntity {\n\n\t\tif (originItem instanceof OriginItemEntity) {\n\t\t\treturn new ItemEntity(originItem.rawData, originItem.getPosition(), originItem.getId().toString(), originItem.getVersion());\n\t\t} else {\n\t\t\treturn new ItemEntity(originItem, 0);\n\t\t}\n\t}\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, ViewEncapsulation } from '@angular/core';\n\nimport { SmartComponent } from '../../../../../common/cdk/component/smart-component';\n\n@Component({\n\tselector: 'div[gui-structure-top-panel]',\n\ttemplate: `\n\n\t\t<div gui-search-bar\n\t\t\t class=\"gui-flex gui-items-center gui-h-full gui-w-3/5 gui-mr-auto\"></div>\n\t\t<!--\t\t<gui-filter-menu-trigger></gui-filter-menu-trigger>-->\n\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureTopPanelComponent extends SmartComponent {\n\n\tconstructor(private readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\telementRef: ElementRef) {\n\t\tsuper(changeDetectorRef, elementRef);\n\t\tthis.addClassToHost('gui-p-6');\n\t\tthis.addClassToHost('gui-border-b');\n\t\tthis.addClassToHost('gui-border-b-solid');\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-structure-top-panel';\n\t}\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\n\nimport { StructureTopPanelComponent } from './structure.top-panel.component';\nimport { FilterMenuFeatureModule } from '../../../../filter/feature/menu/filter-menu.feature-module';\n\nimport { SearchFeatureModule } from '../../../../search/feature/search.feature-module';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tReactiveFormsModule,\n\t\tFilterMenuFeatureModule,\n\t\tSearchFeatureModule\n\t],\n\tdeclarations: [\n\t\tStructureTopPanelComponent\n\t],\n\texports: [\n\t\tStructureTopPanelComponent\n\t]\n})\nexport class StructureTopPanelModule {\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, Input, OnInit, ViewChild, ViewEncapsulation } from '@angular/core';\n\nimport { CellTemplateWithContext } from '../../../../../composition/core/domain-read/definition/cell-template-with-context';\nimport { StructureCommandInvoker } from '../../../../core/api/structure.command-invoker';\nimport { StructureColumnConfigService } from './structure.column-config.service';\nimport { StructureColumnMenuConfig } from './config/structure.column-menu-config';\nimport { SmartComponent } from '../../../../../common/cdk/component/smart-component';\nimport { StructureColumnMenuConfigArchive } from './config/structure.column-menu-config.archive';\n\n\n@Component({\n\tselector: 'gui-structure-column-config-trigger',\n\ttemplate: `\n\t\t<div #headerDialogContainer\n\t\t\t *ngIf=\"isEnabled()\"\n\t\t\t class=\"gui-header-menu-icon-wrapper\"\n\t\t\t (click)=\"openConfigDialog()\">\n\n\t\t\t<gui-structure-column-menu-icon [ngClass]=\"'gui-header-menu-icon'\"></gui-structure-column-menu-icon>\n\n\t\t</div>\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureColumnConfigTriggerComponent extends SmartComponent implements OnInit {\n\n\t@ViewChild('headerDialogContainer', { static: false })\n\theaderDialogContainer: ElementRef;\n\n\t@Input()\n\tcolumn: CellTemplateWithContext;\n\n\tconfig: StructureColumnMenuConfig;\n\n\tconstructor(private readonly elementRef: ElementRef,\n\t\t\t\tprivate readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\tprivate readonly structureCommandService: StructureCommandInvoker,\n\t\t\t\tprivate readonly structureColumnMenuConfigArchive: StructureColumnMenuConfigArchive,\n\t\t\t\tprivate readonly structureColumnConfigService: StructureColumnConfigService) {\n\t\tsuper(changeDetectorRef, elementRef);\n\t}\n\n\tngOnInit() {\n\t\tthis.structureColumnMenuConfigArchive\n\t\t\t.on()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((config: StructureColumnMenuConfig) => {\n\t\t\t\tthis.config = config;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\t}\n\n\topenConfigDialog(): void {\n\t\tthis.structureColumnConfigService.open(this.headerDialogContainer, this.column);\n\t}\n\n\tcloseConfigDialog(): void {\n\t\tthis.structureColumnConfigService.close();\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.config && this.config.isEnabled();\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-structure-column-config-trigger';\n\t}\n\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, Input, OnInit, ViewEncapsulation } from '@angular/core';\n\nimport { Placement } from '@generic-ui/fabric';\n\nimport { SortOrder } from '../../../../../../../composition/core/domain/column/sort/sort-order';\nimport { CellTemplateWithContext } from '../../../../../../../composition/core/domain-read/definition/cell-template-with-context';\nimport { CompositionWarehouse } from '../../../../../../../composition/core/api/composition.warehouse';\nimport { SmartComponent } from '../../../../../../../common/cdk/component/smart-component';\nimport { SortingCommandInvoker } from '../../../../../../sorting/core/api/sorting.command-invoker';\nimport { CompositionId } from '../../../../../../../composition/core/domain/composition.id';\nimport { StructureId } from '../../../../../../core/domain/structure.id';\n\n@Component({\n\tselector: 'gui-structure-column-config-sort',\n\ttemplate: `\n\n\t\t<gui-dropdown [placement]=\"placement\"\n\t\t\t\t\t  [dropdownText]=\"dropdownTextTranslation\"\n\t\t\t\t\t  [width]=\"225\"\n\t\t\t\t\t  [showOnHover]=\"true\"\n\t\t\t\t\t  class=\"gui-header-menu-dropdown\">\n\n\t\t\t<gui-dropdown-item (click)=\"setSortOrder(status.ASC)\"\n\t\t\t\t\t\t\t   [class.gui-header-item-active]=\"isAscSort()\">\n\t\t\t\t<div class=\"gui-sort-title\">\n\t\t\t\t\t{{'headerMenuMainTabColumnSortAscending' | guiTranslate}}\n\t\t\t\t\t<gui-structure-column-menu-arrow-icon [sort]=\"true\" [rotateDeg]=\"0\">\n\t\t\t\t\t</gui-structure-column-menu-arrow-icon>\n\t\t\t\t</div>\n\t\t\t</gui-dropdown-item>\n\n\t\t\t<gui-dropdown-item (click)=\"setSortOrder(status.DESC)\"\n\t\t\t\t\t\t\t   [class.gui-header-item-active]=\"isDescSort()\">\n\t\t\t\t<div class=\"gui-sort-title\">\n\t\t\t\t\t{{'headerMenuMainTabColumnSortDescending' | guiTranslate}}\n\t\t\t\t\t<gui-structure-column-menu-arrow-icon [sort]=\"true\" [rotateDeg]=\"180\">\n\t\t\t\t\t</gui-structure-column-menu-arrow-icon>\n\t\t\t\t</div>\n\t\t\t</gui-dropdown-item>\n\n\t\t\t<gui-dropdown-item (click)=\"setSortOrder(status.NONE)\"\n\t\t\t\t\t\t\t   [class.gui-header-item-active]=\"isNoneSort()\">\n\t\t\t\t{{'headerMenuMainTabColumnSortNone' | guiTranslate}}\n\t\t\t</gui-dropdown-item>\n\n\t\t</gui-dropdown>\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureColumnConfigSortComponent extends SmartComponent implements OnInit {\n\n\t@Input()\n\tcolumn: CellTemplateWithContext;\n\n\t@Input()\n\tdropdownTextTranslation: string;\n\n\tplacement: Placement = Placement.Right;\n\n\tstatus = SortOrder;\n\n\tsortStatus: SortOrder;\n\n\tconstructor(private readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\telementRef: ElementRef,\n\t\t\t\tprivate readonly compositionId: CompositionId,\n\t\t\t\tprivate readonly structureId: StructureId,\n\t\t\t\tprivate readonly sortingCommandDispatcher: SortingCommandInvoker,\n\t\t\t\tprivate readonly compositionReadModelService: CompositionWarehouse) {\n\t\tsuper(changeDetectorRef, elementRef);\n\t}\n\n\tngOnInit() {\n\t\tthis.sortStatus = this.column.getSortStatus();\n\n\t\tthis.compositionReadModelService\n\t\t\t.onSortOrder(this.column.getFieldId())\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((sortStatus: SortOrder) => {\n\t\t\t\tthis.sortStatus = sortStatus;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\t}\n\n\tisAscSort(): boolean {\n\t\treturn this.sortStatus === SortOrder.ASC;\n\t}\n\n\tisDescSort(): boolean {\n\t\treturn this.sortStatus === SortOrder.DESC;\n\t}\n\n\tisNoneSort(): boolean {\n\t\treturn this.sortStatus === SortOrder.NONE;\n\t}\n\n\tsetSortOrder(sort: SortOrder): void {\n\t\tevent.stopPropagation();\n\t\tthis.sortingCommandDispatcher.setSortOrder(this.column.getFieldId(), sort, this.compositionId, this.structureId);\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-structure-column-config-sort';\n\t}\n}\n","import { Component, Input } from '@angular/core';\n\nimport { CellTemplateWithContext } from '../../../../../../../composition/core/domain-read/definition/cell-template-with-context';\nimport { CompositionCommandInvoker } from '../../../../../../../composition/core/api/composition.command-invoker';\nimport { StructureColumnConfigService } from '../../structure.column-config.service';\n\n\n@Component({\n\tselector: 'gui-structure-column-config-column-hide',\n\ttemplate: `\n\t\t<div class=\"gui-header-menu-item\"\n\t\t\t (click)=\"hideColumn(column)\">\n\t\t\t{{'headerMenuMainTabHideColumn' | guiTranslate}}\n\t\t</div>\n\t`\n})\nexport class StructureColumnConfigColumnHideComponent {\n\n\t@Input()\n\tcolumn: CellTemplateWithContext;\n\n\tconstructor(private compositionCommandService: CompositionCommandInvoker,\n\t\t\t\tprivate structureColumnConfigService: StructureColumnConfigService) {\n\t}\n\n\thideColumn(column: CellTemplateWithContext): void {\n\t\tthis.compositionCommandService.disableColumn(column.getColumnDefinitionId());\n\n\t\tthis.structureColumnConfigService.close();\n\t}\n\n}\n","import { Component, Input } from '@angular/core';\n\nimport { CellTemplateWithContext } from '../../../../../../../composition/core/domain-read/definition/cell-template-with-context';\nimport { CompositionCommandInvoker } from '../../../../../../../composition/core/api/composition.command-invoker';\nimport { StructureColumnConfigService } from '../../structure.column-config.service';\n\n@Component({\n\tselector: 'gui-structure-column-config-column-move',\n\ttemplate: `\n\t\t<div class=\"gui-header-menu-column-move\">\n\t\t\t<div class=\"gui-header-menu-column-move-item left\"\n\t\t\t\t (click)=\"moveLeft(column)\">\n\t\t\t\t<gui-structure-column-menu-arrow-icon [rotateDeg]=\"-90\"></gui-structure-column-menu-arrow-icon>\n\t\t\t\t{{'headerMenuMainTabMoveLeft' | guiTranslate}}\n\t\t\t</div>\n\n\t\t\t<div class=\"gui-header-menu-column-move-item right\"\n\t\t\t\t (click)=\"moveRight(column)\">\n\t\t\t\t{{'headerMenuMainTabMoveRight' | guiTranslate}}\n\t\t\t\t<gui-structure-column-menu-arrow-icon></gui-structure-column-menu-arrow-icon>\n\t\t\t</div>\n\t\t</div>\n\t`\n})\nexport class StructureColumnConfigColumnMoveComponent {\n\n\t@Input()\n\tcolumn: CellTemplateWithContext;\n\n\tconstructor(private compositionCommandService: CompositionCommandInvoker,\n\t\t\t\tprivate structureColumnConfigService: StructureColumnConfigService) {\n\t}\n\n\tmoveLeft(column: CellTemplateWithContext): void {\n\t\tthis.compositionCommandService.moveLeft(column.getColumnDefinitionId());\n\t\tthis.structureColumnConfigService.close();\n\t}\n\n\tmoveRight(column: CellTemplateWithContext): void {\n\t\tthis.compositionCommandService.moveRight(column.getColumnDefinitionId());\n\t\tthis.structureColumnConfigService.close();\n\t}\n\n}\n","import { ChangeDetectionStrategy, Component, ViewEncapsulation } from '@angular/core';\n\n\n@Component({\n\tselector: 'gui-structure-column-menu-icon',\n\ttemplate: `\n\t\t<svg data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 10.32 7.46\">\n\t\t\t<line class=\"cls-1\" x1=\"9.57\" y1=\"3.73\" x2=\"0.75\" y2=\"3.73\"/>\n\t\t\t<line class=\"cls-1\" x1=\"9.57\" y1=\"0.75\" x2=\"0.75\" y2=\"0.75\"/>\n\t\t\t<line class=\"cls-1\" x1=\"9.57\" y1=\"6.71\" x2=\"0.75\" y2=\"6.71\"/>\n\t\t</svg>\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None,\n\thost: {\n\t\t'[class.gui-structure-column-menu-icon]': 'true',\n\t\t'[class.gui-icon]': 'true'\n\t}\n})\nexport class StructureColumnMenuIconComponent {\n}\n","import { ChangeDetectionStrategy, Component, ElementRef, Input, ViewEncapsulation } from '@angular/core';\nimport { PureComponent } from '../../../../../../common/cdk/component/pure-component';\n\n\n@Component({\n\tselector: 'gui-structure-column-menu-arrow-icon',\n\ttemplate: `\n\t\t<div [style.transform]=\"'rotate(' + rotateDeg + 'deg)'\"\n\t\t\t [class.gui-structure-column-menu-sort-icon]=\"sort\">\n\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 10.04 11.72\">\n\t\t\t\t<line class=\"cls-1\" x1=\"5.02\" y1=\"2.15\" x2=\"5.02\" y2=\"10.97\"/>\n\t\t\t\t<line class=\"cls-1\" x1=\"5.02\" y1=\"0.75\" x2=\"9.29\" y2=\"5.02\"/>\n\t\t\t\t<line class=\"cls-1\" x1=\"5.02\" y1=\"0.75\" x2=\"0.75\" y2=\"5.02\"/>\n\t\t\t</svg>\n\t\t</div>\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureColumnMenuArrowIconComponent extends PureComponent {\n\n\t@Input()\n\trotateDeg: number = 90;\n\n\t@Input()\n\tsort: boolean;\n\n\tconstructor(elementRef: ElementRef) {\n\t\tsuper(elementRef);\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-structure-column-menu-arrow-icon';\n\t}\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, Input, OnInit, ViewEncapsulation } from '@angular/core';\n\nimport { SmartComponent } from '../../../../common/cdk/component/smart-component';\nimport { FieldId } from '../../../field/core/domain/field/field.id';\nimport { UniqueValuesReadModel } from '../../core/api/unique/unique-values.read-model';\nimport { StructureId } from '../../../core/domain/structure.id';\nimport { FilterWarehouse } from '../../core/api/filter.warehouse';\nimport { UniqueValueReadModel } from '../../core/api/unique/unique-value.read-model';\nimport { FilterCommandInvoker } from '../../core/api/filter.command-invoker';\n\n@Component({\n\tselector: 'div[gui-unique-value-list][fieldId]',\n\ttemplateUrl: './unique-value-list.component.html',\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None,\n\tstyleUrls: [\n\t\t'../style/unique-value-list.ngx.scss'\n\t]\n})\nexport class UniqueValueListComponent extends SmartComponent implements OnInit {\n\n\t@Input()\n\tfieldId: FieldId;\n\n\tselectAllChecked: boolean;\n\n\tselectAllIndeterminate: boolean;\n\n\tuniqueValues: Array<UniqueValueReadModel> = [];\n\n\tconstructor(private readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\telementRef: ElementRef,\n\t\t\t\tprivate readonly structureId: StructureId,\n\t\t\t\tprivate readonly filterWarehouse: FilterWarehouse,\n\t\t\t\tprivate readonly filterCommandDispatcher: FilterCommandInvoker) {\n\t\tsuper(changeDetectorRef, elementRef);\n\t}\n\n\tngOnInit() {\n\n\t\tthis.filterWarehouse\n\t\t\t.onUniqueValues(this.structureId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((uniqueValuesReadModel: UniqueValuesReadModel) => {\n\t\t\t\tthis.uniqueValues = uniqueValuesReadModel.getValues(this.fieldId);\n\n\t\t\t\tthis.selectAllChecked = uniqueValuesReadModel.isSelectAllChecked(this.fieldId);\n\t\t\t\tthis.selectAllIndeterminate = uniqueValuesReadModel.isIndeterminate(this.fieldId);\n\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\t}\n\n\ttoggleAllSelect(): void {\n\t\tevent.stopPropagation();\n\n\t\tif (this.selectAllChecked) {\n\t\t\tthis.filterCommandDispatcher.unselectAllUniqueFilter(this.fieldId, this.structureId);\n\t\t} else {\n\t\t\tthis.filterCommandDispatcher.selectAllUniqueFilter(this.fieldId, this.structureId);\n\t\t}\n\t}\n\n\ttoggleSelect(uniqueValueReadModel: UniqueValueReadModel): void {\n\t\tevent.stopPropagation();\n\n\t\tif (uniqueValueReadModel.isEnabled()) {\n\t\t\tthis.filterCommandDispatcher.unselectUniqueFilter(this.fieldId, uniqueValueReadModel.getId(), this.structureId);\n\t\t} else {\n\t\t\tthis.filterCommandDispatcher.selectUniqueFilter(this.fieldId, uniqueValueReadModel.getId(), this.structureId);\n\t\t}\n\t}\n\n\tclearFilters(): void {\n\t\tthis.filterCommandDispatcher.selectAllUniqueFilter(this.fieldId, this.structureId);\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-unique-value-list';\n\t}\n\n}\n","import { NgModule, Optional, Provider } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { FeatureModule } from '@generic-ui/hermes';\n\nimport { UniqueValueListComponent } from './unique-value-list.component';\nimport { FilterApiModule } from '../../core/api/filter.api-module';\nimport { fabricImports } from '../../../grid/feature/structure-fabric.imports';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tfabricImports,\n\t\tFilterApiModule\n\t],\n\tdeclarations: [\n\t\tUniqueValueListComponent\n\t],\n\texports: [\n\t\tUniqueValueListComponent\n\t]\n})\nexport class UniqueValueListModule extends FeatureModule {\n\n\tstatic forComponent(): Array<Provider> {\n\t\treturn [];\n\t}\n\n\tconstructor(@Optional() filterApiModule: FilterApiModule) {\n\t\tsuper();\n\t\tif (filterApiModule === null) {\n\t\t\tthrow new Error('FilterApiModule is required.');\n\t\t}\n\t}\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { StructureColumnConfigComponent } from './structure.column-config.component';\nimport { StructureColumnConfigTriggerComponent } from './structure.column-config-trigger.component';\nimport { StructureColumnConfigSortComponent } from './main/sort/structure.column-config-sort.component';\nimport { StructureColumnConfigColumnHideComponent } from './main/hide/structure.column-config-column-hide.component';\nimport { StructureColumnConfigColumnMoveComponent } from './main/move/structure.column-config-column-move.component';\nimport { fabricImports } from '../../structure-fabric.imports';\nimport { StructureColumnManagerModule } from '../../column-manager/structure.column-manager.module';\nimport { StructureColumnMenuIconComponent } from './icon/structure.column-menu-icon.component';\nimport { StructureColumnMenuArrowIconComponent } from './icon/structure.column-menu-arrow-icon.component';\nimport { UniqueValueListModule } from '../../../../filter/feature/unique/unique-value-list.module';\nimport { TranslationFeatureModule } from '../../../../../l10n/feature/translation.feature-module';\n\nconst declarations = [\n\tStructureColumnConfigComponent,\n\tStructureColumnConfigTriggerComponent,\n\tStructureColumnConfigSortComponent,\n\tStructureColumnConfigColumnHideComponent,\n\tStructureColumnConfigColumnMoveComponent,\n\tStructureColumnMenuIconComponent,\n\tStructureColumnMenuArrowIconComponent\n];\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tfabricImports,\n\t\tStructureColumnManagerModule,\n\t\tUniqueValueListModule,\n\t\tTranslationFeatureModule\n\t],\n\tdeclarations: declarations,\n\texports: declarations\n})\nexport class StructureColumnMenuModule {\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { DomainEvent, DomainEventBus, EventRepository } from '@generic-ui/hermes';\n\nimport { StructureId } from '../../../core/domain/structure.id';\nimport { StructureSummariesChangedEvent } from '../domain/structure.summaries-changed.event';\nimport { StructureReadModelRootId } from '../../../grid/core/api/read/structure.read-model-root-id';\n\n\n@Injectable()\nexport class StructureSummariesEventRepository extends EventRepository<StructureReadModelRootId, StructureId> {\n\n\tconstructor(domainEventBus: DomainEventBus) {\n\t\tsuper(domainEventBus);\n\t}\n\n\tonSummariesChanged(structureId: StructureReadModelRootId): Observable<DomainEvent<StructureId>> {\n\t\treturn this.onEvent(structureId, StructureSummariesChangedEvent);\n\t}\n}\n","export class SummariesTranslations {\n\n\tconstructor(readonly distinctTooltip: string,\n\t\t\t\treadonly averageTooltip: string,\n\t\t\t\treadonly minTooltip: string,\n\t\t\t\treadonly maxTooltip: string,\n\t\t\t\treadonly medTooltip: string,\n\t\t\t\treadonly countTooltip: string) {\n\t}\n\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, Input, ViewEncapsulation } from '@angular/core';\n\nimport { CellTemplateWithContext } from '../../../../../composition/core/domain-read/definition/cell-template-with-context';\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { StructureSummariesEventRepository } from '../../../../summaries/core/api/structure-summaries.event-repository';\nimport { CompositionWarehouse } from '../../../../../composition/core/api/composition.warehouse';\nimport { StructureSummariesChangedEvent } from '../../../../summaries/core/domain/structure.summaries-changed.event';\nimport { SmartComponent } from '../../../../../common/cdk/component/smart-component';\nimport { SourceWarehouse } from '../../../../source/core/api/source.warehouse';\nimport { TranslationService } from '../../../../../l10n/core/api/translation.service';\nimport { Translation } from '../../../../../l10n/core/api/translation';\nimport { SummariesTranslations } from './structure.summaries-translations';\n\n\n@Component({\n\tselector: 'div[gui-structure-summaries-panel][enabled]',\n\ttemplate: `\n\n\t\t<ng-container *ngIf=\"enabled && summaries && !sourceEmpty\">\n\n\t\t\t<div *ngFor=\"let column of headerColumns\"\n\t\t\t\t [style.width.px]=\"column.width\"\n\t\t\t\t class=\"gui-structure-summaries-cell\">\n\n\t\t\t\t<ng-container *ngIf=\"summaries && !!summaries.get(column.getFieldId().getId())\">\n\n\t\t\t\t\t<div *ngIf=\"isSummariesTypePresent(summaries.get(column.getFieldId().getId()).count)\"\n\t\t\t\t\t\t class=\"gui-structure-summaries-value\">\n\t\t\t\t\t\t<span [gui-tooltip]=\"summariesTranslations.countTooltip\">{{'summariesCount' | guiTranslate}}</span>\n\t\t\t\t\t\t<span class=\"gui-summaries-value\">{{ summaries.get(column.getFieldId().getId()).count }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf=\"isSummariesTypePresent(summaries.get(column.getFieldId().getId()).distinct)\"\n\t\t\t\t\t\t class=\"gui-structure-summaries-value\">\n\t\t\t\t\t\t<span [gui-tooltip]=\"summariesTranslations.distinctTooltip\">{{'summariesDist' | guiTranslate}}</span>\n\t\t\t\t\t\t<span class=\"gui-summaries-value\">{{ summaries.get(column.getFieldId().getId()).distinct }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf=\" isSummariesTypePresent(summaries.get(column.getFieldId().getId()).sum)\"\n\t\t\t\t\t\t class=\"gui-structure-summaries-value\">\n\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t<!--\t\t\t\t\t\t\t<span [gui-tooltip]=\"'Sum'\" -->\n\t\t\t\t\t\t\t<!--\t\t\t\t\t\t\t\t  class=\"gui-math-symbol\">&sum;</span>-->\n\t\t\t\t\t\t\t{{'summariesSum' | guiTranslate}}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span class=\"gui-summaries-value\">{{ summaries.get(column.getFieldId().getId()).sum }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf=\"isSummariesTypePresent(summaries.get(column.getFieldId().getId()).average)\"\n\t\t\t\t\t\t class=\"gui-structure-summaries-value\">\n\n\t\t\t\t\t\t<!--\t\t\t\t\t\t<div [gui-tooltip]=\"'Average'\"-->\n\t\t\t\t\t\t<!--\t\t\t\t\t\t\t class=\"gui-mean\">-->\n\t\t\t\t\t\t<!--\t\t\t\t\t\t\t<span>_</span><span>X</span>-->\n\t\t\t\t\t\t<!--\t\t\t\t\t\t</div>-->\n\t\t\t\t\t\t<span [gui-tooltip]=\"summariesTranslations.averageTooltip\">{{'summariesAvg' | guiTranslate}}</span>\n\t\t\t\t\t\t<span class=\"gui-summaries-value\">{{ summaries.get(column.getFieldId().getId()).average }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf=\" isSummariesTypePresent(summaries.get(column.getFieldId().getId()).min)\"\n\t\t\t\t\t\t class=\"gui-structure-summaries-value\">\n\n\t\t\t\t\t\t<!--\t\t\t\t\t\t<div [gui-tooltip]=\"'Min'\">-->\n\t\t\t\t\t\t<!--\t\t\t\t\t\t\t<span class=\"gui-math-symbol\">&and;</span>-->\n\t\t\t\t\t\t<!--\t\t\t\t\t\t</div>-->\n\t\t\t\t\t\t<span [gui-tooltip]=\"summariesTranslations.minTooltip\">\n\t\t\t\t\t\t\t{{'summariesMin' | guiTranslate}}\n\t\t\t\t\t\t</span>\n\n\t\t\t\t\t\t<span class=\"gui-summaries-value\">{{ summaries.get(column.getFieldId().getId()).min }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf=\" isSummariesTypePresent(summaries.get(column.getFieldId().getId()).max)\"\n\t\t\t\t\t\t class=\"gui-structure-summaries-value\">\n\n\t\t\t\t\t\t<!--\t\t\t\t\t\t<div [gui-tooltip]=\"'Max'\">-->\n\t\t\t\t\t\t<!--\t\t\t\t\t\t\t<span class=\"gui-math-symbol\">&or;</span>-->\n\t\t\t\t\t\t<!--\t\t\t\t\t\t</div>-->\n\n\t\t\t\t\t\t<span [gui-tooltip]=\"summariesTranslations.maxTooltip\">\n\t\t\t\t\t\t\t{{'summariesMax' | guiTranslate}}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span class=\"gui-summaries-value\">{{ summaries.get(column.getFieldId().getId()).max }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf=\"isSummariesTypePresent(summaries.get(column.getFieldId().getId()).median)\"\n\t\t\t\t\t\t class=\"gui-structure-summaries-value\">\n\n\t\t\t\t\t\t<!--\t\t\t\t\t\t<div [gui-tooltip]=\"'Median'\"-->\n\t\t\t\t\t\t<!--\t\t\t\t\t\t\t class=\"gui-median\">-->\n\t\t\t\t\t\t<!--\t\t\t\t\t\t\t<span>~</span>-->\n\t\t\t\t\t\t<!--\t\t\t\t\t\t\t<span>X</span>-->\n\t\t\t\t\t\t<!--\t\t\t\t\t\t</div>-->\n\n\t\t\t\t\t\t<span [gui-tooltip]=\"summariesTranslations.medTooltip\">{{'summariesMed' | guiTranslate}}</span>\n\t\t\t\t\t\t<span class=\"gui-summaries-value\">{{ summaries.get(column.getFieldId().getId()).median }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf=\"isSummariesTypePresent(summaries.get(column.getFieldId().getId()).truthy)\"\n\t\t\t\t\t\t class=\"gui-structure-summaries-value\">\n\t\t\t\t\t\t<span>{{'summariesTruthy' | guiTranslate}}</span>\n\t\t\t\t\t\t<span class=\"gui-summaries-value\">{{ summaries.get(column.getFieldId().getId()).truthy }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf=\"isSummariesTypePresent(summaries.get(column.getFieldId().getId()).falsy)\"\n\t\t\t\t\t\t class=\"gui-structure-summaries-value\">\n\t\t\t\t\t\t<span>{{'summariesFalsy' | guiTranslate}}</span>\n\t\t\t\t\t\t<span class=\"gui-summaries-value\">{{ summaries.get(column.getFieldId().getId()).falsy }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t</ng-container>\n\t\t\t</div>\n\n\t\t</ng-container>\n\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureSummariesPanelComponent extends SmartComponent {\n\n\t@Input()\n\tenabled: boolean;\n\n\tsourceEmpty: boolean = false;\n\n\theaderColumns: Array<CellTemplateWithContext>;\n\n\tsummaries: Map<string, any>;\n\n\tsummariesTranslations: SummariesTranslations;\n\n\tconstructor(private readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\telementRef: ElementRef,\n\t\t\t\tprivate readonly structureId: StructureId,\n\t\t\t\tprivate readonly structureSummariesUiEventsRepository: StructureSummariesEventRepository,\n\t\t\t\tprivate readonly translationService: TranslationService,\n\t\t\t\tprivate readonly sourceReadModelService: SourceWarehouse,\n\t\t\t\tprivate readonly compositionReadModelService: CompositionWarehouse) {\n\t\tsuper(changeDetectorRef, elementRef);\n\n\t\tthis.addClassToHost('gui-flex');\n\n\t\tthis.structureSummariesUiEventsRepository\n\t\t\t.onSummariesChanged(this.structureId.toReadModelRootId())\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((event: StructureSummariesChangedEvent) => {\n\t\t\t\tthis.summaries = event.getSummaries();\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\t}\n\n\tngOnInit() {\n\n\t\tthis.sourceReadModelService\n\t\t\t.onEntitiesSize()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((size: number) => {\n\t\t\t\tthis.sourceEmpty = size === 0;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.compositionReadModelService\n\t\t\t.onHeaderColumns()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((columns: Array<CellTemplateWithContext>) => {\n\t\t\t\tthis.headerColumns = columns;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.translationService\n\t\t\t.onTranslation()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((translation: Translation) => {\n\t\t\t\tthis.summariesTranslations = new SummariesTranslations(\n\t\t\t\t\ttranslation.summariesDistinctValuesTooltip,\n\t\t\t\t\ttranslation.summariesAverageTooltip,\n\t\t\t\t\ttranslation.summariesMinTooltip,\n\t\t\t\t\ttranslation.summariesMaxTooltip,\n\t\t\t\t\ttranslation.summariesMedTooltip,\n\t\t\t\t\ttranslation.summariesCountTooltip);\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\t}\n\n\tisSummariesTypePresent(summaries: number): boolean {\n\t\treturn summaries !== undefined && summaries !== null;\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-structure-summaries-panel';\n\t}\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { FabricModule } from '@generic-ui/fabric';\n\nimport { StructureSummariesArchive } from './structure.summaries.archive';\nimport { StructureSummariesConfigService } from './structure.summaries-config.service';\nimport { StructureSummariesPanelConfigConverter } from './structure.summaries-panel.config-converter';\nimport { StructureSummariesPanelComponent } from './structure.summaries-panel.component';\nimport { TranslationFeatureModule } from '../../../../../l10n/feature/translation.feature-module';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tFabricModule,\n\t\tTranslationFeatureModule\n\t],\n\tdeclarations: [\n\t\tStructureSummariesPanelComponent\n\t],\n\texports: [\n\t\tStructureSummariesPanelComponent\n\t],\n\tproviders: [\n\t\tStructureSummariesArchive,\n\t\tStructureSummariesConfigService,\n\t\tStructureSummariesPanelConfigConverter\n\t]\n})\nexport class StructureSummariesPanelModule {\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateRepository, CommandType, CreateAggregateCommandHandler, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { StructureAggregateRepository } from '../structure-aggregate.repository';\nimport { CreateStructureCommand } from './create-structure.command';\nimport { StructureCreatedEvent } from './structure-created.event';\nimport { StructureAggregate } from '../structure.aggregate';\nimport { StructureId } from '../structure.id';\n\n\n@Injectable()\nexport class CreateStructureCommandHandler implements CreateAggregateCommandHandler<StructureAggregate, CreateStructureCommand> {\n\n\tconstructor(private readonly structureAggregateRepository: StructureAggregateRepository,\n\t\t\t\tprivate domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<CreateStructureCommand> | any {\n\t\treturn CreateStructureCommand;\n\t}\n\n\tgetAggregateRepository(): AggregateRepository<StructureId, StructureAggregate> {\n\t\treturn this.structureAggregateRepository;\n\t}\n\n\tpublishDomainEvents(aggregate: StructureAggregate, command: CreateStructureCommand): void {\n\t\tthis.domainEventPublisher.publish(new StructureCreatedEvent(command.getAggregateId()));\n\t}\n\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, Input, OnChanges, ViewChild, ViewEncapsulation } from '@angular/core';\n\nimport { CellTemplateWithAccessor } from '../../../../../../composition/core/domain-read/definition/cell-template-with-accessor';\nimport { ChangedValueEmitter } from '../../../../../../composition/core/domain-read/edit/changed-value.emitter';\nimport { EditEventType } from '../../../../../../composition/core/domain-read/edit/state/edit.event-type';\nimport { ItemEntity } from '../../../../../source/core/domain/core/item/item.entity';\nimport { SmartComponent } from '../../../../../../common/cdk/component/smart-component';\nimport { StructureEditSourceItemParams } from '../../../../../source/core/domain/origin/edit/structure.edit-source-item.params';\nimport { SourceCommandInvoker } from '../../../../../source/core/api/source.command-invoker';\nimport { StructureCellEditState } from '../../../edit/structure.cell-edit.state';\nimport { NgChanges } from '../../../../../../common/cdk/component/ng-changes';\n\n@Component({\n\tselector: 'div[gui-structure-cell-edit][entity][cell]',\n\ttemplate: `\n\n\t\t<span #cellContainer>\n\t\t\t<ng-container\n\t\t\t\t\t*ngTemplateOutlet=\"cell.editTemplate;\n\t\t\t\t\t\t\t\t\tcontext: editContext\">\n\t\t\t</ng-container>\n\t\t</span>\n\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureCellEditComponent extends SmartComponent implements OnChanges {\n\n\t@ViewChild('cellContainer', { static: true })\n\tcellContainerRef: ElementRef;\n\n\t@Input()\n\tentity: ItemEntity;\n\n\t@Input()\n\tcell: CellTemplateWithAccessor;\n\n\teditContext: any;\n\n\tvalueChanges$: ChangedValueEmitter<any>;\n\n\tstatus$: ChangedValueEmitter<any>;\n\n\tactualValue: any;\n\n\tconstructor(private readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\telementRef: ElementRef,\n\t\t\t\tprivate readonly sourceCommandService: SourceCommandInvoker) {\n\t\tsuper(changeDetectorRef, elementRef);\n\t}\n\n\tngOnChanges(changes: NgChanges<StructureCellEditComponent>) {\n\n\t\tif (changes.entity !== null && changes.entity !== undefined) {\n\t\t\tthis.initEditContext();\n\t\t}\n\n\t\tif (changes.cell !== null && changes.cell !== undefined) {\n\t\t\tthis.initEditContext();\n\t\t}\n\t}\n\n\tngOnInit() {\n\t\tthis.initEditContext();\n\t}\n\n\tsubmitChangesAndExit(): void {\n\n\t\tconst itemId = this.entity.getId(),\n\t\t\tupdatedValue = this.actualValue,\n\t\t\tfieldId = this.cell.columnFieldId;\n\n\t\tthis.sourceCommandService.editItem(new StructureEditSourceItemParams(itemId, fieldId, updatedValue));\n\t}\n\n\tprivate initEditContext(): void {\n\t\tthis.valueChanges$ = new ChangedValueEmitter();\n\t\tthis.status$ = new ChangedValueEmitter<EditEventType>();\n\n\t\tthis.editContext = {\n\t\t\tstatus: this.status$,\n\t\t\tvalueChanges: this.valueChanges$,\n\t\t\tvalue: this.cell.getValue(this.entity),\n\t\t\tfocus: false,\n\t\t\tparent: this.cellContainerRef\n\t\t};\n\n\t\tthis.status$\n\t\t\t.on()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((status: EditEventType) => {\n\n\t\t\t\tswitch (status) {\n\t\t\t\t\tcase EditEventType.SUBMIT:\n\t\t\t\t\t\tthis.submitChangesAndExit();\n\t\t\t\t\t\tthis.publishEditSubmit();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase EditEventType.CANCEL:\n\t\t\t\t\t\t// this.exitEditMode();\n\t\t\t\t\t\tthis.publishEditCancel();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tprivate observeValueChanges(): void {\n\n\t\tthis.valueChanges$\n\t\t\t.on()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((value: any) => {\n\t\t\t\tthis.actualValue = value;\n\t\t\t});\n\t}\n\n\tprivate publishEditState(state: StructureCellEditState): void {\n\t\t// this.structureCellEditStore.next(state);\n\t}\n\n\tprivate publishEditEnter(): void {\n\t\tthis.publishEditState(StructureCellEditState.ENTER);\n\t}\n\n\tprivate publishEditCancel(): void {\n\t\tthis.publishEditState(StructureCellEditState.CANCEL);\n\t}\n\n\tprivate publishEditSubmit(): void {\n\t\tthis.publishEditState(StructureCellEditState.SUBMIT);\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-structure-cell-edit';\n\t}\n\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, Input, OnChanges, ViewChild, ViewEncapsulation } from '@angular/core';\n\nimport { CellTemplateWithAccessor } from '../../../../../../composition/core/domain-read/definition/cell-template-with-accessor';\nimport { ChangedValueEmitter } from '../../../../../../composition/core/domain-read/edit/changed-value.emitter';\nimport { EditEventType } from '../../../../../../composition/core/domain-read/edit/state/edit.event-type';\nimport { ItemEntity } from '../../../../../source/core/domain/core/item/item.entity';\nimport { SmartComponent } from '../../../../../../common/cdk/component/smart-component';\nimport { StructureEditSourceItemParams } from '../../../../../source/core/domain/origin/edit/structure.edit-source-item.params';\nimport { SourceCommandInvoker } from '../../../../../source/core/api/source.command-invoker';\nimport { NgChanges } from '../../../../../../common/cdk/component/ng-changes';\n\n@Component({\n\tselector: 'div[gui-structure-cell-edit-boolean][entity][cell]',\n\ttemplate: `\n\n\t\t<span #cellContainer>\n\t\t\t<ng-container\n\t\t\t\t\t*ngTemplateOutlet=\"cell.editTemplate;\n\t\t\t\t\t\t\t\t\tcontext: editContext\">\n\t\t\t</ng-container>\n\t\t</span>\n\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureCellEditBooleanComponent extends SmartComponent implements OnChanges {\n\n\t@ViewChild('cellContainer', { static: true })\n\tcellContainerRef: ElementRef;\n\n\t@Input()\n\tentity: ItemEntity;\n\n\t@Input()\n\tcell: CellTemplateWithAccessor;\n\n\teditContext: any;\n\n\tvalueChanges$: ChangedValueEmitter<any>;\n\n\tstatus$: ChangedValueEmitter<any>;\n\n\tactualValue: any;\n\n\tconstructor(private readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\telementRef: ElementRef,\n\t\t\t\tprivate readonly sourceCommandService: SourceCommandInvoker) {\n\t\tsuper(changeDetectorRef, elementRef);\n\t}\n\n\tngOnChanges(changes: NgChanges<StructureCellEditBooleanComponent>) {\n\n\t\tif (changes.entity !== null && changes.entity !== undefined) {\n\t\t\tthis.initEditContext();\n\t\t}\n\n\t\tif (changes.cell !== null && changes.cell !== undefined) {\n\t\t\tthis.initEditContext();\n\t\t}\n\t}\n\n\tngOnInit() {\n\t\tthis.initEditContext();\n\t}\n\n\tprivate submitChanges(): void {\n\t\tconst itemId = this.entity.getId(),\n\t\t\tupdatedValue = this.actualValue,\n\t\t\tfieldId = this.cell.columnFieldId;\n\n\t\tthis.sourceCommandService.editItem(new StructureEditSourceItemParams(itemId, fieldId, updatedValue));\n\t}\n\n\tprivate initEditContext(): void {\n\t\tthis.valueChanges$ = new ChangedValueEmitter();\n\t\tthis.status$ = new ChangedValueEmitter<EditEventType>();\n\n\t\tthis.editContext = {\n\t\t\tstatus: this.status$,\n\t\t\tvalueChanges: this.valueChanges$,\n\t\t\tvalue: this.cell.getValue(this.entity).value,\n\t\t\tfocus: false,\n\t\t\tparent: this.cellContainerRef\n\t\t};\n\n\t\tthis.observeValueChanges();\n\n\t\tthis.status$\n\t\t\t.on()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((status: EditEventType) => {\n\n\t\t\t\tswitch (status) {\n\t\t\t\t\tcase EditEventType.SUBMIT:\n\t\t\t\t\t\tthis.submitChanges();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tprivate observeValueChanges(): void {\n\n\t\tthis.valueChanges$\n\t\t\t.on()\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((value: any) => {\n\t\t\t\tthis.actualValue = value;\n\t\t\t});\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-structure-cell-edit-boolean';\n\t}\n\n}\n","import { SmartComponent } from '../../../../../common/cdk/component/smart-component';\nimport { ChangeDetectorRef, ElementRef, OnInit } from '@angular/core';\nimport { StructureBannerPanelConfig } from './structure-banner-panel.config';\nimport { Observable } from 'rxjs';\n\nexport abstract class StructureBannerPanel extends SmartComponent implements OnInit {\n\n\tbannerPanel: string | (() => string);\n\n\tprotected constructor(changeDetectorRef: ChangeDetectorRef,\n\t\t\t\t\t\t  elementRef: ElementRef) {\n\t\tsuper(changeDetectorRef, elementRef);\n\t}\n\n\tngOnInit() {\n\t\tthis.getBannerPanelConfig()\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((title: StructureBannerPanelConfig) => {\n\n\t\t\t\tthis.bannerPanel = title.template;\n\n\t\t\t\tif (typeof this.bannerPanel === 'function') {\n\t\t\t\t\tthis.bannerPanel = this.bannerPanel();\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tabstract getBannerPanelConfig(): Observable<StructureBannerPanelConfig>\n\n\tabstract getSelectorName(): string\n\n\tabstract getPanelTitle(): string\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, ViewEncapsulation } from '@angular/core';\n\nimport { StructureTitlePanelConfigArchive } from './structure.title-panel.config-archive';\nimport { StructureBannerPanel } from '../structure-banner-panel';\nimport { Observable } from 'rxjs';\nimport { StructureBannerPanelConfig } from '../structure-banner-panel.config';\n\n@Component({\n\tselector: 'div[gui-structure-title-panel]',\n\ttemplate: `\n\t\t<div [innerHTML]=\"bannerPanel | guiSafe: 'html'\"\n\t\t\t class=\"gui-title-panel gui-p-6 gui-border-b gui-border-b-solid\">\n\t\t</div>\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureTitlePanelComponent extends StructureBannerPanel {\n\n\tconstructor(private readonly structureTitlePanelConfigArchive: StructureTitlePanelConfigArchive,\n\t\t\t\tchangeDetectorRef: ChangeDetectorRef,\n\t\t\t\telementRef: ElementRef) {\n\t\tsuper(changeDetectorRef, elementRef);\n\t}\n\n\tgetBannerPanelConfig(): Observable<StructureBannerPanelConfig> {\n\t\treturn this.structureTitlePanelConfigArchive.on();\n\t}\n\n\tgetSelectorName(): string {\n\t\treturn 'gui-structure-title-panel';\n\t}\n\n\tgetPanelTitle(): string {\n\t\treturn 'Title panel';\n\t}\n\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, ViewEncapsulation } from '@angular/core';\n\nimport { StructureFooterPanelConfigArchive } from './structure.footer-panel.config-archive';\nimport { StructureBannerPanel } from '../structure-banner-panel';\nimport { StructureBannerPanelConfig } from '../structure-banner-panel.config';\nimport { Observable } from 'rxjs';\n\n@Component({\n\tselector: 'div[gui-structure-footer-panel]',\n\ttemplate: `\n\t\t<div [innerHTML]=\"bannerPanel | guiSafe: 'html'\"\n\t\t\t class=\"gui-footer-panel gui-p-6 gui-border-t gui-border-t-solid\">\n\t\t</div>\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StructureFooterPanelComponent extends StructureBannerPanel {\n\n\tconstructor(private readonly structureFooterPanelConfigArchive: StructureFooterPanelConfigArchive,\n\t\t\t\tchangeDetectorRef: ChangeDetectorRef,\n\t\t\t\telementRef: ElementRef) {\n\t\tsuper(changeDetectorRef, elementRef);\n\t}\n\n\tgetBannerPanelConfig(): Observable<StructureBannerPanelConfig> {\n\t\treturn this.structureFooterPanelConfigArchive.on();\n\t}\n\n\tgetSelectorName(): string {\n\t\treturn 'gui-structure-footer-panel';\n\t}\n\n\tgetPanelTitle(): string {\n\t\treturn 'Footer panel';\n\t}\n}\n","import { Directive, Input, OnChanges } from '@angular/core';\n\nimport { SchemaTheme } from '../../../../../schema/core/api/theme/schema-theme';\nimport { SchemaCommandInvoker } from '../../../../../schema/core/api/schema.command-invoker';\nimport { NgChanges } from '../../../../../common/cdk/component/ng-changes';\n\n@Directive({\n\tselector: 'gui-structure[theme2]'\n})\nexport class StructureThemeGateway implements OnChanges {\n\n\t@Input()\n\ttheme2: SchemaTheme;\n\n\tconstructor(private readonly schemaCommandDispatcher: SchemaCommandInvoker) {\n\t}\n\n\tngOnChanges(changes: NgChanges<StructureThemeGateway>): void {\n\n\t\tif (changes.theme2 !== undefined && changes.theme2.currentValue !== undefined) {\n\t\t\tthis.schemaCommandDispatcher.setTheme(this.theme2);\n\t\t}\n\t}\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, OnInit, ViewEncapsulation } from '@angular/core';\n\nimport { StructureId } from '../../../../../core/domain/structure.id';\nimport { FormationCommandInvoker } from '../../../../../source/core/api/formation/formation.command-invoker';\nimport { SmartComponent } from '../../../../../../common/cdk/component/smart-component';\nimport { FormationWarehouse } from '../../../../../source/core/api/formation/formation.warehouse';\nimport { RowSelectedReadModel } from '../../../../../source/core/api/formation/row-selected.read-model';\nimport { RowSelectionModeRepository } from '../../../../../source/core/api/formation/mode/row-selection-mode.repository';\nimport { RowSelectionMode } from '../../../../../source/core/api/row-selection';\n\n@Component({\n\tselector: 'gui-select-all',\n\ttemplate: `\n\n\t\t<gui-checkbox *ngIf=\"modeMulti\"\n\t\t\t\t\t  [checked]=\"selectAllChecked\"\n\t\t\t\t\t  [indeterminate]=\"selectAllIndeterminate\"\n\t\t\t\t\t  [gui-tooltip]=\"'Select'\"\n\t\t\t\t\t  (changed)=\"toggleSelectAll()\">\n\t\t</gui-checkbox>\n\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class SelectAllComponent extends SmartComponent implements OnInit {\n\n\tselectAllChecked: boolean;\n\n\tselectAllIndeterminate: boolean;\n\n\tmodeMulti: boolean = false;\n\n\tconstructor(private readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\telementRef: ElementRef,\n\t\t\t\tprivate readonly structureId: StructureId,\n\t\t\t\tprivate readonly rowSelectionModeRepository: RowSelectionModeRepository,\n\t\t\t\tprivate readonly formationCommandDispatcher: FormationCommandInvoker,\n\t\t\t\tprivate readonly formationWarehouse: FormationWarehouse) {\n\t\tsuper(changeDetectorRef, elementRef);\n\t}\n\n\tngOnInit() {\n\n\t\tthis.formationWarehouse\n\t\t\t.onMode(this.structureId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((mode: RowSelectionMode) => {\n\t\t\t\tthis.modeMulti = mode === RowSelectionMode.MULTIPLE;\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\n\t\tthis.formationWarehouse\n\t\t\t.onRowSelectedReadModel(this.structureId)\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((rowSelectedReadModel: RowSelectedReadModel) => {\n\t\t\t\tthis.selectAllChecked = rowSelectedReadModel.isAllSelected();\n\t\t\t\tthis.selectAllIndeterminate = rowSelectedReadModel.isIndeterminate();\n\t\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t\t});\n\t}\n\n\ttoggleSelectAll(): void {\n\n\t\tif (this.selectAllIndeterminate) {\n\t\t\tthis.formationCommandDispatcher.unselectAll(this.structureId);\n\t\t} else {\n\n\t\t\tif (this.selectAllChecked) {\n\t\t\t\tthis.formationCommandDispatcher.unselectAll(this.structureId);\n\t\t\t} else {\n\t\t\t\tthis.formationCommandDispatcher.selectAll(this.structureId);\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-select-all';\n\t}\n\n}\n","import { StructureId } from '../../../../core/domain/structure.id';\nimport { StructureDomainEvent } from '../../../../core/domain/structure.domain-event';\n\nexport const StructureSummariesEnabledSetEventName = 'StructureSummariesEnabledSetEvent';\n\nexport class StructureSummariesEnabledSetEvent extends StructureDomainEvent {\n\n\tconstructor(aggregateId: StructureId,\n\t\t\t\tprivate readonly enabled: boolean) {\n\t\tsuper(aggregateId, enabled, StructureSummariesEnabledSetEventName);\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { SourceDomainEventPublisher } from '../../../../source/core/domain/source.domain-event.publisher';\nimport { StructureSetSummariesEnabledCommand } from './structure.set-summaries-enabled.command';\nimport { StructureSummariesEnabledSetEvent } from './structure.summaries-enabled-set.event';\nimport { StructureAggregate } from '../../../../core/domain/structure.aggregate';\n\n\n@Injectable()\nexport class StructureSetSummariesEnabledCommandHandler implements CommandHandler<StructureAggregate, StructureSetSummariesEnabledCommand> {\n\n\tconstructor(private readonly structureSourceDomainEventPublisher: SourceDomainEventPublisher,\n\t\t\t\tprivate domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<StructureSetSummariesEnabledCommand> {\n\t\treturn StructureSetSummariesEnabledCommand;\n\t}\n\n\thandle(structure: StructureAggregate, command: StructureSetSummariesEnabledCommand): void {\n\n\t\tconst enabled = command.isEnabled();\n\n\t\tstructure.setSummariesEnabled(enabled);\n\t}\n\n\tpublish(aggregate: StructureAggregate, command: StructureSetSummariesEnabledCommand): void {\n\n\t\tconst enabled = command.isEnabled(),\n\t\t\taggregateEvents = aggregate.getEvents();\n\n\t\tthis.domainEventPublisher.publish(new StructureSummariesEnabledSetEvent(command.getAggregateId(), enabled));\n\t\tthis.structureSourceDomainEventPublisher.publish(aggregateEvents);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventHandler, DomainEventType } from '@generic-ui/hermes';\n\nimport { StructureSummariesRepository } from './structure.summaries.repository';\nimport { StructureSummariesEnabledSetEvent } from '../../domain/set/structure.summaries-enabled-set.event';\nimport { StructureId } from '../../../../core/domain/structure.id';\n\n\n@Injectable()\nexport class StructureSummariesEnabledSetEventHandler implements DomainEventHandler<StructureId, StructureSummariesEnabledSetEvent> {\n\n\tconstructor(private structureSummariesRepository: StructureSummariesRepository) {\n\t}\n\n\tforEvent(): DomainEventType<StructureSummariesEnabledSetEvent> {\n\t\treturn StructureSummariesEnabledSetEvent;\n\t}\n\n\thandle(event: StructureSummariesEnabledSetEvent): void {\n\n\t\tif (event.ofMessageType('StructureSummariesEnabledSetEvent')) {\n\t\t\tthis.structureSummariesRepository.setEnabled(event.isEnabled(), event.getAggregateId());\n\t\t}\n\n\t}\n\n}\n","import { SummariesValues } from './summaries.values';\nimport { DataType } from '../../../../field/core/domain/field/data/data-type';\nimport { OriginItemEntity } from '../../../../source/core/domain/origin/origin-item-entity';\nimport { SummariesType } from '../summaries.type';\nimport { Field } from '../../../../field/core/domain/field/field';\n\n\nexport abstract class SummariesCalculator<T, A extends SummariesValues> {\n\n\tabstract forDataType(dataType: DataType): boolean;\n\n\tabstract prepare(field: Field): void;\n\n\tabstract postCalculate(field: Field, items: Array<OriginItemEntity>): void;\n\n\tabstract aggregate(field: Field, value: T): void;\n\n\tabstract generateAggregatedValues(field: Field): A;\n\n\tcalculate(fields: Array<Field>, items: Array<OriginItemEntity>): Map<string, A> {\n\n\t\tconst filteredFields = fields.filter((field: Field) => this.forDataType(field.getDataType()));\n\n\t\tif (!filteredFields || filteredFields.length === 0 || items.length === 0) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst count = new Map<string, number>(),\n\t\t\tdistinct = new Map<string, Set<string>>();\n\n\t\t// init\n\t\tfilteredFields.forEach((field: Field) => {\n\n\t\t\tconst key = field.getKey();\n\n\t\t\tcount.set(key, 0);\n\t\t\tdistinct.set(key, new Set());\n\n\t\t\tthis.prepare(field);\n\t\t});\n\n\t\t// calculate\n\t\titems.forEach((item: OriginItemEntity) => {\n\n\t\t\tfilteredFields.forEach((field: Field) => {\n\n\t\t\t\tconst key = field.getKey(),\n\t\t\t\t\tvalue = field.getValue(item);\n\n\t\t\t\tif (value !== null || value !== undefined || value !== '') {\n\n\t\t\t\t\tif (field.isSummaries(SummariesType.COUNT)) {\n\t\t\t\t\t\tconst countForField = count.get(key);\n\t\t\t\t\t\tcount.set(key, countForField + 1);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (field.isSummaries(SummariesType.DISTINCT)) {\n\t\t\t\t\t\tconst distinctSet = distinct.get(key);\n\t\t\t\t\t\tdistinctSet.add(value);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.aggregate(field, value);\n\t\t\t});\n\t\t});\n\n\t\tfilteredFields.forEach((field: Field) => {\n\n\t\t\tthis.postCalculate(field, items);\n\n\t\t});\n\n\t\tconst summaries = new Map();\n\n\t\tfilteredFields.forEach((field: Field) => {\n\n\t\t\tconst key = field.getKey();\n\n\t\t\tconst aggregatedValues = this.generateAggregatedValues(field);\n\n\t\t\tif (field.isSummaries(SummariesType.COUNT)) {\n\t\t\t\taggregatedValues.setCount(count.get(key));\n\t\t\t}\n\n\t\t\tif (field.isSummaries(SummariesType.DISTINCT)) {\n\t\t\t\taggregatedValues.setDistinct((distinct.get(key)).size);\n\t\t\t}\n\n\t\t\tsummaries.set(key, aggregatedValues);\n\t\t});\n\n\t\treturn summaries;\n\t}\n\n}\n","export abstract class SummariesValues {\n\n\tpublic count: number;\n\tpublic distinct: number;\n\n\tsetCount(value: number): void {\n\t\tthis.count = value;\n\t}\n\n\tsetDistinct(value: number): void {\n\t\tthis.distinct = value;\n\t}\n\n}\n","import { SummariesValues } from '../summaries.values';\n\nexport class BooleanSummarizedValues extends SummariesValues {\n\n\tpublic readonly truthy: number;\n\n\tpublic readonly falsy: number;\n\n\tconstructor(truthy: number,\n\t\t\t\tfalsy: number) {\n\t\tsuper();\n\t\tthis.truthy = truthy;\n\t\tthis.falsy = falsy;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { SummariesCalculator } from '../summaries.calculator';\nimport { BooleanSummarizedValues } from './boolean-summarized.values';\n\nimport { DataType } from '../../../../../field/core/domain/field/data/data-type';\nimport { SummariesType } from '../../summaries.type';\nimport { OriginItemEntity } from '../../../../../source/core/domain/origin/origin-item-entity';\nimport { Field } from '../../../../../field/core/domain/field/field';\n\n\n@Injectable()\nexport class BooleanSummariesCalculator extends SummariesCalculator<boolean, BooleanSummarizedValues> {\n\n\tprivate readonly truthy = new Map<string, number>();\n\tprivate readonly falsy = new Map<string, number>();\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tforDataType(dataType: DataType): boolean {\n\t\treturn dataType === DataType.BOOLEAN;\n\t}\n\n\tprepare(field: Field): void {\n\n\t\tconst key = field.getKey();\n\n\t\tif (field.isSummaries(SummariesType.TRUTHY)) {\n\t\t\tthis.truthy.set(key, 0);\n\t\t}\n\n\t\tif (field.isSummaries(SummariesType.FALSY)) {\n\t\t\tthis.falsy.set(key, 0);\n\t\t}\n\t}\n\n\tpostCalculate(field: Field, items: Array<OriginItemEntity>): void {\n\t}\n\n\taggregate(field: Field, value: boolean): void {\n\n\t\tconst booleanValue = value, // (value as any === 'true'),\n\t\t\tkey = field.getKey(),\n\t\t\ttruthyForField = this.truthy.get(key),\n\t\t\tfalsyForField = this.falsy.get(key);\n\n\t\tif (booleanValue) {\n\t\t\tif (field.isSummaries(SummariesType.TRUTHY)) {\n\t\t\t\tthis.truthy.set(key, truthyForField + 1);\n\t\t\t}\n\t\t} else {\n\t\t\tif (field.isSummaries(SummariesType.FALSY)) {\n\t\t\t\tthis.falsy.set(key, falsyForField + 1);\n\t\t\t}\n\t\t}\n\n\t}\n\n\tgenerateAggregatedValues(field: Field): BooleanSummarizedValues {\n\n\t\tconst key = field.getKey();\n\n\t\treturn new BooleanSummarizedValues(\n\t\t\tthis.truthy.get(key),\n\t\t\tthis.falsy.get(key)\n\t\t);\n\t}\n\n}\n","import { SummariesValues } from '../summaries.values';\n\nexport class DateSummarizedValues extends SummariesValues {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { SummariesCalculator } from '../summaries.calculator';\nimport { DateSummarizedValues } from './date-summarized.values';\n\nimport { DataType } from '../../../../../field/core/domain/field/data/data-type';\nimport { OriginItemEntity } from '../../../../../source/core/domain/origin/origin-item-entity';\nimport { Field } from '../../../../../field/core/domain/field/field';\n\n\n@Injectable()\nexport class DateSummariesCalculator extends SummariesCalculator<Date, DateSummarizedValues> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tforDataType(dataType: DataType): boolean {\n\t\treturn dataType === DataType.DATE;\n\t}\n\n\tprepare(field: Field): void {\n\t}\n\n\tpostCalculate(field: Field, items: Array<OriginItemEntity>): void {\n\t}\n\n\taggregate(field: Field, value: Date): void {\n\t}\n\n\tgenerateAggregatedValues(field: Field): DateSummarizedValues {\n\t\treturn new DateSummarizedValues();\n\t}\n\n}\n","import { SummariesValues } from '../summaries.values';\n\nexport class NumberSummarizedValues extends SummariesValues {\n\n\tpublic readonly sum: number;\n\tpublic readonly min: number;\n\tpublic readonly max: number;\n\tpublic readonly average: number;\n\tpublic readonly median: number;\n\n\tconstructor(sum: number,\n\t\t\t\tmin: number,\n\t\t\t\tmax: number,\n\t\t\t\taverage: number,\n\t\t\t\tmedian: number) {\n\t\tsuper();\n\t\tthis.sum = this.setValueWithPrecision(sum);\n\t\tthis.min = this.setValueWithPrecision(min);\n\t\tthis.max = this.setValueWithPrecision(max);\n\t\tthis.average = this.setValueWithPrecision(average);\n\t\tthis.median = this.setValueWithPrecision(median);\n\t}\n\n\tprivate setValueWithPrecision(value: number): number {\n\t\tif (!value && value !== 0) {\n\t\t\treturn null;\n\t\t}\n\n\t\tif (value === 0) {\n\t\t\treturn 0;\n\t\t}\n\n\t\treturn +((value).toFixed(2));\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { SummariesCalculator } from '../summaries.calculator';\nimport { NumberSummarizedValues } from './number-summarized.values';\nimport { DataType } from '../../../../../field/core/domain/field/data/data-type';\nimport { SummariesType } from '../../summaries.type';\nimport { OriginItemEntity } from '../../../../../source/core/domain/origin/origin-item-entity';\nimport { Field } from '../../../../../field/core/domain/field/field';\n\n\n@Injectable()\nexport class NumberSummariesCalculator extends SummariesCalculator<number, NumberSummarizedValues> {\n\n\tprivate readonly sum = new Map<string, number>();\n\tprivate readonly min = new Map<string, number>();\n\tprivate readonly max = new Map<string, number>();\n\tprivate readonly average = new Map<string, number>();\n\tprivate readonly median = new Map<string, number>();\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tforDataType(dataType: DataType): boolean {\n\t\treturn dataType === DataType.NUMBER;\n\t}\n\n\tprepare(field: Field): void {\n\n\t\tconst key = field.getKey();\n\n\t\tthis.sum.set(key, 0);\n\t\tthis.min.set(key, Number.MAX_SAFE_INTEGER);\n\t\tthis.max.set(key, 0);\n\t}\n\n\tpostCalculate(field: Field, items: Array<OriginItemEntity>): void {\n\n\t\tconst key = field.getKey();\n\n\t\tif (field.isSummaries(SummariesType.AVERAGE)) {\n\t\t\tthis.average.set(key, this.sum.get(key) / items.length);\n\t\t}\n\n\t\tif (field.isSummaries(SummariesType.MEDIAN)) {\n\t\t\tthis.median.set(key, field.getValue(items[Math.floor(items.length / 2)]));\n\t\t}\n\t}\n\n\taggregate(field: Field, value: number): void {\n\n\t\tconst numberValue = +value,\n\t\t\tkey = field.getKey(),\n\t\t\tsumForField = this.sum.get(key),\n\t\t\tminForField = this.min.get(key),\n\t\t\tmaxForField = this.max.get(key);\n\n\t\tif (field.isSummaries(SummariesType.SUM) || field.isSummaries(SummariesType.AVERAGE)) {\n\t\t\tthis.sum.set(key, sumForField + numberValue);\n\t\t}\n\n\t\tif (field.isSummaries(SummariesType.MIN)) {\n\t\t\tif (minForField > numberValue) {\n\t\t\t\tthis.min.set(key, numberValue);\n\t\t\t}\n\t\t}\n\n\t\tif (field.isSummaries(SummariesType.MAX)) {\n\t\t\tif (maxForField < numberValue) {\n\t\t\t\tthis.max.set(key, numberValue);\n\t\t\t}\n\t\t}\n\n\t}\n\n\tgenerateAggregatedValues(field: Field): NumberSummarizedValues {\n\n\t\tconst key = field.getKey(),\n\t\t\tsum = field.isSummaries(SummariesType.SUM) ? this.sum.get(key) : undefined,\n\t\t\tmin = field.isSummaries(SummariesType.MIN) ? this.min.get(key) : undefined,\n\t\t\tmax = field.isSummaries(SummariesType.MAX) ? this.max.get(key) : undefined,\n\t\t\taverage = field.isSummaries(SummariesType.AVERAGE) ? this.average.get(key) : undefined,\n\t\t\tmedian = field.isSummaries(SummariesType.MEDIAN) ? this.median.get(key) : undefined;\n\n\t\treturn new NumberSummarizedValues(\n\t\t\tsum,\n\t\t\tmin,\n\t\t\tmax,\n\t\t\taverage,\n\t\t\tmedian\n\t\t);\n\t}\n\n}\n","import { SummariesValues } from '../summaries.values';\n\nexport class StringSummarizedValues extends SummariesValues {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { SummariesCalculator } from '../summaries.calculator';\nimport { StringSummarizedValues } from './string-summarized.values';\nimport { DataType } from '../../../../../field/core/domain/field/data/data-type';\nimport { OriginItemEntity } from '../../../../../source/core/domain/origin/origin-item-entity';\nimport { Field } from '../../../../../field/core/domain/field/field';\n\n\n@Injectable()\nexport class StringSummariesCalculator extends SummariesCalculator<string, StringSummarizedValues> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tforDataType(dataType: DataType): boolean {\n\t\treturn dataType === DataType.STRING;\n\t}\n\n\tprepare(field: Field): void {\n\t}\n\n\tpostCalculate(field: Field, items: Array<OriginItemEntity>): void {\n\t}\n\n\taggregate(field: Field, value: string): void {\n\t}\n\n\tgenerateAggregatedValues(field: Field): StringSummarizedValues {\n\t\treturn new StringSummarizedValues();\n\t}\n\n}\n","import { SummariesValues } from '../summaries.values';\n\nexport class UnknownSummarizedValues extends SummariesValues {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { SummariesCalculator } from '../summaries.calculator';\nimport { UnknownSummarizedValues } from './unknown-summarized.values';\nimport { DataType } from '../../../../../field/core/domain/field/data/data-type';\nimport { OriginItemEntity } from '../../../../../source/core/domain/origin/origin-item-entity';\nimport { Field } from '../../../../../field/core/domain/field/field';\n\n\n@Injectable()\nexport class UnknownSummariesCalculator extends SummariesCalculator<any, UnknownSummarizedValues> {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tforDataType(dataType: DataType): boolean {\n\t\treturn dataType === DataType.UNKNOWN;\n\t}\n\n\tprepare(field: Field): void {\n\t}\n\n\tpostCalculate(field: Field, items: Array<OriginItemEntity>): void {\n\t}\n\n\taggregate(field: Field, value: any): void {\n\t}\n\n\tgenerateAggregatedValues(field: Field): UnknownSummarizedValues {\n\t\treturn new UnknownSummarizedValues();\n\t}\n\n}\n","import { Provider, Type } from '@angular/core';\nimport { SUMMARIES_CALCULATORS } from './calculation/summaries.calculators.token';\nimport { BooleanSummariesCalculator } from './calculation/boolean/boolean-summaries.calculator';\nimport { DateSummariesCalculator } from './calculation/date/date-summaries.calculator';\nimport { NumberSummariesCalculator } from './calculation/number/number-summaries.calculator';\nimport { StringSummariesCalculator } from './calculation/string/string-summaries.calculator';\nimport { UnknownSummariesCalculator } from './calculation/unknown/unknown-summaries.calculator';\nimport { SummariesManagerFactory } from './summaries.manager.factory';\n\n\nexport function provideSummariesCalculator(clazz: Type<any>): Provider {\n\treturn {\n\t\tprovide: SUMMARIES_CALCULATORS,\n\t\tuseClass: clazz,\n\t\tmulti: true\n\t};\n}\n\nexport const summariesProviders = [\n\tprovideSummariesCalculator(BooleanSummariesCalculator),\n\tprovideSummariesCalculator(DateSummariesCalculator),\n\tprovideSummariesCalculator(NumberSummariesCalculator),\n\tprovideSummariesCalculator(StringSummariesCalculator),\n\tprovideSummariesCalculator(UnknownSummariesCalculator),\n\n\tSummariesManagerFactory\n];\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { DomainModule, HermesModule } from '@generic-ui/hermes';\n\nimport { structureKey } from '../../../core/api/structre.key';\nimport { StructureSetSummariesEnabledCommandHandler } from './set/structure.set-summaries-enabled.command-handler';\nimport { StructureSummariesEnabledSetEventHandler } from '../api/enabled/structure.summaries-enabled-set.event-handler';\nimport { summariesProviders } from './summaries.providers';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule\n\t],\n\tproviders: [\n\t\t...summariesProviders\n\t],\n\tdeclarations: [],\n\texports: []\n})\nexport class SummariesDomainModule extends DomainModule {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tstatic commandHandlers() {\n\t\treturn [\n\t\t\t...HermesModule.registerCommandHandler(StructureSetSummariesEnabledCommandHandler, structureKey)\n\t\t];\n\t}\n\n\tstatic domainEventHandlers() {\n\t\treturn [\n\t\t\t...HermesModule.registerDomainEventHandler(StructureSummariesEnabledSetEventHandler)\n\t\t];\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { StructureId } from '../../../core/domain/structure.id';\nimport { structureGlobalId } from '../../../core/api/structure.global-id';\nimport { StructureSummariesRepository } from './enabled/structure.summaries.repository';\n\n\n@Injectable()\nexport class StructureSummariesWarehouse {\n\n\tconstructor(private structureSummariesRepository: StructureSummariesRepository) {\n\t}\n\n\tonSummariesEnabled(structureId: StructureId = structureGlobalId): Observable<boolean> {\n\t\treturn this.structureSummariesRepository.onSummariesEnabled(structureId);\n\t}\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { ApiModule } from '@generic-ui/hermes';\n\nimport { StructureSummariesCommandDispatcher } from './structure-summaries.command-dispatcher';\nimport { StructureSummariesEventRepository } from './structure-summaries.event-repository';\nimport { SummariesDomainModule } from '../domain/summaries.domain-module';\nimport { StructureSummariesRepository } from './enabled/structure.summaries.repository';\nimport { StructureSummariesWarehouse } from './structure-summaries.warehouse';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tSummariesDomainModule\n\t],\n\tproviders: [\n\t\tStructureSummariesCommandDispatcher,\n\t\tStructureSummariesEventRepository,\n\n\t\tStructureSummariesRepository,\n\t\tStructureSummariesWarehouse\n\t],\n\tdeclarations: [],\n\texports: []\n})\nexport class SummariesApiModule extends ApiModule {\n}\n","import { NgModule, Optional, Provider } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { FeatureModule } from '@generic-ui/hermes';\n\nimport { SummariesApiModule } from '../core/api/summaries.api-module';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tSummariesApiModule\n\t],\n\tdeclarations: [],\n\texports: []\n})\nexport class SummariesFeatureModule extends FeatureModule {\n\n\tstatic forComponent(): Array<Provider> {\n\t\treturn [];\n\t}\n\n\tconstructor(@Optional() summariesApiModule: SummariesApiModule) {\n\t\tsuper();\n\t\tif (summariesApiModule === null) {\n\t\t\tthrow new Error('SummariesApiModule is required.');\n\t\t}\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\nimport { SetScrollPositionCommand } from './set-scroll-position.command';\nimport { ScrollPositionSetEvent } from './scroll-position-set.event';\nimport { StructureAggregate } from '../../../../core/domain/structure.aggregate';\n\n\n@Injectable()\nexport class SetScrollPositionCommandHandler implements CommandHandler<StructureAggregate, SetScrollPositionCommand> {\n\n\tconstructor(private readonly domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SetScrollPositionCommand> {\n\t\treturn SetScrollPositionCommand;\n\t}\n\n\thandle(structure: StructureAggregate, command: SetScrollPositionCommand): void {\n\n\t\tconst position = command.getPosition();\n\n\t\tstructure.setScrollPosition(position);\n\t}\n\n\tpublish(aggregate: StructureAggregate, command: SetScrollPositionCommand): void {\n\t\tthis.domainEventPublisher.publish(new ScrollPositionSetEvent(command.getAggregateId()));\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { SetVerticalScrollEnabledCommand } from './set-vertical-scroll-enabled.command';\nimport { VerticalScrollEnabledSetEvent } from './vertical-scroll-enabled-set.event';\nimport { StructureAggregate } from '../../../../core/domain/structure.aggregate';\n\n\n@Injectable()\nexport class SetVerticalScrollEnabledCommandHandler implements CommandHandler<StructureAggregate, SetVerticalScrollEnabledCommand> {\n\n\tconstructor(private readonly domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SetVerticalScrollEnabledCommand> {\n\t\treturn SetVerticalScrollEnabledCommand;\n\t}\n\n\thandle(structure: StructureAggregate, command: SetVerticalScrollEnabledCommand): void {\n\n\t\tconst enabled = command.isEnabled();\n\n\t\tstructure.setVerticalFormationEnabled(enabled);\n\t}\n\n\tpublish(aggregate: StructureAggregate, command: SetVerticalScrollEnabledCommand): void {\n\t\tthis.domainEventPublisher.publish(new VerticalScrollEnabledSetEvent(command.getAggregateId()));\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { SetRowHeightBasedOnThemeCommand } from './set-row-height-based-on-theme.command';\nimport { StructureAggregate } from '../../../../core/domain/structure.aggregate';\nimport { RowHeightSetBasedOnThemeEvent } from './row-height-set-based-on-theme.event';\n\n\n@Injectable()\nexport class SetRowHeightBasedOnThemeCommandHandler implements CommandHandler<StructureAggregate, SetRowHeightBasedOnThemeCommand> {\n\n\tconstructor(private readonly domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SetRowHeightBasedOnThemeCommand> {\n\t\treturn SetRowHeightBasedOnThemeCommand;\n\t}\n\n\thandle(structure: StructureAggregate, command: SetRowHeightBasedOnThemeCommand): void {\n\n\t\tconst theme = command.getTheme();\n\n\t\tstructure.setTheme(theme);\n\t}\n\n\tpublish(aggregate: StructureAggregate, command: SetRowHeightBasedOnThemeCommand): void {\n\t\tthis.domainEventPublisher.publish(new RowHeightSetBasedOnThemeEvent(command.getAggregateId()));\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { SetRowHeightCommand } from './set-row-height.command';\nimport { StructureAggregate } from '../../../../core/domain/structure.aggregate';\nimport { RowHeightSetEvent } from './row-height-set.event';\n\n\n@Injectable()\nexport class SetRowHeightCommandHandler implements CommandHandler<StructureAggregate, SetRowHeightCommand> {\n\n\tconstructor(private readonly domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SetRowHeightCommand> {\n\t\treturn SetRowHeightCommand;\n\t}\n\n\thandle(structure: StructureAggregate, command: SetRowHeightCommand): void {\n\n\t\tconst rowHeight = command.getRowHeight();\n\n\t\tconst formation = structure.getVerticalFormation();\n\n\t\tformation.setRowHeight(rowHeight);\n\t}\n\n\tpublish(aggregate: StructureAggregate, command: SetRowHeightCommand): void {\n\t\tthis.domainEventPublisher.publish(new RowHeightSetEvent(command.getAggregateId()));\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { StructureSetHeightCommand } from './structure-set-height.command';\nimport { StructureHeightSetEvent } from './structure-height-set.event';\nimport { StructureAggregate } from '../../../../../core/domain/structure.aggregate';\n\n\n@Injectable()\nexport class StructureSetHeightCommandHandler implements CommandHandler<StructureAggregate, StructureSetHeightCommand> {\n\n\tconstructor(private domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<StructureSetHeightCommand> {\n\t\treturn StructureSetHeightCommand;\n\t}\n\n\thandle(aggregate: StructureAggregate, command: StructureSetHeightCommand): void {\n\n\t\tconst height = command.getHeight();\n\n\t\taggregate.setHeight(height);\n\t}\n\n\tpublish(aggregate: StructureAggregate, command: StructureSetHeightCommand): void {\n\t\tthis.domainEventPublisher.publish(new StructureHeightSetEvent(command.getAggregateId()));\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventHandler, DomainEventType } from '@generic-ui/hermes';\n\nimport { VerticalFormationScrollBarPositionRepository } from './vertical-formation.scroll-bar-position.repository';\nimport { ScrollBarPositionSetEvent } from '../../domain/scroll-bar/scroll-bar-position-set.event';\nimport { StructureId } from '../../../../core/domain/structure.id';\n\n\n@Injectable()\nexport class ScrollBarPositionSetEventHandler implements DomainEventHandler<StructureId, ScrollBarPositionSetEvent> {\n\n\tconstructor(private positionRepository: VerticalFormationScrollBarPositionRepository) {\n\t}\n\n\tforEvent(): DomainEventType<ScrollBarPositionSetEvent> {\n\t\treturn ScrollBarPositionSetEvent;\n\t}\n\n\thandle(event: ScrollBarPositionSetEvent): void {\n\n\t\tif (event.ofMessageType('ScrollBarPositionSetEvent')) {\n\t\t\tthis.positionRepository.next(event.getAggregateId(), event.getPosition());\n\t\t}\n\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\nimport { SetScrollBarPositionCommand } from './set-scroll-bar-position.command';\nimport { StructureAggregate } from '../../../../core/domain/structure.aggregate';\n\n\n@Injectable()\nexport class SetScrollBarPositionCommandHandler implements CommandHandler<StructureAggregate, SetScrollBarPositionCommand> {\n\n\tconstructor(private readonly domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SetScrollBarPositionCommand> {\n\t\treturn SetScrollBarPositionCommand;\n\t}\n\n\thandle(structure: StructureAggregate, command: SetScrollBarPositionCommand): void {\n\n\t\tconst index = command.getPosition();\n\n\t\tstructure.scrollToIndex(index);\n\t}\n\n\tpublish(aggregate: StructureAggregate, command: SetScrollBarPositionCommand): void {\n\t\tthis.domainEventPublisher.publishFromAggregate(aggregate);\n\t}\n\n}\n","import { NgModule, Provider } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { DomainModule, HermesModule } from '@generic-ui/hermes';\n\nimport { structureKey } from '../../../core/api/structre.key';\nimport { VerticalFormationFactory } from './vertical-formation.factory';\nimport { SetScrollPositionCommandHandler } from './scroll-position/set-scroll-position.command-handler';\nimport { SetVerticalScrollEnabledCommandHandler } from './set-enabled/set-vertical-scroll-enabled.command-handler';\nimport { SetRowHeightBasedOnThemeCommandHandler } from './set-row-height-theme/set-row-height-based-on-theme.command-handler';\nimport { SetRowHeightCommandHandler } from './set-row-height/set-row-height.command-handler';\nimport { StructureSetHeightCommandHandler } from './container/set-height/structure-set-height.command-handler';\nimport { ScrollBarPositionSetEventHandler } from '../domain-read/scroll-bar/scroll-bar-position-set.event-handler';\nimport { SetScrollBarPositionCommandHandler } from './scroll-bar/set-scroll-bar-position.command-handler';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule\n\t],\n\tproviders: [\n\t\tVerticalFormationFactory\n\t],\n\tdeclarations: [],\n\texports: []\n})\nexport class VerticalFormationDomainModule extends DomainModule {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tstatic commandHandlers(): Array<Provider> {\n\t\treturn [\n\t\t\t...HermesModule.registerCommandHandler(SetScrollPositionCommandHandler, structureKey),\n\t\t\t...HermesModule.registerCommandHandler(SetVerticalScrollEnabledCommandHandler, structureKey),\n\t\t\t...HermesModule.registerCommandHandler(SetRowHeightBasedOnThemeCommandHandler, structureKey),\n\t\t\t...HermesModule.registerCommandHandler(SetRowHeightCommandHandler, structureKey),\n\t\t\t...HermesModule.registerCommandHandler(StructureSetHeightCommandHandler, structureKey),\n\t\t\t...HermesModule.registerCommandHandler(SetScrollBarPositionCommandHandler, structureKey)\n\t\t];\n\t}\n\n\tstatic domainEventHandlers(): Array<Provider> {\n\t\treturn [\n\t\t\t...HermesModule.registerDomainEventHandler(ScrollBarPositionSetEventHandler)\n\t\t];\n\t}\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { ApiModule } from '@generic-ui/hermes';\n\nimport { VerticalFormationDomainModule } from '../domain/vertical-formation.domain-module';\nimport { VerticalFormationConverter } from './vertical-formation.converter';\nimport { VerticalFormationRepository } from './vertical-formation.repository';\nimport { StructureVerticalFormationWarehouse } from './structure-vertical-formation.warehouse';\nimport { VerticalFormationScrollBarPositionRepository } from '../domain-read/scroll-bar/vertical-formation.scroll-bar-position.repository';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tVerticalFormationDomainModule\n\t],\n\tproviders: [\n\t\tVerticalFormationConverter,\n\t\tVerticalFormationRepository,\n\t\tStructureVerticalFormationWarehouse,\n\t\tVerticalFormationScrollBarPositionRepository\n\t],\n\tdeclarations: [],\n\texports: []\n})\nexport class VerticalFormationApiModule extends ApiModule {\n}\n","import { NgModule, Optional, Provider } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { FeatureModule } from '@generic-ui/hermes';\n\nimport { VerticalFormationApiModule } from '../core/api/vertical-formation.api-module';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tVerticalFormationApiModule\n\t],\n\tdeclarations: [],\n\texports: []\n})\nexport class VerticalFormationFeatureModule extends FeatureModule {\n\n\tstatic forComponent(): Array<Provider> {\n\t\treturn [];\n\t}\n\n\tconstructor(@Optional() verticalFormationApiModule: VerticalFormationApiModule) {\n\t\tsuper();\n\t\tif (verticalFormationApiModule === null) {\n\t\t\tthrow new Error('VerticalFormationFeatureModule is required.');\n\t\t}\n\t}\n\n}\n","export const compositionKey = 'CompositionAggregate';\n","import { ColumnWidth } from '../column/column-width/column-width';\n\nexport class CompositionContainerWidthCalculator {\n\n\tconstructor(private readonly MIN_COLUMN_WIDTH: number) {\n\t}\n\n\tcalculateMinWidth(columnWidths: Array<ColumnWidth>): number {\n\n\t\tconst { staticColumns, fluidColumns } = this.segregateColumns(columnWidths);\n\n\t\t// TODO reduce\n\t\tlet sum = 0;\n\t\tstaticColumns.forEach((c) => {\n\t\t\tsum += c.getWidth();\n\t\t});\n\n\t\tsum += fluidColumns.length * this.MIN_COLUMN_WIDTH;\n\n\t\treturn sum;\n\t}\n\n\tprivate segregateColumns(columns: Array<ColumnWidth>): { staticColumns: Array<ColumnWidth>, fluidColumns: Array<ColumnWidth> } {\n\n\t\tconst staticColumns = columns.filter((columnWidth: ColumnWidth) => columnWidth.isTypeNumber() && columnWidth.getWidth() > this.MIN_COLUMN_WIDTH),\n\t\t\tfluidColumns = columns.filter((columnWidth: ColumnWidth) => {\n\t\t\t\treturn columnWidth.isTypeAuto() ||\n\t\t\t\t\tcolumnWidth.isTypePercentage() ||\n\t\t\t\t\t(columnWidth.isTypeNumber() && columnWidth.getWidth() <= this.MIN_COLUMN_WIDTH);\n\t\t\t});\n\n\t\treturn {\n\t\t\tstaticColumns: staticColumns,\n\t\t\tfluidColumns: fluidColumns\n\t\t};\n\t}\n}\n","import { DomainEvent } from '@generic-ui/hermes';\nimport { CompositionId } from './composition.id';\n\nexport abstract class CompositionDomainEvent extends DomainEvent<CompositionId> {\n}\n","import { CompositionId } from '../../composition.id';\nimport { CompositionDomainEvent } from '../../composition.domain-event';\n\nexport class CompositionWidthSetEvent extends CompositionDomainEvent {\n\n\tconstructor(compositionId: CompositionId) {\n\t\tsuper(compositionId, null, 'CompositionWidthSetEvent');\n\t}\n}\n","import { AggregateEvent } from '@generic-ui/hermes';\nimport { CompositionId } from './composition.id';\n\nexport abstract class CompositionAggregateEvent extends AggregateEvent<CompositionId> {\n}\n","import { AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nimport { CompositionId } from '../../composition.id';\nimport { CompositionWidthSetEvent } from './composition-width-set.event';\nimport { CompositionAggregateEvent } from '../../composition.aggregate-event';\n\n\nexport class CompositionWidthSetAggregateEvent extends CompositionAggregateEvent {\n\n\tconstructor(aggregateId: AggregateId) {\n\t\tsuper(aggregateId, 'CompositionWidthSetAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<CompositionId> {\n\t\treturn new CompositionWidthSetEvent(this.getAggregateId());\n\t}\n\n}\n","import { CompositionId } from '../../composition.id';\nimport { CompositionDomainEvent } from '../../composition.domain-event';\n\nexport class CompositionContainerWidthSetEvent extends CompositionDomainEvent {\n\n\tconstructor(compositionId: CompositionId,\n\t\t\t\tpayload: any) {\n\t\tsuper(compositionId, payload, 'CompositionContainerWidthSetEvent');\n\t}\n\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { CompositionId } from '../../composition.id';\nimport { CompositionContainerWidthSetEvent } from './composition-container-width-set.event';\nimport { CompositionAggregateEvent } from '../../composition.aggregate-event';\n\n\nexport class CompositionContainerWidthSetAggregateEvent extends CompositionAggregateEvent {\n\n\tconstructor(compositionId: CompositionId,\n\t\t\t\tpublic readonly containerWidth: number) {\n\t\tsuper(compositionId, 'CompositionContainerWidthSetAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<CompositionId> {\n\t\treturn new CompositionContainerWidthSetEvent(this.getAggregateId(), this.containerWidth);\n\t}\n}\n","import { CompositionId } from '../../composition.id';\nimport { CompositionDomainEvent } from '../../composition.domain-event';\n\nexport class CompositionResizeWidthSetEvent extends CompositionDomainEvent {\n\n\tconstructor(aggregateId: CompositionId) {\n\t\tsuper(aggregateId, null, 'CompositionResizeWidthSetEvent');\n\t}\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { CompositionId } from '../../composition.id';\nimport { CompositionResizeWidthSetEvent } from './composition-resize-width-set.event';\nimport { CompositionAggregateEvent } from '../../composition.aggregate-event';\n\n\nexport class CompositionResizeWidthSetAggregateEvent extends CompositionAggregateEvent {\n\n\tconstructor(compositionId: CompositionId) {\n\t\tsuper(compositionId, 'CompositionResizeWidthSetAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<CompositionId> {\n\t\treturn new CompositionResizeWidthSetEvent(this.getAggregateId());\n\t}\n}\n","import { CompositionId } from '../../composition.id';\nimport { CompositionDomainEvent } from '../../composition.domain-event';\n\nexport class CompositionColumnSetEnabledEvent extends CompositionDomainEvent {\n\n\tconstructor(aggregateId: CompositionId) {\n\t\tsuper(aggregateId, null, 'CompositionColumnSetEnabledEvent');\n\t}\n}\n","import { AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nimport { ActiveColumnEntity } from '../active/active-column.entity';\nimport { CompositionId } from '../../composition.id';\nimport { CompositionColumnSetEnabledEvent } from './composition.column-set-enabled.event';\nimport { CompositionAggregateEvent } from '../../composition.aggregate-event';\n\nexport class CompositionColumnSetEnabledAggregateEvent extends CompositionAggregateEvent {\n\n\tconstructor(aggregateId: AggregateId,\n\t\t\t\tprivate readonly activeColumns: Array<ActiveColumnEntity>) {\n\t\tsuper(aggregateId, 'CompositionColumnSetEnabledAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<CompositionId> {\n\t\treturn new CompositionColumnSetEnabledEvent(this.getAggregateId());\n\t}\n\n\tgetActiveColumns(): Array<ActiveColumnEntity> {\n\t\treturn this.activeColumns;\n\t}\n\n}\n","export enum ColumnWidthType {\n\tPERCENTAGE,\n\tNUMBER,\n\tAUTO\n}\n","import { ColumnWidthType } from './column-width-type';\n\nexport class ColumnWidth {\n\n\tprivate template: ColumnWidthType;\n\n\tprivate baseWidth: number | string;\n\n\tprivate width: number;\n\n\tconstructor(width?: number | string) {\n\t\tthis.baseWidth = width;\n\t\tthis.setWidthAndType(width);\n\t}\n\n\tgetWidth(): number {\n\t\treturn this.width;\n\t}\n\n\tgetColumnType(): ColumnWidthType {\n\t\treturn this.template;\n\t}\n\n\tisTypePercentage(): boolean {\n\t\treturn this.template === ColumnWidthType.PERCENTAGE;\n\t}\n\n\tisTypeAuto(): boolean {\n\t\treturn this.template === ColumnWidthType.AUTO;\n\t}\n\n\tisTypeNumber(): boolean {\n\t\treturn this.template === ColumnWidthType.NUMBER;\n\t}\n\n\tsetWidth(width: number): void {\n\t\tthis.width = width;\n\t}\n\n\tsetWidthAndType(width: number | string): void {\n\n\t\tif (width === undefined || width === null || width === 'auto') {\n\n\t\t\tthis.template = ColumnWidthType.AUTO;\n\t\t\tthis.setWidth(null);\n\n\t\t} else if (this.isPercentage(width)) {\n\n\t\t\tthis.template = ColumnWidthType.PERCENTAGE;\n\t\t\tthis.setWidth(this.percentageToNumber('' + width));\n\n\t\t} else if (this.isStringNumber(width)) {\n\n\t\t\tthis.template = ColumnWidthType.NUMBER;\n\t\t\tthis.setWidth(+width);\n\t\t} else {\n\n\t\t\tthis.template = ColumnWidthType.NUMBER;\n\t\t\tthis.setWidth(+width);\n\t\t}\n\t}\n\n\tclone(): ColumnWidth {\n\t\treturn new ColumnWidth(this.baseWidth);\n\t}\n\n\tprivate isPercentage(width: number | string): boolean {\n\t\treturn typeof width === 'string' && width[width.length - 1] === '%';\n\t}\n\n\t/**\n\t * Width needs to be in format '89%'\n\t * @param width\n\t */\n\tprivate percentageToNumber(width: string): number {\n\t\treturn +(width.slice(0, -1));\n\t}\n\n\tprivate isStringNumber(width: number | string): boolean {\n\t\tconst widthAsNumber = +width;\n\n\t\treturn Number.isNaN(widthAsNumber);\n\t}\n}\n","import { ColumnWidth } from '../column/column-width/column-width';\nimport { ColumnWidthType } from '../column/column-width/column-width-type';\n\nexport class CompositionWidthCalculator {\n\n\tprivate readonly columns: Array<ColumnWidth>;\n\n\tconstructor(private source: Array<ColumnWidth>,\n\t\t\t\tprivate width: number,\n\t\t\t\tprivate readonly MIN_COLUMN_WIDTH: number) {\n\t\tthis.columns = this.source.map((c) => c.clone());\n\t}\n\n\tcalculate(): Array<ColumnWidth> {\n\n\t\tlet width = this.width,\n\t\t\tcolumns = [...this.columns];\n\n\t\t// adjust min value\n\t\tthis.adjustMinimalWidth(columns);\n\n\t\t// remove number columns\n\t\tconst newColumns: Array<ColumnWidth> = [];\n\n\t\tcolumns.forEach((column: ColumnWidth, index: number) => {\n\t\t\tif (column.isTypeNumber()) {\n\t\t\t\twidth -= column.getWidth();\n\t\t\t} else {\n\t\t\t\tnewColumns.push(column);\n\t\t\t}\n\t\t});\n\n\t\tcolumns = newColumns;\n\n\t\t// split even auto columns\n\t\tif (columns.length !== 0) {\n\n\t\t\tconst evenWidth = width / columns.length;\n\n\t\t\tcolumns.forEach((column: ColumnWidth, index: number) => {\n\t\t\t\tcolumn.setWidth(evenWidth);\n\t\t\t});\n\t\t}\n\n\t\t// adjust number columns\n\t\t// let numberColumns = this.columns.filter((columnWidth: ColumnWidth) => columnWidth.isTypeNumber());\n\t\t//\n\t\t// // sort by min values\n\t\t// numberColumns.sort((columnOne: ColumnWidth, columnTwo: ColumnWidth) => {\n\t\t// \treturn columnOne.getWidth() - columnTwo.getWidth();\n\t\t// });\n\t\t//\n\t\t// numberColumns.forEach(() => {\n\t\t// });\n\n\t\t// this.adjustMinimalWidth(ColumnWidthType.NUMBER);\n\t\t//\n\t\t// this.adjustPercentageWidth();\n\t\t//\n\t\t// this.adjustAutoWidth();\n\n\t\treturn this.columns;\n\t}\n\n\tprivate adjustMinimalWidth(columns: Array<ColumnWidth>): void {\n\t\tcolumns.forEach((column: ColumnWidth) => {\n\t\t\tif (column.isTypeNumber()) {\n\t\t\t\tif (column.getWidth() < this.MIN_COLUMN_WIDTH) {\n\t\t\t\t\tcolumn.setWidthAndType(this.MIN_COLUMN_WIDTH);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate adjustPercentageWidth(): void {\n\n\t\tconst percentageColumns = this.columns.filter((columnWidth: ColumnWidth) => columnWidth.isTypePercentage());\n\n\t\tfor (const column of this.columns) {\n\t\t\tif (column.getColumnType() === ColumnWidthType.PERCENTAGE) {\n\t\t\t\tcolumn.setWidth(this.width * column.getWidth() * 0.01);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate adjustAutoWidth(): void {\n\n\t\tlet leftWidth = this.width;\n\t\tconst autoColumns = [];\n\n\t\tfor (let i = 0; i < this.columns.length; i += 1) {\n\n\t\t\tconst column = this.columns[i];\n\n\t\t\tif (column.getColumnType() !== ColumnWidthType.AUTO) {\n\t\t\t\tleftWidth -= column.getWidth();\n\t\t\t} else {\n\t\t\t\tautoColumns.push(column);\n\t\t\t}\n\t\t}\n\n\t\tif (autoColumns.length > 0) {\n\t\t\tconst splitWidth = leftWidth / autoColumns.length;\n\n\t\t\tfor (const column of autoColumns) {\n\t\t\t\tcolumn.setWidth(splitWidth);\n\t\t\t}\n\t\t}\n\t}\n\n}\n","import { ColumnWidth } from './column-width';\nimport { ColumnConfig } from '../../../api/column/column.config';\nimport { CompositionContainerWidthCalculator } from '../../width/composition-container-width.calculator';\nimport { CompositionWidthCalculator } from '../../width/composition-width.calculator';\n\n\nexport class ColumnWidthCollection {\n\n\tprivate baseColumnWidths: Array<ColumnWidth>;\n\n\tprivate columnWidths: Array<ColumnWidth>;\n\n\tprivate width: number;\n\n\tconstructor(private readonly MIN_COLUMN_WIDTH: number,\n\t\t\t\tcolumns: Array<ColumnConfig> = [],\n\t\t\t\twidth: number = 100) {\n\t\tthis.baseColumnWidths = columns.map((column: ColumnConfig) => new ColumnWidth(column.width));\n\t\tthis.columnWidths = columns.map((column: ColumnConfig) => new ColumnWidth(column.width));\n\n\t\tthis.setContainerWidth(width);\n\n\t\tthis.calculate();\n\t}\n\n\tgetColumnWidths(): Array<ColumnWidth> {\n\t\treturn this.baseColumnWidths;\n\t}\n\n\tgetColumnsWidth(): number {\n\t\treturn this.width;\n\t}\n\n\tgetWidths(): Array<number> {\n\t\treturn this.columnWidths.map(c => c.getWidth());\n\t}\n\n\tgetMinWidth(): number {\n\t\tconst calculator = new CompositionContainerWidthCalculator(this.MIN_COLUMN_WIDTH);\n\n\t\treturn calculator.calculateMinWidth(this.columnWidths);\n\t}\n\n\tsetWidth(width: number): void {\n\n\t\tthis.setContainerWidth(width);\n\t\tthis.calculate();\n\t}\n\n\tsetColumns(columnConfigs: Array<ColumnConfig>): void {\n\t\tthis.baseColumnWidths = columnConfigs.map((column: ColumnConfig) => new ColumnWidth(column.width));\n\t\tthis.columnWidths = columnConfigs.map((column: ColumnConfig) => new ColumnWidth(column.width));\n\n\t\tthis.calculate();\n\t}\n\n\tgetMinColumnWidth(): number {\n\t\treturn this.MIN_COLUMN_WIDTH;\n\t}\n\n\tprivate calculate(): void {\n\n\t\tif (this.baseColumnWidths && this.width) {\n\n\t\t\tconst calculator = new CompositionWidthCalculator(this.baseColumnWidths, this.width, this.MIN_COLUMN_WIDTH);\n\n\t\t\tthis.columnWidths = calculator.calculate();\n\t\t}\n\t}\n\n\tprivate setContainerWidth(width: number): void {\n\t\tif (this.getMinWidth() > width) {\n\t\t\tthis.width = this.getMinWidth();\n\t\t} else {\n\t\t\tthis.width = width;\n\t\t}\n\n\t\tthis.calculate();\n\t}\n}\n","import { CompositionId } from '../../composition.id';\nimport { ActiveColumnEntity } from '../active/active-column.entity';\nimport { CompositionDomainEvent } from '../../composition.domain-event';\n\n\nexport class CompositionChangeSortStatusEvent extends CompositionDomainEvent {\n\n\tconstructor(aggregateId: CompositionId,\n\t\t\t\tprivate readonly activeColumns: Array<ActiveColumnEntity>) {\n\t\tsuper(aggregateId, activeColumns, 'CompositionChangeSortStatusEvent');\n\t}\n\n\tgetCompositionId(): CompositionId {\n\t\treturn this.getAggregateId();\n\t}\n\n\tgetActiveColumns(): Array<ActiveColumnEntity> {\n\t\treturn this.activeColumns;\n\t}\n\n}\n","import { AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nimport { CompositionId } from '../../composition.id';\nimport { CompositionChangeSortStatusEvent } from './composition-change-sort-status.event';\nimport { ActiveColumnEntity } from '../active/active-column.entity';\nimport { CompositionAggregateEvent } from '../../composition.aggregate-event';\n\n\nexport class CompositionChangeSortStatusAggregateEvent extends CompositionAggregateEvent {\n\n\tconstructor(aggregateId: AggregateId,\n\t\t\t\tprivate readonly activeColumns: Array<ActiveColumnEntity>) {\n\t\tsuper(aggregateId, 'CompositionChangeSortStatusAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<CompositionId> {\n\t\treturn new CompositionChangeSortStatusEvent(this.getAggregateId(), this.activeColumns);\n\t}\n\n}\n","import { AggregateEvent } from '@generic-ui/hermes';\n\nimport { ActiveColumnEntity } from './active-column.entity';\nimport { ColumnWidthCollection } from '../column-width/column-width-collection';\nimport { ColumnConfig } from '../../../api/column/column.config';\nimport { ChangeSortParams } from '../sort/change-sort.params';\nimport { SortOrder } from '../sort/sort-order';\nimport { CompositionId } from '../../composition.id';\nimport { CompositionChangeSortStatusAggregateEvent } from '../sort/composition-change-sort-status.aggregate-event';\nimport { ColumnId } from '../../../api/column/column.id';\nimport { ColumnWidth } from '../column-width/column-width';\n\nexport class ActiveColumnContainer {\n\n\tprivate readonly MIN_COLUMN_WIDTH = 50;\n\n\tprivate columns: Array<ActiveColumnEntity>;\n\n\t/**\n\t * Columns taken from user config.\n\t * This should not be modified and it should be used as a reference point.\n\t */\n\tprivate columnWidthCollection: ColumnWidthCollection = new ColumnWidthCollection(this.MIN_COLUMN_WIDTH);\n\n\tconstructor(private compositionId: CompositionId,\n\t\t\t\tcolumns: Array<ActiveColumnEntity> = [],\n\t\t\t\tgridWidth?: number,\n\t\t\t\tcolumnConfigs?: Array<ColumnConfig>) {\n\t\tthis.columns = columns;\n\n\t\tif (gridWidth && columnConfigs) {\n\t\t\tthis.columnWidthCollection = new ColumnWidthCollection(this.MIN_COLUMN_WIDTH, columnConfigs, gridWidth);\n\t\t}\n\t}\n\n\tgetColumnWidths(): Array<ColumnWidth> {\n\t\treturn this.columnWidthCollection.getColumnWidths();\n\t}\n\n\t// REMOVE\n\tgetColumns(): Array<ActiveColumnEntity> {\n\t\treturn this.columns;\n\t}\n\n\tsetWidth(width: number): void {\n\t\tthis.columnWidthCollection.setWidth(width);\n\t}\n\n\taddColumn(column: ActiveColumnEntity, index: number): void {\n\t\tthis.columns.splice(index, 0, column);\n\t}\n\n\tremoveColumn(index: number): void {\n\t\tthis.columns.splice(index, 1);\n\t}\n\n\tsetColumns(columns: Array<ActiveColumnEntity>, columnConfigs: Array<ColumnConfig>) {\n\n\t\tthis.columns = columns;\n\n\t\tthis.columnWidthCollection.setColumns(columnConfigs);\n\n\t\tconst updatedWidths = this.columnWidthCollection.getWidths();\n\n\t\tthis.columns.forEach((column: ActiveColumnEntity, index: number) => {\n\t\t\tcolumn.setWidth(updatedWidths[index]);\n\t\t});\n\n\t\t// TODO\n\t\t// this.addEvent(new ColumnsSetAggregateEvent(this.getId(), columns));\n\t}\n\n\tchangeSort(sortParams: Array<ChangeSortParams>): AggregateEvent<CompositionId> {\n\n\t\tthis.columns.forEach((column: ActiveColumnEntity) => {\n\t\t\tcolumn.setSortStatus(SortOrder.NONE);\n\t\t});\n\n\t\tfor (const param of sortParams) {\n\n\t\t\tconst fieldId = param.fieldId,\n\t\t\t\tdirection = param.direction,\n\t\t\t\tsortStatus = direction ? SortOrder.ASC : SortOrder.DESC;\n\n\t\t\tconst columns = this.columns.filter((column: ActiveColumnEntity) => {\n\t\t\t\treturn column.getField().getId().getId() === fieldId.getId();\n\t\t\t});\n\n\t\t\tif (columns.length > 0) {\n\t\t\t\tcolumns.forEach((column: ActiveColumnEntity) => {\n\n\t\t\t\t\tcolumn.setSortStatus(sortStatus);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn new CompositionChangeSortStatusAggregateEvent(this.getCompositionId(), this.columns);\n\t}\n\n\tmoveLeft(columnId: ColumnId): void {\n\n\t\tconst index = this.findColumnIndex(columnId);\n\n\t\tthis.move(index, index - 1);\n\t}\n\n\tmoveRight(columnId: ColumnId): void {\n\n\t\tconst index = this.findColumnIndex(columnId);\n\n\t\tthis.move(index, index + 1);\n\t}\n\n\tgetMinColumnWidth(): number {\n\t\treturn this.MIN_COLUMN_WIDTH;\n\t}\n\n\tprivate move(fromIndex: number, toIndex: number): void {\n\n\t\tif (!this.validateMoveIndex(fromIndex) || !this.validateMoveIndex(toIndex)) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst column = this.columns[fromIndex];\n\n\t\tthis.columns[fromIndex] = this.columns[toIndex];\n\t\tthis.columns[toIndex] = column;\n\t}\n\n\tprivate validateMoveIndex(index: number): boolean {\n\t\treturn index >= 0;\n\t}\n\n\tprivate getCompositionId(): CompositionId {\n\t\treturn this.compositionId;\n\t}\n\n\tprivate findColumnIndex(columnId: ColumnId): number {\n\t\treturn this.columns.findIndex(c => c.getId().equals(columnId));\n\t}\n\n}\n","import { CellView } from './cell-view';\nimport { DataType } from '../../../../structure/field/core/domain/field/data/data-type';\n\nexport class ViewEntity {\n\n\tpublic static fromDataType(dataType: DataType): ViewEntity {\n\n\t\tif (dataType === DataType.DATE) {\n\t\t\treturn new ViewEntity(CellView.DATE);\n\t\t} else {\n\t\t\treturn new ViewEntity(CellView.TEXT);\n\t\t}\n\n\t}\n\n\tprivate readonly view: CellView;\n\n\tprivate readonly templateFunction?: (entity: any, item: any) => string = (cellValue: any, item: any) => cellValue;\n\n\tconstructor(cellView: CellView | any) {\n\n\t\tif (typeof cellView === 'function') {\n\t\t\tthis.view = CellView.FUNCTION;\n\t\t\tthis.templateFunction = cellView;\n\t\t} else {\n\t\t\tthis.view = cellView;\n\t\t}\n\t}\n\n\tgetCellView(): CellView {\n\t\treturn this.view;\n\t}\n\n\tgetTemplateFunction(): any {\n\t\treturn this.templateFunction;\n\t}\n\n}\n","import { Entity } from '@generic-ui/hermes';\n\nimport { ColumnId } from '../../api/column/column.id';\nimport { ColumnField } from './field/column-field';\nimport { ColumnConfig, HeaderTemplate } from '../../api/column/column.config';\nimport { ColumnAlign } from './column-align';\nimport { ViewEntity } from './view.entity';\nimport { DataType } from '../../../../structure/field/core/domain/field/data/data-type';\nimport { CellView } from './cell-view';\nimport { ColumnPresentation } from './presentation/column.presentation';\n\nexport abstract class AbstractColumnEntity extends Entity<ColumnId> {\n\n\tprivate columnField: ColumnField;\n\n\tprivate header?: string | HeaderTemplate;\n\n\tprivate width?: number;\n\n\tprotected align: ColumnAlign;\n\n\tprivate columnConfig: ColumnConfig;\n\n\tprotected view: ViewEntity;\n\n\tprotected presentation: ColumnPresentation;\n\n\tprotected constructor(columnId: ColumnId,\n\t\t\t\t\t\t  columnField: ColumnField,\n\t\t\t\t\t\t  columnConfig: ColumnConfig,\n\t\t\t\t\t\t  presentation: ColumnPresentation,\n\t\t\t\t\t\t  header?: string | HeaderTemplate,\n\t\t\t\t\t\t  align?: ColumnAlign,\n\t\t\t\t\t\t  view?: ViewEntity,\n\t\t\t\t\t\t  width?: number) {\n\t\tsuper(columnId);\n\t\tthis.columnField = columnField;\n\t\tthis.columnConfig = columnConfig;\n\t\tthis.presentation = presentation;\n\n\t\tthis.view = ViewEntity.fromDataType(columnField.getDataType());\n\n\t\tif (header) {\n\t\t\tthis.header = header;\n\t\t}\n\n\t\tif (view) {\n\t\t\tthis.view = view;\n\t\t}\n\n\t\tif (width) {\n\t\t\tthis.width = width;\n\t\t}\n\n\t\tthis.setInitialAlign(columnField, align);\n\t}\n\n\tgetPresentation(): ColumnPresentation {\n\t\treturn this.presentation;\n\t}\n\n\tgetColumnConfig(): ColumnConfig {\n\t\treturn this.columnConfig;\n\t}\n\n\tgetField(): ColumnField {\n\t\treturn this.columnField;\n\t}\n\n\tgetHeader(): string | HeaderTemplate {\n\t\treturn this.header;\n\t}\n\n\tgetDataType(): DataType {\n\t\treturn this.columnField.getDataType();\n\t}\n\n\tgetCellView(): CellView {\n\t\treturn this.view.getCellView();\n\t}\n\n\tgetTemplateFunction(): any {\n\t\treturn this.view.getTemplateFunction();\n\t}\n\n\tgetFormatterFunction(): any {\n\t\treturn this.columnConfig.formatter;\n\t}\n\n\tsetView(view: ViewEntity): void {\n\t\tthis.view = view;\n\t}\n\n\tsetHeader(header: string | HeaderTemplate): void {\n\t\tthis.header = header;\n\t}\n\n\tgetView(): ViewEntity {\n\t\treturn this.view;\n\t}\n\n\tgetAlign(): ColumnAlign {\n\t\treturn this.align;\n\t}\n\n\tsetWidth(width: number): void {\n\t\tthis.width = width;\n\t}\n\n\tgetWidth(): number {\n\t\treturn this.width;\n\t}\n\n\tgetSortingEnabled(): boolean {\n\t\tconst config = this.columnConfig;\n\n\t\tif (config.sorting !== undefined && config.sorting !== null) {\n\n\t\t\tif (config.sorting.enabled === undefined || config.sorting.enabled === null) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn config.sorting.enabled;\n\t\t}\n\t}\n\n\tisCellEditingEnabled(): boolean {\n\t\tconst config = this.columnConfig;\n\n\t\tif (config.cellEditing !== undefined && config.cellEditing !== null) {\n\n\t\t\tif (config.cellEditing.enabled === undefined || config.cellEditing.enabled === null) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn config.cellEditing.enabled;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tprivate setInitialAlign(columnField: ColumnField, align?: ColumnAlign): void {\n\n\t\tif (align !== undefined && align !== null) {\n\t\t\tthis.align = align;\n\t\t} else if (columnField.getDataType() === DataType.NUMBER) {\n\t\t\tthis.align = ColumnAlign.RIGHT;\n\t\t} else {\n\t\t\tthis.align = ColumnAlign.LEFT;\n\t\t}\n\t}\n\n}\n","import { ColumnId } from '../../api/column/column.id';\nimport { ColumnField } from './field/column-field';\nimport { ColumnConfig, HeaderTemplate } from '../../api/column/column.config';\nimport { SortOrder } from './sort/sort-order';\nimport { ViewEntity } from './view.entity';\nimport { ColumnAlign } from './column-align';\nimport { AbstractColumnEntity } from './abstract-column.entity';\nimport { ColumnPresentation } from './presentation/column.presentation';\n\n\nexport class ColumnEntity extends AbstractColumnEntity {\n\n\tsortable?: boolean;\n\n\tprivate sortStatus = SortOrder.NONE;\n\n\tprivate enabled: boolean = true;\n\n\tconstructor(columnId: ColumnId,\n\t\t\t\tcolumnField: ColumnField,\n\t\t\t\tcolumnConfig: ColumnConfig,\n\t\t\t\tenabled: boolean,\n\t\t\t\tpresentation: ColumnPresentation,\n\t\t\t\theader: string | HeaderTemplate,\n\t\t\t\talign: ColumnAlign,\n\t\t\t\tview: ViewEntity,\n\t\t\t\twidth: number) {\n\t\tsuper(\n\t\t\tcolumnId,\n\t\t\tcolumnField,\n\t\t\tcolumnConfig,\n\t\t\tpresentation,\n\t\t\theader,\n\t\t\talign,\n\t\t\tview,\n\t\t\twidth\n\t\t);\n\n\t\tthis.enabled = enabled;\n\n\t\tif (view === undefined) {\n\t\t\tthis.view = new ViewEntity(this.presentation.getDefaultView());\n\t\t}\n\n\t\tif (align === undefined) {\n\t\t\tthis.align = this.presentation.getDefaultAlign(this.view);\n\t\t}\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n\tsetEnabled(enabled: boolean): void {\n\t\tthis.enabled = enabled;\n\t}\n\n\tgetSortStatus(): SortOrder {\n\t\treturn this.sortStatus;\n\t}\n\n\tsetSortStatus(status: SortOrder): void {\n\t\tthis.sortStatus = status;\n\t}\n\n}\n","import { ColumnField } from '../field/column-field';\nimport { ColumnId } from '../../../api/column/column.id';\nimport { ColumnConfig, HeaderTemplate } from '../../../api/column/column.config';\nimport { ViewEntity } from '../view.entity';\nimport { ColumnAlign } from '../column-align';\nimport { ColumnEntity } from '../column.entity';\nimport { ColumnPresentation } from '../presentation/column.presentation';\n\n\nexport class ActiveColumnEntity extends ColumnEntity {\n\n\tstatic fromEntity(entity: ColumnEntity): ActiveColumnEntity {\n\t\treturn new ActiveColumnEntity(\n\t\t\tentity.getId(),\n\t\t\tentity.getField(),\n\t\t\tentity.getHeader(),\n\t\t\tentity.getAlign(),\n\t\t\tentity.getView(),\n\t\t\tentity.getColumnConfig(),\n\t\t\tentity.getPresentation()\n\t\t);\n\t}\n\n\tprivate constructor(columnId: ColumnId,\n\t\t\t\t\t\tcolumnField: ColumnField,\n\t\t\t\t\t\theader: string | HeaderTemplate,\n\t\t\t\t\t\talign: ColumnAlign,\n\t\t\t\t\t\tview: ViewEntity,\n\t\t\t\t\t\tconfig: ColumnConfig,\n\t\t\t\t\t\tpresentation: ColumnPresentation) {\n\t\tsuper(\n\t\t\tcolumnId,\n\t\t\tcolumnField,\n\t\t\tconfig,\n\t\t\ttrue,\n\t\t\tpresentation,\n\t\t\theader,\n\t\t\talign,\n\t\t\tview,\n\t\t\tundefined\n\t\t);\n\t}\n\n}\n","import { ActiveColumnEntity } from './active-column.entity';\nimport { ColumnEntity } from '../column.entity';\n\nexport class ActiveColumnEntityConverter {\n\n\tconvertMany(entities: Array<ColumnEntity>): Array<ActiveColumnEntity> {\n\t\treturn entities.map(e => this.convert(e));\n\t}\n\n\tconvert(entity: ColumnEntity): ActiveColumnEntity {\n\n\t\treturn ActiveColumnEntity.fromEntity(entity);\n\t}\n\n\n}\n","import { CompositionId } from '../../../composition.id';\nimport { CompositionDomainEvent } from '../../../composition.domain-event';\n\nexport class CompositionColumnMovedLeftEvent extends CompositionDomainEvent {\n\n\tconstructor(aggregateId: CompositionId) {\n\t\tsuper(aggregateId, null, 'CompositionColumnMovedLeftEvent');\n\t}\n}\n","import { AggregateId, DomainEvent } from '@generic-ui/hermes';\n\nimport { ActiveColumnEntity } from '../../active/active-column.entity';\nimport { CompositionId } from '../../../composition.id';\nimport { CompositionColumnMovedLeftEvent } from './composition.column-moved-left.event';\nimport { CompositionAggregateEvent } from '../../../composition.aggregate-event';\n\nexport class CompositionColumnMovedLeftAggregateEvent extends CompositionAggregateEvent {\n\n\tconstructor(aggregateId: AggregateId,\n\t\t\t\tprivate readonly activeColumns: Array<ActiveColumnEntity>) {\n\t\tsuper(aggregateId, 'CompositionColumnMovedLeftAggregateEvent');\n\t}\n\n\t// getActiveColumns(): Array<ActiveColumnEntity> {\n\t// \treturn this.activeColumns;\n\t// }\n\n\ttoDomainEvent(): DomainEvent<CompositionId> {\n\t\treturn new CompositionColumnMovedLeftEvent(this.getAggregateId());\n\t}\n\n}\n","import { CompositionId } from '../../../composition.id';\nimport { CompositionDomainEvent } from '../../../composition.domain-event';\n\nexport class CompositionColumnMovedRightEvent extends CompositionDomainEvent {\n\n\tconstructor(aggregateId: CompositionId) {\n\t\tsuper(aggregateId, null, 'CompositionColumnMovedRightEvent');\n\t}\n}\n","import { AggregateId, DomainEvent } from '@generic-ui/hermes';\nimport { ActiveColumnEntity } from '../../active/active-column.entity';\nimport { CompositionId } from '../../../composition.id';\nimport { CompositionColumnMovedRightEvent } from './composition.column-moved-right.event';\nimport { CompositionAggregateEvent } from '../../../composition.aggregate-event';\n\nexport class CompositionColumnMovedRightAggregateEvent extends CompositionAggregateEvent {\n\n\tconstructor(aggregateId: AggregateId,\n\t\t\t\tprivate readonly activeColumns: Array<ActiveColumnEntity>) {\n\t\tsuper(aggregateId, 'CompositionColumnMovedRightAggregateEvent');\n\t}\n\n\t// getActiveColumns(): Array<ActiveColumnEntity> {\n\t// \treturn this.activeColumns;\n\t// }\n\n\ttoDomainEvent(): DomainEvent<CompositionId> {\n\t\treturn new CompositionColumnMovedRightEvent(this.getAggregateId());\n\t}\n\n}\n","import { CompositionId } from '../../composition.id';\nimport { CompositionDomainEvent } from '../../composition.domain-event';\n\nexport class CompositionColumnsSetEvent extends CompositionDomainEvent {\n\n\tconstructor(compositionId: CompositionId) {\n\t\tsuper(compositionId, null, 'CompositionColumnsSetEvent');\n\t}\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { CompositionId } from '../../composition.id';\nimport { CompositionColumnsSetEvent } from './composition.columns-set.event';\nimport { CompositionAggregateEvent } from '../../composition.aggregate-event';\n\n\nexport class ColumnsSetAggregateEvent extends CompositionAggregateEvent {\n\n\tconstructor(compositionId: CompositionId) {\n\t\tsuper(compositionId, 'ColumnsSetAggregateEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<CompositionId> {\n\t\treturn new CompositionColumnsSetEvent(this.getAggregateId());\n\t}\n\n}\n","import { CompositionId } from '../composition.id';\nimport { CompositionDomainEvent } from '../composition.domain-event';\n\nexport class CompositionCreatedEvent extends CompositionDomainEvent {\n\n\tconstructor(compositionId: CompositionId) {\n\t\tsuper(compositionId, null, 'CompositionCreatedEvent');\n\t}\n}\n","import { DomainEvent } from '@generic-ui/hermes';\n\nimport { CompositionId } from '../composition.id';\nimport { CompositionCreatedEvent } from './composition-created.event';\nimport { CompositionAggregateEvent } from '../composition.aggregate-event';\n\nexport class CompositionCreatedAggregateEvent extends CompositionAggregateEvent {\n\n\tconstructor(compositionId: CompositionId) {\n\t\tsuper(compositionId, 'SchemaCreatedEvent');\n\t}\n\n\ttoDomainEvent(): DomainEvent<CompositionId> {\n\t\treturn new CompositionCreatedEvent(this.getAggregateId());\n\t}\n}\n","import { GroupId } from './group.id';\n\nexport class Group {\n\n\tconstructor(public readonly id: GroupId,\n\t\t\t\tpublic readonly header: string,\n\t\t\t\tpublic readonly width: number) {\n\t}\n\n}\n","import { HermesId } from '@generic-ui/hermes';\n\nexport class GroupId extends HermesId<string> {\n\n\tconstructor(id: string) {\n\t\tsuper(id);\n\t}\n\n\ttoString(): string {\n\t\treturn this.getId();\n\t}\n\n}\n","import { Group } from '../../api/group/group';\nimport { GroupId } from '../../api/group/group.id';\n\nexport const emptyGroup = new Group(new GroupId('-1'), '', 100);\n","import { AggregateEvent, AggregateEventType, AggregateRoot, KeyMap } from '@generic-ui/hermes';\n\nimport { ColumnEntity } from './column/column.entity';\nimport { ColumnConfig, MultiColumnConfig } from '../api/column/column.config';\nimport { ColumnParams } from './column/set-columns/column.params';\nimport { ColumnEntityFactory } from './column/column-entity.factory';\nimport { ChangeSortParams } from './column/sort/change-sort.params';\nimport { CompositionContainerWidthCalculator } from './width/composition-container-width.calculator';\nimport { CompositionWidthSetAggregateEvent } from './width/set-width/composition-width-set.aggregate-event';\nimport { CompositionContainerWidthSetAggregateEvent } from './width/set-container-width/composition-container-width-set.aggregate-event';\nimport { CompositionResizeWidthSetAggregateEvent } from './width/resize-width/composition-resize-width-set.aggregate-event';\nimport { ColumnId } from '../api/column/column.id';\nimport { CompositionColumnSetEnabledAggregateEvent } from './column/set-enabled/composition.column-set-enabled.aggregate-event';\nimport { ActiveColumnContainer } from './column/active/active-column.container';\nimport { ActiveColumnEntity } from './column/active/active-column.entity';\nimport { ActiveColumnEntityConverter } from './column/active/active-column.entity-converter';\nimport { CompositionColumnMovedLeftAggregateEvent } from './column/move/left/composition.column-moved-left.aggregate-event';\nimport { CompositionColumnMovedRightAggregateEvent } from './column/move/right/composition.column-moved-right.aggregate-event';\nimport { ColumnsSetAggregateEvent } from './column/set-columns/columns-set.aggregate-event';\nimport { CompositionId } from './composition.id';\nimport { CompositionCreatedAggregateEvent } from './create/composition-created.aggregate-event';\nimport { GroupId } from '../api/group/group.id';\nimport { Group } from '../api/group/group';\nimport { CompositionGroupFactory } from './group/composition.group.factory';\nimport { emptyGroup } from './group/empty-group';\n\n\nexport class CompositionAggregate extends AggregateRoot<CompositionId> {\n\n\tprivate allColumns: Array<ColumnEntity> = [];\n\n\tprivate readonly baseColumns: Array<ColumnConfig>;\n\n\tprivate readonly baseParams: Array<ColumnParams>;\n\n\t/**\n\t * Value taken from user config [width]\n\t */\n\tprivate width: number;\n\n\tprivate containerInDOMWidth: number;\n\n\tprivate resizeWidthEnabled: boolean = true;\n\n\tprivate readonly columnFactory: ColumnEntityFactory;\n\n\tprivate readonly groupFactory: CompositionGroupFactory;\n\n\tprivate readonly activeColumnContainer: ActiveColumnContainer;\n\n\tprivate readonly activeColumnEntityConverter: ActiveColumnEntityConverter = new ActiveColumnEntityConverter();\n\n\tprivate readonly groups: KeyMap<GroupId, Group> = new KeyMap();\n\n\tprivate readonly columnNameToGroupId: Map<string, GroupId> = new Map();\n\n\tconstructor(id: CompositionId,\n\t\t\t\tcolumnFactory: ColumnEntityFactory,\n\t\t\t\tgroupFactory: CompositionGroupFactory,\n\t\t\t\tcolumnsParams: Array<ColumnParams> = [],\n\t\t\t\twidth?: number,\n\t\t\t\tresizeWidth?: boolean) {\n\t\tsuper(id, 'CompositionAggregate');\n\n\t\tconst columnConfigs: Array<ColumnConfig> = columnsParams.map((param) => param.getColumn());\n\n\t\tthis.baseParams = columnsParams;\n\t\tthis.baseColumns = columnConfigs;\n\n\t\tthis.columnFactory = columnFactory;\n\t\tthis.groupFactory = groupFactory;\n\n\t\tthis.width = width;\n\n\t\tthis.allColumns = this.columnFactory.create(columnsParams);\n\n\t\tconst activeColumns = this.activeColumnEntityConverter.convertMany(this.getEnabledColumns());\n\n\t\tthis.activeColumnContainer = new ActiveColumnContainer(this.getId(), activeColumns, width, columnConfigs);\n\n\t\tif (resizeWidth !== undefined && resizeWidth !== null) {\n\t\t\tthis.resizeWidthEnabled = resizeWidth;\n\t\t}\n\n\t}\n\n\tcreateEvent(): AggregateEventType<AggregateEvent<CompositionId>> {\n\t\treturn CompositionCreatedAggregateEvent;\n\t}\n\n\t// REMOVE\n\tgetColumns(): Array<ColumnEntity> {\n\t\treturn this.allColumns;\n\t}\n\n\t// REMOVE\n\tgetActiveColumns(): Array<ActiveColumnEntity> {\n\t\treturn this.activeColumnContainer.getColumns();\n\t}\n\n\t// make private\n\tgetWidth(): number {\n\n\t\tif (this.resizeWidthEnabled) {\n\t\t\treturn this.containerInDOMWidth;\n\t\t} else {\n\t\t\treturn this.width;\n\t\t}\n\t}\n\n\t// REMOVE\n\tisResizeEnabled(): boolean {\n\t\treturn this.resizeWidthEnabled;\n\t}\n\n\t// REMOVE\n\tisReady(): boolean {\n\t\treturn !!this.getWidth() && this.getActiveColumns().length > 0;\n\t}\n\n\tsetGroups(configs: Array<ColumnConfig | MultiColumnConfig>): void {\n\n\t\tfor (let i = 0; i < configs.length; i += 1) {\n\n\t\t\tconst config = configs[i];\n\n\t\t\tif ((config as MultiColumnConfig).columns !== undefined) {\n\n\t\t\t\tconst group = this.groupFactory.create(config);\n\n\t\t\t\tthis.groups.set(group.id, group);\n\n\t\t\t\t(config as MultiColumnConfig).columns.forEach((c: ColumnConfig, index: number) => {\n\n\t\t\t\t\tthis.columnNameToGroupId.set(c.header as string, group.id);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.columnNameToGroupId.set(config.header as string, emptyGroup.id);\n\t\t\t}\n\t\t}\n\t}\n\n\tsetColumns(params: Array<ColumnParams>): void {\n\n\t\tthis.allColumns = this.columnFactory.create(params);\n\n\t\tconst columnConfigs: Array<ColumnConfig> = params.map((param: ColumnParams) => param.getColumn());\n\n\t\tconst activeColumns = this.activeColumnEntityConverter.convertMany(this.getEnabledColumns());\n\n\t\tthis.activeColumnContainer.setColumns(activeColumns, columnConfigs);\n\n\t\tthis.addEvent(new ColumnsSetAggregateEvent(this.getId()));\n\t}\n\n\tsetContainerWidth(containerWidth: number): void {\n\n\t\tthis.setContainerWidthWithEvent(containerWidth);\n\n\t\tthis.recalculateColumns();\n\t}\n\n\tsetWidth(width: number): void {\n\t\tthis.setWidthWithEvent(width);\n\n\t\tthis.setResizeWidthWithEvent(false);\n\n\t\tthis.recalculateColumns();\n\t}\n\n\tsetResizeWidth(enabled: boolean): void {\n\t\tthis.setResizeWidthWithEvent(enabled);\n\t}\n\n\tchangeSort(sortParams: Array<ChangeSortParams>): void {\n\t\tthis.addEvent(\n\t\t\tthis.activeColumnContainer.changeSort(sortParams)\n\t\t);\n\t}\n\n\t// DELEGATE\n\tenableColumn(columnId: ColumnId, enabled: boolean): void {\n\n\t\tlet enabledIndex = -1;\n\n\t\tthis.allColumns.forEach((column: ColumnEntity, index: number) => {\n\t\t\tif (column.getId().getId() === columnId.getId()) {\n\n\t\t\t\tconst prevState = column.isEnabled();\n\n\t\t\t\tcolumn.setEnabled(enabled);\n\n\t\t\t\tif (prevState !== enabled) {\n\t\t\t\t\tenabledIndex = index;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif (enabledIndex > 0) {\n\n\t\t\tif (enabled) {\n\n\t\t\t\t// convert\n\t\t\t\tconst columnToAdd = this.activeColumnEntityConverter.convert(this.allColumns[enabledIndex]);\n\n\t\t\t\tthis.activeColumnContainer.addColumn(columnToAdd, enabledIndex);\n\t\t\t} else {\n\t\t\t\tthis.activeColumnContainer.removeColumn(enabledIndex);\n\t\t\t}\n\t\t}\n\n\t\tthis.recalculateColumns();\n\n\t\tthis.addEvent(\n\t\t\tnew CompositionColumnSetEnabledAggregateEvent(this.getId(), this.getActiveColumns())\n\t\t);\n\t}\n\n\tmoveLeft(columnId: ColumnId): void {\n\n\t\tconst columnIndex = this.findColumnIndex(columnId);\n\n\t\tlet nextLeft,\n\t\t\tnextLeftIndex = -1;\n\n\t\tfor (let i = columnIndex - 1; i >= 0; i -= 1) {\n\n\t\t\tconst leftColumn = this.allColumns[i];\n\n\t\t\tif (leftColumn.isEnabled()) {\n\n\t\t\t\tnextLeft = leftColumn;\n\t\t\t\tnextLeftIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (nextLeft && nextLeftIndex >= 0 && columnIndex >= 0) {\n\n\t\t\tconst column = this.allColumns[columnIndex];\n\n\t\t\tthis.allColumns[columnIndex] = nextLeft;\n\t\t\tthis.allColumns[nextLeftIndex] = column;\n\t\t}\n\n\t\tthis.activeColumnContainer.moveLeft(columnId);\n\n\t\tthis.addEvent(\n\t\t\tnew CompositionColumnMovedLeftAggregateEvent(this.getId(), this.getActiveColumns())\n\t\t);\n\t}\n\n\tmoveRight(columnId: ColumnId): void {\n\n\t\tconst columnIndex = this.findColumnIndex(columnId);\n\n\t\tlet nextRight,\n\t\t\tnextRightIndex = -1;\n\n\t\tfor (let i = columnIndex + 1; i < this.allColumns.length; i += 1) {\n\n\t\t\tconst rightColumn = this.allColumns[i];\n\n\t\t\tif (rightColumn.isEnabled()) {\n\n\t\t\t\tnextRight = rightColumn;\n\t\t\t\tnextRightIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (nextRight && nextRightIndex >= 0 && columnIndex >= 0) {\n\n\t\t\tconst column = this.allColumns[columnIndex];\n\n\t\t\tthis.allColumns[columnIndex] = nextRight;\n\t\t\tthis.allColumns[nextRightIndex] = column;\n\t\t}\n\n\t\tthis.activeColumnContainer.moveRight(columnId);\n\n\t\tthis.addEvent(\n\t\t\tnew CompositionColumnMovedRightAggregateEvent(this.getId(), this.getActiveColumns())\n\t\t);\n\t}\n\n\tprivate recalculateColumns(): void {\n\n\t\tconst activeColumns = this.activeColumnEntityConverter.convertMany(this.getEnabledColumns());\n\n\t\tthis.activeColumnContainer.setColumns(activeColumns, activeColumns.map(c => c.getColumnConfig()));\n\t}\n\n\t// TODO Refactor\n\tprivate setWidthWithEvent(width: number): void {\n\n\t\tconst calculator = new CompositionContainerWidthCalculator(this.getMinColumnWidth());\n\n\t\tconst minWidth = calculator.calculateMinWidth(this.activeColumnContainer.getColumnWidths());\n\n\t\tif (minWidth > width) {\n\t\t\tthis.width = minWidth;\n\t\t} else {\n\t\t\tthis.width = width;\n\t\t}\n\n\t\tthis.activeColumnContainer.setWidth(this.getWidth());\n\n\t\tthis.addEvent(new CompositionWidthSetAggregateEvent(this.getId()));\n\t}\n\n\t// TODO Refactor\n\tprivate setContainerWidthWithEvent(containerWidth: number): void {\n\n\t\tconst calculator = new CompositionContainerWidthCalculator(this.getMinColumnWidth());\n\n\t\tconst minWidth = calculator.calculateMinWidth(this.activeColumnContainer.getColumnWidths());\n\n\t\tif (minWidth > containerWidth) {\n\t\t\tthis.containerInDOMWidth = minWidth;\n\t\t} else {\n\t\t\tthis.containerInDOMWidth = containerWidth;\n\t\t}\n\n\t\tthis.activeColumnContainer.setWidth(this.getWidth());\n\n\t\tthis.addEvent(new CompositionContainerWidthSetAggregateEvent(this.getId(), containerWidth));\n\t}\n\n\tprivate setResizeWidthWithEvent(enabled: boolean): void {\n\t\tthis.resizeWidthEnabled = enabled;\n\t\tthis.activeColumnContainer.setWidth(this.getWidth());\n\t\tthis.addEvent(new CompositionResizeWidthSetAggregateEvent(this.getId()));\n\t}\n\n\t// REMOVE -> move to allColumnsContainer\n\tprivate getEnabledColumns(): Array<ColumnEntity> {\n\t\treturn this.allColumns.filter(c => c.isEnabled());\n\t}\n\n\tprivate findColumnIndex(columnId: ColumnId): number {\n\t\treturn this.allColumns.findIndex((column: ColumnEntity) => column.getId().equals(columnId));\n\t}\n\n\tprivate getMinColumnWidth(): number {\n\t\treturn this.activeColumnContainer.getMinColumnWidth();\n\t}\n}\n","import { CellView } from '../cell-view';\nimport { ColumnAlign } from '../column-align';\nimport { ViewEntity } from '../view.entity';\n\nexport abstract class ColumnPresentation {\n\n\tabstract getPossibleViews(): Array<CellView>;\n\n\tabstract getDefaultView(): CellView;\n\n\tabstract getDefaultAlign(view: ViewEntity): ColumnAlign;\n}\n","import { ColumnPresentation } from '../column.presentation';\nimport { ColumnAlign } from '../../column-align';\nimport { CellView } from '../../cell-view';\nimport { ViewEntity } from '../../view.entity';\n\n\nexport class NumberColumnPresentation extends ColumnPresentation {\n\n\tstatic getInstance(): NumberColumnPresentation {\n\t\tif (!NumberColumnPresentation.instance) {\n\t\t\tNumberColumnPresentation.instance = new NumberColumnPresentation();\n\t\t}\n\t\treturn NumberColumnPresentation.instance;\n\t}\n\n\tprivate static instance: NumberColumnPresentation = null;\n\n\tprivate constructor() {\n\t\tsuper();\n\t}\n\n\tgetPossibleViews(): Array<CellView> {\n\t\treturn [\n\t\t\tCellView.TEXT,\n\t\t\tCellView.BAR,\n\t\t\tCellView.PERCENTAGE_BAR,\n\t\t\tCellView.PERCENTAGE\n\t\t];\n\t}\n\n\tgetDefaultView(): CellView {\n\t\treturn CellView.NUMBER;\n\t}\n\n\tgetDefaultAlign(view: ViewEntity): ColumnAlign {\n\t\treturn ColumnAlign.RIGHT;\n\t}\n}\n","import { ColumnPresentation } from '../column.presentation';\nimport { ColumnAlign } from '../../column-align';\nimport { CellView } from '../../cell-view';\nimport { ViewEntity } from '../../view.entity';\n\n\nexport class BooleanColumnPresentation extends ColumnPresentation {\n\n\tstatic getInstance(): BooleanColumnPresentation {\n\t\tif (!BooleanColumnPresentation.instance) {\n\t\t\tBooleanColumnPresentation.instance = new BooleanColumnPresentation();\n\t\t}\n\t\treturn BooleanColumnPresentation.instance;\n\t}\n\n\tprivate static instance: BooleanColumnPresentation = null;\n\n\tprivate constructor() {\n\t\tsuper();\n\t}\n\n\tgetPossibleViews(): Array<CellView> {\n\t\treturn [\n\t\t\tCellView.TEXT,\n\t\t\tCellView.ITALIC,\n\t\t\tCellView.CHIP,\n\t\t\tCellView.BOLD,\n\t\t\tCellView.CHECKBOX\n\t\t];\n\t}\n\n\tgetDefaultView(): CellView {\n\t\treturn CellView.TEXT;\n\t}\n\n\tgetDefaultAlign(view: ViewEntity): ColumnAlign {\n\n\t\tif (view.getCellView() === CellView.CHECKBOX) {\n\t\t\treturn ColumnAlign.CENTER;\n\t\t} else {\n\t\t\treturn ColumnAlign.LEFT;\n\t\t}\n\n\t}\n}\n","import { ColumnPresentation } from '../column.presentation';\nimport { ColumnAlign } from '../../column-align';\nimport { CellView } from '../../cell-view';\n\n\nexport class DateColumnPresentation extends ColumnPresentation {\n\n\tstatic getInstance(): DateColumnPresentation {\n\t\tif (!DateColumnPresentation.instance) {\n\t\t\tDateColumnPresentation.instance = new DateColumnPresentation();\n\t\t}\n\t\treturn DateColumnPresentation.instance;\n\t}\n\n\tprivate static instance: DateColumnPresentation = null;\n\n\tprivate constructor() {\n\t\tsuper();\n\t}\n\n\tgetPossibleViews(): Array<CellView> {\n\t\treturn [\n\t\t\tCellView.DATE,\n\t\t\tCellView.TEXT,\n\t\t\tCellView.ITALIC,\n\t\t\tCellView.BOLD,\n\t\t\tCellView.CHIP\n\t\t];\n\t}\n\n\tgetDefaultView(): CellView {\n\t\treturn CellView.DATE;\n\t}\n\n\tgetDefaultAlign(): ColumnAlign {\n\t\treturn ColumnAlign.LEFT;\n\t}\n}\n","import { ColumnPresentation } from '../column.presentation';\nimport { ColumnAlign } from '../../column-align';\nimport { CellView } from '../../cell-view';\n\n\nexport class StringColumnPresentation extends ColumnPresentation {\n\n\tstatic getInstance(): StringColumnPresentation {\n\t\tif (!StringColumnPresentation.instance) {\n\t\t\tStringColumnPresentation.instance = new StringColumnPresentation();\n\t\t}\n\t\treturn StringColumnPresentation.instance;\n\t}\n\n\tprivate static instance: StringColumnPresentation = null;\n\n\tprivate constructor() {\n\t\tsuper();\n\t}\n\n\tgetPossibleViews(): Array<CellView> {\n\t\treturn [\n\t\t\tCellView.TEXT,\n\t\t\tCellView.ITALIC,\n\t\t\tCellView.BOLD,\n\t\t\tCellView.IMAGE,\n\t\t\tCellView.LINK,\n\t\t\tCellView.CHIP\n\t\t];\n\t}\n\n\tgetDefaultView(): CellView {\n\t\treturn CellView.TEXT;\n\t}\n\n\tgetDefaultAlign(): ColumnAlign {\n\t\treturn ColumnAlign.LEFT;\n\t}\n}\n","import { ColumnPresentation } from '../column.presentation';\nimport { ColumnAlign } from '../../column-align';\nimport { CellView } from '../../cell-view';\n\n\nexport class UnknownColumnPresentation extends ColumnPresentation {\n\n\tstatic getInstance(): UnknownColumnPresentation {\n\t\tif (!UnknownColumnPresentation.instance) {\n\t\t\tUnknownColumnPresentation.instance = new UnknownColumnPresentation();\n\t\t}\n\t\treturn UnknownColumnPresentation.instance;\n\t}\n\n\tprivate static instance: UnknownColumnPresentation = null;\n\n\tprivate constructor() {\n\t\tsuper();\n\t}\n\n\tgetPossibleViews(): Array<CellView> {\n\t\treturn [\n\t\t\tCellView.TEXT\n\t\t];\n\t}\n\n\tgetDefaultView(): CellView {\n\t\treturn CellView.TEXT;\n\t}\n\n\tgetDefaultAlign(): ColumnAlign {\n\t\treturn ColumnAlign.LEFT;\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { DataType } from '../../../../../structure/field/core/domain/field/data/data-type';\n\nimport { ColumnPresentation } from './column.presentation';\nimport { NumberColumnPresentation } from './data-type/number-column.presentation';\nimport { BooleanColumnPresentation } from './data-type/boolean-column.presentation';\nimport { DateColumnPresentation } from './data-type/date-column.presentation';\nimport { StringColumnPresentation } from './data-type/string-column.presentation';\nimport { UnknownColumnPresentation } from './data-type/unknown-column.presentation';\n\n\n@Injectable()\nexport class ColumnPresentationConverter {\n\n\tconvert(dataType: DataType): ColumnPresentation {\n\n\t\tif (dataType === DataType.NUMBER) {\n\t\t\treturn NumberColumnPresentation.getInstance();\n\t\t} else if (dataType === DataType.BOOLEAN) {\n\t\t\treturn BooleanColumnPresentation.getInstance();\n\t\t} else if (dataType === DataType.DATE) {\n\t\t\treturn DateColumnPresentation.getInstance();\n\t\t} else if (dataType === DataType.STRING) {\n\t\t\treturn StringColumnPresentation.getInstance();\n\t\t} else {\n\t\t\treturn UnknownColumnPresentation.getInstance();\n\t\t}\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { RandomStringGenerator } from '@generic-ui/hermes';\n\nimport { ColumnParams } from './set-columns/column.params';\nimport { ColumnEntity } from './column.entity';\nimport { ColumnConfig } from '../../api/column/column.config';\nimport { ColumnField } from './field/column-field';\nimport { ViewEntity } from './view.entity';\nimport { ColumnId } from '../../api/column/column.id';\nimport { DataType } from '../../../../structure/field/core/domain/field/data/data-type';\nimport { ColumnPresentation } from './presentation/column.presentation';\nimport { ColumnPresentationConverter } from './presentation/column.presentation.converter';\n\n\n@Injectable()\nexport class ColumnEntityFactory {\n\n\tconstructor(private readonly columnPresentationConverter: ColumnPresentationConverter) {\n\t}\n\n\tcreate(params: ColumnParams): ColumnEntity;\n\tcreate(params: Array<ColumnParams>): Array<ColumnEntity>;\n\tcreate(source: ColumnParams | Array<ColumnParams>): ColumnEntity | Array<ColumnEntity> {\n\n\t\tif (Array.isArray(source)) {\n\t\t\treturn this.createColumns(source);\n\t\t} else {\n\t\t\treturn this.createColumn(source);\n\t\t}\n\t}\n\n\tprivate createColumn(params: ColumnParams): ColumnEntity {\n\n\t\tconst columnConfig: ColumnConfig = params.getColumn(),\n\t\t\tfield: ColumnField = params.getField(),\n\t\t\tdataType = field.getDataType(),\n\t\t\twidth = this.convertWidth(columnConfig.width) || undefined;\n\n\t\tlet view: ViewEntity,\n\t\t\tenabled: boolean;\n\n\t\tif (columnConfig.view !== undefined) {\n\t\t\tview = new ViewEntity(columnConfig.view);\n\t\t}\n\n\t\tif (columnConfig.enabled !== undefined) {\n\t\t\tenabled = columnConfig.enabled;\n\t\t} else {\n\t\t\tenabled = true;\n\t\t}\n\n\t\tconst presentation = this.getPresentation(dataType);\n\n\t\tconst columnEntity = new ColumnEntity(\n\t\t\tnew ColumnId(RandomStringGenerator.generate()),\n\t\t\tfield,\n\t\t\tcolumnConfig,\n\t\t\tenabled,\n\t\t\tpresentation,\n\t\t\tundefined,\n\t\t\tcolumnConfig.align,\n\t\t\tview,\n\t\t\twidth\n\t\t);\n\n\t\tif (columnConfig.header !== undefined) {\n\t\t\tcolumnEntity.setHeader(columnConfig.header);\n\t\t}\n\n\t\treturn columnEntity;\n\t}\n\n\tprivate createColumns(columns: Array<ColumnParams>): Array<ColumnEntity> {\n\n\t\tconst columnEntities = [] as Array<ColumnEntity>;\n\n\t\tcolumns.forEach((column: ColumnParams) => {\n\t\t\tcolumnEntities.push(this.createColumn(column));\n\t\t});\n\n\t\treturn columnEntities;\n\t}\n\n\tprivate convertWidth(width: string | number): number {\n\t\treturn +width;\n\t}\n\n\tprivate getPresentation(dataType: DataType): ColumnPresentation {\n\n\t\treturn this.columnPresentationConverter.convert(dataType);\n\t}\n}\n","import { RandomStringGenerator } from '@generic-ui/hermes';\n\nimport { Group } from '../../api/group/group';\nimport { GroupId } from '../../api/group/group.id';\n\n\nexport class CompositionGroupFactory {\n\n\tcreate(config: any): Group {\n\t\treturn new Group(\n\t\t\tnew GroupId(RandomStringGenerator.generate()),\n\t\t\tconfig.header,\n\t\t\tconfig.width\n\t\t);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateFactory } from '@generic-ui/hermes';\n\nimport { CompositionId } from './composition.id';\nimport { CompositionAggregate } from './composition.aggregate';\nimport { ColumnEntityFactory } from './column/column-entity.factory';\nimport { CompositionGroupFactory } from './group/composition.group.factory';\n\n\n@Injectable()\nexport class CompositionAggregateFactory extends AggregateFactory<CompositionId, CompositionAggregate> {\n\n\tconstructor(private readonly columnFactory: ColumnEntityFactory,\n\t\t\t\tprivate readonly groupFactory: CompositionGroupFactory) {\n\t\tsuper();\n\t}\n\n\tcreate(id: CompositionId): CompositionAggregate {\n\t\treturn new CompositionAggregate(id, this.columnFactory, this.groupFactory);\n\t}\n}\n","import { AggregateRepository, Optional } from '@generic-ui/hermes';\n\nimport { CompositionId } from './composition.id';\nimport { CompositionAggregate } from './composition.aggregate';\n\n\nexport abstract class CompositionAggregateRepository extends AggregateRepository<CompositionId, CompositionAggregate> {\n\n\tabstract findById(compositionId: CompositionId): Optional<CompositionAggregate>;\n\n\tabstract save(aggregate: CompositionAggregate): void;\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { InMemoryStore } from '@generic-ui/hermes';\n\nimport { CompositionAggregate } from '../../domain/composition.aggregate';\nimport { CompositionId } from '../../domain/composition.id';\n\n\n@Injectable()\nexport class InMemoryCompositionStore extends InMemoryStore<CompositionId, CompositionAggregate> {\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateStoreRegister, InMemoryAggregateStore } from '@generic-ui/hermes';\n\nimport { CompositionAggregate } from '../../../domain/composition.aggregate';\n\nimport { InMemoryCompositionStore } from '../in-memory.composition.store';\nimport { CompositionId } from '../../../domain/composition.id';\n\n\n@Injectable()\nexport class InMemoryCompositionAggregateStore extends InMemoryAggregateStore<CompositionId, CompositionAggregate> {\n\n\tconstructor(inMemoryCompositionStore: InMemoryCompositionStore,\n\t\t\t\taggregateStoreRegister: AggregateStoreRegister) {\n\t\tsuper(inMemoryCompositionStore, aggregateStoreRegister);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateId, Optional } from '@generic-ui/hermes';\n\nimport { CompositionAggregateRepository } from '../../../domain/composition.aggregate-repository';\nimport { InMemoryCompositionAggregateStore } from './in-memory.composition.aggregate-store';\nimport { CompositionAggregate } from '../../../domain/composition.aggregate';\n\n\n@Injectable()\nexport class InMemoryCompositionAggregateRepository extends CompositionAggregateRepository {\n\n\tconstructor(private inMemoryCompositionAggregateStore: InMemoryCompositionAggregateStore) {\n\t\tsuper();\n\t}\n\n\tfindById(aggregateId: AggregateId): Optional<CompositionAggregate> {\n\t\treturn this.inMemoryCompositionAggregateStore.findById(aggregateId);\n\t}\n\n\tsave(aggregate: CompositionAggregate): void {\n\t\tthis.inMemoryCompositionAggregateStore.save(aggregate);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateRepository, CommandType, CreateAggregateCommandHandler, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { CompositionAggregateRepository } from '../composition.aggregate-repository';\nimport { CreateCompositionCommand } from './create-composition.command';\nimport { CompositionCreatedEvent } from './composition-created.event';\nimport { CompositionAggregate } from '../composition.aggregate';\nimport { CompositionId } from '../composition.id';\n\n\n@Injectable()\nexport class CreateCompositionCommandHandler implements CreateAggregateCommandHandler<CompositionAggregate, CreateCompositionCommand> {\n\n\tconstructor(private readonly compositionAggregateRepository: CompositionAggregateRepository,\n\t\t\t\tprivate readonly domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<CreateCompositionCommand> {\n\t\treturn CreateCompositionCommand;\n\t}\n\n\tgetAggregateRepository(): AggregateRepository<CompositionId, CompositionAggregate> {\n\t\treturn this.compositionAggregateRepository;\n\t}\n\n\tpublishDomainEvents(aggregate: CompositionAggregate, command: CreateCompositionCommand): void {\n\t\tthis.domainEventPublisher.publish(new CompositionCreatedEvent(command.getAggregateId()));\n\t}\n}\n","import { CompositionColumnMovedLeftAggregateEvent } from './column/move/left/composition.column-moved-left.aggregate-event';\n\nexport const CompositionAggregateEvents = {\n\tCompositionResizeWidthSetAggregateEvent: 'CompositionResizeWidthSetAggregateEvent',\n\tColumnsSetAggregateEvent: 'ColumnsSetAggregateEvent',\n\tCompositionContainerWidthSetAggregateEvent: 'CompositionContainerWidthSetAggregateEvent',\n\tCompositionWidthSetAggregateEvent: 'CompositionWidthSetAggregateEvent',\n\tCompositionColumnSetEnabledAggregateEvent: 'CompositionColumnSetEnabledAggregateEvent',\n\tCompositionColumnMovedLeftAggregateEvent: 'CompositionColumnMovedLeftAggregateEvent',\n\tCompositionColumnMovedRightAggregateEvent: 'CompositionColumnMovedRightAggregateEvent',\n\tGroupsSetAggregateEvent: 'GroupsSetAggregateEvent'\n};\n","import { CompositionId } from '../../composition.id';\nimport { CompositionDomainEvent } from '../../composition.domain-event';\n\nexport class CompositionGroupsSetEvent extends CompositionDomainEvent {\n\n\tconstructor(compositionId: CompositionId) {\n\t\tsuper(compositionId, null, 'CompositionGroupsSetEvent');\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateEvent, DomainEvent } from '@generic-ui/hermes';\n\nimport { CompositionAggregateEvents } from './composition.events';\nimport { CompositionResizeWidthSetEvent } from './width/resize-width/composition-resize-width-set.event';\nimport { CompositionColumnsSetEvent } from './column/set-columns/composition.columns-set.event';\nimport { CompositionContainerWidthSetAggregateEvent } from './width/set-container-width/composition-container-width-set.aggregate-event';\nimport { CompositionContainerWidthSetEvent } from './width/set-container-width/composition-container-width-set.event';\nimport { CompositionWidthSetEvent } from './width/set-width/composition-width-set.event';\nimport { CompositionColumnSetEnabledEvent } from './column/set-enabled/composition.column-set-enabled.event';\nimport { CompositionColumnMovedLeftEvent } from './column/move/left/composition.column-moved-left.event';\nimport { CompositionColumnMovedRightEvent } from './column/move/right/composition.column-moved-right.event';\nimport { CompositionId } from './composition.id';\nimport { CompositionGroupsSetEvent } from './group/set-groups/composition.groups-set.event';\n\n\n@Injectable()\nexport class CompositionEventConverter {\n\n\tconvert(event: AggregateEvent<CompositionId>): DomainEvent<CompositionId>;\n\tconvert(events: Array<AggregateEvent<CompositionId>>): Array<DomainEvent<CompositionId>>;\n\tconvert(arg: AggregateEvent<CompositionId> | Array<AggregateEvent<CompositionId>>): DomainEvent<CompositionId> | Array<DomainEvent<CompositionId>> {\n\n\t\tif (Array.isArray(arg)) {\n\t\t\treturn this.convertEvents(arg);\n\t\t} else {\n\t\t\treturn this.convertEvent(arg);\n\t\t}\n\t}\n\n\tprivate convertEvents(aggregateEvents: Array<AggregateEvent<CompositionId>>): Array<DomainEvent<CompositionId>> {\n\t\treturn aggregateEvents.map((event: AggregateEvent<CompositionId>) => {\n\t\t\treturn this.convertEvent(event);\n\t\t});\n\t}\n\n\tprivate convertEvent(aggregateEvent: AggregateEvent<CompositionId>): DomainEvent<CompositionId> {\n\n\t\tswitch (aggregateEvent.getType()) {\n\t\t\tcase CompositionAggregateEvents.CompositionResizeWidthSetAggregateEvent:\n\n\t\t\t\treturn new CompositionResizeWidthSetEvent(aggregateEvent.getAggregateId());\n\n\t\t\tcase CompositionAggregateEvents.ColumnsSetAggregateEvent:\n\n\t\t\t\treturn new CompositionColumnsSetEvent(aggregateEvent.getAggregateId());\n\n\t\t\tcase CompositionAggregateEvents.CompositionContainerWidthSetAggregateEvent:\n\n\t\t\t\tconst payload = (aggregateEvent as CompositionContainerWidthSetAggregateEvent).containerWidth;\n\n\t\t\t\treturn new CompositionContainerWidthSetEvent(aggregateEvent.getAggregateId(), payload);\n\n\t\t\tcase CompositionAggregateEvents.CompositionWidthSetAggregateEvent:\n\n\t\t\t\treturn new CompositionWidthSetEvent(aggregateEvent.getAggregateId());\n\n\t\t\tcase CompositionAggregateEvents.CompositionColumnSetEnabledAggregateEvent:\n\n\t\t\t\treturn new CompositionColumnSetEnabledEvent(aggregateEvent.getAggregateId());\n\n\t\t\tcase CompositionAggregateEvents.CompositionColumnMovedLeftAggregateEvent:\n\n\t\t\t\treturn new CompositionColumnMovedLeftEvent(aggregateEvent.getAggregateId());\n\n\t\t\tcase CompositionAggregateEvents.CompositionColumnMovedRightAggregateEvent:\n\n\t\t\t\treturn new CompositionColumnMovedRightEvent(aggregateEvent.getAggregateId());\n\n\t\t\tcase CompositionAggregateEvents.GroupsSetAggregateEvent:\n\n\t\t\t\treturn new CompositionGroupsSetEvent(aggregateEvent.getAggregateId());\n\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t}\n\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateEvent, CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { CompositionAggregateRepository } from '../../composition.aggregate-repository';\nimport { CompositionEventConverter } from '../../composition.event-converter';\nimport { CompositionAggregate } from '../../composition.aggregate';\n\nimport { SetColumnsCommand } from './set-columns.command';\nimport { ColumnParams } from './column.params';\nimport { CompositionId } from '../../composition.id';\n\n\n@Injectable()\nexport class SetColumnsCommandHandler implements CommandHandler<CompositionAggregate, SetColumnsCommand> {\n\n\tconstructor(private readonly compositionAggregateRepository: CompositionAggregateRepository,\n\t\t\t\tprivate readonly domainEventPublisher: DomainEventPublisher,\n\t\t\t\tprivate readonly compositionEventConverter: CompositionEventConverter) {\n\t}\n\n\tforCommand(): CommandType<SetColumnsCommand> {\n\t\treturn SetColumnsCommand;\n\t}\n\n\thandle(aggregate: CompositionAggregate, command: SetColumnsCommand): void {\n\n\t\tconst setColumnsParams: Array<ColumnParams> = command.getParams();\n\n\t\taggregate.setColumns(setColumnsParams);\n\t}\n\n\tpublish(aggregate: CompositionAggregate, command: SetColumnsCommand): void {\n\t\tthis.publishEvents(aggregate, command);\n\t}\n\n\tprivate publishEvents(composition: CompositionAggregate, command: SetColumnsCommand): void {\n\n\t\tconst events = composition.getEvents() as Array<AggregateEvent<CompositionId>>;\n\n\t\tconst domainEvents = this.compositionEventConverter.convert(events);\n\n\t\tthis.domainEventPublisher.publish(domainEvents);\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { CompositionAggregateRepository } from '../../composition.aggregate-repository';\nimport { SetCompositionWidthCommand } from './set-composition-width.command';\nimport { CompositionWidthSetEvent } from './composition-width-set.event';\nimport { CompositionAggregate } from '../../composition.aggregate';\n\n@Injectable()\nexport class SetCompositionWidthCommandHandler implements CommandHandler<CompositionAggregate, SetCompositionWidthCommand> {\n\n\tconstructor(compositionAggregateRepository: CompositionAggregateRepository,\n\t\t\t\tprivate readonly domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SetCompositionWidthCommand> {\n\t\treturn SetCompositionWidthCommand;\n\t}\n\n\thandle(composition: CompositionAggregate, command: SetCompositionWidthCommand): void {\n\n\t\tconst width = command.getWidth();\n\n\t\tcomposition.setWidth(width);\n\t}\n\n\tpublish(aggregate: CompositionAggregate, command: SetCompositionWidthCommand): void {\n\t\tthis.domainEventPublisher.publish(new CompositionWidthSetEvent(command.getAggregateId()));\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { SetCompositionResizeWidthCommand } from './set-composition-resize-width.command';\nimport { CompositionResizeWidthSetEvent } from './composition-resize-width-set.event';\nimport { CompositionAggregate } from '../../composition.aggregate';\n\n\n@Injectable()\nexport class SetCompositionResizeWidthCommandHandler implements CommandHandler<CompositionAggregate, SetCompositionResizeWidthCommand> {\n\n\tconstructor(private readonly domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<SetCompositionResizeWidthCommand> {\n\t\treturn SetCompositionResizeWidthCommand;\n\t}\n\n\thandle(composition: CompositionAggregate, command: SetCompositionResizeWidthCommand): void {\n\n\t\tconst enabled = command.getEnabled();\n\n\t\tcomposition.setResizeWidth(enabled);\n\t}\n\n\tpublish(aggregate: CompositionAggregate, command: SetCompositionResizeWidthCommand): void {\n\t\tthis.domainEventPublisher.publish(new CompositionResizeWidthSetEvent(command.getAggregateId()));\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateEvent, CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { CompositionAggregateRepository } from '../../composition.aggregate-repository';\nimport { CompositionEventConverter } from '../../composition.event-converter';\nimport { SetCompositionContainerWidthCommand } from './set-composition-container-width.command';\nimport { CompositionAggregate } from '../../composition.aggregate';\nimport { CompositionId } from '../../composition.id';\n\n\n@Injectable()\nexport class SetCompositionContainerWidthCommandHandler implements CommandHandler<CompositionAggregate, SetCompositionContainerWidthCommand> {\n\n\tconstructor(private readonly compositionAggregateRepository: CompositionAggregateRepository,\n\t\t\t\tprotected domainEventPublisher: DomainEventPublisher,\n\t\t\t\tprivate compositionEventConverter: CompositionEventConverter) {\n\t}\n\n\tforCommand(): CommandType<SetCompositionContainerWidthCommand> {\n\t\treturn SetCompositionContainerWidthCommand;\n\t}\n\n\thandle(composition: CompositionAggregate, command: SetCompositionContainerWidthCommand): void {\n\n\t\tconst width = command.getWidth();\n\n\t\tcomposition.setContainerWidth(width);\n\t}\n\n\tpublish(aggregate: CompositionAggregate, command: SetCompositionContainerWidthCommand): void {\n\t\tthis.publishAggregateEvents(aggregate.getEvents() as Array<AggregateEvent<CompositionId>>);\n\t}\n\n\tprivate publishAggregateEvents(aggregateEvents: Array<AggregateEvent<CompositionId>>): void {\n\n\t\tconst domainEvents = this.compositionEventConverter.convert(aggregateEvents);\n\n\t\tthis.domainEventPublisher.publish(domainEvents);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateEvent, CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { CompositionAggregateRepository } from '../../composition.aggregate-repository';\nimport { CompositionEventConverter } from '../../composition.event-converter';\nimport { CompositionAggregate } from '../../composition.aggregate';\nimport { CompositionSetColumnEnabledCommand } from './composition.set-column-enabled.command';\nimport { CompositionId } from '../../composition.id';\n\n@Injectable()\nexport class CompositionSetColumnEnabledCommandHandler implements CommandHandler<CompositionAggregate, CompositionSetColumnEnabledCommand> {\n\n\tconstructor(private readonly compositionAggregateRepository: CompositionAggregateRepository,\n\t\t\t\tprivate readonly domainEventPublisher: DomainEventPublisher,\n\t\t\t\tprivate readonly compositionEventConverter: CompositionEventConverter) {\n\t}\n\n\tforCommand(): CommandType<CompositionSetColumnEnabledCommand> {\n\t\treturn CompositionSetColumnEnabledCommand;\n\t}\n\n\thandle(aggregate: CompositionAggregate, command: CompositionSetColumnEnabledCommand): void {\n\n\t\tconst columnId = command.getColumnId(),\n\t\t\tenabled = command.isEnabled();\n\n\t\taggregate.enableColumn(columnId, enabled);\n\t}\n\n\tpublish(aggregate: CompositionAggregate, command: CompositionSetColumnEnabledCommand): void {\n\t\tthis.publishEvents(aggregate, command);\n\t}\n\n\tprivate publishEvents(composition: CompositionAggregate, command: CompositionSetColumnEnabledCommand): void {\n\n\t\tconst events = composition.getEvents() as Array<AggregateEvent<CompositionId>>;\n\n\t\tconst domainEvents = this.compositionEventConverter.convert(events);\n\n\t\tif (domainEvents && domainEvents.length > 0) {\n\t\t\tthis.domainEventPublisher.publish(domainEvents);\n\t\t}\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\nimport { CompositionChangeSortStatusCommand } from './composition-change-sort-status.command';\nimport { CompositionChangeSortStatusEvent } from './composition-change-sort-status.event';\nimport { CompositionAggregate } from '../../composition.aggregate';\n\n\n@Injectable()\nexport class CompositionChangeSortStatusCommandHandler implements CommandHandler<CompositionAggregate, CompositionChangeSortStatusCommand> {\n\n\tconstructor(private readonly domainEventPublisher: DomainEventPublisher) {\n\t}\n\n\tforCommand(): CommandType<CompositionChangeSortStatusCommand> {\n\t\treturn CompositionChangeSortStatusCommand;\n\t}\n\n\thandle(composition: CompositionAggregate, command: CompositionChangeSortStatusCommand): void {\n\n\t\tconst sortParams = command.getSortParams();\n\n\t\tcomposition.changeSort(sortParams);\n\t}\n\n\tpublish(composition: CompositionAggregate, command: CompositionChangeSortStatusCommand): void {\n\n\t\tconst compositionId = command.getAggregateId(),\n\t\t\tcolumns = composition.getActiveColumns();\n\n\t\tthis.domainEventPublisher.publish(new CompositionChangeSortStatusEvent(compositionId, columns));\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateEvent, CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { CompositionAggregateRepository } from '../../../composition.aggregate-repository';\nimport { CompositionEventConverter } from '../../../composition.event-converter';\nimport { CompositionAggregate } from '../../../composition.aggregate';\nimport { CompositionMoveLeftColumnCommand } from './composition.move-left-column.command';\nimport { CompositionId } from '../../../composition.id';\n\n@Injectable()\nexport class CompositionMoveLeftColumnCommandHandler implements CommandHandler<CompositionAggregate, CompositionMoveLeftColumnCommand> {\n\n\tconstructor(private readonly compositionAggregateRepository: CompositionAggregateRepository,\n\t\t\t\tprotected domainEventPublisher: DomainEventPublisher,\n\t\t\t\tprivate compositionEventConverter: CompositionEventConverter) {\n\t}\n\n\tforCommand(): CommandType<CompositionMoveLeftColumnCommand> {\n\t\treturn CompositionMoveLeftColumnCommand;\n\t}\n\n\thandle(aggregate: CompositionAggregate, command: CompositionMoveLeftColumnCommand): void {\n\n\t\tconst columnId = command.getColumnId();\n\n\t\taggregate.moveLeft(columnId);\n\t}\n\n\tpublish(aggregate: CompositionAggregate, command: CompositionMoveLeftColumnCommand): void {\n\t\tthis.publishEvents(aggregate, command);\n\t}\n\n\tprivate publishEvents(composition: CompositionAggregate, command: CompositionMoveLeftColumnCommand): void {\n\n\t\tconst events = composition.getEvents() as Array<AggregateEvent<CompositionId>>;\n\n\t\tconst domainEvents = this.compositionEventConverter.convert(events);\n\n\t\tif (domainEvents && domainEvents.length > 0) {\n\t\t\tthis.domainEventPublisher.publish(domainEvents);\n\t\t}\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { AggregateEvent, CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { CompositionAggregateRepository } from '../../../composition.aggregate-repository';\nimport { CompositionEventConverter } from '../../../composition.event-converter';\nimport { CompositionAggregate } from '../../../composition.aggregate';\nimport { CompositionMoveRightColumnCommand } from './composition.move-right-column.command';\nimport { CompositionId } from '../../../composition.id';\n\n@Injectable()\nexport class CompositionMoveRightColumnCommandHandler implements CommandHandler<CompositionAggregate, CompositionMoveRightColumnCommand> {\n\n\tconstructor(private readonly compositionAggregateRepository: CompositionAggregateRepository,\n\t\t\t\tprotected domainEventPublisher: DomainEventPublisher,\n\t\t\t\tprivate compositionEventConverter: CompositionEventConverter) {\n\t}\n\n\tforCommand(): CommandType<CompositionMoveRightColumnCommand> {\n\t\treturn CompositionMoveRightColumnCommand;\n\t}\n\n\thandle(aggregate: CompositionAggregate, command: CompositionMoveRightColumnCommand): void {\n\n\t\tconst columnId = command.getColumnId();\n\n\t\taggregate.moveRight(columnId);\n\t}\n\n\tpublish(aggregate: CompositionAggregate, command: CompositionMoveRightColumnCommand): void {\n\t\tthis.publishEvents(aggregate, command);\n\t}\n\n\tprivate publishEvents(composition: CompositionAggregate, command: CompositionMoveRightColumnCommand): void {\n\n\t\tconst events = composition.getEvents() as Array<AggregateEvent<CompositionId>>;\n\n\t\tconst domainEvents = this.compositionEventConverter.convert(events);\n\n\t\tif (domainEvents && domainEvents.length > 0) {\n\t\t\tthis.domainEventPublisher.publish(domainEvents);\n\t\t}\n\t}\n}\n","import { ColumnFieldId } from '../field/column-field.id';\n\nexport class ChangeSortParams {\n\n\tconstructor(public readonly fieldId: ColumnFieldId,\n\t\t\t\tpublic readonly direction: boolean) {\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { DomainEventType, MultiDomainEventHandler } from '@generic-ui/hermes';\n\nimport { SortToggledEvent } from '../../../../../structure/sorting/core/domain/toggle/sort-toggled.event';\n\nimport { CompositionDispatcher } from '../../composition.dispatcher';\nimport { ColumnFieldId } from '../field/column-field.id';\nimport { ChangeSortParams } from './change-sort.params';\nimport { SortOrderSetEvent } from '../../../../../structure/sorting/core/domain/order/sort-order-set.event';\nimport { CompositionId } from '../../composition.id';\n\nexport type CompositionChangeSortStatusEventType = SortToggledEvent | SortOrderSetEvent;\n\n@Injectable()\nexport class CompositionChangeSortStatusEventHandler implements MultiDomainEventHandler<CompositionId, CompositionChangeSortStatusEventType> {\n\n\tconstructor(private compositionDispatcher: CompositionDispatcher) {\n\t}\n\n\tforEvents(): Array<DomainEventType<CompositionChangeSortStatusEventType>> {\n\t\treturn [\n\t\t\tSortToggledEvent,\n\t\t\tSortOrderSetEvent\n\t\t];\n\t}\n\n\thandle(event: CompositionChangeSortStatusEventType): void {\n\n\t\tif (event.ofMessageType('SortToggledEvent')) {\n\n\t\t\tconst compositionId = event.getCompositionId(),\n\t\t\t\tdirs = event.getDirections();\n\n\t\t\tconst params = dirs.map((dir: any) => {\n\n\t\t\t\tconst columnFieldId = new ColumnFieldId(dir.fieldId.getId());\n\n\t\t\t\treturn new ChangeSortParams(columnFieldId, dir.direction);\n\t\t\t});\n\n\t\t\tthis.compositionDispatcher.changeSort(compositionId, params);\n\t\t}\n\n\t\tif (event.ofMessageType('SortOrderSetEvent')) {\n\n\t\t\tconst compositionId = event.getCompositionId(),\n\t\t\t\tdirs = event.getDirections();\n\n\t\t\tconst params = dirs.map((dir: any) => {\n\n\t\t\t\tconst columnFieldId = new ColumnFieldId(dir.fieldId.getId());\n\n\t\t\t\treturn new ChangeSortParams(columnFieldId, dir.direction);\n\t\t\t});\n\n\t\t\tthis.compositionDispatcher.changeSort(compositionId, params);\n\t\t}\n\t}\n\n\n}\n","import { Component, TemplateRef, ViewChild } from '@angular/core';\n\nimport { CellView } from '../../domain/column/cell-view';\nimport { TemplatesComponent } from '../template/templates.component';\n\n\n@Component({\n\ttemplate: `\n\n\t\t<ng-template #text let-element=\"element\">\n\t\t\t<gui-view-text [value]=\"element\"></gui-view-text>\n\t\t</ng-template>\n\n\t\t<ng-template #number let-element=\"element\">\n\t\t\t<span class=\"gui-cell-number\">\n\t\t\t\t{{ element.value }}\n\t\t\t</span>\n\t\t</ng-template>\n\n\t\t<ng-template #chip let-element=\"element\">\n\t\t\t<gui-chip>\n\t\t\t\t<gui-view-text [value]=\"element\"></gui-view-text>\n\t\t\t</gui-chip>\n\t\t</ng-template>\n\n\t\t<ng-template #link let-element=\"element\">\n\t\t\t<a gui-button link=\"true\" href=\"{{ element.value }}\">\n\t\t\t\t<gui-view-text [value]=\"element\"></gui-view-text>\n\t\t\t</a>\n\t\t</ng-template>\n\n\t\t<ng-template #image let-element=\"element\">\n\t\t\t<img src=\"{{ element.value }}\"/>\n\t\t</ng-template>\n\n\t\t<ng-template #checkbox let-element=\"element\">\n\t\t\t<span class=\"gui-cell-boolean\">\n\t\t\t\t<gui-checkbox [checked]=\"!!element.value\" [disabled]=\"true\"></gui-checkbox>\n\t\t\t</span>\n\t\t</ng-template>\n\n\t\t<ng-template #bold let-element=\"element\">\n\t\t\t<gui-view-text bold [value]=\"element\"></gui-view-text>\n\t\t</ng-template>\n\n\t\t<ng-template #italic let-element=\"element\">\n\t\t\t<gui-view-text italic [value]=\"element\"></gui-view-text>\n\t\t</ng-template>\n\n\t\t<ng-template #custom let-element=\"element\">\n\t\t\t{{ element.value }}\n\t\t</ng-template>\n\n\t\t<ng-template #function let-element=\"element\">\n\t\t\t<gui-function-view [element]=\"element\"></gui-function-view>\n\t\t</ng-template>\n\n\t\t<ng-template #date let-element=\"element\">\n\t\t\t<span class=\"gui-view-text\">{{ element.value | date: 'dd/MM/yyyy' }}</span>\n\t\t</ng-template>\n\n\t\t<ng-template #bar let-element=\"element\">\n\t\t\t<gui-bar-view [value]=\"element.value\" [showPercentage]=\"false\"></gui-bar-view>\n\t\t</ng-template>\n\n\t\t<ng-template #percentageBar let-element=\"element\">\n\t\t\t<gui-bar-view [value]=\"element.value\" [showPercentage]=\"true\"></gui-bar-view>\n\t\t</ng-template>\n\n\t\t<ng-template #percentage let-element=\"element\">\n\t\t\t<gui-percentage-view [value]=\"element.value\"></gui-percentage-view>\n\t\t</ng-template>\n\n\t`\n})\nexport class ViewTemplatesComponent implements TemplatesComponent {\n\n\t@ViewChild('text', { read: TemplateRef, static: true })\n\ttextTemplate: TemplateRef<any>;\n\n\t@ViewChild('number', { read: TemplateRef, static: true })\n\tnumberTemplate: TemplateRef<any>;\n\n\t@ViewChild('chip', { read: TemplateRef, static: true })\n\tchipTemplate: TemplateRef<any>;\n\n\t@ViewChild('link', { read: TemplateRef, static: true })\n\tlinkTemplate: TemplateRef<any>;\n\n\t@ViewChild('image', { read: TemplateRef, static: true })\n\timageTemplate: TemplateRef<any>;\n\n\t@ViewChild('checkbox', { read: TemplateRef, static: true })\n\tcheckboxTemplate: TemplateRef<any>;\n\n\t@ViewChild('bold', { read: TemplateRef, static: true })\n\tboldTemplate: TemplateRef<any>;\n\n\t@ViewChild('italic', { read: TemplateRef, static: true })\n\titalicTemplate: TemplateRef<any>;\n\n\t@ViewChild('custom', { read: TemplateRef, static: true })\n\tcustomTemplate: TemplateRef<any>;\n\n\t@ViewChild('function', { read: TemplateRef, static: true })\n\tfunctionTemplate: TemplateRef<any>;\n\n\t@ViewChild('date', { read: TemplateRef, static: true })\n\tdateTemplate: TemplateRef<any>;\n\n\t@ViewChild('bar', { read: TemplateRef, static: true })\n\tbarTemplate: TemplateRef<any>;\n\n\t@ViewChild('percentageBar', { read: TemplateRef, static: true })\n\tpercentageBarTemplate: TemplateRef<any>;\n\n\t@ViewChild('percentage', { read: TemplateRef, static: true })\n\tpercentageTemplate: TemplateRef<any>;\n\n\tgetTemplate(view: CellView): TemplateRef<any> {\n\n\t\tswitch (view) {\n\n\t\t\tcase CellView.TEXT:\n\t\t\t\treturn this.textTemplate;\n\n\t\t\tcase CellView.NUMBER:\n\t\t\t\treturn this.numberTemplate;\n\n\t\t\tcase CellView.CHIP:\n\t\t\t\treturn this.chipTemplate;\n\n\t\t\tcase CellView.LINK:\n\t\t\t\treturn this.linkTemplate;\n\n\t\t\tcase CellView.IMAGE:\n\t\t\t\treturn this.imageTemplate;\n\n\t\t\tcase CellView.CHECKBOX:\n\t\t\t\treturn this.checkboxTemplate;\n\n\t\t\tcase CellView.BOLD:\n\t\t\t\treturn this.boldTemplate;\n\n\t\t\tcase CellView.ITALIC:\n\t\t\t\treturn this.italicTemplate;\n\n\t\t\tcase CellView.CUSTOM:\n\t\t\t\treturn this.customTemplate;\n\n\t\t\tcase CellView.FUNCTION:\n\t\t\t\treturn this.functionTemplate;\n\n\t\t\tcase CellView.DATE:\n\t\t\t\treturn this.dateTemplate;\n\n\t\t\tcase CellView.BAR:\n\t\t\t\treturn this.barTemplate;\n\n\t\t\tcase CellView.PERCENTAGE_BAR:\n\t\t\t\treturn this.percentageBarTemplate;\n\n\t\t\tcase CellView.PERCENTAGE:\n\t\t\t\treturn this.percentageTemplate;\n\n\t\t\tdefault:\n\t\t\t\treturn this.textTemplate;\n\t\t}\n\t}\n\n}\n","import { ComponentFactoryResolver, ComponentRef, Injector, TemplateRef, Type } from '@angular/core';\nimport { TemplatesComponent } from './templates.component';\nimport { DataType } from '../../../../structure/field/core/domain/field/data/data-type';\nimport { CellView } from '../../domain/column/cell-view';\n\n\nexport abstract class TemplateFactory<T extends TemplatesComponent> {\n\n\tprivate templates: Map<DataType | CellView, TemplateRef<any>> = new Map<DataType | CellView, TemplateRef<any>>();\n\n\tprivate templatesComponent: ComponentRef<T> = null;\n\n\tprotected constructor(private readonly templatesComponentDefinition: Type<T>,\n\t\t\t\t\t\t  private readonly componentFactoryResolver: ComponentFactoryResolver) {\n\t\tthis.createTemplatesComponent();\n\t}\n\n\tabstract generateMapKeys(): Array<DataType | CellView>;\n\n\tgetTemplates(): Map<DataType | CellView, TemplateRef<any>> {\n\t\treturn this.templates;\n\t}\n\n\tdestroy(): void {\n\t\tif (this.templatesComponent) {\n\t\t\tthis.templatesComponent.destroy();\n\t\t\tthis.templatesComponent = null;\n\t\t}\n\t}\n\n\tprivate createTemplatesComponent(): void {\n\n\t\tconst componentFactory = this.componentFactoryResolver.resolveComponentFactory(this.templatesComponentDefinition);\n\n\t\tconst injector: Injector = Injector.create({ providers: [] });\n\n\t\tthis.templatesComponent = componentFactory.create(injector);\n\n\t\tthis.generateMap();\n\t}\n\n\tprivate generateMap(): void {\n\t\tthis.generateMapKeys()\n\t\t\t.forEach((type: DataType | CellView) => {\n\t\t\t\tthis.findAndSetTemplate(type);\n\t\t\t});\n\t};\n\n\tprivate findAndSetTemplate(dt: DataType | CellView): void {\n\n\t\tconst template = this.templatesComponent.instance.getTemplate(dt);\n\n\t\tthis.templates.set(dt, template);\n\t}\n\n}\n","import { ComponentFactoryResolver, Injectable } from '@angular/core';\n\nimport { ViewTemplatesComponent } from './view-templates.component';\nimport { CellView } from '../../domain/column/cell-view';\nimport { TemplateFactory } from '../template/template.factory';\n\n\n@Injectable()\nexport class ViewTemplateFactory extends TemplateFactory<ViewTemplatesComponent> {\n\n\tconstructor(componentFactoryResolver: ComponentFactoryResolver) {\n\t\tsuper(\n\t\t\tViewTemplatesComponent,\n\t\t\tcomponentFactoryResolver\n\t\t);\n\t}\n\n\tgenerateMapKeys(): Array<CellView> {\n\t\treturn Object.keys(CellView)\n\t\t\t\t\t .map(key => CellView[key]);\n\t}\n}\n","import { Injectable, TemplateRef } from '@angular/core';\nimport { ViewTemplateFactory } from './view-template.factory';\nimport { CellView } from '../../domain/column/cell-view';\n\n\n@Injectable()\nexport class ViewTemplateRepository {\n\n\tconstructor(private columnTemplateFactory: ViewTemplateFactory) {\n\t}\n\n\tfindTemplate(view: CellView): TemplateRef<any> {\n\t\tconst typeToTemplate = this.columnTemplateFactory.getTemplates();\n\n\t\treturn typeToTemplate.get(view);\n\t}\n\n}\n","import { Component, TemplateRef, ViewChild } from '@angular/core';\n\nimport { TemplatesComponent } from '../template/templates.component';\nimport { DataType } from '../../../../structure/field/core/domain/field/data/data-type';\n\n\n@Component({\n\ttemplate: `\n\n\t\t<ng-template #string let-valueChanges=\"valueChanges\" let-value=\"value\" let-status=\"status\" let-focus=\"focus\">\n\t\t\t<gui-string-edit [valueChanges]=\"valueChanges\" [value]=\"value\" [status]=\"status\" [focus]=\"focus\">\n\t\t\t</gui-string-edit>\n\t\t</ng-template>\n\n\t\t<ng-template #number let-valueChanges=\"valueChanges\" let-value=\"value\" let-status=\"status\" let-focus=\"focus\">\n\t\t\t<gui-number-edit [valueChanges]=\"valueChanges\" [value]=\"value\" [status]=\"status\" [focus]=\"focus\">\n\t\t\t</gui-number-edit>\n\t\t</ng-template>\n\n\t\t<ng-template #boolean let-valueChanges=\"valueChanges\" let-value=\"value\" let-status=\"status\" let-focus=\"focus\">\n\t\t\t<gui-boolean-edit [valueChanges]=\"valueChanges\" [value]=\"value\" [status]=\"status\" [focus]=\"focus\">\n\t\t\t</gui-boolean-edit>\n\t\t</ng-template>\n\n\t\t<ng-template #date let-valueChanges=\"valueChanges\" let-value=\"value\" let-status=\"status\" let-focus=\"focus\" let-parent=\"parent\">\n\t\t\t<gui-date-edit [valueChanges]=\"valueChanges\" [value]=\"value\" [status]=\"status\" [focus]=\"focus\" [parent]=\"parent\">\n\t\t\t</gui-date-edit>\n\t\t</ng-template>\n\n\t\t<ng-template #empty>\n\n\t\t</ng-template>\n\n\t`\n})\nexport class EditTemplatesComponent implements TemplatesComponent {\n\n\t@ViewChild('string', { read: TemplateRef, static: true })\n\tstringTemplate: TemplateRef<any>;\n\n\t@ViewChild('number', { read: TemplateRef, static: true })\n\tnumberTemplate: TemplateRef<any>;\n\n\t@ViewChild('boolean', { read: TemplateRef, static: true })\n\tbooleanTemplate: TemplateRef<any>;\n\n\t@ViewChild('date', { read: TemplateRef, static: true })\n\tdateTemplate: TemplateRef<any>;\n\n\t@ViewChild('empty', { read: TemplateRef, static: true })\n\temptyTemplate: TemplateRef<any>;\n\n\tgetTemplate(dataType: DataType): TemplateRef<any> {\n\n\t\tswitch (dataType) {\n\n\t\t\tcase DataType.STRING:\n\t\t\t\treturn this.stringTemplate;\n\n\t\t\tcase DataType.NUMBER:\n\t\t\t\treturn this.numberTemplate;\n\n\t\t\tcase DataType.BOOLEAN:\n\t\t\t\treturn this.booleanTemplate;\n\n\t\t\tcase DataType.DATE:\n\t\t\t\treturn this.dateTemplate;\n\n\t\t\tdefault:\n\t\t\t\treturn this.emptyTemplate;\n\t\t}\n\t}\n\n}\n","import { ComponentFactoryResolver, Injectable } from '@angular/core';\nimport { TemplateFactory } from '../template/template.factory';\nimport { EditTemplatesComponent } from './edit-templates.component';\nimport { DataType } from '../../../../structure/field/core/domain/field/data/data-type';\n\n\n@Injectable()\nexport class EditTemplateFactory extends TemplateFactory<EditTemplatesComponent> {\n\n\tconstructor(componentFactoryResolver: ComponentFactoryResolver) {\n\t\tsuper(\n\t\t\tEditTemplatesComponent,\n\t\t\tcomponentFactoryResolver\n\t\t);\n\t}\n\n\tgenerateMapKeys(): Array<DataType> {\n\t\treturn Object.keys(DataType)\n\t\t\t\t\t .map(key => DataType[key]);\n\t}\n}\n","import { Injectable, TemplateRef } from '@angular/core';\nimport { EditTemplateFactory } from './edit-template.factory';\nimport { DataType } from '../../../../structure/field/core/domain/field/data/data-type';\n\n\n@Injectable()\nexport class EditTemplateRepository {\n\n\tconstructor(private editTemplateFactory: EditTemplateFactory) {\n\t}\n\n\tfindTemplate(dataType: DataType): TemplateRef<any> {\n\t\tconst typeToTemplate = this.editTemplateFactory.getTemplates();\n\n\t\treturn typeToTemplate.get(dataType);\n\t}\n\n}\n","import { CellValue } from './cell-value';\n\nexport class CellContext {\n\n\tconstructor(public element: CellValue) {\n\t}\n}\n","import { TemplateRef } from '@angular/core';\n\nimport { ReadModelEntity } from '@generic-ui/hermes';\n\nimport { ColumnField } from '../../domain/column/field/column-field';\nimport { SortOrder } from '../../domain/column/sort/sort-order';\nimport { HeaderTemplate } from '../../api/column/column.config';\nimport { CellTemplateWithContext } from './cell-template-with-context';\nimport { CellContext } from './cell-context';\nimport { FieldId } from '../../../../structure/field/core/domain/field/field.id';\nimport { CellTemplateWithAccessor } from './cell-template-with-accessor';\nimport { DataType } from '../../../../structure/field/core/domain/field/data/data-type';\nimport { ViewEntity } from '../../domain/column/view.entity';\nimport { ColumnAlign } from '../../domain/column/column-align';\nimport { ColumnDefinitionId } from './column-definition-id';\nimport { CellValue } from './cell-value';\n\n\nexport class ColumnDefinition extends ReadModelEntity<ColumnDefinitionId> {\n\n\tcellTemplate: TemplateRef<any>;\n\n\theaderTemplate: TemplateRef<any>;\n\n\teditTemplate: TemplateRef<any>;\n\n\twidth: number;\n\n\tprivate templateFunction: (i: any, item: any) => string;\n\n\tprivate formatterFunction: (i: any, item: any) => string;\n\n\tprivate readonly columnDefinitionId: ColumnDefinitionId;\n\n\tprivate field: ColumnField;\n\n\tprivate sortStatus: SortOrder;\n\n\tprivate sortable: boolean = true;\n\n\tprivate header: string | HeaderTemplate;\n\n\tprivate enabled: boolean;\n\n\tprivate cellEditingEnabled: boolean;\n\n\tconstructor(field: ColumnField,\n\t\t\t\tcolumnDefinitionId: ColumnDefinitionId, // REFACTOR Id first argument\n\t\t\t\tenabled: boolean,\n\t\t\t\tprivate readonly type: DataType, // REFACTOR\n\t\t\t\tprivate readonly view: ViewEntity, // REFACTOR\n\t\t\t\tprivate readonly align: ColumnAlign, // REFACTOR\n\t\t\t\theader: string | HeaderTemplate,\n\t\t\t\tcellEditingEnabled: boolean,\n\t\t\t\tsort: SortOrder = SortOrder.NONE,\n\t\t\t\tsortable = true) {\n\t\tsuper(columnDefinitionId);\n\t\tthis.field = field;\n\t\tthis.columnDefinitionId = columnDefinitionId;\n\t\tthis.enabled = enabled;\n\t\tthis.header = header;\n\t\tthis.cellEditingEnabled = cellEditingEnabled;\n\t\tthis.sortStatus = sort;\n\t\tthis.sortable = sortable;\n\t}\n\n\tisEnabled(): boolean {\n\t\treturn this.enabled;\n\t}\n\n\tsetHeader(header: string): void {\n\t\tthis.header = header;\n\t}\n\n\tsetField(field: ColumnField): void {\n\t\tthis.field = field;\n\t}\n\n\tsetTemplateFunction(templateFun: (i: any, item: any) => string): void {\n\t\tthis.templateFunction = templateFun;\n\t}\n\n\tsetFormatterFunction(formatter: (i: any, item: any) => string): void {\n\t\tthis.formatterFunction = formatter;\n\t}\n\n\tgetHeaderCellTemplateWithContext(index: number): CellTemplateWithContext {\n\n\t\tconst header: any = this.header || '';\n\t\tlet headerCellContext: CellContext;\n\n\t\tif (typeof header === 'string') {\n\t\t\theaderCellContext = new CellContext(CellValue.text(header));\n\t\t} else if (typeof header === 'function') {\n\t\t\theaderCellContext = new CellContext(CellValue.text(header(index)));\n\t\t}\n\n\t\tconst fieldId = new FieldId(this.field.getId().getId());\n\n\t\treturn new CellTemplateWithContext(\n\t\t\tthis.headerTemplate,\n\t\t\tthis.editTemplate,\n\t\t\theaderCellContext,\n\t\t\tthis.width,\n\t\t\tfieldId,\n\t\t\tthis.columnDefinitionId,\n\t\t\tthis.sortStatus,\n\t\t\tthis.enabled,\n\t\t\tthis.sortable,\n\t\t\tthis.align\n\t\t);\n\t}\n\n\tgetContentCellTemplateWithAccessor(): CellTemplateWithAccessor {\n\n\t\tconst accessor = (entity: any) => {\n\t\t\treturn this.field.getAccessor()(entity);\n\t\t}, searchAccessor = (entity: any) => {\n\t\t\treturn this.field.getSearchAccessor()(entity);\n\t\t};\n\n\t\treturn new CellTemplateWithAccessor(\n\t\t\tthis.cellTemplate,\n\t\t\tthis.editTemplate,\n\t\t\ttrue,\n\t\t\tthis.templateFunction,\n\t\t\tthis.formatterFunction,\n\t\t\taccessor,\n\t\t\tsearchAccessor,\n\t\t\tthis.width,\n\t\t\tthis.field.getId(),\n\t\t\tthis.align,\n\t\t\tthis.cellEditingEnabled,\n\t\t\tthis.type,\n\t\t\tthis.view\n\t\t);\n\t}\n\n}\n","import { Injectable, TemplateRef } from '@angular/core';\n\nimport { ViewTemplateRepository } from '../view/view-template.repository';\nimport { EditTemplateRepository } from '../edit/edit-template.repository';\nimport { ColumnEntity } from '../../domain/column/column.entity';\nimport { ColumnDefinition } from './column-definition';\nimport { CellView } from '../../domain/column/cell-view';\nimport { DataType } from '../../../../structure/field/core/domain/field/data/data-type';\nimport { ActiveColumnEntity } from '../../domain/column/active/active-column.entity';\nimport { ColumnDefinitionId } from './column-definition-id';\n\n\n@Injectable()\nexport class ColumnDefinitionFactory {\n\n\tconstructor(private viewTemplateRepository: ViewTemplateRepository,\n\t\t\t\tprivate editTemplateRepository: EditTemplateRepository) {\n\t}\n\n\tcreate(column: ColumnEntity): ColumnDefinition;\n\tcreate(column: ActiveColumnEntity): ColumnDefinition;\n\tcreate(column: ColumnEntity | ActiveColumnEntity): ColumnDefinition {\n\n\t\tif (column instanceof ColumnEntity) {\n\t\t\treturn this.createFromColumnEntity(column);\n\t\t} else {\n\t\t\treturn this.createFromActiveColumnEntity(column);\n\t\t}\n\t}\n\n\tprivate createFromColumnEntity(column: ColumnEntity): ColumnDefinition {\n\n\t\tconst columnDef = new ColumnDefinition(\n\t\t\tcolumn.getField(),\n\t\t\tnew ColumnDefinitionId(column.getId().toString()),\n\t\t\tcolumn.isEnabled(),\n\t\t\tcolumn.getDataType(),\n\t\t\tcolumn.getView(),\n\t\t\tcolumn.getAlign(),\n\t\t\tcolumn.getHeader(),\n\t\t\tcolumn.isCellEditingEnabled(),\n\t\t\tcolumn.getSortStatus(),\n\t\t\tcolumn.getSortingEnabled()\n\t\t);\n\n\t\tcolumnDef.cellTemplate = this.findViewTemplate(column.getCellView());\n\t\tcolumnDef.headerTemplate = this.findViewTemplate(CellView.TEXT);\n\n\t\tcolumnDef.setTemplateFunction(column.getTemplateFunction());\n\t\tcolumnDef.setFormatterFunction(column.getFormatterFunction());\n\n\t\tcolumnDef.editTemplate = this.findEditTemplate(column.getDataType());\n\n\t\tcolumnDef.width = +column.getWidth();\n\n\t\treturn columnDef;\n\t}\n\n\tprivate createFromActiveColumnEntity(activeColumn: ActiveColumnEntity): ColumnDefinition {\n\n\t\tconst columnDef = new ColumnDefinition(\n\t\t\tactiveColumn.getField(),\n\t\t\tnew ColumnDefinitionId(activeColumn.getId().toString()),\n\t\t\ttrue, // remove,\n\t\t\tactiveColumn.getDataType(),\n\t\t\tactiveColumn.getView(),\n\t\t\tactiveColumn.getAlign(),\n\t\t\tactiveColumn.getHeader(),\n\t\t\tactiveColumn.isCellEditingEnabled(),\n\t\t\tactiveColumn.getSortStatus(),\n\t\t\tactiveColumn.getSortingEnabled()\n\t\t);\n\n\t\tcolumnDef.cellTemplate = this.findViewTemplate(activeColumn.getCellView());\n\t\tcolumnDef.headerTemplate = this.findViewTemplate(CellView.TEXT);\n\n\t\tcolumnDef.setTemplateFunction(activeColumn.getTemplateFunction());\n\t\tcolumnDef.setFormatterFunction(activeColumn.getFormatterFunction());\n\n\t\tcolumnDef.editTemplate = this.findEditTemplate(activeColumn.getDataType());\n\n\t\tcolumnDef.width = +activeColumn.getWidth();\n\n\t\treturn columnDef;\n\t}\n\n\tcreateColumns(columns: Array<ColumnEntity>): Array<ColumnDefinition> {\n\t\treturn columns.map((column: ColumnEntity) => this.create(column));\n\t}\n\n\tprivate findViewTemplate(view: CellView): TemplateRef<any> {\n\n\t\tif (view === CellView.FUNCTION) {\n\t\t\treturn this.viewTemplateRepository.findTemplate(CellView.FUNCTION);\n\t\t} else {\n\t\t\treturn this.viewTemplateRepository.findTemplate(view);\n\t\t}\n\t}\n\n\tprivate findEditTemplate(dataType: DataType): TemplateRef<any> {\n\t\treturn this.editTemplateRepository.findTemplate(dataType);\n\t}\n\n}\n","import { ReadModelRoot } from '@generic-ui/hermes';\n\nimport { ColumnDefinition } from './definition/column-definition';\nimport { CellTemplateWithContext } from './definition/cell-template-with-context';\nimport { CellTemplateWithAccessor } from './definition/cell-template-with-accessor';\nimport { CompositionReadModelRootId } from '../api/composition.read-model-root-id';\n\n\nexport class CompositionReadModeRoot extends ReadModelRoot<CompositionReadModelRootId> {\n\n\tconstructor(uid: CompositionReadModelRootId,\n\t\t\t\tprivate readonly ready: boolean,\n\t\t\t\tprivate readonly allColumns: Array<ColumnDefinition>,\n\t\t\t\tprivate readonly activeColumns: Array<ColumnDefinition>,\n\t\t\t\tprivate readonly width: number,\n\t\t\t\tprivate readonly resizeWidth: boolean) {\n\t\tsuper(uid);\n\t}\n\n\tgetActiveColumns(): Array<ColumnDefinition> {\n\t\treturn this.activeColumns;\n\t}\n\n\tgetAllColumns(): Array<ColumnDefinition> {\n\t\treturn this.allColumns;\n\t}\n\n\tgetActiveHeaderColumns(): Array<CellTemplateWithContext> {\n\t\treturn this.getActiveColumns()\n\t\t\t\t   .map((column: ColumnDefinition, index: number) => column.getHeaderCellTemplateWithContext(index));\n\t}\n\n\tgetHeaderColumns(): Array<CellTemplateWithContext> {\n\t\treturn this.getAllColumns()\n\t\t\t\t   .map((column: ColumnDefinition, index: number) => column.getHeaderCellTemplateWithContext(index));\n\t}\n\n\tgetTemplateColumns(): Array<CellTemplateWithAccessor> {\n\t\treturn this.getActiveColumns()\n\t\t\t\t   .map((column: ColumnDefinition) => column.getContentCellTemplateWithAccessor());\n\t}\n\n\tgetWidth(): number {\n\t\treturn this.width;\n\t}\n\n\tgetContainerWidth(): number {\n\t\treturn +this.width - 2;\n\t}\n\n\tisReady(): boolean {\n\t\treturn this.ready;\n\t}\n\n\tisResizeWidthEnabled(): boolean {\n\t\treturn this.resizeWidth;\n\t}\n\n\tequals(composition: CompositionReadModeRoot): boolean {\n\t\treturn this.width === composition.width &&\n\t\t\tthis.resizeWidth === composition.resizeWidth &&\n\t\t\tthis.equalsByColumns(composition.allColumns);\n\t}\n\n\tequalsByColumns(columns: Array<ColumnDefinition>): boolean {\n\t\treturn this.allColumns.length === columns.length;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { ColumnDefinitionFactory } from './definition/column-definition.factory';\nimport { CompositionAggregate } from '../domain/composition.aggregate';\nimport { CompositionReadModeRoot } from './composition.read-mode-root';\nimport { ColumnEntity } from '../domain/column/column.entity';\nimport { ColumnDefinition } from './definition/column-definition';\nimport { ActiveColumnEntity } from '../domain/column/active/active-column.entity';\n\n\n@Injectable()\nexport class CompositionReadModelRootConverter {\n\n\tconstructor(private columnDefinitionFactory: ColumnDefinitionFactory) {\n\t}\n\n\tconvert(aggregate: CompositionAggregate): CompositionReadModeRoot {\n\n\t\tconst ready = aggregate.isReady(),\n\t\t\tallColumns: Array<ColumnEntity> = aggregate.getColumns(),\n\t\t\tactiveColumns: Array<ActiveColumnEntity> = aggregate.getActiveColumns(),\n\t\t\tallColumnDefs: Array<ColumnDefinition> = this.convertToColumnDef(allColumns),\n\t\t\tactiveColumnDefs: Array<ColumnDefinition> = this.convertActiveColumnsToColumnDef(activeColumns),\n\t\t\twidth = aggregate.getWidth(),\n\t\t\tresizeWidth = aggregate.isResizeEnabled(),\n\t\t\taggregateId = aggregate.getId();\n\n\t\treturn new CompositionReadModeRoot(aggregateId.toReadModelRootId(), ready, allColumnDefs, activeColumnDefs, width, resizeWidth);\n\t}\n\n\tprivate convertToColumnDef(columns: Array<ColumnEntity>): Array<ColumnDefinition> {\n\n\t\tconst columnDefs: Array<ColumnDefinition> = [];\n\n\t\tcolumns.forEach((column: ColumnEntity) => {\n\n\t\t\tconst columnDef = this.columnDefinitionFactory.create(column);\n\n\t\t\tcolumnDefs.push(columnDef);\n\t\t});\n\n\t\treturn columnDefs;\n\t}\n\n\tprivate convertActiveColumnsToColumnDef(activeColumns: Array<ActiveColumnEntity>): Array<ColumnDefinition> {\n\n\t\tconst columnDefs: Array<ColumnDefinition> = [];\n\n\t\tactiveColumns.forEach((column: ActiveColumnEntity) => {\n\n\t\t\tconst columnDef = this.columnDefinitionFactory.create(column);\n\n\t\t\tcolumnDefs.push(columnDef);\n\t\t});\n\n\t\treturn columnDefs;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { InMemoryReadModelStore } from '@generic-ui/hermes';\n\nimport { CompositionReadModeRoot } from '../../../domain-read/composition.read-mode-root';\nimport { CompositionAggregate } from '../../../domain/composition.aggregate';\nimport { InMemoryCompositionStore } from '../in-memory.composition.store';\nimport { CompositionReadModelRootConverter } from '../../../domain-read/composition.read-model-root-converter';\nimport { CompositionId } from '../../../domain/composition.id';\nimport { CompositionReadModelRootId } from '../../../api/composition.read-model-root-id';\n\n\n@Injectable()\nexport class InMemoryCompositionReadStore extends InMemoryReadModelStore<CompositionReadModelRootId,\n\tCompositionReadModeRoot,\n\tCompositionId,\n\tCompositionAggregate> {\n\n\tconstructor(private inMemoryCompositionStore: InMemoryCompositionStore,\n\t\t\t\tprivate compositionConverter: CompositionReadModelRootConverter) {\n\t\tsuper(inMemoryCompositionStore);\n\t}\n\n\ttoReadModel(aggregate: CompositionAggregate): CompositionReadModeRoot {\n\t\treturn this.compositionConverter.convert(aggregate);\n\t}\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, ReplaySubject } from 'rxjs';\nimport { filter, map } from 'rxjs/operators';\n\nimport { DomainEvent, DomainEventBus } from '@generic-ui/hermes';\n\nimport { CompositionReadModelRootRepository } from '../../../domain-read/composition.read-model-root-repository';\nimport { CompositionReadModeRoot } from '../../../domain-read/composition.read-mode-root';\nimport { InMemoryCompositionReadStore } from './in-memory.composition.read-store';\nimport { CompositionCreatedEvent } from '../../../domain/create/composition-created.event';\nimport { CompositionResizeWidthSetEvent } from '../../../domain/width/resize-width/composition-resize-width-set.event';\nimport { CompositionColumnsSetEvent } from '../../../domain/column/set-columns/composition.columns-set.event';\nimport { CompositionContainerWidthSetEvent } from '../../../domain/width/set-container-width/composition-container-width-set.event';\nimport { CompositionWidthSetEvent } from '../../../domain/width/set-width/composition-width-set.event';\nimport { CompositionChangeSortStatusEvent } from '../../../domain/column/sort/composition-change-sort-status.event';\nimport { CompositionColumnSetEnabledEvent } from '../../../domain/column/set-enabled/composition.column-set-enabled.event';\nimport { CompositionColumnMovedLeftEvent } from '../../../domain/column/move/left/composition.column-moved-left.event';\nimport { CompositionColumnMovedRightEvent } from '../../../domain/column/move/right/composition.column-moved-right.event';\nimport { CompositionId } from '../../../domain/composition.id';\n\n\n@Injectable()\nexport class InMemoryCompositionRepository extends CompositionReadModelRootRepository {\n\n\tprivate readonly compositionIdToComposition = new Map<string, CompositionReadModeRoot>();\n\n\tprivate readonly composition$ = new ReplaySubject<Map<string, CompositionReadModeRoot>>(1);\n\n\tconstructor(domainEventBus: DomainEventBus,\n\t\t\t\tprivate inMemoryCompositionReadStore: InMemoryCompositionReadStore) {\n\t\tsuper(domainEventBus);\n\t}\n\n\ton(compositionId: CompositionId): Observable<Readonly<CompositionReadModeRoot>> {\n\n\t\treturn this.composition$\n\t\t\t\t   .asObservable()\n\t\t\t\t   .pipe(\n\t\t\t\t\t   filter((compositionIdToComposition: Map<string, CompositionReadModeRoot>) => {\n\n\t\t\t\t\t\t   const key = compositionId.getId();\n\n\t\t\t\t\t\t   return compositionIdToComposition.has(key);\n\t\t\t\t\t   }),\n\t\t\t\t\t   map((compositionIdToComposition: Map<string, CompositionReadModeRoot>) => compositionIdToComposition.get(compositionId.getId()))\n\t\t\t\t   );\n\t}\n\n\tprotected forEvents(): Array<typeof DomainEvent> {\n\t\treturn [\n\t\t\tCompositionCreatedEvent,\n\t\t\tCompositionResizeWidthSetEvent,\n\t\t\tCompositionColumnsSetEvent,\n\t\t\tCompositionContainerWidthSetEvent,\n\t\t\tCompositionWidthSetEvent,\n\t\t\tCompositionColumnSetEnabledEvent,\n\t\t\tCompositionColumnMovedLeftEvent,\n\t\t\tCompositionColumnMovedRightEvent,\n\t\t\tCompositionChangeSortStatusEvent as any\n\t\t];\n\t}\n\n\tprotected subscribe(event: DomainEvent<CompositionId>): void {\n\n\t\tconst aggregateId = event.getAggregateId();\n\n\t\tconst optComposition = this.inMemoryCompositionReadStore.getById(aggregateId);\n\n\t\toptComposition.ifPresent((composition: CompositionReadModeRoot) => {\n\t\t\tconst key = composition.getId().toString();\n\n\t\t\tthis.compositionIdToComposition.set(key, composition);\n\n\t\t\tthis.composition$.next(this.compositionIdToComposition);\n\t\t});\n\t}\n}\n","import { InMemoryCompositionAggregateStore } from './domain/in-memory.composition.aggregate-store';\nimport { CompositionAggregateRepository } from '../../domain/composition.aggregate-repository';\nimport { InMemoryCompositionAggregateRepository } from './domain/in-memory.composition.aggregate-repository';\nimport { InMemoryCompositionReadStore } from './api/in-memory.composition.read-store';\nimport { CompositionReadModelRootRepository } from '../../domain-read/composition.read-model-root-repository';\nimport { InMemoryCompositionRepository } from './api/in-memory.composition.repository';\nimport { InMemoryCompositionStore } from './in-memory.composition.store';\n\nexport const inMemoryCompositionCommandProviders = [\n\tInMemoryCompositionAggregateStore,\n\t{\n\t\tprovide: CompositionAggregateRepository,\n\t\tuseClass: InMemoryCompositionAggregateRepository\n\t}\n];\n\nexport const inMemoryCompositionReadModelProviders = [\n\tInMemoryCompositionReadStore,\n\t{\n\t\tprovide: CompositionReadModelRootRepository,\n\t\tuseClass: InMemoryCompositionRepository\n\t}\n];\n\nexport const inMemoryCompositionProviders = [\n\tInMemoryCompositionStore\n];\n","import { Injectable } from '@angular/core';\n\nimport { AggregateEvent, CommandHandler, CommandType, DomainEventPublisher } from '@generic-ui/hermes';\n\nimport { CompositionAggregateRepository } from '../../composition.aggregate-repository';\nimport { CompositionEventConverter } from '../../composition.event-converter';\nimport { CompositionAggregate } from '../../composition.aggregate';\n\nimport { SetGroupsCommand } from './set-groups.command';\nimport { CompositionId } from '../../composition.id';\nimport { ColumnConfig, MultiColumnConfig } from '../../../api/column/column.config';\n\n\n@Injectable()\nexport class SetGroupsCommandHandler implements CommandHandler<CompositionAggregate, SetGroupsCommand> {\n\n\tconstructor(private readonly compositionAggregateRepository: CompositionAggregateRepository,\n\t\t\t\tprivate readonly domainEventPublisher: DomainEventPublisher,\n\t\t\t\tprivate readonly compositionEventConverter: CompositionEventConverter) {\n\t}\n\n\tforCommand(): CommandType<SetGroupsCommand> {\n\t\treturn SetGroupsCommand;\n\t}\n\n\thandle(aggregate: CompositionAggregate, command: SetGroupsCommand): void {\n\n\t\tconst groupConfigs: Array<ColumnConfig | MultiColumnConfig> = command.getConfigs();\n\n\t\taggregate.setGroups(groupConfigs);\n\t}\n\n\tpublish(aggregate: CompositionAggregate, command: SetGroupsCommand): void {\n\t\tthis.publishEvents(aggregate, command);\n\t}\n\n\tprivate publishEvents(composition: CompositionAggregate, command: SetGroupsCommand): void {\n\n\t\tconst events = composition.getEvents() as Array<AggregateEvent<CompositionId>>;\n\n\t\tconst domainEvents = this.compositionEventConverter.convert(events);\n\n\t\tthis.domainEventPublisher.publish(domainEvents);\n\t}\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule, Provider } from '@angular/core';\n\nimport { DomainModule, HermesModule } from '@generic-ui/hermes';\n\nimport { SetColumnsCommandHandler } from './column/set-columns/set-columns.command-handler';\nimport { compositionKey } from './composition.key';\nimport { SetCompositionWidthCommandHandler } from './width/set-width/set-composition-width.command-handler';\nimport { SetCompositionResizeWidthCommandHandler } from './width/resize-width/set-composition-resize-width.command-handler';\nimport { SetCompositionContainerWidthCommandHandler } from './width/set-container-width/set-composition-container-width.command-handler';\nimport { CompositionSetColumnEnabledCommandHandler } from './column/set-enabled/composition.set-column-enabled.command-handler';\nimport { CompositionChangeSortStatusCommandHandler } from './column/sort/composition-change-sort-status.command-handler';\nimport { CompositionMoveLeftColumnCommandHandler } from './column/move/left/composition.move-left-column.command-handler';\nimport { CompositionMoveRightColumnCommandHandler } from './column/move/right/composition.move-right-column.command-handler';\nimport { CompositionChangeSortStatusEventHandler } from './column/sort/composition-change-sort-status.event-handler';\nimport { inMemoryCompositionCommandProviders } from '../infrastructure/in-memory/in-memory.composition.providers';\nimport { CompositionDispatcher } from './composition.dispatcher';\nimport { ColumnEntityFactory } from './column/column-entity.factory';\nimport { ColumnPresentationConverter } from './column/presentation/column.presentation.converter';\nimport { CompositionEventConverter } from './composition.event-converter';\nimport { ColumnFieldFactory } from './column/field/colum-field.factory';\nimport { CompositionGroupFactory } from './group/composition.group.factory';\nimport { SetGroupsCommandHandler } from './group/set-groups/set-groups.command-handler';\n\n@NgModule({\n\timports: [\n\t\tCommonModule\n\t],\n\tproviders: [\n\t\t...inMemoryCompositionCommandProviders,\n\t\tCompositionDispatcher,\n\t\tColumnEntityFactory,\n\t\tColumnPresentationConverter,\n\t\tCompositionEventConverter,\n\t\tColumnFieldFactory,\n\t\tCompositionGroupFactory\n\t],\n\tdeclarations: [],\n\texports: []\n})\nexport class CompositionDomainModule extends DomainModule {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tstatic commandHandlers(): Array<Provider> {\n\t\treturn [\n\t\t\t...HermesModule.registerCommandHandler(SetColumnsCommandHandler, compositionKey),\n\t\t\t...HermesModule.registerCommandHandler(SetCompositionWidthCommandHandler, compositionKey),\n\t\t\t...HermesModule.registerCommandHandler(SetCompositionResizeWidthCommandHandler, compositionKey),\n\t\t\t...HermesModule.registerCommandHandler(SetCompositionContainerWidthCommandHandler, compositionKey),\n\t\t\t...HermesModule.registerCommandHandler(CompositionSetColumnEnabledCommandHandler, compositionKey),\n\t\t\t...HermesModule.registerCommandHandler(CompositionChangeSortStatusCommandHandler, compositionKey),\n\t\t\t...HermesModule.registerCommandHandler(CompositionMoveLeftColumnCommandHandler, compositionKey),\n\t\t\t...HermesModule.registerCommandHandler(CompositionMoveRightColumnCommandHandler, compositionKey),\n\t\t\t...HermesModule.registerCommandHandler(SetGroupsCommandHandler, compositionKey)\n\t\t];\n\t}\n\n\tstatic domainEventHandlers(): Array<Provider> {\n\t\treturn [\n\t\t\t...HermesModule.registerMultiDomainEventHandler(CompositionChangeSortStatusEventHandler)\n\t\t];\n\t}\n\n}\n","import { DomainEventBus } from '@generic-ui/hermes';\nimport { CompositionReadModelRootId } from '../api/composition.read-model-root-id';\nimport { CompositionColumnsSetEvent } from './column/set-columns/composition.columns-set.event';\nimport { CompositionContainerWidthSetEvent } from './width/set-container-width/composition-container-width-set.event';\nimport { CompositionEventRepository } from '../api/composition.event-repository';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { filter, map } from 'rxjs/operators';\n\n@Injectable()\nexport class CompositionDomainEventRepository extends CompositionEventRepository {\n\n\tconstructor(domainEventBus: DomainEventBus) {\n\t\tsuper(domainEventBus);\n\t}\n\n\tonColumnsChanged(compositionId: CompositionReadModelRootId): Observable<CompositionColumnsSetEvent> {\n\n\t\treturn this.onEvent(compositionId, CompositionColumnsSetEvent);\n\t}\n\n\tonContainerWidthChanged(compositionId: CompositionReadModelRootId): Observable<number> {\n\n\t\treturn this.onEvent(compositionId, CompositionContainerWidthSetEvent)\n\t\t\t\t   .pipe(\n\t\t\t\t\t   map((event: CompositionContainerWidthSetEvent) => {\n\t\t\t\t\t\t   return event.getPayload();\n\t\t\t\t\t   }),\n\t\t\t\t\t   filter((width: number) => !!width)\n\t\t\t\t   );\n\t}\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { ApiModule, HermesModule } from '@generic-ui/hermes';\n\nimport { compositionKey } from '../domain/composition.key';\nimport { CompositionAggregateFactory } from '../domain/composition.aggregate-factory';\nimport { InMemoryCompositionAggregateRepository } from '../infrastructure/in-memory/domain/in-memory.composition.aggregate-repository';\nimport { CreateCompositionCommandHandler } from '../domain/create/create-composition.command-handler';\nimport { CompositionDomainModule } from '../domain/composition.domain-module';\nimport { inMemoryCompositionProviders, inMemoryCompositionReadModelProviders } from '../infrastructure/in-memory/in-memory.composition.providers';\nimport { ColumnDefinitionFactory } from '../domain-read/definition/column-definition.factory';\nimport { ViewTemplateRepository } from '../domain-read/view/view-template.repository';\nimport { ViewTemplateFactory } from '../domain-read/view/view-template.factory';\nimport { EditTemplateFactory } from '../domain-read/edit/edit-template.factory';\nimport { EditTemplateRepository } from '../domain-read/edit/edit-template.repository';\nimport { CompositionReadModelRootConverter } from '../domain-read/composition.read-model-root-converter';\nimport { CompositionCommandInvoker } from './composition.command-invoker';\nimport { CompositionWarehouse } from './composition.warehouse';\nimport { CompositionEventRepository } from './composition.event-repository';\nimport { CompositionGroupRepository } from '../domain-read/group/composition.group.repository';\nimport { CompositionDomainCommandInvoker } from '../domain/compositon.domain-command-invoker';\nimport { CompositionDomainEventRepository } from '../domain/composition.domain-event-repository';\nimport { CompositionDomainWarehouse } from '../domain-read/composition.domain-warehouse';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\n\t\tHermesModule.defineAggregate(\n\t\t\tcompositionKey,\n\t\t\tCompositionAggregateFactory,\n\t\t\tInMemoryCompositionAggregateRepository,\n\t\t\tCreateCompositionCommandHandler,\n\t\t\t[\n\t\t\t\tCompositionDomainModule.commandHandlers()\n\t\t\t], [\n\t\t\t\tCompositionDomainModule.domainEventHandlers()\n\t\t\t]\n\t\t),\n\n\t\tCompositionDomainModule\n\n\t],\n\tproviders: [\n\t\t...inMemoryCompositionReadModelProviders,\n\t\tColumnDefinitionFactory,\n\t\tViewTemplateRepository,\n\t\tViewTemplateFactory,\n\t\tEditTemplateFactory,\n\t\tEditTemplateRepository,\n\n\t\t...inMemoryCompositionProviders,\n\n\t\tCompositionReadModelRootConverter,\n\n\t\tCompositionGroupRepository,\n\n\t\t{\n\t\t\tprovide: CompositionCommandInvoker,\n\t\t\tuseClass: CompositionDomainCommandInvoker\n\t\t},\n\t\t{\n\t\t\tprovide: CompositionWarehouse,\n\t\t\tuseClass: CompositionDomainWarehouse\n\t\t},\n\t\t{\n\t\t\tprovide: CompositionEventRepository,\n\t\t\tuseClass: CompositionDomainEventRepository\n\t\t}\n\t],\n\tdeclarations: [],\n\texports: []\n})\nexport class CompositionApiModule extends ApiModule {\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { DomSanitizer, SafeHtml, SafeResourceUrl, SafeScript, SafeStyle, SafeUrl } from '@angular/platform-browser';\n\n@Pipe({\n\tname: 'guiSafe'\n})\nexport class SafePipe implements PipeTransform {\n\n\tconstructor(protected sanitizer: DomSanitizer) {\n\t}\n\n\ttransform(value: any, type: string): SafeHtml | SafeStyle | SafeScript | SafeUrl | SafeResourceUrl {\n\t\tswitch (type) {\n\t\t\tcase 'html':\n\t\t\t\treturn this.sanitizer.bypassSecurityTrustHtml(value);\n\t\t\tcase 'style':\n\t\t\t\treturn this.sanitizer.bypassSecurityTrustStyle(value);\n\t\t\tcase 'script':\n\t\t\t\treturn this.sanitizer.bypassSecurityTrustScript(value);\n\t\t\tcase 'url':\n\t\t\t\treturn this.sanitizer.bypassSecurityTrustUrl(value);\n\t\t\tcase 'resourceUrl':\n\t\t\t\treturn this.sanitizer.bypassSecurityTrustResourceUrl(value);\n\t\t\tdefault:\n\t\t\t\tthrow new Error(`Invalid safe type specified: ${type}`);\n\t\t}\n\t}\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { SafePipe } from './safe.pipe';\n\n@NgModule({\n\timports: [\n\t\tCommonModule\n\t],\n\tdeclarations: [\n\t\tSafePipe\n\t],\n\texports: [\n\t\tSafePipe\n\t]\n})\nexport class SanitizeModule {\n}\n","import { ChangeDetectorRef, ElementRef, Input } from '@angular/core';\n\nimport { SmartComponent } from '../../../../common/cdk/component/smart-component';\n\nimport { ChangedValueEmitter } from './changed-value.emitter';\nimport { EditEventType } from './state/edit.event-type';\n\n\nexport abstract class EditCommunicationComponent<T> extends SmartComponent {\n\n\t@Input()\n\tvalue: T;\n\n\t@Input()\n\tvalueChanges: ChangedValueEmitter<T>;\n\n\t@Input()\n\tstatus: ChangedValueEmitter<EditEventType>;\n\n\t@Input()\n\tfocus: boolean;\n\n\t@Input()\n\tparent: ElementRef;\n\n\tprotected readonly ENTER_KEY_CODE = 13;\n\n\tprotected readonly ESC_KEY_CODE = 27;\n\n\tprotected constructor(changeDetectorRef: ChangeDetectorRef,\n\t\t\t\t\t\t  elementRef: ElementRef) {\n\t\tsuper(changeDetectorRef, elementRef);\n\t}\n\n\tsubmit(): void {\n\t\tthis.emitStatus(EditEventType.SUBMIT);\n\t}\n\n\tcancel(): void {\n\t\tthis.emitStatus(EditEventType.CANCEL);\n\t}\n\n\tprivate emitStatus(status: EditEventType): void {\n\t\tif (this.status) {\n\t\t\tthis.status.emit(status);\n\t\t}\n\t}\n\n}\n","import { ChangeDetectorRef, ElementRef, ViewChild } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { fromEvent } from 'rxjs';\nimport { filter } from 'rxjs/operators';\n\nimport { EditCommunicationComponent } from '../edit-communication.component';\nimport { NgChanges } from '../../../../../common/cdk/component/ng-changes';\n\n\nexport abstract class InputEditTemplateComponent<T> extends EditCommunicationComponent<T> {\n\n\t@ViewChild('input', { static: true })\n\tinputRef: ElementRef;\n\n\tfilterForm: FormGroup;\n\n\treadonly filterFieldName = 'phrase';\n\n\tprotected constructor(private readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\t\t\t  elementRef: ElementRef,\n\t\t\t\t\t\t  private readonly formBuilder: FormBuilder) {\n\t\tsuper(changeDetectorRef, elementRef);\n\t\tthis.filterForm = this.formBuilder.group({\n\t\t\t[this.filterFieldName]: ['']\n\t\t});\n\t}\n\n\tngOnChanges(changes: NgChanges<InputEditTemplateComponent<any>>) {\n\t\tif (changes.value !== undefined) {\n\t\t\tthis.filterForm.get(this.filterFieldName).setValue(this.value);\n\t\t}\n\t}\n\n\tngOnInit() {\n\t\tthis.observeChanges();\n\t}\n\n\tngAfterViewInit() {\n\t\tconst inputElement = this.inputRef.nativeElement;\n\n\t\tthis.focusField(inputElement);\n\n\t\tthis.emitValueChange(inputElement.value);\n\n\t\tfromEvent(inputElement, 'blur')\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe(() => {\n\t\t\t\tthis.unsubscribe();\n\t\t\t\tthis.submit();\n\t\t\t});\n\n\t\tconst keyup$ = fromEvent(inputElement, 'keyup');\n\n\t\tkeyup$\n\t\t\t.pipe(\n\t\t\t\tfilter((e: any) => e.keyCode === this.ENTER_KEY_CODE),\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe(() => {\n\t\t\t\tthis.unsubscribe();\n\t\t\t\tthis.submit();\n\t\t\t});\n\n\t\tkeyup$\n\t\t\t.pipe(\n\t\t\t\tfilter((e: any) => e.keyCode === this.ESC_KEY_CODE),\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe(() => {\n\t\t\t\tthis.unsubscribe();\n\t\t\t\tthis.cancel();\n\t\t\t});\n\t}\n\n\tfocusField(inputElement: HTMLElement): void {\n\t\tif (this.focus) {\n\t\t\tinputElement.focus();\n\t\t}\n\t}\n\n\tprivate observeChanges() {\n\t\tthis.filterForm\n\t\t\t.controls[this.filterFieldName]\n\t\t\t.valueChanges\n\t\t\t.pipe(\n\t\t\t\tthis.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((value: string) => {\n\t\t\t\tthis.emitValueChange(value);\n\t\t\t});\n\t}\n\n\tprivate emitValueChange(value: any): void {\n\t\tif (this.valueChanges) {\n\t\t\tthis.valueChanges.emit(value);\n\t\t}\n\t}\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, ViewEncapsulation } from '@angular/core';\nimport { FormBuilder } from '@angular/forms';\n\nimport { Override } from '../../../../../common/cdk/decorators';\n\nimport { InputEditTemplateComponent } from './input-edit-template.component';\n\n\n@Component({\n\tselector: 'gui-string-edit',\n\ttemplate: `\n\n\t\t<form [formGroup]=\"filterForm\">\n\t\t\t<input #input [formControlName]=\"filterFieldName\" type=\"type\" class=\"gui-input\"/>\n\t\t</form>\n\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class StringEditTemplateComponent extends InputEditTemplateComponent<string> {\n\n\tconstructor(changeDetectorRef: ChangeDetectorRef,\n\t\t\t\telementRef: ElementRef,\n\t\t\t\tfb: FormBuilder) {\n\t\tsuper(changeDetectorRef, elementRef, fb);\n\t}\n\n\t@Override\n\tfocusField(inputElement: any): void {\n\n\t\tif (this.focus) {\n\t\t\tinputElement.focus();\n\t\t\tinputElement.setSelectionRange(0, inputElement.value.length);\n\t\t}\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-string-edit';\n\t}\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, ViewEncapsulation } from '@angular/core';\nimport { FormBuilder } from '@angular/forms';\nimport { InputEditTemplateComponent } from './input-edit-template.component';\n\n\n@Component({\n\tselector: 'gui-number-edit',\n\ttemplate: `\n\n\t\t<form [formGroup]=\"filterForm\">\n\t\t\t<input #input [formControlName]=\"filterFieldName\" type=\"number\" class=\"gui-input\"/>\n\t\t</form>\n\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class NumberEditTemplateComponent extends InputEditTemplateComponent<number> {\n\n\tconstructor(changeDetectorRef: ChangeDetectorRef,\n\t\t\t\telementRef: ElementRef,\n\t\t\t\tfb: FormBuilder) {\n\t\tsuper(changeDetectorRef, elementRef, fb);\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-number-edit';\n\t}\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, ViewChild, ViewEncapsulation } from '@angular/core';\n\nimport { EditCommunicationComponent } from '../edit-communication.component';\n\n\n@Component({\n\tselector: 'gui-boolean-edit',\n\ttemplate: `\n\n\t\t<span class=\"gui-cell-boolean\">\n\t\t\t<gui-checkbox #checkbox\n\t\t\t\t\t\t  [checked]=\"value\"\n\t\t\t\t\t\t  [name]=\"filterFieldName\"\n\t\t\t\t\t\t  (changed)=\"toggle($event)\">\n\t\t\t</gui-checkbox>\n\t\t</span>\n\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class BooleanEditTemplateComponent extends EditCommunicationComponent<boolean> {\n\n\t@ViewChild('checkbox', { read: ElementRef, static: true })\n\tcheckboxRef: ElementRef;\n\n\treadonly filterFieldName = 'booleanEdit';\n\n\tconstructor(private readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\telementRef: ElementRef) {\n\t\tsuper(changeDetectorRef, elementRef);\n\t}\n\n\ttoggle(changed: boolean): void {\n\t\tthis.valueChanges.emit(changed);\n\t\tthis.submit();\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-boolean-edit';\n\t}\n\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, ViewChild, ViewEncapsulation } from '@angular/core';\n\nimport { EditCommunicationComponent } from '../edit-communication.component';\n\nimport { fromEvent } from 'rxjs';\nimport { filter } from 'rxjs/operators';\n\nimport { StreamCloser } from '../../../../../common/cdk/reactive/stream-closer';\n\n\n@Component({\n\tselector: 'gui-date-edit',\n\ttemplate: `\n\n\t\t<gui-date-picker #datepicker\n\t\t\t\t\t\t [selectedDate]=\"value\"\n\t\t\t\t\t\t [name]=\"filterFieldName\"\n\t\t\t\t\t\t [openDialog]=\"true\"\n\t\t\t\t\t\t [parentElement]=\"parent\"\n\t\t\t\t\t\t (dialogOpened)=\"dialogOpened($event)\"\n\t\t\t\t\t\t (dateSelected)=\"toggle($event)\">\n\t\t</gui-date-picker>\n\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class DateEditTemplateComponent extends EditCommunicationComponent<Date> {\n\n\t@ViewChild('datepicker', { read: ElementRef, static: true })\n\tdatePickerRef: ElementRef;\n\n\treadonly filterFieldName = 'dateEdit';\n\n\tprivate opened = false;\n\n\tprivate readonly localStreamCloser = new StreamCloser();\n\n\tconstructor(private readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\telementRef: ElementRef) {\n\t\tsuper(changeDetectorRef, elementRef);\n\t}\n\n\tngAfterViewInit() {\n\t\tconst inputElement = this.datePickerRef.nativeElement.querySelector('.gui-date-picker-input');\n\n\t\tconst keyup$ = fromEvent(inputElement, 'keyup');\n\n\t\tkeyup$\n\t\t\t.pipe(\n\t\t\t\tfilter((e: any) => e.keyCode === this.ENTER_KEY_CODE),\n\t\t\t\tthis.localStreamCloser.takeUntil()\n\t\t\t)\n\t\t\t.subscribe(() => {\n\t\t\t\tthis.localStreamCloser.unsubscribe();\n\t\t\t\tthis.submit();\n\t\t\t});\n\n\t\tkeyup$\n\t\t\t.pipe(\n\t\t\t\tfilter((e: any) => e.keyCode === this.ESC_KEY_CODE),\n\t\t\t\tthis.localStreamCloser.takeUntil()\n\t\t\t)\n\t\t\t.subscribe(() => {\n\t\t\t\tthis.localStreamCloser.unsubscribe();\n\t\t\t\tthis.cancel();\n\t\t\t});\n\t}\n\n\tngOnDestroy() {\n\t\tthis.localStreamCloser.unsubscribe();\n\t}\n\n\ttoggle(changed: Date): void {\n\t\tthis.valueChanges.emit(changed);\n\t}\n\n\tdialogOpened(opened: boolean): void {\n\t\tthis.opened = opened;\n\n\t\tif (!opened) {\n\t\t\tthis.localStreamCloser.unsubscribe();\n\t\t\tthis.submit();\n\t\t}\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-date-edit';\n\t}\n\n}\n","import { Component, ContentChild, Input, TemplateRef } from '@angular/core';\n\n\n@Component({\n\tselector: 'gui-column[header]',\n\ttemplate: ''\n})\nexport class ColumnQueryComponent {\n\n\t@ContentChild(TemplateRef, { static: false })\n\tcellTemplate: TemplateRef<any>;\n\n\theaderTemplate: TemplateRef<any>;\n\n\t@Input()\n\theader: string;\n\n}\n","import { ChangeDetectionStrategy, Component, ElementRef, Input, ViewEncapsulation } from '@angular/core';\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\n\nimport { CellValue } from '../../definition/cell-value';\nimport { PureComponent } from '../../../../../common/cdk/component/pure-component';\n\n\n@Component({\n\tselector: 'gui-function-view',\n\ttemplate: `\n\n\t\t<div class=\"gui-h-full gui-flex gui-items-center\"\n\t\t\t [innerHTML]=\"safeHTML\">\n\t\t</div>\n\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class FunctionViewComponent extends PureComponent {\n\n\t@Input()\n\telement: CellValue;\n\n\tsafeHTML: SafeHtml;\n\n\tconstructor(private readonly sanitizer: DomSanitizer,\n\t\t\t\tprivate readonly elRef: ElementRef) {\n\t\tsuper(elRef);\n\n\t\tthis.addClassToHost('gui-h-full');\n\t\tthis.addClassToHost('gui-w-full');\n\t}\n\n\tngOnChanges() {\n\t\tthis.safeHTML = this.sanitizer.bypassSecurityTrustHtml(this.element.value);\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-function-view';\n\t}\n\n}\n","import { ChangeDetectionStrategy, Component, ElementRef, Input, OnChanges, ViewEncapsulation } from '@angular/core';\nimport { PureComponent } from '../../../../../common/cdk/component/pure-component';\nimport { NgChanges } from '../../../../../common/cdk/component/ng-changes';\n\n@Component({\n\tselector: 'gui-bar-view[value]',\n\ttemplate: `\n\t\t<div class=\"gui-percentage-bar\">\n\t\t\t<div class=\"gui-percentage\" [style.width.%]=\"width\">\n\t\t\t</div>\n\t\t\t<gui-percentage-view *ngIf=\"showPercentage\"\n\t\t\t\t\t\t\t\t [value]=\"value\">\n\t\t\t</gui-percentage-view>\n\t\t</div>\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class BarViewComponent extends PureComponent implements OnChanges {\n\n\t@Input()\n\tvalue: number;\n\n\t@Input()\n\tshowPercentage: boolean = false;\n\n\twidth: number;\n\n\tconstructor(elementRef: ElementRef) {\n\t\tsuper(elementRef);\n\t}\n\n\tngOnChanges(changes: NgChanges<BarViewComponent>) {\n\t\tif (changes.value !== undefined && changes.value !== null) {\n\t\t\tthis.width = this.value > 100 ? 100 : this.value;\n\t\t}\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-bar-view';\n\t}\n\n}\n","import { ChangeDetectionStrategy, Component, ElementRef, Input, ViewEncapsulation } from '@angular/core';\n\nimport { PureComponent } from '../../../../../common/cdk/component/pure-component';\n\n@Component({\n\tselector: 'gui-percentage-view[value]',\n\ttemplate: `\n\t\t{{ value }} %\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class PercentageViewComponent extends PureComponent {\n\n\t@Input()\n\tvalue: number;\n\n\tconstructor(elementRef: ElementRef) {\n\t\tsuper(elementRef);\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-percentage-view';\n\t}\n\n}\n","import { Attribute, ChangeDetectionStrategy, Component, ElementRef, Input, Renderer2, ViewEncapsulation } from '@angular/core';\n\nimport { CellValue, CellValueType } from '../../definition/cell-value';\nimport { PureComponent } from '../../../../../common/cdk/component/pure-component';\n\n@Component({\n\tselector: 'gui-view-text[value]',\n\ttemplate: `\n\n\t\t<ng-container *ngIf=\"isHtml; else text\">\n\t\t\t<span [innerHTML]=\"value.value | guiSafe: 'html'\"></span>\n\t\t</ng-container>\n\n\t\t<ng-template #text>\n\t\t\t<span>\n\t\t\t\t{{value.value}}\n\t\t\t</span>\n\t\t</ng-template>\n\t`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None\n})\nexport class TextViewComponent extends PureComponent {\n\n\t@Input()\n\tvalue: CellValue;\n\n\tisHtml = false;\n\n\tconstructor(@Attribute('bold') isBold: any,\n\t\t\t\t@Attribute('italic') isItalic: any,\n\t\t\t\tprivate readonly elementRef: ElementRef,\n\t\t\t\tprivate readonly renderer: Renderer2) {\n\t\tsuper(elementRef);\n\n\t\tif (isBold !== null) {\n\t\t\tthis.addClassToHost('gui-bold');\n\t\t}\n\n\t\tif (isItalic !== null) {\n\t\t\tthis.addClassToHost('gui-italic');\n\t\t}\n\t}\n\n\tngOnChanges() {\n\t\tthis.isHtml = this.value.type === CellValueType.HTML;\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-text-view';\n\t}\n\n}\n","import { NgModule, Optional, Provider } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\n\nimport { FeatureModule } from '@generic-ui/hermes';\n\nimport {\n\tFabricButtonComponent,\n\tFabricButtonModule,\n\tFabricCheckboxComponent,\n\tFabricCheckboxModule,\n\tFabricChipComponent,\n\tFabricChipModule,\n\tFabricDatePickerModule,\n\tFabricInputComponent,\n\tFabricInputModule\n} from '@generic-ui/fabric';\n\nimport { CompositionApiModule } from '../core/api/composition.api-module';\nimport { ViewTemplatesComponent } from '../core/domain-read/view/view-templates.component';\nimport { EditTemplatesComponent } from '../core/domain-read/edit/edit-templates.component';\n\nimport { SanitizeModule } from '../../common/cdk/sanitize/sanitize.module';\nimport { StringEditTemplateComponent } from '../core/domain-read/edit/template/string-edit-template.component';\nimport { NumberEditTemplateComponent } from '../core/domain-read/edit/template/number-edit-template.component';\nimport { BooleanEditTemplateComponent } from '../core/domain-read/edit/template/boolean-edit-template.component';\nimport { DateEditTemplateComponent } from '../core/domain-read/edit/template/date-edit-template.component';\nimport { ColumnQueryComponent } from './column/column-query.component';\nimport { FunctionViewComponent } from '../core/domain-read/view/function/function-view.component';\nimport { BarViewComponent } from '../core/domain-read/view/bar/bar-view.component';\nimport { PercentageViewComponent } from '../core/domain-read/view/percentage/percentage-view.component';\nimport { TextViewComponent } from '../core/domain-read/view/text/text-view.component';\n\n\nconst components = [\n\tViewTemplatesComponent,\n\tEditTemplatesComponent,\n\tStringEditTemplateComponent,\n\tNumberEditTemplateComponent,\n\tBooleanEditTemplateComponent,\n\tDateEditTemplateComponent,\n\tColumnQueryComponent,\n\n\tFunctionViewComponent,\n\tBarViewComponent,\n\tPercentageViewComponent,\n\tTextViewComponent\n];\n\nconst exportDeclarations = [\n\tViewTemplatesComponent,\n\tEditTemplatesComponent,\n\tColumnQueryComponent,\n\n\tFabricChipModule,\n\tFabricCheckboxModule,\n\tFabricButtonModule,\n\tFabricInputModule,\n\n\tFunctionViewComponent,\n\tBarViewComponent,\n\tPercentageViewComponent\n];\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tCompositionApiModule,\n\n\t\tReactiveFormsModule,\n\n\t\tSanitizeModule,\n\n\t\tFabricChipModule,\n\t\tFabricCheckboxModule,\n\t\tFabricButtonModule,\n\t\tFabricInputModule,\n\t\tFabricDatePickerModule\n\t],\n\tdeclarations: [\n\t\t...components\n\t],\n\texports: [\n\t\t...exportDeclarations\n\t],\n\tentryComponents: [\n\t\tViewTemplatesComponent,\n\t\tEditTemplatesComponent,\n\t\tFabricChipComponent,\n\t\tFabricCheckboxComponent,\n\t\tFabricButtonComponent,\n\t\tFabricInputComponent\n\t]\n})\nexport class CompositionFeatureModule extends FeatureModule {\n\n\tstatic forComponent(): Array<Provider> {\n\t\treturn [];\n\t}\n\n\tconstructor(@Optional() compositionApiModule: CompositionApiModule) {\n\t\tsuper();\n\t\tif (compositionApiModule === null) {\n\t\t\tthrow new Error('CompositionApiModule is required.');\n\t\t}\n\t}\n\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, Injector, Input, ViewEncapsulation } from '@angular/core';\n\nimport { CellTemplateWithContext } from '../../../../../composition/core/domain-read/definition/cell-template-with-context';\nimport { StructureColumnConfigService } from '../menu/structure.column-config.service';\nimport { SortOrder } from '../../../../../composition/core/domain/column/sort/sort-order';\nimport { SortingCommandInvoker } from '../../../../sorting/core/api/sorting.command-invoker';\nimport { CompositionId } from '../../../../../composition/core/domain/composition.id';\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { FormationCommandInvoker } from '../../../../source/core/api/formation/formation.command-invoker';\nimport { Group } from '../../../../../composition/core/api/group/group';\nimport { PureComponent } from '../../../../../common/cdk/component/pure-component';\n\n\n@Component({\n\tselector: 'div[gui-structure-header-groups][groups][checkboxSelection]',\n\ttemplateUrl: './structure-header-groups.component.html',\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None,\n\tproviders: [\n\t\tStructureColumnConfigService\n\t]\n})\nexport class StructureHeaderGroupsComponent extends PureComponent {\n\n\t@Input()\n\tgroups: Array<Group>;\n\n\t@Input()\n\tshowGroups: boolean;\n\n\t@Input()\n\tcheckboxSelection: boolean = false;\n\n\tglobalSearching = false;\n\n\tconstructor(private readonly elementRef: ElementRef,\n\t\t\t\tprivate readonly injector: Injector,\n\t\t\t\tprivate readonly changeDetectorRef: ChangeDetectorRef,\n\t\t\t\tprivate readonly compositionId: CompositionId,\n\t\t\t\tprivate readonly structureId: StructureId,\n\t\t\t\tprivate readonly formationCommandDispatcher: FormationCommandInvoker,\n\t\t\t\tprivate readonly sortingCommandDispatcher: SortingCommandInvoker) {\n\t\tsuper(elementRef);\n\t}\n\n\ttoggleSort(column: CellTemplateWithContext): void {\n\n\t\tif (column.isSortEnabled()) {\n\t\t\tthis.sortingCommandDispatcher.toggleSort(column.getFieldId(), this.compositionId, this.structureId);\n\t\t}\n\t}\n\n\tisSortAsc(column: CellTemplateWithContext): boolean {\n\t\treturn column.getSortStatus() === SortOrder.ASC;\n\t}\n\n\tisSortDesc(column: CellTemplateWithContext): boolean {\n\t\treturn column.getSortStatus() === SortOrder.DESC;\n\t}\n\n\tisGlobalSortEnabled(): boolean {\n\t\treturn this.globalSearching;\n\t}\n\n\tprotected getSelectorName(): string {\n\t\treturn 'gui-structure-header-groups';\n\t}\n\n}\n","import { Directive } from '@angular/core';\n\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { SearchingGate } from '../../../../search/feature/gate/searching.gate';\nimport { SearchEventRepository } from '../../../../search/core/api/search.event-repository';\nimport { SearchCommandInvoker } from '../../../../search/core/api/search.command-invoker';\n\n\n@Directive({\n\tselector: 'gui-structure[searching]'\n})\nexport class StructureSearchingGate extends SearchingGate {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tsearchEventRepository: SearchEventRepository,\n\t\t\t\tsearchCommandInvoker: SearchCommandInvoker) {\n\t\tsuper(structureId, searchEventRepository, searchCommandInvoker);\n\t}\n\n}\n","import { Directive, Input, OnChanges } from '@angular/core';\n\nimport { Gate } from '../../../../../../common/cdk/component/gate';\nimport { StructureHeaderTopEnabledArchive } from '../../../header/structure-header-top-enabled.archive';\nimport { StructureHeaderBottomEnabledArchive } from '../../../header/structure-header-bottom-enabled.archive';\nimport { NgChanges } from '../../../../../../common/cdk/component/ng-changes';\n\n@Directive({\n\tselector: 'gui-structure[columnHeaderTop][columnHeaderBottom], gui-structure[columnHeaderTop], gui-structure[columnHeaderBottom]'\n})\nexport class StructureColumnHeaderGate extends Gate implements OnChanges {\n\n\t@Input()\n\tcolumnHeaderTop: boolean;\n\n\t@Input()\n\tcolumnHeaderBottom: boolean;\n\n\tconstructor(private readonly structureHeaderTopEnabledArchive: StructureHeaderTopEnabledArchive,\n\t\t\t\tprivate readonly structureHeaderBottomEnabledArchive: StructureHeaderBottomEnabledArchive) {\n\t\tsuper();\n\t}\n\n\tngOnChanges(changes: NgChanges<StructureColumnHeaderGate>) {\n\n\t\tif (this.isDefined('columnHeaderTop', changes)) {\n\t\t\tthis.structureHeaderTopEnabledArchive.next(this.columnHeaderTop);\n\t\t}\n\n\t\tif (this.isDefined('columnHeaderBottom', changes)) {\n\t\t\tthis.structureHeaderBottomEnabledArchive.next(this.columnHeaderBottom);\n\t\t}\n\t}\n\n}\n","import { Directive } from '@angular/core';\n\nimport { PagingCommandInvoker } from '../../../../paging/core/api/paging.command-invoker';\nimport { PagingEventRepository } from '../../../../paging/core/api/paging.event-repository';\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { PagingGate } from '../../../../paging/feature/gate/paging.gate';\nimport { PagingConfig } from '../../../../paging/core/api/paging-config';\nimport { Override } from '../../../../../common/cdk/decorators';\nimport { PagingDisplayModeArchive } from '../../../../paging/feature/mode/paging-display-mode.archive';\nimport { NgChanges } from '../../../../../common/cdk/component/ng-changes';\n\n\n@Directive({\n\tselector: 'gui-structure[paging]'\n})\nexport class StructurePagingGate extends PagingGate {\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tstructurePagingCommandDispatcher: PagingCommandInvoker,\n\t\t\t\tpagingEventRepository: PagingEventRepository,\n\t\t\t\tprivate readonly pagingDisplayModeArchive: PagingDisplayModeArchive) {\n\t\tsuper(structureId, structurePagingCommandDispatcher, pagingEventRepository);\n\t}\n\n\t@Override\n\tngOnChanges(changes: NgChanges<StructurePagingGate>) {\n\n\t\tif (this.isDefined('paging', changes)) {\n\n\t\t\tlet pagingConfig: PagingConfig;\n\n\t\t\tif (typeof this.paging === 'boolean') {\n\t\t\t\tpagingConfig = {\n\t\t\t\t\tenabled: this.paging\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tpagingConfig = this.paging;\n\n\t\t\t\tif (this.paging.displayMode !== undefined) {\n\t\t\t\t\tthis.pagingDisplayModeArchive.next(this.paging.displayMode);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.structurePagingCommandDispatcher.setPaging(pagingConfig);\n\t\t}\n\t}\n\n}\n","import { EventEmitter, Input, OnChanges, OnDestroy, OnInit, Output } from '@angular/core';\n\nimport { Gate } from '../../../../common/cdk/component/gate';\nimport { StructureId } from '../../../core/domain/structure.id';\nimport { RowSelection } from '../../core/api/row-selection';\nimport { SelectedRow } from '../../core/api/formation/selected-row';\nimport { FormationEventRepository } from '../../core/api/formation/formation.event-repository';\nimport { FormationCommandInvoker } from '../../core/api/formation/formation.command-invoker';\nimport { RowSelectionTypeArchive } from '../../core/api/formation/type/row-selection-type.archive';\nimport { StreamCloser } from '../../../../common/cdk/reactive/stream-closer';\nimport { NgChanges } from '../../../../common/cdk/component/ng-changes';\n\nexport abstract class SelectionGate extends Gate implements OnChanges, OnInit, OnDestroy {\n\n\t@Input()\n\trowSelection: RowSelection;\n\n\t@Output()\n\titemsSelected: EventEmitter<any> = new EventEmitter();\n\n\t@Output()\n\tselectedRows: EventEmitter<Array<SelectedRow>> = new EventEmitter();\n\n\tprivate readonly localStreamCloser = new StreamCloser();\n\n\tprotected constructor(protected readonly structureId: StructureId,\n\t\t\t\t\t\t  protected readonly formationEventService: FormationEventRepository,\n\t\t\t\t\t\t  protected readonly formationCommandDispatcher: FormationCommandInvoker,\n\t\t\t\t\t\t  protected readonly rowSelectionTypeArchive: RowSelectionTypeArchive) {\n\t\tsuper();\n\t}\n\n\tngOnChanges(changes: NgChanges<SelectionGate>) {\n\n\t\tif (this.isDefined('rowSelection', changes)) {\n\t\t\tif (this.rowSelection.isEnabledDefined()) {\n\t\t\t\tthis.formationCommandDispatcher.setSelection(this.rowSelection.isEnabled(), this.structureId);\n\t\t\t}\n\n\t\t\tif (this.rowSelection.isTypeDefined()) {\n\t\t\t\tthis.rowSelectionTypeArchive.next(this.rowSelection.getType());\n\t\t\t}\n\n\t\t\tif (this.rowSelection.isModeDefined()) {\n\t\t\t\tthis.formationCommandDispatcher.changeMode(this.rowSelection.getMode(), this.structureId);\n\t\t\t}\n\t\t}\n\t}\n\n\tngOnInit() {\n\n\t\tthis.formationEventService\n\t\t\t.onItemSelected(this.structureId)\n\t\t\t.pipe(this.takeUntil())\n\t\t\t.subscribe((items: Array<SelectedRow>) => {\n\t\t\t\tthis.itemsSelected.emit(items.map(i => i.getData()));\n\t\t\t\tthis.selectedRows.emit(items);\n\t\t\t});\n\t}\n\n\tngOnDestroy() {\n\t\tthis.localStreamCloser.unsubscribe();\n\t}\n\n}\n","import { Directive, Input } from '@angular/core';\n\nimport { StructureId } from '../../../../core/domain/structure.id';\nimport { SelectionGate } from '../../../../source/feature/gate/selection.gate';\nimport { FormationEventRepository } from '../../../../source/core/api/formation/formation.event-repository';\nimport { FormationCommandInvoker } from '../../../../source/core/api/formation/formation.command-invoker';\nimport { RowSelectionTypeArchive } from '../../../../source/core/api/formation/type/row-selection-type.archive';\n\n\n@Directive({\n\tselector: 'gui-structure[rowSelection], gui-structure[selectionGate]'\n})\nexport class StructureSelectionGate extends SelectionGate {\n\n\t@Input()\n\tselectionGate: void;\n\n\tconstructor(structureId: StructureId,\n\t\t\t\tformationEventService: FormationEventRepository,\n\t\t\t\tformationCommandDispatcher: FormationCommandInvoker,\n\t\t\t\trowSelectionTypeArchive: RowSelectionTypeArchive) {\n\t\tsuper(structureId, formationEventService, formationCommandDispatcher, rowSelectionTypeArchive);\n\t}\n\n}\n","import { Directive, Input, OnChanges } from '@angular/core';\n\nimport { Gate } from '../../../../../common/cdk/component/gate';\nimport { GuiLocalization } from '../../../../../gui/grid/core/api/gui.grid.public-api';\nimport { TranslationService } from '../../../../../l10n/core/api/translation.service';\nimport { NgChanges } from '../../../../../common/cdk/component/ng-changes';\n\n@Directive({\n\tselector: 'gui-structure[localization]'\n})\nexport class StructureL10nGate extends Gate implements OnChanges {\n\n\t@Input()\n\tlocalization: GuiLocalization;\n\n\tconstructor(private readonly translationService: TranslationService) {\n\t\tsuper();\n\t}\n\n\tngOnChanges(changes: NgChanges<StructureL10nGate>) {\n\n\t\tif (this.isDefined('localization', changes)) {\n\t\t\tif (this.localization.translationResolver) {\n\t\t\t\tthis.translationService.setResolver(this.localization.translationResolver);\n\t\t\t}\n\n\t\t\tif (this.localization.translation) {\n\t\t\t\tthis.translationService.changeTranslation(this.localization.translation);\n\t\t\t}\n\t\t}\n\t}\n\n}\n","import { Directive, Input, OnChanges } from '@angular/core';\n\nimport { Gate } from '../../../../../common/cdk/component/gate';\nimport { StructureTitlePanelConfigArchive } from '../../panel/banner-panels/title-panel/structure.title-panel.config-archive';\nimport { StructureFooterPanelConfigArchive } from '../../panel/banner-panels/footer-panel/structure.footer-panel.config-archive';\nimport { NgChanges } from '../../../../../common/cdk/component/ng-changes';\nimport { StructureBannerPanelConfig } from '../../panel/banner-panels/structure-banner-panel.config';\n\n@Directive({\n\tselector: 'gui-structure[titlePanel][footerPanel]'\n})\nexport class StructurePanelGate extends Gate implements OnChanges {\n\n\t@Input()\n\ttitlePanel: StructureBannerPanelConfig;\n\n\t@Input()\n\tfooterPanel: StructureBannerPanelConfig;\n\n\tconstructor(private readonly structureTitlePanelConfigArchive: StructureTitlePanelConfigArchive,\n\t\t\t\tprivate readonly structureFooterPanelConfigArchive: StructureFooterPanelConfigArchive) {\n\t\tsuper();\n\t}\n\n\tngOnChanges(changes: NgChanges<StructurePanelGate>) {\n\n\t\tif (this.isDefined('titlePanel', changes)) {\n\t\t\tthis.structureTitlePanelConfigArchive.next(this.titlePanel);\n\t\t}\n\n\t\tif (this.isDefined('footerPanel', changes)) {\n\t\t\tthis.structureFooterPanelConfigArchive.next(this.footerPanel);\n\t\t}\n\t}\n\n}\n","import { Directive, Input, OnChanges } from '@angular/core';\n\nimport { RowDetailConfig } from '../../../row-detail/row-detail.config';\nimport { Gate } from '../../../../../../common/cdk/component/gate';\nimport { StructureRowDetailConfigArchive } from '../../../row-detail/structure.row-detail.config-archive';\nimport { NgChanges } from '../../../../../../common/cdk/component/ng-changes';\n\n@Directive({\n\tselector: 'gui-structure[rowDetail]'\n})\nexport class StructureRowDetailGate extends Gate implements OnChanges {\n\n\t@Input()\n\trowDetail: RowDetailConfig;\n\n\tconstructor(private readonly structureDetailViewConfigArchive: StructureRowDetailConfigArchive) {\n\t\tsuper();\n\t}\n\n\tngOnChanges(changes: NgChanges<StructureRowDetailGate>) {\n\n\t\tif (this.isDefined('rowDetail', changes)) {\n\t\t\tthis.structureDetailViewConfigArchive.next(this.rowDetail);\n\t\t}\n\t}\n\n}\n","export class ColumnMenuConfig {\n\n\tenabled?: boolean;\n\n\tsort?: boolean;\n\n\tfilter?: boolean;\n\n\tcolumnsManager?: boolean;\n\n}\n","import { Directive, Input, OnChanges } from '@angular/core';\n\nimport { ColumnMenuConfig } from '../../../../core/api/column-menu-config';\nimport { StructureColumnMenuConfigArchive } from '../../../header/menu/config/structure.column-menu-config.archive';\nimport { Gate } from '../../../../../../common/cdk/component/gate';\nimport { NgChanges } from '../../../../../../common/cdk/component/ng-changes';\n\n@Directive({\n\tselector: 'gui-structure[columnMenu]'\n})\nexport class StructureColumnMenuGate extends Gate implements OnChanges {\n\n\t@Input()\n\tcolumnMenu: ColumnMenuConfig;\n\n\tconstructor(private readonly structureColumnMenuConfigArchive: StructureColumnMenuConfigArchive) {\n\t\tsuper();\n\t}\n\n\tngOnChanges(changes: NgChanges<StructureColumnMenuGate>) {\n\n\t\tif (this.isDefined('columnMenu', changes)) {\n\t\t\tthis.structureColumnMenuConfigArchive.nextConfig(this.columnMenu);\n\t\t}\n\t}\n\n}\n","import { Directive, Input, OnChanges } from '@angular/core';\n\nimport { Gate } from '../../../../../common/cdk/component/gate';\nimport { SummariesConfig } from '../../../../summaries/core/api/summaries-config';\nimport { StructureSummariesConfigService } from '../../panel/summaries/structure.summaries-config.service';\nimport { NgChanges } from '../../../../../common/cdk/component/ng-changes';\n\n@Directive({\n\tselector: 'gui-structure[summaries]'\n})\nexport class StructureSummariesGate extends Gate implements OnChanges {\n\n\t@Input()\n\tsummaries: SummariesConfig;\n\n\tconstructor(private readonly structureSummariesConfigService: StructureSummariesConfigService) {\n\t\tsuper();\n\t}\n\n\tngOnChanges(changes: NgChanges<StructureSummariesGate>) {\n\n\t\tif (this.isDefined('summaries', changes)) {\n\t\t\tthis.structureSummariesConfigService.set(this.summaries);\n\t\t}\n\n\t}\n\n}\n","import { Directive, Input, OnChanges } from '@angular/core';\n\nimport { InfoPanelConfig } from '../../../panel/info/info-panel.config';\nimport { Gate } from '../../../../../../common/cdk/component/gate';\nimport { StructureInfoPanelConfigService } from '../../../panel/info/structure.info-panel-config.service';\nimport { NgChanges } from '../../../../../../common/cdk/component/ng-changes';\n\n\n@Directive({\n\tselector: 'gui-structure[infoPanel]'\n})\nexport class StructureInfoPanelGate extends Gate implements OnChanges {\n\n\t@Input()\n\tinfoPanel: boolean | InfoPanelConfig;\n\n\tconstructor(protected readonly structureInfoPanelConfigService: StructureInfoPanelConfigService) {\n\t\tsuper();\n\t}\n\n\tngOnChanges(changes: NgChanges<StructureInfoPanelGate>) {\n\n\t\tif (this.isDefined('infoPanel', changes)) {\n\t\t\tif (typeof this.infoPanel === 'boolean') {\n\t\t\t\tthis.infoPanel = {\n\t\t\t\t\tenabled: this.infoPanel\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tthis.structureInfoPanelConfigService.set(this.infoPanel);\n\t\t}\n\n\t}\n\n}\n","import { Directive, Input, OnChanges } from '@angular/core';\nimport { Gate } from '../../../../../../common/cdk/component/gate';\nimport { GuiRowClass } from '../../../../../../gui/grid/core/api/gui.grid.public-api';\nimport { SchemaRowClass } from '../../../../../../schema/core/api/styling/schema.row-class';\nimport { SchemaRowClassArchive } from '../../../../../../schema/core/api/styling/schema.row-class.archive';\nimport { NgChanges } from '../../../../../../common/cdk/component/ng-changes';\n\n@Directive({\n\tselector: 'gui-structure[rowClass]'\n})\nexport class StructureRowClassGate extends Gate implements OnChanges {\n\n\t@Input()\n\trowClass: GuiRowClass;\n\n\tconstructor(private readonly schemaRowClassArchive: SchemaRowClassArchive) {\n\t\tsuper();\n\t}\n\n\tngOnChanges(changes: NgChanges<StructureRowClassGate>) {\n\n\t\tif (this.isDefined('rowClass', changes)) {\n\t\t\tthis.schemaRowClassArchive.next(this.rowClass as SchemaRowClass);\n\t\t}\n\t}\n\n}\n","import { Directive, EventEmitter, Input, OnChanges, OnDestroy, OnInit, Output } from '@angular/core';\n\nimport { Gate } from '../../../../../../common/cdk/component/gate';\nimport { RowColoring } from '../../../../../../schema/core/api/row-coloring/row-coloring';\nimport { SchemaRowColoring } from '../../../../../../schema/core/api/row-coloring/schema-row-coloring';\nimport { SchemaCommandInvoker } from '../../../../../../schema/core/api/schema.command-invoker';\nimport { SchemaEventRepository } from '../../../../../../schema/core/api/schema.event-repository';\nimport { SchemaReadModelRootId } from '../../../../../../schema/core/api/schema.read-model-root-id';\nimport { StreamCloser } from '../../../../../../common/cdk/reactive/stream-closer';\nimport { NgChanges } from '../../../../../../common/cdk/component/ng-changes';\n\n@Directive({\n\tselector: 'gui-structure[rowColoring]'\n})\nexport class StructureRowColoringGate extends Gate implements OnChanges, OnInit, OnDestroy {\n\n\t@Input()\n\trowColoring: RowColoring;\n\n\t@Output()\n\trowColoringChanged: EventEmitter<SchemaRowColoring> = new EventEmitter();\n\n\tprivate readonly localStreamCloser = new StreamCloser();\n\n\tconstructor(private readonly schemaId: SchemaReadModelRootId,\n\t\t\t\tprivate readonly schemaCommandInvoker: SchemaCommandInvoker,\n\t\t\t\tprivate readonly schemaEventRepository: SchemaEventRepository) {\n\t\tsuper();\n\t}\n\n\tngOnChanges(changes: NgChanges<StructureRowColoringGate>) {\n\n\t\tif (this.isDefined('rowColoring', changes)) {\n\t\t\tthis.schemaCommandInvoker.setRowColoring(this.rowColoring);\n\t\t}\n\t}\n\n\tngOnInit() {\n\n\t\tthis.schemaEventRepository\n\t\t\t.onRowColoring(this.schemaId)\n\t\t\t.pipe(\n\t\t\t\tthis.localStreamCloser.takeUntil()\n\t\t\t)\n\t\t\t.subscribe((coloring: SchemaRowColoring) => {\n\t\t\t\tthis.rowColoringChanged.emit(coloring);\n\t\t\t});\n\t}\n\n\tngOnDestroy() {\n\t\tthis.localStreamCloser.unsubscribe();\n\t}\n}\n","import { Directive, Input, OnChanges } from '@angular/core';\nimport { Gate } from '../../../../../../common/cdk/component/gate';\nimport { GuiRowStyle } from '../../../../../../gui/grid/core/api/gui.grid.public-api';\nimport { SchemaRowStyle } from '../../../../../../schema/core/api/styling/schema.row-style';\nimport { SchemaRowStyleArchive } from '../../../../../../schema/core/api/styling/schema.row-style.archive';\nimport { NgChanges } from '../../../../../../common/cdk/component/ng-changes';\n\n@Directive({\n\tselector: 'gui-structure[rowStyle]'\n})\nexport class StructureRowStyleGate extends Gate implements OnChanges {\n\n\t@Input()\n\trowStyle: GuiRowStyle;\n\n\tconstructor(private readonly schemaRowStyleArchive: SchemaRowStyleArchive) {\n\t\tsuper();\n\t}\n\n\tngOnChanges(changes: NgChanges<StructureRowStyleGate>) {\n\n\t\tif (this.isDefined('rowStyle', changes)) {\n\t\t\tthis.schemaRowStyleArchive.next(this.rowStyle as SchemaRowStyle);\n\t\t}\n\t}\n\n}\n","import { StructureSearchingGate } from './searching/structure-searching.gate';\nimport { StructureColumnHeaderGate } from './column/header/structure-column-header.gate';\nimport { StructurePagingGate } from './paging/structure-paging.gate';\nimport { StructureSelectionGate } from './source/structure-selection.gate';\nimport { StructureL10nGate } from './l10n/structure-l10n.gate';\nimport { StructurePanelGate } from './panel/structure-panel.gate';\nimport { StructureRowDetailGate } from './row/detail/structure-row-detail.gate';\nimport { StructureColumnMenuGate } from './column/menu/structure-column-menu.gate';\nimport { StructureSummariesGate } from './summaries/structure-summaries.gate';\nimport { StructureInfoPanelGate } from './panel/info/structure-info-panel.gate';\nimport { StructureRowClassGate } from './row/class/structure-row-class.gate';\nimport { StructureRowColoringGate } from './row/coloring/structure-row-coloring.gate';\nimport { StructureRowStyleGate } from './row/style/structure-row-style.gate';\n\nexport const structureGates = [\n\tStructureColumnHeaderGate,\n\tStructurePagingGate,\n\tStructureSearchingGate,\n\t// StructureSourceGate,\n\tStructureSelectionGate,\n\tStructureL10nGate,\n\tStructurePanelGate,\n\tStructureRowDetailGate,\n\tStructureColumnMenuGate,\n\tStructureSummariesGate,\n\tStructureInfoPanelGate,\n\tStructureRowClassGate,\n\tStructureRowStyleGate,\n\tStructureRowColoringGate\n];\n","import { NgModule } from '@angular/core';\n\nimport { CssClassModifier } from './css-class.modifier';\n\n@NgModule({\n\tproviders: [\n\t\tCssClassModifier\n\t]\n})\nexport class CssClassModule {\n}\n","import { NgModule } from '@angular/core';\n\nimport { CssClassModule } from './css-class/css-class.module';\n\n\n@NgModule({\n\timports: [\n\t\tCssClassModule\n\t]\n})\nexport class StructureSharedModule {\n}\n","import { Inject, ModuleWithProviders, NgModule, PLATFORM_ID } from '@angular/core';\nimport { CommonModule, isPlatformBrowser } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\n\nimport { FabricModule } from '@generic-ui/fabric';\n\nimport { COMMAND_LOGGER_ENABLED, EVENT_LOGGER_ENABLED, HermesModule } from '@generic-ui/hermes';\n\nimport { fabricImports } from '../../feature/structure-fabric.imports';\nimport { PagingFeatureModule } from '../../../paging/feature/paging.feature-module';\nimport { StructureInfoPanelModule } from '../../feature/panel/info/structure.info-panel.module';\nimport { StructureComponent } from '../../feature/structure.component';\nimport { StructureHeaderComponent } from '../../feature/header/structure-header.component';\nimport { StructureHeaderColumnsComponent } from '../../feature/header/column/structure-header-columns.component';\nimport { StructureHeaderFiltersComponent } from '../../feature/header/filters/structure-header-filters.component';\nimport { StructureHeaderFilterComponent } from '../../feature/header/filters/structure.header-filter.component';\nimport { StructureContentComponent } from '../../feature/content/structure-content.component';\nimport { StructureRowComponent } from '../../feature/content/row/structure-row.component';\nimport { StructureCellComponent } from '../../feature/content/cell/structure.cell.component';\nimport { StructureContainerComponent } from '../../feature/content/structure-container.component';\nimport { StructureQuickFiltersComponent } from '../../feature/header/quick-filters/structure.quick-filters.component';\nimport { StructureBlueprintComponent } from '../../feature/blueprint/structure.blueprint.component';\nimport { StructureColumnConfigComponent } from '../../feature/header/menu/structure.column-config.component';\nimport { STRUCTURE_CSS_CLASS_NAME } from './structure-tokens';\nimport { StructureDefinition } from '../../feature/structure-definition';\nimport { SourceWarehouse } from '../../../source/core/api/source.warehouse';\nimport { StructureIdGenerator } from '../../feature/structure-id.generator';\nimport { structureCommandHandlers, structureDomainEventHandlers, structureProviders } from './structure.providers';\nimport { StructureModuleConfig } from '../../feature/structure-module-config';\nimport { LoggerModule } from '../../../../common/cdk/logger/logger.module';\nimport { ItemEntityFactory } from '../../../source/core/domain/core/item/item.entity-factory';\nimport { StructureTopPanelModule } from '../../feature/panel/top/structure.top-panel.module';\nimport { StructureColumnMenuModule } from '../../feature/header/menu/structure.column-menu.module';\nimport { StructureSummariesPanelModule } from '../../feature/panel/summaries/structure.summaries-panel.module';\nimport { StructureColumnManagerModule } from '../../feature/column-manager/structure.column-manager.module';\nimport { StructureAggregateFactory } from '../../../core/domain/structure.aggregate-factory';\nimport { InMemoryStructureAggregateRepository } from '../../../core/infrastructure/in-memory/domain/in-memory.structure-aggregate.repository';\nimport { CreateStructureCommandHandler } from '../../../core/domain/create-structure/create-structure-command-handler.service';\nimport { StructureCellEditComponent } from '../../feature/content/cell/edit/structure.cell-edit.component';\nimport { StructureThemeConverter } from '../../feature/schema/structure.theme.converter';\nimport { StructureCellEditBooleanComponent } from '../../feature/content/cell/boolean/structure.cell-edit-boolean.component';\nimport { StructureRowDetailViewComponent } from '../../feature/row-detail/view/structure.row-detail-view.component';\nimport { StructureTitlePanelComponent } from '../../feature/panel/banner-panels/title-panel/structure.title-panel.component';\nimport { StructureFooterPanelComponent } from '../../feature/panel/banner-panels/footer-panel/structure.footer-panel.component';\nimport { PagingDomainModule } from '../../../paging/core/domain/paging.domain-module';\nimport { EmptySourceFeatureModule } from '../../../source/feature/empty/empty-source.feature-module';\nimport { SortingDomainModule } from '../../../sorting/core/domain/sorting.domain-module';\nimport { SortingFeatureModule } from '../../../sorting/feature/sorting.feature-module';\nimport { FieldFeatureModule } from '../../../field/feature/field.feature-module';\nimport { FieldDomainModule } from '../../../field/core/domain/field.domain-module';\nimport { SearchFeatureModule } from '../../../search/feature/search.feature-module';\nimport { SearchDomainModule } from '../../../search/core/domain/search.domain-module';\nimport { StructureThemeGateway } from '../../feature/gate/schema/structure-theme.gateway';\nimport { SchemaManagerModule } from '../../../../schema/feature/manager/schema-manager.module';\nimport { FilterDomainModule } from '../../../filter/core/domain/filter.domain-module';\nimport { SourceDomainModule } from '../../../source/core/domain/source.domain-module';\nimport { SelectAllComponent } from '../../feature/header/column/select-all/select-all.component';\nimport { structureKey } from '../../../core/api/structre.key';\nimport { SummariesDomainModule } from '../../../summaries/core/domain/summaries.domain-module';\nimport { SummariesFeatureModule } from '../../../summaries/feature/summaries.feature-module';\nimport { VerticalFormationFeatureModule } from '../../../vertical-formation/feature/vertical-formation.feature-module';\nimport { VerticalFormationDomainModule } from '../../../vertical-formation/core/domain/vertical-formation.domain-module';\nimport { SchemaFeatureModule } from '../../../../schema/feature/schema.feature-module';\nimport { CompositionFeatureModule } from '../../../../composition/feature/composition.feature-module';\nimport { TranslationFeatureModule } from '../../../../l10n/feature/translation.feature-module';\nimport { StructureHeaderGroupsComponent } from '../../feature/header/group/structure-header-groups.component';\nimport { structureGates } from '../../feature/gate/structure.gates';\nimport { FilterMenuFeatureModule } from '../../../filter/feature/menu/filter-menu.feature-module';\nimport { SourceFeatureModule } from '../../../source/feature/source.feature-module';\nimport { StructureSharedModule } from '../../../common/structure-shared.module';\nimport { SanitizeModule } from '../../../../common/cdk/sanitize/sanitize.module';\n\n\nexport function createStructureDefinition() {\n\treturn new StructureDefinition.DefaultBuilder().build();\n}\n\nconst imports = [\n\tCommonModule,\n\tReactiveFormsModule,\n\tTranslationFeatureModule,\n\tHermesModule,\n\tHermesModule.defineAggregate(\n\t\tstructureKey,\n\t\tStructureAggregateFactory,\n\t\tInMemoryStructureAggregateRepository,\n\t\tCreateStructureCommandHandler,\n\t\t[\n\t\t\t...PagingDomainModule.commandHandlers(),\n\t\t\t...SortingDomainModule.commandHandlers(),\n\t\t\t...FieldDomainModule.commandHandlers(),\n\t\t\t...SearchDomainModule.commandHandlers(),\n\t\t\t...FilterDomainModule.commandHandlers(),\n\t\t\t...SourceDomainModule.commandHandlers(),\n\t\t\t...SummariesDomainModule.commandHandlers(),\n\t\t\t...VerticalFormationDomainModule.commandHandlers(),\n\t\t\t...structureCommandHandlers\n\t\t], [\n\t\t\t...structureDomainEventHandlers,\n\t\t\t...SearchDomainModule.domainEventHandlers(),\n\t\t\t...FilterDomainModule.domainEventHandlers(),\n\t\t\t...SourceDomainModule.domainEventHandlers(),\n\t\t\t...SummariesDomainModule.domainEventHandlers(),\n\t\t\t...FieldDomainModule.domainEventHandlers(),\n\t\t\t...VerticalFormationDomainModule.domainEventHandlers()\n\t\t]\n\t),\n\t// .withConfig({\n\t// \tloggers: false\n\t// }),\n\t...fabricImports,\n\n\tPagingFeatureModule,\n\tSortingFeatureModule,\n\tFieldFeatureModule,\n\tSearchFeatureModule,\n\tFilterMenuFeatureModule,\n\tSourceFeatureModule,\n\tSummariesFeatureModule,\n\tVerticalFormationFeatureModule,\n\n\tSchemaFeatureModule,\n\n\tStructureSharedModule,\n\n\tStructureInfoPanelModule,\n\tStructureSummariesPanelModule,\n\tStructureTopPanelModule,\n\tStructureColumnMenuModule,\n\tStructureColumnManagerModule,\n\tSchemaManagerModule,\n\n\tEmptySourceFeatureModule,\n\n\tCompositionFeatureModule,\n\n\tLoggerModule,\n\tSanitizeModule\n];\n\nconst declarations = [\n\tStructureComponent,\n\tStructureHeaderComponent,\n\tStructureHeaderColumnsComponent,\n\tStructureHeaderGroupsComponent,\n\tStructureHeaderFiltersComponent,\n\tStructureHeaderFilterComponent,\n\tSelectAllComponent,\n\tStructureContentComponent,\n\tStructureRowComponent,\n\tStructureCellComponent,\n\tStructureCellEditComponent,\n\tStructureCellEditBooleanComponent,\n\tStructureContainerComponent,\n\tStructureQuickFiltersComponent,\n\tStructureBlueprintComponent,\n\tStructureRowDetailViewComponent,\n\tStructureTitlePanelComponent,\n\tStructureFooterPanelComponent,\n\tStructureThemeGateway,\n\n\t...structureGates\n];\n\nconst entryComponents = [\n\tStructureColumnConfigComponent,\n\tStructureRowDetailViewComponent\n];\n\nconst providers = [\n\t{\n\t\tprovide: STRUCTURE_CSS_CLASS_NAME,\n\t\tuseValue: 'structure'\n\t},\n\t{\n\t\tprovide: StructureDefinition,\n\t\tuseFactory: createStructureDefinition\n\t},\n\tItemEntityFactory,\n\tStructureThemeConverter,\n\n\tSourceWarehouse,\n\n\tStructureIdGenerator,\n\n\t...structureProviders\n\n];\n\nconst exportDeclarations = [\n\tFabricModule,\n\tStructureComponent,\n\tStructureThemeGateway,\n\tStructureHeaderComponent,\n\tStructureContentComponent,\n\tStructureRowComponent,\n\tStructureContainerComponent,\n\n\t...fabricImports,\n\tPagingFeatureModule,\n\t...structureGates\n];\n\n@NgModule({\n\timports: [\n\t\timports\n\t],\n\tdeclarations,\n\texports: exportDeclarations,\n\tentryComponents\n})\nexport class StructureModule {\n\n\tprivate static readonly HERMES_API = 'hermesApi';\n\n\tstatic exportDeclarations = [...exportDeclarations];\n\n\tstatic withConfig(structureConfig: StructureModuleConfig = {\n\t\tcssClassName: '',\n\t\thermesModuleConfig: { loggers: false }\n\t}): ModuleWithProviders {\n\t\treturn {\n\t\t\tngModule: StructureModule,\n\t\t\tproviders: [\n\t\t\t\t{\n\t\t\t\t\tprovide: STRUCTURE_CSS_CLASS_NAME,\n\t\t\t\t\tuseValue: structureConfig.cssClassName\n\t\t\t\t},\n\t\t\t\t{ provide: COMMAND_LOGGER_ENABLED, useValue: structureConfig.hermesModuleConfig.loggers },\n\t\t\t\t{ provide: EVENT_LOGGER_ENABLED, useValue: structureConfig.hermesModuleConfig.loggers },\n\t\t\t\t...providers\n\t\t\t]\n\t\t};\n\t}\n\n\tconstructor(@Inject(PLATFORM_ID) private platformId: any) {\n\t\tif (isPlatformBrowser(this.platformId)) {\n\t\t\twindow[StructureModule.HERMES_API].loggers = false;\n\t\t}\n\t}\n\n}\n","import { ModuleWithProviders, NgModule, Provider } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { GuiListComponent } from '../../feature/gui.list.component';\n\nimport { ListViewFeatureModule } from '../../../../structure/list/feature/list-view.feature-module';\nimport { StructureModule } from '../../../../structure/grid/core/api/structure.module';\nimport { GuiListItemComponent } from '../../feature/item/gui.list-item.component';\nimport { GuiListCardComponent } from '../../feature/card/gui.list-card.component';\n\nconst imports = [\n\tCommonModule,\n\tListViewFeatureModule,\n\tStructureModule.withConfig({\n\t\tcssClassName: 'list',\n\t\thermesModuleConfig: {\n\t\t\tloggers: true\n\t\t}\n\t})\n];\n\nconst declarations = [\n\tGuiListComponent,\n\tGuiListItemComponent,\n\tGuiListCardComponent\n];\n\nconst providers = [] as Array<Provider>;\n\nconst exportDeclarations = [\n\tGuiListComponent,\n\tGuiListItemComponent,\n\tGuiListCardComponent\n];\n\nconst entryComponents = [] as Array<any>;\n\nconst elementComponents = [\n\tGuiListComponent\n];\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tListViewFeatureModule,\n\t\tStructureModule.withConfig({\n\t\t\tcssClassName: 'list',\n\t\t\thermesModuleConfig: {\n\t\t\t\tloggers: true\n\t\t\t}\n\t\t})\n\t]\n\t// declarations,\n\t// exports: exportDeclarations,\n\t// entryComponents\n})\nexport class GuiListWithGridModule {\n}\n\n@NgModule({\n\timports,\n\tdeclarations,\n\texports: exportDeclarations,\n\tentryComponents\n})\nexport class GuiListModule {\n\n\tstatic forRoot(): ModuleWithProviders {\n\t\treturn {\n\t\t\tngModule: GuiListModule,\n\t\t\tproviders: providers\n\t\t};\n\t}\n\n\tstatic forChild(): ModuleWithProviders {\n\t\treturn {\n\t\t\tngModule: GuiListModule,\n\t\t\tproviders: []\n\t\t};\n\t}\n}\n"],"names":["tslib_1.__extends","tslib_1.__decorate","tslib_1.__values","Optional","Reactive","declarations","exportDeclarations","imports","providers","entryComponents"],"mappings":"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"}