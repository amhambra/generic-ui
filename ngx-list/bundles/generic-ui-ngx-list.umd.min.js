!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("@generic-ui/fabric"),require("@generic-ui/hermes"),require("rxjs"),require("rxjs/operators"),require("@angular/platform-browser"),require("@angular/forms")):"function"==typeof define&&define.amd?define("@generic-ui/ngx-list",["exports","@angular/core","@angular/common","@generic-ui/fabric","@generic-ui/hermes","rxjs","rxjs/operators","@angular/platform-browser","@angular/forms"],e):e(((t=t||self)["generic-ui"]=t["generic-ui"]||{},t["generic-ui"]["ngx-list"]={}),t.ng.core,t.ng.common,t["@generic-ui/fabric"],t["@generic-ui/hermes"],t.rxjs,t.rxjs.operators,t.ng.platformBrowser,t.ng.forms)}(this,(function(t,e,n,i,r,o,a,u,s){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var c=function(t,e){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function l(t,e){function n(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var p=function(){return(p=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function g(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function d(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function h(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function m(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function f(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(m(arguments[e]));return t}var y=function(){function t(){}return t.decorators=[{type:e.Component,args:[{selector:"gui-list-item",template:""}]}],t.propDecorators={templateRef:[{type:e.ContentChild,args:[e.TemplateRef,{static:!0}]}]},t}();var v={BASIC:0,ADVANCED:1};v[v.BASIC]="BASIC",v[v.ADVANCED]="ADVANCED";var b=function(){function t(){}return t.prototype.convert=function(t){var e={};return void 0!==t.enabled&&null!==t.enabled&&(e.enabled=t.enabled),void 0!==t.page&&null!==t.page&&(e.page=t.page),void 0!==t.pageSize&&null!==t.pageSize&&(e.pageSize=t.pageSize),void 0!==t.pageSizes&&null!==t.pageSizes&&(e.pageSizes=t.pageSizes),void 0!==t.pagerTop&&null!==t.pagerTop?e.pagerTop=t.pagerTop:e.pagerTop=!0,void 0!==t.pagerBottom&&null!==t.pagerBottom&&(e.pagerBottom=t.pagerBottom),e.displayMode=v.BASIC,e},t}(),C=function(){function t(){}return t.decorators=[{type:e.Component,args:[{selector:"gui-list-card",template:""}]}],t.propDecorators={templateRef:[{type:e.ContentChild,args:[e.TemplateRef,{static:!0}]}]},t}();var E={LIST:"List",CARD:"Card"};var I={LIST:0,CARD:1};I[I.LIST]="LIST",I[I.CARD]="CARD";var S={UNKNOWN:0,NUMBER:1,STRING:2,BOOLEAN:3,DATE:4,CUSTOM:5};S[S.UNKNOWN]="UNKNOWN",S[S.NUMBER]="NUMBER",S[S.STRING]="STRING",S[S.BOOLEAN]="BOOLEAN",S[S.DATE]="DATE",S[S.CUSTOM]="CUSTOM";var w=function(){function t(){}return t.prototype.convert=function(t){return t===I.LIST?E.LIST:E.CARD},t}(),A=function(){function t(t,e){this.template=t,this.templRef=e}return t.prototype.hasTemplateRef=function(){return!!this.templRef},t.prototype.getTemplateRef=function(){return this.templRef},t.prototype.getTemplateMethod=function(){return this.template},t}();var D=function(){function t(t,e){this.template=t,this.templRef=e}return t.prototype.hasTemplateRef=function(){return!!this.templRef},t.prototype.getTemplateRef=function(){return this.templRef},t.prototype.getTemplateMethod=function(){return this.template},t}();var R=function(){function t(){this.pageChanged=new e.EventEmitter,this.pageSizeChanged=new e.EventEmitter,this.searchPhraseChanged=new e.EventEmitter,this.guiListPagingConverter=new b,this.guiListModeConverter=new w}return t.prototype.ngOnChanges=function(t){var e=this.listItem?this.listItem.templateRef:null;this.containerTemplate=new D(this.template,e);var n=this.listCard?this.listCard.templateRef:null;this.listCardTemplate=new A(this.cardTemplate,n),void 0!==t.paging&&void 0!==t.paging.currentValue&&"boolean"!=typeof this.paging&&(this.paging=this.guiListPagingConverter.convert(this.paging)),void 0!==t.view&&void 0!==t.view.currentValue&&(void 0!==this.view.active&&(this.listViewMode=this.guiListModeConverter.convert(this.view.active)),void 0!==this.view.selector&&(this.listViewModeSelector=this.view.selector)),void 0!==t.fields&&void 0!==t.fields.currentValue&&(this.listFields=this.fields.map((function(t){return{field:t.field,type:t.type}}))),void 0!==t.searching&&void 0!==t.searching.currentValue&&(this.searchConfig=this.searching)},t.propDecorators={listItem:[{type:e.ContentChild,args:[y,{static:!0}]}],listCard:[{type:e.ContentChild,args:[C,{static:!0}]}],source:[{type:e.Input}],template:[{type:e.Input}],cardTemplate:[{type:e.Input}],paging:[{type:e.Input}],view:[{type:e.Input}],fields:[{type:e.Input}],searching:[{type:e.Input}],pageChanged:[{type:e.Output}],pageSizeChanged:[{type:e.Output}],searchPhraseChanged:[{type:e.Output}]},t}();var M=[],x=function(t){function n(e){var n=t.call(this)||this;return n.platformId=e,n}return l(n,t),n.prototype.onPageChange=function(t){this.pageChanged.emit(t)},n.prototype.onPageSizeChange=function(t){this.pageSizeChanged.emit(t)},n.prototype.onSearchPhraseChange=function(t){this.searchPhraseChanged.emit(t)},n.decorators=[{type:e.Component,args:[{selector:"gui-list",template:'<gui-list-view\n\t\t(pageChanged)="onPageChange($event)"\n\t\t(pageSizeChanged)="onPageSizeChange($event)"\n\t\t(searchPhraseChanged)="onSearchPhraseChange($event)"\n\t\t[cardTemplate]="listCardTemplate"\n\t\t[fields]="listFields"\n\t\t[items]="source"\n\t\t[modeSelector]="listViewModeSelector"\n\t\t[mode]="listViewMode"\n\t\t[paging]="paging"\n\t\t[searching]="searchConfig"\n\t\t[template]="containerTemplate"\n>\n</gui-list-view>\n',providers:f(M),host:{"[class.gui-list]":'"true"'},encapsulation:e.ViewEncapsulation.None,styles:[""]}]}],n.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[e.PLATFORM_ID]}]}]},n}(R);var P=function(){function t(t,e){this.structureId=t,this.sourceCommandService=e}return t.prototype.ngOnChanges=function(t){t.items&&this.sourceCommandService.setOrigin(this.items,this.structureId)},t.propDecorators={items:[{type:e.Input}]},t}();var T=function(t){function e(e){return t.call(this,e)||this}return l(e,t),e.prototype.toAggregateId=function(){return new F(this.toString())},e}(r.ReadModelRootId),F=function(t){function e(e){return t.call(this,e)||this}return l(e,t),e.prototype.toReadModelRootId=function(){return new T(this.getId())},e}(r.AggregateId),k=function(){function t(){this.increment=0}return t.prototype.generateId=function(){return this.increment++,this.increment},t}();var O=function(){function t(){}return t.prototype.build=function(){return this.buildObject()},t}();var N=function(t){function e(e){var n=t.call(this)||this;return n.enabled=e,n}return l(e,t),e.prototype.buildObject=function(){return new V(this.enabled)},e.prototype.withEnabled=function(t){return this.enabled=t,this},e}(O);var H=function(t){function e(){return t.call(this,e.defaultEnabled)||this}return l(e,t),e.defaultEnabled=!0,e}(N);var V=function(){function t(t){this.enabled=t}return t.prototype.isEnabled=function(){return this.enabled},t.Builder=N,t.DefaultBuilder=H,t}();var j=function(t){function e(e,n,i){var r=t.call(this)||this;return r.headerEnabled=e,r.bottomPaging=n,r.topPaging=i,r.border=!0,r}return l(e,t),e.prototype.buildObject=function(){return new U(this.headerEnabled,this.bottomPaging,this.topPaging,this.border)},e.prototype.withHeader=function(t){return this.headerEnabled=t,this},e.prototype.withBottomPaging=function(t){return this.bottomPaging=t,this},e.prototype.withTopPaging=function(t){return this.topPaging=t,this},e.prototype.withBorder=function(t){return this.border=t,this},e}(O);var B=function(t){function e(){return t.call(this,e.defaultHeaderEnabled,e.defaultBottomPaging,e.defaultTopPaging)||this}return l(e,t),e.defaultHeaderEnabled=!0,e.defaultBottomPaging=(new V.DefaultBuilder).build(),e.defaultTopPaging=(new V.DefaultBuilder).build(),e}(j);var U=function(){function t(t,e,n,i){this.headerEnabled=t,this.bottomPaging=e,this.topPaging=n,this.border=i}return t.prototype.isHeaderEnabled=function(){return this.headerEnabled},t.prototype.isBorderEnabled=function(){return this.border},t.prototype.getBottomPaging=function(){return this.bottomPaging},t.prototype.getTopPaging=function(){return this.topPaging},t.Builder=j,t.DefaultBuilder=B,t}();var z=function(t){function e(e){return t.call(this,e)||this}return l(e,t),e.prototype.toAggregateId=function(){return new L(this.toString())},e}(r.ReadModelRootId),L=function(t){function e(e){return t.call(this,e)||this}return l(e,t),e.prototype.toReadModelRootId=function(){return new z(this.getId())},e}(r.AggregateId),W=function(t){function e(e){var n=t.call(this,e,"CreateCompositionCommand")||this;return n.compositionId=e,n}return l(e,t),e}(r.Command);var G=function(t){function e(e,n){var i=t.call(this,e,"SetColumnsCommand")||this;return i.compositionId=e,i.columns=n,i}return l(e,t),e.prototype.getParams=function(){return this.columns},e}(r.Command);var q=function(t){function e(e,n){var i=t.call(this,e,"SetCompositionWidthCommand")||this;return i.structureId=e,i.width=n,i}return l(e,t),e.prototype.getWidth=function(){return this.width},e}(r.Command);var Q=function(t){function e(e,n){var i=t.call(this,e,"SetCompositionContainerWidthCommand")||this;return i.structureId=e,i.width=n,i}return l(e,t),e.prototype.getWidth=function(){return this.width},e}(r.Command);var K=function(t){function e(e,n){var i=t.call(this,e,"SetCompositionResizeWidthCommand")||this;return i.structureId=e,i.enabled=n,i}return l(e,t),e.prototype.getEnabled=function(){return this.enabled},e}(r.Command);var X=function(t){function e(e,n){var i=t.call(this,e,"CompositionChangeSortStatusCommand")||this;return i.compositionId=e,i.sortParams=n,i}return l(e,t),e.prototype.getCompositionId=function(){return this.compositionId},e.prototype.getSortParams=function(){return this.sortParams},e}(r.Command);var Z=function(t){function e(e,n,i){var r=t.call(this,e,"CompositionSetColumnEnabledCommand")||this;return r.compositionId=e,r.columnId=n,r.enabled=i,r}return l(e,t),e.prototype.getColumnId=function(){return this.columnId},e.prototype.isEnabled=function(){return this.enabled},e}(r.Command);var Y=function(t){function e(e,n){var i=t.call(this,e,"CompositionMoveLeftColumnCommand")||this;return i.compositionId=e,i.columnId=n,i}return l(e,t),e.prototype.getColumnId=function(){return this.columnId},e}(r.Command);var J=function(t){function e(e,n){var i=t.call(this,e,"CompositionMoveRightColumnCommand")||this;return i.columnId=n,i}return l(e,t),e.prototype.getColumnId=function(){return this.columnId},e}(r.Command);var _=function(){function t(t){this.commandDispatcher=t}return t.prototype.createComposition=function(t){this.commandDispatcher.dispatch(new W(t))},t.prototype.setColumns=function(t,e){this.commandDispatcher.dispatch(new G(t,e))},t.prototype.setWidth=function(t,e){this.commandDispatcher.dispatch(new q(t,e))},t.prototype.setContainerWidth=function(t,e){this.commandDispatcher.dispatch(new Q(t,e))},t.prototype.setResizeWidth=function(t,e){this.commandDispatcher.dispatch(new K(t,e))},t.prototype.changeSort=function(t,e){this.commandDispatcher.dispatch(new X(t,e))},t.prototype.setColumnEnabled=function(t,e,n){this.commandDispatcher.dispatch(new Z(t,e,n))},t.prototype.moveLeft=function(t,e){this.commandDispatcher.dispatch(new Y(t,e))},t.prototype.moveRight=function(t,e){this.commandDispatcher.dispatch(new J(t,e))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.CommandDispatcher}]},t}();var $=new L("-1"),tt=function(t){function e(e){return t.call(this,e)||this}return l(e,t),e}(r.EntityId),et=function(){function t(t){this.compositionDispatcher=t}return t.prototype.createComposition=function(t){void 0===t&&(t=$),this.compositionDispatcher.createComposition(t)},t.prototype.setColumns=function(t,e){void 0===e&&(e=$),this.compositionDispatcher.setColumns(e,t)},t.prototype.setWidth=function(t,e){void 0===e&&(e=$),this.compositionDispatcher.setWidth(e,t)},t.prototype.setContainerWidth=function(t,e){void 0===e&&(e=$),this.compositionDispatcher.setContainerWidth(e,t)},t.prototype.setResizeWidth=function(t,e){void 0===e&&(e=$),this.compositionDispatcher.setResizeWidth(e,t)},t.prototype.enableColumn=function(t,e){void 0===e&&(e=$),this.compositionDispatcher.setColumnEnabled(e,this.toColumnId(t),!0)},t.prototype.disableColumn=function(t,e){void 0===e&&(e=$),this.compositionDispatcher.setColumnEnabled(e,this.toColumnId(t),!1)},t.prototype.moveLeft=function(t,e){void 0===e&&(e=$),this.compositionDispatcher.moveLeft(e,this.toColumnId(t))},t.prototype.moveRight=function(t,e){void 0===e&&(e=$),this.compositionDispatcher.moveRight(e,this.toColumnId(t))},t.prototype.toColumnId=function(t){return new tt(t.getId())},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:_}]},t}();var nt=function(t){function e(e,n){var i=t.call(this,e,"SetPagingCommand")||this;return i.config=n,i}return l(e,t),e.prototype.getPagingConfig=function(){return this.config},e}(r.Command);var it=function(t){function e(e,n){var i=t.call(this,e,"ChangePagesizeCommand")||this;return i.pageSize=n,i}return l(e,t),e.prototype.getPageSize=function(){return this.pageSize},e}(r.Command);var rt=function(t){function e(e){return t.call(this,e,"NextPageCommand")||this}return l(e,t),e}(r.Command),ot=function(t){function e(e){return t.call(this,e,"PrevPageCommand")||this}return l(e,t),e}(r.Command),at=function(){function t(t){this.commandDispatcher=t}return t.prototype.setPaging=function(t,e){this.commandDispatcher.dispatch(new nt(t,e))},t.prototype.changePageSize=function(t,e){this.commandDispatcher.dispatch(new it(t,e))},t.prototype.nextPage=function(t){this.commandDispatcher.dispatch(new rt(t))},t.prototype.prevPage=function(t){this.commandDispatcher.dispatch(new ot(t))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.CommandDispatcher}]},t}();var ut=new F("-1"),st=function(){function t(t){this.pagingDispatcher=t}return t.prototype.enable=function(t){void 0===t&&(t=ut),this.pagingDispatcher.setPaging(t,{enabled:!0})},t.prototype.disable=function(t){void 0===t&&(t=ut),this.pagingDispatcher.setPaging(t,{enabled:!1})},t.prototype.setPaging=function(t,e){void 0===e&&(e=ut),this.pagingDispatcher.setPaging(e,t)},t.prototype.changePageSize=function(t,e){void 0===e&&(e=ut),this.pagingDispatcher.changePageSize(e,t)},t.prototype.nextPage=function(t){void 0===t&&(t=ut),this.pagingDispatcher.nextPage(t)},t.prototype.prevPage=function(t){void 0===t&&(t=ut),this.pagingDispatcher.prevPage(t)},t.prototype.goToPage=function(t,e){if(e<t)for(;e!==t;)this.nextPage(),e+=1;else for(;e!==t;)this.prevPage(),e-=1},t.prototype.changePagerTop=function(t,e){void 0===e&&(e=ut),this.pagingDispatcher.setPaging(e,{pagerTop:t})},t.prototype.changePagerBottom=function(t,e){void 0===e&&(e=ut),this.pagingDispatcher.setPaging(e,{pagerBottom:t})},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:at}]},t}();function ct(t,e){if("function"!=typeof Object.getPrototypeOf(t)[e])throw new Error('Method "'+e+'" of class "'+t.constructor.name+"\" doesn't override any method of base class.")}var lt=function(){};var pt=function(t){function e(e){return t.call(this,e,"PageChangedEvent")||this}return l(e,t),e}(r.DomainEvent),gt=function(t){function e(e){return t.call(this,e,"PageChangedAggregateEvent")||this}return l(e,t),e.prototype.toDomainEvent=function(){return new pt(this.getAggregateId())},e}(r.AggregateEvent),dt=function(t){function e(e){return t.call(this,e,"PagesizeChangedEvent")||this}return l(e,t),e}(r.DomainEvent),ht=function(t){function e(e){return t.call(this,e,"PagesizeChangedAggregateEvent")||this}return l(e,t),e.prototype.toDomainEvent=function(){return new dt(this.getAggregateId())},e}(r.AggregateEvent),mt=function(){function t(t,e,n,i,r,o,a,u){this.enabled=t,this.page=e,this.pageSize=n,this.pageSizes=i,this.pagerTop=r,this.pagerBottom=o,this.sourceSize=a,this.events=[],this.logger=u}return t.default=function(e){return new t(!1,1,25,[10,25,50,100],!1,!0,0,e)},t.fromConfig=function(e,n){var i=t.default(n);return new t(e.enabled||i.isEnabled(),e.page||i.getPage(),e.pageSize||i.getPageSize(),e.pageSizes||i.getPageSizes(),e.pagerTop||i.isPagerTop(),e.pagerBottom||i.isPagerBottom(),0,n)},t.prototype.isEnabled=function(){return this.enabled},t.prototype.isDisabled=function(){return!this.enabled},t.prototype.getPage=function(){return this.page},t.prototype.getPageSize=function(){return this.pageSize},t.prototype.getPageSizes=function(){return this.pageSizes},t.prototype.isPagerTop=function(){return!this.isDisabled()&&this.pagerTop},t.prototype.isPagerBottom=function(){return!this.isDisabled()&&this.pagerBottom},t.prototype.getSourceSize=function(){return this.sourceSize},t.prototype.change=function(t){void 0!==t.enabled&&(this.enabled=t.enabled),void 0!==t.page&&(this.page=t.page,void 0===t.enabled&&(this.enabled=!0)),void 0!==t.pageSize&&(this.pageSize=t.pageSize,void 0===t.enabled&&(this.enabled=!0)),void 0!==t.pageSizes&&(this.pageSizes=t.pageSizes,void 0===t.enabled&&(this.enabled=!0)),void 0!==t.pagerTop&&(this.pagerTop=t.pagerTop,void 0===t.enabled&&(this.enabled=!0)),void 0!==t.pagerBottom&&(this.pagerBottom=t.pagerBottom,void 0===t.enabled&&(this.enabled=!0)),!0===this.enabled&&!1===t.pagerTop&&!1===t.pagerBottom&&(this.pagerBottom=!0,this.logger.warn("Pagers cannot be turn off when paging is enabled."))},t.prototype.setSourceSize=function(t){this.sourceSize=t},t.prototype.nextPage=function(){var t=this.page;this.isNextPageDisabled()||(t+=1),this.page=t},t.prototype.prevPage=function(){var t=this.page;this.isPrevPageDisabled()||(t-=1),this.page=t},t.prototype.changePageSize=function(t){return this.pageSizes.find((function(e){return e===t}))&&(this.setPage(1),this.setPageSize(t)),this.events},t.prototype.isNextPageDisabled=function(){return 0===this.sourceSize||this.page===Math.ceil(this.sourceSize/this.pageSize)},t.prototype.isPrevPageDisabled=function(){return 1===this.page},t.prototype.calculateStart=function(){var t=1+(this.page-1)*this.pageSize;return this.sourceSize<t?0:t},t.prototype.calculateEnd=function(){var t=this.page*this.pageSize;return this.sourceSize<t?this.sourceSize:t},t.prototype.sample=function(t){if(this.isDisabled())return t;var e=this.calculateStart();return 0!==e&&(e-=1),t.slice(e,this.calculateEnd())},t.prototype.clearEvents=function(){this.events.length=0},t.prototype.setPage=function(t){this.page=t,this.events.push(new gt(new F("TODO need to be changed")))},t.prototype.setPageSize=function(t){this.pageSize=t,this.events.push(new ht(new F("TODO need to be changed")))},t}();var ft=function(){function t(t){this.logger=t}return t.prototype.createDefault=function(){return mt.default(this.logger)},t.prototype.createFromConfig=function(t){return mt.fromConfig(t,this.logger)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:lt}]},t}();var yt=function(t){function n(e,n,i){var r=t.call(this,i)||this;return r.structureId=e,r.aggregateFactory=n,r}return l(n,t),n.prototype.setDefaultPaging=function(){var e=this.aggregateFactory.createDefault();t.prototype.setPaging.call(this,{page:e.getPage(),pageSize:e.getPageSize(),pageSizes:e.getPageSizes()},this.structureId)},n.prototype.setPaging=function(e){t.prototype.setPaging.call(this,e,this.structureId)},n.prototype.changePageSize=function(e){t.prototype.changePageSize.call(this,e,this.structureId)},n.prototype.nextPage=function(){t.prototype.nextPage.call(this,this.structureId)},n.prototype.prevPage=function(){t.prototype.prevPage.call(this,this.structureId)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:F},{type:ft},{type:at}]},g([ct,d("design:type",Function),d("design:paramtypes",[Object]),d("design:returntype",void 0)],n.prototype,"setPaging",null),g([ct,d("design:type",Function),d("design:paramtypes",[Number]),d("design:returntype",void 0)],n.prototype,"changePageSize",null),g([ct,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",void 0)],n.prototype,"nextPage",null),g([ct,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",void 0)],n.prototype,"prevPage",null),n}(st);var vt=function(){function t(){this.unsubscribe$=new o.Subject}return t.prototype.ngOnDestroy=function(){this.unsubscribe()},t.prototype.unsubscribe=function(){this.unsubscribe$.isStopped||(this.unsubscribe$.next(),this.unsubscribe$.complete())},t.prototype.takeUntil=function(){return a.takeUntil(this.unsubscribe$)},t}();var bt=function(t){function e(e){var n=t.call(this)||this;return e.ofEvent.apply(e,f(n.forEvents())).pipe(n.takeUntil()).subscribe((function(t){try{n.subs(t)}catch(t){console.error(t)}})),n}return l(e,t),e}(vt);var Ct=function(){function t(t){this.structureRepository=t}return t.prototype.on=function(t){return this.structureRepository.onStructure(t).pipe(a.filter((function(e){return e.getId().toString()===t.toString()})),a.map((function(t){return t.getPaging()})))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:bt}]},t}();var Et=function(){function t(t){this.pagingRepository=t}return t.prototype.onPaging=function(t){return void 0===t&&(t=ut),this.pagingRepository.on(t)},t.prototype.onSinglePaging=function(t){return void 0===t&&(t=ut),this.onPaging(t).pipe(a.take(1))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Ct}]},t}();var It=function(t){function n(e,n){var i=t.call(this,n)||this;return i.structureId=e,i}return l(n,t),n.prototype.onPaging=function(){return t.prototype.onPaging.call(this,this.structureId)},n.prototype.onSinglePaging=function(){return t.prototype.onPaging.call(this,this.structureId).pipe(a.take(1))},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:F},{type:Ct}]},g([ct,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",o.Observable)],n.prototype,"onPaging",null),g([ct,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",o.Observable)],n.prototype,"onSinglePaging",null),n}(Et);var St=function(t){function e(e,n,i){var r=t.call(this,e,"ToggleSelectedRowCommand")||this;return r.selectedRow=n,r.type=i,r}return l(e,t),e.prototype.getSelectedRow=function(){return this.selectedRow},e.prototype.getType=function(){return this.type},e}(r.Command);var wt=function(){function t(t){this.commandDispatcher=t}return t.prototype.toggleSelectedRow=function(t,e,n){this.commandDispatcher.dispatch(new St(t,e,n))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.CommandDispatcher}]},t}();var At=function(t){function e(e,n){var i=t.call(this,e,"SetEnabledSelectionCommand")||this;return i.enabled=n,i}return l(e,t),e.prototype.isEnabled=function(){return this.enabled},e}(r.Command);var Dt=function(t){function e(e,n){var i=t.call(this,e,"SetSelectionModeCommand")||this;return i.mode=n,i}return l(e,t),e.prototype.getMode=function(){return this.mode},e}(r.Command);var Rt=function(t){function e(e){return t.call(this,e,"SelectAllRowsCommand")||this}return l(e,t),e}(r.Command),Mt=function(t){function e(e){return t.call(this,e,"UnselectAllRowsCommand")||this}return l(e,t),e}(r.Command),xt=function(){function t(t,e){this.commandDispatcher=t,this.formationDispatcher=e}return t.prototype.setDefaultFormation=function(t){void 0===t&&(t=ut)},t.prototype.toggleSelectedRow=function(t,e,n){void 0===n&&(n=ut),this.formationDispatcher.toggleSelectedRow(n,t,e)},t.prototype.changeMode=function(t,e){void 0===e&&(e=ut),this.commandDispatcher.dispatch(new Dt(e,t))},t.prototype.setSelection=function(t,e){void 0===e&&(e=ut),this.commandDispatcher.dispatch(new At(e,t))},t.prototype.selectAll=function(t){void 0===t&&(t=ut),this.commandDispatcher.dispatch(new Rt(t))},t.prototype.unselectAll=function(t){void 0===t&&(t=ut),this.commandDispatcher.dispatch(new Mt(t))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.CommandDispatcher},{type:wt}]},t}();var Pt={NONE:0,ADD:1,RANGE:2};Pt[Pt.NONE]="NONE",Pt[Pt.ADD]="ADD",Pt[Pt.RANGE]="RANGE";var Tt=function(t){function n(e,n,i){var r=t.call(this,n,i)||this;return r.structureId=e,r}return l(n,t),n.prototype.setDefault=function(){t.prototype.setDefaultFormation.call(this,this.structureId)},n.prototype.toggleSelectedRow=function(e,n){t.prototype.toggleSelectedRow.call(this,e,n,this.structureId)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:F},{type:r.CommandDispatcher},{type:wt}]},g([ct,d("design:type",Function),d("design:paramtypes",[String,Number]),d("design:returntype",void 0)],n.prototype,"toggleSelectedRow",null),n}(xt);var Ft=function(t){function n(){return t.call(this)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.AggregateArchive),kt=function(t){function n(){return t.call(this)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.AggregateArchive),Ot=function(){function t(t,e,n){this.data=t,this.index=e,this.itemId=n}return t.prototype.getData=function(){return this.data},t.prototype.getIndex=function(){return this.index},t.prototype.getItemId=function(){return this.itemId},t}();var Nt=function(){function t(){this.origin=new Map,this.origin$=new o.ReplaySubject}return t.prototype.setOrigin=function(t,e){this.origin.set(e.toString(),t),this.origin$.next(this.origin)},t.prototype.onOrigin=function(t){return this.origin$.asObservable().pipe(a.map((function(e){return e.get(t.toString())})),a.distinctUntilChanged())},t.decorators=[{type:e.Injectable}],t}();var Ht=function(){function t(){this.origin=new Map,this.origin$=new o.ReplaySubject}return t.prototype.setItems=function(t,e){this.origin.set(e.toString(),t),this.origin$.next(this.origin)},t.prototype.getPreparedItems=function(t){return this.origin.get(t.getId())},t.prototype.onPreparedItems=function(t){return this.origin$.asObservable().pipe(a.map((function(e){return e.get(t.toString())})),a.distinctUntilChanged())},t.decorators=[{type:e.Injectable}],t}();var Vt=function(){function t(t,e,n){this.structureRepository=t,this.structurePreparedItemsRepository=e,this.structureSourceOriginRepository=n}return t.prototype.getEntities=function(t){return void 0===t&&(t=ut),this.structureRepository.getStructure(t).getEntities()},t.prototype.onEntities=function(t){return void 0===t&&(t=ut),this.structureRepository.onStructure(t).pipe(a.map((function(t){return t.getEntities()})),a.distinctUntilChanged((function(t,e){if(t.length!==e.length)return!1;var n=!0;return t.forEach((function(t,i){t.equals(e[i])||(n=!1)})),n})))},t.prototype.onEntitiesSize=function(t){return void 0===t&&(t=ut),this.onEntities(t).pipe(a.map((function(t){return t.length})))},t.prototype.onSingleEntities=function(t){return void 0===t&&(t=ut),this.onEntities(t).pipe(a.take(1))},t.prototype.onOriginSize=function(t){return void 0===t&&(t=ut),this.structureSourceOriginRepository.onOrigin(t).pipe(a.map((function(t){return t.length})))},t.prototype.onLoading=function(t){return void 0===t&&(t=ut),this.structureRepository.onStructure(t).pipe(a.map((function(t){return t.getSource().isLoading()})))},t.prototype.onPreparedEntities=function(t){return void 0===t&&(t=ut),this.structurePreparedItemsRepository.onPreparedItems(t)},t.prototype.getPreparedEntities=function(t){return void 0===t&&(t=ut),this.structurePreparedItemsRepository.getPreparedItems(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:bt},{type:Ht},{type:Nt}]},t}();var jt=function(){function t(t,e,n){this.rowSelectedRepository=t,this.rowSelectionModeRepository=e,this.sourceWarehouse=n}return t.prototype.getSelectedRows=function(t){void 0===t&&(t=ut);for(var e=this.sourceWarehouse.getPreparedEntities(t),n=this.getSelectedItemIds(t),i=[],r=e.length,o=function(t){var r=e[t];n.some((function(t){return t===r.getId().toString()}))&&i.push(new Ot(r.getData(),t,r.getId()))},a=0;a<r;a+=1)o(a);return i},t.prototype.onRowSelectedReadModel=function(t){return void 0===t&&(t=ut),this.rowSelectedRepository.on(t)},t.prototype.getSelectedItemIds=function(t){return void 0===t&&(t=ut),this.rowSelectedRepository.get(t).getAll()},t.prototype.onSelectedRows=function(t){return void 0===t&&(t=ut),this.rowSelectedRepository.on(t).pipe(a.map((function(t){return t.getAll()})))},t.prototype.onMode=function(t){return void 0===t&&(t=ut),this.rowSelectionModeRepository.on(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Ft},{type:kt},{type:Vt}]},t}();var Bt=function(t){function n(e,n,i,r){var o=t.call(this,n,i,r)||this;return o.structureId=e,o}return l(n,t),n.prototype.onRowSelectedReadModel=function(){return t.prototype.onRowSelectedReadModel.call(this,this.structureId)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:F},{type:Ft},{type:kt},{type:Vt}]},g([ct,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",o.Observable)],n.prototype,"onRowSelectedReadModel",null),n}(jt);var Ut=function(t){function e(e,n){var i=t.call(this,e,"SetConfigFilterCommand")||this;return i.filterConfig=n,i}return l(e,t),e.prototype.getConfig=function(){return this.filterConfig},e}(r.Command);var zt=function(t){function e(e){return t.call(this,e,"RemoveAllFiltersCommand")||this}return l(e,t),e}(r.Command),Lt=function(t){function e(e,n,i,r){var o=t.call(this,e,"AddFilterCommand")||this;return o.fieldId=n,o.filterTypeId=i,o.value=r,o}return l(e,t),e.prototype.getFieldId=function(){return this.fieldId},e.prototype.getFilterTypeId=function(){return this.filterTypeId},e.prototype.getValue=function(){return this.value},e}(r.Command);var Wt=function(t){function e(e,n){var i=t.call(this,e,"RemoveFilterCommand")||this;return i.filterId=n,i}return l(e,t),e.prototype.getFilterId=function(){return this.filterId},e}(r.Command);var Gt=function(t){function e(e,n){var i=t.call(this,e,"SelectAllUniqueFilterCommand")||this;return i.fieldId=n,i}return l(e,t),e.prototype.getFieldId=function(){return this.fieldId},e}(r.Command);var qt=function(t){function e(e,n){var i=t.call(this,e,"UnselectAllUniqueFilterCommand")||this;return i.fieldId=n,i}return l(e,t),e.prototype.getFieldId=function(){return this.fieldId},e}(r.Command);var Qt=function(t){function e(e,n,i){var r=t.call(this,e,"SelectUniqueFilterCommand")||this;return r.fieldId=n,r.uniqueValueId=i,r}return l(e,t),e.prototype.getFieldId=function(){return this.fieldId},e.prototype.getUniqueValueId=function(){return this.uniqueValueId},e}(r.Command);var Kt=function(t){function e(e,n,i){var r=t.call(this,e,"UnselectUniqueFilterCommand")||this;return r.fieldId=n,r.uniqueValueId=i,r}return l(e,t),e.prototype.getFieldId=function(){return this.fieldId},e.prototype.getUniqueValueId=function(){return this.uniqueValueId},e}(r.Command);var Xt=function(){function t(t){this.commandDispatcher=t}return t.prototype.setFilteringEnabled=function(t,e){this.commandDispatcher.dispatch(new Ut(e,t))},t.prototype.add=function(t,e,n,i){this.commandDispatcher.dispatch(new Lt(i,t,e,n))},t.prototype.removeAllFilters=function(t){this.commandDispatcher.dispatch(new zt(t))},t.prototype.removeFilter=function(t,e){this.commandDispatcher.dispatch(new Wt(e,t))},t.prototype.selectAllUniqueFilter=function(t,e){this.commandDispatcher.dispatch(new Gt(e,t))},t.prototype.unselectAllUniqueFilter=function(t,e){this.commandDispatcher.dispatch(new qt(e,t))},t.prototype.selectUniqueFilter=function(t,e,n){this.commandDispatcher.dispatch(new Qt(n,t,e))},t.prototype.unselectUniqueFilter=function(t,e,n){this.commandDispatcher.dispatch(new Kt(n,t,e))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.CommandDispatcher}]},t}();var Zt=function(t){function e(e,n){var i=t.call(this,e,"SourceSetLoadingCommand")||this;return i.enabled=n,i}return l(e,t),e.prototype.isEnabled=function(){return this.enabled},e}(r.Command);var Yt=function(t){function e(e,n){void 0===n&&(n=[]);var i=t.call(this,e,"SetOriginCommand")||this;return i.items=n,i}return l(e,t),e.prototype.getItems=function(){return this.items},e}(r.Command);var Jt=function(t){function e(e,n){var i=t.call(this,e,"StructureEditSourceItemCommand")||this;return i.params=n,i}return l(e,t),e.prototype.getParams=function(){return this.params},e}(r.Command);var _t=function(){function t(t){this.commandDispatcher=t}return t.prototype.setLoading=function(t,e){this.commandDispatcher.dispatch(new Zt(t,e))},t.prototype.setOrigin=function(t,e){this.commandDispatcher.dispatch(new Yt(t,e))},t.prototype.editItem=function(t,e){this.commandDispatcher.dispatch(new Jt(t,e))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.CommandDispatcher}]},t}();var $t=function(t){function e(e){return t.call(this,e,"CreateStructureCommand")||this}return l(e,t),e}(r.Command),te=function(t){function e(e,n){var i=t.call(this,e,"SetVerticalScrollEnabledCommand")||this;return i.enabled=n,i}return l(e,t),e.prototype.isEnabled=function(){return this.enabled},e}(r.Command);var ee=function(t){function e(e,n){var i=t.call(this,e,"SetScrollPositionCommand")||this;return i.position=n,i}return l(e,t),e.prototype.getPosition=function(){return this.position},e}(r.Command);var ne=function(t){function e(e,n){var i=t.call(this,e,"SetConfigQuickFilterCommand")||this;return i.quickFiltersConfig=n,i}return l(e,t),e.prototype.getConfig=function(){return this.quickFiltersConfig},e}(r.Command);var ie=function(t){function e(e,n){var i=t.call(this,e,"SetRowHeightCommand")||this;return i.rowHeight=n,i}return l(e,t),e.prototype.getRowHeight=function(){return this.rowHeight},e}(r.Command);var re=function(t){function e(e,n){var i=t.call(this,e,"StructureSetHeightCommand")||this;return i.height=n,i}return l(e,t),e.prototype.getHeight=function(){return this.height},e}(r.Command);var oe=function(t){function e(e,n){var i=t.call(this,e,"SetRowHeightBasedOnThemeCommand")||this;return i.theme=n,i}return l(e,t),e.prototype.getTheme=function(){return this.theme},e}(r.Command);var ae=function(){function t(t,e,n){this.commandDispatcher=t,this.structureFilterCommandService=e,this.sourceDispatcher=n}return t.prototype.createStructure=function(t){void 0===t&&(t=ut),this.commandDispatcher.dispatch(new $t(t))},t.prototype.enableVerticalScroll=function(t){void 0===t&&(t=ut),this.commandDispatcher.dispatch(new te(t,!0))},t.prototype.disableVerticalScroll=function(t){void 0===t&&(t=ut),this.commandDispatcher.dispatch(new te(t,!1))},t.prototype.setScrollPosition=function(t,e){void 0===e&&(e=ut),this.commandDispatcher.dispatch(new ee(e,t))},t.prototype.setOrigin=function(t,e){void 0===e&&(e=ut),this.sourceDispatcher.setOrigin(e,t)},t.prototype.setFilterConfig=function(t,e){void 0===e&&(e=ut),this.structureFilterCommandService.setFilteringEnabled(t,e)},t.prototype.setQuickFiltersConfig=function(t,e){void 0===e&&(e=ut),this.commandDispatcher.dispatch(new ne(e,t))},t.prototype.setRowHeight=function(t,e){void 0===e&&(e=ut),this.commandDispatcher.dispatch(new ie(e,+t))},t.prototype.setContainerHeight=function(t,e){void 0===e&&(e=ut),this.commandDispatcher.dispatch(new re(e,+t))},t.prototype.setRowHeightBasedOnTheme=function(t,e){void 0===e&&(e=ut),this.commandDispatcher.dispatch(new oe(e,t))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.CommandDispatcher},{type:Xt},{type:_t}]},t}();var ue={FABRIC:0,MATERIAL:1,LIGHT:2,DARK:3,GENERIC:4};ue[ue.FABRIC]="FABRIC",ue[ue.MATERIAL]="MATERIAL",ue[ue.LIGHT]="LIGHT",ue[ue.DARK]="DARK",ue[ue.GENERIC]="GENERIC";var se=function(t){function n(e,n,i,r,o){var a=t.call(this,i,r,o)||this;return a.structureId=e,a.compositionId=n,a}return l(n,t),n.prototype.createStructure=function(){t.prototype.createStructure.call(this,this.structureId)},n.prototype.enableVerticalScroll=function(){t.prototype.enableVerticalScroll.call(this,this.structureId)},n.prototype.disableVerticalScroll=function(){t.prototype.disableVerticalScroll.call(this,this.structureId)},n.prototype.setScrollPosition=function(e){t.prototype.setScrollPosition.call(this,e,this.structureId)},n.prototype.setOrigin=function(e){t.prototype.setOrigin.call(this,e,this.structureId)},n.prototype.setFilterConfig=function(e,n){void 0===n&&(n=ut),t.prototype.setFilterConfig.call(this,e,this.structureId)},n.prototype.setQuickFiltersConfig=function(e,n){void 0===n&&(n=ut),t.prototype.setQuickFiltersConfig.call(this,e,this.structureId)},n.prototype.setRowHeight=function(e){t.prototype.setRowHeight.call(this,e,this.structureId)},n.prototype.setContainerHeight=function(e){t.prototype.setContainerHeight.call(this,e,this.structureId)},n.prototype.setRowHeightBasedOnTheme=function(e){t.prototype.setRowHeightBasedOnTheme.call(this,e,this.structureId)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:F},{type:L},{type:r.CommandDispatcher},{type:Xt},{type:_t}]},g([ct,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",void 0)],n.prototype,"createStructure",null),g([ct,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",void 0)],n.prototype,"enableVerticalScroll",null),g([ct,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",void 0)],n.prototype,"disableVerticalScroll",null),g([ct,d("design:type",Function),d("design:paramtypes",[Number]),d("design:returntype",void 0)],n.prototype,"setScrollPosition",null),g([ct,d("design:type",Function),d("design:paramtypes",[Array]),d("design:returntype",void 0)],n.prototype,"setOrigin",null),g([ct,d("design:type",Function),d("design:paramtypes",[Object,F]),d("design:returntype",void 0)],n.prototype,"setFilterConfig",null),g([ct,d("design:type",Function),d("design:paramtypes",[Object,F]),d("design:returntype",void 0)],n.prototype,"setQuickFiltersConfig",null),g([ct,d("design:type",Function),d("design:paramtypes",[Number]),d("design:returntype",void 0)],n.prototype,"setRowHeight",null),g([ct,d("design:type",Function),d("design:paramtypes",[Number]),d("design:returntype",void 0)],n.prototype,"setContainerHeight",null),g([ct,d("design:type",Function),d("design:paramtypes",[Number]),d("design:returntype",void 0)],n.prototype,"setRowHeightBasedOnTheme",null),n}(ae);var ce=function(){function t(t){this.structureRepository=t}return t.prototype.onStructure=function(t){return void 0===t&&(t=ut),this.structureRepository.onStructure(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:bt}]},t}();var le=function(t){function n(e,n){var i=t.call(this,n)||this;return i.structureId=e,i}return l(n,t),n.prototype.onStructure=function(){return t.prototype.onStructure.call(this,this.structureId)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:F},{type:bt}]},g([ct,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",o.Observable)],n.prototype,"onStructure",null),n}(ce);var pe=function(){function t(t,e,n){this.itemId=t,this.columnFieldId=e,this.value=n}return t.prototype.getItemId=function(){return this.itemId},t.prototype.getColumnFieldId=function(){return this.columnFieldId},t.prototype.getValue=function(){return this.value},t}();var ge=function(t){function n(){return t.call(this)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.AggregateArchive),de=function(){function t(t){this.fieldReadModelRepository=t}return t.prototype.onFields=function(t){return this.fieldReadModelRepository.on(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:ge}]},t}();var he={INDEX:0,ITEM_ID:1,MANY_INDEX:2,MANY_ITEM_ID:3};he[he.INDEX]="INDEX",he[he.ITEM_ID]="ITEM_ID",he[he.MANY_INDEX]="MANY_INDEX",he[he.MANY_ITEM_ID]="MANY_ITEM_ID";var me=function(t){function e(e,n,i){var r=t.call(this,e,"DeleteOriginItemCommand")||this;return r.payload=n,r.type=i,r}return l(e,t),e.byIndex=function(t,n){return new e(t,n,he.INDEX)},e.byManyIndex=function(t,n){return new e(t,n,he.MANY_INDEX)},e.byItemId=function(t,n){return new e(t,n,he.ITEM_ID)},e.byManyItemId=function(t,n){return new e(t,n,he.MANY_ITEM_ID)},e.prototype.getType=function(){return this.type},e.prototype.getPayload=function(){return this.payload},e}(r.Command);var fe=function(t){function n(e,n,i,r){var o=t.call(this)||this;return o.commandDispatcher=e,o.sourceDispatcher=n,o.fieldWarehouse=i,o.sourceReadModelService=r,o}return l(n,t),n.prototype.setOrigin=function(t,e){void 0===e&&(e=ut),this.sourceDispatcher.setOrigin(e,t)},n.prototype.setLoading=function(t,e){void 0===e&&(e=ut),this.sourceDispatcher.setLoading(e,t)},n.prototype.editItem=function(t,e){void 0===e&&(e=ut),this.sourceDispatcher.editItem(e,t)},n.prototype.editItemByIndex=function(t,e,n,i){var r=this;void 0===i&&(i=ut);var u=this.sourceReadModelService.onSingleEntities().pipe(a.map((function(e){return e[t].getId()}))),s=this.fieldWarehouse.onFields(i);o.zip(u,s).pipe(a.take(1),this.takeUntil()).subscribe((function(t){var o=t[0],a=t[1];r.editItem(new pe(o,a[e],n),i)}))},n.prototype.deleteRow=function(t,e){void 0===e&&(e=ut),void 0!==t.getItemId()?this.deleteItemById(t.getItemId(),e):void 0!==t.getIndex()&&this.deleteItemByIndex(t.getIndex(),e)},n.prototype.deleteRows=function(t,e){void 0===e&&(e=ut),t.length>0&&(void 0!==t[0].getItemId()?this.deleteManyItemsByItemIds(t.map((function(t){return t.getItemId()})),e):void 0!==t[0].getIndex()&&this.deleteManyItemsByIndex(t.map((function(t){return t.getIndex()})),e))},n.prototype.deleteItemByIndex=function(t,e){void 0===e&&(e=ut),this.commandDispatcher.dispatch(me.byIndex(e,t))},n.prototype.deleteItemById=function(t,e){void 0===e&&(e=ut),this.commandDispatcher.dispatch(me.byItemId(e,t))},n.prototype.deleteManyItemsByIndex=function(t,e){void 0===e&&(e=ut),this.commandDispatcher.dispatch(me.byManyIndex(e,t))},n.prototype.deleteManyItemsByItemIds=function(t,e){void 0===e&&(e=ut),this.commandDispatcher.dispatch(me.byManyItemId(e,t))},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:r.CommandDispatcher},{type:_t},{type:de},{type:Vt}]},n}(vt);var ye=function(t){function n(e,n,i,r,o){var a=t.call(this,n,i,r,o)||this;return a.structureId=e,a}return l(n,t),n.prototype.setOrigin=function(e){t.prototype.setOrigin.call(this,e,this.structureId)},n.prototype.setLoading=function(e){t.prototype.setLoading.call(this,e,this.structureId)},n.prototype.editItem=function(e){t.prototype.editItem.call(this,e,this.structureId)},n.prototype.editItemByIndex=function(e,n,i){t.prototype.editItemByIndex.call(this,e,n,i,this.structureId)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:F},{type:r.CommandDispatcher},{type:_t},{type:de},{type:Vt}]},g([ct,d("design:type",Function),d("design:paramtypes",[Array]),d("design:returntype",void 0)],n.prototype,"setOrigin",null),g([ct,d("design:type",Function),d("design:paramtypes",[Boolean]),d("design:returntype",void 0)],n.prototype,"setLoading",null),g([ct,d("design:type",Function),d("design:paramtypes",[pe]),d("design:returntype",void 0)],n.prototype,"editItem",null),g([ct,d("design:type",Function),d("design:paramtypes",[Number,Number,Object]),d("design:returntype",void 0)],n.prototype,"editItemByIndex",null),n}(fe);var ve=function(t){function n(e,n,i,r){var o=t.call(this,n,i,r)||this;return o.structureId=e,o}return l(n,t),n.prototype.getEntities=function(){return t.prototype.getEntities.call(this,this.structureId)},n.prototype.onEntities=function(){return t.prototype.onEntities.call(this,this.structureId)},n.prototype.onEntitiesSize=function(){return t.prototype.onEntitiesSize.call(this,this.structureId)},n.prototype.onSingleEntities=function(){return t.prototype.onSingleEntities.call(this,this.structureId)},n.prototype.onOriginSize=function(){return t.prototype.onOriginSize.call(this,this.structureId)},n.prototype.onLoading=function(){return t.prototype.onLoading.call(this,this.structureId)},n.prototype.onPreparedEntities=function(){return t.prototype.onPreparedEntities.call(this,this.structureId)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:F},{type:bt},{type:Ht},{type:Nt}]},g([ct,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",Array)],n.prototype,"getEntities",null),g([ct,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",o.Observable)],n.prototype,"onEntities",null),g([ct,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",o.Observable)],n.prototype,"onEntitiesSize",null),g([ct,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",o.Observable)],n.prototype,"onSingleEntities",null),g([ct,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",o.Observable)],n.prototype,"onOriginSize",null),g([ct,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",o.Observable)],n.prototype,"onLoading",null),g([ct,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",o.Observable)],n.prototype,"onPreparedEntities",null),n}(Vt);var be=function(t){function e(e){return t.call(this,e)||this}return l(e,t),e}(r.ReadModelEntityId),Ce=function(t){function n(e,n){var i=t.call(this,n)||this;return i.compositionId=e,i}return l(n,t),n.prototype.createComposition=function(e){void 0===e&&(e=$),t.prototype.createComposition.call(this,this.compositionId)},n.prototype.setColumns=function(e){t.prototype.setColumns.call(this,e,this.compositionId)},n.prototype.setWidth=function(e,n){void 0===n&&(n=$),t.prototype.setWidth.call(this,e,this.compositionId)},n.prototype.setContainerWidth=function(e,n){void 0===n&&(n=$),t.prototype.setContainerWidth.call(this,e,this.compositionId)},n.prototype.setResizeWidth=function(e,n){void 0===n&&(n=$),t.prototype.setResizeWidth.call(this,e,this.compositionId)},n.prototype.enableColumn=function(e,n){void 0===n&&(n=$),t.prototype.enableColumn.call(this,e,this.compositionId)},n.prototype.disableColumn=function(e,n){void 0===n&&(n=$),t.prototype.disableColumn.call(this,e,this.compositionId)},n.prototype.moveLeft=function(e,n){void 0===n&&(n=$),t.prototype.moveLeft.call(this,e,this.compositionId)},n.prototype.moveRight=function(e,n){void 0===n&&(n=$),t.prototype.moveRight.call(this,e,this.compositionId)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:L},{type:_}]},g([ct,d("design:type",Function),d("design:paramtypes",[L]),d("design:returntype",void 0)],n.prototype,"createComposition",null),g([ct,d("design:type",Function),d("design:paramtypes",[Array]),d("design:returntype",void 0)],n.prototype,"setColumns",null),g([ct,d("design:type",Function),d("design:paramtypes",[Number,L]),d("design:returntype",void 0)],n.prototype,"setWidth",null),g([ct,d("design:type",Function),d("design:paramtypes",[Number,L]),d("design:returntype",void 0)],n.prototype,"setContainerWidth",null),g([ct,d("design:type",Function),d("design:paramtypes",[Boolean,L]),d("design:returntype",void 0)],n.prototype,"setResizeWidth",null),g([ct,d("design:type",Function),d("design:paramtypes",[be,L]),d("design:returntype",void 0)],n.prototype,"enableColumn",null),g([ct,d("design:type",Function),d("design:paramtypes",[be,L]),d("design:returntype",void 0)],n.prototype,"disableColumn",null),g([ct,d("design:type",Function),d("design:paramtypes",[be,L]),d("design:returntype",void 0)],n.prototype,"moveLeft",null),g([ct,d("design:type",Function),d("design:paramtypes",[be,L]),d("design:returntype",void 0)],n.prototype,"moveRight",null),n}(et);var Ee=function(t){function e(e){return t.call(this,e)||this}return l(e,t),e}(r.ReadModelRootRepository);var Ie=function(){function t(t){this.compositionRepository=t}return t.prototype.onWidth=function(t){return void 0===t&&(t=$),this.compositionRepository.on(t).pipe(a.map((function(t){return t.getWidth()})))},t.prototype.onContainerWidth=function(t){return void 0===t&&(t=$),this.compositionRepository.on(t).pipe(a.map((function(t){return t.getContainerWidth()})))},t.prototype.onWidthForEachColumn=function(t){return void 0===t&&(t=$),this.compositionRepository.on(t).pipe(a.map((function(t){return t.getAllColumns().map((function(t){return t.width}))})))},t.prototype.onHeaderColumns=function(t){return void 0===t&&(t=$),this.compositionRepository.on(t).pipe(a.map((function(t){return t.getActiveHeaderColumns()})))},t.prototype.onAllColumns=function(t){return void 0===t&&(t=$),this.compositionRepository.on(t).pipe(a.map((function(t){return t.getHeaderColumns()})))},t.prototype.onSortOrder=function(t,e){return void 0===e&&(e=$),this.compositionRepository.on(e).pipe(a.map((function(t){return t.getActiveHeaderColumns()})),a.map((function(e){return e.filter((function(e){return e.getFieldId().equals(t)}))})),a.filter((function(t){return t.length>0})),a.map((function(t){return t[0].getSortStatus()})))},t.prototype.onTemplateColumns=function(t){return void 0===t&&(t=$),this.compositionRepository.on(t).pipe(a.map((function(t){return t.getTemplateColumns()})))},t.prototype.onResizeWidth=function(t){return void 0===t&&(t=$),this.compositionRepository.on(t).pipe(a.map((function(t){return t.isResizeWidthEnabled()})))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Ee}]},t}();var Se=function(){function t(t){this.id=t}return t.prototype.getId=function(){return this.id},t.prototype.equals=function(t){return t.toString()===this.id},t.prototype.toString=function(){return this.id},t}();var we=function(t){function n(e,n){var i=t.call(this,n)||this;return i.compositionId=e,i}return l(n,t),n.prototype.onWidth=function(){return t.prototype.onWidth.call(this,this.compositionId)},n.prototype.onContainerWidth=function(e){return void 0===e&&(e=$),t.prototype.onContainerWidth.call(this,this.compositionId)},n.prototype.onWidthForEachColumn=function(){return t.prototype.onWidthForEachColumn.call(this,this.compositionId)},n.prototype.onHeaderColumns=function(){return t.prototype.onHeaderColumns.call(this,this.compositionId)},n.prototype.onAllColumns=function(e){return void 0===e&&(e=$),t.prototype.onAllColumns.call(this,this.compositionId)},n.prototype.onSortOrder=function(e){return t.prototype.onSortOrder.call(this,e,this.compositionId)},n.prototype.onTemplateColumns=function(){return t.prototype.onTemplateColumns.call(this,this.compositionId)},n.prototype.onResizeWidth=function(){return t.prototype.onResizeWidth.call(this,this.compositionId)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:L},{type:Ee}]},g([ct,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",o.Observable)],n.prototype,"onWidth",null),g([ct,d("design:type",Function),d("design:paramtypes",[L]),d("design:returntype",o.Observable)],n.prototype,"onContainerWidth",null),g([ct,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",o.Observable)],n.prototype,"onWidthForEachColumn",null),g([ct,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",o.Observable)],n.prototype,"onHeaderColumns",null),g([ct,d("design:type",Function),d("design:paramtypes",[L]),d("design:returntype",o.Observable)],n.prototype,"onAllColumns",null),g([ct,d("design:type",Function),d("design:paramtypes",[Se]),d("design:returntype",o.Observable)],n.prototype,"onSortOrder",null),g([ct,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",o.Observable)],n.prototype,"onTemplateColumns",null),g([ct,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",o.Observable)],n.prototype,"onResizeWidth",null),n}(Ie);var Ae=function(t){function e(e,n){var i=t.call(this,e,"SetConfigSearchingCommand")||this;return i.searchConfig=n,i}return l(e,t),e.prototype.getConfig=function(){return this.searchConfig},e}(r.Command);var De=function(t){function e(e,n,i){var r=t.call(this,e,"SetSearchPhraseCommand")||this;return r.phrase=n,r.initial=i,r}return l(e,t),e.prototype.getPhrase=function(){return this.phrase},e.prototype.isInitial=function(){return this.initial},e}(r.Command);var Re=function(){function t(){this.idToHighlight=new Map,this.idToHighlight$=new o.ReplaySubject}return t.prototype.next=function(t,e){void 0===e&&(e=ut),this.idToHighlight.set(e.getId(),t),this.idToHighlight$.next(this.idToHighlight)},t.prototype.onValue=function(e){return void 0===e&&(e=ut),this.idToHighlight$.asObservable().pipe(a.map((function(n){return n.get(e.getId())||t.HIGHLIGHTING})))},t.HIGHLIGHTING=!0,t.decorators=[{type:e.Injectable}],t}();var Me=function(){function t(){this.idToPlaceholder=new Map,this.idToPlaceholder$=new o.ReplaySubject}return t.prototype.next=function(t,e){void 0===e&&(e=ut),this.idToPlaceholder.set(e.getId(),t),this.idToPlaceholder$.next(this.idToPlaceholder)},t.prototype.onValue=function(e){return void 0===e&&(e=ut),this.idToPlaceholder$.asObservable().pipe(a.map((function(n){return n.get(e.getId())||t.PLACEHOLDER})))},t.PLACEHOLDER="Search ...",t.decorators=[{type:e.Injectable}],t}();var xe=function(){function t(t,e,n){this.commandDispatcher=t,this.structureSearchHighlightArchive=e,this.structureSearchPlaceholderArchive=n}return t.prototype.setSearchingConfig=function(t,e){void 0===e&&(e=ut),void 0!==t.highlighting&&null!==t.highlighting&&this.structureSearchHighlightArchive.next(t.highlighting),void 0!==t.placeholder&&null!==t.placeholder&&this.structureSearchPlaceholderArchive.next(t.placeholder),void 0!==t.phrase&&null!==t.phrase&&this.searchOnInit(t.phrase,e),this.commandDispatcher.dispatch(new Ae(e,t))},t.prototype.search=function(t,e){void 0===e&&(e=ut),this.commandDispatcher.dispatch(new De(e,t,!1))},t.prototype.searchOnInit=function(t,e){void 0===e&&(e=ut),this.commandDispatcher.dispatch(new De(e,t,!0))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.CommandDispatcher},{type:Re},{type:Me}]},t}();var Pe=function(t){function n(e,n,i,r){var o=t.call(this,n,i,r)||this;return o.structureId=e,o}return l(n,t),n.prototype.setSearchingConfig=function(e){t.prototype.setSearchingConfig.call(this,e,this.structureId)},n.prototype.search=function(e){t.prototype.search.call(this,e,this.structureId)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:F},{type:r.CommandDispatcher},{type:Re},{type:Me}]},g([ct,d("design:type",Function),d("design:paramtypes",[Object]),d("design:returntype",void 0)],n.prototype,"setSearchingConfig",null),g([ct,d("design:type",Function),d("design:paramtypes",[String]),d("design:returntype",void 0)],n.prototype,"search",null),n}(xe);var Te=function(t){function e(e){return t.call(this,e)||this}return l(e,t),e.prototype.toReadModelRootId=function(){return new Fe(this.getId())},e}(r.AggregateId),Fe=function(t){function e(e){return t.call(this,e)||this}return l(e,t),e.prototype.toAggregateId=function(){return new Te(this.getId())},e}(r.ReadModelRootId),ke=new Fe("-1"),Oe=function(t){function n(){return t.call(this)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.AggregateArchive),Ne=function(t){function n(){var e=t.call(this)||this;return e.theme=new Map,e.theme$=new o.ReplaySubject,e}return l(n,t),n.prototype.setCssClass=function(t,e){this.next(t,e)},n.prototype.on=function(t){return this.theme$.asObservable().pipe(this.takeUntil(),a.map((function(e){return e.get(t.toString())})))},n.prototype.next=function(t,e){this.theme.set(e.toString(),t),this.theme$.next(this.theme)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(vt);var He=function(t){function n(){return t.call(this)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.AggregateArchive),Ve=function(t){function n(){return t.call(this)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.AggregateArchive),je=function(t){function n(){return t.call(this)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.AggregateArchive),Be=function(){function t(t,e,n,i,r){this.schemaCssClassesRepository=t,this.schemaThemeRepository=e,this.schemaHorizontalGridRepository=n,this.schemaRowColoringRepository=i,this.schemaVerticalGridRepository=r}return t.prototype.onTheme=function(t){return void 0===t&&(t=ke),this.schemaThemeRepository.on(t.toAggregateId())},t.prototype.onHorizontalGrid=function(t){return void 0===t&&(t=ke),this.schemaHorizontalGridRepository.on(t.toAggregateId())},t.prototype.onVerticalGrid=function(t){return void 0===t&&(t=ke),this.schemaVerticalGridRepository.on(t.toAggregateId())},t.prototype.onRowColoring=function(t){return void 0===t&&(t=ke),this.schemaRowColoringRepository.on(t.toAggregateId())},t.prototype.onSingleTheme=function(t){return void 0===t&&(t=ke),this.schemaThemeRepository.on(t.toAggregateId()).pipe(a.take(1))},t.prototype.onCssClasses=function(t){return void 0===t&&(t=ke),this.schemaCssClassesRepository.on(t.toAggregateId())},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Ne},{type:Oe},{type:He},{type:Ve},{type:je}]},t}();var Ue=function(t){function n(e,n,i,r,o,a){var u=t.call(this,n,i,r,o,a)||this;return u.schemaReadModelRootId=e,u}return l(n,t),n.prototype.onTheme=function(){return t.prototype.onTheme.call(this,this.schemaReadModelRootId)},n.prototype.onHorizontalGrid=function(){return t.prototype.onHorizontalGrid.call(this,this.schemaReadModelRootId)},n.prototype.onVerticalGrid=function(){return t.prototype.onVerticalGrid.call(this,this.schemaReadModelRootId)},n.prototype.onRowColoring=function(){return t.prototype.onRowColoring.call(this,this.schemaReadModelRootId)},n.prototype.onSingleTheme=function(){return t.prototype.onSingleTheme.call(this,this.schemaReadModelRootId)},n.prototype.onCssClasses=function(){return t.prototype.onCssClasses.call(this,this.schemaReadModelRootId)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:Fe},{type:Ne},{type:Oe},{type:He},{type:Ve},{type:je}]},g([ct,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",o.Observable)],n.prototype,"onTheme",null),g([ct,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",o.Observable)],n.prototype,"onHorizontalGrid",null),g([ct,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",o.Observable)],n.prototype,"onVerticalGrid",null),g([ct,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",o.Observable)],n.prototype,"onRowColoring",null),g([ct,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",o.Observable)],n.prototype,"onSingleTheme",null),g([ct,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",o.Observable)],n.prototype,"onCssClasses",null),n}(Be);var ze=function(t){function e(e,n){var i=t.call(this,e,"SetSchemaThemeCommand")||this;return i.theme=n,i}return l(e,t),e.prototype.getTheme=function(){return this.theme},e}(r.Command);var Le=function(t){function e(e){return t.call(this,e,"CreateSchemaCommand")||this}return l(e,t),e}(r.CreateAggregateCommand),We=function(t){function e(e,n){var i=t.call(this,e,"SetRowColoringCommand")||this;return i.coloring=n,i}return l(e,t),e.prototype.getColoring=function(){return this.coloring},e}(r.Command);var Ge=function(t){function e(e,n){var i=t.call(this,e,"SetSchemaVerticalGridCommand")||this;return i.enabled=n,i}return l(e,t),e.prototype.isEnabled=function(){return this.enabled},e}(r.Command);var qe=function(t){function e(e,n){var i=t.call(this,e,"SetSchemaHorizontalGridCommand")||this;return i.enabled=n,i}return l(e,t),e.prototype.isEnabled=function(){return this.enabled},e}(r.Command);var Qe=function(){function t(t){this.commandDispatcher=t}return t.prototype.create=function(t){this.commandDispatcher.dispatch(new Le(t))},t.prototype.setTheme=function(t,e){this.commandDispatcher.dispatch(new ze(e,t))},t.prototype.setRowColoring=function(t,e){this.commandDispatcher.dispatch(new We(e,t))},t.prototype.setVerticalGrid=function(t,e){this.commandDispatcher.dispatch(new Ge(e,t))},t.prototype.setHorizontalGrid=function(t,e){this.commandDispatcher.dispatch(new qe(e,t))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.CommandDispatcher}]},t}();var Ke={NONE:0,EVEN:1,ODD:2};Ke[Ke.NONE]="NONE",Ke[Ke.EVEN]="EVEN",Ke[Ke.ODD]="ODD";var Xe={NONE:0,EVEN:1,ODD:2};Xe[Xe.NONE]="NONE",Xe[Xe.EVEN]="EVEN",Xe[Xe.ODD]="ODD";var Ze=function(){function t(t,e){this.schemaDispatcher=t,this.structureCommandService=e}return t.prototype.create=function(t){void 0===t&&(t=ke),this.schemaDispatcher.create(t.toAggregateId())},t.prototype.setTheme=function(t,e,n){void 0===e&&(e=ke),void 0===n&&(n=ut),this.schemaDispatcher.setTheme(t,e.toAggregateId()),this.structureCommandService.setRowHeightBasedOnTheme(t,n)},t.prototype.setRowColoring=function(t,e){void 0===e&&(e=ke);var n=this.toSchemaRowColoring(t);this.schemaDispatcher.setRowColoring(n,e.toAggregateId())},t.prototype.setVerticalGrid=function(t,e){void 0===e&&(e=ke),this.schemaDispatcher.setVerticalGrid(t,e.toAggregateId())},t.prototype.setHorizontalGrid=function(t,e){void 0===e&&(e=ke),this.schemaDispatcher.setHorizontalGrid(t,e.toAggregateId())},t.prototype.toSchemaRowColoring=function(t){switch(t){case Xe.NONE:return Ke.NONE;case Xe.ODD:return Ke.ODD;case Xe.EVEN:return Ke.EVEN}},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Qe},{type:ae}]},t}();var Ye=function(t){function n(e,n,i,r){var o=t.call(this,r,i)||this;return o.schemaReadModelRootId=e,o.structureId=n,o}return l(n,t),n.prototype.create=function(){t.prototype.create.call(this,this.schemaReadModelRootId)},n.prototype.setTheme=function(e){t.prototype.setTheme.call(this,e,this.schemaReadModelRootId,this.structureId)},n.prototype.setRowColoring=function(e){t.prototype.setRowColoring.call(this,e,this.schemaReadModelRootId)},n.prototype.setVerticalGrid=function(e){t.prototype.setVerticalGrid.call(this,e,this.schemaReadModelRootId)},n.prototype.setHorizontalGrid=function(e){t.prototype.setHorizontalGrid.call(this,e,this.schemaReadModelRootId)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:Fe},{type:F},{type:ae},{type:Qe}]},g([ct,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",void 0)],n.prototype,"create",null),g([ct,d("design:type",Function),d("design:paramtypes",[Number]),d("design:returntype",void 0)],n.prototype,"setTheme",null),g([ct,d("design:type",Function),d("design:paramtypes",[Number]),d("design:returntype",void 0)],n.prototype,"setRowColoring",null),g([ct,d("design:type",Function),d("design:paramtypes",[Boolean]),d("design:returntype",void 0)],n.prototype,"setVerticalGrid",null),g([ct,d("design:type",Function),d("design:paramtypes",[Boolean]),d("design:returntype",void 0)],n.prototype,"setHorizontalGrid",null),n}(Ze);var Je=function(t){function e(e){return t.call(this,e,"StructureCreatedEvent")||this}return l(e,t),e}(r.DomainEvent),_e=function(t){function e(e){return t.call(this,e,"VerticalScrollEnabledSetEvent")||this}return l(e,t),e}(r.DomainEvent),$e=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n}(r.InMemoryStore),tn=function(){function t(t,e,n,i,r,o,a,u,s,c,l){this.enabled=t,this.page=e,this.pageSize=n,this.pageSizes=i,this.pagerTop=r,this.pagerBottom=o,this.isNextDisabled=a,this.isPrevDisabled=u,this.start=s,this.end=c,this.sourceSize=l}return t.prototype.isEnabled=function(){return this.enabled},t.prototype.getPage=function(){return this.page},t.prototype.getPageSize=function(){return this.pageSize},t.prototype.getPageSizes=function(){return this.pageSizes},t.prototype.isPagerTop=function(){return this.pagerTop},t.prototype.isPagerBottom=function(){return this.pagerBottom},t.prototype.isNextPageDisabled=function(){return this.isNextDisabled},t.prototype.isPrevPageDisabled=function(){return this.isPrevDisabled},t.prototype.getStart=function(){return this.start},t.prototype.getEnd=function(){return this.end},t.prototype.getSourceSize=function(){return this.sourceSize},t.prototype.calculateVisiblePages=function(t,e,n){return t-e<n&&n<t+e},t.prototype.sample=function(t){var e=this.getStart();return 0!==e&&(e-=1),t.slice(e,this.getEnd())},t.ctorParameters=function(){return[{type:Boolean},{type:Number},{type:Number},{type:Array},{type:Boolean},{type:Boolean},{type:Boolean},{type:Boolean},{type:Number},{type:Number},{type:Number}]},t=g([r.ReadModelObject,d("design:paramtypes",[Boolean,Number,Number,Array,Boolean,Boolean,Boolean,Boolean,Number,Number,Number])],t)}();var en=function(){function t(){}return t.prototype.convert=function(t){return new tn(t.isEnabled(),t.getPage(),t.getPageSize(),t.getPageSizes(),t.isPagerTop(),t.isPagerBottom(),t.isNextPageDisabled(),t.isPrevPageDisabled(),t.calculateStart(),t.calculateEnd(),t.getSourceSize())},t.decorators=[{type:e.Injectable}],t}(),nn=function(){function t(t){this.loading=t}return t.prototype.isLoading=function(){return this.loading},t.ctorParameters=function(){return[{type:Boolean}]},t=g([r.ReadModelObject,d("design:paramtypes",[Boolean])],t)}();var rn=function(){function t(){}return t.prototype.convert=function(t){return new nn(t.isLoading())},t.decorators=[{type:e.Injectable}],t}(),on=function(){function t(t,e,n,i,r){this.enabled=t,this.topMargin=e,this.sourceHeight=n,this.viewportHeight=i,this.rowHeight=r}return t.prototype.isEnabled=function(){return this.enabled},t.prototype.getTopMargin=function(){return this.topMargin},t.prototype.getSourceHeight=function(){return this.sourceHeight},t.prototype.getViewPortHeight=function(){return this.viewportHeight},t.prototype.getRowHeight=function(){return this.rowHeight},t.ctorParameters=function(){return[{type:Boolean},{type:Number},{type:Number},{type:Number},{type:Number}]},t=g([r.ReadModelObject,d("design:paramtypes",[Boolean,Number,Number,Number,Number])],t)}();var an=function(){function t(){}return t.prototype.convert=function(t){var e=t.isEnabled(),n=t.getTopMargin(),i=t.getSourceHeight(),r=t.getViewPortHeight(),o=t.getRowHeight();return new on(e,n,i,r,o)},t.decorators=[{type:e.Injectable}],t}(),un=function(t){function e(e,n,i,r,o){var a=t.call(this,e)||this;return a.paging=n,a.entities=i,a.source=r,a.verticalFormation=o,a}return l(e,t),e.prototype.getPaging=function(){return this.paging},e.prototype.getEntities=function(){return this.entities},e.prototype.getSource=function(){return this.source},e.prototype.getVerticalFormation=function(){return this.verticalFormation},e.prototype.getTopMargin=function(){return this.verticalFormation.getTopMargin()},e.prototype.isLoaderVisible=function(){return this.getSource().isLoading()},e.prototype.getSourceHeight=function(){return this.verticalFormation.getSourceHeight()},e.prototype.isReadyToDisplay=function(){return this.entities.length>0},e.prototype.isVerticalScrollEnabled=function(){return this.verticalFormation.isEnabled()},e}(r.ReadModelRoot);var sn=function(){function t(t,e,n,i){void 0===i&&(i=0),this.version=0,this.data=t,this.position=e,this.version=i,this.id=n||r.RandomStringGenerator.generate()}return t.prototype.getData=function(){return this.data},t.prototype.getUiId=function(){return"gui"+this.id.replace(/-/g,"")},t.prototype.getId=function(){return this.id},t.prototype.getVersion=function(){return this.version},t.prototype.getPosition=function(){return this.position},t.prototype.isSelected=function(){return!1},t.prototype.isEven=function(){return this.position%2==0},t.prototype.isOdd=function(){return this.position%2==1},t.prototype.equals=function(t){return this.id===t.id&&this.getVersion()===t.getVersion()},t.prototype.equalsById=function(t){return this.id===t},t}();var cn=function(){function t(t,e,n){this.pagingConverter=t,this.sourceConverter=e,this.verticalFormationConverter=n}return t.prototype.convert=function(t){var e=t.getPaging(),n=t.getEntities(),i=t.getSource(),r=t.getVerticalFormation();return new un(t.getId().toReadModelRootId(),this.pagingConverter.convert(e),this.convertSource(n),this.sourceConverter.convert(i),this.verticalFormationConverter.convert(r))},t.prototype.convertSource=function(t){return t.map((function(t){return new sn(t.rawData,t.getPosition(),t.getId().toString(),t.getVersion())}))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:en},{type:rn},{type:an}]},t}();var ln=function(t){function n(e,n){var i=t.call(this,e)||this;return i.inMemoryProjectStore=e,i.structureConverter=n,i}return l(n,t),n.prototype.toReadModel=function(t){return this.structureConverter.convert(t)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:$e},{type:cn}]},n}(r.InMemoryReadModelStore);var pn=function(t){function e(e){return t.call(this,e,"RowHeightSetEvent")||this}return l(e,t),e}(r.DomainEvent),gn=function(t){function e(e,n){var i=t.call(this,e,"SchemaThemeSetEvent")||this;return i.theme=n,i}return l(e,t),e.prototype.getTheme=function(){return this.theme},e}(r.DomainEvent);var dn=function(t){function e(e){return t.call(this,e,"StructureHeightSetEvent")||this}return l(e,t),e}(r.DomainEvent),hn=function(t){function e(e,n){var i=t.call(this,e,"OriginSetEvent")||this;return i.origin=n,i}return l(e,t),e.prototype.getOrigin=function(){return this.origin},e}(r.DomainEvent);var mn=function(t){function e(e){return t.call(this,e,"ScrollPositionSetEvent")||this}return l(e,t),e}(r.DomainEvent),fn=function(t){function e(e){return t.call(this,e,"RowHeightSetBasedOnThemeEvent")||this}return l(e,t),e}(r.DomainEvent),yn=function(t){function e(e,n,i){var r=t.call(this,e,"SearchPhraseSetDomainEvent")||this;return r.phrase=n,r.initial=i,r}return l(e,t),e.prototype.getPhrase=function(){return this.phrase},e.prototype.isInitial=function(){return this.initial},e}(r.DomainEvent);var vn=function(t){function n(e,n){var i=t.call(this)||this;return i.domainEventBus=e,i.inMemoryStructureReadStore=n,i.verticalFormation=new Map,i.verticalFormation$=new o.ReplaySubject,i.domainEventBus.ofEvent(Je,_e,hn,dn,pn,gn,fn,mn,yn).pipe(i.takeUntil()).subscribe((function(t){var e=t.getAggregateId();i.inMemoryStructureReadStore.getById(e).ifPresent((function(t){var n=t.getVerticalFormation();t.getId();i.next(e,n)}))})),i}return l(n,t),n.prototype.onVerticalScrollEnabled=function(t){return this.onVerticalFormation(t).pipe(a.map((function(t){return t.isEnabled()})),a.distinctUntilChanged())},n.prototype.onRowHeight=function(t){return this.onVerticalFormation(t).pipe(a.map((function(t){return t.getRowHeight()})))},n.prototype.onContainerHeight=function(t){return this.onVerticalFormation(t).pipe(a.map((function(t){return t.getViewPortHeight()})))},n.prototype.onTopMargin=function(t){return this.onVerticalFormation(t).pipe(a.map((function(t){return t.getTopMargin()})))},n.prototype.onVerticalFormation=function(t){return this.verticalFormation$.asObservable().pipe(a.filter((function(e){var n=t.getId();return e.has(n)})),a.map((function(e){return e.get(t.getId())})))},n.prototype.next=function(t,e){this.verticalFormation.set(t.toString(),e),this.verticalFormation$.next(this.verticalFormation)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:r.DomainEventBus},{type:ln}]},n}(vt);var bn=function(){function t(t){this.verticalFormationRepository=t}return t.prototype.onVerticalScrollEnabled=function(t){return this.verticalFormationRepository.onVerticalScrollEnabled(t)},t.prototype.onRowHeight=function(t){return this.verticalFormationRepository.onRowHeight(t)},t.prototype.onContainerHeight=function(t){return this.verticalFormationRepository.onContainerHeight(t)},t.prototype.onTopMargin=function(t){return this.verticalFormationRepository.onTopMargin(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:vn}]},t}();var Cn=function(t){function n(e,n){var i=t.call(this,n)||this;return i.structureId=e,i}return l(n,t),n.prototype.onVerticalScrollEnabled=function(){return t.prototype.onVerticalScrollEnabled.call(this,this.structureId)},n.prototype.onRowHeight=function(){return t.prototype.onRowHeight.call(this,this.structureId)},n.prototype.onContainerHeight=function(){return t.prototype.onContainerHeight.call(this,this.structureId)},n.prototype.onTopMargin=function(){return t.prototype.onTopMargin.call(this,this.structureId)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:F},{type:vn}]},g([ct,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",o.Observable)],n.prototype,"onVerticalScrollEnabled",null),g([ct,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",o.Observable)],n.prototype,"onRowHeight",null),g([ct,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",o.Observable)],n.prototype,"onContainerHeight",null),g([ct,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",o.Observable)],n.prototype,"onTopMargin",null),n}(bn);var En=[{provide:st,useClass:yt},{provide:Et,useClass:It},{provide:xt,useClass:Tt},{provide:jt,useClass:Bt},{provide:ae,useClass:se},{provide:ce,useClass:le},{provide:fe,useClass:ye},{provide:Vt,useClass:ve},{provide:et,useClass:Ce},{provide:Ie,useClass:we},{provide:xe,useClass:Pe},{provide:bn,useClass:Cn},{provide:Be,useClass:Ue},{provide:Ze,useClass:Ye}];function In(){return[{provide:st,useClass:yt},{provide:Et,useClass:It},{provide:xt,useClass:Tt},{provide:jt,useClass:Bt},{provide:ce,useClass:le},{provide:fe,useClass:ye},{provide:Vt,useClass:ve},{provide:xe,useClass:Pe},{provide:bn,useClass:Cn}]}var Sn=function(t){function n(e,n){var i=t.call(this)||this;return i.rendererFactory2=e,i.schemaReadModelRepository=n,i.VERTICAL_GRID_CLASS_NAME="gui-vertical-grid",i.HORIZONTAL_GRID_CLASS_NAME="gui-horizontal-grid",i.THEME_FABRIC_CLASS_NAME="gui-fabric",i.THEME_MATERIAL_CLASS_NAME="gui-material",i.THEME_LIGHT_CLASS_NAME="gui-light",i.THEME_DARK_CLASS_NAME="gui-dark",i.THEME_GENERIC_CLASS_NAME="gui-generic",i.ROW_COLORING_ODD="gui-rows-odd",i.ROW_COLORING_EVEN="gui-rows-even",i.cssClass=null,i.renderer=i.rendererFactory2.createRenderer(null,null),i}return l(n,t),n.prototype.init=function(t,e){var n=this;this.cssHostRef=t,this.schemaReadModelRepository.onCssClasses(e).pipe(this.takeUntil()).subscribe((function(t){var e=n.updateState(t);n.renderCssClasses(e)}))},n.prototype.updateState=function(t){var e=this;if(this.cssClass){var n={};return Object.keys(this.cssClass).forEach((function(i){t[i]!==e.cssClass[i]&&(n[i]=t[i])})),this.cssClass=t,n}return this.cssClass=t,this.cssClass},n.prototype.renderCssClasses=function(t){t.hasOwnProperty("verticalGrid")&&this.toggleCssClass(t.verticalGrid,this.VERTICAL_GRID_CLASS_NAME),t.hasOwnProperty("horizontalGrid")&&this.toggleCssClass(t.horizontalGrid,this.HORIZONTAL_GRID_CLASS_NAME),t.hasOwnProperty("theme")&&(this.removeThemeCssClasses(),this.addClass(this.resolveThemeClassName(t.theme))),t.hasOwnProperty("rowColoring")&&(this.removeRowColoringClasses(),this.addClass(this.resolveRowColoringClassName(t.rowColoring)))},n.prototype.toggleCssClass=function(t,e){t?this.addClass(e):this.removeClass(e)},n.prototype.removeThemeCssClasses=function(){var t=this;Object.keys(ue).map((function(t){return ue[t]})).map((function(e){return t.resolveThemeClassName(e)})).filter((function(t){return!!t})).forEach((function(e){t.removeClass(e)}))},n.prototype.resolveThemeClassName=function(t){switch(t){case ue.FABRIC:case ue[ue.FABRIC]:return this.THEME_FABRIC_CLASS_NAME;case ue.MATERIAL:case ue[ue.MATERIAL]:return this.THEME_MATERIAL_CLASS_NAME;case ue.LIGHT:case ue[ue.LIGHT]:return this.THEME_LIGHT_CLASS_NAME;case ue.DARK:case ue[ue.DARK]:return this.THEME_DARK_CLASS_NAME;case ue.GENERIC:case ue[ue.GENERIC]:return this.THEME_GENERIC_CLASS_NAME;default:return this.THEME_FABRIC_CLASS_NAME}},n.prototype.resolveRowColoringClassName=function(t){switch(t){case Ke.ODD:case Ke[Ke.ODD]:return this.ROW_COLORING_ODD;case Ke.EVEN:case Ke[Ke.EVEN]:return this.ROW_COLORING_EVEN;default:return null}},n.prototype.removeRowColoringClasses=function(){var t=this;Object.keys(Ke).map((function(t){return Ke[t]})).map((function(e){return t.resolveRowColoringClassName(e)})).filter((function(t){return!!t})).forEach((function(e){t.removeClass(e)}))},n.prototype.addClass=function(t){t&&this.renderer.addClass(this.cssHostRef.nativeElement,t)},n.prototype.removeClass=function(t){t&&this.renderer.removeClass(this.cssHostRef.nativeElement,t)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:e.RendererFactory2},{type:Be}]},n}(vt);var wn=function(t){function n(){return t.call(this)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.Archive),An=function(t){function n(){return t.call(this)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.Archive),Dn=function(t){function n(){return t.call(this)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.Archive),Rn=function(){function t(t,e,n,i,r){this.enabled=!1,this.infoDialog=!0,this.columnsManager=!0,this.schemaManager=!0,this.sourceSize=!0,this.isNotUndefinedOrNull(t)&&(this.enabled=t),this.isNotUndefinedOrNull(e)&&(this.infoDialog=e),this.isNotUndefinedOrNull(n)&&(this.columnsManager=n),this.isNotUndefinedOrNull(r)&&(this.sourceSize=r),this.isNotUndefinedOrNull(i)&&(this.schemaManager=i)}return t.prototype.isEnabled=function(){return this.enabled},t.prototype.isInfoDialogEnabled=function(){return this.infoDialog},t.prototype.isColumnsManagerEnabled=function(){return this.columnsManager},t.prototype.isSourceSizeEnabled=function(){return this.sourceSize},t.prototype.isSchemaManagerEnabled=function(){return this.schemaManager},t.prototype.isNotUndefinedOrNull=function(t){return null!=t},t}();var Mn=function(t){function n(){return t.call(this,new Rn)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.Archive),xn=function(){function t(t,e){this.top=!1,this.bottom=!0,null!=t&&(this.top=t),null!=e&&(this.bottom=e)}return t.prototype.itTopEnabled=function(){return this.top},t.prototype.itBottomEnabled=function(){return this.bottom},t}();var Pn=function(t){function n(){return t.call(this,new xn)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.Archive),Tn=function(){function t(){}return t.prototype.convert=function(t){return t.enabled?new xn(t.top,t.bottom):new xn(!1,!1)},t.decorators=[{type:e.Injectable}],t}(),Fn=function(t){function e(e,n){var i=t.call(this,e,"StructureSetSummariesEnabledCommand")||this;return i.enabled=n,i}return l(e,t),e.prototype.isEnabled=function(){return this.enabled},e}(r.Command);var kn=function(){function t(t){this.commandDispatcher=t}return t.prototype.setSummariesEnabled=function(t,e){this.commandDispatcher.dispatch(new Fn(e,t))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.CommandDispatcher}]},t}();var On=function(){function t(t,e,n,i){this.structureSummariesPanelConfigConverter=t,this.structureSummariesArchive=e,this.structureSummariesCommandDispatcher=n,this.structureId=i}return t.prototype.set=function(t){var e=this.structureSummariesPanelConfigConverter.convert(t);this.structureSummariesArchive.next(e),this.structureSummariesCommandDispatcher.setSummariesEnabled(t.enabled,this.structureId)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Tn},{type:Pn},{type:kn},{type:F}]},t}();var Nn=new e.InjectionToken("StructureComponentToken"),Hn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e}(vt),Vn={ENTER:0,SUBMIT:1,CANCEL:2};Vn[Vn.ENTER]="ENTER",Vn[Vn.SUBMIT]="SUBMIT",Vn[Vn.CANCEL]="CANCEL";var jn=function(t){function e(e,n){var i=t.call(this,e,"InitFieldsCommand")||this;return i.fieldConfigs=n,i}return l(e,t),e.prototype.getFieldConfigs=function(){return this.fieldConfigs},e}(r.Command);var Bn=function(t){function e(e,n,i){var r=t.call(this,e,"FieldsInitedEvent")||this;return r.fieldConfigs=n,r.fields=i,r}return l(e,t),e.prototype.getFields=function(){return this.fields},e}(r.DomainEvent);var Un=function(){function t(t){this.id=t}return t.prototype.getId=function(){return this.id},t}();var zn=function(){function t(t,e){this.column=t,this.field=e}return t.prototype.getColumn=function(){return this.column},t.prototype.getField=function(){return this.field},t}();var Ln=function(){function t(t,e,n,i,r,o){this.structureId=t,this.compositionId=e,this.commandDispatcher=n,this.domainEventBus=i,this.columnFieldFactory=r,this.compositionCommandDispatcher=o}return t.prototype.handle=function(t){var e=this,n=t.columns.currentValue,i=new jn(this.structureId,n);this.domainEventBus.ofEvent(Bn).pipe(a.filter((function(t){return t.getAggregateId().toString()===e.structureId.toString()})),a.take(1)).subscribe((function(t){var n=t.getFields(),i=e.convertColumnFieldIds(n),r=t.fieldConfigs,o=e.convertColumns(r,n,i);e.compositionCommandDispatcher.setColumns(o,e.compositionId)})),this.commandDispatcher.dispatch(i)},t.prototype.convertColumnFieldIds=function(t){return t?t.map((function(t){return new Un(t.getId().getId())})):[]},t.prototype.convertColumns=function(t,e,n){var i=this;return t?t.map((function(t,r){var o=n[r],a=e[r],u=i.columnFieldFactory.create(o,a.getAccessorMethod(),a.getDataType(),a.getSearchAccessorMethod());return new zn(t,u)})):[]},t}();var Wn={ROW:0,CHECKBOX:1};Wn[Wn.ROW]="ROW",Wn[Wn.CHECKBOX]="CHECKBOX";var Gn={SINGLE:0,MULTIPLE:1};Gn[Gn.SINGLE]="SINGLE",Gn[Gn.MULTIPLE]="MULTIPLE";!function(){function t(t){void 0!==t.enabled&&(this.enabled=t.enabled),void 0!==t.mode&&(this.mode=t.mode),void 0!==t.type&&(this.type=t.type)}t.prototype.isModeDefined=function(){return void 0!==this.mode},t.prototype.isTypeDefined=function(){return void 0!==this.type},t.prototype.isEnabledDefined=function(){return void 0!==this.enabled},t.prototype.isEnabled=function(){return this.enabled},t.prototype.getMode=function(){return this.mode},t.prototype.getType=function(){return this.type},t.Builder=function(e){function n(){return e.call(this)||this}return l(n,e),n.prototype.buildObject=function(){return new t({enabled:this.enabled,type:this.type,mode:this.mode})},n.prototype.withEnabled=function(t){return this.enabled=t,this},n.prototype.withType=function(t){return this.type=t,this},n.prototype.withMode=function(t){return this.mode=t,this},n}(O)}();var qn=function(t){function n(n,i,r,o,a,u,s,c,l,p,g,d,h,m,f,y,v,b,C,E,I,S,w,A,D,R,M,x,P,T,F,k,O,N,H,V){var j=t.call(this)||this;return j.domainEventBus=n,j.commandDispatcher=i,j.structureId=r,j.compositionId=o,j.schemaId=a,j.structureCommandService=u,j.structurePagingCommandDispatcher=s,j.pagingEventRepository=c,j.sortingCommandDispatcher=l,j.searchCommandDispatcher=p,j.fieldCommandDispatcher=g,j.sourceCommandService=d,j.sourceEventService=h,j.schemaCommandDispatcher=m,j.compositionCommandDispatcher=f,j.compositionEventService=y,j.formationEventService=v,j.structureEditModeArchive=b,j.structureCellEditArchive=C,j.structureInfoPanelEnabledArchive=E,j.structureInfoPanelConfigService=I,j.structureSummariesConfigService=S,j.structureCellEditStore=w,j.columnFieldFactory=A,j.structureColumnMenuConfigArchive=D,j.structurePagingDisplayModeArchive=R,j.rowSelectEnabledArchive=M,j.rowSelectionTypeArchive=x,j.formationCommandDispatcher=P,j.searchEventRepository=T,j.structureHeaderTopEnabledArchive=F,j.structureHeaderBottomEnabledArchive=k,j.structureDetailViewConfigArchive=O,j.structureTitlePanelConfigArchive=N,j.structureFooterPanelConfigArchive=H,j.schemaEventRepository=V,j.source=[],j.columns=[],j.pageChanged=new e.EventEmitter,j.pageSizeChanged=new e.EventEmitter,j.itemsSelected=new e.EventEmitter,j.selectedRows=new e.EventEmitter,j.columnsChanged=new e.EventEmitter,j.containerWidthChanged=new e.EventEmitter,j.sourceEdited=new e.EventEmitter,j.cellEditEntered=new e.EventEmitter,j.cellEditCanceled=new e.EventEmitter,j.cellEditSubmitted=new e.EventEmitter,j.searchPhraseChanged=new e.EventEmitter,j.themeChanged=new e.EventEmitter,j.horizontalGridChanged=new e.EventEmitter,j.verticalGridChanged=new e.EventEmitter,j.rowColoringChanged=new e.EventEmitter,j.structureColumnInputHandler=new Ln(r,o,i,n,A,f),j}return l(n,t),n.prototype.ngOnChanges=function(t){if(void 0!==t.theme&&void 0!==t.theme.currentValue&&this.schemaCommandDispatcher.setTheme(this.theme),void 0!==t.rowDetail&&void 0!==t.rowDetail.currentValue&&this.structureDetailViewConfigArchive.next(this.rowDetail),void 0!==t.titlePanel&&void 0!==t.titlePanel.currentValue&&this.structureTitlePanelConfigArchive.next(this.titlePanel),void 0!==t.footerPanel&&void 0!==t.footerPanel.currentValue&&this.structureFooterPanelConfigArchive.next(this.footerPanel),void 0!==t.columnMenu&&void 0!==t.columnMenu.currentValue&&this.structureColumnMenuConfigArchive.nextConfig(this.columnMenu),void 0!==t.rowSelection&&void 0!==t.rowSelection.currentValue&&(this.rowSelection.isEnabledDefined()&&this.formationCommandDispatcher.setSelection(this.rowSelection.isEnabled(),this.structureId),this.rowSelection.isTypeDefined()&&this.rowSelectionTypeArchive.next(this.rowSelection.getType()),this.rowSelection.isModeDefined()&&this.formationCommandDispatcher.changeMode(this.rowSelection.getMode(),this.structureId)),void 0!==t.infoPanel&&void 0!==t.infoPanel.currentValue&&("boolean"==typeof this.infoPanel&&(this.infoPanel={enabled:this.infoPanel}),this.structureInfoPanelConfigService.set(this.infoPanel)),void 0!==t.summaries&&void 0!==t.summaries.currentValue&&this.structureSummariesConfigService.set(this.summaries),void 0!==t.editMode&&void 0!==t.editMode.currentValue&&this.structureEditModeArchive.next(this.editMode),void 0!==t.cellEditing&&void 0!==t.cellEditing.currentValue&&this.structureCellEditArchive.next(this.cellEditing),void 0!==t.width&&void 0!==t.width.currentValue&&this.compositionCommandDispatcher.setWidth(this.width),void 0!==t.rowHeight&&void 0!==t.rowHeight.currentValue&&this.structureCommandService.setRowHeight(this.rowHeight),void 0!==t.autoResizeWidth&&void 0!==t.autoResizeWidth.currentValue&&this.compositionCommandDispatcher.setResizeWidth(this.autoResizeWidth),void 0!==t.columnHeaderTop&&void 0!==t.columnHeaderTop.currentValue&&this.structureHeaderTopEnabledArchive.next(this.columnHeaderTop),void 0!==t.columnHeaderBottom&&void 0!==t.columnHeaderBottom.currentValue&&this.structureHeaderBottomEnabledArchive.next(this.columnHeaderBottom),void 0!==t.loading&&void 0!==t.loading.currentValue&&this.sourceCommandService.setLoading(this.loading),void 0!==t.paging&&void 0!==t.paging.currentValue){var e=void 0;"boolean"==typeof this.paging?e={enabled:this.paging}:(e=this.paging,void 0!==this.paging.displayMode&&this.structurePagingDisplayModeArchive.next(this.paging.displayMode)),this.structurePagingCommandDispatcher.setPaging(e)}if(void 0!==t.columns&&void 0!==t.columns.currentValue&&this.structureColumnInputHandler.handle(t),void 0!==t.verticalGrid&&void 0!==t.verticalGrid.currentValue&&this.schemaCommandDispatcher.setVerticalGrid(this.verticalGrid),void 0!==t.horizontalGrid&&void 0!==t.horizontalGrid.currentValue&&this.schemaCommandDispatcher.setHorizontalGrid(this.horizontalGrid),void 0!==t.rowColoring&&void 0!==t.rowColoring.currentValue&&this.schemaCommandDispatcher.setRowColoring(this.rowColoring),t.maxHeight&&this.maxHeight&&this.structureCommandService.setContainerHeight(this.maxHeight),void 0!==t.virtualScroll&&void 0!==t.virtualScroll.currentValue&&(this.virtualScroll?this.structureCommandService.enableVerticalScroll():this.structureCommandService.disableVerticalScroll()),void 0!==t.sorting&&void 0!==t.sorting.currentValue){var n=void 0;n="boolean"==typeof this.sorting?{enabled:this.sorting}:this.sorting,this.sortingCommandDispatcher.setSortingConfig(n,this.structureId)}if(void 0!==t.filtering&&void 0!==t.filtering.currentValue){var i=void 0;i="boolean"==typeof this.filtering?{enabled:this.filtering}:this.filtering,this.structureCommandService.setFilterConfig(i)}if(void 0!==t.quickFilters&&void 0!==t.quickFilters.currentValue){var r=void 0;r="boolean"==typeof this.quickFilters?{enabled:this.quickFilters}:this.quickFilters,this.structureCommandService.setQuickFiltersConfig(r)}if(void 0!==t.searching&&void 0!==t.searching.currentValue){var o=void 0;o="boolean"==typeof this.searching?{enabled:this.searching}:this.searching,this.searchCommandDispatcher.setSearchingConfig(o,this.structureId)}t.source&&this.sourceCommandService.setOrigin(this.source)},n.prototype.ngOnInit=function(){var t=this;this.pagingEventRepository.onPageChange(this.structureId).pipe(this.takeUntil()).subscribe((function(e){t.pageChanged.emit(e)})),this.pagingEventRepository.onPageSizeChange(this.structureId).pipe(this.takeUntil()).subscribe((function(e){t.pageSizeChanged.emit(e)})),this.formationEventService.onItemSelected(this.structureId).pipe(this.takeUntil()).subscribe((function(e){t.itemsSelected.emit(e.map((function(t){return t.getData()}))),t.selectedRows.emit(e)})),this.compositionEventService.onColumnsChanged(this.compositionId).pipe(this.takeUntil()).subscribe((function(){t.columnsChanged.emit()})),this.compositionEventService.onContainerWidthChanged(this.compositionId).pipe(this.takeUntil()).subscribe((function(e){t.containerWidthChanged.emit(e)})),this.sourceEventService.onSourceEdited(this.structureId).pipe(this.takeUntil()).subscribe((function(e){t.sourceEdited.emit(e)})),this.structureCellEditStore.onValue().pipe(this.takeUntil()).subscribe((function(e){switch(e){case Vn.ENTER:t.cellEditEntered.emit();break;case Vn.SUBMIT:t.cellEditSubmitted.emit();break;case Vn.CANCEL:t.cellEditCanceled.emit()}})),this.searchEventRepository.onSearchPhrase(this.structureId).pipe(this.takeUntil()).subscribe((function(e){t.searchPhraseChanged.emit(e)})),this.connectSchemaEvents()},n.prototype.onPageChange=function(t){this.pageChanged.emit(t)},n.prototype.connectSchemaEvents=function(){var t=this;this.schemaEventRepository.onThemeChanged(this.schemaId).pipe(this.takeUntil()).subscribe((function(e){t.themeChanged.emit(e)})),this.schemaEventRepository.onHorizontalGridChanged(this.schemaId).pipe(this.takeUntil()).subscribe((function(e){t.horizontalGridChanged.emit(e)})),this.schemaEventRepository.onVerticalGridChanged(this.schemaId).pipe(this.takeUntil()).subscribe((function(e){t.verticalGridChanged.emit(e)})),this.schemaEventRepository.onRowColoring(this.schemaId).pipe(this.takeUntil()).subscribe((function(e){t.rowColoringChanged.emit(e)}))},n.propDecorators={columnHeaderTop:[{type:e.Input}],columnHeaderBottom:[{type:e.Input}],maxHeight:[{type:e.Input}],width:[{type:e.Input}],rowHeight:[{type:e.Input}],autoResizeWidth:[{type:e.Input}],source:[{type:e.Input}],columns:[{type:e.Input}],paging:[{type:e.Input}],verticalGrid:[{type:e.Input}],horizontalGrid:[{type:e.Input}],theme:[{type:e.Input}],rowColoring:[{type:e.Input}],rowSelection:[{type:e.Input}],loading:[{type:e.Input}],virtualScroll:[{type:e.Input}],sorting:[{type:e.Input}],filtering:[{type:e.Input}],quickFilters:[{type:e.Input}],searching:[{type:e.Input}],editMode:[{type:e.Input}],cellEditing:[{type:e.Input}],infoPanel:[{type:e.Input}],summaries:[{type:e.Input}],columnMenu:[{type:e.Input}],rowDetail:[{type:e.Input}],titlePanel:[{type:e.Input}],footerPanel:[{type:e.Input}],pageChanged:[{type:e.Output}],pageSizeChanged:[{type:e.Output}],itemsSelected:[{type:e.Output}],selectedRows:[{type:e.Output}],columnsChanged:[{type:e.Output}],containerWidthChanged:[{type:e.Output}],sourceEdited:[{type:e.Output}],cellEditEntered:[{type:e.Output}],cellEditCanceled:[{type:e.Output}],cellEditSubmitted:[{type:e.Output}],searchPhraseChanged:[{type:e.Output}],themeChanged:[{type:e.Output}],horizontalGridChanged:[{type:e.Output}],verticalGridChanged:[{type:e.Output}],rowColoringChanged:[{type:e.Output}]},n}(Hn);var Qn=function(t){function e(e){return t.call(this,e,"NextPageEvent")||this}return l(e,t),e}(r.DomainEvent),Kn=function(t){function e(e){return t.call(this,e,"PrevPageEvent")||this}return l(e,t),e}(r.DomainEvent),Xn=function(){function t(t,e){this.domainEventBus=t,this.pagingReadModelService=e}return t.prototype.onPageChange=function(t){var e=this;return this.domainEventBus.ofEvent(Kn,Qn,pt).pipe(a.filter((function(e){return e.getAggregateId().toString()===t.toString()})),a.switchMap((function(n){return e.pagingReadModelService.onPaging(t).pipe(a.map((function(t){return t.getPage()})),a.take(1))})))},t.prototype.onPageSizeChange=function(t){var e=this;return this.domainEventBus.ofEvent(dt).pipe(a.filter((function(e){return e.getAggregateId().toString()===t.toString()})),a.switchMap((function(n){return e.pagingReadModelService.onPaging(t).pipe(a.map((function(t){return t.getPageSize()})),a.take(1))})))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventBus},{type:Et}]},t}();var Zn=function(t,e){this.after=t,this.before=e};var Yn=function(t){function e(e,n,i){var r=t.call(this,e,"StructureSourceItemEditedEvent")||this;return r.beforeItem=n,r.afterItem=i,r}return l(e,t),e.prototype.getBeforeItem=function(){return this.beforeItem},e.prototype.getAfterItem=function(){return this.afterItem},e}(r.DomainEvent);var Jn=function(){function t(t){this.domainEventBus=t}return t.prototype.onSourceEdited=function(t){return this.domainEventBus.ofEvent(Yn).pipe(a.filter((function(e){return e.getAggregateId().toString()===t.toString()})),a.map((function(t){var e=t.getAfterItem().getData(),n=t.getBeforeItem().getData();return new Zn(e,n)})))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventBus}]},t}();var _n=function(t){function e(e){return t.call(this,e,"CompositionColumnsSetEvent")||this}return l(e,t),e}(r.DomainEvent),$n=function(t){function e(e,n){return t.call(this,e,"CompositionContainerWidthSetEvent",n)||this}return l(e,t),e}(r.DomainEvent),ti=function(){function t(t){this.domainEventBus=t}return t.prototype.onColumnsChanged=function(t){return this.domainEventBus.ofEvent(_n).pipe(a.filter((function(e){return e.getAggregateId().toString()===t.toString()})))},t.prototype.onContainerWidthChanged=function(t){return this.domainEventBus.ofEvent($n).pipe(a.filter((function(e){return e.getAggregateId().equals(t)})),a.map((function(t){return t.getPayload()})),a.filter((function(t){return!!t})))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventBus}]},t}();var ei=function(t){function e(e,n,i,r){var o=t.call(this,e,"SelectedRowChangedEvent")||this;return o.selectedRows=n,o.allSelected=i,o.allUnselected=r,o}return l(e,t),e.prototype.getSelectedRows=function(){return this.selectedRows},e.prototype.isAllSelected=function(){return this.allSelected},e.prototype.isAllUnselected=function(){return this.allUnselected},e}(r.DomainEvent);var ni=function(){function t(t,e){this.domainEventBus=t,this.sourceWarehouse=e}return t.prototype.onItemSelected=function(t){var e=this;return this.domainEventBus.ofEvent(ei).pipe(a.filter((function(e){return e.getAggregateId().toString()===t.toString()})),a.switchMap((function(n){var i=n.getSelectedRows();return e.sourceWarehouse.onPreparedEntities(t).pipe(a.take(1),a.map((function(t){for(var e=[],n=t.length,r=function(n){var r=t[n];i.some((function(t){return t===r.getId().toString()}))&&e.push(new Ot(r.getData(),n,r.getId()))},o=0;o<n;o+=1)r(o);return e})))})))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventBus},{type:Vt}]},t}();var ii=function(){function t(t,e,n,i){void 0===t&&(t=!1),void 0===e&&(e=!0),void 0===n&&(n=!1),void 0===i&&(i=!1),this.enabled=t,this.sort=e,this.filter=n,this.columnsManager=i}return t.default=function(){return new t},t.fromConfig=function(e){return new t(e.enabled,e.sort,e.filter,e.columnsManager)},t.prototype.isEnabled=function(){return this.enabled&&(this.sort||this.filter||this.columnsManager)},t.prototype.isMainEnabled=function(){return this.sort},t.prototype.isSortingEnabled=function(){return this.sort},t.prototype.isFilteringEnabled=function(){return this.filter},t.prototype.isColumnManagerEnabled=function(){return this.columnsManager},t.prototype.getMenus=function(){var t=[];return this.isMainEnabled()&&t.push(this.getMainMenu()),this.isFilteringEnabled()&&t.push(this.getFilterMenu()),this.isColumnManagerEnabled()&&t.push(this.getColumnMenu()),t},t.prototype.getActiveMenu=function(){return this.getMenus()[0]},t.prototype.getMainMenu=function(){return t.MAIN},t.prototype.getFilterMenu=function(){return t.FILTER},t.prototype.getColumnMenu=function(){return t.COLUMNS},t.MAIN="Menu",t.FILTER="Filter",t.COLUMNS="Columns",t}();var ri=function(t){function n(){return t.call(this,ii.default())||this}return l(n,t),n.prototype.nextConfig=function(t){var e=ii.fromConfig(t);this.next(e)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.Archive),oi=function(t){function n(){return t.call(this,v.BASIC)||this}return l(n,t),n.prototype.onValue=function(){return t.prototype.onValue.call(this)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.Archive),ai=function(t){function n(){return t.call(this)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.AggregateArchive),ui=function(){function t(t){this.domainEventBus=t}return t.prototype.onSearchPhrase=function(t){return this.domainEventBus.ofEvent(yn).pipe(a.filter((function(e){return e.getAggregateId().toString()===t.toString()})),a.filter((function(t){return!1===t.isInitial()})),a.map((function(t){return t.getPhrase()})),a.filter((function(t){return null!==t})))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventBus}]},t}();var si=function(){function t(){this.closeAll$=new o.Subject}return t.prototype.closeAll=function(){this.closeAll$.next()},t.prototype.onCloseAll=function(){return this.closeAll$.asObservable()},t.decorators=[{type:e.Injectable}],t}();var ci=function(t){function n(){return t.call(this,!1)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.Archive),li=function(t){function n(){return t.call(this,!0)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.Archive),pi=function(t){function e(e,n){var i=t.call(this,e,"SchemaHorizontalGridSetEvent")||this;return i.horizontalGrid=n,i}return l(e,t),e.prototype.getHorizontalGrid=function(){return this.horizontalGrid},e}(r.DomainEvent);var gi=function(t){function e(e,n){var i=t.call(this,e,"SchemaVerticalGridSetEvent")||this;return i.verticalGrid=n,i}return l(e,t),e.prototype.getVerticalGrid=function(){return this.verticalGrid},e}(r.DomainEvent);var di=function(t){function e(e,n){var i=t.call(this,e,"RowColoringSetEvent")||this;return i.rowColoring=n,i}return l(e,t),e.prototype.getRowColoring=function(){return this.rowColoring},e}(r.DomainEvent);var hi=function(t){function n(e){return t.call(this,e)||this}return l(n,t),n.prototype.onThemeChanged=function(t){return void 0===t&&(t=ke),this.onEvent(t,gn).pipe(a.map((function(t){return t.getTheme()})))},n.prototype.onHorizontalGridChanged=function(t){return void 0===t&&(t=ke),this.onEvent(t,pi).pipe(a.map((function(t){return t.getHorizontalGrid()})))},n.prototype.onVerticalGridChanged=function(t){return void 0===t&&(t=ke),this.onEvent(t,gi).pipe(a.map((function(t){return t.getVerticalGrid()})))},n.prototype.onRowColoring=function(t){return void 0===t&&(t=ke),this.onEvent(t,di).pipe(a.map((function(t){return t.getRowColoring()})))},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:r.DomainEventBus}]},n}(r.EventRepository),mi=function(t){function n(){return t.call(this,{enabled:!1,template:function(t){return"Detail View"}})||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.Archive),fi=new e.InjectionToken("structureRowDetailViewItem"),yi=new e.InjectionToken("structureRowDetailViewTemplate"),vi=function(){function t(t,e,n){this.item=t,this.template=e,this.sanitizer=n,this.safeHTML=this.sanitizer.bypassSecurityTrustHtml(this.template(this.item))}return t.prototype.ngOnInit=function(){this.selectedRowValues=this.item},t.decorators=[{type:e.Component,args:[{template:'\n\t\t\n\t\t<div [innerHTML]="safeHTML"></div>\n\t\t\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],t.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[fi]}]},{type:void 0,decorators:[{type:e.Inject,args:[yi]}]},{type:u.DomSanitizer}]},t}();var bi=function(t){function n(e,n,i,r,o){var a=t.call(this)||this;return a.injector=e,a.structureId=n,a.structureDetailViewConfigArchive=i,a.formationEventService=r,a.drawerService=o,a.enabled=!1,a}return l(n,t),n.prototype.init=function(t){var n=this;this.elementRef=t,this.structureDetailViewConfigArchive.onValue().pipe(this.takeUntil()).subscribe((function(t){n.config=t,!0===t.enabled?n.turnOn():!1===t.enabled&&n.turnOff()})),this.formationEventService.onItemSelected(this.structureId).pipe(this.takeUntil()).subscribe((function(t){if(n.enabled&&(n.drawerService.close(),0!==t.length)){var i=t[0],r=e.Injector.create({parent:n.injector,providers:[{provide:fi,useValue:i},{provide:yi,useValue:n.config.template}]});n.drawerService.open(n.elementRef,vi,{injector:r})}}))},n.prototype.turnOn=function(){this.enabled=!0},n.prototype.turnOff=function(){this.enabled=!1},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:e.Injector},{type:F},{type:mi},{type:ni},{type:i.FabricDrawerService}]},n}(vt);var Ci={TOP:0,BOTTOM:1};Ci[Ci.TOP]="TOP",Ci[Ci.BOTTOM]="BOTTOM";var Ei=function(t){function n(e,n,i,r,o,a,u){var s=t.call(this)||this;return s.renderer2=e,s.elementRef=n,s.changeDetectorRef=i,s.structurePagingWarehouse=r,s.pagingCommandService=o,s.structureSourceWarehouse=a,s.structurePagingDisplayModeArchive=u,s.alternativeDisplay=!1,s}return l(n,t),n.prototype.ngOnChanges=function(t){t.position&&(this.position===Ci.BOTTOM?(this.renderer2.removeClass(this.elementRef.nativeElement,"gui-paging-top"),this.renderer2.addClass(this.elementRef.nativeElement,"gui-paging-bottom")):(this.renderer2.removeClass(this.elementRef.nativeElement,"gui-paging-bottom"),this.renderer2.addClass(this.elementRef.nativeElement,"gui-paging-top")))},n.prototype.ngOnInit=function(){var t=this;this.structurePagingDisplayModeArchive.onValue().pipe(this.takeUntil()).subscribe((function(e){t.alternativeDisplay=e===v.ADVANCED,t.changeDetectorRef.detectChanges()})),this.structurePagingWarehouse.onPaging().pipe(this.takeUntil()).subscribe((function(e){t.paging=e,t.changeDetectorRef.detectChanges()})),this.structureSourceWarehouse.onOriginSize().pipe(this.takeUntil()).subscribe((function(e){t.sourceSize=e,t.changeDetectorRef.detectChanges()}))},n.prototype.isPagingVisible=function(){return this.paging&&this.paging.isEnabled()&&(this.position===Ci.TOP&&this.paging.isPagerTop()||this.position===Ci.BOTTOM&&this.paging.isPagerBottom())},n.prototype.changePageSize=function(t){this.pagingCommandService.changePageSize(t)},n.prototype.nextPage=function(){this.sourceSize&&this.pagingCommandService.nextPage()},n.prototype.prevPage=function(){this.pagingCommandService.prevPage()},n.decorators=[{type:e.Component,args:[{selector:"gui-paging[position]",template:'<ng-container *ngIf="isPagingVisible() && !alternativeDisplay">\n\n\t<ng-container *ngIf="!minimal; else minimalTemplate">\n\n\t\t<gui-paging-select\n\t\t\t\t(pageSizeChanged)="changePageSize($event)"\n\t\t\t\t[paging]="paging">\n\t\t</gui-paging-select>\n\n\t\t<gui-paging-stats\n\t\t\t\t[paging]="paging">\n\t\t</gui-paging-stats>\n\n\t\t<gui-paging-navigator\n\t\t\t\t(nextPageChanged)="nextPage()"\n\t\t\t\t(prevPageChanged)="prevPage()"\n\t\t\t\t[paging]="paging"\n\t\t\t\t[sourceSize]="sourceSize">\n\t\t</gui-paging-navigator>\n\n\t</ng-container>\n\n\t<ng-template #minimalTemplate>\n\n\t\t<gui-paging-stats\n\t\t\t\t[paging]="paging">\n\t\t</gui-paging-stats>\n\n\t\t<gui-paging-navigator\n\t\t\t\t(nextPageChanged)="nextPage()"\n\t\t\t\t(prevPageChanged)="prevPage()"\n\t\t\t\t[paging]="paging"\n\t\t\t\t[sourceSize]="sourceSize">\n\t\t</gui-paging-navigator>\n\n\t</ng-template>\n\n</ng-container>\n\n<ng-container *ngIf="isPagingVisible() && alternativeDisplay">\n\n\t<gui-paging-select\n\t\t\t(pageSizeChanged)="changePageSize($event)"\n\t\t\t[paging]="paging">\n\t</gui-paging-select>\n\n\t<gui-alternative-paging-navigator\n\t\t\t(nextPageChanged)="nextPage()"\n\t\t\t(prevPageChanged)="prevPage()"\n\t\t\t[paging]="paging"\n\t\t\t[sourceSize]="sourceSize">\n\n\t\t<gui-alternative-paging-pages\n\t\t\t\t[paging]="paging"\n\t\t\t\t[sourceSize]="sourceSize">\n\t\t</gui-alternative-paging-pages>\n\n\t</gui-alternative-paging-navigator>\n\n</ng-container>\n',host:{"[class.gui-paging]":'"true"'},changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,styles:[".gui-paging{display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end;-ms-flex-align:center;align-items:center;padding:4px}.gui-paging>*{padding-left:16px}.gui-paging .gui-paging-select span{display:inline-block;margin:0 6px 0 0}.gui-paging .gui-paging-navigator button{margin-right:6px}.gui-paging .gui-paging-navigator button:last-of-type{margin-right:0}.gui-paging .gui-paging-stats span{display:inline-block;margin:0 2px 0 0}.gui-paging .gui-alternative-paging-navigator{display:-ms-flexbox;display:flex;padding:0}.gui-paging .gui-alternative-paging-navigator .gui-alternative-paging-pages{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;line-height:21px}.gui-paging .gui-alternative-paging-navigator .gui-alternative-paging-pages .gui-paging-page{display:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.gui-paging .gui-alternative-paging-navigator .gui-alternative-paging-pages .gui-paging-visible-page{position:relative}.gui-paging .gui-alternative-paging-navigator .gui-alternative-paging-pages .gui-paging-visible-page .gui-paging-page{display:block;cursor:pointer;padding:0 8px;font-weight:400;font-family:Arial,serif}.gui-paging .gui-alternative-paging-navigator .gui-alternative-paging-pages .gui-paging-visible-page.gui-paging-active-page{color:#333}.gui-paging .gui-alternative-paging-navigator .gui-alternative-paging-pages .gui-paging-visible-page.gui-paging-active-page .gui-paging-page{font-weight:700}.gui-paging .gui-alternative-paging-navigator .gui-alternative-paging-pages .gui-paging-visible-page.gui-paging-active-page::after{content:'';position:absolute;bottom:-8px;display:block;height:1px;width:100%;background:#333}.gui-paging .gui-alternative-paging-navigator .gui-button{display:-ms-flexbox;display:flex;-ms-flex-line-pack:center;align-content:center;margin:0 2px;background:0 0;padding:0;font-size:14px;line-height:21px}.gui-paging .gui-alternative-paging-navigator .gui-button svg{-ms-flex-item-align:center;-ms-grid-row-align:center;align-self:center;height:12px;width:auto;margin:-1px 2px 0}.gui-paging .gui-alternative-paging-navigator .gui-button svg path{stroke:#ccc;transition:stroke .3s ease-in-out}.gui-paging .gui-alternative-paging-navigator .gui-button:hover{background:0 0}.gui-paging .gui-alternative-paging-navigator .gui-button:hover svg path{stroke:#333}.gui-paging .gui-alternative-paging-navigator .gui-button:disabled svg{opacity:.4}.gui-paging .gui-alternative-paging-navigator .gui-material .gui-button{padding:2px 16px}.gui-paging.gui-paging-bottom{border-top:1px solid;border-color:inherit}.gui-paging.gui-paging-top{border-bottom:1px solid;border-color:inherit}",".gui-generic .gui-paging,.gui-generic .gui-paging *{border-color:rgba(34,36,38,.1);font-size:14px}"]}]}],n.ctorParameters=function(){return[{type:e.Renderer2},{type:e.ElementRef},{type:e.ChangeDetectorRef},{type:Et},{type:st},{type:Vt},{type:oi}]},n.propDecorators={position:[{type:e.Input}],minimal:[{type:e.Input}]},n}(Hn);var Ii=function(){function t(){this.pageSizeChanged=new e.EventEmitter}return t.prototype.changePageSize=function(t){this.pageSizeChanged.emit(t)},t.decorators=[{type:e.Component,args:[{selector:"gui-paging-select",template:'<span>Items per page:</span>\n<gui-select (optionChanged)="changePageSize($event)"\n\t\t\t[options]="paging.getPageSizes()"\n\t\t\t[selected]="paging.getPageSize()"\n\t\t\t[width]="25">\n</gui-select>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,host:{"[class.gui-paging-select]":'"true"'}}]}],t.propDecorators={paging:[{type:e.Input}],pageSizeChanged:[{type:e.Output}]},t}();var Si=function(){function t(t){this.pagingCommandService=t,this.nextPageChanged=new e.EventEmitter,this.prevPageChanged=new e.EventEmitter,this.prevDisabled=!1,this.nextDisabled=!1}return t.prototype.ngOnChanges=function(){this.calculatePrev(),this.calculateNext()},t.prototype.prevPage=function(){this.prevPageChanged.emit()},t.prototype.nextPage=function(){this.nextPageChanged.emit()},t.prototype.firstPage=function(){this.pagingCommandService.goToPage(1,this.paging.getPage())},t.prototype.lastPage=function(){var t=Math.ceil(this.sourceSize/this.paging.getPageSize());this.pagingCommandService.goToPage(t,this.paging.getPage())},t.prototype.calculatePrev=function(){this.paging&&(this.prevDisabled=this.paging.isPrevPageDisabled())},t.prototype.calculateNext=function(){(this.paging||this.sourceSize)&&(this.nextDisabled=this.paging.isNextPageDisabled())},t.decorators=[{type:e.Component,args:[{selector:"gui-alternative-paging-navigator",template:'<button (click)="firstPage()"\n\t\t[disabled]="prevDisabled"\n\t\tgui-button>\n\t<svg height="10.661" viewBox="0 0 11.081 10.661" width="11.081" xmlns="http://www.w3.org/2000/svg">\n\t\t<g transform="translate(-522.98 669.601) rotate(180)">\n\t\t\t<path d="M.75.75,5.02,5.02.75,9.29" fill="none" stroke-linecap="round" stroke-linejoin="round"\n\t\t\t\t  stroke-width="1.5" transform="translate(-533.75 659.25)"/>\n\t\t\t<path d="M.75.75,5.02,5.02.75,9.29" fill="none" stroke-linecap="round"\n\t\t\t\t  stroke-linejoin="round" stroke-width="1.5" transform="translate(-528.75 659.25)"/>\n\t\t</g>\n\t</svg>\n</button>\n\n<button (click)="prevPage()"\n\t\t[disabled]="prevDisabled"\n\t\tclass="gui-paging-navigator-prev"\n\t\tgui-button>\n\t<svg height="10.661" viewBox="0 0 6.081 10.661" width="6.081" xmlns="http://www.w3.org/2000/svg">\n\t\t<path d="M.75.75,5.02,5.02.75,9.29" fill="none" stroke-linecap="round" stroke-linejoin="round"\n\t\t\t  stroke-width="1.5" transform="translate(5.77 10.351) rotate(180)"/>\n\t</svg>\n</button>\n\n<ng-content></ng-content>\n\n<button (click)="nextPage()"\n\t\t[disabled]="nextDisabled"\n\t\tclass="gui-paging-navigator-next"\n\t\tgui-button>\n\t<svg height="10.661" viewBox="0 0 6.081 10.661" width="6.081" xmlns="http://www.w3.org/2000/svg">\n\t\t<path d="M.75.75,5.02,5.02.75,9.29" fill="none" stroke-linecap="round" stroke-linejoin="round"\n\t\t\t  stroke-width="1.5" transform="translate(0.311 0.311)"/>\n\t</svg>\n</button>\n\n<button (click)="lastPage()"\n\t\t[disabled]="nextDisabled"\n\t\tgui-button>\n\t<svg height="10.661" viewBox="0 0 11.081 10.661" width="11.081" xmlns="http://www.w3.org/2000/svg">\n\t\t<g transform="translate(534.061 -658.939)">\n\t\t\t<path d="M.75.75,5.02,5.02.75,9.29" fill="none" stroke-linecap="round" stroke-linejoin="round"\n\t\t\t\t  stroke-width="1.5" transform="translate(-533.75 659.25)"/>\n\t\t\t<path d="M.75.75,5.02,5.02.75,9.29" fill="none" stroke-linecap="round"\n\t\t\t\t  stroke-linejoin="round" stroke-width="1.5" transform="translate(-528.75 659.25)"/>\n\t\t</g>\n\t</svg>\n</button>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,host:{"[class.gui-alternative-paging-navigator]":'"true"'}}]}],t.ctorParameters=function(){return[{type:st}]},t.propDecorators={paging:[{type:e.Input}],sourceSize:[{type:e.Input}],nextPageChanged:[{type:e.Output}],prevPageChanged:[{type:e.Output}]},t}();var wi=function(){function t(t){this.pagingCommandService=t,this.sourceSize=0,this.numberOfVisiblePages=3}return t.prototype.ngOnChanges=function(t){this.calculate()},t.prototype.calculate=function(){if(this.paging&&this.sourceSize){var t=Math.ceil(this.sourceSize/this.paging.getPageSize());if(this.currentPage=this.paging.getPage(),this.pages=[],this.pages.length<=t)for(var e=1;e<=t;e++)this.pages.push(e)}},t.prototype.isSourceNotEmpty=function(){return this.sourceSize>0},t.prototype.goToPage=function(t){var e=this.paging.getPage();this.pagingCommandService.goToPage(t,e)},t.prototype.calculateVisiblePages=function(t){return this.paging.calculateVisiblePages(this.currentPage,this.numberOfVisiblePages,t)},t.prototype.activePage=function(t){return this.currentPage===t},t.decorators=[{type:e.Component,args:[{selector:"gui-alternative-paging-pages",template:'<ng-container *ngIf="isSourceNotEmpty(); else noSource;">\n\n\t<div *ngFor="let page of pages">\n\t\t<div [class.gui-paging-active-page]="activePage(page)"\n\t\t\t [class.gui-paging-visible-page]="calculateVisiblePages(page)">\n\t\t\t<div\n\t\t\t\t\t(click)="goToPage(page)"\n\t\t\t\t\tclass="gui-paging-page">\n\t\t\t\t{{page}}\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n</ng-container>\n\n<ng-template #noSource>\n\t<span class="gui-paging-source-stats gui-paging-no-items">\n\t\tThere is no items.\n\t</span>\n</ng-template>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,host:{"[class.gui-alternative-paging-pages]":'"true"'}}]}],t.ctorParameters=function(){return[{type:st}]},t.propDecorators={paging:[{type:e.Input}],sourceSize:[{type:e.Input}]},t}();var Ai=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e}(r.AggregateRepository);var Di=function(t){function e(e){return t.call(this,e,"PagingSetEvent")||this}return l(e,t),e}(r.DomainEvent),Ri=function(){function t(t,e){this.structureAggregateRepository=t,this.domainEventPublisher=e}return t.prototype.forCommand=function(){return nt},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publish(new Di(e.getAggregateId()))},t.prototype.handleAggregate=function(t,e){var n=e.getPagingConfig();t.changePaging(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Ai},{type:r.DomainEventPublisher}]},t}();var Mi=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return rt},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publish(new Qn(e.getAggregateId()))},t.prototype.handleAggregate=function(t,e){t.nextPage()},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var xi=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return ot},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publish(new Kn(e.getAggregateId()))},t.prototype.handleAggregate=function(t,e){t.prevPage()},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var Pi=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return it},t.prototype.publishDomainEvents=function(t,e){var n=t.getEvents();n.forEach((function(e){e.aggregateId=t.getId()})),this.publishAggregateEvents(n,e),t.clearEvents()},t.prototype.handleAggregate=function(t,e){var n=e.getPageSize();t.changePageSize(n)},t.prototype.publishAggregateEvents=function(t,e){var n,i;try{for(var r=h(t),o=r.next();!o.done;o=r.next()){var a=o.value;this.publishAggregateEvent(a,e)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},t.prototype.publishAggregateEvent=function(t,e){switch(t.getType()){case"PageChangedAggregateEvent":var n=new pt(e.getAggregateId());this.domainEventPublisher.publish(n);break;case"PagesizeChangedAggregateEvent":var i=new dt(e.getAggregateId());this.domainEventPublisher.publish(i)}},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var Ti=function(t){function i(){return t.call(this)||this}return l(i,t),i.commandHandlers=function(){return f(r.HermesModule.registerCommandHandler(Ri,"StructureAggregate"),r.HermesModule.registerCommandHandler(Mi,"StructureAggregate"),r.HermesModule.registerCommandHandler(xi,"StructureAggregate"),r.HermesModule.registerCommandHandler(Pi,"StructureAggregate"))},i.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],providers:[at,ft],declarations:[],exports:[]}]}],i.ctorParameters=function(){return[]},i}(r.DomainModule),Fi=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return l(i,t),i.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,Ti],providers:[st,Et,Xn,Ct,en],declarations:[],exports:[]}]}],i}(r.ApiModule),ki=function(){function t(){this.nextPageChanged=new e.EventEmitter,this.prevPageChanged=new e.EventEmitter,this.prevDisabled=!1,this.nextDisabled=!1}return t.prototype.ngOnChanges=function(){this.calculatePrev(),this.calculateNext()},t.prototype.prevPage=function(){this.prevPageChanged.emit()},t.prototype.nextPage=function(){this.nextPageChanged.emit()},t.prototype.calculatePrev=function(){this.paging&&(this.prevDisabled=this.paging.isPrevPageDisabled())},t.prototype.calculateNext=function(){(this.paging||this.sourceSize)&&(this.nextDisabled=this.paging.isNextPageDisabled())},t.decorators=[{type:e.Component,args:[{selector:"gui-paging-navigator",template:'<gui-button-group>\n\t<button (click)="prevPage()"\n\t\t\t[disabled]="prevDisabled"\n\t\t\tclass="gui-paging-navigator-prev"\n\t\t\tgui-button>\n\t\tPrev\n\t</button>\n\n\t<button (click)="nextPage()"\n\t\t\t[disabled]="nextDisabled"\n\t\t\tclass="gui-paging-navigator-next"\n\t\t\tgui-button>\n\t\tNext\n\t</button>\n</gui-button-group>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,host:{"[class.gui-paging-navigator]":'"true"'}}]}],t.propDecorators={paging:[{type:e.Input}],sourceSize:[{type:e.Input}],nextPageChanged:[{type:e.Output}],prevPageChanged:[{type:e.Output}]},t}();var Oi=function(){function t(){this.subClassConstructor=this.constructor,this.subClassNgOnInit=this.ngOnInit,(this.isEmptyConstructor()||0!==arguments.length)&&this.throwError("it should not inject services"),this.subClassNgOnInit&&this.throwError("it should not use ngOnInit")}return t.prototype.isEmptyConstructor=function(){return")"!==this.subClassConstructor.toString().split("(")[1][0]},t.prototype.throwError=function(t){throw new Error('Component "'+this.subClassConstructor.name+'" is a PureComponent, '+t+".")},t}();var Ni=function(t){function n(){return t.call(this)||this}return l(n,t),n.prototype.ngOnChanges=function(t){this.calculate()},n.prototype.calculate=function(){this.paging&&(this.firstItemIndex=this.paging.getStart(),this.lastItemIndex=this.paging.getEnd(),this.sourceSize=this.paging.getSourceSize())},n.prototype.isSourceNotEmpty=function(){return this.sourceSize>0},n.decorators=[{type:e.Component,args:[{selector:"gui-paging-stats",template:'<ng-container *ngIf="isSourceNotEmpty(); else noSource;">\n\t<span class="gui-paging-source-stats">\n\t\t<span>{{firstItemIndex}}</span>\n\t\t-\n\t\t<span>{{lastItemIndex}}</span>\n\t</span>\n\t<span>\n\t\tof\n\t</span>\n\t<span class="gui-paging-source-size">\n\t\t{{sourceSize}}\n\t</span>\n</ng-container>\n\n<ng-template #noSource>\n\t<span class="gui-paging-source-stats gui-paging-no-items">\n\t\tThere is no items.\n\t</span>\n</ng-template>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,host:{"[class.gui-paging-stats]":'"true"'}}]}],n.ctorParameters=function(){return[]},n.propDecorators={paging:[{type:e.Input}]},n}(Oi);var Hi=function(t){function r(){return t.call(this)||this}return l(r,t),r.forComponent=function(){return[oi]},r.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,i.FabricModule,Fi],declarations:[Ei,ki,Ii,Ni,Si,wi],exports:[Ei,ki,Ii,Ni,Si,wi]}]}],r.ctorParameters=function(){return[]},r}(r.FeatureModule),Vi=function(t){function e(){return t.call(this,{enabled:!1,template:function(t){return"Title Panel"}})||this}return l(e,t),e}(r.Archive),ji=function(t){function e(){return t.call(this,{enabled:!1,template:function(t){return"Footer Panel"}})||this}return l(e,t),e}(r.Archive),Bi=function(){function t(){}return t.prototype.convert=function(t){var e,n,i,r;return void 0!==t.infoDialog&&(e=t.infoDialog),void 0!==t.columnsManager&&(n=t.columnsManager),void 0!==t.schemaManager&&(r=t.schemaManager),void 0!==t.sourceSize&&(i=t.sourceSize),new Rn(t.enabled,e,n,r,i)},t.decorators=[{type:e.Injectable}],t}(),Ui=function(){function t(t,e){this.structureInfoPanelConfigConverter=t,this.structureInfoPanelArchive=e}return t.prototype.set=function(t){var e=this.structureInfoPanelConfigConverter.convert(t);this.structureInfoPanelArchive.next(e)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Bi},{type:Mn}]},t}();var zi=function(t){function e(e,n){var i=t.call(this,e,"SetSortingCommand")||this;return i.sortingConfig=n,i}return l(e,t),e.prototype.getSortingConfig=function(){return this.sortingConfig},e}(r.Command);var Li=function(t){function e(e,n,i){var r=t.call(this,e,"ToggleSortCommand")||this;return r.compositionId=n,r.fieldId=i,r}return l(e,t),e.prototype.getCompositionId=function(){return this.compositionId},e.prototype.getFieldId=function(){return this.fieldId},e}(r.Command);var Wi=function(t){function e(e,n,i,r){var o=t.call(this,e,"SetSortOrderCommand")||this;return o.compositionId=n,o.fieldId=i,o.sortOrder=r,o}return l(e,t),e.prototype.getCompositionId=function(){return this.compositionId},e.prototype.getFieldId=function(){return this.fieldId},e.prototype.getSortOrder=function(){return this.sortOrder},e}(r.Command);var Gi=function(){function t(t){this.commandDispatcher=t}return t.prototype.setSortingConfig=function(t,e){void 0===e&&(e=ut),this.commandDispatcher.dispatch(new zi(e,t))},t.prototype.toggleSort=function(t,e,n){void 0===n&&(n=ut),this.commandDispatcher.dispatch(new Li(n,e,t))},t.prototype.setSortOrder=function(t,e,n,i){void 0===i&&(i=ut),this.commandDispatcher.dispatch(new Wi(i,n,t,e))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.CommandDispatcher}]},t}();var qi=function(){function t(t){this.structureRepository=t}return t.prototype.onStructure=function(t){return void 0===t&&(t=ut),this.structureRepository.onStructure(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:bt}]},t}();var Qi=function(){function t(){}return t.decorators=[{type:e.Injectable}],t}(),Ki=function(t){function e(e,n,i){var r=t.call(this,e,"SortToggledEvent")||this;return r.compositionId=n,r.directions=i,r}return l(e,t),e.prototype.getCompositionId=function(){return this.compositionId},e.prototype.getDirections=function(){return this.directions},e}(r.DomainEvent);var Xi=function(){function t(t,e){this.structureAggregateRepository=t,this.domainEventPublisher=e}return t.prototype.forCommand=function(){return Li},t.prototype.publishDomainEvents=function(t,e){},t.prototype.handleAggregate=function(t,e){var n=e.getAggregateId(),i=e.getCompositionId(),r=e.getFieldId(),o=t.toggleSort(r);this.publishSortEvent(n,i,r,o)},t.prototype.publishSortEvent=function(t,e,n,i){var r=i.map((function(t){return{direction:t.hasDirection(),fieldId:t.getField().getId()}}));this.domainEventPublisher.publish(new Ki(t,e,r))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Ai},{type:r.DomainEventPublisher}]},t}();var Zi=function(t){function e(e){return t.call(this,e,"SortingSetEvent")||this}return l(e,t),e}(r.DomainEvent),Yi=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return zi},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publish(new Zi(e.getAggregateId()))},t.prototype.handleAggregate=function(t,e){var n=e.getSortingConfig();t.setSortingConfig(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var Ji=function(t){function e(e,n,i){var r=t.call(this,e,"SortOrderSetEvent")||this;return r.compositionId=n,r.directions=i,r}return l(e,t),e.prototype.getCompositionId=function(){return this.compositionId},e.prototype.getDirections=function(){return this.directions},e}(r.DomainEvent);var _i=function(){function t(t,e){this.structureAggregateRepository=t,this.domainEventPublisher=e}return t.prototype.forCommand=function(){return Wi},t.prototype.publishDomainEvents=function(t,e){},t.prototype.handleAggregate=function(t,e){var n=e.getAggregateId(),i=e.getCompositionId(),r=e.getFieldId(),o=e.getSortOrder(),a=t.setSortOrder(r,o);this.publishSortEvent(n,i,r,a)},t.prototype.publishSortEvent=function(t,e,n,i){var r=i.map((function(t){return{direction:t.hasDirection(),fieldId:t.getField().getId()}}));this.domainEventPublisher.publish(new Ji(t,e,r))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Ai},{type:r.DomainEventPublisher}]},t}();var $i=function(t){function i(){return t.call(this)||this}return l(i,t),i.commandHandlers=function(){return f(r.HermesModule.registerCommandHandler(Xi,"StructureAggregate"),r.HermesModule.registerCommandHandler(Yi,"StructureAggregate"),r.HermesModule.registerCommandHandler(_i,"StructureAggregate"))},i.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],providers:[],declarations:[],exports:[]}]}],i.ctorParameters=function(){return[]},i}(r.DomainModule),tr=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return l(i,t),i.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,$i],providers:[Gi,qi,Qi],declarations:[],exports:[]}]}],i}(r.ApiModule),er=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return l(i,t),i.forComponent=function(){return[]},i.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,tr],declarations:[],exports:[]}]}],i}(r.FeatureModule),nr=function(t){function e(e,n){var i=t.call(this,e,"ConfigSearchingSetEvent")||this;return i.enabled=n,i}return l(e,t),e.prototype.isEnabled=function(){return this.enabled},e}(r.DomainEvent);var ir=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return Ae},t.prototype.publishDomainEvents=function(t,e){var n=e.getConfig();this.domainEventPublisher.publish(new nr(e.getAggregateId(),n.enabled))},t.prototype.handleAggregate=function(t,e){var n=e.getConfig();t.setSearchingConfig(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var rr=function(t){function e(e,n){var i=t.call(this,e,"StructureSummariesChangedEvent")||this;return i.values=n,i}return l(e,t),e.prototype.getSummaries=function(){return this.values},e}(r.DomainEvent);var or=function(t){function e(e,n){var i=t.call(this,e,"StructureSummariesChangedAggregateEvent")||this;return i.summarizedValues=n,i}return l(e,t),e.prototype.toDomainEvent=function(){return new rr(this.getAggregateId(),this.summarizedValues)},e.prototype.getSummaries=function(){return this.summarizedValues},e}(r.AggregateEvent);var ar=function(t){function e(e,n){var i=t.call(this,e,"StructurePreparedEntitiesSetEvent")||this;return i.preparedItems=n,i}return l(e,t),e.prototype.getPreparedItems=function(){return this.preparedItems},e}(r.DomainEvent);var ur=function(){function t(t){this.domainEventPublisher=t}return t.prototype.publish=function(t){var e=this;t.forEach((function(t){e.publishEvent(t)}))},t.prototype.publishEvent=function(t){if("StructureOriginChangedAggregateEvent"===t.getType()){var e=t,n=new hn(e.getAggregateId(),e.getOrigin());this.domainEventPublisher.publish(n)}if("StructureSourceItemEditedAggregateEvent"===t.getType()){var i=t;n=new Yn(i.getAggregateId(),i.getBeforeItem(),i.getAfterItem());this.domainEventPublisher.publish(n)}if("StructureSummariesChangedAggregateEvent"===t.getType()){var r=t;n=new rr(r.getAggregateId(),r.getSummaries());this.domainEventPublisher.publish(n)}if("StructurePreparedEntitiesSetAggregateEvent"===t.getType()){var o=t;n=new ar(o.getAggregateId(),o.getPreparedItems());this.domainEventPublisher.publish(n)}if("UniqueFilterCalculatedAggregateEvent"===t.getType()){n=t.toDomainEvent();this.domainEventPublisher.publish(n)}},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var sr=function(){function t(t,e){this.structureSourceDomainEventPublisher=t,this.domainEventPublisher=e}return t.prototype.forCommand=function(){return De},t.prototype.publishDomainEvents=function(t,e){var n=e.getPhrase(),i=e.isInitial();this.domainEventPublisher.publish(new yn(e.getAggregateId(),n,i)),this.structureSourceDomainEventPublisher.publish(t.getEvents())},t.prototype.handleAggregate=function(t,e){var n=e.getPhrase();t.addSearchPhrase(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:ur},{type:r.DomainEventPublisher}]},t}();var cr={UNKNOWN:0,NUMBER:1,STRING:2,BOOLEAN:3,DATE:4,CUSTOM:5};cr[cr.UNKNOWN]="UNKNOWN",cr[cr.NUMBER]="NUMBER",cr[cr.STRING]="STRING",cr[cr.BOOLEAN]="BOOLEAN",cr[cr.DATE]="DATE",cr[cr.CUSTOM]="CUSTOM";var lr=function(){function t(){this.searchFields=[],this.enabledDataTypes=[cr.STRING]}return t.prototype.addSearchPhrase=function(t,e){var n=this;if(e){var i=t.filter((function(t){return n.enabledDataTypes.some((function(e){return e===t.getDataType()}))}));0!==i.length&&(this.searchFields=i,this.searchPhrase=e)}else this.searchFields=[]},t.prototype.removeSearchFilters=function(){this.searchFields=[]},t.prototype.search=function(t){var e=this;if(0===t.length||0===this.searchFields.length)return t;for(var n=new Set,i=function(i){r.searchFields.filter((function(n){return n.search(t[i],e.searchPhrase)})).forEach((function(){n.add(t[i])}))},r=this,o=0;o<t.length;o+=1)i(o);return Array.from(n)},t}();var pr=function(){function t(){}return t.prototype.create=function(){return new lr},t.decorators=[{type:e.Injectable}],t}(),gr=function(t){function n(){var e=t.call(this)||this;return e.phrase=new Map,e.phrase$=new o.ReplaySubject,e}return l(n,t),n.prototype.setPhrase=function(t,e){this.phrase.set(e.toString(),t),this.phrase$.next(this.phrase)},n.prototype.onPhrase=function(t){return this.observePhrases(t).pipe(a.distinctUntilChanged())},n.prototype.observePhrases=function(t){return this.phrase$.asObservable().pipe(a.map((function(e){return e.get(t.toString())})))},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(vt);var dr=function(){function t(t){this.structureSearchPhraseRepository=t}return t.prototype.forEvent=function(){return yn},t.prototype.handle=function(t){t.ofMessageType("SearchPhraseSetDomainEvent")&&this.structureSearchPhraseRepository.setPhrase(t.getPhrase(),t.getAggregateId())},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:gr}]},t}();var hr=function(t){function n(){var e=t.call(this)||this;return e.enabled=new Map,e.enabled$=new o.ReplaySubject,e}return l(n,t),n.prototype.setEnabled=function(t,e){this.enabled.set(e.toString(),t),this.enabled$.next(this.enabled)},n.prototype.onSearchingEnabled=function(t){return this.enabled$.asObservable().pipe(a.map((function(e){return e.get(t.toString())})),a.distinctUntilChanged())},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(vt);var mr=function(){function t(t){this.structureSearchingRepository=t}return t.prototype.forEvent=function(){return nr},t.prototype.handle=function(t){t.ofMessageType("ConfigSearchingSetEvent")&&this.structureSearchingRepository.setEnabled(t.isEnabled(),t.getAggregateId())},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:hr}]},t}();var fr=function(t){function i(){return t.call(this)||this}return l(i,t),i.commandHandlers=function(){return f(r.HermesModule.registerCommandHandler(ir,"StructureAggregate"),r.HermesModule.registerCommandHandler(sr,"StructureAggregate"))},i.domainEventHandlers=function(){return f(r.HermesModule.registerDomainEventHandler(dr),r.HermesModule.registerDomainEventHandler(mr))},i.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],providers:[pr,xe],declarations:[],exports:[]}]}],i.ctorParameters=function(){return[]},i}(r.DomainModule),yr=function(){function t(t){this.searchDispatcher=t}return t.prototype.setSearchingConfig=function(t,e){void 0===e&&(e=ut),this.searchDispatcher.setSearchingConfig(t,e)},t.prototype.search=function(t,e){void 0===e&&(e=ut),this.searchDispatcher.search(t,e)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:xe}]},t}();var vr=function(){function t(t,e){this.structureSearchingRepository=t,this.searchPhraseRepository=e}return t.prototype.onSearchEnabled=function(t){return void 0===t&&(t=ut),this.structureSearchingRepository.onSearchingEnabled(t)},t.prototype.onPhrase=function(t){return void 0===t&&(t=ut),this.searchPhraseRepository.onPhrase(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:hr},{type:gr}]},t}();var br=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return l(i,t),i.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,fr],providers:[yr,vr,ui,gr,Re,Me,hr],declarations:[],exports:[]}]}],i}(r.ApiModule),Cr=function(){function t(){}return t.decorators=[{type:e.Component,args:[{selector:"gui-search-icon",template:'\n\t\t<svg class="gui-search-icon" xmlns="http://www.w3.org/2000/svg" width="10.231" height="10.601" viewBox="0 0 10.231 10.601">\n\t\t\t<line x2="1.77" y2="1.77" transform="translate(7.4 7.77)" fill="none" stroke-linecap="round"\n\t\t\t\t  stroke-linejoin="round" stroke-width="1.5"/>\n\t\t\t<circle cx="4.02" cy="4.02" r="4.02" transform="translate(0.5 0.5)" stroke-width="1"\n\t\t\t\t\tstroke-linecap="round" stroke-linejoin="round" fill="none"/>\n\t\t</svg>\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,host:{"[class.gui-icon]":"true"}}]}],t}(),Er=function(t){function n(e,i,r,o,a,u,s,c,l){var p=t.call(this)||this;p.formBuilder=e,p.renderer2=i,p.changeDetectorRef=r,p.structureId=o,p.searchCommandDispatcher=a,p.structureWarehouse=u,p.searchWarehouse=s,p.verticalFormationWarehouse=c,p.structureSearchPlaceholderArchive=l,p.placeholder="Search",p.searchingEnabled=!1;var g={};return g[n.FORM_SEARCH_NAME]="",p.searchForm=p.formBuilder.group(g),p}return l(n,t),n.prototype.ngOnInit=function(){var t=this;this.observeChanges(),this.structureSearchPlaceholderArchive.onValue().pipe(this.takeUntil()).subscribe((function(e){t.placeholder=e,t.changeDetectorRef.detectChanges()})),this.searchWarehouse.onPhrase(this.structureId).pipe(this.takeUntil()).subscribe((function(e){void 0===e&&(e=null);var i={};i[n.FORM_SEARCH_NAME]=e,e!==t.searchForm.get([n.FORM_SEARCH_NAME]).value&&(t.stopObserveChanges(),t.searchForm.setValue(i),t.observeChanges())})),this.searchWarehouse.onSearchEnabled(this.structureId).pipe(this.takeUntil()).subscribe((function(e){t.searchingEnabled=e,t.changeDetectorRef.detectChanges()}))},n.prototype.clear=function(){this.searchForm.reset()},n.prototype.observeChanges=function(){var t=this;this.searchInputSubscription=this.searchForm.controls[n.FORM_SEARCH_NAME].valueChanges.pipe(a.debounceTime(200),this.takeUntil()).subscribe((function(e){t.searchCommandDispatcher.search(e,t.structureId)}))},n.prototype.stopObserveChanges=function(){this.searchInputSubscription.unsubscribe()},n.FORM_SEARCH_NAME="searchPhrase",n.decorators=[{type:e.Component,args:[{selector:"gui-search-bar",template:'\n\t\t<ng-container *ngIf="searchingEnabled">\n\t\t\t<form #formRef\n\t\t\t\t  [formGroup]="searchForm">\n\t\t\t\t<gui-search-icon></gui-search-icon>\n\t\t\t\t<input formControlName="searchPhrase" [placeholder]="placeholder">\n\t\t\t\t<span *ngIf="searchForm.controls[\'searchPhrase\'].value" class="gui-clear-search-icon" (click)="clear()"></span>\n\t\t\t</form>\n\t\t</ng-container>\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,host:{"[class.gui-search-bar]":'"true"'},styles:[".gui-search-bar{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;height:100%;width:60%;margin-right:auto}.gui-search-bar form{display:-ms-flexbox;display:flex;background:#fff;position:relative;width:100%}.gui-search-bar form .gui-search-icon{position:absolute;top:6px;left:10px;width:17px;height:17px}.gui-search-bar form .gui-search-icon circle,.gui-search-bar form .gui-search-icon line{stroke:#ccc;transition:stroke .3s ease-in-out}.gui-search-bar form input{border:1px solid;border-color:inherit;border-radius:4px;padding:6px 6px 6px 38px;height:100%;width:100%}.gui-search-bar form:hover .gui-search-icon circle,.gui-search-bar form:hover .gui-search-icon line{stroke:#333}"]}]}],n.ctorParameters=function(){return[{type:s.FormBuilder},{type:e.Renderer2},{type:e.ChangeDetectorRef},{type:F},{type:yr},{type:ce},{type:vr},{type:bn},{type:Me}]},n.propDecorators={formRef:[{type:e.ViewChild,args:["formRef",{static:!1}]}]},n}(Hn);var Ir=function(t){function r(e){var n=t.call(this)||this;if(null===e)throw new Error("SearchApiModule is required");return n}return l(r,t),r.forComponent=function(){return[]},r.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,i.FabricModule,s.ReactiveFormsModule],declarations:[Cr,Er],exports:[Cr,Er]}]}],r.ctorParameters=function(){return[{type:br}]},r}(r.FeatureModule),Sr=function(){function t(t,e,n){this.id=t,this.dataType=e,this.name=n}return t.prototype.getFieldId=function(){return this.id},t.prototype.getId=function(){return this.id.getId()},t.prototype.getDataType=function(){return this.dataType},t.prototype.getName=function(){return this.name},t}();var wr=function(){function t(){}return t.prototype.convert=function(t){var e=this;return t.map((function(t){return e.convertOne(t)}))},t.prototype.convertOne=function(t){return new Sr(t.getId(),t.getDataType(),t.getName())},t.decorators=[{type:e.Injectable}],t}(),Ar=function(){function t(t){this.fieldFactory=t,this.fields=new Map}return t.prototype.getField=function(t){return null===t?this.getAllFields()[0]:this.fields.get(t.getId())},t.prototype.getAllFieldIds=function(){return Array.from(this.fields.keys())},t.prototype.getAllFields=function(){return Array.from(this.fields.values())},t.prototype.getFieldsAsMap=function(){return this.fields},t.prototype.initFields=function(t){var e=this.fieldFactory.create(t);this.addFields(e)},t.prototype.addFields=function(t){var e,n;try{for(var i=h(t),r=i.next();!r.done;r=i.next()){var o=r.value;this.addField(o)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.addField=function(t){this.fields.set(t.getId().toString(),t)},t}();var Dr=function(){function t(t,e,n){this.id=t,this.field=e,this.name=n}return t.of=function(e,n,i){return new t(e,n,i)},t.prototype.getId=function(){return this.id},t.prototype.getKey=function(){return this.getId().toString()},t.prototype.getDataType=function(){return this.field.getDataType()},t.prototype.getName=function(){return this.name},t.prototype.getField=function(){return this.field},t.prototype.getAccessor=function(){return this.field.getAccessor()},t.prototype.getAccessorMethod=function(){return this.field.getAccessorMethod()},t.prototype.getSearchAccessorMethod=function(){return this.field.getSearchAccessorMethod()},t.prototype.getValue=function(t){return this.field.getValue(t)},t.prototype.getDisplayValue=function(t){return this.field.getDisplayValue(t)},t.prototype.isSummaries=function(t){return this.field.isSummaries(t)},t.prototype.isSummariesEnabled=function(){return this.field.isSummariesEnabled()},t.prototype.search=function(t,e){return this.field.search(t,e)},t.prototype.filter=function(t,e){var n=this.field.getValue(t);return this.field.getDataType()===cr.NUMBER||this.field.getDataType()===cr.BOOLEAN||this.field.getDataType()===cr.STRING?this.field.filter(n,e):this.field.getDataType()!==cr.DATE||this.field.filter(n,e)},t.prototype.sort=function(t,e,n){var i=n?this.field.getSortValue(t):this.field.getSortValue(e),r=n?this.field.getSortValue(e):this.field.getSortValue(t);return this.field.getDataType()===cr.NUMBER||this.field.getDataType()===cr.BOOLEAN||this.field.getDataType()===cr.STRING||this.field.getDataType()===cr.DATE?this.field.sort(i,r):0},t}();var Rr=function(){function t(t,e,n){this.accessor=t,this.dataType=e,this.matchers=n,"string"==typeof t?this.accessorMethod=function(e){return e.getData()[t]}:"function"==typeof t&&(this.accessorMethod=function(e){return t(e.getData())})}return t.prototype.getDataType=function(){return this.dataType},t.prototype.getAccessor=function(){return this.accessor},t.prototype.getAccessorMethod=function(){return this.accessorMethod},t.prototype.getMatchers=function(){return this.matchers},t.prototype.getSearchAccessorMethod=function(){var t,e=this;return this.matchers.getSearchMatcher().ifPresent((function(e){t=e})),t?function(n){var i=e.accessorMethod(n);return t(i)}:function(t){return e.accessorMethod(t)}},t.prototype.getValue=function(t){return this.accessorMethod(t)},t.prototype.getSortValue=function(t){var e=this.accessorMethod(t);return this.matchers.getSortMatcher().ifPresent((function(t){e=t(e)})),e},t.prototype.getSearchValue=function(t){var e=this.accessorMethod(t);return this.matchers.getSearchMatcher().ifPresent((function(t){e=t(e)})),e},t}();var Mr=function(t){function e(e,n,i,r){var o=t.call(this,e,n,i)||this;return o.summariesEnabled=!0,o.possibleSummaries=o.assignPossibleSummaries(),o.assignSummaries(r),o}return l(e,t),e.prototype.isSummaries=function(t){return!!this.isSummariesEnabled()&&!!(this.summariesTypes&t)},e.prototype.isSummariesEnabled=function(){return this.summariesEnabled},e.prototype.setSummariesEnabled=function(t){this.summariesEnabled=t},e.prototype.assignSummaries=function(t){var e=this;t&&0!==Object.keys(t).length?(t.enabled&&(this.summariesEnabled=!!t.enabled),t.summariesTypes?(this.summariesTypes=0,t.summariesTypes.forEach((function(t){e.summariesTypes|=t}))):this.summariesTypes=this.assignDefaultSummaries()):this.summariesTypes=this.assignDefaultSummaries()},e}(Rr);var xr={COUNT:1024,DISTINCT:1,SUM:2,AVERAGE:4,MIN:8,MAX:16,MEDIAN:32,TRUTHY:64,FALSY:128,EARLIEST:256,LATEST:512};xr[xr.COUNT]="COUNT",xr[xr.DISTINCT]="DISTINCT",xr[xr.SUM]="SUM",xr[xr.AVERAGE]="AVERAGE",xr[xr.MIN]="MIN",xr[xr.MAX]="MAX",xr[xr.MEDIAN]="MEDIAN",xr[xr.TRUTHY]="TRUTHY",xr[xr.FALSY]="FALSY",xr[xr.EARLIEST]="EARLIEST",xr[xr.LATEST]="LATEST";var Pr=function(t){function e(e,n,i){return t.call(this,e,cr.UNKNOWN,n,i)||this}return l(e,t),e.prototype.assignDefaultSummaries=function(){return 0},e.prototype.assignPossibleSummaries=function(){return xr.COUNT|xr.DISTINCT},e.prototype.search=function(t,e){return!1},e.prototype.sort=function(t,e){return 0},e.prototype.filter=function(t,e){return!1},e.prototype.equals=function(t,e){return!1},e.prototype.getDisplayValue=function(t){return t},e}(Mr),Tr=function(t){function e(e,n,i){return t.call(this,e,cr.NUMBER,n,i)||this}return l(e,t),e.prototype.getField=function(){return this},e.prototype.assignDefaultSummaries=function(){return 0},e.prototype.assignPossibleSummaries=function(){return xr.COUNT|xr.DISTINCT|xr.SUM|xr.MIN|xr.MAX|xr.AVERAGE|xr.MEDIAN},e.prototype.search=function(t,e){return!1},e.prototype.sort=function(t,e){return+t-+e},e.prototype.filter=function(t,e){return t>e},e.prototype.equals=function(t,e){return this.getValue(t)===e},e.prototype.getDisplayValue=function(t){return""+t},e}(Mr),Fr=function(t){function e(e,n,i){return t.call(this,e,cr.STRING,n,i)||this}return l(e,t),e.prototype.assignDefaultSummaries=function(){return 0},e.prototype.assignPossibleSummaries=function(){return xr.COUNT|xr.DISTINCT},e.prototype.search=function(t,e){var n=this.getSearchValue(t);return"string"==typeof n&&n.toLowerCase().indexOf(e.toLowerCase())>-1},e.prototype.sort=function(t,e){return(""+t).localeCompare(""+e)},e.prototype.filter=function(t,e){return t.toLowerCase().indexOf(e.toLowerCase())>-1},e.prototype.equals=function(t,e){return this.getValue(t)===e},e.prototype.getDisplayValue=function(t){return t},e}(Mr),kr=function(t){function e(e,n,i){return t.call(this,e,cr.BOOLEAN,n,i)||this}return l(e,t),e.prototype.assignDefaultSummaries=function(){return 0},e.prototype.assignPossibleSummaries=function(){return xr.COUNT|xr.DISTINCT|xr.TRUTHY|xr.FALSY},e.prototype.search=function(t,e){return!1},e.prototype.sort=function(t,e){var n=!!e;return!!t===n?0:n?-1:1},e.prototype.filter=function(t,e){return t===e},e.prototype.equals=function(t,e){return this.getValue(t)===e},e.prototype.getDisplayValue=function(t){return t?"True":"False"},e}(Mr),Or=function(t){function e(e,n,i){return t.call(this,e,cr.DATE,n,i)||this}return l(e,t),e.prototype.assignDefaultSummaries=function(){return 0},e.prototype.assignPossibleSummaries=function(){return xr.COUNT|xr.DISTINCT},e.prototype.search=function(t,e){return!1},e.prototype.sort=function(t,e){return t-e},e.prototype.filter=function(t,e){return!1},e.prototype.equals=function(t,e){return this.getValue(t).getTime()===e.getTime()},e.prototype.getDisplayValue=function(t){return t.toDateString()},e}(Mr),Nr=function(){function t(t,e,n){this.matcher=t,this.sortMatcher=e,this.searchMatcher=n}return t.prototype.getMatcher=function(){return r.Optional.of(this.matcher)},t.prototype.getSortMatcher=function(){var t;return this.sortMatcher&&(t=this.sortMatcher),this.matcher&&(t=this.matcher),r.Optional.of(t)},t.prototype.getSearchMatcher=function(){var t;return this.searchMatcher&&(t=this.searchMatcher),this.matcher&&(t=this.matcher),r.Optional.of(t)},t}();var Hr=function(){function t(){}return t.prototype.create=function(t){var e=this.createMatchers(t),n=t.type;return void 0===n&&(n=cr.STRING),n===cr.UNKNOWN?new Pr(t.field,e,t.summaries):n===cr.NUMBER?new Tr(t.field,e,t.summaries):n===cr.STRING?new Fr(t.field,e):n===cr.BOOLEAN?new kr(t.field,e):n===cr.DATE?new Or(t.field,e):void 0},t.prototype.createMatchers=function(t){var e,n=t.matcher;return t.sorting&&(e=t.sorting.matcher),new Nr(n,e)},t.decorators=[{type:e.Injectable}],t}(),Vr=function(){function t(){}return t.prototype.generateId=function(){var t=r.RandomStringGenerator.generate();return new Se(t)},t}(),jr=function(){function t(t,e){this.fieldIdGenerator=t,this.dataFieldFactory=e}return t.prototype.create=function(t){var e=this;return t?t.map((function(t,n){var i=e.fieldIdGenerator.generateId(),r=e.dataFieldFactory.create(t);return new Dr(i,r,e.getFieldName(t,n))})):[]},t.prototype.getFieldName=function(t,e){return"string"==typeof t.field?t.field.toLowerCase():"Field #"+e},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Vr},{type:Hr}]},t}();var Br=function(){function t(t){this.fieldFactory=t}return t.prototype.create=function(){return new Ar(this.fieldFactory)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:jr}]},t}();var Ur=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return jn},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publishFromAggregate(t)},t.prototype.handleAggregate=function(t,e){var n=e.getFieldConfigs();t.createFields(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var zr=function(t){function n(){return t.call(this)||this}return l(n,t),n.commandHandlers=function(){return f(r.HermesModule.registerCommandHandler(Ur,"StructureAggregate"))},n.decorators=[{type:e.NgModule,args:[{providers:[Br,jr,Vr,Hr]}]}],n.ctorParameters=function(){return[]},n}(r.DomainModule),Lr=function(){function t(t,e){this.domainEventBus=t,this.commandDispatcher=e}return t.prototype.initFields=function(t,e){void 0===e&&(e=ut),this.commandDispatcher.dispatch(new jn(e,t))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventBus},{type:r.CommandDispatcher}]},t}();var Wr=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return l(i,t),i.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,zr],providers:[Lr,ge,wr,de]}]}],i}(r.ApiModule),Gr=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return l(i,t),i.forComponent=function(){return[]},i.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,Wr],declarations:[],exports:[]}]}],i}(r.FeatureModule),qr=function(){function t(t,e,n,i){this.fieldId=t,this.accessor=e,this.dataType=n,this.searchAccessor=i}return t.prototype.getId=function(){return this.fieldId},t.prototype.getValue=function(t){return this.accessor(t)},t.prototype.getAccessor=function(){return this.accessor},t.prototype.getSearchAccessor=function(){return this.searchAccessor},t.prototype.getDataType=function(){return this.dataType},t}();var Qr=function(){function t(){}return t.prototype.create=function(t,e,n,i){return new qr(t,e,n,i)},t.decorators=[{type:e.Injectable}],t}(),Kr=new e.InjectionToken("Filter container token"),Xr=function(t){function n(){return t.call(this,n.DEFAULT_ROW_SELECTION_TYPE)||this}return l(n,t),n.DEFAULT_ROW_SELECTION_TYPE=Wn.ROW,n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.Archive);var Zr=function(t){function e(e){return t.call(this,e,"SetSourceLoadingEvent")||this}return l(e,t),e}(r.DomainEvent),Yr=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return Zt},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publish(new Zr(e.getAggregateId()))},t.prototype.handleAggregate=function(t,e){var n=e.isEnabled();t.getSource().setLoading(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var Jr=function(){function t(t){this.structureSourceDomainEventPublisher=t}return t.prototype.forCommand=function(){return Yt},t.prototype.publishDomainEvents=function(t,e){var n=t.getEvents();this.structureSourceDomainEventPublisher.publish(n)},t.prototype.handleAggregate=function(t,e){var n=e.getItems();t.setOrigin(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:ur}]},t}();var _r=function(){function t(t){this.structureSourceDomainEventPublisher=t}return t.prototype.forCommand=function(){return Jt},t.prototype.publishDomainEvents=function(t,e){var n=t.getEvents();this.structureSourceDomainEventPublisher.publish(n)},t.prototype.handleAggregate=function(t,e){var n=e.getParams();t.editItem(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:ur}]},t}();var $r=function(t){function e(e,n,i,r){void 0===r&&(r=0);var o=t.call(this,e)||this;return o.rawData=n,o.position=i,o.version=r,o}return l(e,t),e.prototype.getData=function(){return this.rawData},e.prototype.getVersion=function(){return this.version},e.prototype.getPosition=function(){return this.position},e.prototype.bumpVersion=function(){this.version+=1},e.prototype.setPosition=function(t){this.position=t},e.prototype.clone=function(){var t=p({},this.rawData);return new e(this.getId(),t,this.version)},e}(r.Entity);var to=function(t){function e(e,n,i){var r=t.call(this,e,"StructureSourceItemEditedAggregateEvent")||this;return r.beforeItem=n,r.afterItem=i,r}return l(e,t),e.prototype.toDomainEvent=function(){return new Yn(this.getAggregateId(),this.beforeItem,this.afterItem)},e.prototype.getBeforeItem=function(){return this.beforeItem},e.prototype.getAfterItem=function(){return this.afterItem},e}(r.AggregateEvent);var eo=function(t){function e(e,n){var i=t.call(this,e,"StructureOriginChangedAggregateEvent")||this;return i.origin=n,i}return l(e,t),e.prototype.toDomainEvent=function(){return new hn(this.getAggregateId(),this.origin)},e.prototype.getOrigin=function(){return this.origin},e}(r.AggregateEvent);var no=function(t){function e(e){return t.call(this,e)||this}return l(e,t),e}(r.EntityId),io=function(){function t(t){this.loading=!1,this.fetched=!1,this.entities=[],this.preparedEntities=[],this.slicedEntities=[],this.formationManager=t}return t.prototype.isLoading=function(){return this.loading},t.prototype.isFetched=function(){return this.fetched},t.prototype.setLoading=function(t){this.loading=t},t.prototype.setEntities=function(t){this.entities=t,this.recalculatePositions()},t.prototype.getEntities=function(){return this.entities},t.prototype.setPreparedEntities=function(){this.preparedEntities=f(this.entities)},t.prototype.getPreparedEntities=function(){return this.preparedEntities},t.prototype.setSlicedEntities=function(t){this.slicedEntities=t},t.prototype.getSlicedEntities=function(){return this.slicedEntities},t.prototype.setOrigin=function(t,e){return void 0===t&&(t=[]),this.origin=this.convertItems(t),this.createOriginChangedEvent(e)},t.prototype.setConvertedOrigin=function(t,e){return void 0===t&&(t=[]),this.origin=f(t),this.createOriginChangedEvent(e)},t.prototype.getOrigin=function(){return this.origin},t.prototype.getOriginSize=function(){return this.origin.length},t.prototype.editOriginItem=function(t,e,n,i){var r=this.findOriginItem(t),o=r.clone();return r&&(r.rawData[n.getAccessor()]=e,r.bumpVersion()),[new to(i,o,r.clone()),this.createOriginChangedEvent(i)]},t.prototype.deleteAllSelected=function(t){var e=this,n=[];return this.formationManager.getSelectedRows().forEach((function(i){n.push.apply(n,f(e.deleteOriginItemByItemId(new no(i),t)))})),n},t.prototype.deleteOriginItem=function(t,e){var n=this;if(t instanceof no)return this.deleteOriginItemByItemId(t,e);if(Array.isArray(t)){var i=[];return t.forEach((function(t){i.push.apply(i,f(n.deleteOneOriginItem(t,e)))})),i}return Number.isInteger(t)?this.deleteOriginItemByIndex(t,e):void 0},t.prototype.deleteOneOriginItem=function(t,e){return t instanceof no?this.deleteOriginItemByItemId(t,e):Number.isInteger(t)?this.deleteOriginItemByIndex(t,e):[]},t.prototype.deleteOriginItemByItemId=function(t,e){var n=this.findOriginItemIndex(t.toString());return this.deleteOriginItemByIndex(n,e)},t.prototype.deleteOriginItemByIndex=function(t,e){var n,i;if(t>-1){var r=this.origin.splice(t,1);if(r.length>0){try{for(var o=h(r),a=o.next();!a.done;a=o.next()){var u=a.value;this.formationManager.unselectRow(u.getId().toString())}}catch(t){n={error:t}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}this.formationManager.calculateAllSelected(r.map((function(t){return t.getId().toString()}))),this.formationManager.calculateAllUnselected()}return[this.createOriginChangedEvent(e)]}return[]},t.prototype.deleteManyOriginItemByIndex=function(t,e){var n=this,i=[];return t.forEach((function(t){i.push.apply(i,f(n.deleteOriginItemByIndex(t,e)))})),i},t.prototype.deleteManyOriginItemByItemID=function(t,e){var n=this,i=[];return t.forEach((function(t){i.push.apply(i,f(n.deleteOriginItemByItemId(t,e)))})),i},t.prototype.addOriginItem=function(t,e){return this.origin.push(t),[this.createOriginChangedEvent(e)]},t.prototype.selectAll=function(){this.formationManager.selectAll(this.getEntities().map((function(t){return t.getId().toString()})))},t.prototype.unselectAll=function(){this.formationManager.unselectAll()},t.prototype.toggleRow=function(t,e){this.formationManager.toggleRow(t,e,this.getEntities().map((function(t){return t.getId().toString()})))},t.prototype.getFormation=function(){return this.formationManager},t.prototype.convertItems=function(t){return t.map((function(t,e){return new $r(new no(r.RandomStringGenerator.generate()),t,e)}))},t.prototype.createOriginChangedEvent=function(t){return new eo(t,this.origin)},t.prototype.findOriginItem=function(t){return this.origin.find((function(e){return e.getId().toString()===t}))},t.prototype.findOriginItemIndex=function(t){return this.origin.findIndex((function(e){return e.getId().toString()===t}))},t.prototype.recalculatePositions=function(){this.entities.forEach((function(t,e){t.setPosition(e)}))},t}();var ro=function(){function t(t){this.enabled=!0,this.mode=Gn.SINGLE,this.selectedRows=t}return t.prototype.isAllSelected=function(){return this.allSelected},t.prototype.isAllUnselected=function(){return this.allUnselected},t.prototype.setSelection=function(t){this.enabled=t},t.prototype.setMode=function(t){this.mode=t},t.prototype.getSelectedRows=function(){return Array.from(this.selectedRows)},t.prototype.selectAll=function(t){this.selectedRows=new Set(t),this.allSelected=!0,this.allUnselected=!1},t.prototype.unselectAll=function(){this.selectedRows.clear(),this.allSelected=!1,this.allUnselected=!0},t.prototype.toggleRow=function(t,e,n){if(this.enabled){switch(e===Pt.ADD&&this.mode===Gn.SINGLE&&(e=Pt.NONE),e){case Pt.NONE:this.selectedRows.has(t)?this.selectedRows.delete(t):(this.selectedRows.clear(),this.selectedRows.add(t));break;case Pt.ADD:this.selectedRows.has(t)?this.selectedRows.delete(t):this.selectedRows.add(t);break;case Pt.RANGE:}this.calculateAllSelected(n),this.calculateAllUnselected()}},t.prototype.calculateAllSelected=function(t){if(t.length!==this.selectedRows.size)this.allSelected=!1;else{var e=Array.from(this.selectedRows),n=!0;e.sort(),t.sort();for(var i=0;i<e.length;i+=1)if(e[i]!==t[i]){n=!1;break}this.allSelected=n}},t.prototype.calculateAllUnselected=function(){this.allUnselected=0===this.selectedRows.size},t.prototype.unselectRow=function(t){this.selectedRows.has(t)&&this.selectedRows.delete(t)},t}();var oo=function(){function t(){}return t.prototype.create=function(){return new ro(new Set)},t.decorators=[{type:e.Injectable}],t}(),ao=function(){function t(t){this.formationManagerFactory=t}return t.prototype.createDefault=function(){var t=this.formationManagerFactory.create();return new io(t)},t.prototype.create=function(){var t=this.formationManagerFactory.create();return new io(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:oo}]},t}();var uo=function(){function t(t){this.structureSourceOriginRepository=t}return t.prototype.forEvent=function(){return hn},t.prototype.handle=function(t){if(t.ofMessageType("OriginSetEvent")){var e=t.getOrigin();this.structureSourceOriginRepository.setOrigin(e,t.getAggregateId())}},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Nt}]},t}();var so=function(){function t(t){this.structurePreparedItemsRepository=t}return t.prototype.forEvent=function(){return ar},t.prototype.handle=function(t){if(t.ofMessageType("StructurePreparedEntitiesSetEvent")){var e=t.getPreparedItems();this.structurePreparedItemsRepository.setItems(e,t.getAggregateId())}},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Ht}]},t}();var co=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return At},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publishFromAggregate(t)},t.prototype.handleAggregate=function(t,e){t.setSelection(e.isEnabled())},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var lo=function(){function t(t,e){this.structureAggregateRepository=t,this.domainEventPublisher=e}return t.prototype.forCommand=function(){return St},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publishFromAggregate(t)},t.prototype.handleAggregate=function(t,e){var n=e.getSelectedRow(),i=e.getType();t.toggleRow(n,i)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Ai},{type:r.DomainEventPublisher}]},t}();var po=function(){function t(t,e,n){this.itemIds=new Array,this.itemIds=t,this.allSelected=e,this.allUnselected=n}return t.prototype.getAll=function(){return this.itemIds},t.prototype.isSelected=function(t){return this.itemIds.some((function(e){return e===t}))},t.prototype.isAllSelected=function(){return this.allSelected},t.prototype.isAllUnselected=function(){return this.allUnselected},t.prototype.isIndeterminate=function(){return!(this.isAllSelected()||this.isAllUnselected())},t}();var go=function(){function t(t){this.rowSelectedRepository=t}return t.prototype.forEvent=function(){return ei},t.prototype.handle=function(t){if(t.ofMessageType("SelectedRowChangedEvent")){var e=new po(t.getSelectedRows(),t.isAllSelected(),t.isAllUnselected());this.rowSelectedRepository.next(t.getAggregateId(),e)}},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Ft}]},t}();var ho=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return Dt},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publishFromAggregate(t)},t.prototype.handleAggregate=function(t,e){t.setSelectionMode(e.getMode())},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var mo=function(){function t(t,e){this.structureAggregateRepository=t,this.domainEventPublisher=e}return t.prototype.forCommand=function(){return Rt},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publishFromAggregate(t)},t.prototype.handleAggregate=function(t,e){t.selectAll()},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Ai},{type:r.DomainEventPublisher}]},t}();var fo=function(){function t(t,e){this.structureAggregateRepository=t,this.domainEventPublisher=e}return t.prototype.forCommand=function(){return Mt},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publishFromAggregate(t)},t.prototype.handleAggregate=function(t,e){t.unselectAll()},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Ai},{type:r.DomainEventPublisher}]},t}();var yo=function(t){function e(e,n){var i=t.call(this,e,"SelectionModeSetEvent")||this;return i.mode=n,i}return l(e,t),e.prototype.getMode=function(){return this.mode},e}(r.DomainEvent);var vo=function(){function t(t){this.rowSelectionModeRepository=t}return t.prototype.forEvent=function(){return yo},t.prototype.handle=function(t){t.ofMessageType("SelectionModeSetEvent")&&this.rowSelectionModeRepository.next(t.getAggregateId(),t.getMode())},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:kt}]},t}();var bo=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return me},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publishFromAggregate(t)},t.prototype.handleAggregate=function(t,e){t.deleteItem(e.getPayload())},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var Co=function(t){function i(){return t.call(this)||this}return l(i,t),i.commandHandlers=function(){return f(r.HermesModule.registerCommandHandler(Yr,"StructureAggregate"),r.HermesModule.registerCommandHandler(Jr,"StructureAggregate"),r.HermesModule.registerCommandHandler(_r,"StructureAggregate"),r.HermesModule.registerCommandHandler(co,"StructureAggregate"),r.HermesModule.registerCommandHandler(ho,"StructureAggregate"),r.HermesModule.registerCommandHandler(mo,"StructureAggregate"),r.HermesModule.registerCommandHandler(fo,"StructureAggregate"),r.HermesModule.registerCommandHandler(bo,"StructureAggregate"),r.HermesModule.registerCommandHandler(lo,"StructureAggregate"))},i.domainEventHandlers=function(){return f(r.HermesModule.registerDomainEventHandler(uo),r.HermesModule.registerDomainEventHandler(go),r.HermesModule.registerDomainEventHandler(vo),r.HermesModule.registerDomainEventHandler(so))},i.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],providers:[_t,ao,ur,wt,oo],declarations:[],exports:[]}]}],i.ctorParameters=function(){return[]},i}(r.DomainModule),Eo=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return l(i,t),i.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,Co],providers:[Nt,Ht,rn,fe,Vt,Jn,Ft,ni,xt,jt,kt],declarations:[],exports:[]}]}],i}(r.ApiModule),Io=function(t){function i(e){var n=t.call(this)||this;if(null===e)throw new Error("SourceApiModule is required");return n}return l(i,t),i.forComponent=function(){return[Xr]},i.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,Eo],declarations:[],exports:[]}]}],i.ctorParameters=function(){return[{type:Eo,decorators:[{type:e.Optional}]}]},i}(r.FeatureModule);function So(t){return new F("gui-"+t.generateId())}function wo(t){return new L("gui-"+t.generateId())}function Ao(t){return new Fe("gui-"+t.generateId())}var Do=f([{provide:F,useFactory:So,deps:[k]},{provide:L,useFactory:wo,deps:[k]},{provide:Fe,useFactory:Ao,deps:[k]}],En,[Sn,wn,si,An,Dn,Mn,Ui,Pn,On,ri,Hi.forComponent(),er.forComponent(),Gr.forComponent(),Ir.forComponent(),Io.forComponent(),ai,li,ci,mi,bi,Vi,ji]),Ro=function(t){function n(e,n,i,r,o,a,u,s,c,l,p,g,d,h,m,f,y,v,b,C,E,I,S,w,A,D,R,M,x,P,T,F,k,O,N,H,V,j,B,U,z,L,W,G){var q=t.call(this,L,W,e,n,z,h,i,r,u,s,c,o,a,l,p,g,d,m,f,y,v,b,C,E,I,S,w,A,D,R,M,x,P,T,F,k)||this;return q.elementRef=O,q.changeDetectorRef=N,q.renderer=H,q.structureDefinition=V,q.structureReadModelService=j,q.compositionReadModelService=B,q.schemaStylesManager=U,q.schemaReadModelRootId=z,q.structureDetailViewService=G,q.loaderEnabled=!1,q.circleLoaderEnabled=!0,q.initialLoaderAnimation=!1,h.createStructure(),p.createComposition(),l.create(),q}return l(n,t),n.prototype.ngOnChanges=function(e){t.prototype.ngOnChanges.call(this,e)},n.prototype.ngOnInit=function(){var e=this;t.prototype.ngOnInit.call(this),this.structureReadModelService.onStructure().pipe(this.takeUntil()).subscribe((function(t){e.structure=t,e.loaderEnabled=t.getSource().isLoading(),e.circleLoaderEnabled=t.isLoaderVisible(),e.loaderEnabled&&!e.initialLoaderAnimation&&(e.initialLoaderAnimation=!0)})),this.structureDetailViewService.init(this.elementRef)},n.prototype.ngAfterViewInit=function(){var t=this,e=this.elementRef.nativeElement.offsetWidth;e>0?this.compositionCommandDispatcher.setContainerWidth(e):o.timer(0).pipe(this.takeUntil()).subscribe((function(){(e=t.elementRef.nativeElement.offsetWidth)>0&&t.compositionCommandDispatcher.setContainerWidth(e)})),this.schemaStylesManager.init(this.elementRef,this.schemaReadModelRootId),this.compositionReadModelService.onWidth().pipe(this.takeUntil()).subscribe((function(e){t.renderer.setStyle(t.elementRef.nativeElement,"width",e+"px")}))},n.prototype.isBorderEnabled=function(){return this.structureDefinition.isBorderEnabled()},n.prototype.getStructureId=function(){return this.structureId},n.prototype.getElementRef=function(){return this.elementRef},n.decorators=[{type:e.Component,args:[{selector:"gui-structure",template:'<gui-structure-blueprint></gui-structure-blueprint>\n\n\x3c!---------- LOADING ----------\x3e\n<div [ngClass]="{\'gui-loader-visible\': loaderEnabled, \'gui-loader-hidden\': !loaderEnabled && initialLoaderAnimation}"\n\t class="gui-loading">\n\t<gui-spinner *ngIf="circleLoaderEnabled"\n\t\t\t\t [diameter]="120"\n\t\t\t\t [primary]="true">\n\t</gui-spinner>\n</div>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,host:{"[class.gui-structure]":'"true"',"[class.gui-structure-border]":"isBorderEnabled()","[id]":"structureId.toString()"},providers:f(Do,[{provide:Nn,useExisting:n},{provide:Kr,useExisting:n}]),styles:[".gui-bold{font-weight:700}.gui-italic{font-style:italic}.gui-bar-view{width:100%}.gui-view-text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.gui-percentage-bar{position:relative;color:#0747a6;background:#deebff;padding:4px;border-radius:4px;box-shadow:inset 1px 1px 2px 0 #ccc;text-align:center;height:22px;width:100%}.gui-percentage-bar .gui-percentage{position:absolute;border-radius:4px;height:22px;background:#8abcfc;left:0;top:0}.gui-percentage-bar .gui-percentage-view{color:#031d44;position:relative;width:100%}.gui-clear-search-icon{position:absolute;cursor:pointer;right:8px;top:8px;width:16px;height:16px}.gui-clear-search-icon::after,.gui-clear-search-icon::before{position:absolute;left:7px;content:' ';height:16px;width:2px;background-color:#aaa;border-radius:8px}.gui-clear-search-icon::before{-ms-transform:rotate(45deg);transform:rotate(45deg)}.gui-clear-search-icon::after{-ms-transform:rotate(-45deg);transform:rotate(-45deg)}.gui-clear-search-icon:hover::after,.gui-clear-search-icon:hover::before{background-color:#464646}",".gui-structure,.gui-structure *{border-color:#d6d6d6;font-size:14px}.gui-structure input{color:#333;font-family:Arial;font-size:13px}.gui-header{background:#f2f3f4;border-bottom:1px solid;border-color:inherit;height:36px}.gui-header .gui-header-cell{box-sizing:border-box;line-height:1em;overflow:hidden;padding:0 8px;position:relative;white-space:nowrap;text-overflow:ellipsis;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.gui-header .gui-header-cell.gui-header-sortable{cursor:pointer}.gui-header .gui-header-cell.gui-header-sortable:hover{background:#e6e7e8}.gui-header .gui-header-cell .gui-header-menu-icon{display:none}.gui-header .gui-header-cell:hover .gui-header-menu{cursor:pointer}.gui-header .gui-header-cell:hover .gui-header-menu .gui-header-menu-icon-wrapper .gui-header-menu-icon{display:block}.gui-header .gui-header-cell:last-of-type{border-right:0}.gui-header .gui-header-cell .gui-header-title{display:-ms-flexbox;display:flex;line-height:1.4em}.gui-header .gui-header-cell .gui-header-title .gui-sort{display:none;height:14px;width:14px;margin-left:4px}.gui-header .gui-header-cell .gui-header-title .gui-sort-asc{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGIAAAB2CAYAAAAz4kaDAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAABNRSURBVHhe7V1pU1vHmkYSixEIBAIhME6cXNshjjMkNuBNeMM2U6lUJeOKwfg6W5UrqeRLPuQHJPk2n6Y8+ZaUZ7I5cYwXbEySe+/Unbmp3MQbiM3YGBtvxAVml1iEEJLmeVqniSyD8ILhKDmP3Zw+3X16eZ9+3377nCMpRoMGDSHQKceoQiAQ0H366aexra2tsXogOTk5gGT/M8884y0rK/MFS0UXDMoxKkACcIh1OBxmg8FQ0tzSsmfM43llYHDwhe6engJLZuaC7Vu3dq9Zs2b8xx9/JDlRg6jRCEULUsbHx9ecra3dqDfoV46NjT3r9Y4nMT8uNs6dEJ9wXqfXnytcverv1nTrGWjHsLg4ChAVRJCEzz//PNXj86w/c+pcxcjo8GZdjC4FWUYEPcvodDoUC7gRXEZj0v+tt9sPZKan//Tyyy8PMV/tUL1pIgn79u1L9UxM2FtaLpSPDA9tHRvzZMXGxibAPOl8Ph/LxOCcTMR5vd4kvU5n6+3rNRoTE4d27NjRVV1dPa5Up1qonojc5bnp/nH/+ubmpor+vr5tMPxWLtBAjN/vF2WgDYIMHhGo5caR4eGcgYGB5GxbtrO8vPx2VVWVRxRWKYRaqxVff/112lDX6PrGhuayIdfQFsg4EwLXQxOE4EmEIvwYqRnMQ7oOGmJxulxbz9Wdq3C5XMXHjx83KdWqEqrViC+++MLS09Oz/uKFC7uGXK5tAX/AajBADaASYs4LnwhaoCxz/DsZRBmBRI/Hk9Pf1w8PN9n5xhtvdB8+fFiVmqFKjaAmDA4Ormtvb38Fs3kTkjKFLYKAYf8FCRS4XqefFH4wruRNltHpkG4ZGRkpaWpq2tXf329Xq2aoTiOOHTtm6ejoWHf58uUKCK4EZsYmSHhw6FCHEYt4Tm9vrykpKclZUVGhujVDVUSQhJs3b66FJuyE0Eows20IUALO+QcHrqdHZYSZskHDEq1Wqwt7DFWRoRoiSMKlS5fW3bhx45W+vr4tSMpBoAxF/sNA8ahYkdHtdlvhTRnNZvOQmjRDFUSQBGjBuuvXr5dDE+gd5XKPQK9IEaJS8sHAOhi418BpMsjIdjqdprS0NNWYqXlfrLkwkwSYpB1YoLkwL2S6JODhlocgWAfrIrEAojoriNiCBbx8eHjYXllZmSwKziPmVSOoCbdu3Vrf1tbGhVmYI0qJJFBoFB7DbIH1Ekq9SdAMG8xgCjXj9ddfn1fXdt6IoCaQhCtwUWGzS5CUjQD5/Cb8UDKkECVkmiwr46FHQsZZl9QMQimXPD4+boMmJprMJteOl+fvdsi8mKZDhw6l3+7ttV9sa63AmrANAqF3RCglggKUZkkKNRShZQmey7TQ8jLOHXcoZHmEjEHnYKnDUb/HG/AWw0ylKkXmFHOuEdSEXzs77dfgokITtkB0NopDyb4DUrDhs5lHCphpUtCMh2qQDDJfnk8FFEmamJjIcg66EhOTkly752EBn1MiqAmd3Z321gsXdg04B7YE/AEbRBRxn0ABM/BeEmc1A+NSyJIgkkAwDd6RiLNcXFzctARIkCp/wG8cc49m9w/0J1vS0uf8dsicEfHZZ5+Z4anYWy5c2Ol0urZCcFkQKsWolJgaoTMau+NJLQgVbnic+ZjhghASFF4+HMzjdEA5o2fMk+0aciZa0i3OV199tRNkzMmaMSdEkITR0dFiR0NDhWtwcItOrxckyFkcSUgS8fHxQrgsSwFTuCSFaayHmsI0HqXwExISJu/KRmrDj3zlWnRNbxwZdWf39vWaMi0ZzpdeemlOFvBHSgQGp1u8eLF52D1sb25uLseiuBVpVpLAgROUD+ajiE8FRYA+j8fjg5mhGRPurQTzZZAgQQgBXONlecSnb4AIdkKQwWsDfn8Sb4fATBmt2Tmuf5sDMh4ZESRBecZcXFvrKB8aGirBIMVDnTs1IRINYqH2QgP6oBE9mP18Pm1AGuUr8qkBFJ6sUzmi+cCY0WjsYARYQD5EgWkg6+P1rA/niWPYZ3R3305alLvIVQoz9f0jNFOPhAgMXDxjJgmOekfFqHu0BLPMCpGjPZgJzjqaAz9NBi8IXieFwTwFXgjlitlsrsnLy7vY1dVFN5dvcEySyaOME8pC7cd1159//vkTME03R0ZG0pGWgnqFY8D65VEAzdI8ESQBGUxEasA4MeHL7u7pTl6ckeksfbUUZHz/SMiYdSIwOKEJmL322traiuHhkW26QEwGxiXakvOfw5RxKUhJBI9I80LgHbDzB5KSkv7d5XL1YZ3hxi8LQcxulgsPCihJXruvsLDQgV17LMhYiL6loIwoxAOJkKSE/pvsGQ74bxz3jOfcvn3buDhzsetRLeCzuqELIWFDfX39brfbXYIBWZBlCA4vCDlUIQAEmhceQ2a2F+vB9bS0tJObNm36n3379jlBghv5kwXkteFBAn0J9PT0jGHXXLt69eqD6enpx6klSKZdE23xKNsOvf63fooY/6RjLNvq6ur2wPPb8CjuTc0aEZIEDKb43Llz5ejwVhDCZ8wRtQ75k/sCCgVxLrA3MzMza9asWVMJTajH+aStul+8/fbb3uHh4Xq73X4wKyvrBOsGCT6aMLZJQtiHGcC3RTJAaumpU6f2oL4NX375pXifarYwK0SQhI8//tiEgRWfPXu2AmaA3pEFgjVwsJFAISiLI+NcmK9lZGTU5OfnH4FpqX/vvfceelNFMqAdDUVFRd+CYJJxg2TIvs1EBMuhj/TW0jAxtpEMeFUbZ1MzHpoIdE534MABPoIsPn36dAW8o20QZgY6b5A+fCRIEqA9Ezi9illbg0W2EmmO8vJyd7DUw4OEwtw1rF279mB2dvZxJF1Hk1zUgwt0BHAMiinToQ4LyNguNWO2yHgoIkgCzRGEvwEk7EbHSpCWThKkDZ4JimmYiI2Lu2q1WqtBwhGQWv/mm2+OKUVmDWVlZePUDJi8b0F4FQi4jvYJpcT04FhYTmoGJxzJmK0144GJIAl0UTHruSbQHG1DJ4UmcHJzlrHzM5GBfG7UrmTbbCdXrlx5BIOtn01NCAc1A8ITmpGbm3scbbcjOSITchwMvM2CI4anTwcZpT///POskPFAREhNgCdhh3e0i24lCKGvHnRR0WFplmQIRcj5BMpeweysXr58+VGkNz0KTQgH1wwI8vxzzz1HzaA3dRVt30WG7DsDtUHRCJFHMjBG89jY2NYzZ878GS7yxv379z/wqzr3TQQ69ZsmOGrFmoBOCU1QiggiZIcJDkAOSAJxH8pcXrhw4clly5YdMZlMDXNBggTNFJyBxhUrVnyLPhxHn0kGIfLlkX0nwsdE4Jy3aizUjLPnzv4Z2lL8oGTcFxFoVJCABu3NLc1l7lE3H28G9wnoKBF6lIFuqRyYAvry7Tk5OTVLly49hvOWR2mOpgPJQD8uoA9HuICjj9dwHmCfCfZ5yn1GyBFBj5GljYyObq1vatwd0Osf6PXOeyZCksAbeGdra8sGB50lEz7fPe8T5IAww3yIt8M+f/f4449XYaPVDFMxqhSfc1ALsXFsgrt8GBOjGknX0V9BBjVAakQkgBaaKYtzcHDb6VM/777V1bXhfsm4ZyKwGKVxTWhqPF8xMNC/HQuyzaDXU7pKibtBEhg4IAwsgEFxVFdhCk4sWbLkcHx8fKMaPkxCbcSC21hYWMgF/Bj6yh14gJOHYLc5julA0lCWZioTE7TU4ajd09Xbu+Grr77iZzjuCfdEBB9vdnV1rW9obChzuZxb0GgmGhe3sqenIdhBxa4GFJ+9/bHHHqt54oknjs63JoSD3tT4+HgT9zCcKEi6BhMMSxPcZ3As0wHTTRCFMuItdJfTtfXc2TMVrpF7fwt9RiL4VnZvb6/9QuuFXf0DA9vRoBWNTT5PkMepwDzMJhZANEASjj/55JOVILJJDZoQDpopjLVx1apVB0FGFZKuseMzmyeQhFGyHMZG35ZmSryQcKvrFl3bGV9IiEgENaG7r3vdxUsXXxl0ujaB8Ewk0x6KGSLDdEAeba0fnbuC9eC7RYsWVWVkZJxXkyaEQ2oGyKBmnOQtF3KBoJS4G5SATh+URfAGAe/06y3DQ8Ml9XUNu7p6emZ8C31aIvjyFz+fcOXylV39ff3b/D7f5FvZ7JToWITOKeBUugxNOEFNSE1NVaUmhIOawdshBQUF39hstmMYdsRNn6LyQZkocZDCHXiGa8hV2thIzeiKuGZMSURNTU3a1atX17a1te0cHHBuRp185UV8PkGwr6gi2+UDFR9VVyTxXzANR6rNFWjBSd5OwMLc8tprr42IBqIAdG2pGc8+++xhW7atWm/QX/PTSAXHNjlWn195Jh5MFLKR8sFf2ouMEWhGQ13drkivd05JxC+//PKn9vb2sr6+vu2oSLx3pKcZQp7STIx4/0KYJpEoyGBfqKI4n0A3Ly/MzT2BhfmwxWJp2rt3b1R8ujMU1Ax6U0WFRQezbFnHMNh2jM/HMXKsIEY8bRQCgSDkOym/BfGPhTNQz7/W1tbuvnz58pPIugt3EXH06FGrx+PJHxgYKICg+TSMdU4JkSHI+G3XiTkzEWswXM222b7709InxJoQTZoQDuWubXPhqsIjVmvWSZAgbqEzj2NWzND0QgpCh3WSn1wqwC58TVVVlVlJn8RdRDgcjryxsTF+Uke8ixpMnRrsBD0FHtEQj150qR2qfCL/X/IPWVItjfOxY55t0Ezx4dIGu/0bTDDeCYCZCnBjKvKlDCKB+XBysvkpqJaWljwleRJ3EFFdXZ2BBXo5XLh8nKbOVDlpCpon4S14Yw2x17Js1u+WP5tfhbTm3wMJErxRiENzwcqCwzZbVjW0gTtw3i8T459JJSBLelImEJEPk78yfOG+g4jz588vTUhIKEbFNvrDMxKB1tkJlPNiTbiJteCHgtUFR529vXN6A2+uQM2gN7WmaE1lljWzxu/z/4qxK0/6IjNBWZI0uMNZsDjFmPDLlCyBO4i4ePGiFdrwDC5Ko7oFG4iAoLp54RFdz7BkVhcVFlb6xnyO999//3ejCeEgGbDzDpDxTabVWoUJexOOCl0npcTUoCwhK05uM7RieV1dHT+aNok7iLBarU4wNoDCvCs5ea9lOqBpb2xcbEd6uuV7+7p1h9GQ4/eoCeGgmaJmYMzfWq2Z1XBOOiDpiF9PRFkyQEZuo9HYk52dfcem9g4iNm/e3Ird5D8Q7eQ5LhIqRfAYFrxwaW+YzeYTBUUrD0GT/hAkSEjNKCoo+ibNbD4O23ETyT7KhpByknFFlpzcnfAk/1FUVNQmMhXcQcSLL77YNTo6+k+w3QrT5JamKaxSLlrUnBtpaWk1xRvshwd7Bx1080SBPxCoGfSmijcXf5uenl4Ned1A8hBkJLQjVG6UJeLDCxYsuAQZn9m5c2eHyFBwBxHE9u3bW7CbrISgT+HCfiR5uF5goeGbd06QdD0xMfFvUK//3rhx46Hert4/JAkSJGOof8hht9sPpKSkfELZkBAEF+SF5UPc9OTLcb1YS0/l5eUdQdlW5AcZUnAXEdSKFStW/IDwXxD2MQi+BST0wZu6CXL+npqa+vkLL7zwcU5Ozn8i/dwfmQQJklFRUVFns9k+Li0t/Q9Yiv0Q+v9CXjdBRj/izZDf0aeffvrAsmXL/tba2npLuXQS07pFn3zySRwqyenq6tqIDcgzcE0HwORPHR0dDWB+XPGr5wx79+5dBZv8CWbScziN7EUEbXWDyWR6e//+/XVK2pzggw8+0EM+Cbm5uc/99NNPdnhImZjUF7Oysn5saGi4BRPm/eijj+66gTiDfxokhF9iiMqpShOoRNznnWtECxESJAQkxEEr9HwoNh0BEjMSoRZEGxH3i7vWCA3zA40IlUAjQiXQiFAJNCJUAo0IlUAjQiXQiFAJNCJUAo0IlUAjQiXQiFAJNCJUAo0IlUAjQiXQiFAJNCJUAo0IlUAjQiXQiFAJNCJUAo0IlUAjQiXQiFAJNCJUAo0IlUAjQiXQiFAJNCJUAo0IlUAjQiXQiFAJNCJUAo0IlUAjQiXQiFAJNCJUAo0IlUAjQiXQiFAJNCJUAo0IlUAjQiXQiFAJoo6IQMi3gk2FSHlqxu9SI6KRDM00qQQaESqBRoRKoBGhEmhEqATRRwS/hRCBfhF/SEN+K6GIRzGihgifwTAR0Os8IIC/vAQiAjF6/mYF8gIgg3H+pgvjMXodf12DX48d8fu61YSoIcJiMg2nmlLa9Ho9f51F/CRZbGys2DOExcnNkNmc2paSkqLaX/cKR9QQkZeX15331FN/hbDbDQaDPy4uLsbtdovfZMC5iJMMBGrBlaVP5f11yZIlPcGr1Y+oIYI/FuVyuX5JTk6qx6zvxvQfhdD5i4/it99IDkgahjp0m1JMjZ2//nr2nXfeGVQuVz1m+iJbVeHdd98dTzGlODu7bg/FGsTMT4Lw+Ysmnvi4+IG4hPhav8//l8KVq35YvHhxW35+ftR8b7nic0QP+FXPZrM5Bdpg/+X06XVer4e/DBYTHx/fvXad/dS42/1PaI7rww8/JEFcL6ICUUeERGVlpaGlpSWus7NTbzKZdDBXfqwjE2+99RZ/NT5qCNCgQcPdiIn5f8mUtwsfGiECAAAAAElFTkSuQmCC) center/contain no-repeat;display:block}.gui-header .gui-header-cell .gui-header-title .gui-sort-desc{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGIAAAB2CAYAAAAz4kaDAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAABPcSURBVHhe7V1pU1TXuqa7aQSaHpjBaxRkEKMCMikeoyeVm9ycqAhGcIia5GYwX/IhvyDmD+RDqu6HpJJKVeJ1wFQqZSVVVxETacQBxOiJlibxRBOFpqFpukGGHu/zrN6b0yg0RgF3m/2QlbV7DXuv9T7rHdbe2+4YFSpUhEEj5VGFYDCo+eSTT2KvXbsWq9PptG63O5idnR1YtmyZt6GhwS81iyropDwqQAKQxV68eNESo9M9d/3na7sc/Y6tI6MjLw243BWpKSnxzz//vH316tWeU6dOBUO9ogNRpRH79+83OZ3O6razZ9fPmxdX5vN4V3h8XgPrdLHaEb0u7ieQ1bGqqupERkZGG7RjRHSMAkSNRlAbvvzyy/m37tzaOzbmqff7fAU+vz85EAgkoC5eE6MxBHz+bJ/fWwSy4kdHRzugFS6pu+IRNURkZmYmxxsM63779V91Go0mHyne5/Np9Hp9jFarjeFxrD5Wj/LEMa9Hk7c47w9oxK2jR496pFMoGlFDxJIlSxbaurpeG/WMrfH7/YnUkPj4+Biv1yvqeezxeITmgBiDe3DIOzQ4eKGtrc0pGigcWilXPAYHBxMHXK5CHBohaCx8DbVAaEP4MaCBuTIMuF2FDrc7iQXRgKghAitdh//FxwSCGg3iIYg/JuD3x/CYEYc4xh8o4meNNhCcp/X7Y0O9lY+oIWIyaDXS8EkMjkUIyKA1qgLXEKKaiCcJKhEKgUqEQqASoRCoRCgEUUcE9wxPIqJSIyKRwbpoJEs1TQqBSoRCoBKhEKhEKAQqEQqBSoRCoBKhEKhEKAQqEQqBSoRCoBKhEKhEKAQqEQqBSoRCoBKhEKhEKAQqEQqBSoRCoBKhEKhEKAQqEQqBSoRCoBKhEKhEKAQqEQqBSoRCoBKhEKhEKAQqEQqBSoRCoBKhEKhEKAQqEQqBSoRCoBKhEKhEKAQqEQqBSoRCoBKhEKhEKAQqEQqBSoRCoBKhEKhEKAQRvz3k/fff1/b39+tjY2O1Pp8vkJKS4v3ggw8CUvWc4s033ywfHBz8WKPRlOLjdF+T6g8Ggz8ajca9n3766QWpbE4B2fGLHWPdbremqKjIt3fv3tD3ok6BSSdEAoqLi+P4XauY+KabN2/Wz5s3b0VlZWWgurrasXr16sBcf/d2WVnZfI/HswnjycLH6TSZY7NhzN92dnZ2h4rmBh9//LF+/fr1Cfn5+RXXrl3b1tvb+4+kpKTMnTt3DmzYsGH422+/nXQh36cREgnzr1+//uzVq1f/homvHBsby8Ok3Ki+hJOeX7du3SlcpHPfvn1jqJ8TQpSuEY2NjborV67MW7ZsWRkW6TqMtRxjLRkZGbHExcXd0uv1nYWFhSch2+9BiE3qNo77JvTOO+8suHHjxgsgYSdW4HOBQGABJmVElcnv9y8YHR0tunXrVi7IWTA0NDT2wgsv9E7F8kxCyRrx0UcfzUtMTCy/fPnydizg2uHh4RchtxUw52nIkyC/FK/Xm2+327O1Wu3Ie++9Zztw4MCQ1F1gwoTQQdPa2lqE1b4VHavRKQ3FCfzmYZCgQ70JaRFYfsHlcu21Wq27TKmmMqpj6Ax/PZCE1KxUasE2EPDflA1klwN5mUGCXvp25nlYQCkoqwZZDceOHVsmOodhAhFHjhx5Csyuwqpfgo5kUpTjePxbwZBTi4wkBI68pqW5ZTvM1cq/IhkkwZxqLrO2WOudTudGaMAiFJshIyGLcLlRliAlASQVQcZrv/vuO2r2OCYQcf78+UI4l7+DuWycQKPT6cIJmHAM6EDTQqdroLa9o32nyWQqg52MEw3+Avj888/jU1NTyy60X9w24HRtDmBhQi78tv5xWUlyEjllKSH7zp07fz958mSR9FlgAhE2my0RqpWOTgkgI4YpIoJBnc/vf8pmt9e0tLVtB9ulfwXNIAkI6cusZ87UO/r7XvJ5fU9B5BHnTVlCK8CJJg6ak4wFb5aqBCYQAYfYhb3CVXQYABnIpgmIyLRWqwv4/Qv7enrqzrWfe+I148MPP0yIjY8tO9fe3uDos9d4xjw5kJWesogEyTRRO5zQpCvYW9ilKoEJRGRkZPwcHx9vhZPpQRpXrakRFBdAO51Wp11g67FvPHPuTAM140kkg5pgTk0tbT/X/rKjr+8fMD7cZ+lDCzbyoqUsoRVc3DbIx7p8+fJfpCqBCUTs2rXLDbY6kS6BiEF0jnx21HIQJA2rQoc8x2brqblw8UI9alc8SWYKCysB2Yqr/7xc19PTu8Hn9+XCPAkSBBGRJSUvald6evqltLS0qzU1NX2iQsIEIghsSK4lJyc34yLdUucpwXopPBM2UBuKqHK7uru3tLS27mQ09SRoBknoc/WV/Pjjj9u6u7o3B4OBPMxdzznLMphOVkAQ7bphcZrLy8uvSWXjuI+Iurq6AexIzyLE6sCFHCiakmtWcDVwENQKAhfTBQPBRT32nk0dnR3cj6xgmCcqoxBffPGFAY51+Y2ff6vr6rFt8AX8izFH8QMhnHNIG6AVovWUQLNgDxZ4BzaZl7Zs2TLBPxD3EUEUFBT8q7Ky8oDFYvm/GE1MX0j5QheTk5+Cl1QyiGP5hzRAApNOEwzm2bptWxAS74ADL6F9RXVU4bPPPjM6HI7i3377rb7r9u3NmGEB5hvLOXKuCFRC8xcpKGRC2ciyQkjLoyAkZYO5P56fn99YXV19g+e+F5MS0dDQMASz0lpaXn7IYDQ046QgA+fE1UMXwSceI1Eb4KnFwOC8RM6flwEx2oA/kIuQuOann36qj4uLK44mM0VNGBsbW9aDaPCPP/7YBEHnY2466adzQjOFGEiGKAsVytKRjwP4s6UkW74vLCw8kpube2bjxo2T/vjUpEQQdNzzMzNbSkrL95tM5mMQeB/1S7aFzEUSn6aEFuqb1w2f0dHRsZPRVDRoBhZMktvtpiY0/P7775tRVIA0pawEZHlI8sG8A1qdzpaaltqUV5B3CE76NEwSTf2kiHjy2traway0tNay8tJDSdAMnFv4DDjykLGiGQo1nRTSwPgsI7erq2tTZ2dnAzVDyT4DkV5iX1/fchBQd/PmzQ3wk/mYq5ZrUGpyH4QspITgkUUBBKq9yWbzD0uLln6VkZrR9sorr0T8GbbILAMwU675mfNb4On3m5Mtx0gG42ERLYmhRaICFwhFFHAZwdzbt2/XXbhwYQfspSJ9BjUBc5M1oRbDzkMxf9eOUwg1mgRyHXMsugBye5ol+fjTS58+hLm2vvrqq1NqgoxpiSCoGSaDyVpVueqgyWw84fX5HBCsMFORjBNXCIgTSa/Xs2HunTt3NiMMVJxmUBP6+/tXgISXoQkbMeY8PplEFX/XTsxlKrCGskCbgM/v7TWaLSdXrlzZmJWVdXo6TZDxQEQQ9BmZaWnQjKr9yRbzMVy5F6sHgcHUA+TghOYAaMvP1IwcOL8t7e3tIppijC4aPEZQE+C/Sm7cuFHPhYJhMkQV5ogkcB5MUwIyQMTkB3G21OS046Ulyw9iv9BaX1//wL8K+cBEENQMOvDVa9YeSDZbmmAPHaBh2odCJENeVejDGeXAgddcvnyZt4+LH6eZkjUBWsDoiD4hD+PljTaxeGjzI5IAoN4fq9X1Wizm5sqKikZDvKH1tddec6E8st0Ow58igiAZCIWsK0tLDxgSEk9Auk4MelwzwnM5SdoQXi7MFBx47S+//LIVn59+HKEttRHjWvbrr79uwcLYiHHQJ4zLhGPm2KUxi0Tck/MWtSPBEH+yeHlxI0zwnyaB+NNEEG+88cYgLmhdtWrV/8K8MLR1YMVP0IxwuyqbJ5kM5kg0U4vhwGuvXLmy3ePx0EzNGRnUwsHBwdLr169vhTnaBIEXYEjjDw2kMY6PnQifE4Fj3sXrMxqNTVXlVQfR1vowJBAPRQRBMrBlP0UysG0/ARUewKAEGRwwJ8AkT4jpXqCM+4zF2PTVwoFvx/HyubhRSBJw7eKrV6++jA1bDa6bj2Jx2+LeccpjZ6KZCiPCj8/9iYmJzWVlZYfoE95++2032v1pEoiHJoLgDtxsNresXbt2P1YFQ9t+ksHfmOaA5TQNtHCUebDPtW1tbTtwvtLZjKZojrBAVl68eHFrV3f3Jlyb+4RxTZgM8jy4wKQ9FHxzoM9gMDRVVT2aJsh4JCIImYw1a9aQjCYUOTFIsc94ABJkzaFm5Njt9rqzZ89uxy50Vp5nUBOGhoYECbhWjc/rXQzhxXIM04FzkebkR59+kNC8evXqA5hzy6NogoxHJoIgGRhYS3V19X6QchyrTOwzOHAMUGo1ObjKpJXGsTCaqj1z5swO3g6ZSc2gJmBIZdzDwBzRMS/GNWORi+tHAucgmSU/NmzCJ2CuB4eHh63YJ0z/3OYBMCNEECQDvuIUNQMOvAmDE5rBiUaCTBTbgTiGjYuwWjefP39eaMZM+AwSOjY2tvLSpUtbe3t7+bZFLq4rHuqQBHkMU4Ht4MypCQ4suBM0RyizvvvuuzNCAjFjRBB79uy5K2uGxWI5hlXEp1ARB0ohSCov/0o7yViIVbvZarXueNRXdXAuDVbwSmhZA0nguTEu8VCH1+RKn44I1NMxY59gOVFZWXkY/awzYY7CEdFJPQyOHDni2b17d3dKSooLZsaAsPQ/MOAEuDtMVxO6HYBEIciQTYNMCNpzR2seHR2d73K5YgsLC51ut1s/MDDwEpqJN/3C+4cDXZnRLNopuOPHj7sRou6Ab9gGohehXJDKdjzHBI0QGUf579WDYz9G50iCJlRUVAjHPNMkEDNOBEEyXtz9YndORo7b7rAbPF5vFiadGJoxxo8s9NAkJJDwREg5Mo3x7t272dj5JmdlZS0CscUoT0E5nTvb3AeSCfDUw0uWLNE5HI7/xH6hBtcX5oiV0vkFxDH+Gx+PlnXiCEQF/BqttteYlNQMEg7B9J5G2D7jJBD/HtEs4H8aG5PiXK51p8+e3jk8OPy8RqdNR/HE+zeYUqRBQIB+CLcfIfEANGQB+sSjP++IinqaFoKmhuC5UYduQU9cXNxtfE6CJqSgbErzJqTKoZAMJOnc4CbQk2AwNq+uqDiMslnRBBmzSgTBx43eQOCZixc6dvY7nf+FojTG4rLgaAimGwSEGUB7H8jgm3TckQuBkUgKnjmTXCYhiMjLx2gMZZH3CeIPY5HOA+J4K7s3xZLctKJ0xeGHuXf0ZzGjznoyiNshWE0V5RUHeAsdM+mVV50s0EiQBK3FDpZvyAltklasEBo/k1QeE/J52RZ9qAXiBl4ksJpteA7kAQTdPUaTma/Qixt4r7/++sBskkDMio+4F0ePHhUOPD013TXgdCbC7s/HhMVb5pi01CoyKHAmmiLmMvhZFj4ht5GjIpkgOZ8MrKNvQB/xUMeSYjmxsrj0MIi0kgSp2axi1jVChrQDP11SXMKHS01YX70QGm/bSi0mB4UsC5a3TngsC13O7xUy+8A/CFJYx8+RwDGgbUCr09pMScaTRUuLjvAZ81yRQMyJRshANDW2Y8eOHnNKqmtwaCjB4xmjZhgirVYKk4kEEOGrnAJmHctkrZDL5HoSSES6BpSSHXvS0zKa8wsLG7PTM1sxzgd+qDMTmFMiiK+//nrs9VdftVuSTa7evl6j1+PJhGEwSNXjCBf4ZEKUBc86pnAywhHed7LzAPAKQZs52fRDYdHSwwvnzz891yQQc04EQc2oq62zZWRluFxOVwI3bihOZF24sLiyZUHLCD8OJ2sqyPX3nksiDFnQlpaR0bQkv7AxMz19zjVBRuRZzDIaGxvN2Kz9rb29fTc2Xc9iRWeynEKShTydoB8Uk5wTH4NdJpOpZenSpQdzcnLaIr13NNt4LBohg5qxZ88ecTvE6XQmjIyMZKNY+AyZgJkigpD9DLUDpHfBITctXrz4SHZ2duu2bdv6ReVjwpxFTVOB0ZR4vbO09LDFYjmJVcoXdMefZ8iO91HAc8jaIOEOIrgfFi5c+HVeXt60L3/NBR6rRsigA2c0lZyc7BoYGIiHZmRAcEkgQ0juUbVC7o9z8l2s29CEZpBwpKCg4LGao3AogghCJiMjI8MNM2UAGcKBQ3CPbJskbSAPNpKQn5//FUzSGaWQQCiGCIJkwFZTMwYdDofR5/Nlwaw8Mhk4RwDa1QNf9D1M0WE4ZkWRQDzyapsNfPPNN8aenp51nZ2d210ul7hRiPRQY4UW0MlQE04UFhZ+xXdRleAT7sVjd9aTgS+xQStaS0pKDvEhfSAYcDD4JBU0MyLHH8rFXVMm+Zh14rYJc3rpmJheo9H4A0zRV3DQinDMk0FRpikcDG3feustG4TocjgdCSPY9Gm02gQIefxZBOUsjiWCeOOOVkyQwruoOq3dZDI3Pb1ihdis7d69+7GGqJGgSI2QId5CN5msVRVVB81Gk3gLHYIPyre95RuATCSEZVKd+PcJRnPSyZKVxY2mrMQHfiv7cUHRRBB8Cz02Nlb8+4z01LRjOo22D04csg89+JeJkI+9Xm8AbeyZmRnHly8vPegd9ba+Uf+GokkgoNTRATrwXqfzmVarddfI8N1nYYRMMEV8V0meA/3BMGhxJyYmfV9dXXUwThd3erafrM0UooYIorGxMcneb1/Vfu7Cc8FAoHLMM7bc6/OKf1+h18fdTYiP/6ffH+isqqg4FRcXd3Y2nzHPNKKKCILfsGaxWEz6+Pi1rS0ta/R6vbhR6PF67eufeebM6OhoK0Je9759+/hCWFSQQEQdETKgHfzqNj6T1t69e5df7BXglxhCC3zRRIAKFSruR0zM/wMYBpbiISU/xQAAAABJRU5ErkJggg==) center/contain no-repeat;display:block}.gui-header .gui-header-cell .gui-header-menu{display:-ms-flexbox;display:flex}.gui-header .gui-header-cell .gui-header-menu .gui-header-menu-icon-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;position:relative;right:0;padding:16px;height:16px;width:16px}.gui-header .gui-header-cell .gui-header-menu .gui-header-menu-icon-wrapper .gui-header-menu-icon{display:none;height:16px;width:16px}.gui-header-bottom .gui-header{border-bottom:0;border-top:1px solid;border-color:inherit}gui-structure{background:#fff;box-sizing:border-box;border-color:#d6d6d6;color:#333;display:block;font-family:Arial;font-size:14px;position:relative}gui-structure *{box-sizing:border-box}gui-structure gui-structure-header{display:block;height:100%;width:100%}gui-structure gui-structure-header gui-structure-header-filters.gui-header{height:32px}gui-structure gui-structure-header gui-structure-header-filters.gui-header .gui-header-cell{padding:4px}gui-structure gui-structure-header gui-structure-header-filters.gui-header .gui-header-cell input{position:relative;box-sizing:border-box;font-size:13px;padding:2px;height:100%;width:100%;border:1px solid #d6d6d6}gui-structure-top-panel{display:block;padding:8px;border-bottom-width:1px;border-bottom-style:solid}gui-structure-container{display:block;height:100%;overflow:auto;overflow-x:hidden;position:relative;width:100%}gui-structure-container .gui-structure-container{box-sizing:border-box;height:100%;position:absolute;width:100%}gui-structure-container .gui-structure-container .gui-content{height:100%;position:relative}gui-structure-container .gui-structure-container .gui-content .gui-row{border-bottom:1px solid transparent;position:absolute;width:100%}gui-structure-container .gui-structure-container .gui-content .gui-row:last-child{border-bottom:0}gui-structure-container .gui-structure-container .gui-content .gui-row:hover{background:#ecedee}gui-structure-container .gui-structure-container .gui-content .gui-row.selected{background:#d0e8fb}gui-structure-container .gui-structure-container .gui-content .gui-row .gui-cell{border-right:1px solid transparent;box-sizing:border-box;line-height:1em;overflow:hidden;padding:0;white-space:nowrap}gui-structure-container .gui-structure-container .gui-content .gui-row .gui-cell .gui-cell-view span{line-height:1.4em}gui-structure-container .gui-structure-container .gui-content .gui-row .gui-cell .gui-button{padding:0}gui-structure-container .gui-structure-container .gui-content .gui-row .gui-cell .gui-cell-boolean{-ms-flex-pack:center;justify-content:center}gui-structure-container .gui-structure-container .gui-content .gui-row .gui-cell .gui-checkbox{position:relative;line-height:24px}gui-structure-container .gui-structure-container .gui-content .gui-row .gui-cell .gui-checkbox input{position:relative}gui-structure-container .gui-structure-container .gui-content .gui-row .gui-cell .gui-chip{margin:0;padding:4px 8px;line-height:1em}gui-structure-container .gui-structure-container .gui-content .gui-row .gui-cell .gui-badge{padding:0}gui-structure-container .gui-structure-container .gui-content .gui-row .gui-cell .gui-input{background:0 0;font-size:14px;border-style:none;border-radius:0;padding:0}gui-structure-container .gui-cell{display:inline-block}gui-structure-container .gui-cell:last-child .gui-cell-view{padding-right:20px}gui-structure-container .gui-cell>span{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;padding:0 8px;height:100%;width:100%}gui-structure-container .gui-cell .gui-cell-edit-mode{border:2px solid #2185d0;height:100%;padding:6px}gui-structure-container .gui-cell .gui-cell-edit-mode gui-boolean-edit{margin-left:calc(50% - 11px)}gui-structure-container .gui-cell .gui-cell-edit-mode input:focus{outline:0;box-shadow:none}.gui-vertical-grid .gui-structure-summaries-cell,.gui-vertical-grid gui-structure-container .gui-content .gui-row .gui-cell,.gui-vertical-grid gui-structure-header .gui-header .gui-header-cell{border-right:1px solid;border-right-color:inherit}.gui-vertical-grid gui-structure-container .gui-content .gui-row .gui-cell:last-of-type,.gui-vertical-grid gui-structure-header .gui-header .gui-header-cell:last-of-type{border-right:0}.gui-vertical-grid .gui-row-checkbox{border-right:1px solid!important;border-right-color:inherit!important}.gui-horizontal-grid gui-structure-container .gui-content .gui-row{border-bottom:1px solid;border-bottom-color:inherit}.gui-horizontal-grid gui-structure-container .gui-content .gui-row:last-of-type{border-bottom:0}.gui-rows-even .gui-row.even,.gui-rows-odd .gui-row.odd{background:#f7f8f9}gui-structure-info-panel{-ms-flex-align:center;align-items:center;box-sizing:border-box;background:#f2f3f4;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;height:36px;padding:0 6px;width:100%;border-top:1px solid;border-top-color:inherit}gui-structure-info-panel p{margin:0}gui-structure-info-panel p b{font-weight:700}gui-structure-info-panel div button{background:#ccc;border-radius:50%;color:#fff;cursor:pointer;font-weight:700;font-family:Arial;width:16px;height:16px;line-height:14px;padding:0;border:1px solid transparent}gui-structure-info-panel div button:focus{outline:0;box-shadow:0 0 4px #ccc}.gui-structure-border{border:1px solid #d6d6d6}gui-structure-summaries-panel{background:#f2f3f4;display:-ms-flexbox;display:flex}gui-structure-summaries-panel.gui-structure-summaries-panel-bottom .gui-structure-summaries-cell{border-top:1px solid;border-color:inherit}gui-structure-summaries-panel.gui-structure-summaries-panel-top .gui-structure-summaries-cell{border-bottom:1px solid;border-color:inherit}gui-structure-summaries-panel .gui-structure-summaries-cell{font-size:14px;padding-right:16px;padding-left:16px}gui-structure-summaries-panel .gui-structure-summaries-cell:last-child{padding-right:20px}gui-structure-summaries-panel .gui-structure-summaries-value{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;line-height:1em;padding:8px 0;overflow:hidden}gui-structure-summaries-panel .gui-structure-summaries-value div .gui-math-symbol{position:relative;top:-1px}gui-structure-summaries-panel .gui-structure-summaries-value .gui-mean,gui-structure-summaries-panel .gui-structure-summaries-value .gui-median{position:relative;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}gui-structure-summaries-panel .gui-structure-summaries-value .gui-mean span:nth-child(1){position:absolute;top:-15px;left:1px}gui-structure-summaries-panel .gui-structure-summaries-value .gui-median span:nth-child(1){position:absolute;top:-8px;left:1px}@-webkit-keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@-webkit-keyframes fadeOut{from{opacity:1}to{opacity:0}}@keyframes fadeOut{from{opacity:1}to{opacity:0}}.gui-loading{-webkit-animation-duration:.2s;animation-duration:.2s;-ms-flex-line-pack:center;align-content:center;background:rgba(255,255,255,.8);border:1px solid;border-color:inherit;height:100%;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;left:0;opacity:0;position:absolute;top:0;width:100%;visibility:hidden}.gui-loading gui-spinner{-ms-flex-item-align:center;-ms-grid-row-align:center;align-self:center}.gui-loading.gui-loader-hidden{-webkit-animation-name:fadeOut;animation-name:fadeOut;opacity:0;visibility:visible;z-index:-1}.gui-loading.gui-loader-visible{-webkit-animation-name:fadeIn;animation-name:fadeIn;opacity:1;visibility:visible;z-index:1}gui-structure-column-manager{color:#333;display:block}gui-structure-column-manager>div:hover{background:#ecedee}gui-structure-column-manager label{margin-bottom:0}.gui-align-right{display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end;text-align:right;width:100%}.gui-align-left{text-align:left;width:100%}.gui-align-center{text-align:center;-ms-flex-pack:center;justify-content:center;width:100%}.gui-icon{cursor:pointer}.gui-icon svg{fill:#aaa;stroke:#aaa;transition:stroke .3s ease-in-out}.gui-icon svg:hover{fill:#464646!important;stroke:#464646!important}.gui-text-highlight{background:#fff799;padding:0!important}gui-function-view{height:100%;width:100%}gui-function-view div{height:100%;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.gui-title-panel{padding:8px;border-bottom:1px solid #d6d6d6}.gui-footer-panel{padding:8px;border-top:1px solid #d6d6d6}.gui-schema-manager-dialog{padding-right:16px}.gui-schema-manager-dialog .gui-schema-manager{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.gui-schema-manager-dialog .gui-schema-manager .gui-checkbox,.gui-schema-manager-dialog .gui-schema-manager .gui-structure-schema-manager-select{color:#333;margin-bottom:16px}.gui-schema-manager-dialog .gui-schema-manager .gui-checkbox:nth-last-child(1),.gui-schema-manager-dialog .gui-schema-manager .gui-structure-schema-manager-select:nth-last-child(1){margin-bottom:0}.gui-schema-manager-dialog .gui-schema-manager .gui-structure-schema-manager-select{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.gui-schema-manager-dialog .gui-schema-manager .gui-structure-schema-manager-select span{margin-bottom:4px}.gui-structure-schema-manager-icon{margin-right:16px}.gui-structure-schema-manager-icon svg{height:18px;width:18px;margin-bottom:-1px}.gui-row-checkbox{cursor:pointer;display:-ms-flexbox!important;display:flex!important;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;padding:0 12px!important;width:48px!important}.gui-row-checkbox .gui-checkbox{height:24px;width:24px;padding:0;margin:0}","gui-structure-column-manager ol{list-style:none;padding:0;margin:4px 0}gui-structure-column-manager ol li{cursor:pointer;padding:0}gui-structure-column-manager ol li:hover{background:#ecedee}.gui-structure-column-menu-icon svg{height:16px;width:16px}.gui-structure-column-menu-icon .cls-1{fill:none;stroke-linecap:round;stroke-linejoin:round;stroke-width:1.5px}.gui-structure-column-menu-arrow-icon{display:inline-block}.gui-structure-column-menu-arrow-icon svg{height:10px;width:12px}.gui-structure-column-menu-arrow-icon .gui-structure-column-menu-sort-icon svg{height:16px}.gui-structure-column-menu-arrow-icon .cls-1{fill:none;stroke-linecap:round;stroke-linejoin:round;stroke-width:1.5px}.gui-structure-dialog-column-manager .gui-dialog-title{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.gui-structure-dialog-column-manager ol{min-width:250px;max-height:400px;overflow:auto}.gui-structure-dialog-column-manager ol li{padding:8px}",".gui-summaries-value{font-weight:700}",".gui-structure-column-manager-icon svg{height:16px;width:16px}.gui-structure-column-manager-icon .cls-1,.gui-structure-column-manager-icon .cls-2{fill:none;stroke-linecap:round;stroke-linejoin:round}.gui-structure-column-manager-icon .cls-2{stroke-width:1.5px}.gui-structure-info-icon svg{height:16px;width:16px}.gui-structure-info-icon .cls-1{stroke-width:0}.gui-structure-info-icon .cls-2{fill:none;stroke-linecap:round;stroke-linejoin:round}gui-structure-info-panel div,gui-structure-info-panel div button{display:inline-block}gui-structure-info-panel .gui-right-section .gui-structure-column-manager-icon{margin-right:16px;position:relative}gui-structure-info-panel .gui-right-section .gui-structure-info-icon{margin-right:4px;position:relative}.gui-structure-info-modal{box-sizing:border-box;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding:0;font-size:16px;font-family:Arial;width:360px}.gui-structure-info-modal .gui-dialog-title{margin:0 0 8px}.gui-structure-info-modal .gui-quote{color:#575757;font-size:20px;font-style:italic;font-weight:lighter}.gui-structure-info-modal .gui-info-title{font-size:22px;margin-bottom:12px}.gui-structure-info-modal .gui-info-version{font-size:18px;margin-bottom:32px}.gui-structure-info-modal ul{list-style:none;margin:0;padding-left:10px}.gui-structure-info-modal ul li{line-height:24px}.gui-structure-info-modal p{font-weight:700;margin:0 0 8px;color:#333}.gui-structure-info-modal section{border-top:1px solid;border-color:inherit;padding:16px 0 8px;margin:0}.gui-structure-info-modal a{text-decoration:none;color:#2185d0;margin:0 0 8px}.gui-structure-info-modal a:hover{color:#59a9e5;text-decoration:underline}","@media (max-width:500px){.gui-paging .gui-paging-stats,.gui-paging>*{padding-left:4px}}",".gui-header{display:-ms-flexbox;display:flex}.gui-header .gui-header-cell{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex}.gui-content{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.gui-content .gui-row,.gui-content .gui-structure-cell-container{display:-ms-flexbox;display:flex}.gui-content .gui-row .gui-cell,.gui-content .gui-structure-cell-container .gui-cell{display:inline-block}.gui-content .gui-structure-row-details{background:#80cbc4;display:block;position:absolute;top:0;height:200px;width:100%}",".gui-inline-dialog-header-menu.gui-inline-dialog-wrapper .gui-inline-dialog-content{background:0 0;box-shadow:none}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-item-active{font-weight:700}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab .gui-tab-menu .gui-tab-menu-list{background:#fff}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab .gui-tab-menu .gui-tab-menu-item{color:#333}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab .gui-tab-menu .gui-tab-menu-item:hover{background:#ecedee}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab .gui-tab-menu .gui-tab-menu-item.gui-active{color:#2185d0}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab .gui-tab-content{padding:0;width:225px;box-sizing:content-box;box-shadow:0 3px 7px #ccc}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-column-move{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;padding:0;color:#333}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-item{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;cursor:pointer}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-item svg line{stroke:#aaa}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-item.left{width:48%;padding:12px 16px 12px 12px}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-item.right{width:52%;padding:12px 10px}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-item:hover{background:#ecedee}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-item:hover svg line{stroke:#464646}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-container{border:none;border-radius:0}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-container:hover{background:#ecedee}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-container:hover .gui-dropdown-arrow{opacity:1}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu{width:125px}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu .gui-item{display:-ms-flexbox;display:flex;color:#333;background:#fff;padding:8px 8px 8px 12px}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu .gui-item:hover{background:#ecedee}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu .gui-item:hover .gui-sort-title svg line{stroke:#464646}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu .gui-item .gui-sort-title{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;width:100%}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu .gui-item .gui-sort-title svg{margin-top:3px}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu .gui-item .gui-sort-title svg line{stroke:#aaa}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu .gui-header-item-active .gui-item .gui-sort{opacity:1}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-item{display:block;cursor:pointer;color:#333;padding:8px 12px}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-item:hover{background:#ecedee}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-checkbox{width:169px;margin-left:12px;padding:8px 12px 8px 32px;color:#333}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-checkbox label{display:inline-block;width:inherit}",".gui-cell .gui-checkbox{display:block}.gui-cell .gui-chip{margin:0;padding:2px 8px}.gui-cell .gui-input{font-size:11px;display:block;padding:2px 4px;width:86%}.gui-cell .gui-button{padding:2px 8px}.gui-cell .gui-cell-number{display:block;width:100%}.gui-cell .gui-cell-boolean{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;height:100%;text-align:center;width:100%}",".gui-fabric,.gui-fabric *{border-color:#d6d6d6;font-size:14px}.gui-fabric .gui-header-cell,.gui-fabric gui-paging,.gui-fabric gui-structure-header-columns,.gui-fabric gui-structure-info-panel,.gui-fabric gui-structure-top-panel{height:42px}",".gui-material,.gui-material *{border-color:rgba(0,0,0,.12);font-size:14px}.gui-material.gui-structure{border-radius:0;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 3px 1px -2px rgba(0,0,0,.12),0 1px 5px 0 rgba(0,0,0,.2);border:0}.gui-material .gui-header,.gui-material.gui-structure{font-family:Arial}.gui-material .gui-header-cell,.gui-material gui-structure-header-columns{height:56px}.gui-material .gui-header .gui-header-cell.gui-header-sortable:hover{background:0 0}.gui-material .gui-header-cell,.gui-material gui-structure-container gui-structure-cell>span{padding-right:16px;padding-left:16px}.gui-material gui-structure-container .gui-structure-container .gui-content .gui-row:hover{background:rgba(0,0,0,.04)}.gui-material gui-structure-container .gui-structure-container .gui-content .gui-row.selected{background:#e6f7ff}.gui-material .gui-structure-header .gui-header{background:0 0;color:#464646;font-weight:700}.gui-material .gui-structure-header .gui-header .gui-header-cell{border-color:inherit}.gui-material .gui-cell .gui-badge,.gui-material .gui-cell .gui-button{padding:0}.gui-material gui-structure-alternative-paging-navigator .gui-button{margin:0 4px;background:0 0;padding:0;color:#333}.gui-material gui-structure-alternative-paging-navigator .gui-button:hover{background:0 0}.gui-material gui-structure-alternative-paging-navigator .gui-button:disabled{background:0 0;color:#ccc;opacity:.4}.gui-material .gui-structure-summaries-panel{background:#fff}.gui-material .gui-paging,.gui-material gui-structure-info-panel,.gui-material gui-structure-top-panel{height:52px;padding-right:16px;padding-left:16px}.gui-material gui-structure-info-panel{background:#fff;border-radius:0}.gui-material gui-structure-top-panel{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;padding-right:0}.gui-material gui-search-bar form input,.gui-material gui-structure-top-panel gui-search-bar form input{border:0;outline:0}",".gui-dark{border-color:#575757;color:#f0f0f0;font-size:14px;border-radius:2px}.gui-dark *{border-color:#575757;color:#f0f0f0;font-size:14px}.gui-dark.gui-structure{border-radius:2px}.gui-dark .gui-header-cell,.gui-dark gui-structure-header-columns{background:#333;height:46px}.gui-dark .gui-structure-border{border:none;box-shadow:5px 5px 10px 2px #1f1f1f}.gui-dark .gui-header-cell{border-bottom:1px solid;border-color:inherit;padding-right:16px;padding-left:16px}.gui-dark gui-structure-container gui-structure-cell>span{padding-right:16px;padding-left:16px}.gui-dark .gui-structure-header .gui-header{color:#bdbdbd;border-bottom-color:#666}.gui-dark .gui-structure-header .gui-header .gui-header-cell:hover{background:#525252}.gui-dark .gui-structure-header .gui-header .gui-header-cell:hover .gui-header-menu .gui-header-menu-icon-wrapper{background-color:#525252}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab .gui-tab-menu .gui-tab-menu-list{background:#383838}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab .gui-tab-menu .gui-tab-menu-item{color:#f0f0f0}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab .gui-tab-menu .gui-tab-menu-item:hover{background:#525252}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab .gui-tab-menu .gui-tab-menu-item.gui-active{color:#ce93d8}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab .gui-tab-content{box-shadow:0 1px 2px #525252}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab gui-structure-column-manager ol li:hover{background:#525252}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-column-move{color:#f0f0f0}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-item:hover{background:#525252}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-item:hover svg line{stroke:#ce93d8}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-container .gui-dropdown-menu{border-color:#666}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-container .gui-dropdown-menu .gui-item:hover svg line{stroke:#ce93d8}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-container:hover{background:#525252}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-item{display:-ms-flexbox;display:flex;color:#f0f0f0;background:#383838}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-item:hover{background:#525252}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-item{color:#f0f0f0}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-item:hover{background:#525252}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-checkbox{color:#f0f0f0}.gui-dark gui-structure-column-manager>div:hover,.gui-dark gui-structure-container .gui-structure-container .gui-content .gui-row:hover{background:#525252}.gui-dark gui-structure-container .gui-structure-container .gui-content .gui-row.selected{background:#7cb9f652}.gui-dark.gui-rows-even .gui-row.even,.gui-dark.gui-rows-odd .gui-row.odd{background:#4f4f4f}.gui-dark .gui-horizontal-grid gui-structure-container .gui-row .gui-cell{border-bottom-color:#666}.gui-dark .gui-paging.gui-paging-bottom{border-top-color:#666}.gui-dark .gui-paging.gui-paging-top{border-bottom-color:#666}.gui-dark ::-webkit-scrollbar{width:15px}.gui-dark ::-webkit-scrollbar-track{background:#616161}.gui-dark ::-webkit-scrollbar-thumb{background:#424242}.gui-dark ::-webkit-scrollbar-thumb:hover{background:#212121}.gui-dark .gui-paging,.gui-dark .gui-row,.gui-dark .gui-structure-container,.gui-dark gui-structure-info-panel,.gui-dark gui-structure-top-panel{background:#444}.gui-dark .gui-paging,.gui-dark gui-structure-info-panel,.gui-dark gui-structure-top-panel{height:42px;padding-right:16px;padding-left:16px}.gui-dark .gui-structure-summaries-cell{background:#383838;color:#f0f0f0}.gui-dark .gui-structure-summaries-panel-bottom .gui-structure-summaries-cell{border-top-color:#666}.gui-dark .gui-structure-summaries-panel-top .gui-structure-summaries-cell{border-bottom-color:#666}.gui-dark gui-structure-info-panel{background:#383838;border-top-color:#666}.gui-dark gui-structure-info-panel div{color:#f0f0f0}.gui-dark gui-structure-info-panel div button{background:#616161}.gui-dark .gui-structure-info-modal p,.gui-dark .gui-structure-info-panel p{color:#f0f0f0}.gui-dark gui-structure-alternative-paging-navigator .gui-button{margin:0 4px;background:0 0;padding:0;color:#f0f0f0}.gui-dark gui-structure-alternative-paging-navigator .gui-button:hover{background:0 0}.gui-dark gui-structure-alternative-paging-navigator .gui-button:disabled{background:0 0;color:#f0f0f0;opacity:.4}.gui-dark gui-structure-alternative-paging-navigator gui-structure-alternative-paging-pages .gui-paging-active-page{color:#f0f0f0;box-shadow:0 1px 0 0 #f0f0f0}.gui-dark gui-search-bar form{background:#444}.gui-dark gui-search-bar input{background:#444;color:#f0f0f0;border:0;cursor:pointer}.gui-dark gui-search-bar:hover .gui-search-icon circle,.gui-dark gui-search-bar:hover .gui-search-icon line{stroke:#878787}.gui-dark .gui-icon{cursor:pointer}.gui-dark .gui-icon svg{stroke:#aaa;transition:stroke .3s ease-in-out}.gui-dark .gui-icon svg:hover{stroke:#e6e6e6!important}",".gui-light,.gui-light *{border-color:#f0f0f0;font-size:14px}.gui-light.gui-structure-border{border:0;border-color:#f0f0f0 transparent}.gui-light .gui-header,.gui-light.gui-structure{background:#fff;color:#333;font-family:Arial}.gui-light .gui-header-cell,.gui-light gui-structure-header-columns{height:56px}.gui-light .gui-header-cell,.gui-light gui-structure-container gui-structure-cell>span{padding-right:16px;padding-left:16px}.gui-light .gui-structure-header .gui-header{color:#333;font-weight:700}.gui-light .gui-structure-header .gui-header .gui-header-cell:hover{background:#f3f9ff}.gui-light .gui-structure-header .gui-header .gui-header-cell:hover .gui-header-menu .gui-header-menu-icon-wrapper{background-color:#f3f9ff}.gui-light gui-structure-container .gui-structure-container .gui-content .gui-row:hover{background:#f3f9ff}.gui-light gui-structure-container .gui-structure-container .gui-content .gui-row.selected{background:#7cb9f652}.gui-light.gui-rows-even .gui-row.even,.gui-light.gui-rows-odd .gui-row.odd{background:#f7f7f7}.gui-light gui-structure-alternative-paging-navigator .gui-button{margin:0 4px;background:0 0;padding:0;color:#333}.gui-light gui-structure-alternative-paging-navigator .gui-button:hover{background:0 0}.gui-light gui-structure-alternative-paging-navigator .gui-button:disabled{background:0 0;color:#333;opacity:.4}.gui-light .gui-paging,.gui-light gui-structure-info-panel,.gui-light gui-structure-top-panel{height:56px;padding-right:16px;padding-left:16px}.gui-light .gui-paging,.gui-light gui-structure-info-panel,.gui-light gui-structure-summaries-panel,.gui-light gui-structure-top-panel{background:#fff}.gui-light gui-search-bar form input{border:0;outline:0}",".gui-structure.gui-generic,.gui-structure.gui-generic *{border-color:rgba(34,36,38,.1);font-size:14px}.gui-structure.gui-generic .gui-header-cell,.gui-structure.gui-generic gui-structure-header-columns{height:46px}.gui-structure.gui-generic .gui-header .gui-header-cell.gui-header-sortable:hover{background:rgba(0,0,0,.04);transition:.15s}.gui-structure.gui-generic .gui-header-cell,.gui-structure.gui-generic gui-structure-container gui-structure-cell>span{padding-right:12px;padding-left:12px}.gui-structure.gui-generic gui-structure-container gui-structure-cell:last-child>span{padding-right:20px}.gui-structure.gui-generic .gui-structure-header.gui-header-bottom .gui-header{border-width:2px 0 0;border-style:solid;border-color:inherit}.gui-structure.gui-generic gui-structure-container .gui-structure-container .gui-content .gui-row:hover{background:rgba(0,0,0,.04)}.gui-structure.gui-generic gui-structure-container .gui-structure-container .gui-content .gui-row.selected{background:#e6f7ff}.gui-structure.gui-generic .gui-structure-header .gui-header{background:#f9fafb;border-width:0 0 2px;color:#464646;font-weight:700}.gui-structure.gui-generic .gui-rows-even .gui-row.even,.gui-structure.gui-generic .gui-rows-odd .gui-row.odd{background:#f9fafb}.gui-structure.gui-generic .gui-cell .gui-badge,.gui-structure.gui-generic .gui-cell .gui-button{padding:0}.gui-structure.gui-generic .gui-alternative-paging-navigator .gui-button{margin:0 4px;background:0 0;padding:0;color:#333}.gui-structure.gui-generic .gui-alternative-paging-navigator .gui-button:hover{background:0 0}.gui-structure.gui-generic .gui-alternative-paging-navigator .gui-button:disabled{background:0 0;color:#ccc;opacity:.4}.gui-structure.gui-generic .gui-structure-summaries-panel{background:#f9fafb}.gui-structure.gui-generic .gui-paging,.gui-structure.gui-generic gui-structure-info-panel,.gui-structure.gui-generic gui-structure-top-panel{height:46px;padding-right:12px;padding-left:12px}.gui-structure.gui-generic gui-structure-info-panel{background:#f9fafb;border-radius:0}.gui-structure.gui-generic gui-structure-top-panel{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;padding-right:0}.gui-structure.gui-generic gui-structure-top-panel gui-search-bar form input{border:0;outline:0}.gui-structure.gui-generic .gui-rows-even .gui-row.even,.gui-structure.gui-generic .gui-rows-odd gui-row.odd{background:#f9fafb}.gui-structure.gui-generic .gui-row:hover{background:#f9fafb;transition:.15s}"]}]}],n.ctorParameters=function(){return[{type:F},{type:L},{type:st},{type:Xn},{type:fe},{type:Jn},{type:Gi},{type:yr},{type:Lr},{type:Ze},{type:et},{type:ti},{type:ni},{type:ae},{type:Dn},{type:wn},{type:Mn},{type:Ui},{type:On},{type:An},{type:Qr},{type:ri},{type:oi},{type:ai},{type:Xr},{type:xt},{type:ui},{type:li},{type:ci},{type:mi},{type:Vi},{type:ji},{type:hi},{type:e.ElementRef},{type:e.ChangeDetectorRef},{type:e.Renderer2},{type:U},{type:ce},{type:Ie},{type:Sn},{type:Fe},{type:r.DomainEventBus},{type:r.CommandDispatcher},{type:bi}]},n}(qn);var Mo=function(t){function n(){return t.call(this)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.Archive),xo=function(t){function n(){return t.call(this)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.Archive),Po=[Mo,xo],To=function(t){function e(e){return t.call(this,e)||this}return l(e,t),e.prototype.toReadModelRootId=function(){return new z(this.getId())},e}(r.AggregateId),Fo=function(t){function e(e){return t.call(this,e)||this}return l(e,t),e.prototype.toAggregateId=function(){return new To(this.getId())},e}(r.ReadModelRootId),ko=function(t){function e(e){return t.call(this,e,"CreateListViewCommand")||this}return l(e,t),e}(r.CreateAggregateCommand),Oo=function(t){function e(e,n){var i=t.call(this,e,"SetListViewModeCommand")||this;return i.mode=n,i}return l(e,t),e.prototype.getMode=function(){return this.mode},e}(r.Command);var No=function(t){function e(e,n){var i=t.call(this,e,"ToggleListViewSelectorCommand")||this;return i.enabled=n,i}return l(e,t),e.prototype.iseEnabled=function(){return this.enabled},e}(r.Command);var Ho=function(){function t(t){this.commandDispatcher=t}return t.prototype.create=function(t){this.commandDispatcher.dispatch(new ko(t))},t.prototype.setMode=function(t,e){this.commandDispatcher.dispatch(new Oo(e,t))},t.prototype.toggleSelector=function(t,e){this.commandDispatcher.dispatch(new No(e,t))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.CommandDispatcher}]},t}();var Vo=new Fo("-1"),jo=function(){function t(t){this.listViewDispatcher=t}return t.prototype.create=function(t){void 0===t&&(t=Vo),this.listViewDispatcher.create(t.toAggregateId())},t.prototype.setMode=function(t,e){void 0===e&&(e=Vo),this.listViewDispatcher.setMode(t,e.toAggregateId())},t.prototype.toggleSelector=function(t,e){void 0===e&&(e=Vo),this.listViewDispatcher.toggleSelector(t,e.toAggregateId())},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Ho}]},t}();function Bo(t){return new Fo("gui-"+t.generateId())}var Uo=f([{provide:F,useFactory:So,deps:[k]},{provide:Fo,useFactory:Bo,deps:[k]}],Po,In(),[Hi.forComponent()]),zo=function(t){function n(e,n,i,r,o,a,u,s,c){var l=t.call(this,e,r)||this;return l.structureId=e,l.listViewReadModelRootId=n,l.elementRef=i,u.createStructure(l.structureId),c.create(l.listViewReadModelRootId),l}return l(n,t),n.prototype.getElementRef=function(){return this.elementRef},n.decorators=[{type:e.Component,args:[{selector:"gui-list-view",template:"\n\n\t\t<gui-list-view-layout></gui-list-view-layout>\n\t",encapsulation:e.ViewEncapsulation.None,changeDetection:e.ChangeDetectionStrategy.OnPush,providers:f(Uo,[{provide:Kr,useExisting:n}]),host:{"[class.gui-list-view]":'"true"',"[class.gui-generic]":'"true"',"[id]":"structureId.toString()"},styles:[".gui-list-view,.gui-list-view *{border-color:#d6d6d6}.gui-list-view .gui-search-bar form .gui-search-icon{top:10px}.gui-list-view .gui-search-bar form input{font-size:14px;padding:10px 6px 10px 38px}.gui-list-panel-search{display:-ms-flexbox;display:flex;padding-left:8px;padding-right:8px}.gui-list-card-wrapper{border:1px solid transparent;min-height:100px;height:100%;margin:0;padding:0 12px;position:relative;transition:.2s}.gui-list-card-wrapper:hover{border:1px solid #d6d6d6;box-shadow:0 2px 6px rgba(0,0,0,.15)}.gui-list-panel-top{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;padding-left:8px;padding-right:8px}.gui-list-panel-top .gui-paging{margin-left:auto}.gui-list-container-card{border-top:1px solid #d6d6d6}",".gui-list-view-source{display:block}.gui-list-item{border-radius:4px;border:1px solid rgba(0,0,0,.1);box-shadow:0 2px 6px rgba(0,0,0,.15);display:block;margin:8px 0;width:100%}.gui-list-item .gui-list-item-container{padding-top:12px;padding-bottom:12px}.gui-list-container-card{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin:0;padding:0}.gui-list-card{cursor:pointer;display:block;padding:0;position:relative;margin:0}@media (min-width:480px){.gui-list-card{width:100%}.gui-list-item-container{padding-left:8px;padding-right:8px}}@media (min-width:768px){.gui-list-card{width:50%}.gui-list-item-container{padding-left:12px;padding-right:12px}}@media (min-width:992px){.gui-list-card{width:33.3333%}.gui-list-item-container{padding-left:12px;padding-right:12px}}@media (min-width:1200px){.gui-list-card{width:33.3333%}.gui-list-item-container{padding-left:16px;padding-right:16px}}",".gui-list-view.gui-generic .gui-paging{border:0}"]}]}],n.ctorParameters=function(){return[{type:F},{type:Fo},{type:e.ElementRef},{type:fe},{type:Mo},{type:xo},{type:ae},{type:st},{type:jo}]},n}(P);var Lo=function(t){function n(e,n,i,r){var o=t.call(this)||this;return o.changeDetectorRef=e,o.structureId=n,o.structureSourceWarehouse=i,o.containerTemplateArchive=r,o.source=[],o}return l(n,t),n.prototype.ngOnInit=function(){var t=this;this.structureSourceWarehouse.onEntities(this.structureId).pipe(this.takeUntil()).subscribe((function(e){t.source=e.map((function(t){return t.getData()})),t.changeDetectorRef.detectChanges()})),this.containerTemplateArchive.onValue().pipe(this.takeUntil()).subscribe((function(e){t.template=e,t.changeDetectorRef.detectChanges()}))},n.decorators=[{type:e.Component,args:[{selector:"gui-list-view-source",template:'\n\n\t\t<gui-list-view-item *ngFor="let element of source"\n\t\t\t\t\t\t\t[item]="element"\n\t\t\t\t\t\t\t[template]="template">\n\t\t</gui-list-view-item>\n\n\t\t<gui-empty-source [items]="source">\n\t\t</gui-empty-source>\n\n\t',encapsulation:e.ViewEncapsulation.None,changeDetection:e.ChangeDetectionStrategy.OnPush,host:{"[class.gui-list-view-source]":'"true"'}}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:F},{type:Vt},{type:Mo}]},n}(Hn);var Wo=function(t){function n(){var e=t.call(this)||this;return e.mode=new Map,e.mode$=new o.ReplaySubject,e}return l(n,t),n.prototype.setMode=function(t,e){this.next(t,e)},n.prototype.on=function(t){return this.mode$.asObservable().pipe(this.takeUntil(),a.map((function(e){return e.get(t.toString())})),a.distinctUntilChanged())},n.prototype.next=function(t,e){this.mode.set(e.toString(),t),this.mode$.next(this.mode)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(vt);var Go=function(t){function n(){var e=t.call(this)||this;return e.selectorEnabled=new Map,e.selectorEnabled$=new o.ReplaySubject,e}return l(n,t),n.prototype.setMode=function(t,e){this.next(t,e)},n.prototype.on=function(t){return this.selectorEnabled$.asObservable().pipe(this.takeUntil(),a.map((function(e){return e.get(t.toString())})),a.distinctUntilChanged())},n.prototype.next=function(t,e){this.selectorEnabled.set(e.toString(),t),this.selectorEnabled$.next(this.selectorEnabled)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.Reactive);var qo=function(t){function n(e,n,i,r){var o=t.call(this)||this;return o.changeDetectorRef=e,o.listViewReadModelRootId=n,o.listViewModeRepository=i,o.listViewSelectorRepository=r,o.searchBarEnabled=!0,o}return l(n,t),n.prototype.ngOnInit=function(){var t=this;this.listViewModeRepository.on(this.listViewReadModelRootId.toAggregateId()).pipe(this.takeUntil()).subscribe((function(e){t.listModeEnabled=e===E.LIST,t.cardModeEnabled=e===E.CARD,t.changeDetectorRef.detectChanges()})),this.listViewSelectorRepository.on(this.listViewReadModelRootId.toAggregateId()).pipe(this.takeUntil()).subscribe((function(e){t.selectorEnabled=e,t.changeDetectorRef.detectChanges()}))},n.decorators=[{type:e.Component,args:[{selector:"gui-list-view-layout",template:'\n\n\t\t<div class="gui-list-panel-search">\n\n\t\t\t<gui-search-bar *ngIf="searchBarEnabled"></gui-search-bar>\n\n\t\t\t\x3c!--\t\t\t<gui-sorting-selector></gui-sorting-selector>--\x3e\n\t\t\t\x3c!--\t\t\t<gui-filter-menu-trigger></gui-filter-menu-trigger>--\x3e\n\x3c!--\t\t\t<gui-filter-menu-trigger></gui-filter-menu-trigger>--\x3e\n\t\t</div>\n\t\t<div class="gui-list-panel-top">\n\t\t\t<gui-list-mode-select *ngIf="selectorEnabled"></gui-list-mode-select>\n\n\t\t\t<gui-paging [minimal]="true" [position]="0"></gui-paging>\n\t\t</div>\n\n\t\t<gui-list-view-source *ngIf="listModeEnabled"></gui-list-view-source>\n\n\t\t<gui-list-container-card *ngIf="cardModeEnabled"></gui-list-container-card>\n\n\t\t<gui-paging [position]="1"></gui-paging>\n\n\t',encapsulation:e.ViewEncapsulation.None,changeDetection:e.ChangeDetectionStrategy.OnPush,host:{"[class.gui-list-view-layout]":'"true"'}}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:Fo},{type:Wo},{type:Go}]},n}(Hn);var Qo=function(t){function n(){var e=t.call(this)||this;return e.context="Template not provided",e}return l(n,t),n.prototype.ngOnChanges=function(){this.template&&this.item&&(this.hasTemplateRef=this.template.hasTemplateRef(),this.hasTemplateRef||(this.context=this.template.getTemplateMethod()(this.item)))},n.decorators=[{type:e.Component,args:[{selector:"gui-list-view-item[item][template]",template:'\n\n\t\t<ng-container *ngIf="hasTemplateRef; else templateMethod">\n\t\t\t<div class="gui-list-item-container" >\n\t\t\t\t<ng-template *ngTemplateOutlet="template.getTemplateRef(); context: {item: item}"></ng-template>\n\t\t\t</div>\n\t\t</ng-container>\n\n\t\t<ng-template #templateMethod>\n\t\t\t<div class="gui-list-item-container"\n\t\t\t\t [innerHTML]="context"></div>\n\t\t</ng-template>\n\n\t',encapsulation:e.ViewEncapsulation.None,changeDetection:e.ChangeDetectionStrategy.OnPush,host:{"[class.gui-list-item]":'"true"'}}]}],n.ctorParameters=function(){return[]},n.propDecorators={item:[{type:e.Input}],template:[{type:e.Input}]},n}(Oi);var Ko=function(){function t(){}return t.decorators=[{type:e.Component,args:[{selector:"gui-empty-source[items]",template:'<div *ngIf="items.length === 0">\n\tThere are no items to show.\n</div>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,host:{"[class.gui-empty-source]":"true"},styles:["\n\t\t.gui-empty-source div {\n\t\t\tdisplay: block;\n\t\t\tpadding: 42px 8px;\n\t\t}\n\t"]}]}],t.propDecorators={items:[{type:e.Input}]},t}();var Xo=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],declarations:[Ko],exports:[Ko]}]}],t}(),Zo=function(t){function n(e,n,i,r){var o=t.call(this)||this;return o.changeDetectorRef=e,o.structureId=n,o.structureSourceWarehouse=i,o.listCardTemplateArchive=r,o.items=[],o}return l(n,t),n.prototype.ngOnInit=function(){var t=this;this.structureSourceWarehouse.onEntities(this.structureId).pipe(this.takeUntil()).subscribe((function(e){t.items=e.map((function(t){return t.getData()})),t.changeDetectorRef.detectChanges()})),this.listCardTemplateArchive.onValue().pipe(this.takeUntil()).subscribe((function(e){t.cardTemplate=e,t.changeDetectorRef.detectChanges()}))},n.decorators=[{type:e.Component,args:[{selector:"gui-list-container-card",template:'\n\n\t\t<gui-list-card-item *ngFor="let element of items"\n\t\t\t\t\t\t\t[item]="element"\n\t\t\t\t\t\t\t[template]="cardTemplate">\n\t\t</gui-list-card-item>\n\n\t\t<gui-empty-source [items]="items">\n\t\t</gui-empty-source>\n\n\t',encapsulation:e.ViewEncapsulation.None,changeDetection:e.ChangeDetectionStrategy.OnPush,host:{"[class.gui-list-container-card]":'"true"'}}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:F},{type:Vt},{type:xo}]},n}(Hn);var Yo=function(t){function n(){var e=t.call(this)||this;return e.context="Template not provided",e}return l(n,t),n.prototype.ngOnChanges=function(){this.template&&this.item&&(this.hasTemplateRef=this.template.hasTemplateRef(),this.hasTemplateRef||(this.context=this.template.getTemplateMethod()(this.item)))},n.decorators=[{type:e.Component,args:[{selector:"gui-list-card-item[item][template]",template:'\n\n\t\t<ng-container *ngIf="hasTemplateRef; else templateMethod">\n\t\t\t<div class="gui-list-card-wrapper" >\n\t\t\t\t<ng-template *ngTemplateOutlet="template.getTemplateRef(); context: {item: item}"></ng-template>\n\t\t\t</div>\n\t\t</ng-container>\n\n\t\t<ng-template #templateMethod>\n\t\t\t<div class="gui-list-card-wrapper"\n\t\t\t\t [innerHTML]="context"></div>\n\t\t</ng-template>\n\n\t',encapsulation:e.ViewEncapsulation.None,changeDetection:e.ChangeDetectionStrategy.OnPush,host:{"[class.gui-list-card]":'"true"'}}]}],n.ctorParameters=function(){return[]},n.propDecorators={item:[{type:e.Input}],template:[{type:e.Input}]},n}(Oi);var Jo=function(t){function n(e,n,i){var r=t.call(this)||this;return r.changeDetectorRef=e,r.listViewReadModelRootId=n,r.listViewModeRepository=i,r.options=Object.keys(E).map((function(t){return E[t]})).filter((function(t){return!Number.isInteger(t)})),r}return l(n,t),n.prototype.ngOnInit=function(){var t=this;this.listViewModeRepository.on(this.listViewReadModelRootId.toAggregateId()).pipe(this.takeUntil()).subscribe((function(e){t.listContainerMode=e,t.changeDetectorRef.detectChanges()}))},n.prototype.changeContainerMode=function(t){this.listViewModeRepository.setMode(t,this.listViewReadModelRootId.toAggregateId())},n.decorators=[{type:e.Component,args:[{selector:"gui-list-mode-select",template:'\n\n\t\t<gui-select (optionChanged)="changeContainerMode($event)"\n\t\t\t\t\t[options]="options"\n\t\t\t\t\t[selected]="listContainerMode">\n\t\t</gui-select>\n\n\t',encapsulation:e.ViewEncapsulation.None,changeDetection:e.ChangeDetectionStrategy.OnPush,host:{"[class.gui-list-mode-select]":'"true"'}}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:Fo},{type:Wo}]},n}(Hn);var _o=function(t){function e(e){return t.call(this,e,"ListViewCreatedEvent")||this}return l(e,t),e}(r.DomainEvent),$o=function(t){function e(e){return t.call(this,e,"ListViewCreatedAggregateEvent")||this}return l(e,t),e.prototype.toDomainEvent=function(){return new _o(this.getAggregateId())},e}(r.AggregateEvent),ta=function(t){function e(e,n){var i=t.call(this,e,"ListViewModeSetEvent")||this;return i.mode=n,i}return l(e,t),e.prototype.getTheme=function(){return this.mode},e}(r.DomainEvent);var ea=function(t){function e(e,n){var i=t.call(this,e,"ListViewModeSetAggregateEvent")||this;return i.mode=n,i}return l(e,t),e.prototype.toDomainEvent=function(){return new ta(this.getAggregateId(),this.mode)},e}(r.AggregateEvent);var na=function(){function t(){this.enabled=null,this.visible=!1}return t.prototype.isVisible=function(){return null!==this.enabled?this.enabled:this.visible},t.prototype.setEnabled=function(t){this.enabled=t},t.prototype.setVisible=function(t){this.visible=t},t}();var ia=function(t){function e(e,n){var i=t.call(this,e,"ListViewSelectorToggledEvent")||this;return i.enabled=n,i}return l(e,t),e.prototype.isEnabled=function(){return this.enabled},e}(r.DomainEvent);var ra=function(t){function e(e,n){var i=t.call(this,e,"ListViewSelectorToggledAggregateEvent")||this;return i.enabled=n,i}return l(e,t),e.prototype.toDomainEvent=function(){return new ia(this.getAggregateId(),this.enabled)},e}(r.AggregateEvent);var oa=function(t){function e(e){var n=t.call(this,e,"ListViewAggregate")||this;return n.setMode(E.LIST),n.initSelectorVisibility(),n}return l(e,t),e.prototype.createEvent=function(){return $o},e.prototype.setMode=function(t){this.mode=t,this.addEvent(new ea(this.getId(),this.mode))},e.prototype.toggleModeSelector=function(t){this.selectorVisibility.setEnabled(t),this.emitEventAfterSelectorVisibilityChange()},e.prototype.initSelectorVisibility=function(){this.selectorVisibility=new na,this.emitEventAfterSelectorVisibilityChange()},e.prototype.emitEventAfterSelectorVisibilityChange=function(){this.addEvent(new ra(this.getId(),this.selectorVisibility.isVisible()))},e}(r.AggregateRoot);var aa=function(t){function n(){return t.call(this)||this}return l(n,t),n.prototype.create=function(t){return new oa(t)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.AggregateFactory),ua=function(){function t(){}return t.prototype.forCommand=function(){return ko},t.decorators=[{type:e.Injectable}],t}(),sa=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n}(r.InMemoryStore),ca=function(t){function n(e,n){return t.call(this,e,n)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:sa},{type:r.AggregateStoreRegister}]},n}(r.InMemoryAggregateStore),la=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e}(r.AggregateRepository);var pa=function(t){function n(e){var n=t.call(this)||this;return n.inMemorySchemaAggregateStore=e,n}return l(n,t),n.prototype.getById=function(t){return this.inMemorySchemaAggregateStore.getById(t)},n.prototype.save=function(t){this.inMemorySchemaAggregateStore.save(t)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:ca}]},n}(la);var ga=function(t){function n(e){return t.call(this,e)||this}return l(n,t),n.prototype.onModeChange=function(t){return this.onEvent(t,ta)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:r.DomainEventBus}]},n}(r.EventRepository),da=function(){function t(){}return t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[]},t}(),ha=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return Oo},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publishFromAggregate(t)},t.prototype.handleAggregate=function(t,e){var n=e.getMode();t.setMode(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var ma=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return No},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publishFromAggregate(t)},t.prototype.handleAggregate=function(t,e){var n=e.iseEnabled();t.toggleModeSelector(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var fa=function(){function t(){}return t.commandHandlers=function(){return f(r.HermesModule.registerCommandHandler(ha,ba),r.HermesModule.registerCommandHandler(ma,ba))},t.decorators=[{type:e.NgModule,args:[{imports:[],providers:[Ho],declarations:[],exports:[]}]}],t}(),ya=function(){function t(t){this.listViewModeRepository=t}return t.prototype.forEvent=function(){return ta},t.prototype.handle=function(t){t.ofMessageType("ListViewModeSetEvent")&&this.listViewModeRepository.setMode(t.getTheme(),t.getAggregateId())},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Wo}]},t}();var va=function(){function t(t){this.listViewSelectorRepository=t}return t.prototype.forEvent=function(){return ia},t.prototype.handle=function(t){t.ofMessageType("ListViewSelectorToggledEvent")&&this.listViewSelectorRepository.setMode(t.isEnabled(),t.getAggregateId())},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Go}]},t}();var ba="ListViewKey",Ca=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[r.HermesModule,r.HermesModule.defineAggregate(ba,aa,pa,ua,f(fa.commandHandlers()),f(r.HermesModule.registerDomainEventHandler(ya),r.HermesModule.registerDomainEventHandler(va))),fa],providers:[jo,ga,da,Wo,Go,ca,sa],declarations:[],exports:[]}]}],t}(),Ea=function(t){function e(){return t.call(this)||this}return l(e,t),e.prototype.isDefined=function(t,e){return void 0!==e[t]&&void 0!==e[t].currentValue},e}(Hn),Ia=function(t){function n(n,i,r){var o=t.call(this)||this;return o.structureId=n,o.structurePagingCommandDispatcher=i,o.pagingEventRepository=r,o.pageChanged=new e.EventEmitter,o.pageSizeChanged=new e.EventEmitter,o}return l(n,t),n.prototype.ngOnChanges=function(t){if(this.isDefined("paging",t)){var e=void 0;e="boolean"==typeof this.paging?{enabled:this.paging}:this.paging,this.structurePagingCommandDispatcher.setPaging(e)}},n.prototype.ngOnInit=function(){var t=this;this.pagingEventRepository.onPageChange(this.structureId).pipe(this.takeUntil()).subscribe((function(e){t.pageChanged.emit(e)})),this.pagingEventRepository.onPageSizeChange(this.structureId).pipe(this.takeUntil()).subscribe((function(e){t.pageSizeChanged.emit(e)}))},n.prototype.onPageChange=function(t){this.pageChanged.emit(t)},n.decorators=[{type:e.Directive,args:[{selector:"gui-list-view[paging]"}]}],n.ctorParameters=function(){return[{type:F},{type:st},{type:Xn}]},n.propDecorators={paging:[{type:e.Input}],pageChanged:[{type:e.Output}],pageSizeChanged:[{type:e.Output}]},n}(Ea);var Sa=function(t){function n(e,n){var i=t.call(this)||this;return i.listViewReadModelRootId=e,i.listViewCommandDispatcher=n,i}return l(n,t),n.prototype.ngOnChanges=function(t){this.isDefined("mode",t)&&this.listViewCommandDispatcher.setMode(this.mode,this.listViewReadModelRootId),this.isDefined("modeSelector",t)&&this.listViewCommandDispatcher.toggleSelector(this.modeSelector,this.listViewReadModelRootId)},n.decorators=[{type:e.Directive,args:[{selector:"gui-list-view[mode]"}]}],n.ctorParameters=function(){return[{type:Fo},{type:jo}]},n.propDecorators={mode:[{type:e.Input}],modeSelector:[{type:e.Input}]},n}(Ea);var wa=function(t){function n(e,n){var i=t.call(this)||this;return i.containerTemplateArchive=e,i.listCardTemplateArchive=n,i}return l(n,t),n.prototype.ngOnChanges=function(t){this.isDefined("template",t)&&this.containerTemplateArchive.next(this.template),this.isDefined("cardTemplate",t)&&this.listCardTemplateArchive.next(this.cardTemplate)},n.decorators=[{type:e.Directive,args:[{selector:"gui-list-view[mode]"}]}],n.ctorParameters=function(){return[{type:Mo},{type:xo}]},n.propDecorators={template:[{type:e.Input}],cardTemplate:[{type:e.Input}]},n}(Ea);var Aa=function(t){function n(e,n){var i=t.call(this)||this;return i.structureId=e,i.fieldCommandDispatcher=n,i}return l(n,t),n.prototype.ngOnChanges=function(t){this.isDefined("fields",t)&&this.fieldCommandDispatcher.initFields(this.fields,this.structureId)},n.decorators=[{type:e.Directive,args:[{selector:"gui-list-view[fields]"}]}],n.ctorParameters=function(){return[{type:F},{type:Lr}]},n.propDecorators={fields:[{type:e.Input}]},n}(Ea);var Da=function(t){function n(n,i,r){var o=t.call(this)||this;return o.structureId=n,o.searchCommandDispatcher=i,o.searchEventRepository=r,o.searchPhraseChanged=new e.EventEmitter,o}return l(n,t),n.prototype.ngOnChanges=function(t){this.isDefined("searching",t)&&this.searchCommandDispatcher.setSearchingConfig(this.searching,this.structureId)},n.prototype.ngOnInit=function(){var t=this;this.searchEventRepository.onSearchPhrase(this.structureId).pipe(this.takeUntil()).subscribe((function(e){t.searchPhraseChanged.emit(e)}))},n.decorators=[{type:e.Directive,args:[{selector:"gui-list-view[searching]"}]}],n.ctorParameters=function(){return[{type:F},{type:yr},{type:ui}]},n.propDecorators={searching:[{type:e.Input}],searchPhraseChanged:[{type:e.Output}]},n}(Ea);var Ra=[Ia,Sa,wa,Aa,Da],Ma=function(){function t(){this.sortingOptions=["Name: A-Z","Name: Z-A","Price: Low to High","Price: High to Low","None"],this.selectedSorting=this.sortingOptions[0]}return t.prototype.changeSorting=function(t){console.log(t)},t.decorators=[{type:e.Component,args:[{selector:"gui-sorting-selector",template:'\n\n\t\t<gui-select (optionChanged)="changeSorting($event)"\n\t\t\t\t\t[options]="sortingOptions"\n\t\t\t\t\t[selected]="selectedSorting"\n\t\t\t\t\t[width]="200">\n\t\t</gui-select>\n\n\t'}]}],t}();var xa=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,i.FabricSelectModule],declarations:[Ma],exports:[Ma]}]}],t}(),Pa=function(){function t(){}return t.decorators=[{type:e.Component,args:[{selector:"gui-filter-icon",template:'\n\t\t<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10.32 7.23">\n\t\t\t<line class="cls-1" x1="9.57" y1="0.75" x2="0.75" y2="0.75"/>\n\t\t\t<line class="cls-1" x1="8.14" y1="3.62" x2="2.18" y2="3.62"/>\n\t\t\t<line class="cls-1" x1="6.71" y1="6.48" x2="3.62" y2="6.48"/>\n\t\t</svg>\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,host:{"[class.gui-filter-icon]":"true"}}]}],t}(),Ta=function(){function t(){this.enabled=new Map,this.enabled$=new o.ReplaySubject}return t.prototype.setEnabled=function(t,e){this.enabled.set(e.toString(),t),this.enabled$.next(this.enabled)},t.prototype.onFilterEnabled=function(t){return this.enabled$.asObservable().pipe(a.map((function(e){return e.get(t.toString())})),a.distinctUntilChanged())},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[]},t}();var Fa=function(){function t(){this.enabled=new Map,this.enabled$=new o.ReplaySubject}return t.prototype.setEnabled=function(t,e){this.enabled.set(e.toString(),t),this.enabled$.next(this.enabled)},t.prototype.onQuickFilterEnabled=function(t){return this.enabled$.asObservable().pipe(a.map((function(e){return e.get(t.toString())})),a.distinctUntilChanged())},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[]},t}();var ka=function(t){function n(){return t.call(this)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.AggregateArchive),Oa=function(t){function n(){return t.call(this)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.AggregateArchive),Na=function(t){function n(){return t.call(this)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.AggregateArchive),Ha=function(){function t(t,e,n,i,r){this.structureFilterRepository=t,this.structureQuickFilterRepository=e,this.filterTypeRepository=n,this.uniqueValuesRepository=i,this.activeFilterRepository=r}return t.prototype.onFilteringEnabled=function(t){return this.structureFilterRepository.onFilterEnabled(t)},t.prototype.onQuickFiltersEnabled=function(t){return this.structureQuickFilterRepository.onQuickFilterEnabled(t)},t.prototype.onFilterTypes=function(t){return this.filterTypeRepository.on(t)},t.prototype.onActiveFilters=function(t){return this.activeFilterRepository.on(t)},t.prototype.onUniqueValues=function(t){return this.uniqueValuesRepository.on(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Ta},{type:Fa},{type:ka},{type:Na},{type:Oa}]},t}();var Va=function(t){function n(e,n,i,r,o,a){var u=t.call(this)||this;return u.changeDetectorRef=e,u.structureId=n,u.fieldWarehouse=i,u.filterWarehouse=r,u.filterCommandDispatcher=o,u.compositionWarehouse=a,u.columns=[],u.fields=[],u.activeFilters=[],u}return l(n,t),n.prototype.ngOnInit=function(){var t=this;this.filterWarehouse.onActiveFilters(this.structureId).pipe(this.takeUntil()).subscribe((function(e){t.activeFilters=e,t.changeDetectorRef.detectChanges()})),this.filterWarehouse.onFilterTypes(this.structureId).pipe(this.takeUntil()).subscribe((function(e){t.filterTypeMap=e,t.changeDetectorRef.detectChanges()})),this.fieldWarehouse.onFields(this.structureId).pipe(this.takeUntil()).subscribe((function(e){t.fields=e,t.changeDetectorRef.detectChanges()})),this.compositionWarehouse.onHeaderColumns().pipe(this.takeUntil()).subscribe((function(e){t.columns=e,t.changeDetectorRef.detectChanges()}))},n.prototype.onColumnSelect=function(t){this.selectedColumn=t,this.filterTypes=this.filterTypeMap.getFilterTypes(this.selectedColumn.getFieldId()),this.changeDetectorRef.detectChanges()},n.prototype.onFieldSelect=function(t){this.selectedField=t,this.filterTypes=this.filterTypeMap.getFilterTypes(this.selectedField.getFieldId()),this.changeDetectorRef.detectChanges()},n.prototype.onFilterTypeSelect=function(t){this.selectedFilterTypeId=t,this.changeDetectorRef.detectChanges()},n.prototype.removeAllFilters=function(){this.filterCommandDispatcher.removeAllFilters(this.structureId)},n.prototype.addFilter=function(){var t=this.selectedField.getFieldId(),e=this.selectedFilterTypeId,n=this.selectedValue;this.filterCommandDispatcher.add(t,e,n,this.structureId),this.clearAddFilterForm()},n.prototype.onValueChanged=function(t){this.selectedValue=t},n.prototype.clearAddFilterForm=function(){this.selectedColumn=null,this.selectedField=null,this.selectedFilterTypeId=null,this.selectedValue=null,this.changeDetectorRef.detectChanges()},n.decorators=[{type:e.Component,args:[{selector:"gui-filter-menu",template:'\n\n\t\t<div>\n\t\t\t<gui-active-filter-list></gui-active-filter-list>\n\t\t</div>\n\n\t\t\x3c!--\t\t<div>--\x3e\n\t\t\x3c!--\t\t\t<gui-column-selector--\x3e\n\t\t\x3c!--\t\t\t\t\t[columns]="columns"--\x3e\n\t\t\x3c!--\t\t\t\t\t(columnSelected)="onColumnSelect($event)">--\x3e\n\t\t\x3c!--\t\t\t</gui-column-selector>--\x3e\n\n\t\t\x3c!--\t\t\t<ng-container *ngIf="selectedColumn">--\x3e\n\t\t\x3c!--\t\t\t\t{{selectedColumn.getFieldId()}}--\x3e\n\t\t\x3c!--\t\t\t</ng-container>--\x3e\n\t\t\x3c!--\t\t</div>--\x3e\n\n\t\t<div>\n\t\t\t<gui-field-selector\n\t\t\t\t\t[fields]="fields"\n\t\t\t\t\t(fieldSelected)="onFieldSelect($event)">\n\t\t\t</gui-field-selector>\n\n\t\t\t<ng-container *ngIf="selectedColumn">\n\t\t\t\t{{selectedColumn.getFieldId()}}\n\t\t\t</ng-container>\n\t\t</div>\n\n\t\t<div>\n\t\t\t<gui-filter-type-selector\n\t\t\t\t\t[filterTypes]="filterTypes"\n\t\t\t\t\t(filterTypeSelected)="onFilterTypeSelect($event)">\n\t\t\t</gui-filter-type-selector>\n\n\t\t\t<ng-container *ngIf="selectedFilterTypeId">\n\t\t\t\t{{selectedFilterTypeId.toString()}}\n\t\t\t</ng-container>\n\t\t</div>\n\n\t\t<div>\n\n\t\t\t<gui-filter-value *ngIf="selectedFilterTypeId"\n\t\t\t\t\t\t\t  (valueChanged)="onValueChanged($event)">\n\t\t\t</gui-filter-value>\n\n\t\t</div>\n\n\t\t<div>\n\t\t\t<button gui-button\n\t\t\t\t\t[primary]="true"\n\t\t\t\t\t[disabled]="!selectedFilterTypeId"\n\t\t\t\t\t(click)="addFilter()">\n\t\t\t\tFilter\n\t\t\t</button>\n\t\t</div>\n\n\t\t<div>\n\t\t\t<button gui-button\n\t\t\t\t\t[secondary]="true"\n\t\t\t\t\t(click)="removeAllFilters()">\n\t\t\t\tClear filters\n\t\t\t</button>\n\t\t</div>\n\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,host:{"[class.gui-filter-menu]":"true"}}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:F},{type:de},{type:Ha},{type:Xt},{type:Ie}]},n}(Hn);var ja=function(){function t(t,e,n){this.injector=t,this.drawerService=e,this.filterContainerRef=n}return t.prototype.openDrawer=function(){var t=this.filterContainerRef.getElementRef();this.drawerService.open(t,Va,{injector:this.injector})},t.decorators=[{type:e.Component,args:[{selector:"gui-filter-menu-trigger",template:'\n\t\t<div [gui-tooltip]="\'Filters\'"\n\t\t\t (click)="openDrawer()"\n\t\t\t class="gui-filter-icon-wrapper">\n\t\t\t<gui-filter-icon></gui-filter-icon>\n\t\t</div>\n\t',encapsulation:e.ViewEncapsulation.None,changeDetection:e.ChangeDetectionStrategy.OnPush,host:{"[class.gui-filter-menu-trigger]":"true"},styles:[".gui-filter-icon-wrapper{margin-right:24px}.gui-filter-icon-wrapper .gui-filter-icon{cursor:pointer}.gui-filter-icon-wrapper .gui-filter-icon svg{height:16px;width:16px}.gui-filter-icon-wrapper .gui-filter-icon svg .cls-1{fill:none;stroke:#aaa;stroke-linecap:round;stroke-linejoin:round;stroke-width:1.5px;transition:stroke .3s ease-in-out}.gui-filter-icon-wrapper .gui-filter-icon:hover .cls-1{stroke:#464646}.gui-filter-menu{display:block;width:400px}"]}]}],t.ctorParameters=function(){return[{type:e.Injector},{type:i.FabricDrawerService},{type:void 0,decorators:[{type:e.Inject,args:[Kr]}]}]},t}();var Ba=function(){function t(){this.columnSelected=new e.EventEmitter}return t.prototype.onSelectChange=function(t){this.columnSelected.emit(t)},t.decorators=[{type:e.Component,args:[{selector:"gui-column-selector[columns]",template:'\n\n\t\tColumn:\n\n\t\t<gui-dropdown>\n\t\t\t<gui-dropdown-item *ngFor="let column of columns"\n\t\t\t\t\t\t\t   (click)="onSelectChange(column)">\n\t\t\t\t<ng-container\n\t\t\t\t\t\t*ngTemplateOutlet="column.viewTemplate;\n\t\t\t\t\t\t   context: column.context">\n\t\t\t\t</ng-container>\n\t\t\t</gui-dropdown-item>\n\t\t</gui-dropdown>\n\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],t.propDecorators={columns:[{type:e.Input}],columnSelected:[{type:e.Output}]},t}();var Ua=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.filterTypeSelected=new e.EventEmitter,n}return l(n,t),n.prototype.onSelectChange=function(t){this.filterTypeSelected.emit(t.getId())},n.decorators=[{type:e.Component,args:[{selector:"gui-filter-type-selector[filterTypes]",template:'\n\n\t\t<ng-container>\n\t\t\tFilter Type:\n\t\t</ng-container>\n\n\t\t<gui-dropdown>\n\t\t\t<gui-dropdown-item *ngFor="let filterType of filterTypes"\n\t\t\t\t\t\t\t   (click)="onSelectChange(filterType)">\n\t\t\t\t{{filterType.getName()}}\n\t\t\t</gui-dropdown-item>\n\t\t</gui-dropdown>\n\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.propDecorators={filterTypes:[{type:e.Input}],filterTypeSelected:[{type:e.Output}]},n}(Oi);var za=function(){function t(n){this.formBuilder=n,this.valueChanged=new e.EventEmitter;var i={};i[t.FORM_FILTER_VALUE]="",this.filterForm=this.formBuilder.group(i)}return t.prototype.ngOnInit=function(){var e=this;this.filterForm.controls[t.FORM_FILTER_VALUE].valueChanges.subscribe((function(t){e.valueChanged.emit(t)}))},t.FORM_FILTER_VALUE="filterValue",t.decorators=[{type:e.Component,args:[{selector:"gui-filter-value",template:'\n\n\t\t<form #formRef\n\t\t\t  [formGroup]="filterForm">\n\n\t\t\t<input formControlName="filterValue"/>\n\t\t</form>\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,host:{"[class.gui-filter-value]":'"true"'}}]}],t.ctorParameters=function(){return[{type:s.FormBuilder}]},t.propDecorators={formRef:[{type:e.ViewChild,args:["formRef",{static:!1}]}],valueChanged:[{type:e.Output}]},t}();var La=function(t){function n(e,n,i,r){var o=t.call(this)||this;return o.changeDetectorRef=e,o.structureId=n,o.filterWarehouse=i,o.filterCommandDispatcher=r,o.activeFilters=[],o}return l(n,t),n.prototype.ngOnInit=function(){var t=this;this.filterWarehouse.onActiveFilters(this.structureId).pipe(this.takeUntil()).subscribe((function(e){t.activeFilters=e,t.changeDetectorRef.detectChanges()}))},n.prototype.removeFilter=function(t){this.filterCommandDispatcher.removeFilter(t.getFilterId(),this.structureId)},n.decorators=[{type:e.Component,args:[{selector:"gui-active-filter-list",template:'\n\n\t\t<div *ngFor="let filter of activeFilters">\n\t\t\t{{filter.getText()}}\n\t\t\t<span (click)="removeFilter(filter)">X</span>\n\t\t</div>\n\n\t\t<gui-active-search></gui-active-search>\n\n\n\t'}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:F},{type:Ha},{type:Xt}]},n}(Hn);var Wa=function(){function t(){this.fieldSelected=new e.EventEmitter}return t.prototype.onSelectChange=function(t){this.fieldSelected.emit(t)},t.decorators=[{type:e.Component,args:[{selector:"gui-field-selector[fields]",template:'\n\n\t\tField:\n\n\t\t<gui-dropdown>\n\t\t\t<gui-dropdown-item *ngFor="let field of fields"\n\t\t\t\t\t\t\t   (click)="onSelectChange(field)">\n\t\t\t\t{{field.getName()}}\n\t\t\t</gui-dropdown-item>\n\t\t</gui-dropdown>\n\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],t.propDecorators={fields:[{type:e.Input}],fieldSelected:[{type:e.Output}]},t}();var Ga=function(t){function n(e,n,i,r){var o=t.call(this)||this;return o.changeDetectorRef=e,o.structureId=n,o.searchCommandDispatcher=i,o.searchWarehouse=r,o}return l(n,t),n.prototype.ngOnInit=function(){var t=this;this.searchWarehouse.onPhrase(this.structureId).pipe(this.takeUntil()).subscribe((function(e){t.phrase=e,t.changeDetectorRef.detectChanges()}))},n.prototype.clearSearch=function(){event.stopPropagation(),this.searchCommandDispatcher.search("",this.structureId)},n.decorators=[{type:e.Component,args:[{selector:"gui-active-search",template:'\n\n\t\t<ng-container *ngIf="phrase">\n\t\t\t<div>\n\t\t\t\tActive search by:\n\t\t\t</div>\n\n\t\t\t<div>\n\t\t\t\t<gui-chip>{{phrase}}</gui-chip>\n\t\t\t</div>\n\n\t\t\t<div>\n\t\t\t\t<button gui-button\n\t\t\t\t\t\t[outline]="true"\n\t\t\t\t\t\t[primary]="true"\n\t\t\t\t\t\t(click)="clearSearch()">\n\t\t\t\t\tClear search\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</ng-container>\n\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:F},{type:yr},{type:vr}]},n}(Hn);var qa=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,i.FabricModule,s.ReactiveFormsModule],declarations:[Pa,Va,ja,Ba,Ua,za,La,Wa,Ga],exports:[ja,La],entryComponents:[Va]}]}],t}(),Qa=function(){function t(t){this.paging=t}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,Ca,i.FabricSelectModule,Hi,Ir,Xo,xa,qa],declarations:f([zo,Qo,qo,Lo,Zo,Yo,Jo],Ra),exports:[zo,Ra],providers:[]}]}],t.ctorParameters=function(){return[{type:Hi}]},t}();var Ka=[i.FabricBadgeModule,i.FabricButtonModule,i.FabricButtonGroupModule,i.FabricCheckboxModule,i.FabricChipModule,i.FabricDrawerModule,i.FabricDropdownModule,i.FabricRadioButtonModule,i.FabricRadioGroupModule,i.FabricProgressBarModule,i.FabricProgressSpinnerModule,i.FabricSelectModule,i.FabricSpinnerModule,i.FabricTabModule,i.FabricTooltipModule,i.FabricToggleButtonModule,i.FabricInputModule,i.FabricDialogModule,i.FabricInlineDialogModule,i.FabricTabModule],Xa=function(){function t(){}return t.prototype.transform=function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")},t.decorators=[{type:e.Pipe,args:[{name:"numberFormatter"}]}],t}(),Za=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[Xa],exports:[Xa]}]}],t}(),Ya=function(){function t(){}return t.decorators=[{type:e.Component,args:[{selector:"gui-info-dialog",template:'\n\t\t<div class="gui-structure-info-modal">\n\n\t\t\t<p class="gui-dialog-title gui-info-title">Generic UI Grid</p>\n\n\n\t\t\t<p class="gui-info-version">\n\t\t\t\tver. 0.12.3\n\t\t\t</p>\n\n\t\t\t<p class="gui-quote">\n\t\t\t\t"The best way to success is to help others succeed."\n\t\t\t</p>\n\n\t\t\t<br/>\n\n\t\t\t<section>\n\t\t\t\t<p>Links:</p>\n\t\t\t\t<ul>\n\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href="https://generic-ui.com/">Website</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href="https://generic-ui.com/guide/">Documentation</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href="https://github.com/generic-ui/generic-ui/tree/master/ngx-grid">Github</a>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\n\t\t\t\t<br/>\n\n\t\t\t\t<p>Feedback:</p>\n\t\t\t\t<ul>\n\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href="https://github.com/generic-ui/generic-ui/issues">Report a bug</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href="https://github.com/generic-ui/generic-ui/issues">Suggest an idea</a>\n\t\t\t\t\t</li>\n\n\t\t\t\t</ul>\n\t\t\t</section>\n\t\t</div>\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush}]}],t}(),Ja=function(){function t(){}return t.decorators=[{type:e.Component,args:[{selector:"gui-structure-dialog-column-manager",template:'<div class="gui-dialog-title">Manage Columns</div>\n\n<gui-structure-column-manager>\n\n</gui-structure-column-manager>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,host:{"[class.gui-structure-dialog-column-manager]":"true"}}]}],t}(),_a=function(){function t(){}return t.prototype.convertTheme=function(t){switch(t){case ue.FABRIC:return i.Theme.FABRIC;case ue.MATERIAL:return i.Theme.MATERIAL;case ue.GENERIC:return i.Theme.GENERIC;case ue.LIGHT:return i.Theme.LIGHT;case ue.DARK:return i.Theme.DARK;default:return i.Theme.FABRIC}},t.decorators=[{type:e.Injectable}],t}(),$a=function(t){function n(e,n,i,r){var o=t.call(this)||this;return o.injector=e,o.schemaReadModelRepository=n,o.structureThemeConverter=i,o.fabricDialogService=r,o}return l(n,t),n.prototype.open=function(t,n){var i=this,r=e.Injector.create({parent:this.injector,providers:[{provide:L,useValue:t}]});this.schemaReadModelRepository.onSingleTheme(n).pipe(this.takeUntil()).subscribe((function(t){i.fabricDialogService.open(Ja,{injector:r,theme:i.structureThemeConverter.convertTheme(t)})}))},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:e.Injector},{type:Be},{type:_a},{type:i.FabricDialogService}]},n}(vt);var tu=function(){function t(){}return t.decorators=[{type:e.Component,args:[{template:'\n\t\t<div class="gui-schema-manager-dialog">\n\t\t\t<gui-structure-schema-manager></gui-structure-schema-manager>\n\t\t</div>\n\t'}]}],t}(),eu=function(t){function n(e,n,i,r){var o=t.call(this)||this;return o.injector=e,o.schemaReadModelRepository=n,o.structureThemeConverter=i,o.fabricDialogService=r,o}return l(n,t),n.prototype.open=function(t){var n=this,i=e.Injector.create({parent:this.injector,providers:[{provide:Fe,useValue:t}]});this.schemaReadModelRepository.onSingleTheme(t).pipe(this.takeUntil()).subscribe((function(t){n.fabricDialogService.open(tu,{injector:i,theme:n.structureThemeConverter.convertTheme(t)})}))},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:e.Injector},{type:Be},{type:_a},{type:i.FabricDialogService}]},n}(vt);var nu=function(t){function n(e,n,i,r,o,a,u,s,c,l,p){var g=t.call(this)||this;return g.changeDetectorRef=e,g.renderer=n,g.elementRef=i,g.sourceReadModelService=r,g.dialog=o,g.compositionId=a,g.structureId=u,g.schemaReadModelRootId=s,g.menuColumnManagerService=c,g.schemaManagerService=l,g.structureInfoPanelEnabledArchive=p,g.infoModal=Ya,g}return l(n,t),n.prototype.ngOnInit=function(){var t=this;this.structureInfoPanelEnabledArchive.onValue().pipe(this.takeUntil()).subscribe((function(e){t.infoPanelConfig=e,t.changeDetectorRef.detectChanges()})),this.sourceReadModelService.onOriginSize().pipe(this.takeUntil()).subscribe((function(e){t.totalItemsSize=e,t.changeDetectorRef.detectChanges()})),this.sourceReadModelService.onPreparedEntities().pipe(this.takeUntil()).subscribe((function(e){t.preparedItemsSize=e.length,t.changeDetectorRef.detectChanges()}))},n.prototype.openInfo=function(){this.dialog.open(this.infoModal)},n.prototype.openColumnManager=function(){this.menuColumnManagerService.open(this.compositionId,this.schemaReadModelRootId)},n.prototype.openSchemaManager=function(){this.schemaManagerService.open(this.schemaReadModelRootId)},n.decorators=[{type:e.Component,args:[{selector:"gui-structure-info-panel",template:'\n\n\t\t<div>\n\t\t\t<div *ngIf="infoPanelConfig.isSourceSizeEnabled()">\n\n\t\t\t\t<ng-container *ngIf="preparedItemsSize !== undefined && totalItemsSize !== undefined">\n\n\t\t\t\t\t<ng-container *ngIf="preparedItemsSize === totalItemsSize">\n\t\t\t\t\t\tShowing <b>{{totalItemsSize | numberFormatter}}</b> items\n\t\t\t\t\t</ng-container>\n\n\t\t\t\t\t<span *ngIf="preparedItemsSize !== totalItemsSize"\n\t\t\t\t\t\t  gui-active-filter-menu-trigger>\n\t\t\t\t\t\tShowing <b>{{preparedItemsSize | numberFormatter}}</b> out of <b>{{totalItemsSize | numberFormatter}}</b> items\n\t\t\t\t\t</span>\n\n\t\t\t\t</ng-container>\n\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div>\n\t\t\t<div class="gui-right-section">\n\n\t\t\t\t<span *ngIf="infoPanelConfig.isSchemaManagerEnabled()"\n\t\t\t\t\t  (click)="openSchemaManager()">\n\t\t\t\t\t<gui-structure-schema-manager-icon></gui-structure-schema-manager-icon>\n\t\t\t\t</span>\n\n\t\t\t\t<span *ngIf="infoPanelConfig.isColumnsManagerEnabled()"\n\t\t\t\t\t  (click)="openColumnManager()">\n\t\t\t\t\t<gui-structure-column-manager-icon>\n\t\t\t\t\t</gui-structure-column-manager-icon>\n\t\t\t\t</span>\n\n\t\t\t\t<span *ngIf="infoPanelConfig.isInfoDialogEnabled()"\n\t\t\t\t\t  [gui-tooltip]="\'Info\'"\n\t\t\t\t\t  (click)="openInfo()">\n\t\t\t\t\t<gui-structure-info-icon></gui-structure-info-icon>\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t</div>\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:e.Renderer2},{type:e.ElementRef},{type:Vt},{type:i.FabricDialogService},{type:L},{type:F},{type:Fe},{type:$a},{type:eu},{type:Mn}]},n}(Hn);var iu=function(t){function n(e,n,i,r){var o=t.call(this)||this;return o.changeDetectorRef=e,o.compositionId=n,o.compositionCommandService=i,o.compositionReadModelService=r,o}return l(n,t),n.prototype.ngOnInit=function(){var t=this;this.compositionReadModelService.onAllColumns(this.compositionId).pipe(this.takeUntil()).subscribe((function(e){t.columns=e,t.enabledColumnsCount=t.columns.map((function(t){return+t.isEnabled()})).reduce((function(t,e){return t+e})),t.changeDetectorRef.detectChanges()}))},n.prototype.toggleColumn=function(t){event.stopPropagation(),t.isEnabled()?this.compositionCommandService.disableColumn(t.getColumnDefinitionId(),this.compositionId):this.compositionCommandService.enableColumn(t.getColumnDefinitionId(),this.compositionId)},n.decorators=[{type:e.Component,args:[{selector:"gui-structure-column-manager",template:'\n\n\t\t<ol>\n\t\t\t<li *ngFor="let column of columns"\n\t\t\t\t(click)="toggleColumn(column)">\n\n\t\t\t\t<gui-checkbox [checked]="column.isEnabled()"\n\t\t\t\t\t\t\t  [disabled]="enabledColumnsCount === 1 && column.isEnabled()">\n\n\t\t\t\t\t<ng-container\n\t\t\t\t\t\t\t*ngTemplateOutlet="column.viewTemplate;\n\t\t\t\t\t\t\t\t\t\t\tcontext: column.context">\n\t\t\t\t\t</ng-container>\n\t\t\t\t</gui-checkbox>\n\n\t\t\t</li>\n\t\t</ol>\n\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,host:{"[class.gui-structure-column-manager]":"true"}}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:L},{type:et},{type:Ie}]},n}(Hn);var ru=function(){function t(){}return t.decorators=[{type:e.Component,args:[{selector:"gui-structure-menu-column-manager",template:"<gui-structure-column-manager>\n\n</gui-structure-column-manager>\n",changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,host:{"[class.gui-structure-menu-column-manager]":"true"}}]}],t}(),ou="gui-structure-column-manager-icon",au=function(){function t(){}return t.decorators=[{type:e.Component,args:[{selector:ou,template:'\n\t\t<svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10.32 10.31">\n\t\t\t<line class="cls-1" x1="9.57" y1="3.65" x2="0.75" y2="3.65"/>\n\t\t\t<line class="cls-2" x1="9.57" y1="0.75" x2="0.75" y2="0.75"/>\n\t\t\t<line class="cls-2" x1="0.75" y1="9.56" x2="0.75" y2="0.88"/>\n\t\t\t<line class="cls-1" x1="3.69" y1="9.65" x2="3.69" y2="3.89"/>\n\t\t\t<line class="cls-1" x1="6.63" y1="9.56" x2="6.63" y2="3.89"/>\n\t\t\t<line class="cls-2" x1="9.57" y1="9.56" x2="9.57" y2="0.88"/>\n\t\t</svg>\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,host:{"[class]":'"'+ou+'"',"[class.gui-icon]":"true"}}]}],t}(),uu=[iu,Ja,ru,au],su=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,Ka],declarations:uu,exports:uu,entryComponents:[iu,Ja,ru],providers:[$a]}]}],t}(),cu="gui-structure-info-icon",lu=function(){function t(){}return t.decorators=[{type:e.Component,args:[{selector:cu,template:'\n\t\t<svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10.08 10.08">\n\t\t\t<path class="cls-1"\n\t\t\t\t  d="M401.64,307.76c0-.28.23-.45.54-.45s.55.17.55.45v0a.49.49,0,0,1-.55.46.48.48,0,0,1-.54-.46Zm.05,1.27a.49.49,0,0,1,1,0v2.54a.49.49,0,0,1-1,0Z"\n\t\t\t\t  transform="translate(-397.14 -304.64)"/>\n\t\t\t<circle class="cls-2" cx="5.04" cy="5.04" r="4.54"/>\n\t\t</svg>\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,host:{"[class]":'"'+cu+'"',"[class.gui-icon]":"true"}}]}],t}(),pu=function(t){function n(e,n,i,r){var o=t.call(this)||this;return o.changeDetectorRef=e,o.schemaReadModelRootId=n,o.schemaCommandService=i,o.schemaReadModelService=r,o.coloring=Object.keys(Ke).map((function(t){return Ke[t]})).filter((function(t){return!Number.isInteger(t)})),o.themes=Object.keys(ue).map((function(t){return ue[t]})).filter((function(t){return!Number.isInteger(t)})),o}return l(n,t),n.prototype.ngOnInit=function(){var t=this;this.schemaReadModelService.onRowColoring(this.schemaReadModelRootId).pipe(this.takeUntil()).subscribe((function(e){t.selectedRowColoring=Ke[e],t.changeDetectorRef.detectChanges()})),this.schemaReadModelService.onTheme(this.schemaReadModelRootId).pipe(this.takeUntil()).subscribe((function(e){t.selectedTheme=ue[e],t.changeDetectorRef.detectChanges()})),this.schemaReadModelService.onVerticalGrid(this.schemaReadModelRootId).pipe(this.takeUntil()).subscribe((function(e){t.verticalGrid=e,t.changeDetectorRef.detectChanges()})),this.schemaReadModelService.onHorizontalGrid(this.schemaReadModelRootId).pipe(this.takeUntil()).subscribe((function(e){t.horizontalGrid=e,t.changeDetectorRef.detectChanges()}))},n.prototype.toggleTheme=function(t){this.schemaCommandService.setTheme(this.toTheme(t),this.schemaReadModelRootId)},n.prototype.toggleRowColoring=function(t){this.schemaCommandService.setRowColoring(this.toRowColoring(t),this.schemaReadModelRootId)},n.prototype.toggleVerticalGrid=function(t){this.schemaCommandService.setVerticalGrid(t,this.schemaReadModelRootId)},n.prototype.toggleHorizontalGrid=function(t){this.schemaCommandService.setHorizontalGrid(t,this.schemaReadModelRootId)},n.prototype.toTheme=function(t){switch(t.toLowerCase()){case"fabric":return ue.FABRIC;case"material":return ue.MATERIAL;case"generic":return ue.GENERIC;case"light":return ue.LIGHT;case"dark":return ue.DARK}},n.prototype.toRowColoring=function(t){switch(t.toLowerCase()){case"none":return Xe.NONE;case"odd":return Xe.ODD;case"even":return Xe.EVEN}},n.decorators=[{type:e.Component,args:[{selector:"gui-structure-schema-manager",template:'\n\t\t<div class="gui-schema-manager">\n\t\t\t<div class="gui-dialog-title">Theme manager:</div>\n\t\t\t<div class="gui-structure-schema-manager-select">\n\t\t\t\t<span>Theme:</span>\n\t\t\t\t<gui-select [options]="themes"\n\t\t\t\t\t\t\t[selected]="selectedTheme"\n\t\t\t\t\t\t\t[placeholder]="\'Select theme\'"\n\t\t\t\t\t\t\t(optionChanged)="toggleTheme($event)">\n\t\t\t\t</gui-select>\n\t\t\t</div>\n\t\t\t<div class="gui-structure-schema-manager-select">\n\t\t\t\t<span>Row coloring:</span>\n\t\t\t\t<gui-select [options]="coloring"\n\t\t\t\t\t\t\t[selected]="selectedRowColoring"\n\t\t\t\t\t\t\t(optionChanged)="toggleRowColoring($event)">\n\t\t\t\t</gui-select>\n\t\t\t</div>\n\t\t\t<gui-checkbox [checked]="verticalGrid"\n\t\t\t\t\t\t  (changed)="toggleVerticalGrid($event)">Vertical grid\n\t\t\t</gui-checkbox>\n\t\t\t<gui-checkbox [checked]="horizontalGrid"\n\t\t\t\t\t\t  (changed)="toggleHorizontalGrid($event)">Horizontal grid\n\t\t\t</gui-checkbox>\n\t\t</div>\n\t',encapsulation:e.ViewEncapsulation.None,changeDetection:e.ChangeDetectionStrategy.OnPush}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:Fe},{type:Ze},{type:Be}]},n}(vt);var gu=function(){function t(){}return t.decorators=[{type:e.Component,args:[{selector:"gui-structure-schema-manager-icon",template:'\n\t\t<svg xmlns="http://www.w3.org/2000/svg" width="32" height="24" viewBox="0 0 32 24">\n\t\t\t<g transform="translate(0 -4)">\n\t\t\t\t<path id="Path_303" data-name="Path 303" d="M23.337,4H32v6H23.337Z"/>\n\t\t\t\t<path id="Path_304" data-name="Path 304" d="M11.662,4h8.662v6H11.662Z"/>\n\t\t\t\t<path id="Path_305" data-name="Path 305" d="M0,4H8.662v6H0Z"/>\n\t\t\t\t<path id="Path_306" data-name="Path 306" d="M23.337,22H32v6H23.337Z"/>\n\t\t\t\t<path id="Path_307" data-name="Path 307" d="M0,22H8.662v6H0Z"/>\n\t\t\t\t<path id="Path_308" data-name="Path 308" d="M11.662,22h8.662v6H11.662Z"/>\n\t\t\t\t<path id="Path_309" data-name="Path 309" d="M23.337,13H32v6H23.337Z"/>\n\t\t\t\t<path id="Path_310" data-name="Path 310" d="M11.662,13h8.662v6H11.662Z"/>\n\t\t\t\t<path id="Path_311" data-name="Path 311" d="M0,13H8.662v6H0Z"/>\n\t\t\t</g>\n\t\t</svg>\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,host:{"[class.gui-structure-schema-manager-icon]":"true","[class.gui-icon]":"true"}}]}],t}(),du=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,Ka],declarations:[pu,tu,gu],exports:[gu],entryComponents:[tu,pu],providers:[eu]}]}],t}(),hu=function(){function t(){}return t.decorators=[{type:e.Component,args:[{template:'\n\t\t\n\t\t<h3>Active filters</h3>\n\n\t\t<gui-active-filter-list></gui-active-filter-list>\n\n\t\t<div>\n\t\t\t\n\t\t\t<button gui-button\n\t\t\t\t\t[text]="true">\n\t\t\t\tCancel\n\t\t\t</button>\n\t\t\t\n\t\t\t<button gui-button\n\t\t\t\t\t[outline]="true"\n\t\t\t\t\t[primary]="true">\n\t\t\t\tClear All\n\t\t\t</button>\n\t\t</div>\n\t'}]}],t}(),mu=function(t){function n(e,n,i,r){var o=t.call(this)||this;return o.injector=e,o.schemaReadModelRepository=n,o.structureThemeConverter=i,o.fabricDialogService=r,o}return l(n,t),n.prototype.open=function(t,n){var i=this,r=e.Injector.create({parent:this.injector,providers:[{provide:Fe,useValue:t},{provide:F,useValue:n}]});this.schemaReadModelRepository.onSingleTheme(t).pipe(this.takeUntil()).subscribe((function(t){i.fabricDialogService.open(hu,{injector:r,theme:i.structureThemeConverter.convertTheme(t)})}))},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:e.Injector},{type:Be},{type:_a},{type:i.FabricDialogService}]},n}(vt);var fu=function(){function t(t,e,n,i,r){this.renderer=t,this.el=e,this.structureId=n,this.activeFilterService=i,this.schemaReadModelRootId=r}return t.prototype.ngOnInit=function(){},t.decorators=[{type:e.Directive,args:[{selector:"[gui-active-filter-menu-trigger]"}]}],t.ctorParameters=function(){return[{type:e.Renderer2},{type:e.ElementRef},{type:F},{type:mu},{type:Fe}]},t}();var yu=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return l(r,t),r.forComponent=function(){return[]},r.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,qa,i.FabricButtonModule],declarations:[fu,hu],exports:[fu],providers:[mu],entryComponents:[hu]}]}],r}(r.FeatureModule),vu=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,Za,i.FabricModule,su,du,yu],declarations:[nu,Ya,lu],exports:[Ya,nu],entryComponents:[Ya],providers:[Bi]}]}],t}(),bu={TEXT:0,NUMBER:1,CHIP:2,LINK:3,IMAGE:4,BOLD:5,ITALIC:6,CHECKBOX:7,CUSTOM:8,FUNCTION:9,DATE:10,BAR:11,PERCENTAGE_BAR:12,PERCENTAGE:13};bu[bu.TEXT]="TEXT",bu[bu.NUMBER]="NUMBER",bu[bu.CHIP]="CHIP",bu[bu.LINK]="LINK",bu[bu.IMAGE]="IMAGE",bu[bu.BOLD]="BOLD",bu[bu.ITALIC]="ITALIC",bu[bu.CHECKBOX]="CHECKBOX",bu[bu.CUSTOM]="CUSTOM",bu[bu.FUNCTION]="FUNCTION",bu[bu.DATE]="DATE",bu[bu.BAR]="BAR",bu[bu.PERCENTAGE_BAR]="PERCENTAGE_BAR",bu[bu.PERCENTAGE]="PERCENTAGE";var Cu=function(){function t(){}return t.prototype.getTemplate=function(t){switch(t){case bu.TEXT:return this.textTemplate;case bu.NUMBER:return this.numberTemplate;case bu.CHIP:return this.chipTemplate;case bu.LINK:return this.linkTemplate;case bu.IMAGE:return this.imageTemplate;case bu.CHECKBOX:return this.checkboxTemplate;case bu.BOLD:return this.boldTemplate;case bu.ITALIC:return this.italicTemplate;case bu.CUSTOM:return this.customTemplate;case bu.FUNCTION:return this.functionTemplate;case bu.DATE:return this.dateTemplate;case bu.BAR:return this.barTemplate;case bu.PERCENTAGE_BAR:return this.percentageBarTemplate;case bu.PERCENTAGE:return this.percentageTemplate;default:return this.textTemplate}},t.decorators=[{type:e.Component,args:[{template:'\n\n\t\t<ng-template #text let-element="element">\n\t\t\t<gui-view-text [value]="element"></gui-view-text>\n\t\t</ng-template>\n\n\t\t<ng-template #number let-element="element">\n\t\t\t<span class="gui-cell-number">\n\t\t\t\t{{ element.value }}\n\t\t\t</span>\n\t\t</ng-template>\n\n\t\t<ng-template #chip let-element="element">\n\t\t\t<gui-chip>\n\t\t\t\t<gui-view-text [value]="element"></gui-view-text>\n\t\t\t</gui-chip>\n\t\t</ng-template>\n\n\t\t<ng-template #link let-element="element">\n\t\t\t<a gui-button link="true" href="{{ element.value }}">\n\t\t\t\t<gui-view-text [value]="element"></gui-view-text>\n\t\t\t</a>\n\t\t</ng-template>\n\n\t\t<ng-template #image let-element="element">\n\t\t\t<img src="{{ element.value }}"/>\n\t\t</ng-template>\n\n\t\t<ng-template #checkbox let-element="element">\n\t\t\t<span class="gui-cell-boolean">\n\t\t\t\t<gui-checkbox [checked]="!!element.value" [disabled]="true"></gui-checkbox>\n\t\t\t</span>\n\t\t</ng-template>\n\n\t\t<ng-template #bold let-element="element">\n\t\t\t<gui-view-text bold [value]="element"></gui-view-text>\n\t\t</ng-template>\n\n\t\t<ng-template #italic let-element="element">\n\t\t\t<gui-view-text italic [value]="element"></gui-view-text>\n\t\t</ng-template>\n\n\t\t<ng-template #custom let-element="element">\n\t\t\t{{ element.value }}\n\t\t</ng-template>\n\n\t\t<ng-template #function let-element="element">\n\t\t\t<gui-function-view [element]="element"></gui-function-view>\n\t\t</ng-template>\n\n\t\t<ng-template #date let-element="element">\n\t\t\t<span class="gui-view-text">{{ element.value | date: \'dd/MM/yyyy\' }}</span>\n\t\t</ng-template>\n\n\t\t<ng-template #bar let-element="element">\n\t\t\t<gui-bar-view [value]="element.value" [showPercentage]="false"></gui-bar-view>\n\t\t</ng-template>\n\n\t\t<ng-template #percentageBar let-element="element">\n\t\t\t<gui-bar-view [value]="element.value" [showPercentage]="true"></gui-bar-view>\n\t\t</ng-template>\n\n\t\t<ng-template #percentage let-element="element">\n\t\t\t<gui-percentage-view [value]="element.value"></gui-percentage-view>\n\t\t</ng-template>\n\n\t'}]}],t.propDecorators={textTemplate:[{type:e.ViewChild,args:["text",{read:e.TemplateRef,static:!0}]}],numberTemplate:[{type:e.ViewChild,args:["number",{read:e.TemplateRef,static:!0}]}],chipTemplate:[{type:e.ViewChild,args:["chip",{read:e.TemplateRef,static:!0}]}],linkTemplate:[{type:e.ViewChild,args:["link",{read:e.TemplateRef,static:!0}]}],imageTemplate:[{type:e.ViewChild,args:["image",{read:e.TemplateRef,static:!0}]}],checkboxTemplate:[{type:e.ViewChild,args:["checkbox",{read:e.TemplateRef,static:!0}]}],boldTemplate:[{type:e.ViewChild,args:["bold",{read:e.TemplateRef,static:!0}]}],italicTemplate:[{type:e.ViewChild,args:["italic",{read:e.TemplateRef,static:!0}]}],customTemplate:[{type:e.ViewChild,args:["custom",{read:e.TemplateRef,static:!0}]}],functionTemplate:[{type:e.ViewChild,args:["function",{read:e.TemplateRef,static:!0}]}],dateTemplate:[{type:e.ViewChild,args:["date",{read:e.TemplateRef,static:!0}]}],barTemplate:[{type:e.ViewChild,args:["bar",{read:e.TemplateRef,static:!0}]}],percentageBarTemplate:[{type:e.ViewChild,args:["percentageBar",{read:e.TemplateRef,static:!0}]}],percentageTemplate:[{type:e.ViewChild,args:["percentage",{read:e.TemplateRef,static:!0}]}]},t}();var Eu=function(){function t(){this.subject$=new o.ReplaySubject(1)}return t.prototype.emit=function(t){this.subject$.next(t)},t.prototype.on=function(){return this.subject$.asObservable()},t}();var Iu={SUBMIT:0,BLUR:1,CANCEL:2};Iu[Iu.SUBMIT]="SUBMIT",Iu[Iu.BLUR]="BLUR",Iu[Iu.CANCEL]="CANCEL";var Su=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.ENTER_KEY_CODE=13,e.ESC_KEY_CODE=27,e}return l(n,t),n.prototype.submit=function(){this.emitStatus(Iu.SUBMIT)},n.prototype.cancel=function(){this.emitStatus(Iu.CANCEL)},n.prototype.emitStatus=function(t){this.status&&this.status.emit(t)},n.propDecorators={value:[{type:e.Input}],valueChanges:[{type:e.Input}],status:[{type:e.Input}],focus:[{type:e.Input}],parent:[{type:e.Input}]},n}(Hn);var wu=function(t){function n(e){var n,i=t.call(this)||this;return i.formBuilder=e,i.filterFieldName="phrase",i.filterForm=i.formBuilder.group(((n={})[i.filterFieldName]=[""],n)),i}return l(n,t),n.prototype.ngOnChanges=function(t){void 0!==t.value&&this.filterForm.get(this.filterFieldName).setValue(this.value)},n.prototype.ngOnInit=function(){this.observeChanges()},n.prototype.ngAfterViewInit=function(){var t=this,e=this.inputRef.nativeElement;this.focusField(e),this.emitValueChange(e.value),o.fromEvent(e,"blur").pipe(this.takeUntil()).subscribe((function(){t.unsubscribe(),t.submit()}));var n=o.fromEvent(e,"keyup");n.pipe(a.filter((function(e){return e.keyCode===t.ENTER_KEY_CODE})),this.takeUntil()).subscribe((function(){t.unsubscribe(),t.submit()})),n.pipe(a.filter((function(e){return e.keyCode===t.ESC_KEY_CODE})),this.takeUntil()).subscribe((function(){t.unsubscribe(),t.cancel()}))},n.prototype.focusField=function(t){this.focus&&t.focus()},n.prototype.observeChanges=function(){var t=this;this.filterForm.controls[this.filterFieldName].valueChanges.pipe(this.takeUntil()).subscribe((function(e){t.emitValueChange(e)}))},n.prototype.emitValueChange=function(t){this.valueChanges&&this.valueChanges.emit(t)},n.propDecorators={inputRef:[{type:e.ViewChild,args:["input",{static:!0}]}]},n}(Su);var Au=function(t){function n(e){return t.call(this,e)||this}return l(n,t),n.decorators=[{type:e.Component,args:[{selector:"gui-number-edit",template:'\n\n\t\t<form [formGroup]="filterForm" >\n\t\t\t<input #input [formControlName]="filterFieldName" type="number" class="gui-input" />\n\t\t</form>\n\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:s.FormBuilder}]},n}(wu),Du=function(t){function n(e){return t.call(this,e)||this}return l(n,t),n.prototype.focusField=function(t){this.focus&&(t.focus(),t.setSelectionRange(0,t.value.length))},n.decorators=[{type:e.Component,args:[{selector:"gui-string-edit",template:'\n\n\t\t<form [formGroup]="filterForm" >\n\t\t\t<input #input [formControlName]="filterFieldName" type="type" class="gui-input" />\n\t\t</form>\n\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:s.FormBuilder}]},g([ct,d("design:type",Function),d("design:paramtypes",[Object]),d("design:returntype",void 0)],n.prototype,"focusField",null),n}(wu),Ru=function(){function t(){}return t.prototype.getTemplate=function(t){switch(t){case cr.STRING:return this.stringTemplate;case cr.NUMBER:return this.numberTemplate;case cr.BOOLEAN:return this.booleanTemplate;case cr.DATE:return this.dateTemplate;default:return this.emptyTemplate}},t.decorators=[{type:e.Component,args:[{template:'\n\n\t\t<ng-template #string let-valueChanges="valueChanges" let-value="value" let-status="status" let-focus="focus" >\n\t\t\t<gui-string-edit [valueChanges]="valueChanges" [value]="value" [status]="status" [focus]="focus">\n\t\t\t</gui-string-edit>\n\t\t</ng-template>\n\n\t\t<ng-template #number let-valueChanges="valueChanges" let-value="value" let-status="status" let-focus="focus" >\n\t\t\t<gui-number-edit [valueChanges]="valueChanges" [value]="value" [status]="status" [focus]="focus">\n\t\t\t</gui-number-edit>\n\t\t</ng-template>\n\n\t\t<ng-template #boolean let-valueChanges="valueChanges" let-value="value" let-status="status" let-focus="focus" >\n\t\t\t<gui-boolean-edit [valueChanges]="valueChanges" [value]="value" [status]="status" [focus]="focus">\n\t\t\t</gui-boolean-edit>\n\t\t</ng-template>\n\n\t\t<ng-template #date let-valueChanges="valueChanges" let-value="value" let-status="status" let-focus="focus" let-parent="parent" >\n\t\t\t<gui-date-edit [valueChanges]="valueChanges" [value]="value" [status]="status" [focus]="focus" [parent]="parent" >\n\t\t\t</gui-date-edit>\n\t\t</ng-template>\n\n\t\t<ng-template #empty>\n\n\t\t</ng-template>\n\n\t'}]}],t.propDecorators={stringTemplate:[{type:e.ViewChild,args:["string",{read:e.TemplateRef,static:!0}]}],numberTemplate:[{type:e.ViewChild,args:["number",{read:e.TemplateRef,static:!0}]}],booleanTemplate:[{type:e.ViewChild,args:["boolean",{read:e.TemplateRef,static:!0}]}],dateTemplate:[{type:e.ViewChild,args:["date",{read:e.TemplateRef,static:!0}]}],emptyTemplate:[{type:e.ViewChild,args:["empty",{read:e.TemplateRef,static:!0}]}]},t}();var Mu=function(t){function n(){var e=t.call(this)||this;return e.filterFieldName="booleanEdit",e}return l(n,t),n.prototype.toggle=function(t){this.valueChanges.emit(t),this.submit()},n.decorators=[{type:e.Component,args:[{selector:"gui-boolean-edit",template:'\n\n\t\t<span class="gui-cell-boolean">\n\t\t\t<gui-checkbox #checkbox\n\t\t\t\t\t\t  [checked]="value"\n\t\t\t\t\t\t  [name]="filterFieldName"\n\t\t\t\t\t\t  (changed)="toggle($event)">\n\t\t\t</gui-checkbox>\n\t\t</span>\n\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[]},n.propDecorators={checkboxRef:[{type:e.ViewChild,args:["checkbox",{read:e.ElementRef,static:!0}]}]},n}(Su);var xu=function(){function t(){}return t.decorators=[{type:e.Component,args:[{selector:"gui-column",template:""}]}],t.propDecorators={cellTemplate:[{type:e.ContentChild,args:[e.TemplateRef,{static:!1}]}],header:[{type:e.Input}]},t}();var Pu={TEXT:0,HTML:1};Pu[Pu.TEXT]="TEXT",Pu[Pu.HTML]="HTML";var Tu=function(){function t(t,e){this.value=t,this.type=e}return t.text=function(e){return new t(e,Pu.TEXT)},t.HTML=function(e){return new t(e,Pu.HTML)},t}();var Fu=function(){function t(t){this.sanitizer=t}return t.prototype.ngOnChanges=function(){this.safeHTML=this.sanitizer.bypassSecurityTrustHtml(this.element.value)},t.decorators=[{type:e.Component,args:[{selector:"gui-function-view",template:'\n\n\t\t<div [innerHTML]="safeHTML"></div>\n\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],t.ctorParameters=function(){return[{type:u.DomSanitizer}]},t.propDecorators={element:[{type:e.Input}]},t}();var ku=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n}(r.InMemoryStore),Ou=function(t){function n(e,n){return t.call(this,e,n)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:ku},{type:r.AggregateStoreRegister}]},n}(r.InMemoryAggregateStore),Nu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e}(r.AggregateRepository);var Hu=function(t){function n(e){var n=t.call(this)||this;return n.inMemoryCompositionAggregateStore=e,n}return l(n,t),n.prototype.getById=function(t){return this.inMemoryCompositionAggregateStore.getById(t)},n.prototype.save=function(t){this.inMemoryCompositionAggregateStore.save(t)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:Ou}]},n}(Nu);var Vu=function(){function t(t,e){this.templatesComponentDefinition=t,this.componentFactoryResolver=e,this.templates=new Map,this.templatesComponent=null,this.createTemplatesComponent()}return t.prototype.getTemplates=function(){return this.templates},t.prototype.destroy=function(){this.templatesComponent&&(this.templatesComponent.destroy(),this.templatesComponent=null)},t.prototype.createTemplatesComponent=function(){var t=this.componentFactoryResolver.resolveComponentFactory(this.templatesComponentDefinition),n=e.Injector.create({providers:[]});this.templatesComponent=t.create(n),this.generateMap()},t.prototype.generateMap=function(){var t=this;this.generateMapKeys().forEach((function(e){t.findAndSetTemplate(e)}))},t.prototype.findAndSetTemplate=function(t){var e=this.templatesComponent.instance.getTemplate(t);this.templates.set(t,e)},t}();var ju=function(t){function n(e){return t.call(this,Cu,e)||this}return l(n,t),n.prototype.generateMapKeys=function(){return Object.keys(bu).map((function(t){return bu[t]}))},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:e.ComponentFactoryResolver}]},n}(Vu),Bu=function(){function t(t){this.columnTemplateFactory=t}return t.prototype.findTemplate=function(t){return this.columnTemplateFactory.getTemplates().get(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:ju}]},t}();var Uu=function(t){function n(e){return t.call(this,Ru,e)||this}return l(n,t),n.prototype.generateMapKeys=function(){return Object.keys(cr).map((function(t){return cr[t]}))},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:e.ComponentFactoryResolver}]},n}(Vu),zu=function(){function t(t){this.editTemplateFactory=t}return t.prototype.findTemplate=function(t){return this.editTemplateFactory.getTemplates().get(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Uu}]},t}();var Lu={ASC:0,DESC:1,NONE:2};Lu[Lu.ASC]="ASC",Lu[Lu.DESC]="DESC",Lu[Lu.NONE]="NONE";var Wu=function(){function t(t){this.templateFunction=function(t){return t},"function"==typeof t?(this.view=bu.FUNCTION,this.templateFunction=t):this.view=t}return t.fromDataType=function(e){return e===cr.DATE?new t(bu.DATE):new t(bu.TEXT)},t.prototype.getCellView=function(){return this.view},t.prototype.getTemplateFunction=function(){return this.templateFunction},t}();var Gu={RIGHT:0,CENTER:1,LEFT:2};Gu[Gu.RIGHT]="RIGHT",Gu[Gu.CENTER]="CENTER",Gu[Gu.LEFT]="LEFT";var qu=function(t){function e(e,n,i,r,o,a,u,s){var c=t.call(this,e)||this;return c.columnField=n,c.columnConfig=i,c.presentation=r,c.view=Wu.fromDataType(n.getDataType()),o&&(c.header=o),u&&(c.view=u),s&&(c.width=s),c.setInitialAlign(n,a),c}return l(e,t),e.prototype.getPresentation=function(){return this.presentation},e.prototype.getColumnConfig=function(){return this.columnConfig},e.prototype.getField=function(){return this.columnField},e.prototype.getHeader=function(){return this.header},e.prototype.getDataType=function(){return this.columnField.getDataType()},e.prototype.getCellView=function(){return this.view.getCellView()},e.prototype.getTemplateFunction=function(){return this.view.getTemplateFunction()},e.prototype.setView=function(t){this.view=t},e.prototype.setHeader=function(t){this.header=t},e.prototype.getView=function(){return this.view},e.prototype.getAlign=function(){return this.align},e.prototype.setWidth=function(t){this.width=t},e.prototype.getWidth=function(){return this.width},e.prototype.getSortingEnabled=function(){var t=this.columnConfig;if(void 0!==t.sorting&&null!==t.sorting)return void 0===t.sorting.enabled||null===t.sorting.enabled||t.sorting.enabled},e.prototype.isCellEditingEnabled=function(){var t=this.columnConfig;return void 0===t.cellEditing||null===t.cellEditing||(void 0===t.cellEditing.enabled||null===t.cellEditing.enabled||t.cellEditing.enabled)},e.prototype.setInitialAlign=function(t,e){null!=e?this.align=e:t.getDataType()===cr.NUMBER?this.align=Gu.RIGHT:this.align=Gu.LEFT},e}(r.Entity);var Qu=function(t){function e(e,n,i,r,o,a,u,s,c){var l=t.call(this,e,n,i,o,a,u,s,c)||this;return l.sortStatus=Lu.NONE,l.enabled=!0,l.enabled=r,void 0===s&&(l.view=new Wu(l.presentation.getDefaultView())),void 0===u&&(l.align=l.presentation.getDefaultAlign(l.view)),l}return l(e,t),e.prototype.isEnabled=function(){return this.enabled},e.prototype.setEnabled=function(t){this.enabled=t},e.prototype.getSortStatus=function(){return this.sortStatus},e.prototype.setSortStatus=function(t){this.sortStatus=t},e}(qu);var Ku=function(){function t(t,e,n,i,r,o,a,u,s,c){this.viewTemplate=t,this.editTemplate=e,this.context=n,this.width=i,this.fieldId=r,this.columnDefinitionId=o,this.sortStatus=a,this.enabled=u,this.sortable=s,this.align=c}return t.prototype.getColumnDefinitionId=function(){return this.columnDefinitionId},t.prototype.getFieldId=function(){return this.fieldId},t.prototype.getSortStatus=function(){return this.sortStatus},t.prototype.isSortEnabled=function(){return this.sortable},t.prototype.isAscSort=function(){return this.sortStatus===Lu.ASC},t.prototype.isDescSort=function(){return this.sortStatus===Lu.DESC},t.prototype.isNoSort=function(){return this.sortStatus===Lu.NONE},t.prototype.isEnabled=function(){return this.enabled},t.prototype.isAlignLeft=function(){return this.align===Gu.LEFT},t.prototype.isAlignCenter=function(){return this.align===Gu.CENTER},t.prototype.isAlignRight=function(){return this.align===Gu.RIGHT},t}();var Xu=function(t){this.element=t};var Zu=function(){function t(t,e,n,i,r,o,a,u,s,c,l,p){this.template=t,this.editTemplate=e,this.editable=n,this.templateFun=i,this.accessor=r,this.searchAccessor=o,this.width=a,this.columnFieldId=u,this.align=s,this.cellEditingEnabled=c,this.type=l,this.view=p}return t.prototype.isCellEditingEnabled=function(){return this.cellEditingEnabled},t.prototype.isBooleanDataType=function(){return this.type===cr.BOOLEAN},t.prototype.isAlignLeft=function(){return this.align===Gu.LEFT},t.prototype.isAlignCenter=function(){return this.align===Gu.CENTER},t.prototype.isAlignRight=function(){return this.align===Gu.RIGHT},t.prototype.getValue=function(t,e){var n=this.findValue(t,e);return n.value=this.templateFun(n.value),n},t.prototype.findValue=function(t,e){var n=this.accessor(t);if(this.type!==cr.STRING)return Tu.text(n);if(this.view&&this.view.getCellView()===bu.FUNCTION)return Tu.text(n);if(e){for(var i=""+this.searchAccessor(t),r=i.toLocaleLowerCase(),o=e.toLocaleLowerCase(),a=[],u=0;u<o.length;){var s=r.indexOf(o,u);s>=0?(a.push(s),u=s+e.length):u=o.length}var c=i.split("");return a.forEach((function(t){for(var n=0;n<e.length;n+=1){var i=void 0;i=0===n?'<span class="gui-text-highlight">'+c[t+n]:c[t+n],n===e.length-1&&(i+="</span>"),c[t+n]=i}})),i=c.join(""),Tu.HTML(i)}return Tu.text(n)},t}();var Yu=function(t){function e(e,n,i,r,o,a,u,s,c,l){void 0===c&&(c=Lu.NONE),void 0===l&&(l=!0);var p=t.call(this,n)||this;return p.type=r,p.view=o,p.align=a,p.sortable=!0,p.field=e,p.columnDefinitionId=n,p.enabled=i,p.header=u,p.cellEditingEnabled=s,p.sortStatus=c,p.sortable=l,p}return l(e,t),e.prototype.isEnabled=function(){return this.enabled},e.prototype.setHeader=function(t){this.header=t},e.prototype.setField=function(t){this.field=t},e.prototype.setTemplateFunction=function(t){this.templateFunction=t},e.prototype.getHeaderCellTemplateWithContext=function(t){var e,n=this.header||"";"string"==typeof n?e=new Xu(Tu.text(n)):"function"==typeof n&&(e=new Xu(Tu.text(n(t))));var i=new Se(this.field.getId().getId());return new Ku(this.headerTemplate,this.editTemplate,e,this.width,i,this.columnDefinitionId,this.sortStatus,this.enabled,this.sortable,this.align)},e.prototype.getContentCellTemplateWithAccessor=function(){var t=this;return new Zu(this.cellTemplate,this.editTemplate,!0,this.templateFunction,(function(e){return t.field.getAccessor()(e)}),(function(e){return t.field.getSearchAccessor()(e)}),this.width,this.field.getId(),this.align,this.cellEditingEnabled,this.type,this.view)},e}(r.ReadModelEntity);var Ju=function(){function t(t,e){this.viewTemplateRepository=t,this.editTemplateRepository=e}return t.prototype.create=function(t){return t instanceof Qu?this.createFromColumnEntity(t):this.createFromActiveColumnEntity(t)},t.prototype.createFromColumnEntity=function(t){var e=new Yu(t.getField(),new be(t.getId().toString()),t.isEnabled(),t.getDataType(),t.getView(),t.getAlign(),t.getHeader(),t.isCellEditingEnabled(),t.getSortStatus(),t.getSortingEnabled());return e.cellTemplate=this.findViewTemplate(t.getCellView()),e.headerTemplate=this.findViewTemplate(bu.TEXT),e.setTemplateFunction(t.getTemplateFunction()),e.editTemplate=this.findEditTemplate(t.getDataType()),e.width=+t.getWidth(),e},t.prototype.createFromActiveColumnEntity=function(t){var e=new Yu(t.getField(),new be(t.getId().toString()),!0,t.getDataType(),t.getView(),t.getAlign(),t.getHeader(),t.isCellEditingEnabled(),t.getSortStatus(),t.getSortingEnabled());return e.cellTemplate=this.findViewTemplate(t.getCellView()),e.headerTemplate=this.findViewTemplate(bu.TEXT),e.setTemplateFunction(t.getTemplateFunction()),e.editTemplate=this.findEditTemplate(t.getDataType()),e.width=+t.getWidth(),e},t.prototype.createColumns=function(t){var e=this;return t.map((function(t){return e.create(t)}))},t.prototype.findViewTemplate=function(t){return t===bu.FUNCTION?this.viewTemplateRepository.findTemplate(bu.FUNCTION):this.viewTemplateRepository.findTemplate(t)},t.prototype.findEditTemplate=function(t){return this.editTemplateRepository.findTemplate(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Bu},{type:zu}]},t}();var _u=function(t){function e(e,n,i,r,o,a){var u=t.call(this,e)||this;return u.ready=n,u.allColumns=i,u.activeColumns=r,u.width=o,u.resizeWidth=a,u}return l(e,t),e.prototype.getActiveColumns=function(){return this.activeColumns},e.prototype.getAllColumns=function(){return this.allColumns},e.prototype.getActiveHeaderColumns=function(){return this.getActiveColumns().map((function(t,e){return t.getHeaderCellTemplateWithContext(e)}))},e.prototype.getHeaderColumns=function(){return this.getAllColumns().map((function(t,e){return t.getHeaderCellTemplateWithContext(e)}))},e.prototype.getTemplateColumns=function(){return this.getActiveColumns().map((function(t){return t.getContentCellTemplateWithAccessor()}))},e.prototype.getWidth=function(){return this.width},e.prototype.getContainerWidth=function(){return+this.width-2},e.prototype.isReady=function(){return this.ready},e.prototype.isResizeWidthEnabled=function(){return this.resizeWidth},e.prototype.equals=function(t){return this.width===t.width&&this.resizeWidth===t.resizeWidth&&this.equalsByColumns(t.allColumns)},e.prototype.equalsByColumns=function(t){return this.allColumns.length===t.length},e}(r.ReadModelRoot);var $u=function(){function t(t){this.columnDefinitionFactory=t}return t.prototype.convert=function(t){var e=t.isReady(),n=t.getColumns(),i=t.getActiveColumns(),r=this.convertToColumnDef(n),o=this.convertActiveColumnsToColumnDef(i),a=t.getWidth(),u=t.isResizeEnabled(),s=t.getId();return new _u(s.toReadModelRootId(),e,r,o,a,u)},t.prototype.convertToColumnDef=function(t){var e=this,n=[];return t.forEach((function(t){var i=e.columnDefinitionFactory.create(t);n.push(i)})),n},t.prototype.convertActiveColumnsToColumnDef=function(t){var e=this,n=[];return t.forEach((function(t){var i=e.columnDefinitionFactory.create(t);n.push(i)})),n},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Ju}]},t}();var ts=function(t){function n(e,n){var i=t.call(this,e)||this;return i.inMemoryCompositionStore=e,i.compositionConverter=n,i}return l(n,t),n.prototype.toReadModel=function(t){return this.compositionConverter.convert(t)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:ku},{type:$u}]},n}(r.InMemoryReadModelStore);var es=function(t){function e(e){return t.call(this,e,"CompositionCreatedEvent")||this}return l(e,t),e}(r.DomainEvent),ns=function(t){function e(e){return t.call(this,e,"CompositionResizeWidthSetEvent")||this}return l(e,t),e}(r.DomainEvent),is=function(t){function e(e){return t.call(this,e,"CompositionWidthSetEvent")||this}return l(e,t),e}(r.DomainEvent),rs=function(t){function e(e,n){var i=t.call(this,e,"CompositionChangeSortStatusEvent")||this;return i.activeColumns=n,i}return l(e,t),e.prototype.getCompositionId=function(){return this.getAggregateId()},e.prototype.getActiveColumns=function(){return this.activeColumns},e}(r.DomainEvent);var os=function(t){function e(e){return t.call(this,e,"CompositionColumnSetEnabledEvent")||this}return l(e,t),e}(r.DomainEvent),as=function(t){function e(e){return t.call(this,e,"CompositionColumnMovedLeftEvent")||this}return l(e,t),e}(r.DomainEvent),us=function(t){function e(e){return t.call(this,e,"CompositionColumnMovedRightEvent")||this}return l(e,t),e}(r.DomainEvent),ss=function(t){function n(e,n){var i=t.call(this,e)||this;return i.inMemoryCompositionReadStore=n,i.compositionIdToComposition=new Map,i.composition$=new o.ReplaySubject(1),i}return l(n,t),n.prototype.on=function(t){return this.composition$.asObservable().pipe(a.filter((function(e){var n=t.getId();return e.has(n)})),a.map((function(e){return e.get(t.getId())})))},n.prototype.forEvents=function(){return[es,ns,_n,$n,is,os,as,us,rs]},n.prototype.subscribe=function(t){var e=this,n=t.getAggregateId();this.inMemoryCompositionReadStore.getById(n).ifPresent((function(t){var n=t.getId().toString();e.compositionIdToComposition.set(n,t),e.composition$.next(e.compositionIdToComposition)}))},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:r.DomainEventBus},{type:ts}]},n}(Ee);var cs=[Ou,{provide:Nu,useClass:Hu}],ls=[ts,{provide:Ee,useClass:ss}],ps=[ku],gs=function(){};var ds=function(t){function e(){return t.call(this)||this}return l(e,t),e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.getPossibleViews=function(){return[bu.TEXT,bu.BAR,bu.PERCENTAGE_BAR,bu.PERCENTAGE]},e.prototype.getDefaultView=function(){return bu.NUMBER},e.prototype.getDefaultAlign=function(t){return Gu.RIGHT},e.instance=null,e}(gs);var hs=function(t){function e(){return t.call(this)||this}return l(e,t),e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.getPossibleViews=function(){return[bu.TEXT,bu.ITALIC,bu.CHIP,bu.BOLD,bu.CHECKBOX]},e.prototype.getDefaultView=function(){return bu.TEXT},e.prototype.getDefaultAlign=function(t){return t.getCellView()===bu.CHECKBOX?Gu.CENTER:Gu.LEFT},e.instance=null,e}(gs);var ms=function(t){function e(){return t.call(this)||this}return l(e,t),e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.getPossibleViews=function(){return[bu.DATE,bu.TEXT,bu.ITALIC,bu.BOLD,bu.CHIP]},e.prototype.getDefaultView=function(){return bu.DATE},e.prototype.getDefaultAlign=function(){return Gu.LEFT},e.instance=null,e}(gs);var fs=function(t){function e(){return t.call(this)||this}return l(e,t),e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.getPossibleViews=function(){return[bu.TEXT,bu.ITALIC,bu.BOLD,bu.IMAGE,bu.LINK,bu.CHIP]},e.prototype.getDefaultView=function(){return bu.TEXT},e.prototype.getDefaultAlign=function(){return Gu.LEFT},e.instance=null,e}(gs);var ys=function(t){function e(){return t.call(this)||this}return l(e,t),e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.getPossibleViews=function(){return[bu.TEXT]},e.prototype.getDefaultView=function(){return bu.TEXT},e.prototype.getDefaultAlign=function(){return Gu.LEFT},e.instance=null,e}(gs);var vs=function(){function t(){}return t.prototype.convert=function(t){return t===cr.NUMBER?ds.getInstance():t===cr.BOOLEAN?hs.getInstance():t===cr.DATE?ms.getInstance():t===cr.STRING?fs.getInstance():ys.getInstance()},t.decorators=[{type:e.Injectable}],t}(),bs=function(){function t(t){this.columnPresentationConverter=t}return t.prototype.create=function(t){return Array.isArray(t)?this.createColumns(t):this.createColumn(t)},t.prototype.createColumn=function(t){var e,n,i=t.getColumn(),o=t.getField(),a=this.convertWidth(i.width)||void 0,u=o.getDataType();void 0!==i.view&&(e=new Wu(i.view)),n=void 0===i.enabled||i.enabled;var s=this.getPresentation(u),c=new Qu(new tt(r.RandomStringGenerator.generate()),o,i,n,s,void 0,i.align,e,a);return void 0!==i.header&&c.setHeader(i.header),c},t.prototype.createColumns=function(t){var e=this,n=[];return t.forEach((function(t){n.push(e.createColumn(t))})),n},t.prototype.convertWidth=function(t){return+t},t.prototype.getPresentation=function(t){return this.columnPresentationConverter.convert(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:vs}]},t}();var Cs="CompositionResizeWidthSetAggregateEvent",Es="ColumnsSetAggregateEvent",Is="CompositionContainerWidthSetAggregateEvent",Ss="CompositionWidthSetAggregateEvent",ws="CompositionColumnSetEnabledAggregateEvent",As="CompositionColumnMovedLeftAggregateEvent",Ds="CompositionColumnMovedRightAggregateEvent",Rs=function(){function t(){}return t.prototype.convert=function(t){return Array.isArray(t)?this.convertEvents(t):this.convertEvent(t)},t.prototype.convertEvents=function(t){var e=this;return t.map((function(t){return e.convertEvent(t)}))},t.prototype.convertEvent=function(t){switch(t.getType()){case Cs:return new ns(t.getAggregateId());case Es:return new _n(t.getAggregateId());case Is:var e=t.containerWidth;return new $n(t.getAggregateId(),e);case Ss:return new is(t.getAggregateId());case ws:return new os(t.getAggregateId());case As:return new as(t.getAggregateId());case Ds:return new us(t.getAggregateId())}},t.decorators=[{type:e.Injectable}],t}(),Ms=f(cs,[_,bs,vs,Rs,Qr]),xs=f(ls,[Ju,Bu,ju,Uu,zu]),Ps=f(ps,Ms,xs,[$u,et,Ie,ti]),Ts=function(){function t(t){this.sanitizer=t}return t.prototype.transform=function(t,e){switch(e){case"html":return this.sanitizer.bypassSecurityTrustHtml(t);case"style":return this.sanitizer.bypassSecurityTrustStyle(t);case"script":return this.sanitizer.bypassSecurityTrustScript(t);case"url":return this.sanitizer.bypassSecurityTrustUrl(t);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(t);default:throw new Error("Invalid safe type specified: "+e)}},t.decorators=[{type:e.Pipe,args:[{name:"guiSafe"}]}],t.ctorParameters=function(){return[{type:u.DomSanitizer}]},t}();var Fs=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],declarations:[Ts],exports:[Ts]}]}],t}(),ks=function(){function t(t){this.MIN_COLUMN_WIDTH=t}return t.prototype.calculateMinWidth=function(t){var e=this.segregateColumns(t),n=e.staticColumns,i=e.fluidColumns,r=0;return n.forEach((function(t){r+=t.getWidth()})),r+=i.length*this.MIN_COLUMN_WIDTH},t.prototype.segregateColumns=function(t){var e=this;return{staticColumns:t.filter((function(t){return t.isTypeNumber()&&t.getWidth()>e.MIN_COLUMN_WIDTH})),fluidColumns:t.filter((function(t){return t.isTypeAuto()||t.isTypePercentage()||t.isTypeNumber()&&t.getWidth()<=e.MIN_COLUMN_WIDTH}))}},t}();var Os=function(t){function e(e){return t.call(this,e,"CompositionWidthSetAggregateEvent")||this}return l(e,t),e.prototype.toDomainEvent=function(){return new is(this.getAggregateId())},e}(r.AggregateEvent),Ns=function(t){function e(e,n){var i=t.call(this,e,"CompositionContainerWidthSetAggregateEvent")||this;return i.containerWidth=n,i}return l(e,t),e.prototype.toDomainEvent=function(){return new $n(this.getAggregateId(),this.containerWidth)},e}(r.AggregateEvent);var Hs=function(t){function e(e){return t.call(this,e,"CompositionResizeWidthSetAggregateEvent")||this}return l(e,t),e.prototype.toDomainEvent=function(){return new ns(this.getAggregateId())},e}(r.AggregateEvent),Vs=function(t){function e(e,n){var i=t.call(this,e,"CompositionColumnSetEnabledAggregateEvent")||this;return i.activeColumns=n,i}return l(e,t),e.prototype.toDomainEvent=function(){return new os(this.getAggregateId())},e.prototype.getActiveColumns=function(){return this.activeColumns},e}(r.AggregateEvent);var js={PERCENTAGE:0,NUMBER:1,AUTO:2};js[js.PERCENTAGE]="PERCENTAGE",js[js.NUMBER]="NUMBER",js[js.AUTO]="AUTO";var Bs=function(){function t(t){this.baseWidth=t,this.setWidthAndType(t)}return t.prototype.getWidth=function(){return this.width},t.prototype.getColumnType=function(){return this.template},t.prototype.isTypePercentage=function(){return this.template===js.PERCENTAGE},t.prototype.isTypeAuto=function(){return this.template===js.AUTO},t.prototype.isTypeNumber=function(){return this.template===js.NUMBER},t.prototype.setWidth=function(t){this.width=t},t.prototype.setWidthAndType=function(t){null==t||"auto"===t?(this.template=js.AUTO,this.setWidth(null)):this.isPercentage(t)?(this.template=js.PERCENTAGE,this.setWidth(this.percentageToNumber(""+t))):(this.isStringNumber(t),this.template=js.NUMBER,this.setWidth(+t))},t.prototype.clone=function(){return new t(this.baseWidth)},t.prototype.isPercentage=function(t){return"string"==typeof t&&"%"===t[t.length-1]},t.prototype.percentageToNumber=function(t){return+t.slice(0,-1)},t.prototype.isStringNumber=function(t){var e=+t;return Number.isNaN(e)},t}();var Us=function(){function t(t,e,n){this.source=t,this.width=e,this.MIN_COLUMN_WIDTH=n,this.columns=this.source.map((function(t){return t.clone()}))}return t.prototype.calculate=function(){var t=this.width,e=f(this.columns);this.adjustMinimalWidth(e);var n=[];if(e.forEach((function(e,i){e.isTypeNumber()?t-=e.getWidth():n.push(e)})),0!==(e=n).length){var i=t/e.length;e.forEach((function(t,e){t.setWidth(i)}))}return this.columns},t.prototype.adjustMinimalWidth=function(t){var e=this;t.forEach((function(t){t.isTypeNumber()&&t.getWidth()<e.MIN_COLUMN_WIDTH&&t.setWidthAndType(e.MIN_COLUMN_WIDTH)}))},t.prototype.adjustPercentageWidth=function(){var t,e;this.columns.filter((function(t){return t.isTypePercentage()}));try{for(var n=h(this.columns),i=n.next();!i.done;i=n.next()){var r=i.value;r.getColumnType()===js.PERCENTAGE&&r.setWidth(this.width*r.getWidth()*.01)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t.prototype.adjustAutoWidth=function(){for(var t,e,n=this.width,i=[],r=0;r<this.columns.length;r+=1){(s=this.columns[r]).getColumnType()!==js.AUTO?n-=s.getWidth():i.push(s)}if(i.length>0){var o=n/i.length;try{for(var a=h(i),u=a.next();!u.done;u=a.next()){var s;(s=u.value).setWidth(o)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}}},t}();var zs=function(){function t(t,e,n){void 0===e&&(e=[]),void 0===n&&(n=100),this.MIN_COLUMN_WIDTH=t,this.baseColumnWidths=e.map((function(t){return new Bs(t.width)})),this.columnWidths=e.map((function(t){return new Bs(t.width)})),this.setContainerWidth(n),this.calculate()}return t.prototype.getColumnWidths=function(){return this.baseColumnWidths},t.prototype.getColumnsWidth=function(){return this.width},t.prototype.getWidths=function(){return this.columnWidths.map((function(t){return t.getWidth()}))},t.prototype.getMinWidth=function(){return new ks(this.MIN_COLUMN_WIDTH).calculateMinWidth(this.columnWidths)},t.prototype.setWidth=function(t){this.setContainerWidth(t),this.calculate()},t.prototype.setColumns=function(t){this.baseColumnWidths=t.map((function(t){return new Bs(t.width)})),this.columnWidths=t.map((function(t){return new Bs(t.width)})),this.calculate()},t.prototype.getMinColumnWidth=function(){return this.MIN_COLUMN_WIDTH},t.prototype.calculate=function(){if(this.baseColumnWidths&&this.width){var t=new Us(this.baseColumnWidths,this.width,this.MIN_COLUMN_WIDTH);this.columnWidths=t.calculate()}},t.prototype.setContainerWidth=function(t){this.getMinWidth()>t?this.width=this.getMinWidth():this.width=t,this.calculate()},t}();var Ls=function(t){function e(e,n){var i=t.call(this,e,"CompositionChangeSortStatusAggregateEvent")||this;return i.activeColumns=n,i}return l(e,t),e.prototype.toDomainEvent=function(){return new rs(this.getAggregateId(),this.activeColumns)},e}(r.AggregateEvent);var Ws=function(){function t(t,e,n,i){void 0===e&&(e=[]),this.compositionId=t,this.MIN_COLUMN_WIDTH=50,this.columnWidthCollection=new zs(this.MIN_COLUMN_WIDTH),this.columns=e,n&&i&&(this.columnWidthCollection=new zs(this.MIN_COLUMN_WIDTH,i,n))}return t.prototype.getColumnWidths=function(){return this.columnWidthCollection.getColumnWidths()},t.prototype.getColumns=function(){return this.columns},t.prototype.setWidth=function(t){this.columnWidthCollection.setWidth(t)},t.prototype.addColumn=function(t,e){this.columns.splice(e,0,t)},t.prototype.removeColumn=function(t){this.columns.splice(t,1)},t.prototype.setColumns=function(t,e){this.columns=t,this.columnWidthCollection.setColumns(e);var n=this.columnWidthCollection.getWidths();this.columns.forEach((function(t,e){t.setWidth(n[e])}))},t.prototype.changeSort=function(t){var e,n;this.columns.forEach((function(t){t.setSortStatus(Lu.NONE)}));var i=function(t){var e=t.fieldId,n=t.direction?Lu.ASC:Lu.DESC,i=r.columns.filter((function(t){return t.getField().getId().getId()===e.getId()}));i.length>0&&i.forEach((function(t){t.setSortStatus(n)}))},r=this;try{for(var o=h(t),a=o.next();!a.done;a=o.next()){i(a.value)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return new Ls(this.getCompositionId(),this.columns)},t.prototype.moveLeft=function(t){var e=this.findColumnIndex(t);this.move(e,e-1)},t.prototype.moveRight=function(t){var e=this.findColumnIndex(t);this.move(e,e+1)},t.prototype.getMinColumnWidth=function(){return this.MIN_COLUMN_WIDTH},t.prototype.move=function(t,e){if(this.validateMoveIndex(t)&&this.validateMoveIndex(e)){var n=this.columns[t];this.columns[t]=this.columns[e],this.columns[e]=n}},t.prototype.validateMoveIndex=function(t){return t>=0},t.prototype.getCompositionId=function(){return this.compositionId},t.prototype.findColumnIndex=function(t){return this.columns.findIndex((function(e){return e.getId().equals(t)}))},t}();var Gs=function(t){function e(e,n,i,r,o,a,u){return t.call(this,e,n,a,!0,u,i,r,o,void 0)||this}return l(e,t),e.fromEntity=function(t){return new e(t.getId(),t.getField(),t.getHeader(),t.getAlign(),t.getView(),t.getColumnConfig(),t.getPresentation())},e}(Qu),qs=function(){function t(){}return t.prototype.convertMany=function(t){var e=this;return t.map((function(t){return e.convert(t)}))},t.prototype.convert=function(t){return Gs.fromEntity(t)},t}(),Qs=function(t){function e(e,n){var i=t.call(this,e,"CompositionColumnMovedLeftAggregateEvent")||this;return i.activeColumns=n,i}return l(e,t),e.prototype.toDomainEvent=function(){return new as(this.getAggregateId())},e}(r.AggregateEvent);var Ks=function(t){function e(e,n){var i=t.call(this,e,"CompositionColumnMovedRightAggregateEvent")||this;return i.activeColumns=n,i}return l(e,t),e.prototype.toDomainEvent=function(){return new us(this.getAggregateId())},e}(r.AggregateEvent);var Xs=function(t){function e(e){return t.call(this,e,"ColumnsSetAggregateEvent")||this}return l(e,t),e.prototype.toDomainEvent=function(){return new _n(this.getAggregateId())},e}(r.AggregateEvent),Zs=function(t){function e(e){return t.call(this,e,"SchemaCreatedEvent")||this}return l(e,t),e.prototype.toDomainEvent=function(){return new es(this.getAggregateId())},e}(r.AggregateEvent),Ys=function(t){function e(e,n,i,r,o){void 0===i&&(i=[]);var a=t.call(this,e,"CompositionAggregate")||this;a.allColumns=[],a.resizeWidthEnabled=!0,a.activeColumnEntityConverter=new qs;var u=i.map((function(t){return t.getColumn()}));a.baseParams=i,a.baseColumns=u,a.columnFactory=n,a.width=r,a.allColumns=a.columnFactory.create(i);var s=a.activeColumnEntityConverter.convertMany(a.getEnabledColumns());return a.activeColumnContainer=new Ws(a.getId(),s,r,u),null!=o&&(a.resizeWidthEnabled=o),a}return l(e,t),e.prototype.createEvent=function(){return Zs},e.prototype.getColumns=function(){return this.allColumns},e.prototype.getActiveColumns=function(){return this.activeColumnContainer.getColumns()},e.prototype.getWidth=function(){return this.resizeWidthEnabled?this.containerInDOMWidth:this.width},e.prototype.isResizeEnabled=function(){return this.resizeWidthEnabled},e.prototype.isReady=function(){return!!this.getWidth()&&this.getActiveColumns().length>0},e.prototype.setColumns=function(t){this.allColumns=this.columnFactory.create(t);var e=t.map((function(t){return t.getColumn()})),n=this.activeColumnEntityConverter.convertMany(this.getEnabledColumns());this.activeColumnContainer.setColumns(n,e),this.addEvent(new Xs(this.getId()))},e.prototype.setContainerWidth=function(t){this.setContainerWidthWithEvent(t),this.recalculateColumns()},e.prototype.setWidth=function(t){this.setWidthWithEvent(t),this.setResizeWidthWithEvent(!1),this.recalculateColumns()},e.prototype.setResizeWidth=function(t){this.setResizeWidthWithEvent(t)},e.prototype.changeSort=function(t){this.addEvent(this.activeColumnContainer.changeSort(t))},e.prototype.enableColumn=function(t,e){var n=-1;if(this.allColumns.forEach((function(i,r){if(i.getId().getId()===t.getId()){var o=i.isEnabled();i.setEnabled(e),o!==e&&(n=r)}})),n>0)if(e){var i=this.activeColumnEntityConverter.convert(this.allColumns[n]);this.activeColumnContainer.addColumn(i,n)}else this.activeColumnContainer.removeColumn(n);this.recalculateColumns(),this.addEvent(new Vs(this.getId(),this.getActiveColumns()))},e.prototype.moveLeft=function(t){for(var e,n=this.findColumnIndex(t),i=-1,r=n-1;r>=0;r-=1){var o=this.allColumns[r];if(o.isEnabled()){e=o,i=r;break}}if(e&&i>=0&&n>=0){var a=this.allColumns[n];this.allColumns[n]=e,this.allColumns[i]=a}this.activeColumnContainer.moveLeft(t),this.addEvent(new Qs(this.getId(),this.getActiveColumns()))},e.prototype.moveRight=function(t){for(var e,n=this.findColumnIndex(t),i=-1,r=n+1;r<this.allColumns.length;r+=1){var o=this.allColumns[r];if(o.isEnabled()){e=o,i=r;break}}if(e&&i>=0&&n>=0){var a=this.allColumns[n];this.allColumns[n]=e,this.allColumns[i]=a}this.activeColumnContainer.moveRight(t),this.addEvent(new Ks(this.getId(),this.getActiveColumns()))},e.prototype.recalculateColumns=function(){var t=this.activeColumnEntityConverter.convertMany(this.getEnabledColumns());this.activeColumnContainer.setColumns(t,t.map((function(t){return t.getColumnConfig()})))},e.prototype.setWidthWithEvent=function(t){var e=new ks(this.getMinColumnWidth()).calculateMinWidth(this.activeColumnContainer.getColumnWidths());this.width=e>t?e:t,this.activeColumnContainer.setWidth(this.getWidth()),this.addEvent(new Os(this.getId()))},e.prototype.setContainerWidthWithEvent=function(t){var e=new ks(this.getMinColumnWidth()).calculateMinWidth(this.activeColumnContainer.getColumnWidths());this.containerInDOMWidth=e>t?e:t,this.activeColumnContainer.setWidth(this.getWidth()),this.addEvent(new Ns(this.getId(),t))},e.prototype.setResizeWidthWithEvent=function(t){this.resizeWidthEnabled=t,this.activeColumnContainer.setWidth(this.getWidth()),this.addEvent(new Hs(this.getId()))},e.prototype.getEnabledColumns=function(){return this.allColumns.filter((function(t){return t.isEnabled()}))},e.prototype.findColumnIndex=function(t){return this.allColumns.findIndex((function(e){return e.getId().equals(t)}))},e.prototype.getMinColumnWidth=function(){return this.activeColumnContainer.getMinColumnWidth()},e}(r.AggregateRoot);var Js=function(t){function n(e){var n=t.call(this)||this;return n.columnFactory=e,n}return l(n,t),n.prototype.create=function(t){return new Ys(t,this.columnFactory)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:bs}]},n}(r.AggregateFactory);var _s=function(){function t(t,e){this.compositionAggregateRepository=t,this.domainEventPublisher=e}return t.prototype.forCommand=function(){return W},t.prototype.getAggregateRepository=function(){return this.compositionAggregateRepository},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publish(new es(e.getAggregateId()))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Nu},{type:r.DomainEventPublisher}]},t}();var $s=function(){function t(t,e,n){this.compositionAggregateRepository=t,this.domainEventPublisher=e,this.compositionEventConverter=n}return t.prototype.forCommand=function(){return Z},t.prototype.publishDomainEvents=function(t,e){this.publishEvents(t,e)},t.prototype.handleAggregate=function(t,e){var n=e.getColumnId(),i=e.isEnabled();t.enableColumn(n,i)},t.prototype.publishEvents=function(t,e){var n=t.getEvents(),i=this.compositionEventConverter.convert(n);i&&i.length>0&&this.domainEventPublisher.publish(i)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Nu},{type:r.DomainEventPublisher},{type:Rs}]},t}();var tc=function(){function t(t,e,n){this.compositionAggregateRepository=t,this.domainEventPublisher=e,this.compositionEventConverter=n}return t.prototype.forCommand=function(){return G},t.prototype.publishDomainEvents=function(t,e){this.publishEvents(t,e)},t.prototype.handleAggregate=function(t,e){var n=e.getParams();t.setColumns(n)},t.prototype.publishEvents=function(t,e){var n=t.getEvents(),i=this.compositionEventConverter.convert(n);this.domainEventPublisher.publish(i)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Nu},{type:r.DomainEventPublisher},{type:Rs}]},t}();var ec=function(){function t(t,e){this.domainEventPublisher=e}return t.prototype.forCommand=function(){return q},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publish(new is(e.getAggregateId()))},t.prototype.handleAggregate=function(t,e){var n=e.getWidth();t.setWidth(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Nu},{type:r.DomainEventPublisher}]},t}();var nc=function(){function t(t,e,n){this.compositionAggregateRepository=t,this.domainEventPublisher=e,this.compositionEventConverter=n}return t.prototype.forCommand=function(){return Y},t.prototype.publishDomainEvents=function(t,e){this.publishEvents(t,e)},t.prototype.handleAggregate=function(t,e){var n=e.getColumnId();t.moveLeft(n)},t.prototype.publishEvents=function(t,e){var n=t.getEvents(),i=this.compositionEventConverter.convert(n);i&&i.length>0&&this.domainEventPublisher.publish(i)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Nu},{type:r.DomainEventPublisher},{type:Rs}]},t}();var ic=function(){function t(t,e,n){this.compositionAggregateRepository=t,this.domainEventPublisher=e,this.compositionEventConverter=n}return t.prototype.forCommand=function(){return J},t.prototype.publishDomainEvents=function(t,e){this.publishEvents(t,e)},t.prototype.handleAggregate=function(t,e){var n=e.getColumnId();t.moveRight(n)},t.prototype.publishEvents=function(t,e){var n=t.getEvents(),i=this.compositionEventConverter.convert(n);i&&i.length>0&&this.domainEventPublisher.publish(i)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Nu},{type:r.DomainEventPublisher},{type:Rs}]},t}();var rc=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return X},t.prototype.publishDomainEvents=function(t,e){var n=e.getAggregateId(),i=t.getActiveColumns();this.domainEventPublisher.publish(new rs(n,i))},t.prototype.handleAggregate=function(t,e){var n=e.getSortParams();t.changeSort(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var oc=function(){function t(t,e,n){this.compositionAggregateRepository=t,this.domainEventPublisher=e,this.compositionEventConverter=n}return t.prototype.forCommand=function(){return Q},t.prototype.publishDomainEvents=function(t,e){this.publishAggregateEvents(t.getEvents())},t.prototype.handleAggregate=function(t,e){var n=e.getWidth();t.setContainerWidth(n)},t.prototype.publishAggregateEvents=function(t){var e=this.compositionEventConverter.convert(t);this.domainEventPublisher.publish(e)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Nu},{type:r.DomainEventPublisher},{type:Rs}]},t}();var ac=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return K},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publish(new ns(e.getAggregateId()))},t.prototype.handleAggregate=function(t,e){var n=e.getEnabled();t.setResizeWidth(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var uc=function(t){function n(){var e=t.call(this)||this;return e.filterFieldName="dateEdit",e.opened=!1,e}return l(n,t),n.prototype.ngAfterViewInit=function(){var t=this,e=this.datePickerRef.nativeElement.querySelector(".gui-date-picker-input"),n=o.fromEvent(e,"keyup");n.pipe(a.filter((function(e){return e.keyCode===t.ENTER_KEY_CODE})),this.takeUntil()).subscribe((function(){t.unsubscribe(),t.submit()})),n.pipe(a.filter((function(e){return e.keyCode===t.ESC_KEY_CODE})),this.takeUntil()).subscribe((function(){t.unsubscribe(),t.cancel()}))},n.prototype.toggle=function(t){this.valueChanges.emit(t)},n.prototype.dialogOpened=function(t){this.opened=t,t||(this.unsubscribe(),this.submit())},n.decorators=[{type:e.Component,args:[{selector:"gui-date-edit",template:'\n\n\t\t<gui-date-picker #datepicker\n\t\t\t\t\t\t [selectDate]="value"\n\t\t\t\t\t\t [name]="filterFieldName"\n\t\t\t\t\t\t [openDialog]="true"\n\t\t\t\t\t\t [onlyDialog]="false"\n\t\t\t\t\t\t [parentElement]="parent"\n\t\t\t\t\t\t (dialogOpened)="dialogOpened($event)"\n\t\t\t\t\t\t (dateSelected)="toggle($event)">\n\t\t</gui-date-picker>\n\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[]},n.propDecorators={datePickerRef:[{type:e.ViewChild,args:["datepicker",{read:e.ElementRef,static:!0}]}]},n}(Su);var sc=function(){function t(){this.showPercentage=!1}return t.prototype.ngOnChanges=function(t){void 0!==t.value&&null!==t.value&&(this.width=this.value>100?100:this.value)},t.decorators=[{type:e.Component,args:[{selector:"gui-bar-view[value]",template:'\n\t\t<div class="gui-percentage-bar">\n\t\t\t<div class="gui-percentage" [style.width.%]="width">\n\t\t\t</div>\n\t\t\t<gui-percentage-view *ngIf="showPercentage"\n\t\t\t\t\t\t\t\t [value]="value">\n\t\t\t</gui-percentage-view>\n\t\t</div>\n\t',host:{"[class.gui-bar-view]":"true"},changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],t.propDecorators={value:[{type:e.Input}],showPercentage:[{type:e.Input}]},t}();var cc=function(){function t(){}return t.decorators=[{type:e.Component,args:[{selector:"gui-percentage-view[value]",template:"\n\t\t{{ value }} %\n\t",host:{"[class.gui-percentage-view]":"true"},changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],t.propDecorators={value:[{type:e.Input}]},t}();var lc=function(){function t(t,e,n,i){this.elementRef=n,this.renderer=i,this.isHtml=!1,null!==t&&this.renderer.addClass(this.elementRef.nativeElement,"gui-bold"),null!==e&&this.renderer.addClass(this.elementRef.nativeElement,"gui-italic"),this.elementRef.nativeElement.className}return t.prototype.ngOnChanges=function(){this.isHtml=this.value.type===Pu.HTML},t.decorators=[{type:e.Component,args:[{selector:"gui-view-text[value]",template:'\n\n\t\t<ng-container *ngIf="isHtml; else text">\n\t\t\t<span [innerHTML]="value.value | guiSafe: \'html\'"></span>\n\t\t</ng-container>\n\t\t\n\t\t<ng-template #text>\n\t\t\t<span >\n\t\t\t\t{{value.value}}\n\t\t\t</span>\n\t\t</ng-template>\n\t',host:{"[class.gui-text-view]":"true"},changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],t.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Attribute,args:["bold"]}]},{type:void 0,decorators:[{type:e.Attribute,args:["italic"]}]},{type:e.ElementRef},{type:e.Renderer2}]},t.propDecorators={value:[{type:e.Input}]},t}();var pc=function(t,e){this.fieldId=t,this.direction=e};var gc=function(){function t(t){this.compositionDispatcher=t}return t.prototype.forEvents=function(){return[Ki,Ji]},t.prototype.handle=function(t){if(t.ofMessageType("SortToggledEvent")){var e=t.getCompositionId(),n=t.getDirections().map((function(t){var e=new Un(t.fieldId.getId());return new pc(e,t.direction)}));this.compositionDispatcher.changeSort(e,n)}if(t.ofMessageType("SortOrderSetEvent")){e=t.getCompositionId(),n=t.getDirections().map((function(t){var e=new Un(t.fieldId.getId());return new pc(e,t.direction)}));this.compositionDispatcher.changeSort(e,n)}},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:_}]},t}();var dc=[Cu,Ru,Du,Au,Mu,uc,xu,Fu,sc,cc,lc],hc=[Cu,Ru,xu,i.FabricChipModule,i.FabricCheckboxModule,i.FabricButtonModule,i.FabricInputModule,Fu,sc,cc],mc="CompositionAggregate",fc=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,s.ReactiveFormsModule,Fs,i.FabricChipModule,i.FabricCheckboxModule,i.FabricButtonModule,i.FabricInputModule,i.FabricDatePickerModule,r.HermesModule.defineAggregate(mc,Js,Hu,_s,f(r.HermesModule.registerCommandHandler(tc,mc),r.HermesModule.registerCommandHandler(ec,mc),r.HermesModule.registerCommandHandler(ac,mc),r.HermesModule.registerCommandHandler(oc,mc),r.HermesModule.registerCommandHandler($s,mc),r.HermesModule.registerCommandHandler(rc,mc),r.HermesModule.registerCommandHandler(nc,mc),r.HermesModule.registerCommandHandler(ic,mc)),f(r.HermesModule.registerMultiDomainEventHandler(gc)))],providers:f(Ps),declarations:[dc],exports:hc,entryComponents:[Cu,Ru,i.FabricChipComponent,i.FabricCheckboxComponent,i.FabricButtonComponent,i.FabricInputComponent]}]}],t}(),yc=function(t){function n(e,n,i,r,o,a,u){var s=t.call(this)||this;return s.changeDetectorRef=e,s.structureId=n,s.structureCommandService=i,s.compositionReadModelService=r,s.filterWarehouse=o,s.structureColumnMenuConfigArchive=a,s.column=u,s.uniqueValues=[],s}return l(n,t),n.prototype.ngOnInit=function(){var t=this;this.filterWarehouse.onUniqueValues(this.structureId).pipe(this.takeUntil()).subscribe((function(e){t.uniqueValues=e.getValues(t.column.getFieldId()),t.changeDetectorRef.detectChanges()})),this.structureColumnMenuConfigArchive.onValue().pipe(this.takeUntil()).subscribe((function(e){t.config=e,t.changeDetectorRef.detectChanges()}))},n.prototype.isEnabled=function(){return this.config&&this.config.isEnabled()},n.decorators=[{type:e.Component,args:[{template:'\n\t\t<div *ngIf="isEnabled()"\n\t\t\t class="gui-header-menu-tab">\n\n\t\t\t<gui-tab [menu]="config.getMenus()" [active]="config.getActiveMenu()">\n\n\t\t\t\t<ng-container *ngIf="config.isMainEnabled()">\n\n\t\t\t\t\t<gui-tab-item class="gui-tab-item-dropdown" [tab]="config.getMainMenu()">\n\n\t\t\t\t\t\t<gui-structure-column-config-sort *ngIf="column.isSortEnabled()"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  [column]="column">\n\t\t\t\t\t\t</gui-structure-column-config-sort>\n\n\t\t\t\t\t\t<gui-structure-column-config-column-hide\n\t\t\t\t\t\t\t\t[column]="column">\n\t\t\t\t\t\t</gui-structure-column-config-column-hide>\n\n\t\t\t\t\t\t<gui-structure-column-config-column-move\n\t\t\t\t\t\t\t\t[column]="column">\n\t\t\t\t\t\t</gui-structure-column-config-column-move>\n\n\t\t\t\t\t</gui-tab-item>\n\n\t\t\t\t</ng-container>\n\n\t\t\t\t<ng-container *ngIf="config.isFilteringEnabled()">\n\n\t\t\t\t\t<gui-tab-item [tab]="config.getFilterMenu()">\n\n\t\t\t\t\t\t\x3c!--\t\t\t\t\t\t<div class="gui-header-menu-item">{{config.getFilterMenu()}}</div>--\x3e\n\n\t\t\t\t\t\t<gui-unique-value-list\n\t\t\t\t\t\t\t\t[fieldId]="column.getFieldId()">\n\t\t\t\t\t\t</gui-unique-value-list>\n\n\t\t\t\t\t</gui-tab-item>\n\n\t\t\t\t</ng-container>\n\n\t\t\t\t<ng-container *ngIf="config.isColumnManagerEnabled()">\n\n\t\t\t\t\t<gui-tab-item [tab]="config.getColumnMenu()">\n\n\t\t\t\t\t\t<gui-structure-menu-column-manager>\n\t\t\t\t\t\t</gui-structure-menu-column-manager>\n\n\t\t\t\t\t</gui-tab-item>\n\n\t\t\t\t</ng-container>\n\n\t\t\t</gui-tab>\n\t\t</div>\n\t'}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:F},{type:ae},{type:Ie},{type:Ha},{type:ri},{type:Ku,decorators:[{type:e.Inject,args:["column"]}]}]},n.propDecorators={headerSortMenu:[{type:e.ViewChild,args:["headerSortMenu",{static:!1}]}]},n}(Hn);var vc=function(t){function n(e,n,i,r){var o=t.call(this)||this;return o.injector=e,o.schemaReadModelRepository=n,o.structureThemeConverter=i,o.inlineDialogService=r,o}return l(n,t),n.prototype.open=function(t,n){var r=this,o=e.Injector.create({providers:[{provide:"column",useValue:n}],parent:this.injector});this.schemaReadModelRepository.onSingleTheme().pipe(this.takeUntil()).subscribe((function(e){r.inlineDialogService.open(t,yc,{injector:o,placement:i.InlineDialogPlacement.Top,offset:-2,theme:r.structureThemeConverter.convertTheme(e),customClass:"gui-inline-dialog-header-menu"})}))},n.prototype.close=function(){this.inlineDialogService.close()},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:e.Injector},{type:Be},{type:_a},{type:i.FabricInlineDialogService}]},n}(vt);var bc=function(t){function n(e,n,i,r,o,a,u){var s=t.call(this)||this;return s.elementRef=e,s.injector=n,s.changeDetectorRef=i,s.compositionId=r,s.structureId=o,s.formationCommandDispatcher=a,s.sortingCommandDispatcher=u,s.checkboxSelection=!1,s.globalSearching=!1,s}return l(n,t),n.prototype.toggleSort=function(t){t.isSortEnabled()&&this.sortingCommandDispatcher.toggleSort(t.getFieldId(),this.compositionId,this.structureId)},n.prototype.isSortAsc=function(t){return t.getSortStatus()===Lu.ASC},n.prototype.isSortDesc=function(t){return t.getSortStatus()===Lu.DESC},n.prototype.isGlobalSortEnabled=function(){return this.globalSearching},n.decorators=[{type:e.Component,args:[{selector:"gui-structure-header-columns",template:'<div *ngIf="checkboxSelection"\n\t class="gui-header-cell gui-row-checkbox">\n\t<gui-select-all></gui-select-all>\n</div>\n\n<div (click)="toggleSort(column)"\n\t *ngFor="let column of columns"\n\t [ngClass]="{\'gui-header-sortable\': column.isSortEnabled()}"\n\t [style.width.px]="column.width"\n\t class="gui-header-cell">\n\n\t<div class="gui-header-title">\n\t\t<ng-container\n\t\t\t\t*ngTemplateOutlet="column.viewTemplate;\n\t\t\t\t\t\t\t\t   context: column.context">\n\t\t</ng-container>\n\n\t\t<div [ngClass]="{\'gui-sort-asc\': isSortAsc(column), \'gui-sort-desc\': isSortDesc(column)}"\n\t\t\t class="gui-sort">\n\t\t</div>\n\t</div>\n\n\t<div class="gui-header-menu">\n\t\t<gui-structure-column-config-trigger\n\t\t\t\t[column]="column">\n\t\t</gui-structure-column-config-trigger>\n\t</div>\n</div>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,providers:[vc]}]}],n.ctorParameters=function(){return[{type:e.ElementRef},{type:e.Injector},{type:e.ChangeDetectorRef},{type:L},{type:F},{type:xt},{type:Gi}]},n.propDecorators={columns:[{type:e.Input}],checkboxSelection:[{type:e.Input}]},n}(Hn);var Cc=function(){function t(t,n,i,r){var o;this.structureFilterCommandService=t,this.formBuilder=n,this.cd=i,this.structureId=r,this.closed=new e.EventEmitter,this.filterFieldName="phrase",this.filterMode=!1,this.filterForm=this.formBuilder.group(((o={})[this.filterFieldName]=[""],o))}return t.prototype.ngOnInit=function(){var t=this;this.filterForm.valueChanges.subscribe((function(e){t.filter(e[t.filterFieldName])}))},t.prototype.filter=function(t){null==t&&(t="")},t.prototype.clearFilters=function(){this.filterForm.reset()},t.prototype.turnOnFilterMode=function(){this.filterMode=!0,this.cd.detectChanges()},t.prototype.turnOffFilterMode=function(){this.filterMode=!1,this.cd.detectChanges()},t.decorators=[{type:e.Component,args:[{selector:"gui-structure-header-filters",template:'\n\n\t\t<ng-container *ngIf="!filterMode">\n\n\t\t\t<div *ngFor="let cell of columns"\n\t\t\t\t [style.width.px]="cell.width"\n\t\t\t\t class="gui-header-cell">\n\n\t\t\t\t\x3c!--\t\t\t\t<gui-structure-header-filter [column]="cell">--\x3e\n\t\t\t\t\x3c!--\t\t\t\t</gui-structure-header-filter>--\x3e\n\n\t\t\t\t<button (click)="turnOnFilterMode()">Add Filter</button>\n\n\t\t\t</div>\n\n\t\t</ng-container>\n\n\t\t<ng-container *ngIf="filterMode">\n\n\t\t\t<gui-select [options]="[\'has value\', \'is the same as\', \'starts with\', \'ends with\']" [selected]="\'has value\'">\n\n\t\t\t</gui-select>\n\n\t\t\t<form [formGroup]="filterForm">\n\t\t\t\t<input type="text" [formControlName]="filterFieldName" gui-input/>\n\t\t\t</form>\n\n\t\t\t<button gui-button (click)="clearFilters()">Clear All</button>\n\t\t\t<button gui-button (click)="turnOffFilterMode()">Close</button>\n\n\t\t</ng-container>\n\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],t.ctorParameters=function(){return[{type:Xt},{type:s.FormBuilder},{type:e.ChangeDetectorRef},{type:F}]},t.propDecorators={columns:[{type:e.Input}],closed:[{type:e.Output}]},t}();var Ec=function(t){function n(e,n,i,r,o,a,u,s,c){var l=t.call(this)||this;return l.changeDetectorRef=e,l.renderer=n,l.eventBus=i,l.structureId=r,l.structureFilterReadModelRepository=o,l.structureWarehouse=a,l.rowSelectionTypeArchive=u,l.structureVerticalFormationWarehouse=s,l.compositionReadModelService=c,l.headerColumns=[],l.filterRowEnabled=!1,l.checkboxSelection=!1,l}return l(n,t),n.prototype.ngOnInit=function(){var t=this;this.rowSelectionTypeArchive.onValue().pipe(this.takeUntil()).subscribe((function(e){t.checkboxSelection=e===Wn.CHECKBOX,t.changeDetectorRef.detectChanges()})),this.compositionReadModelService.onHeaderColumns().pipe(this.takeUntil()).subscribe((function(e){t.headerColumns=e,t.changeDetectorRef.detectChanges()})),this.compositionReadModelService.onContainerWidth().pipe(this.takeUntil()).subscribe((function(e){t.renderer.setStyle(t.containerRef.nativeElement,"width",e+"px")})),this.structureFilterReadModelRepository.onFilteringEnabled(this.structureId).pipe(this.takeUntil()).subscribe((function(e){t.filterRowEnabled=e,t.changeDetectorRef.detectChanges()}))},n.prototype.ngAfterViewInit=function(){var t=this;this.structureVerticalFormationWarehouse.onRowHeight(this.structureId).pipe(this.takeUntil()).subscribe((function(e){var n=+e+2;t.filtersRef&&t.renderer.setStyle(t.filtersRef.nativeElement,"height",n+"px")}))},n.decorators=[{type:e.Component,args:[{selector:"gui-structure-header",template:'<gui-structure-header-columns\n\t\t[checkboxSelection]="checkboxSelection"\n\t\t[columns]="headerColumns"\n\t\tclass="gui-header">\n</gui-structure-header-columns>\n\n<gui-structure-header-filters\n\t\t*ngIf="filterRowEnabled"\n\t\t[columns]="headerColumns"\n\t\tclass="gui-header">\n</gui-structure-header-filters>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:e.Renderer2},{type:r.DomainEventBus},{type:F},{type:Ha},{type:ce},{type:Xr},{type:bn},{type:Ie}]},n.propDecorators={containerRef:[{type:e.ViewChild,args:[bc,{read:e.ElementRef,static:!0}]}],filtersRef:[{type:e.ViewChild,args:[Cc,{read:e.ElementRef,static:!0}]}]},n}(Hn);var Ic=function(t){function n(e,n){var i=t.call(this)||this;return i.structureFilterCommandService=e,i.structureId=n,i.sub=new Eu,i.editContext={changes:i.sub},i}return l(n,t),n.prototype.ngOnInit=function(){var t=this;this.sub.on().subscribe((function(e){return t.filter(e)}))},n.prototype.filter=function(t){},n.decorators=[{type:e.Component,args:[{selector:"gui-structure-header-filter",template:'\n\n\t\t\x3c!--\t\t<ng-container--\x3e\n\t\t\x3c!--\t\t\t\t*ngTemplateOutlet="column.editTemplate; context: editContext">--\x3e\n\t\t\x3c!--\t\t</ng-container>--\x3e\n\n\t\t<button gui-button [primary]="true">Add Filter</button>\n\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:Xt},{type:F}]},n.propDecorators={column:[{type:e.Input}]},n}(Hn);var Sc=function(t){function i(e,n,i,r,o,a,u,s,c,l,p,g,d,h,m){var f=t.call(this)||this;return f.platformId=e,f.renderer=n,f.elementRef=i,f.changeDetectorRef=r,f.formationCommandService=o,f.structureCellEditArchive=a,f.structureEditModeArchive=u,f.formationWarehouse=s,f.structureWarehouse=c,f.structureVerticalFormationWarehouse=l,f.verticalFormationRepository=p,f.structureId=g,f.rowSelectionTypeArchive=d,f.structureSearchPhraseRepository=h,f.structureSearchHighlightArchive=m,f.editMode=!1,f.cellEditing=!1,f.searchPhrase="",f.highlighting=!0,f.phrase=!0,f.rowDetailOpened=4,f.checkboxSelection=!1,f}return l(i,t),i.prototype.ngOnInit=function(){var t=this;this.rowSelectionTypeArchive.onValue().pipe(this.takeUntil()).subscribe((function(e){t.checkboxSelection=e===Wn.CHECKBOX,t.changeDetectorRef.detectChanges()})),this.structureEditModeArchive.onValue().pipe(this.takeUntil()).subscribe((function(e){t.editMode=e,t.changeDetectorRef.detectChanges()})),this.structureCellEditArchive.onValue().pipe(this.takeUntil()).subscribe((function(e){t.cellEditing=e,t.changeDetectorRef.detectChanges()})),this.structureVerticalFormationWarehouse.onRowHeight(this.structureId).pipe(this.takeUntil()).subscribe((function(e){t.rowHeight=e,t.changeDetectorRef.detectChanges()})),o.combineLatest(this.structureSearchPhraseRepository.onPhrase(this.structureId),this.structureSearchHighlightArchive.onValue()).pipe(this.takeUntil()).subscribe((function(e){var n=e[0],i=e[1];t.highlighting=i,t.searchPhrase=n,t.highlighting||(t.searchPhrase=""),t.changeDetectorRef.detectChanges()}))},i.prototype.trackByFn=function(){return 0},i.prototype.translateY=function(t){return"translateY("+t*this.rowHeight+"px)"},i.prototype.toggleSelectedRow=function(t){this.checkboxSelection||this.formationCommandService.toggleSelectedRow(t.getId(),Pt.NONE)},i.prototype.clearSelectedRows=function(){var t=this,e=this.elementRef.nativeElement.querySelectorAll(".selected");n.isPlatformBrowser(this.platformId)&&e.forEach((function(e){t.renderer.removeClass(e,"selected")}))},i.decorators=[{type:e.Component,args:[{selector:"gui-structure-content",template:'<div class="gui-content">\n\n\t<gui-structure-row (click)="toggleSelectedRow(entity)"\n\t\t\t\t\t   *ngFor="let entity of source; let index = index; trackBy: trackByFn"\n\t\t\t\t\t   [cellEditing]="cellEditing"\n\t\t\t\t\t   [checkboxSelection]="checkboxSelection"\n\t\t\t\t\t   [columns]="columns"\n\t\t\t\t\t   [detailsEnabled]="rowDetailOpened === index"\n\t\t\t\t\t   [editMode]="editMode"\n\t\t\t\t\t   [entity]="entity"\n\t\t\t\t\t   [id]="entity.getUiId()"\n\t\t\t\t\t   [index]="index"\n\t\t\t\t\t   [ngClass]="{\'even\': entity.isEven(), \'odd\': entity.isOdd()}"\n\t\t\t\t\t   [ngStyle]="{\'transform\': translateY(index)}"\n\t\t\t\t\t   [searchPhrase]="searchPhrase"\n\t\t\t\t\t   [style.height.px]="rowHeight"\n\t\t\t\t\t   class="gui-row">\n\t</gui-structure-row>\n\n</div>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],i.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[e.PLATFORM_ID]}]},{type:e.Renderer2},{type:e.ElementRef},{type:e.ChangeDetectorRef},{type:xt},{type:wn},{type:Dn},{type:jt},{type:ce},{type:bn},{type:vn},{type:F},{type:Xr},{type:gr},{type:Re}]},i.propDecorators={source:[{type:e.Input}],columns:[{type:e.Input}]},i}(Hn);var wc=function(t){function n(e,n,i,r,o,a){var u=t.call(this)||this;return u.changeDetectorRef=e,u.elRef=n,u.renderer2=i,u.structureId=r,u.formationWarehouse=o,u.formationCommandDispatcher=a,u.detailsEnabled=!1,u.checkboxSelection=!1,u.selectedItem=!1,u}return l(n,t),n.prototype.ngOnChanges=function(t){void 0!==t.entity&&void 0!==t.entity.currentValue&&this.checkSelectedItem()},n.prototype.ngOnInit=function(){var t=this;this.formationWarehouse.onRowSelectedReadModel(this.structureId).pipe(this.takeUntil()).subscribe((function(e){t.row=e;var n=t.selectedItem;t.checkSelectedItem(),n!==t.selectedItem&&(n?t.renderer2.removeClass(t.elRef.nativeElement,"selected"):t.renderer2.addClass(t.elRef.nativeElement,"selected"),t.changeDetectorRef.detectChanges())}))},n.prototype.trackByFn=function(){return 0},n.prototype.selectRow=function(){event.stopPropagation(),this.formationCommandDispatcher.toggleSelectedRow(this.entity.getId(),Pt.ADD,this.structureId)},n.prototype.checkSelectedItem=function(){if(this.row){var t=this.selectedItem;this.selectedItem=this.row.isSelected(this.entity.getId()),t!==this.selectedItem&&(t?this.renderer2.removeClass(this.elRef.nativeElement,"selected"):this.renderer2.addClass(this.elRef.nativeElement,"selected"))}},n.decorators=[{type:e.Component,args:[{selector:"gui-structure-row",template:'\x3c!--<div class="gui-structure-cell-container" >--\x3e\n\n<div *ngIf="checkboxSelection"\n\t class="gui-cell gui-row-checkbox">\n\t<gui-checkbox (changed)="selectRow()" [checked]="selectedItem"></gui-checkbox>\n\x3c!--\t<input type="checkbox" [checked]="selectedItem" />--\x3e\n</div>\n\n<gui-structure-cell *ngFor="let column of columns; trackBy: trackByFn"\n\t\t\t\t\t[cellEditingEnabled]="cellEditing"\n\t\t\t\t\t[cell]="column"\n\t\t\t\t\t[editMode]="editMode"\n\t\t\t\t\t[entity]="entity"\n\t\t\t\t\t[searchPhrase]="searchPhrase"\n\t\t\t\t\t[style.width.px]="column.width"\n\t\t\t\t\tclass="gui-cell">\n</gui-structure-cell>\n\n\x3c!--</div>--\x3e\n\n\x3c!--<div *ngIf="detailsEnabled"--\x3e\n\x3c!--\t [ngStyle]="{\'transform\': \'translateY(32px)\'}"--\x3e\n\x3c!--\t class="gui-structure-row-details">--\x3e\n\n\x3c!--\tDETAILS PANEL--\x3e\n\n\x3c!--</div>--\x3e\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:e.ElementRef},{type:e.Renderer2},{type:F},{type:jt},{type:xt}]},n.propDecorators={entity:[{type:e.Input}],columns:[{type:e.Input}],editMode:[{type:e.Input}],cellEditing:[{type:e.Input}],searchPhrase:[{type:e.Input}],index:[{type:e.Input}],detailsEnabled:[{type:e.Input}],checkboxSelection:[{type:e.Input}]},n}(Hn);var Ac=function(t){function n(e,n,i,r,o,a){var u=t.call(this)||this;return u.changeDetectorRef=e,u.elementRef=n,u.structureCellEditArchive=i,u.structureCellEditStore=r,u.cellEditCloseAllService=o,u.sourceCommandService=a,u.inEditMode=!1,u}return l(n,t),n.prototype.ngOnChanges=function(t){},n.prototype.ngAfterViewInit=function(){var t=this;this.cellEditCloseAllService.onCloseAll().pipe(this.takeUntil()).subscribe((function(){t.exitEditMode()}))},n.prototype.isCellEditingEnabled=function(){return this.cellEditingEnabled&&this.cell.isCellEditingEnabled()},n.prototype.enterEditMode=function(t){var e=this;void 0===t&&(t=!0),this.isCellEditingEnabled()&&(this.cellEditCloseAllService.closeAll(),o.timer(0).pipe(this.takeUntil()).subscribe((function(){e.inEditMode=!0,e.valueChanges$=new Eu,e.status$=new Eu,e.editContext={status:e.status$,valueChanges:e.valueChanges$,value:e.cell.getValue(e.entity).value,focus:t,parent:e.elementRef},e.observeFieldStatus(),e.observeValueChanges(),e.publishEditEnter(),t?e.changeDetectorRef.detectChanges():e.changeDetectorRef.markForCheck()})))},n.prototype.exitEditMode=function(){this.inEditMode=!1,this.changeDetectorRef.detectChanges()},n.prototype.submitChangesAndExit=function(){var t=this.entity.getId(),e=this.actualValue,n=this.cell.columnFieldId;this.sourceCommandService.editItem(new pe(t,n,e)),this.exitEditMode()},n.prototype.observeFieldStatus=function(){var t=this;this.status$.on().pipe(this.takeUntil()).subscribe((function(e){switch(e){case Iu.SUBMIT:t.submitChangesAndExit(),t.publishEditSubmit();break;case Iu.CANCEL:t.exitEditMode(),t.publishEditCancel()}}))},n.prototype.observeValueChanges=function(){var t=this;this.valueChanges$.on().pipe(this.takeUntil()).subscribe((function(e){t.actualValue=e}))},n.prototype.publishEditState=function(t){this.structureCellEditStore.next(t)},n.prototype.publishEditEnter=function(){this.publishEditState(Vn.ENTER)},n.prototype.publishEditCancel=function(){this.publishEditState(Vn.CANCEL)},n.prototype.publishEditSubmit=function(){this.publishEditState(Vn.SUBMIT)},n.decorators=[{type:e.Component,args:[{selector:"gui-structure-cell[entity][cell]",template:'<ng-container *ngIf="!cell.isBooleanDataType() || (cell.isBooleanDataType() && !this.isCellEditingEnabled())">\n\n\t<span (click)="enterEditMode()"\n\t\t  *ngIf="!inEditMode"\n\t\t  [ngClass]="{\'gui-cell-view\': true,\'gui-align-left\': cell.isAlignLeft(),\'gui-align-center\': cell.isAlignCenter(),\'gui-align-right\': cell.isAlignRight()}">\n\t\t<ng-container\n\t\t\t\t*ngTemplateOutlet="cell.template;\n\t\t\t\tcontext: { element: cell.getValue(entity, searchPhrase) }">\n\t\t</ng-container>\n\t</span>\n\n\t<span *ngIf="inEditMode"\n\t\t  class="gui-cell-edit-mode">\n\t\t<ng-container\n\t\t\t\t*ngTemplateOutlet="cell.editTemplate;\n\t\t\t\tcontext: editContext">\n\t\t</ng-container>\n\t</span>\n\n\n\t\x3c!--\t<span *ngIf="inEditMode"--\x3e\n\t\x3c!--\t\t  class="gui-cell-edit-mode">--\x3e\n\n\t\x3c!--\t\t<gui-structure-cell-edit [cell]="cell"--\x3e\n\t\x3c!--\t\t\t\t\t\t\t\t [entity]="entity">--\x3e\n\t\x3c!--\t\t</gui-structure-cell-edit>--\x3e\n\t\x3c!--\t</span>--\x3e\n\n\n</ng-container>\n\n<ng-container *ngIf="cell.isBooleanDataType() && this.isCellEditingEnabled()">\n\t<gui-structure-cell-edit-boolean [cell]="cell"\n\t\t\t\t\t\t\t\t\t [entity]="entity">\n\t</gui-structure-cell-edit-boolean>\n</ng-container>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:e.ElementRef},{type:wn},{type:An},{type:si},{type:fe}]},n.propDecorators={entity:[{type:e.Input}],cell:[{type:e.Input}],editMode:[{type:e.Input}],cellEditingEnabled:[{type:e.Input}],searchPhrase:[{type:e.Input}]},n}(Hn);var Dc=new e.InjectionToken("StructureParentComponent"),Rc=function(t){function n(e,n,i,r,a,u,s,c,l,p,g,d,h,m){var f=t.call(this)||this;return f.elementRef=e,f.renderer=n,f.changeDetectorRef=i,f.ngZone=r,f.structureId=a,f.structureCommandService=u,f.structureReadModelWarehouse=s,f.structureVerticalFormationWarehouse=c,f.structureSourceWarehouse=l,f.compositionCommandService=p,f.compositionWarehouse=g,f.structureFormationWarehouse=d,f.resizeDetector=h,f.structureParent=m,f.columns=[],f.source=[],f.autoResizeWidthEnabled=!1,f.scrollObservation$=new o.Subject,f}return l(n,t),n.prototype.ngOnInit=function(){var t=this;this.structureVerticalFormationWarehouse.onContainerHeight(this.structureId).pipe(this.takeUntil()).subscribe((function(e){t.setContainerHeight(e)})),this.structureSourceWarehouse.onEntities().pipe(this.takeUntil()).subscribe((function(e){t.source=e,t.changeDetectorRef.detectChanges()})),this.compositionWarehouse.onTemplateColumns().pipe(this.takeUntil()).subscribe((function(e){t.columns=e,t.changeDetectorRef.detectChanges()})),this.compositionWarehouse.onResizeWidth().pipe(this.takeUntil()).subscribe((function(e){t.autoResizeWidthEnabled=e}))},n.prototype.ngAfterViewInit=function(){var t=this;this.structureParent&&this.resizeDetector.observe(this.structureParent.getElementRef().nativeElement).pipe(a.filter((function(){return t.autoResizeWidthEnabled})),a.map((function(t){return t.offsetWidth})),a.distinctUntilChanged(),this.takeUntil()).subscribe((function(e){t.recalculateContainer(e)})),this.compositionWarehouse.onContainerWidth().pipe(this.takeUntil()).subscribe((function(e){t.renderer.setStyle(t.sourceCollectionRef.nativeElement,"width",e+"px")})),this.structureVerticalFormationWarehouse.onVerticalScrollEnabled(this.structureId).pipe(this.takeUntil()).subscribe((function(e){e?t.enableScrollObservation():t.disableScrollObservation()})),this.structureReadModelWarehouse.onStructure().pipe(a.filter((function(t){return t.isVerticalScrollEnabled()})),this.takeUntil()).subscribe((function(e){var n=e.getTopMargin(),i=e.getSourceHeight();t.setSourceHeight(n,i)}))},n.prototype.ngOnDestroy=function(){t.prototype.ngOnDestroy.call(this),this.resizeDetector.destroy(this.elementRef.nativeElement)},n.prototype.setContainerHeight=function(t){this.height=t,this.renderer.setStyle(this.elementRef.nativeElement,"height",this.height+"px")},n.prototype.setSourceHeight=function(t,e){this.renderer.setStyle(this.sourceCollectionRef.nativeElement,"padding-top",t+"px"),this.renderer.setStyle(this.sourceCollectionRef.nativeElement,"height",e+"px")},n.prototype.recalculateContainer=function(t){this.autoResizeWidthEnabled&&this.compositionCommandService.setContainerWidth(t)},n.prototype.enableScrollObservation=function(){var t=this;this.ngZone.runOutsideAngular((function(){o.fromEvent(t.elementRef.nativeElement,"scroll").pipe(a.takeUntil(t.scrollObservation$),t.takeUntil()).subscribe((function(e){var n=e.target.scrollTop;t.structureCommandService.setScrollPosition(n)}))}))},n.prototype.disableScrollObservation=function(){this.scrollObservation$.next(),this.scrollObservation$.complete()},n.decorators=[{type:e.Component,args:[{selector:"gui-structure-container",template:'<div #sourceCollection\n\t class="gui-structure-container">\n\n\t<gui-structure-content [columns]="columns"\n\t\t\t\t\t\t   [source]="source">\n\t</gui-structure-content>\n\n</div>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ElementRef},{type:e.Renderer2},{type:e.ChangeDetectorRef},{type:e.NgZone},{type:F},{type:ae},{type:ce},{type:bn},{type:Vt},{type:et},{type:Ie},{type:jt},{type:i.ResizeDetector},{type:void 0,decorators:[{type:e.Optional},{type:e.Inject,args:[Dc]}]}]},n.propDecorators={sourceCollectionRef:[{type:e.ViewChild,args:["sourceCollection",{static:!1}]}]},n}(Hn);var Mc=function(){function t(){}return t.decorators=[{type:e.Component,args:[{selector:"gui-structure-quick-fitlers",template:"\n\n\t\tQuickFilters\n\n\t"}]}],t}(),xc=new e.InjectionToken("Structure - - css className"),Pc=function(t){function n(e,n,i,r,o,a,u,s,c,l,p,g,d,h){var m=t.call(this)||this;return m.changeDetectorRef=e,m.structureDefinition=n,m.structureId=i,m.structureReadModelService=r,m.structureInfoPanelEnabledArchive=o,m.pagingReadModelService=a,m.structureSummariesArchive=u,m.structureFilterReadModelRepository=s,m.structureSearchReadModelRepository=c,m.structureHeaderTopEnabledArchive=l,m.structureHeaderBottomEnabledArchive=p,m.structureTitlePanelConfigArchive=g,m.structureFooterPanelConfigArchive=d,m.className=h,m.searchEnabled=!1,m.topSummariesPanelEnabled=!1,m.bottomSummariesPanelEnabled=!1,m.quickFiltersEnabled=!1,m.infoPanelEnabled=!1,m.items=[],m.headerCssClass="gui-"+m.className+"-header",m.contentCssClass="gui-"+m.className+"-content",m}return l(n,t),n.prototype.ngOnInit=function(){var t=this;this.structureHeaderTopEnabledArchive.onValue().pipe(this.takeUntil()).subscribe((function(e){t.topHeaderEnabled=e,t.changeDetectorRef.detectChanges()})),this.structureHeaderBottomEnabledArchive.onValue().pipe(this.takeUntil()).subscribe((function(e){t.bottomHeaderEnabled=e,t.changeDetectorRef.detectChanges()})),this.structureReadModelService.onStructure().pipe(this.takeUntil()).subscribe((function(e){t.structure=e,t.items=e.getEntities(),t.changeDetectorRef.detectChanges()})),this.pagingReadModelService.onPaging().pipe(this.takeUntil()).subscribe((function(e){t.pagingReadModel=e,t.changeDetectorRef.detectChanges()})),this.structureSearchReadModelRepository.onSearchEnabled(this.structureId).pipe(this.takeUntil()).subscribe((function(e){t.searchEnabled=e,t.changeDetectorRef.detectChanges()})),this.structureFilterReadModelRepository.onQuickFiltersEnabled(this.structureId).pipe(this.takeUntil()).subscribe((function(e){t.quickFiltersEnabled=e,t.changeDetectorRef.detectChanges()})),this.structureSummariesArchive.onValue().pipe(this.takeUntil()).subscribe((function(e){t.topSummariesPanelEnabled=e.itTopEnabled(),t.bottomSummariesPanelEnabled=e.itBottomEnabled(),t.changeDetectorRef.detectChanges()})),this.structureInfoPanelEnabledArchive.onValue().pipe(this.takeUntil()).subscribe((function(e){t.infoPanelEnabled=e.isEnabled(),t.changeDetectorRef.detectChanges()})),this.structureTitlePanelConfigArchive.onValue().pipe(this.takeUntil()).subscribe((function(e){t.titlePanelEnabled=e.enabled,t.changeDetectorRef.detectChanges()})),this.structureFooterPanelConfigArchive.onValue().pipe(this.takeUntil()).subscribe((function(e){t.footerPanelEnabled=e.enabled,t.changeDetectorRef.detectChanges()}))},n.prototype.getHeaderTopClasses=function(){return this.headerCssClass+" gui-header-top"},n.prototype.getHeaderBottomClasses=function(){return this.headerCssClass+" gui-header-bottom"},n.prototype.isColumnHeaderTopEnabled=function(){return this.structureDefinition.isHeaderEnabled()&&this.topHeaderEnabled},n.prototype.isColumnHeaderBottomEnabled=function(){return this.structureDefinition.isHeaderEnabled()&&this.bottomHeaderEnabled},n.prototype.isPagingTopEnabled=function(){return this.structureDefinition.getTopPaging().isEnabled()&&this.pagingReadModel&&this.pagingReadModel.isPagerTop()},n.prototype.isPagingBottomEnabled=function(){return this.structureDefinition.getBottomPaging().isEnabled()&&this.pagingReadModel&&this.pagingReadModel.isPagerBottom()},n.prototype.isSourceEmpty=function(){return this.structure&&0===this.structure.getEntities().length},n.decorators=[{type:e.Component,args:[{selector:"gui-structure-blueprint",template:'\x3c!---------- TOP ----------\x3e\n<gui-structure-title-panel *ngIf="titlePanelEnabled"></gui-structure-title-panel>\n\n<gui-structure-top-panel *ngIf="searchEnabled"></gui-structure-top-panel>\n\n<gui-structure-quick-fitlers *ngIf="quickFiltersEnabled">\n</gui-structure-quick-fitlers>\n\n<gui-paging *ngIf="isPagingTopEnabled()"\n\t\t\t[position]="0">\n</gui-paging>\n\n<gui-structure-summaries-panel [enabled]="topSummariesPanelEnabled"\n\t\t\t\t\t\t\t   class="gui-structure-summaries-panel-top">\n</gui-structure-summaries-panel>\n\n<gui-structure-header *ngIf="isColumnHeaderTopEnabled()"\n\t\t\t\t\t  [ngClass]="getHeaderTopClasses()">\n</gui-structure-header>\n\n\n\x3c!---------- MAIN ----------\x3e\n<gui-structure-container [ngClass]="contentCssClass">\n</gui-structure-container>\n\n<gui-empty-source [items]="items">\n</gui-empty-source>\n\n\n\x3c!---------- BOTTOM ----------\x3e\n<gui-structure-header *ngIf="isColumnHeaderBottomEnabled()"\n\t\t\t\t\t  [ngClass]="getHeaderBottomClasses()">\n</gui-structure-header>\n\n<gui-structure-summaries-panel [enabled]="bottomSummariesPanelEnabled"\n\t\t\t\t\t\t\t   class="gui-structure-summaries-panel-bottom">\n</gui-structure-summaries-panel>\n\n<gui-structure-footer-panel *ngIf="footerPanelEnabled"></gui-structure-footer-panel>\n\n<gui-paging *ngIf="isPagingBottomEnabled()"\n\t\t\t[position]="1">\n</gui-paging>\n\n<gui-structure-info-panel *ngIf="infoPanelEnabled"></gui-structure-info-panel>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:U},{type:F},{type:ce},{type:Mn},{type:Et},{type:Pn},{type:Ha},{type:vr},{type:li},{type:ci},{type:Vi},{type:ji},{type:String,decorators:[{type:e.Inject,args:[xc]}]}]},n}(Hn);var Tc=function(t){function n(e,n){return t.call(this,e,n)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:$e},{type:r.AggregateStoreRegister}]},n}(r.InMemoryAggregateStore),Fc=function(t){function n(e){var n=t.call(this)||this;return n.inMemoryStructureAggregateStore=e,n}return l(n,t),n.prototype.getById=function(t){return this.inMemoryStructureAggregateStore.getById(t)},n.prototype.save=function(t){this.inMemoryStructureAggregateStore.save(t)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:Tc}]},n}(Ai);var kc=function(t){function e(e,n){var i=t.call(this,e,"SelectionEnabledSetEvent")||this;return i.enabled=n,i}return l(e,t),e.prototype.isEnabled=function(){return this.enabled},e}(r.DomainEvent);var Oc=function(t){function e(e){return t.call(this,e,"FilterToggledEvent")||this}return l(e,t),e}(r.DomainEvent),Nc=function(t){function e(e,n,i,r){var o=t.call(this,e,"FilterAddedEvent")||this;return o.fieldId=n,o.filterTypeId=i,o.value=r,o}return l(e,t),e}(r.DomainEvent);var Hc=function(t){function e(e,n){var i=t.call(this,e,"ActiveFiltersSetEvent")||this;return i.filters=n,i}return l(e,t),e.prototype.getFilters=function(){return this.filters},e}(r.DomainEvent);var Vc=function(t){function e(e){return t.call(this,e,"UniqueFilterSelectedEvent")||this}return l(e,t),e}(r.DomainEvent),jc=function(t){function e(e){return t.call(this,e,"AllUniqueFilterSelectedEvent")||this}return l(e,t),e}(r.DomainEvent),Bc=function(t){function e(e){return t.call(this,e,"UniqueFilterUnselectedEvent")||this}return l(e,t),e}(r.DomainEvent),Uc=function(t){function e(e){return t.call(this,e,"AllUniqueFilterUnselectedEvent")||this}return l(e,t),e}(r.DomainEvent),zc=function(t){function n(e,n){var i=t.call(this,e)||this;return i.inMemoryStructureReadStore=n,i.structureIdToStructure=new Map,i.structure$=new o.ReplaySubject(1),i}return l(n,t),n.prototype.getStructure=function(t){return this.structureIdToStructure.get(t.getId())},n.prototype.onStructure=function(t){return this.structure$.asObservable().pipe(a.filter((function(e){var n=t.getId();return e.has(n)})),a.map((function(e){return e.get(t.getId())})))},n.prototype.forEvents=function(){return[Je,Zr,Di,Kn,Qn,dt,kc,_e,mn,Ki,Oc,yn,Ji,hn,pn,dn,fn,Nc,Hc,Vc,jc,Bc,Uc]},n.prototype.subs=function(t){var e=this,n=t.getAggregateId();this.inMemoryStructureReadStore.getById(n).ifPresent((function(t){var n=t.getId().toString();e.structureIdToStructure.set(n,t),e.structure$.next(e.structureIdToStructure)}))},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:r.DomainEventBus},{type:ln}]},n}(bt);var Lc=[Tc,{provide:Ai,useClass:Fc}],Wc=[ln,{provide:bt,useClass:zc}],Gc=[$e],qc=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return te},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publish(new _e(e.getAggregateId()))},t.prototype.handleAggregate=function(t,e){var n=e.isEnabled();t.setVerticalFormationEnabled(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var Qc=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return ee},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publish(new mn(e.getAggregateId()))},t.prototype.handleAggregate=function(t,e){var n=e.getPosition();t.setScrollPosition(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var Kc=function(t){function e(e,n){var i=t.call(this,e,"StructureSummariesEnabledSetEvent")||this;return i.enabled=n,i}return l(e,t),e.prototype.isEnabled=function(){return this.enabled},e}(r.DomainEvent);var Xc=function(){function t(t,e){this.structureSourceDomainEventPublisher=t,this.domainEventPublisher=e}return t.prototype.forCommand=function(){return Fn},t.prototype.publishDomainEvents=function(t,e){var n=e.isEnabled(),i=t.getEvents();this.domainEventPublisher.publish(new Kc(e.getAggregateId(),n)),this.structureSourceDomainEventPublisher.publish(i)},t.prototype.handleAggregate=function(t,e){var n=e.isEnabled();t.setSummariesEnabled(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:ur},{type:r.DomainEventPublisher}]},t}();var Zc=function(){function t(t,e,n){this.start=t,this.end=e,this.margin=n}return t.prototype.getStart=function(){return this.start},t.prototype.getEnd=function(){return this.end},t.prototype.getMargin=function(){return this.margin},t}();var Yc=function(){function t(){this.containerHeight=r.Optional.empty()}return t.prototype.isContainerHeightProperForVirtualScroll=function(){return!!this.containerHeight.isPresent()&&this.containerHeight.getValueOrNullOrThrowError()>0},t.prototype.getVisibleContainerHeight=function(){return this.getHeight()},t.prototype.getHeight=function(){return this.containerHeight.isPresent()?this.getContainerHeight():this.sourceHeight},t.prototype.getSourceHeight=function(){return this.sourceHeight},t.prototype.setContainerHeight=function(t){t>=0&&(this.containerHeight=r.Optional.of(t))},t.prototype.setSourceSize=function(t){this.sourceHeight=t},t.prototype.getContainerHeight=function(){return this.containerHeight.getValueOrNullOrThrowError()>this.sourceHeight?this.sourceHeight:this.containerHeight.getValueOrNullOrThrowError()},t=g([r.DomainObject],t)}();var Jc=function(){function t(t,e,n,i,r,o,a){void 0===t&&(t=!1),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),this.enabled=t,this.rowHeight=42,this.hiddenItemsTop=5,this.hiddenItemsBottom=2,this.container=new Yc,this.sourceSize=n,this.container.setSourceSize(this.sourceSize*this.rowHeight),this.container.setContainerHeight(e),this.scrollPosition=i,Number.isInteger(r)&&(this.rowHeight=r),Number.isInteger(o)&&(this.hiddenItemsTop=o),Number.isInteger(a)&&(this.hiddenItemsBottom=a),this.calculateRange()}return t.prototype.isEnabled=function(){return this.enabled&&this.container.getHeight()>0&&this.sourceSize>0},t.prototype.getViewPortHeight=function(){return this.container.getVisibleContainerHeight()},t.prototype.getSourceHeight=function(){return this.container.getSourceHeight()},t.prototype.getRowHeight=function(){return this.rowHeight},t.prototype.getRange=function(){return this.range},t.prototype.getTopMargin=function(){return this.range.getStart()*this.rowHeight},t.prototype.calculateRange=function(){if(!(this.calcFullHeight()<=this.container.getHeight())){var t=Math.ceil(this.container.getHeight()/this.rowHeight),e=Math.floor(this.scrollPosition/this.rowHeight),n=e+t+this.hiddenItemsBottom,i=e;i+t>=this.sourceSize&&(i=this.sourceSize-t);var r=Math.max(e-this.hiddenItemsTop,0);return n>this.sourceSize&&(r=(n=this.sourceSize)-t),this.range=new Zc(r,n,i),{start:r,end:n,topMargin:i}}this.range=new Zc(0,this.sourceSize,0)},t.prototype.setEnabled=function(t){this.enabled=t,this.enabled&&!this.container.isContainerHeightProperForVirtualScroll()&&this.logger.warn("Height needs to be specified in order for virtual scroll to work."),this.calculateRange()},t.prototype.setSourceSize=function(t){void 0===t&&(t=0),this.sourceSize=t,this.container.setSourceSize(this.sourceSize*this.rowHeight),this.calculateRange()},t.prototype.setTopHiddenItemsCount=function(t){this.hiddenItemsTop=t,this.calculateRange()},t.prototype.setBottomHiddenItemsCount=function(t){this.hiddenItemsBottom=t,this.calculateRange()},t.prototype.setScrollPosition=function(t){this.scrollPosition=t,this.calculateRange()},t.prototype.setViewportHeight=function(t){this.container.setContainerHeight(t),this.calculateRange()},t.prototype.setRowHeight=function(t){this.rowHeight=t,this.container.setSourceSize(this.sourceSize*this.rowHeight),this.calculateRange()},t.prototype.setLogger=function(t){this.logger=t},t.prototype.calcFullHeight=function(){return this.sourceSize*this.rowHeight},t.ctorParameters=function(){return[{type:Boolean},{type:Number},{type:Number},{type:Number},{type:Number},{type:Number},{type:Number}]},t=g([r.DomainObject,d("design:paramtypes",[Boolean,Number,Number,Number,Number,Number,Number])],t)}();var _c=function(){function t(t){this.logger=t}return t.prototype.create=function(t,e,n,i,r,o,a){void 0===t&&(t=!1),void 0===e&&(e=-1),void 0===n&&(n=0),void 0===i&&(i=0);var u=new Jc(t,e,n,i,r,o,a);return u.setLogger(this.logger),u},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:lt}]},t}();var $c=function(){function t(){}return t.prototype.calculate=function(t,e){var n=this,i=t.filter((function(t){return n.forDataType(t.getDataType())}));if(!i||0===i.length||0===e.length)return null;var r=new Map,o=new Map;i.forEach((function(t){var e=t.getKey();r.set(e,0),o.set(e,new Set),n.prepare(t)})),e.forEach((function(t){i.forEach((function(e){var i=e.getKey(),a=e.getValue(t);if(null!==a||void 0!==a||""!==a){if(e.isSummaries(xr.COUNT)){var u=r.get(i);r.set(i,u+1)}if(e.isSummaries(xr.DISTINCT))o.get(i).add(a)}n.aggregate(e,a)}))})),i.forEach((function(t){n.postCalculate(t,e)}));var a=new Map;return i.forEach((function(t){var e=t.getKey(),i=n.generateAggregatedValues(t);t.isSummaries(xr.COUNT)&&i.setCount(r.get(e)),t.isSummaries(xr.DISTINCT)&&i.setDistinct(o.get(e).size),a.set(e,i)})),a},t}();var tl=function(){function t(){}return t.prototype.setCount=function(t){this.count=t},t.prototype.setDistinct=function(t){this.distinct=t},t}();var el=function(t){function e(e,n){var i=t.call(this)||this;return i.truthy=e,i.falsy=n,i}return l(e,t),e}(tl);var nl=function(t){function n(){var e=t.call(this)||this;return e.truthy=new Map,e.falsy=new Map,e}return l(n,t),n.prototype.forDataType=function(t){return t===cr.BOOLEAN},n.prototype.prepare=function(t){var e=t.getKey();t.isSummaries(xr.TRUTHY)&&this.truthy.set(e,0),t.isSummaries(xr.FALSY)&&this.falsy.set(e,0)},n.prototype.postCalculate=function(t,e){},n.prototype.aggregate=function(t,e){var n=e,i=t.getKey(),r=this.truthy.get(i),o=this.falsy.get(i);n?t.isSummaries(xr.TRUTHY)&&this.truthy.set(i,r+1):t.isSummaries(xr.FALSY)&&this.falsy.set(i,o+1)},n.prototype.generateAggregatedValues=function(t){var e=t.getKey();return new el(this.truthy.get(e),this.falsy.get(e))},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}($c);var il=function(t){function e(){return t.call(this)||this}return l(e,t),e}(tl),rl=function(t){function n(){return t.call(this)||this}return l(n,t),n.prototype.forDataType=function(t){return t===cr.DATE},n.prototype.prepare=function(t){},n.prototype.postCalculate=function(t,e){},n.prototype.aggregate=function(t,e){},n.prototype.generateAggregatedValues=function(t){return new il},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}($c),ol=function(t){function e(e,n,i,r,o){var a=t.call(this)||this;return a.sum=a.setValueWithPrecision(e),a.min=a.setValueWithPrecision(n),a.max=a.setValueWithPrecision(i),a.average=a.setValueWithPrecision(r),a.median=a.setValueWithPrecision(o),a}return l(e,t),e.prototype.setValueWithPrecision=function(t){return t||0===t?0===t?0:+t.toFixed(2):null},e}(tl);var al=function(t){function n(){var e=t.call(this)||this;return e.sum=new Map,e.min=new Map,e.max=new Map,e.average=new Map,e.median=new Map,e}return l(n,t),n.prototype.forDataType=function(t){return t===cr.NUMBER},n.prototype.prepare=function(t){var e=t.getKey();this.sum.set(e,0),this.min.set(e,Number.MAX_SAFE_INTEGER),this.max.set(e,0)},n.prototype.postCalculate=function(t,e){var n=t.getKey();t.isSummaries(xr.AVERAGE)&&this.average.set(n,this.sum.get(n)/e.length),t.isSummaries(xr.MEDIAN)&&this.median.set(n,t.getValue(e[Math.floor(e.length/2)]))},n.prototype.aggregate=function(t,e){var n=+e,i=t.getKey(),r=this.sum.get(i),o=this.min.get(i),a=this.max.get(i);(t.isSummaries(xr.SUM)||t.isSummaries(xr.AVERAGE))&&this.sum.set(i,r+n),t.isSummaries(xr.MIN)&&o>n&&this.min.set(i,n),t.isSummaries(xr.MAX)&&a<n&&this.max.set(i,n)},n.prototype.generateAggregatedValues=function(t){var e=t.getKey(),n=t.isSummaries(xr.SUM)?this.sum.get(e):void 0,i=t.isSummaries(xr.MIN)?this.min.get(e):void 0,r=t.isSummaries(xr.MAX)?this.max.get(e):void 0,o=t.isSummaries(xr.AVERAGE)?this.average.get(e):void 0,a=t.isSummaries(xr.MEDIAN)?this.median.get(e):void 0;return new ol(n,i,r,o,a)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}($c);var ul=function(t){function e(){return t.call(this)||this}return l(e,t),e}(tl),sl=function(t){function n(){return t.call(this)||this}return l(n,t),n.prototype.forDataType=function(t){return t===cr.STRING},n.prototype.prepare=function(t){},n.prototype.postCalculate=function(t,e){},n.prototype.aggregate=function(t,e){},n.prototype.generateAggregatedValues=function(t){return new ul},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}($c),cl=function(t){function e(){return t.call(this)||this}return l(e,t),e}(tl),ll=function(t){function n(){return t.call(this)||this}return l(n,t),n.prototype.forDataType=function(t){return t===cr.UNKNOWN},n.prototype.prepare=function(t){},n.prototype.postCalculate=function(t,e){},n.prototype.aggregate=function(t,e){},n.prototype.generateAggregatedValues=function(t){return new cl},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}($c),pl=function(){function t(e,n){this.calculators=n,this.values=new Map,this.structureId=e,this.enabled=t.DEFAULT_ENABLED}return t.prototype.calculate=function(t,e){if(!this.enabled)return[];var n=new Map;return this.calculators.forEach((function(i){var r=i.calculate(t,e);r&&Array.from(r.keys()).forEach((function(t){n.set(t,r.get(t))}))})),n.size>0?[new or(this.structureId,n)]:[]},t.prototype.setEnabled=function(t){this.enabled=t},t.prototype.add=function(){},t.prototype.remove=function(){},t.prototype.update=function(){},t.DEFAULT_ENABLED=!1,t}();var gl=function(){function t(t){this.calculators=t}return t.prototype.create=function(t){return new pl(t,this.calculators)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Array,decorators:[{type:e.Inject,args:["GUI - Summaries Calculators"]}]}]},t}();function dl(t){return{provide:"GUI - Summaries Calculators",useClass:t,multi:!0}}var hl=[dl(nl),dl(rl),dl(al),dl(sl),dl(ll),gl],ml=function(){function t(t,e){this.fieldReadModelRepository=t,this.fieldUiConverter=e}return t.prototype.forEvent=function(){return Bn},t.prototype.handle=function(t){if(t.ofMessageType("FieldsInitedEvent")){var e=this.fieldUiConverter.convert(t.getFields());this.fieldReadModelRepository.next(t.getAggregateId(),e)}},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:ge},{type:wr}]},t}();var fl=function(){function t(t){this.domainEventBus=t}return t.prototype.onSummariesChanged=function(t){return this.domainEventBus.pipe(a.filter((function(t){return t.ofMessageType("StructureSummariesChangedEvent")})),a.filter((function(e){return e.getAggregateId().toString()===t.toString()})))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventBus}]},t}();var yl=function(){function t(t,e,n,i){this.filterId=t,this.fieldId=e,this.filterTypeId=n,this.filterValue=i}return t.prototype.getFilterId=function(){return this.filterId},t.prototype.getFilterTypeId=function(){return this.filterTypeId},t.prototype.getFieldId=function(){return this.fieldId},t.prototype.getFilterValue=function(){return this.filterValue},t}();var vl=function(){function t(t,e,n){void 0===t&&(t=!1),void 0===e&&(e=!1),void 0===n&&(n=!1),this.filteringEnabled=!1,this.searchEnabled=!1,this.quickFiltersEnabled=!1,this.filteringEnabled=t,this.searchEnabled=e,this.quickFiltersEnabled=n}return t.prototype.isFilteringEnabled=function(){return this.filteringEnabled},t.prototype.isQuickFilteringEnabled=function(){return this.quickFiltersEnabled},t.prototype.isSearchingEnabled=function(){return this.searchEnabled},t.prototype.setFilterConfig=function(t){t&&void 0!==t.enabled&&null!==t.enabled&&(this.filteringEnabled=t.enabled)},t.prototype.setSearchingConfig=function(t){t&&void 0!==t.enabled&&null!==t.enabled&&(this.searchEnabled=t.enabled)},t.prototype.setQuickFiltersConfig=function(t){t&&void 0!==t.enabled&&null!==t.enabled&&(this.quickFiltersEnabled=t.enabled)},t}();var bl=function(){function t(t){this.filterTypeId=t}return t.prototype.getId=function(){return this.filterTypeId},t.prototype.filterMany=function(t,e,n){var i=this;return 0===t.length?t:t.filter((function(t){return i.filterEntity(t,e,n)}))},t.prototype.filterOne=function(t,e,n){return this.filterEntity(t,e,n)},t}();var Cl=function(t){function e(e){return t.call(this,e)||this}return l(e,t),e.prototype.getName=function(){return"Contains"},e.prototype.filterEntity=function(t,e,n){return!!e.getValue(t).includes(n)},e}(bl),El=function(){function t(t){this.id=t}return t.prototype.toString=function(){return this.id},t}();var Il=function(){function t(){}return t.prototype.generate=function(){return t.index+=1,new El(""+t.index)},t.index=0,t}();var Sl=function(){function t(t,e){this.filterTypeId=t,this.name=e}return t.prototype.getId=function(){return this.filterTypeId},t.prototype.getName=function(){return this.name},t}();var wl=function(){function t(t){this.fieldIds=[],this.map=new WeakMap,this.filterTypeMap=new WeakMap,this.dataTypeToFilterType=new Map,this.filterTypeIdGenerator=new Il,this.assignFilterTypes(),this.addFields(t)}return t.prototype.getFilterType=function(t){return this.filterTypeMap.get(t)},t.prototype.getFieldIdsToFilterTypes=function(){var t,e,n=new Map;try{for(var i=h(this.fieldIds),r=i.next();!r.done;r=i.next()){var o=r.value,a=this.map.get(o).map((function(t){return new Sl(t.getId(),t.getName())}));n.set(o.toString(),a)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return n},t.prototype.addFields=function(t){var e,n;try{for(var i=h(t),r=i.next();!r.done;r=i.next()){var o=r.value;this.addField(o)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.addField=function(t){var e=t.getId(),n=t.getDataType(),i=this.dataTypeToFilterType.get(n);this.fieldIds.push(e),this.map.set(e,f(i))},t.prototype.assignFilterTypes=function(){this.assignFilterTypesForDataTypeUnknown(),this.assignFilterTypesForDataTypeNumber(),this.assignFilterTypesForDataTypeString(),this.assignFilterTypesForDataTypeBoolean(),this.assignFilterTypesForDataTypeDate(),this.assignFilterTypesForDataTypeCustom()},t.prototype.assignFilterTypesForDataTypeUnknown=function(){this.dataTypeToFilterType.set(cr.UNKNOWN,[])},t.prototype.assignFilterTypesForDataTypeNumber=function(){this.dataTypeToFilterType.set(cr.NUMBER,[])},t.prototype.assignFilterTypesForDataTypeString=function(){var t=[new Cl(this.generateId())];this.dataTypeToFilterType.set(cr.STRING,t),this.addFilterTypes(t)},t.prototype.assignFilterTypesForDataTypeBoolean=function(){this.dataTypeToFilterType.set(cr.BOOLEAN,[])},t.prototype.assignFilterTypesForDataTypeDate=function(){this.dataTypeToFilterType.set(cr.DATE,[])},t.prototype.assignFilterTypesForDataTypeCustom=function(){this.dataTypeToFilterType.set(cr.CUSTOM,[])},t.prototype.generateId=function(){return this.filterTypeIdGenerator.generate()},t.prototype.addFilterTypes=function(t){var e,n;try{for(var i=h(t),r=i.next();!r.done;r=i.next()){var o=r.value;this.filterTypeMap.set(o.getId(),o)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t}();var Al=function(){function t(t){this.id=t}return t.prototype.toString=function(){return this.id},t}();var Dl=function(){function t(){}return t.generateId=function(){return new Al(""+t.index)},t.index=0,t}();var Rl=function(){function t(t,e,n,i){this.filterId=t,this.fieldName=e,this.filterTypeName=n,this.value=i}return t.prototype.getText=function(){return this.fieldName+": "+this.filterTypeName+": "+this.value},t.prototype.getFilterId=function(){return this.filterId},t}();var Ml=function(){function t(){this.filterSettings=new vl,this.filters=new Map,this.activeFilters=[]}return t.prototype.getSettings=function(){return this.filterSettings},t.prototype.getAll=function(){return Array.from(this.filters).map((function(t){return t[1]}))},t.prototype.getAllActiveFilters=function(t){var e=this;return this.activeFilters.map((function(n){return new Rl(n.getFilterId(),t.get(n.getFieldId().toString()).getName(),e.filterTypeManager.getFilterType(n.getFilterTypeId()).getName(),n.getFilterValue())}))},t.prototype.getFilterTypes=function(){return this.filterTypeManager.getFieldIdsToFilterTypes()},t.prototype.assignFilterTypes=function(t){this.filterTypeManager=new wl(t)},t.prototype.add=function(t,e,n){var i=new yl(Dl.generateId(),t,e,n);this.activeFilters.push(i)},t.prototype.filter=function(t,e){var n,i,r=f(t);try{for(var o=h(this.activeFilters),a=o.next();!a.done;a=o.next()){var u=a.value,s=u.getFilterTypeId(),c=this.getFilterType(s),l=u.getFilterValue();r=c.filterMany(r,e.get(u.getFieldId().toString()),l)}}catch(t){n={error:t}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return r},t.prototype.removeAll=function(){this.activeFilters.length=0},t.prototype.remove=function(t){this.activeFilters=this.activeFilters.filter((function(e){return e.getFilterId()!==t}))},t.prototype.getFilterType=function(t){return this.filterTypeManager.getFilterType(t)},t}();var xl=function(){function t(){}return t.prototype.create=function(t){return void 0===t&&(t=!1),new Ml},t.decorators=[{type:e.Injectable}],t}(),Pl=function(t){function e(e,n){var i=t.call(this,e,"StructurePreparedEntitiesSetAggregateEvent")||this;return i.preparedItems=n,i}return l(e,t),e.prototype.toDomainEvent=function(){return new ar(this.getAggregateId(),this.preparedItems)},e.prototype.getPreparedItems=function(){return this.preparedItems},e}(r.AggregateEvent);var Tl=function(t){function e(e,n,i){var r=t.call(this,e,"FieldsInitedAggregateEvent")||this;return r.fieldConfigs=n,r.fields=i,r}return l(e,t),e.prototype.toDomainEvent=function(){return new Bn(this.getAggregateId(),this.fieldConfigs,this.fields)},e.prototype.getFieldConfigs=function(){return this.fieldConfigs},e.prototype.getFields=function(){return this.fields},e}(r.AggregateEvent);var Fl=function(t){function e(e,n){var i=t.call(this,e,"SchemaThemeSetAggregateEvent")||this;return i.theme=n,i}return l(e,t),e.prototype.toDomainEvent=function(){return new gn(this.getAggregateId(),this.theme)},e}(r.AggregateEvent);var kl=function(t){function e(e,n){var i=t.call(this,e,"RowColoringSetEvent")||this;return i.rowColoring=n,i}return l(e,t),e.prototype.toDomainEvent=function(){return new di(this.getAggregateId(),this.rowColoring)},e}(r.AggregateEvent);var Ol=function(t){function e(e,n){var i=t.call(this,e,"SchemaHorizontalGridSetEvent")||this;return i.verticalGrid=n,i}return l(e,t),e.prototype.toDomainEvent=function(){return new gi(this.getAggregateId(),this.verticalGrid)},e}(r.AggregateEvent);var Nl=function(t){function e(e,n){var i=t.call(this,e,"SchemaHorizontalGridSetEvent")||this;return i.horizontalGrid=n,i}return l(e,t),e.prototype.toDomainEvent=function(){return new pi(this.getAggregateId(),this.horizontalGrid)},e}(r.AggregateEvent);var Hl=function(t){function e(e){return t.call(this,e,"SchemaCreatedEvent")||this}return l(e,t),e}(r.DomainEvent),Vl=function(t){function e(e){return t.call(this,e,"SchemaCreatedAggregateEvent")||this}return l(e,t),e.prototype.toDomainEvent=function(){return new Hl(this.getAggregateId())},e}(r.AggregateEvent),jl=function(t){function e(n){var i=t.call(this,n,"SchemaAggregate")||this;return i.setTheme(e.DEFAULT_THEME),i.setHorizontalGrid(e.DEFAULT_HORIZONTAL_GRID),i.setVerticalGrid(e.DEFAULT_VERTICAL_GRID),i.setRowColoring(e.DEFAULT_ROW_COLORING),i}return l(e,t),e.prototype.createEvent=function(){return Vl},e.prototype.changeTheme=function(t){this.setTheme(t),t===ue.MATERIAL&&(this.setRowColoring(Ke.NONE),this.setVerticalGrid(!1)),t===ue.LIGHT&&(this.setRowColoring(Ke.NONE),this.setVerticalGrid(!1)),t===ue.DARK&&(this.setRowColoring(Ke.NONE),this.setVerticalGrid(!1)),t===ue.GENERIC&&this.setRowColoring(Ke.ODD)},e.prototype.setTheme=function(t){this.theme=t,this.addEvent(new Fl(this.getId(),this.theme))},e.prototype.setRowColoring=function(t){this.rowColoring=t,this.addEvent(new kl(this.getId(),this.rowColoring))},e.prototype.setVerticalGrid=function(t){this.verticalGrid=t,this.addEvent(new Ol(this.getId(),this.verticalGrid))},e.prototype.setHorizontalGrid=function(t){this.horizontalGrid=t,this.addEvent(new Nl(this.getId(),this.horizontalGrid))},e.DEFAULT_THEME=ue.GENERIC,e.DEFAULT_ROW_COLORING=Ke.ODD,e.DEFAULT_VERTICAL_GRID=!0,e.DEFAULT_HORIZONTAL_GRID=!0,e}(r.AggregateRoot);var Bl=function(t){function e(e){return t.call(this,e,"StructureCreatedAggregateEvent")||this}return l(e,t),e.prototype.toDomainEvent=function(){return new Je(this.getAggregateId())},e}(r.AggregateEvent),Ul=function(t){function e(e,n){var i=t.call(this,e,"FilterTypesInitedEvent")||this;return i.map=n,i}return l(e,t),e.prototype.getMap=function(){return this.map},e}(r.DomainEvent);var zl=function(t){function e(e,n){var i=t.call(this,e,"FilterTypesInitedAggregateEvent")||this;return i.filterTypes=n,i}return l(e,t),e.prototype.toDomainEvent=function(){return new Ul(this.getAggregateId(),this.filterTypes)},e.prototype.getFilterTypes=function(){return this.filterTypes},e}(r.AggregateEvent);var Ll=function(t){function e(e){return t.call(this,e,"FilterAddedEvent")||this}return l(e,t),e.prototype.toDomainEvent=function(){return new Hc(this.getAggregateId(),[])},e}(r.AggregateEvent),Wl=function(t){function e(e,n){var i=t.call(this,e,"FilterAddedEvent")||this;return i.activeFilters=n,i}return l(e,t),e.prototype.toDomainEvent=function(){return new Hc(this.getAggregateId(),this.activeFilters)},e}(r.AggregateEvent);var Gl=function(t){function e(e,n){var i=t.call(this,e,"FilterRemovedAggregateEvent")||this;return i.activeFilters=n,i}return l(e,t),e.prototype.toDomainEvent=function(){return new Hc(this.getAggregateId(),this.activeFilters)},e}(r.AggregateEvent);var ql=function(t){function e(e,n){var i=t.call(this,e,"UniqueFilterCalculatedEvent")||this;return i.map=n,i}return l(e,t),e.prototype.getUniqueValues=function(){return this.map},e}(r.DomainEvent);var Ql=function(t){function e(e,n){var i=t.call(this,e,"UniqueFilterCalculatedAggregateEvent")||this;return i.map=n,i}return l(e,t),e.prototype.toDomainEvent=function(){return new ql(this.getAggregateId(),this.map)},e}(r.AggregateEvent);var Kl=function(t){function e(e){return t.call(this,e,"UniqueFilterSelectedAggregateEvent")||this}return l(e,t),e.prototype.toDomainEvent=function(){return new Vc(this.getAggregateId())},e}(r.AggregateEvent),Xl=function(t){function e(e){return t.call(this,e,"UniqueFilterUnselectedAggregateEvent")||this}return l(e,t),e.prototype.toDomainEvent=function(){return new Bc(this.getAggregateId())},e}(r.AggregateEvent),Zl=function(t){function e(e){return t.call(this,e,"AllUniqueFilterUnselectedAggregateEvent")||this}return l(e,t),e.prototype.toDomainEvent=function(){return new Uc(this.getAggregateId())},e}(r.AggregateEvent),Yl=function(t){function e(e){return t.call(this,e,"AllUniqueFilterSelectedAggregateEvent")||this}return l(e,t),e.prototype.toDomainEvent=function(){return new jc(this.getAggregateId())},e}(r.AggregateEvent),Jl=function(t){function e(e,n,i,r){var o=t.call(this,e,"SelectedRowChangedAggregateEvent")||this;return o.selectedRows=n,o.allSelected=i,o.allUnselected=r,o}return l(e,t),e.prototype.toDomainEvent=function(){return new ei(this.getAggregateId(),this.selectedRows,this.allSelected,this.allUnselected)},e}(r.AggregateEvent);var _l=function(t){function e(e,n){var i=t.call(this,e,"SelectionEnabledSetAggregateEvent")||this;return i.enabled=n,i}return l(e,t),e.prototype.toDomainEvent=function(){return new kc(this.getAggregateId(),this.enabled)},e}(r.AggregateEvent);var $l=function(t){function e(e,n){var i=t.call(this,e,"SelectionModeSetAggregateEvent")||this;return i.mode=n,i}return l(e,t),e.prototype.toDomainEvent=function(){return new yo(this.getAggregateId(),this.mode)},e}(r.AggregateEvent);var tp=function(t){function e(e,n,i,r,o,a,u,s,c,l){var p=t.call(this,e,"StructureAggregate")||this;return p.pagingManager=n,p.sourceManager=i,p.verticalFormation=r,p.summariesManager=o,p.sorterCollection=a,p.filterManager=u,p.uniqueFilterManager=s,p.searchManager=c,p.fieldCollection=l,p}return l(e,t),e.prototype.createEvent=function(){return Bl},e.prototype.clearEvents=function(){t.prototype.clearEvents.call(this),this.pagingManager.clearEvents()},e.prototype.init=function(){this.initTheme()},e.prototype.setVerticalFormationEnabled=function(t){this.verticalFormation.setEnabled(t),this.calculateSource()},e.prototype.getVerticalFormation=function(){return this.verticalFormation},e.prototype.setSummariesEnabled=function(t){return this.summariesManager.setEnabled(t),this.calculateSource(),this.getEvents()},e.prototype.setOrigin=function(t){return this.addEvent(this.sourceManager.setOrigin(t,this.getId())),this.calculateUniqueValues(),this.calculateSource(),this.getEvents()},e.prototype.deleteAllSelected=function(){},e.prototype.deleteItem=function(t){this.addEvent(this.sourceManager.deleteOriginItem(t,this.getId())),this.generateSelectedRowChangedEvent(),this.calculateSource()},e.prototype.editItem=function(t){var e=this,n=t.getItemId(),i=t.getColumnFieldId(),r=this.fieldCollection.getField(i),o=t.getValue();return this.sourceManager.editOriginItem(n,o,r,this.getId()).forEach((function(t){return e.addEvent(t)})),this.calculateSource(),this.getEvents()},e.prototype.setHeight=function(t){this.verticalFormation.setViewportHeight(t),this.calculateSourceBasedOnVirtualScroll()},e.prototype.setTheme=function(t){t===ue.MATERIAL&&this.getVerticalFormation().setRowHeight(52),t===ue.GENERIC&&this.getVerticalFormation().setRowHeight(42),t===ue.FABRIC&&this.getVerticalFormation().setRowHeight(36),t===ue.LIGHT&&this.getVerticalFormation().setRowHeight(56),t===ue.DARK&&this.getVerticalFormation().setRowHeight(38)},e.prototype.setScrollPosition=function(t){this.verticalFormation.setScrollPosition(t),this.calculateSourceBasedOnVirtualScroll()},e.prototype.setSelection=function(t){this.sourceManager.getFormation().setSelection(t),this.addEvent(new _l(this.getId(),t))},e.prototype.setSelectionMode=function(t){this.sourceManager.getFormation().setMode(t),this.addEvent(new $l(this.getId(),t))},e.prototype.toggleRow=function(t,e){this.sourceManager.toggleRow(t,e),this.generateSelectedRowChangedEvent()},e.prototype.selectAll=function(){this.sourceManager.selectAll(),this.generateSelectedRowChangedEvent()},e.prototype.unselectAll=function(){this.sourceManager.unselectAll(),this.generateSelectedRowChangedEvent()},e.prototype.getFormation=function(){return this.sourceManager.getFormation()},e.prototype.getPaging=function(){return this.pagingManager},e.prototype.changePaging=function(t){this.pagingManager.change(t),this.calculateSource()},e.prototype.setPaging=function(t){this.pagingManager=t,this.calculateSource()},e.prototype.nextPage=function(){this.pagingManager.nextPage(),this.calculateSource()},e.prototype.prevPage=function(){this.pagingManager.prevPage(),this.calculateSource()},e.prototype.changePageSize=function(t){var e=this;return this.pagingManager.changePageSize(t).forEach((function(t){e.addEvent(t)})),this.calculateSource(),this.getEvents()},e.prototype.getEntities=function(){return this.sourceManager.getSlicedEntities()},e.prototype.getSource=function(){return this.sourceManager},e.prototype.createFields=function(t){this.fieldCollection.initFields(t);var e=this.fieldCollection.getAllFields();return this.addEvent(new Tl(this.getId(),t,e)),this.filterManager.assignFilterTypes(e),this.addEvent(new zl(this.getId(),this.filterManager.getFilterTypes())),this.getEvents()},e.prototype.setSortingConfig=function(t){this.sorterCollection.setConfig(t)},e.prototype.toggleSort=function(t){var e=this.fieldCollection.getField(t);return this.sorterCollection.toggle(e),this.calculateSource(),this.sorterCollection.getAll()},e.prototype.setSortOrder=function(t,e){var n=this.fieldCollection.getField(t);return this.sorterCollection.setSortOrder(n,e),this.calculateSource(),this.sorterCollection.getAll()},e.prototype.setFilterConfig=function(t){this.filterManager.getSettings().setFilterConfig(t)},e.prototype.setQuickFiltersConfig=function(t){this.filterManager.getSettings().setQuickFiltersConfig(t)},e.prototype.toggleFilter=function(t,e,n){return void 0===this.fieldCollection.getField(t)||this.calculateSource(),[]},e.prototype.addFilter=function(t,e,n){this.filterManager.add(t,e,n);var i=this.fieldCollection.getFieldsAsMap(),r=this.filterManager.getAllActiveFilters(i);this.addEvent(new Wl(this.getId(),r)),this.calculateSource()},e.prototype.removeAllFilters=function(){this.filterManager.removeAll(),this.addEvent(new Ll(this.getId())),this.calculateSource()},e.prototype.removeFilter=function(t){this.filterManager.remove(t);var e=this.fieldCollection.getFieldsAsMap(),n=this.filterManager.getAllActiveFilters(e);this.addEvent(new Gl(this.getId(),n)),this.calculateSource()},e.prototype.setSearchingConfig=function(t){this.filterManager.getSettings().setSearchingConfig(t)},e.prototype.addSearchPhrase=function(t){var e=this.fieldCollection.getAllFields();return this.searchManager.addSearchPhrase(e,t),this.calculateSource(),[]},e.prototype.removeSearchPhrase=function(){return this.searchManager.removeSearchFilters(),this.calculateSource(),[]},e.prototype.selectAllUniqueFilter=function(t){this.uniqueFilterManager.selectAll(t),this.addEvent(new Yl(this.getId())),this.generateCalculateUniqueValuesAggregateEvent(),this.calculateSource()},e.prototype.selectUniqueFilter=function(t,e){this.uniqueFilterManager.select(t,e),this.addEvent(new Kl(this.getId())),this.generateCalculateUniqueValuesAggregateEvent(),this.calculateSource()},e.prototype.unselectAllUniqueFilter=function(t){this.uniqueFilterManager.unselectAll(t),this.addEvent(new Zl(this.getId())),this.generateCalculateUniqueValuesAggregateEvent(),this.calculateSource()},e.prototype.unselectUniqueFilter=function(t,e){this.uniqueFilterManager.unselect(t,e),this.addEvent(new Xl(this.getId())),this.generateCalculateUniqueValuesAggregateEvent(),this.calculateSource()},e.prototype.calculateSource=function(){var t=this;if(this.sourceManager.getOrigin()&&this.pagingManager){this.sourceManager.setEntities(this.sourceManager.getOrigin()),this.sourceManager.setEntities(this.filterManager.filter(this.sourceManager.getEntities(),this.fieldCollection.getFieldsAsMap()));var e=this.searchManager.search(this.sourceManager.getEntities());this.sourceManager.setEntities(e),this.sourceManager.setEntities(this.uniqueFilterManager.filterAll(this.sourceManager.getEntities(),this.fieldCollection.getAllFields()));var n=this.sorterCollection.sort(this.sourceManager.getEntities());this.sourceManager.setEntities(n),this.sourceManager.setPreparedEntities(),this.pagingManager.setSourceSize(this.sourceManager.getPreparedEntities().length),this.addEvent(new Pl(this.getId(),n)),this.summariesManager.calculate(this.fieldCollection.getAllFields(),this.sourceManager.getEntities()).forEach((function(e){t.addEvent(e)})),this.sourceManager.setEntities(this.pagingManager.sample(this.sourceManager.getEntities())),this.verticalFormation.setSourceSize(this.sourceManager.getEntities().length),this.calculateSourceBasedOnVirtualScroll()}},e.prototype.calculateSourceBasedOnVirtualScroll=function(){if(this.verticalFormation.isEnabled()){var t=this.verticalFormation.getRange();this.sourceManager.setSlicedEntities(this.sourceManager.getEntities().slice(t.getStart(),t.getEnd()))}else this.sourceManager.setSlicedEntities(this.sourceManager.getEntities())},e.prototype.initTheme=function(){var t=jl.DEFAULT_THEME;this.setTheme(t)},e.prototype.calculateUniqueValues=function(){var t=this.fieldCollection.getAllFields(),e=this.sourceManager.getOrigin();this.uniqueFilterManager.calculateAll(e,t),this.generateCalculateUniqueValuesAggregateEvent()},e.prototype.generateCalculateUniqueValuesAggregateEvent=function(){this.addEvent(new Ql(this.getId(),this.uniqueFilterManager.getAll(this.fieldCollection.getAllFields())))},e.prototype.generateSelectedRowChangedEvent=function(){this.addEvent(new Jl(this.getId(),this.sourceManager.getFormation().getSelectedRows(),this.sourceManager.getFormation().isAllSelected(),this.sourceManager.getFormation().isAllUnselected()))},g([ct,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",void 0)],e.prototype,"clearEvents",null),e}(r.AggregateRoot);var ep=function(){function t(t,e,n){void 0===n&&(n=!0),this.rank=1,this.sorterId=t,this.field=e,this.direction=n}return t.prototype.getId=function(){return this.sorterId},t.prototype.getRank=function(){return this.rank},t.prototype.getField=function(){return this.field},t.prototype.hasDirection=function(){return this.direction},t.prototype.changeDirection=function(){this.direction=!this.direction},t.prototype.setDirection=function(t){this.direction=t},t.prototype.sort=function(t){var e=this;return 0===t.length?t:t.sort((function(t,n){return e.field.sort(t,n,e.direction)}))},t}();var np=function(){function t(t){this.sorterId=t}return t.prototype.getId=function(){return this.sorterId},t}();var ip=function(){function t(t,e){void 0===t&&(t=!1),void 0===e&&(e=!1),this.sorters=new Map,this.enabled=t,this.multi=e}return t.prototype.setConfig=function(t){t&&void 0!==t.enabled&&null!==t.enabled&&(this.enabled=t.enabled),t&&void 0!==t.multiSorting&&null!==t.multiSorting&&(this.multi=t.multiSorting,this.sorters.clear())},t.prototype.toggle=function(t){var e=t.getId(),n=this.sorters.get(e.getId());n?n.hasDirection()?n.changeDirection():this.delete(e):this.add(t)},t.prototype.setSortOrder=function(t,e){var n=t.getId();this.sorters.get(n.getId());if(e===Lu.NONE)this.delete(n);else if(e===Lu.ASC||e===Lu.DESC){this.delete(n);var i=e===Lu.ASC;this.add(t,i)}},t.prototype.add=function(t,e){void 0===e&&(e=!0),this.addSorter(t.getId(),new ep(new np(r.RandomStringGenerator.generate()),t,e))},t.prototype.addSorter=function(t,e){this.multi||this.sorters.clear(),this.sorters.set(t.getId(),e)},t.prototype.delete=function(t){this.sorters.delete(t.getId())},t.prototype.update=function(){},t.prototype.sort=function(t){var e,n,i=this.getAll(),r=f(t);try{for(var o=h(i),a=o.next();!a.done;a=o.next()){r=a.value.sort(r)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r},t.prototype.getAll=function(){return this.enabled?Array.from(this.sorters).map((function(t){return t[1]})).sort((function(t,e){return t.getRank()-e.getRank()})).reverse():[]},t}();var rp=function(){function t(t,e,n,i){this.id=t,this.value=e,this.displayValue=n,this.enabled=i}return t.prototype.getId=function(){return this.id},t.prototype.getValue=function(){return this.value},t.prototype.getDisplayValue=function(){return this.displayValue},t.prototype.isEnabled=function(){return this.enabled},t.prototype.isDisabled=function(){return!this.enabled},t.prototype.select=function(){this.enabled=!0},t.prototype.unselect=function(){this.enabled=!1},t}();var op=function(){function t(t){this.id=t}return t.prototype.toString=function(){return this.id},t.prototype.equals=function(t){return t.toString()===this.id},t}();var ap=function(){function t(){}return t.generate=function(){return t.index+=1,new op(""+t.index)},t.index=0,t}();var up=function(){function t(t,e){var n,i;this.values=[];try{for(var r=h(t),o=r.next();!o.done;o=r.next()){var a=o.value;this.values.push(new rp(ap.generate(),a,e.getDisplayValue(a),!0))}}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}this.calculateAllSelected(),this.calculateAllDisabled()}return t.prototype.getAll=function(){return this.values},t.prototype.isAllSelected=function(){return this.allSelected},t.prototype.isAllDisabled=function(){return this.allDisabled},t.prototype.getNotSelected=function(){return this.values.filter((function(t){return t.isDisabled()}))},t.prototype.selectAll=function(){this.values.forEach((function(t){t.select()})),this.allSelected=!0,this.allDisabled=!1},t.prototype.select=function(t){this.values.filter((function(e){return e.getId().equals(t)})).forEach((function(t){t.select()})),this.calculateAllSelected(),this.calculateAllDisabled()},t.prototype.unselectAll=function(){this.values.forEach((function(t){t.unselect()})),this.allSelected=!1,this.allDisabled=!0},t.prototype.unselect=function(t){this.values.filter((function(e){return e.getId().equals(t)})).forEach((function(t){t.unselect()})),this.calculateAllSelected(),this.calculateAllDisabled()},t.prototype.calculateAllSelected=function(){this.allSelected=!this.values.some((function(t){return t.isDisabled()}))},t.prototype.calculateAllDisabled=function(){this.allDisabled=!this.values.some((function(t){return t.isEnabled()}))},t}();var sp=function(){function t(){this.uniqueValueMap=new r.KeyMap}return t.prototype.calculate=function(t,e){var n=this,i=e.getId();this.uniqueValueMap.get(i).ifEmpty((function(){var i,r,o=new Set;try{for(var a=h(t),u=a.next();!u.done;u=a.next()){var s=u.value;o.add(e.getValue(s))}}catch(t){i={error:t}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}var c=Array.from(o.values()).sort((function(t,n){return e.getField().sort(t,n)})),l=new up(c,e);n.uniqueValueMap.set(e.getId(),l)}))},t.prototype.calculateAll=function(t,e){var n,i;try{for(var r=h(e),o=r.next();!o.done;o=r.next()){var a=o.value;this.calculate(t,a)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},t.prototype.filterAll=function(t,e){var n,i,r=t;try{for(var o=h(e),a=o.next();!a.done;a=o.next()){var u=a.value;r=this.filter(r,u)}}catch(t){n={error:t}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return r},t.prototype.filter=function(t,e){var n=[];return this.uniqueValueMap.get(e.getId()).ifPresent((function(i){n=i.isAllSelected()?t:i.isAllDisabled()?[]:t.filter((function(t){var n,r;try{for(var o=h(i.getNotSelected()),a=o.next();!a.done;a=o.next()){var u=a.value;if(e.getField().equals(t,u.getValue()))return!1}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!0}))})),n},t.prototype.selectAll=function(t){this.uniqueValueMap.get(t).ifPresent((function(t){t.selectAll()}))},t.prototype.select=function(t,e){this.uniqueValueMap.get(t).ifPresent((function(t){t.select(e)}))},t.prototype.unselectAll=function(t){this.uniqueValueMap.get(t).ifPresent((function(t){t.unselectAll()}))},t.prototype.unselect=function(t,e){this.uniqueValueMap.get(t).ifPresent((function(t){t.unselect(e)}))},t.prototype.getAll=function(t){var e,n,i=new Map,r=function(t){o.getValues(t).ifPresent((function(e){i.set(t.getId().toString(),e)}))},o=this;try{for(var a=h(t),u=a.next();!u.done;u=a.next()){r(u.value)}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return i},t.prototype.getValues=function(t){return this.uniqueValueMap.get(t.getId()).map((function(t){return t.getAll()}))},t}();var cp=function(t){function n(e,n,i,r,o,a,u){var s=t.call(this)||this;return s.pagingAggregateFactory=e,s.sourceManagerFactory=n,s.verticalFormationFactory=i,s.summariesManagerFactory=r,s.filterManagerFactory=o,s.searchManagerFactory=a,s.fieldCollectionFactory=u,s}return l(n,t),n.prototype.create=function(t){var e=this.pagingAggregateFactory.createDefault(),n=this.sourceManagerFactory.createDefault(),i=this.verticalFormationFactory.create(),r=new ip,o=this.filterManagerFactory.create(!1),a=this.fieldCollectionFactory.create(),u=this.summariesManagerFactory.create(t),s=this.searchManagerFactory.create(),c=new tp(t,e,n,i,u,r,o,new sp,s,a);return this.init(c),c},n.prototype.init=function(t){t.init()},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:ft},{type:ao},{type:_c},{type:gl},{type:xl},{type:pr},{type:Br}]},n}(r.AggregateFactory);var lp=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return ie},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publish(new pn(e.getAggregateId()))},t.prototype.handleAggregate=function(t,e){var n=e.getRowHeight();t.getVerticalFormation().setRowHeight(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var pp=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return re},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publish(new dn(e.getAggregateId()))},t.prototype.handleAggregate=function(t,e){var n=e.getHeight();t.setHeight(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var gp=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return oe},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publish(new fn(e.getAggregateId()))},t.prototype.handleAggregate=function(t,e){var n=e.getTheme();t.setTheme(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var dp=function(t){function n(){var e=t.call(this)||this;return e.enabled=new Map,e.enabled$=new o.ReplaySubject,e}return l(n,t),n.prototype.init=function(t){this.setEnabled(pl.DEFAULT_ENABLED,t)},n.prototype.setEnabled=function(t,e){this.next(t,e)},n.prototype.onSummariesEnabled=function(t){return this.enabled$.asObservable().pipe(this.takeUntil(),a.map((function(e){return e.get(t.toString())})),a.distinctUntilChanged())},n.prototype.next=function(t,e){this.enabled.set(e.toString(),t),this.enabled$.next(this.enabled)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(vt);var hp=function(){function t(t){this.structureSummariesRepository=t}return t.prototype.onSummariesEnabled=function(t){return void 0===t&&(t=ut),this.structureSummariesRepository.onSummariesEnabled(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:dp}]},t}();var mp=function(){function t(t){this.structureSummariesRepository=t}return t.prototype.forEvent=function(){return Je},t.prototype.handle=function(t){if(t.ofMessageType("StructureCreatedEvent")){var e=t.getAggregateId();this.structureSummariesRepository.init(e)}},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:dp}]},t}();var fp=function(){function t(t){this.structureSummariesRepository=t}return t.prototype.forEvent=function(){return Kc},t.prototype.handle=function(t){t.ofMessageType("StructureSummariesEnabledSetEvent")&&this.structureSummariesRepository.setEnabled(t.isEnabled(),t.getAggregateId())},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:dp}]},t}();var yp=f(Lc,[_c],hl),vp=f(Wc,[an,vn,dp,hp]),bp=f(r.HermesModule.registerCommandHandler(qc,"StructureAggregate"),r.HermesModule.registerCommandHandler(gp,"StructureAggregate"),r.HermesModule.registerCommandHandler(Qc,"StructureAggregate"),r.HermesModule.registerCommandHandler(Xc,"StructureAggregate"),r.HermesModule.registerCommandHandler(lp,"StructureAggregate"),r.HermesModule.registerCommandHandler(pp,"StructureAggregate")),Cp=f(r.HermesModule.registerDomainEventHandler(fp),r.HermesModule.registerDomainEventHandler(mp),r.HermesModule.registerDomainEventHandler(ml)),Ep=f(Gc,yp,vp,[kn,fl,cp,cn,bn,ce,ae]),Ip=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e.prototype.warn=function(t){console.warn(t)},e.prototype.error=function(t){console.error(t)},e}(lt),Sp=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{providers:[{provide:lt,useClass:Ip}]}]}],t}(),wp=function(){function t(){}return t.prototype.create=function(t){return Array.isArray(t)?this.createEntities(t):this.createEntity(t)},t.prototype.createEntities=function(t){var e=this;return t.map((function(t){return e.createEntity(t)}))},t.prototype.createEntity=function(t){return t instanceof $r?new sn(t.rawData,t.getPosition(),t.getId().toString(),t.getVersion()):new sn(t,0)},t.decorators=[{type:e.Injectable}],t}(),Ap=function(t){function n(){return t.call(this)||this}return l(n,t),n.decorators=[{type:e.Component,args:[{selector:"gui-structure-top-panel",template:"\n\n\t\t<gui-search-bar></gui-search-bar>\n\x3c!--\t\t<gui-filter-menu-trigger></gui-filter-menu-trigger>--\x3e\n\n\t",changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[]},n}(Hn),Dp=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,s.ReactiveFormsModule,qa,Ir],declarations:[Ap],exports:[Ap]}]}],t}(),Rp=function(t){function n(e,n,i,r,o){var a=t.call(this)||this;return a.elementRef=e,a.changeDetectorRef=n,a.structureCommandService=i,a.structureColumnMenuConfigArchive=r,a.structureColumnConfigService=o,a}return l(n,t),n.prototype.ngOnInit=function(){var t=this;this.structureColumnMenuConfigArchive.onValue().pipe(this.takeUntil()).subscribe((function(e){t.config=e,t.changeDetectorRef.detectChanges()}))},n.prototype.openConfigDialog=function(){this.structureColumnConfigService.open(this.headerDialogContainer,this.column)},n.prototype.closeConfigDialog=function(){this.structureColumnConfigService.close()},n.prototype.isEnabled=function(){return this.config&&this.config.isEnabled()},n.decorators=[{type:e.Component,args:[{selector:"gui-structure-column-config-trigger",template:'\n\t\t<div #headerDialogContainer\n\t\t\t *ngIf="isEnabled()"\n\t\t\t class="gui-header-menu-icon-wrapper"\n\t\t\t (click)="openConfigDialog()">\n\n\t\t\t<gui-structure-column-menu-icon [ngClass]="\'gui-header-menu-icon\'"></gui-structure-column-menu-icon>\n\n\t\t</div>\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ElementRef},{type:e.ChangeDetectorRef},{type:ae},{type:ri},{type:vc}]},n.propDecorators={headerDialogContainer:[{type:e.ViewChild,args:["headerDialogContainer",{static:!1}]}],column:[{type:e.Input}]},n}(Hn);var Mp=function(t){function n(e,n,r,o,a){var u=t.call(this)||this;return u.changeDetectorRef=e,u.compositionId=n,u.structureId=r,u.sortingCommandDispatcher=o,u.compositionReadModelService=a,u.placement=i.Placement.Right,u.status=Lu,u}return l(n,t),n.prototype.ngOnInit=function(){var t=this;this.sortStatus=this.column.getSortStatus(),this.compositionReadModelService.onSortOrder(this.column.getFieldId()).pipe(this.takeUntil()).subscribe((function(e){t.sortStatus=e,t.changeDetectorRef.detectChanges()}))},n.prototype.isAscSort=function(){return this.sortStatus===Lu.ASC},n.prototype.isDescSort=function(){return this.sortStatus===Lu.DESC},n.prototype.isNoneSort=function(){return this.sortStatus===Lu.NONE},n.prototype.setSortOrder=function(t){event.stopPropagation(),this.sortingCommandDispatcher.setSortOrder(this.column.getFieldId(),t,this.compositionId,this.structureId)},n.decorators=[{type:e.Component,args:[{selector:"gui-structure-column-config-sort",template:'\n\n\t\t<gui-dropdown [placement]="placement"\n\t\t\t\t\t  [dropdownText]="\'Column Sort\'"\n\t\t\t\t\t  [width]="225"\n\t\t\t\t\t  [showOnHover]="true"\n\t\t\t\t\t  class="gui-header-menu-dropdown">\n\n\t\t\t<gui-dropdown-item (click)="setSortOrder(status.ASC)"\n\t\t\t\t\t\t\t   [class.gui-header-item-active]="isAscSort()">\n\t\t\t\t<div class="gui-sort-title">Ascending\n\t\t\t\t\t<gui-structure-column-menu-arrow-icon [sort]="true" [rotateDeg]="0">\n\t\t\t\t\t</gui-structure-column-menu-arrow-icon>\n\t\t\t\t</div>\n\t\t\t</gui-dropdown-item>\n\n\t\t\t<gui-dropdown-item (click)="setSortOrder(status.DESC)"\n\t\t\t\t\t\t\t   [class.gui-header-item-active]="isDescSort()">\n\t\t\t\t<div class="gui-sort-title">Descending\n\t\t\t\t\t<gui-structure-column-menu-arrow-icon [sort]="true" [rotateDeg]="180">\n\t\t\t\t\t</gui-structure-column-menu-arrow-icon>\n\t\t\t\t</div>\n\t\t\t</gui-dropdown-item>\n\n\t\t\t<gui-dropdown-item (click)="setSortOrder(status.NONE)"\n\t\t\t\t\t\t\t   [class.gui-header-item-active]="isNoneSort()">\n\t\t\t\tNone\n\t\t\t</gui-dropdown-item>\n\n\t\t</gui-dropdown>\n\t'}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:L},{type:F},{type:Gi},{type:Ie}]},n.propDecorators={column:[{type:e.Input}]},n}(Hn);var xp=function(){function t(t,e){this.compositionCommandService=t,this.structureColumnConfigService=e}return t.prototype.hideColumn=function(t){this.compositionCommandService.disableColumn(t.getColumnDefinitionId()),this.structureColumnConfigService.close()},t.decorators=[{type:e.Component,args:[{selector:"gui-structure-column-config-column-hide",template:'\n\n\t\t<div class="gui-header-menu-item"\n\t\t\t (click)="hideColumn(column)">\n\t\t\tHide Column\n\t\t</div>\n\t'}]}],t.ctorParameters=function(){return[{type:et},{type:vc}]},t.propDecorators={column:[{type:e.Input}]},t}();var Pp=function(){function t(t,e){this.compositionCommandService=t,this.structureColumnConfigService=e}return t.prototype.moveLeft=function(t){this.compositionCommandService.moveLeft(t.getColumnDefinitionId()),this.structureColumnConfigService.close()},t.prototype.moveRight=function(t){this.compositionCommandService.moveRight(t.getColumnDefinitionId()),this.structureColumnConfigService.close()},t.decorators=[{type:e.Component,args:[{selector:"gui-structure-column-config-column-move",template:'\n\t\t<div class="gui-header-menu-column-move">\n\t\t\t<div class="gui-header-menu-column-move-item left"\n\t\t\t\t (click)="moveLeft(column)">\n\t\t\t\t<gui-structure-column-menu-arrow-icon [rotateDeg]="-90"></gui-structure-column-menu-arrow-icon>\n\t\t\t\tMove Left\n\t\t\t</div>\n\n\t\t\t<div class="gui-header-menu-column-move-item right"\n\t\t\t\t (click)="moveRight(column)">\n\t\t\t\tMove Right\n\t\t\t\t<gui-structure-column-menu-arrow-icon></gui-structure-column-menu-arrow-icon>\n\t\t\t</div>\n\t\t</div>\n\t'}]}],t.ctorParameters=function(){return[{type:et},{type:vc}]},t.propDecorators={column:[{type:e.Input}]},t}();var Tp=function(){function t(){}return t.decorators=[{type:e.Component,args:[{selector:"gui-structure-column-menu-icon",template:'\n\t\t<svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10.32 7.46">\n\t\t\t<line class="cls-1" x1="9.57" y1="3.73" x2="0.75" y2="3.73"/>\n\t\t\t<line class="cls-1" x1="9.57" y1="0.75" x2="0.75" y2="0.75"/>\n\t\t\t<line class="cls-1" x1="9.57" y1="6.71" x2="0.75" y2="6.71"/>\n\t\t</svg>\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,host:{"[class.gui-structure-column-menu-icon]":"true","[class.gui-icon]":"true"}}]}],t}(),Fp="gui-structure-column-menu-arrow-icon",kp=function(){function t(){this.rotateDeg=90}return t.decorators=[{type:e.Component,args:[{selector:Fp,template:'\n\t\t<div [style.transform]="\'rotate(\' + rotateDeg + \'deg)\'"\n\t\t\t [class.gui-structure-column-menu-sort-icon]="sort">\n\t\t\t<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10.04 11.72">\n\t\t\t\t<line class="cls-1" x1="5.02" y1="2.15" x2="5.02" y2="10.97"/>\n\t\t\t\t<line class="cls-1" x1="5.02" y1="0.75" x2="9.29" y2="5.02"/>\n\t\t\t\t<line class="cls-1" x1="5.02" y1="0.75" x2="0.75" y2="5.02"/>\n\t\t\t</svg>\n\t\t</div>\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,host:{"[class]":'"'+Fp+'"'}}]}],t.propDecorators={rotateDeg:[{type:e.Input}],sort:[{type:e.Input}]},t}();var Op=function(t){function n(e,n,i,r){var o=t.call(this)||this;return o.changeDetectorRef=e,o.structureId=n,o.filterWarehouse=i,o.filterCommandDispatcher=r,o.uniqueValues=[],o}return l(n,t),n.prototype.ngOnInit=function(){var t=this;this.filterWarehouse.onUniqueValues(this.structureId).pipe(this.takeUntil()).subscribe((function(e){t.uniqueValues=e.getValues(t.fieldId),t.selectAllChecked=e.isSelectAllChecked(t.fieldId),t.selectAllIndeterminate=e.isIndeterminate(t.fieldId),t.changeDetectorRef.detectChanges()}))},n.prototype.toggleAllSelect=function(){event.stopPropagation(),this.selectAllChecked?this.filterCommandDispatcher.unselectAllUniqueFilter(this.fieldId,this.structureId):this.filterCommandDispatcher.selectAllUniqueFilter(this.fieldId,this.structureId)},n.prototype.toggleSelect=function(t){event.stopPropagation(),t.isEnabled()?this.filterCommandDispatcher.unselectUniqueFilter(this.fieldId,t.getId(),this.structureId):this.filterCommandDispatcher.selectUniqueFilter(this.fieldId,t.getId(),this.structureId)},n.prototype.clearFilters=function(){this.filterCommandDispatcher.selectAllUniqueFilter(this.fieldId,this.structureId)},n.decorators=[{type:e.Component,args:[{selector:"gui-unique-value-list",template:'\n\n\t\t<gui-checkbox [checked]="selectAllChecked"\n\t\t\t\t\t  [indeterminate]="selectAllIndeterminate"\n\t\t\t\t\t  (changed)="toggleAllSelect()">\n\t\t\tSelect all\n\t\t</gui-checkbox>\n\t\t<div class="gui-unique-value-list">\n\t\t\t<div *ngFor="let value of uniqueValues">\n\t\t\t\t<gui-checkbox [checked]="value.isEnabled()"\n\t\t\t\t\t\t\t  (changed)="toggleSelect(value)">\n\t\t\t\t\t{{value.getValue()}}\n\t\t\t\t</gui-checkbox>\n\t\t\t</div>\n\t\t</div>\n\t\t\n\t\t<div class="gui-unique-value-list-actions">\n\x3c!--\t\t\t<button gui-button--\x3e\n\x3c!--\t\t\t\t\t[outline]="true"--\x3e\n\x3c!--\t\t\t\t\t(click)="clearFilters()">--\x3e\n\x3c!--\t\t\t\tCancel--\x3e\n\x3c!--\t\t\t</button>--\x3e\n\t\t\t\n\t\t\t<button gui-button\n\t\t\t\t\t[outline]="true"\n\t\t\t\t\t[primary]="true"\n\t\t\t\t\t(click)="clearFilters()">\n\t\t\t\tClear\n\t\t\t</button>\n\t\t</div>\n\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,styles:[".gui-unique-value-list{max-height:300px;overflow-y:scroll;overflow-x:hidden}.gui-unique-value-list-actions{padding:8px;display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end}"]}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:F},{type:Ha},{type:Xt}]},n.propDecorators={fieldId:[{type:e.Input}]},n}(Hn);var Np=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,Ka],declarations:[Op],exports:[Op]}]}],t}(),Hp=[yc,Rp,Mp,xp,Pp,Tp,kp],Vp=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,Ka,su,Np],declarations:Hp,exports:Hp}]}],t}(),jp=function(t){function n(e,n,i,r,o){var a=t.call(this)||this;return a.changeDetectorRef=e,a.structureId=n,a.structureSummariesUiEventsRepository=i,a.sourceReadModelService=r,a.compositionReadModelService=o,a.sourceEmpty=!1,a.structureSummariesUiEventsRepository.onSummariesChanged(a.structureId).pipe(a.takeUntil()).subscribe((function(t){a.summaries=t.getSummaries(),a.changeDetectorRef.detectChanges()})),a}return l(n,t),n.prototype.ngOnInit=function(){var t=this;this.sourceReadModelService.onEntitiesSize().pipe(this.takeUntil()).subscribe((function(e){t.sourceEmpty=0===e,t.changeDetectorRef.detectChanges()})),this.compositionReadModelService.onHeaderColumns().pipe(this.takeUntil()).subscribe((function(e){t.headerColumns=e,t.changeDetectorRef.detectChanges()}))},n.prototype.isSummariesTypePresent=function(t){return null!=t},n.decorators=[{type:e.Component,args:[{selector:"gui-structure-summaries-panel",template:'\n\n\t\t<ng-container *ngIf="enabled && summaries && !sourceEmpty">\n\n\t\t\t<div *ngFor="let column of headerColumns"\n\t\t\t\t [style.width.px]="column.width"\n\t\t\t\t class="gui-structure-summaries-cell">\n\n\t\t\t\t<ng-container *ngIf="summaries && !!summaries.get(column.getFieldId().getId())">\n\n\t\t\t\t\t<div *ngIf="isSummariesTypePresent(summaries.get(column.getFieldId().getId()).count)"\n\t\t\t\t\t\t class="gui-structure-summaries-value">\n\t\t\t\t\t\t<span [gui-tooltip]="\'Number of items in the grid\'">Count</span>\n\t\t\t\t\t\t<span class="gui-summaries-value">{{ summaries.get(column.getFieldId().getId()).count }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf="isSummariesTypePresent(summaries.get(column.getFieldId().getId()).distinct)"\n\t\t\t\t\t\t class="gui-structure-summaries-value">\n\t\t\t\t\t\t<span [gui-tooltip]="\'Distinct Values\'">Dist</span>\n\t\t\t\t\t\t<span class="gui-summaries-value">{{ summaries.get(column.getFieldId().getId()).distinct }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf=" isSummariesTypePresent(summaries.get(column.getFieldId().getId()).sum)"\n\t\t\t\t\t\t class="gui-structure-summaries-value">\n\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\x3c!--\t\t\t\t\t\t\t<span [gui-tooltip]="\'Sum\'" --\x3e\n\t\t\t\t\t\t\t\x3c!--\t\t\t\t\t\t\t\t  class="gui-math-symbol">&sum;</span>--\x3e\n\t\t\t\t\t\t\tSum\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span class="gui-summaries-value">{{ summaries.get(column.getFieldId().getId()).sum }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf="isSummariesTypePresent(summaries.get(column.getFieldId().getId()).average)"\n\t\t\t\t\t\t class="gui-structure-summaries-value">\n\n\t\t\t\t\t\t\x3c!--\t\t\t\t\t\t<div [gui-tooltip]="\'Average\'"--\x3e\n\t\t\t\t\t\t\x3c!--\t\t\t\t\t\t\t class="gui-mean">--\x3e\n\t\t\t\t\t\t\x3c!--\t\t\t\t\t\t\t<span>_</span><span>X</span>--\x3e\n\t\t\t\t\t\t\x3c!--\t\t\t\t\t\t</div>--\x3e\n\t\t\t\t\t\t<span [gui-tooltip]="\'Average\'">Avg</span>\n\t\t\t\t\t\t<span class="gui-summaries-value">{{ summaries.get(column.getFieldId().getId()).average }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf=" isSummariesTypePresent(summaries.get(column.getFieldId().getId()).min)"\n\t\t\t\t\t\t class="gui-structure-summaries-value">\n\n\t\t\t\t\t\t\x3c!--\t\t\t\t\t\t<div [gui-tooltip]="\'Min\'">--\x3e\n\t\t\t\t\t\t\x3c!--\t\t\t\t\t\t\t<span class="gui-math-symbol">&and;</span>--\x3e\n\t\t\t\t\t\t\x3c!--\t\t\t\t\t\t</div>--\x3e\n\t\t\t\t\t\t<span [gui-tooltip]="\'Min\'">\n\t\t\t\t\t\t\tMin\n\t\t\t\t\t\t</span>\n\n\t\t\t\t\t\t<span class="gui-summaries-value">{{ summaries.get(column.getFieldId().getId()).min }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf=" isSummariesTypePresent(summaries.get(column.getFieldId().getId()).max)"\n\t\t\t\t\t\t class="gui-structure-summaries-value">\n\n\t\t\t\t\t\t\x3c!--\t\t\t\t\t\t<div [gui-tooltip]="\'Max\'">--\x3e\n\t\t\t\t\t\t\x3c!--\t\t\t\t\t\t\t<span class="gui-math-symbol">&or;</span>--\x3e\n\t\t\t\t\t\t\x3c!--\t\t\t\t\t\t</div>--\x3e\n\n\t\t\t\t\t\t<span [gui-tooltip]="\'Max\'">\n\t\t\t\t\t\t\tMax\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span class="gui-summaries-value">{{ summaries.get(column.getFieldId().getId()).max }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf="isSummariesTypePresent(summaries.get(column.getFieldId().getId()).median)"\n\t\t\t\t\t\t class="gui-structure-summaries-value">\n\n\t\t\t\t\t\t\x3c!--\t\t\t\t\t\t<div [gui-tooltip]="\'Median\'"--\x3e\n\t\t\t\t\t\t\x3c!--\t\t\t\t\t\t\t class="gui-median">--\x3e\n\t\t\t\t\t\t\x3c!--\t\t\t\t\t\t\t<span>~</span>--\x3e\n\t\t\t\t\t\t\x3c!--\t\t\t\t\t\t\t<span>X</span>--\x3e\n\t\t\t\t\t\t\x3c!--\t\t\t\t\t\t</div>--\x3e\n\n\t\t\t\t\t\t<span [gui-tooltip]="\'Median\'">Med</span>\n\t\t\t\t\t\t<span class="gui-summaries-value">{{ summaries.get(column.getFieldId().getId()).median }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf="isSummariesTypePresent(summaries.get(column.getFieldId().getId()).truthy)"\n\t\t\t\t\t\t class="gui-structure-summaries-value">\n\t\t\t\t\t\t<span>Truthy</span>\n\t\t\t\t\t\t<span class="gui-summaries-value">{{ summaries.get(column.getFieldId().getId()).truthy }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf="isSummariesTypePresent(summaries.get(column.getFieldId().getId()).falsy)"\n\t\t\t\t\t\t class="gui-structure-summaries-value">\n\t\t\t\t\t\t<span>Falsy</span>\n\t\t\t\t\t\t<span class="gui-summaries-value">{{ summaries.get(column.getFieldId().getId()).falsy }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t</ng-container>\n\t\t\t</div>\n\n\t\t</ng-container>\n\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,host:{"[class.gui-structure-summaries-panel]":"true"}}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:F},{type:fl},{type:Vt},{type:Ie}]},n.propDecorators={enabled:[{type:e.Input}]},n}(Hn);var Bp=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,i.FabricModule],declarations:[jp],exports:[jp],providers:[Pn,On,Tn]}]}],t}(),Up=function(){function t(t,e){this.structureAggregateRepository=t,this.domainEventPublisher=e}return t.prototype.forCommand=function(){return $t},t.prototype.getAggregateRepository=function(){return this.structureAggregateRepository},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publish(new Je(e.getAggregateId()))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Ai},{type:r.DomainEventPublisher}]},t}();var zp=function(t){function n(e){var n=t.call(this)||this;return n.sourceCommandService=e,n}return l(n,t),n.prototype.ngOnChanges=function(t){null!==t.entity&&void 0!==t.entity&&this.initEditContext(),null!==t.cell&&void 0!==t.cell&&this.initEditContext()},n.prototype.ngOnInit=function(){this.initEditContext()},n.prototype.submitChangesAndExit=function(){var t=this.entity.getId(),e=this.actualValue,n=this.cell.columnFieldId;this.sourceCommandService.editItem(new pe(t,n,e))},n.prototype.initEditContext=function(){var t=this;this.valueChanges$=new Eu,this.status$=new Eu,this.editContext={status:this.status$,valueChanges:this.valueChanges$,value:this.cell.getValue(this.entity),focus:!1,parent:this.cellContainerRef},this.status$.on().pipe(this.takeUntil()).subscribe((function(e){switch(e){case Iu.SUBMIT:t.submitChangesAndExit(),t.publishEditSubmit();break;case Iu.CANCEL:t.publishEditCancel()}}))},n.prototype.observeValueChanges=function(){var t=this;this.valueChanges$.on().pipe(this.takeUntil()).subscribe((function(e){t.actualValue=e}))},n.prototype.publishEditState=function(t){},n.prototype.publishEditEnter=function(){this.publishEditState(Vn.ENTER)},n.prototype.publishEditCancel=function(){this.publishEditState(Vn.CANCEL)},n.prototype.publishEditSubmit=function(){this.publishEditState(Vn.SUBMIT)},n.decorators=[{type:e.Component,args:[{selector:"gui-structure-cell-edit[entity][cell]",template:'\n\n\t\t<span #cellContainer >\n\t\t\t<ng-container\n\t\t\t\t\t*ngTemplateOutlet="cell.editTemplate;\n\t\t\t\t\t\t\t\t\tcontext: editContext">\n\t\t\t</ng-container>\n\t\t</span>\n\n\t'}]}],n.ctorParameters=function(){return[{type:fe}]},n.propDecorators={cellContainerRef:[{type:e.ViewChild,args:["cellContainer",{static:!0}]}],entity:[{type:e.Input}],cell:[{type:e.Input}]},n}(Hn);var Lp=function(t){function n(){return t.call(this)||this}return l(n,t),n.prototype.create=function(t){return new jl(t)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.AggregateFactory),Wp=function(){function t(){}return t.prototype.forCommand=function(){return Le},t.decorators=[{type:e.Injectable}],t}(),Gp=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return ze},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publishFromAggregate(t)},t.prototype.handleAggregate=function(t,e){var n=e.getTheme();t.changeTheme(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var qp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e}(r.AggregateRepository);var Qp=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n}(r.InMemoryStore),Kp=function(t){function n(e,n){return t.call(this,e,n)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:Qp},{type:r.AggregateStoreRegister}]},n}(r.InMemoryAggregateStore),Xp=function(t){function n(e){var n=t.call(this)||this;return n.inMemorySchemaAggregateStore=e,n}return l(n,t),n.prototype.getById=function(t){return this.inMemorySchemaAggregateStore.getById(t)},n.prototype.save=function(t){this.inMemorySchemaAggregateStore.save(t)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:Kp}]},n}(qp);var Zp=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return We},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publishFromAggregate(t)},t.prototype.handleAggregate=function(t,e){var n=e.getColoring();t.setRowColoring(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var Yp=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return qe},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publishFromAggregate(t)},t.prototype.handleAggregate=function(t,e){var n=e.isEnabled();t.setHorizontalGrid(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var Jp=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return Ge},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publishFromAggregate(t)},t.prototype.handleAggregate=function(t,e){var n=e.isEnabled();t.setVerticalGrid(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var _p=function(){function t(t,e,n,i){this.verticalGrid=t,this.horizontalGrid=e,this.theme=n,this.rowColoring=i}return t.prototype.getRowColoring=function(){return this.rowColoring},t}();var $p=function(){function t(t){this.schemaCssClassesRepository=t}return t.prototype.publish=function(t){void 0!==this.rowColoring&&void 0!==this.horizontalGrid&&void 0!==this.verticalGrid&&void 0!==this.schemaTheme&&this.schemaCssClassesRepository.setCssClass(new _p(this.verticalGrid,this.horizontalGrid,this.schemaTheme,this.rowColoring),t)},t.prototype.forEvents=function(){return[gn,di,pi,gi]},t.prototype.handle=function(t){t.ofMessageType("RowColoringSetEvent")&&(this.rowColoring=t.getRowColoring()),t.ofMessageType("SchemaHorizontalGridSetEvent")&&(this.horizontalGrid=t.getHorizontalGrid()),t.ofMessageType("SchemaVerticalGridSetEvent")&&(this.verticalGrid=t.getVerticalGrid()),t.ofMessageType("SchemaThemeSetEvent")&&(this.schemaTheme=t.getTheme()),this.publish(t.getAggregateId())},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Ne}]},t}();var tg=function(){function t(t){this.themeRepository=t}return t.prototype.forEvent=function(){return gn},t.prototype.handle=function(t){t.ofMessageType("SchemaThemeSetEvent")&&this.themeRepository.next(t.getAggregateId(),t.getTheme())},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Oe}]},t}();var eg=function(){function t(t){this.horizontalGridRepository=t}return t.prototype.forEvent=function(){return pi},t.prototype.handle=function(t){t.ofMessageType("SchemaHorizontalGridSetEvent")&&this.horizontalGridRepository.next(t.getAggregateId(),t.getHorizontalGrid())},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:He}]},t}();var ng=function(){function t(t){this.schemaRowColoringRepository=t}return t.prototype.forEvent=function(){return di},t.prototype.handle=function(t){t.ofMessageType("RowColoringSetEvent")&&this.schemaRowColoringRepository.next(t.getAggregateId(),t.getRowColoring())},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Ve}]},t}();var ig=function(){function t(t){this.schemaVerticalGridRepository=t}return t.prototype.forEvent=function(){return gi},t.prototype.handle=function(t){t.ofMessageType("SchemaVerticalGridSetEvent")&&this.schemaVerticalGridRepository.next(t.getAggregateId(),t.getVerticalGrid())},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:je}]},t}();var rg="SchemaAggregate",og=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,r.HermesModule.defineAggregate(rg,Lp,Xp,Wp,f(r.HermesModule.registerCommandHandler(Gp,rg),r.HermesModule.registerCommandHandler(Zp,rg),r.HermesModule.registerCommandHandler(Yp,rg),r.HermesModule.registerCommandHandler(Jp,rg)),f(r.HermesModule.registerDomainEventHandler(tg),r.HermesModule.registerDomainEventHandler(eg),r.HermesModule.registerDomainEventHandler(ng),r.HermesModule.registerDomainEventHandler(ig),r.HermesModule.registerMultiDomainEventHandler($p)))],declarations:[],providers:[Qe,{provide:qp,useClass:Xp},Kp,Qp,Ze,Be,hi,Ne,Oe,He,Ve,je]}]}],t}(),ag=function(t){function n(e){var n=t.call(this)||this;return n.sourceCommandService=e,n}return l(n,t),n.prototype.ngOnChanges=function(t){null!==t.entity&&void 0!==t.entity&&this.initEditContext(),null!==t.cell&&void 0!==t.cell&&this.initEditContext()},n.prototype.ngOnInit=function(){this.initEditContext()},n.prototype.submitChanges=function(){var t=this.entity.getId(),e=this.actualValue,n=this.cell.columnFieldId;this.sourceCommandService.editItem(new pe(t,n,e))},n.prototype.initEditContext=function(){var t=this;this.valueChanges$=new Eu,this.status$=new Eu,this.editContext={status:this.status$,valueChanges:this.valueChanges$,value:this.cell.getValue(this.entity).value,focus:!1,parent:this.cellContainerRef},this.observeValueChanges(),this.status$.on().pipe(this.takeUntil()).subscribe((function(e){switch(e){case Iu.SUBMIT:t.submitChanges()}}))},n.prototype.observeValueChanges=function(){var t=this;this.valueChanges$.on().pipe(this.takeUntil()).subscribe((function(e){t.actualValue=e}))},n.decorators=[{type:e.Component,args:[{selector:"gui-structure-cell-edit-boolean[entity][cell]",template:'\n\n\t\t<span #cellContainer>\n\t\t\t<ng-container\n\t\t\t\t\t*ngTemplateOutlet="cell.editTemplate;\n\t\t\t\t\t\t\t\t\tcontext: editContext">\n\t\t\t</ng-container>\n\t\t</span>\n\n\t'}]}],n.ctorParameters=function(){return[{type:fe}]},n.propDecorators={cellContainerRef:[{type:e.ViewChild,args:["cellContainer",{static:!0}]}],entity:[{type:e.Input}],cell:[{type:e.Input}]},n}(Hn);var ug=function(t){function n(e,n){var i=t.call(this)||this;return i.structureTitlePanelConfigArchive=e,i.sanitizer=n,i.structureTitlePanelConfigArchive.onValue().pipe(i.takeUntil()).subscribe((function(t){i.title=t.template,"function"==typeof i.title&&(i.title=i.title("Title panel")),i.safeHTML=i.sanitizer.bypassSecurityTrustHtml(i.title)})),i}return l(n,t),n.decorators=[{type:e.Component,args:[{selector:"gui-structure-title-panel",template:'\n\t\t<div [innerHTML]="safeHTML" class="gui-title-panel"></div>\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:Vi},{type:u.DomSanitizer}]},n}(vt);var sg=function(t){function n(e,n){var i=t.call(this)||this;return i.structureFooterPanelConfigArchive=e,i.sanitizer=n,i.structureFooterPanelConfigArchive.onValue().pipe(i.takeUntil()).subscribe((function(t){i.footerTitle=t.template,"function"==typeof i.footerTitle&&(i.footerTitle=i.footerTitle("Title panel")),i.safeHTML=i.sanitizer.bypassSecurityTrustHtml(i.footerTitle)})),i}return l(n,t),n.decorators=[{type:e.Component,args:[{selector:"gui-structure-footer-panel",template:'\n\t\t<div [innerHTML]="safeHTML" class="gui-footer-panel"></div>\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:ji},{type:u.DomSanitizer}]},n}(vt);var cg=function(){function t(t){this.schemaCommandDispatcher=t}return t.prototype.ngOnChanges=function(t){void 0!==t.theme2&&void 0!==t.theme2.currentValue&&this.schemaCommandDispatcher.setTheme(this.theme2)},t.decorators=[{type:e.Directive,args:[{selector:"gui-structure[theme2]"}]}],t.ctorParameters=function(){return[{type:Ze}]},t.propDecorators={theme2:[{type:e.Input}]},t}();var lg=function(t){function e(e,n,i,r){var o=t.call(this,e,"ToggleFilterCommand")||this;return o.fieldId=n,o.externalFilterId=i,o.filterValue=r,o}return l(e,t),e.prototype.getFieldId=function(){return this.fieldId},e.prototype.getExternalFilterId=function(){return this.externalFilterId},e.prototype.getFilterValue=function(){return this.filterValue},e}(r.Command);var pg=function(){function t(t,e){this.structureAggregateRepository=t,this.domainEventPublisher=e}return t.prototype.forCommand=function(){return lg},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publish(new Oc(e.getAggregateId()))},t.prototype.handleAggregate=function(t,e){var n=e.getFieldId(),i=e.getExternalFilterId(),r=e.getFilterValue();t.toggleFilter(n,i,r)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Ai},{type:r.DomainEventPublisher}]},t}();var gg=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return Lt},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publishFromAggregate(t)},t.prototype.handleAggregate=function(t,e){var n=e.getFieldId(),i=e.getFilterTypeId(),r=e.getValue();t.addFilter(n,i,r)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var dg=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return zt},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publishFromAggregate(t)},t.prototype.handleAggregate=function(t,e){t.removeAllFilters()},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var hg=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return Wt},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publishFromAggregate(t)},t.prototype.handleAggregate=function(t,e){var n=e.getFilterId();t.removeFilter(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var mg=function(t){function e(e,n){var i=t.call(this,e,"ConfigFilterSetEvent")||this;return i.enabled=n,i}return l(e,t),e.prototype.getEnabled=function(){return this.enabled},e}(r.DomainEvent);var fg=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return Ut},t.prototype.publishDomainEvents=function(t,e){var n=e.getConfig();this.domainEventPublisher.publish(new mg(e.getAggregateId(),n.enabled))},t.prototype.handleAggregate=function(t,e){var n=e.getConfig();t.setFilterConfig(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var yg=function(t){function e(e,n){var i=t.call(this,e,"ConfigQuickFilterSetEvent")||this;return i.enabled=n,i}return l(e,t),e.prototype.getEnabled=function(){return this.enabled},e}(r.DomainEvent);var vg=function(){function t(t,e){this.structureAggregateRepository=t,this.domainEventPublisher=e}return t.prototype.forCommand=function(){return ne},t.prototype.publishDomainEvents=function(t,e){var n=e.getAggregateId(),i=e.getConfig();this.domainEventPublisher.publish(new yg(n,i.enabled))},t.prototype.handleAggregate=function(t,e){var n=e.getConfig();t.setQuickFiltersConfig(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Ai},{type:r.DomainEventPublisher}]},t}();var bg=function(){function t(t){this.structureQuickFilterRepository=t}return t.prototype.forEvent=function(){return yg},t.prototype.handle=function(t){t.ofMessageType("ConfigQuickFilterSetEvent")&&this.structureQuickFilterRepository.setEnabled(t.getEnabled(),t.getAggregateId())},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Fa}]},t}();var Cg=function(){function t(t){this.structureFilterRepository=t}return t.prototype.forEvent=function(){return mg},t.prototype.handle=function(t){t.ofMessageType("ConfigFilterSetEvent")&&this.structureFilterRepository.setEnabled(t.getEnabled(),t.getAggregateId())},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Ta}]},t}();var Eg=function(){function t(t){this.map=t}return t.prototype.getFilterTypes=function(t){return this.map.get(t.toString())},t}();var Ig=function(){function t(t){this.filterTypeRepository=t}return t.prototype.forEvent=function(){return Ul},t.prototype.handle=function(t){if(t.ofMessageType("FilterTypesInitedEvent")){var e=t.getMap();this.filterTypeRepository.next(t.getAggregateId(),new Eg(e))}},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:ka}]},t}();var Sg=function(){function t(t){this.activeFilterRepository=t}return t.prototype.forEvent=function(){return Hc},t.prototype.handle=function(t){if(t.ofMessageType("ActiveFiltersSetEvent")){var e=t.getFilters();this.activeFilterRepository.next(t.getAggregateId(),e)}},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Oa}]},t}();var wg=function(){function t(t){this.map=new Map,this.allSelected=new Map,this.allDisabled=new Map,this.map=t,this.calculateSelection()}return t.prototype.getValues=function(t){return this.map.get(t.toString())},t.prototype.areAllSelected=function(t){return this.allSelected.get(t.toString())},t.prototype.areAllDisabled=function(t){return this.allDisabled.get(t.toString())},t.prototype.isSelectAllChecked=function(t){return this.areAllSelected(t)},t.prototype.isIndeterminate=function(t){return!(this.areAllSelected(t)||this.areAllDisabled(t))},t.prototype.calculateSelection=function(){var t,e;try{for(var n=h(Array.from(this.map.keys())),i=n.next();!i.done;i=n.next()){var r=i.value,o=this.map.get(r);this.allSelected.set(r,!o.some((function(t){return!t.isEnabled()}))),this.allDisabled.set(r,!o.some((function(t){return t.isEnabled()})))}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t}();var Ag=function(){function t(t,e,n){this.id=t,this.value=e,this.enabled=n}return t.prototype.getId=function(){return this.id},t.prototype.getValue=function(){return this.value},t.prototype.geDisplayValue=function(){return this.displayValue},t.prototype.isEnabled=function(){return this.enabled},t}();var Dg=function(){function t(t){this.uniqueValuesRepository=t}return t.prototype.forEvent=function(){return ql},t.prototype.handle=function(t){if(t.ofMessageType("UniqueFilterCalculatedEvent")){var e=new Map;t.getUniqueValues().forEach((function(t,n){var i=t.map((function(t){return new Ag(t.getId(),t.getDisplayValue(),t.isEnabled())}));e.set(n,i)}));var n=new wg(e);this.uniqueValuesRepository.next(t.getAggregateId(),n)}},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Na}]},t}();var Rg=function(){function t(){}return t.prototype.forEvent=function(){return Bn},t.prototype.handle=function(t){},t.decorators=[{type:e.Injectable}],t}(),Mg=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return qt},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publishFromAggregate(t)},t.prototype.handleAggregate=function(t,e){var n=e.getFieldId();t.unselectAllUniqueFilter(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var xg=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return Kt},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publishFromAggregate(t)},t.prototype.handleAggregate=function(t,e){var n=e.getFieldId(),i=e.getUniqueValueId();t.unselectUniqueFilter(n,i)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var Pg=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return Gt},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publishFromAggregate(t)},t.prototype.handleAggregate=function(t,e){var n=e.getFieldId();t.selectAllUniqueFilter(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var Tg=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return Qt},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publishFromAggregate(t)},t.prototype.handleAggregate=function(t,e){var n=e.getFieldId(),i=e.getUniqueValueId();t.selectUniqueFilter(n,i)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var Fg=function(t){function i(){return t.call(this)||this}return l(i,t),i.commandHandlers=function(){return f(r.HermesModule.registerCommandHandler(fg,"StructureAggregate"),r.HermesModule.registerCommandHandler(vg,"StructureAggregate"),r.HermesModule.registerCommandHandler(pg,"StructureAggregate"),r.HermesModule.registerCommandHandler(gg,"StructureAggregate"),r.HermesModule.registerCommandHandler(dg,"StructureAggregate"),r.HermesModule.registerCommandHandler(hg,"StructureAggregate"),r.HermesModule.registerCommandHandler(Tg,"StructureAggregate"),r.HermesModule.registerCommandHandler(Pg,"StructureAggregate"),r.HermesModule.registerCommandHandler(xg,"StructureAggregate"),r.HermesModule.registerCommandHandler(Mg,"StructureAggregate"))},i.domainEventHandlers=function(){return f(r.HermesModule.registerDomainEventHandler(bg),r.HermesModule.registerDomainEventHandler(Cg),r.HermesModule.registerDomainEventHandler(Ig),r.HermesModule.registerDomainEventHandler(Sg),r.HermesModule.registerDomainEventHandler(Dg),r.HermesModule.registerDomainEventHandler(Rg))},i.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],providers:[xl],declarations:[],exports:[]}]}],i.ctorParameters=function(){return[]},i}(r.DomainModule),kg=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return l(i,t),i.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,Fg],providers:[Xt,Ha,ka,Oa,Na,Ta,Fa],declarations:[],exports:[]}]}],i}(r.ApiModule),Og=function(t){function n(e,n,i,r,o){var a=t.call(this)||this;return a.changeDetectorRef=e,a.structureId=n,a.rowSelectionModeRepository=i,a.formationCommandDispatcher=r,a.formationWarehouse=o,a.modeMulti=!1,a}return l(n,t),n.prototype.ngOnInit=function(){var t=this;this.formationWarehouse.onMode(this.structureId).pipe(this.takeUntil()).subscribe((function(e){t.modeMulti=e===Gn.MULTIPLE,t.changeDetectorRef.detectChanges()})),this.formationWarehouse.onRowSelectedReadModel(this.structureId).pipe(this.takeUntil()).subscribe((function(e){t.selectAllChecked=e.isAllSelected(),t.selectAllIndeterminate=e.isIndeterminate(),t.changeDetectorRef.detectChanges()}))},n.prototype.toggleSelectAll=function(){this.selectAllIndeterminate||this.selectAllChecked?this.formationCommandDispatcher.unselectAll(this.structureId):this.formationCommandDispatcher.selectAll(this.structureId)},n.decorators=[{type:e.Component,args:[{selector:"gui-select-all",template:'\n\n\t\t<gui-checkbox *ngIf="modeMulti"\n\t\t\t\t\t  [checked]="selectAllChecked"\n\t\t\t\t\t  [indeterminate]="selectAllIndeterminate"\n\t\t\t\t\t  [gui-tooltip]="\'Select\'"\n\t\t\t\t\t  (changed)="toggleSelectAll()">\n\t\t</gui-checkbox>\n\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:F},{type:kt},{type:xt},{type:jt}]},n}(Hn);function Ng(){return(new U.DefaultBuilder).build()}var Hg=f([n.CommonModule,s.ReactiveFormsModule,r.HermesModule,r.HermesModule.defineAggregate("StructureAggregate",cp,Fc,Up,f(Ti.commandHandlers(),$i.commandHandlers(),zr.commandHandlers(),fr.commandHandlers(),Fg.commandHandlers(),Co.commandHandlers(),bp),f(Cp,fr.domainEventHandlers(),Fg.domainEventHandlers(),Co.domainEventHandlers()))],Ka,[Hi,er,Gr,Ir,br,kg,Eo,vu,Bp,Dp,Vp,su,du,Xo,fc,og,Sp]),Vg=[Ro,Ec,bc,Cc,Ic,Og,Sc,wc,Ac,zp,ag,Rc,Mc,Pc,vi,ug,sg,cg],jg=[yc,vi],Bg=f([{provide:xc,useValue:"structure"},{provide:U,useFactory:Ng},wp,_a,Vt,k],Ep),Ug=f([i.FabricModule,Ro,cg,Ec,Sc,wc,Rc],Ka,[Hi]),zg=function(){function t(t){this.platformId=t,n.isPlatformBrowser(this.platformId)&&(window.hermesApi.loggers=!1)}return t.withConfig=function(e){return void 0===e&&(e={cssClassName:"",hermesModuleConfig:{loggers:!1}}),{ngModule:t,providers:f([{provide:xc,useValue:e.cssClassName},{provide:r.COMMAND_LOGGER_ENABLED,useValue:e.hermesModuleConfig.loggers},{provide:r.EVENT_LOGGER_ENABLED,useValue:e.hermesModuleConfig.loggers}],Bg)}},t.exportDeclarations=f(Ug),t.decorators=[{type:e.NgModule,args:[{imports:Hg,declarations:Vg,exports:Ug,entryComponents:jg}]}],t.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[e.PLATFORM_ID]}]}]},t}();var Lg=[n.CommonModule,Qa,zg.withConfig({cssClassName:"list",hermesModuleConfig:{loggers:!0}})],Wg=[x,y,C],Gg=[],qg=[x,y,C],Qg=[],Kg=(function(){function t(){}t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,Qa,zg.withConfig({cssClassName:"list",hermesModuleConfig:{loggers:!0}})]}]}]}(),function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:Gg}},t.forChild=function(){return{ngModule:t,providers:[]}},t.decorators=[{type:e.NgModule,args:[{imports:Lg,declarations:Wg,exports:qg,entryComponents:Qg}]}],t}());t.GuiListComponent=x,t.GuiListFieldType=S,t.GuiListMode=I,t.GuiListModule=Kg,t.ɵa=Qa,t.ɵb=ba,t.ɵba=lt,t.ɵbb=Ri,t.ɵbc=Ai,t.ɵbd=Mi,t.ɵbe=xi,t.ɵbf=Pi,t.ɵbg=st,t.ɵbh=Et,t.ɵbi=Ct,t.ɵbj=bt,t.ɵbk=Xn,t.ɵbl=en,t.ɵbm=Ei,t.ɵbn=Hn,t.ɵbo=Vt,t.ɵbp=Ht,t.ɵbq=Nt,t.ɵbr=oi,t.ɵbs=ki,t.ɵbt=Ii,t.ɵbu=Ni,t.ɵbv=Oi,t.ɵbw=Si,t.ɵbx=wi,t.ɵby=Ir,t.ɵbz=Cr,t.ɵc=Ca,t.ɵca=Er,t.ɵcb=F,t.ɵcc=yr,t.ɵcd=xe,t.ɵce=Re,t.ɵcf=Me,t.ɵcg=ce,t.ɵch=vr,t.ɵci=hr,t.ɵcj=gr,t.ɵck=bn,t.ɵcl=vn,t.ɵcm=ln,t.ɵcn=$e,t.ɵco=cn,t.ɵcp=rn,t.ɵcq=an,t.ɵcr=br,t.ɵcs=fr,t.ɵct=pr,t.ɵcu=ir,t.ɵcv=sr,t.ɵcw=ur,t.ɵcx=dr,t.ɵcy=mr,t.ɵcz=ui,t.ɵd=aa,t.ɵda=Xo,t.ɵdb=Ko,t.ɵdc=xa,t.ɵdd=Ma,t.ɵde=qa,t.ɵdf=Pa,t.ɵdg=Va,t.ɵdh=de,t.ɵdi=ge,t.ɵdj=Ha,t.ɵdk=Ta,t.ɵdl=Fa,t.ɵdm=ka,t.ɵdn=Na,t.ɵdo=Oa,t.ɵdp=Xt,t.ɵdq=Ie,t.ɵdr=Ee,t.ɵds=ja,t.ɵdt=Kr,t.ɵdv=Ba,t.ɵdw=Ua,t.ɵdx=za,t.ɵdy=La,t.ɵdz=Wa,t.ɵe=pa,t.ɵea=Ga,t.ɵeb=Bo,t.ɵec=zo,t.ɵed=P,t.ɵee=fe,t.ɵef=_t,t.ɵeg=So,t.ɵeh=wo,t.ɵei=Ao,t.ɵej=Do,t.ɵek=Ro,t.ɵel=k,t.ɵem=Fo,t.ɵen=Po,t.ɵeo=Mo,t.ɵep=xo,t.ɵeq=En,t.ɵer=In,t.ɵes=yt,t.ɵet=ct,t.ɵeu=It,t.ɵev=xt,t.ɵew=wt,t.ɵex=Tt,t.ɵey=jt,t.ɵez=Ft,t.ɵf=la,t.ɵfa=kt,t.ɵfb=Bt,t.ɵfc=le,t.ɵfd=ye,t.ɵfe=ve,t.ɵff=Pe,t.ɵfg=Cn,t.ɵfh=ae,t.ɵfi=Qo,t.ɵfj=qo,t.ɵfk=Lo,t.ɵfl=Zo,t.ɵfm=Yo,t.ɵfn=Jo,t.ɵfo=Ra,t.ɵfp=Ia,t.ɵfq=Ea,t.ɵfr=Sa,t.ɵfs=wa,t.ɵft=Aa,t.ɵfu=Lr,t.ɵfv=Da,t.ɵfw=Ng,t.ɵfx=zg,t.ɵfy=cp,t.ɵfz=ao,t.ɵg=ca,t.ɵga=oo,t.ɵgb=_c,t.ɵgc=gl,t.ɵgd="GUI - Summaries Calculators",t.ɵge=$c,t.ɵgf=xl,t.ɵgg=Br,t.ɵgh=jr,t.ɵgi=Vr,t.ɵgj=Hr,t.ɵgk=Fc,t.ɵgl=Tc,t.ɵgm=Up,t.ɵgn=$i,t.ɵgo=Xi,t.ɵgp=Yi,t.ɵgq=_i,t.ɵgr=zr,t.ɵgs=Ur,t.ɵgt=Fg,t.ɵgu=fg,t.ɵgv=vg,t.ɵgw=pg,t.ɵgx=gg,t.ɵgy=dg,t.ɵgz=hg,t.ɵh=sa,t.ɵha=Tg,t.ɵhb=Pg,t.ɵhc=xg,t.ɵhd=Mg,t.ɵhe=bg,t.ɵhf=Cg,t.ɵhg=Ig,t.ɵhh=Sg,t.ɵhi=Dg,t.ɵhj=Rg,t.ɵhk=Co,t.ɵhl=Yr,t.ɵhm=Jr,t.ɵhn=_r,t.ɵho=co,t.ɵhp=ho,t.ɵhq=mo,t.ɵhr=fo,t.ɵhs=bo,t.ɵht=lo,t.ɵhu=uo,t.ɵhv=go,t.ɵhw=vo,t.ɵhx=so,t.ɵhy=bp,t.ɵhz=Cp,t.ɵi=ua,t.ɵia=Ep,t.ɵib=qc,t.ɵic=gp,t.ɵid=Qc,t.ɵie=Xc,t.ɵif=lp,t.ɵig=pp,t.ɵih=fp,t.ɵii=dp,t.ɵij=mp,t.ɵik=ml,t.ɵil=wr,t.ɵim=Ka,t.ɵin=er,t.ɵio=tr,t.ɵip=Gi,t.ɵiq=qi,t.ɵir=Qi,t.ɵis=Gr,t.ɵit=Wr,t.ɵiu=kg,t.ɵiv=Eo,t.ɵiw=Jn,t.ɵix=ni,t.ɵiy=vu,t.ɵiz=Za,t.ɵj=fa,t.ɵja=Xa,t.ɵjb=su,t.ɵjc=iu,t.ɵjd=L,t.ɵje=et,t.ɵjf=_,t.ɵjg=Ja,t.ɵjh=ru,t.ɵji=ou,t.ɵjj=au,t.ɵjk=$a,t.ɵjl=Be,t.ɵjm=Ne,t.ɵjn=Oe,t.ɵjo=He,t.ɵjp=Ve,t.ɵjq=je,t.ɵjr=_a,t.ɵjs=du,t.ɵjt=pu,t.ɵju=Fe,t.ɵjv=Ze,t.ɵjw=Qe,t.ɵjx=tu,t.ɵjy=gu,t.ɵjz=eu,t.ɵk=Ho,t.ɵka=yu,t.ɵkb=fu,t.ɵkc=mu,t.ɵkd=hu,t.ɵke=nu,t.ɵkf=Mn,t.ɵkg=Ya,t.ɵkh=cu,t.ɵki=lu,t.ɵkj=Bi,t.ɵkk=Bp,t.ɵkl=jp,t.ɵkm=fl,t.ɵkn=Pn,t.ɵko=On,t.ɵkp=Tn,t.ɵkq=kn,t.ɵkr=Dp,t.ɵks=Ap,t.ɵkt=Vp,t.ɵku=Np,t.ɵkv=Op,t.ɵkw=yc,t.ɵkx=ri,t.ɵky=Ku,t.ɵkz=Xu,t.ɵl=ha,t.ɵla=Pu,t.ɵlb=Tu,t.ɵlc=Se,t.ɵld=be,t.ɵle=Lu,t.ɵlf=Gu,t.ɵlg=Rp,t.ɵlh=vc,t.ɵli=Mp,t.ɵlj=xp,t.ɵlk=Pp,t.ɵll="gui-structure-column-menu-icon",t.ɵlm=Tp,t.ɵln=Fp,t.ɵlo=kp,t.ɵlp=fc,t.ɵlq=Fs,t.ɵlr=Ts,t.ɵls=Js,t.ɵlt=bs,t.ɵlu=vs,t.ɵlv=Hu,t.ɵlw=Nu,t.ɵlx=Ou,t.ɵly=ku,t.ɵlz=_s,t.ɵm=ma,t.ɵma=tc,t.ɵmb=Rs,t.ɵmc=ec,t.ɵmd=ac,t.ɵme=oc,t.ɵmf=$s,t.ɵmg=rc,t.ɵmh=nc,t.ɵmi=ic,t.ɵmj=gc,t.ɵmk=Ps,t.ɵml=cs,t.ɵmm=ls,t.ɵmn=ps,t.ɵmo=Qr,t.ɵmp=ts,t.ɵmq=$u,t.ɵmr=Ju,t.ɵms=Bu,t.ɵmt=ju,t.ɵmu=Vu,t.ɵmv=zu,t.ɵmw=Uu,t.ɵmx=ss,t.ɵmy=ti,t.ɵmz=Cu,t.ɵn=ya,t.ɵna=Ru,t.ɵnb=Du,t.ɵnc=wu,t.ɵnd=Su,t.ɵne=Au,t.ɵnf=Mu,t.ɵng=uc,t.ɵnh=xu,t.ɵni=Fu,t.ɵnj=sc,t.ɵnk=cc,t.ɵnl=lc,t.ɵnm=og,t.ɵnn=Lp,t.ɵno=Xp,t.ɵnp=qp,t.ɵnq=Kp,t.ɵnr=Qp,t.ɵns=Wp,t.ɵnt=Gp,t.ɵnu=Zp,t.ɵnv=Yp,t.ɵnw=Jp,t.ɵnx=tg,t.ɵny=eg,t.ɵnz=ng,t.ɵo=Wo,t.ɵoa=ig,t.ɵob=$p,t.ɵoc=hi,t.ɵod=Sp,t.ɵoe=Ip,t.ɵof=qn,t.ɵog=Dn,t.ɵoh=wn,t.ɵoi=Ui,t.ɵoj=An,t.ɵok=ai,t.ɵol=Xr,t.ɵom=li,t.ɵon=ci,t.ɵoo=mi,t.ɵop=Vi,t.ɵoq=ji,t.ɵor=se,t.ɵos=Ce,t.ɵot=we,t.ɵou=Ue,t.ɵov=Ye,t.ɵow=Sn,t.ɵox=si,t.ɵoy=Io,t.ɵoz=bi,t.ɵp=vt,t.ɵpa=Nn,t.ɵpb=U,t.ɵpc=V,t.ɵpd=Ec,t.ɵpe=bc,t.ɵpf=Cc,t.ɵpg=Ic,t.ɵph=Og,t.ɵpi=Sc,t.ɵpj=wc,t.ɵpk=Ac,t.ɵpl=zp,t.ɵpm=ag,t.ɵpn=Rc,t.ɵpo=Dc,t.ɵpp=Mc,t.ɵpq=Pc,t.ɵpr=xc,t.ɵps=vi,t.ɵpt=fi,t.ɵpu=yi,t.ɵpv=ug,t.ɵpw=sg,t.ɵpx=cg,t.ɵpy=wp,t.ɵpz=Lc,t.ɵq=va,t.ɵqa=Wc,t.ɵqb=Gc,t.ɵqc=dl,t.ɵqd=hl,t.ɵqe=nl,t.ɵqf=rl,t.ɵqg=al,t.ɵqh=sl,t.ɵqi=ll,t.ɵqj=zc,t.ɵqk=hp,t.ɵql=R,t.ɵqm=y,t.ɵqn=C,t.ɵqo=M,t.ɵr=Go,t.ɵs=jo,t.ɵt=ga,t.ɵu=da,t.ɵv=Hi,t.ɵw=Fi,t.ɵx=Ti,t.ɵy=at,t.ɵz=ft,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=generic-ui-ngx-list.umd.min.js.map